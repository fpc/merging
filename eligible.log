******************************************************************************
commit b78761efd30a814d055d78078c3f9d0422ef6291
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Nov 2 17:08:08 2021 +0200

    * Removed obsolete OLDREGVARS ifdefs.

M	compiler/hlcgobj.pas
M	compiler/i386/n386add.pas
M	compiler/i8086/n8086add.pas
M	compiler/ncgflw.pas
M	compiler/ncgset.pas
M	compiler/powerpc/nppcadd.pas
M	compiler/psub.pas
M	compiler/symdef.pas
M	compiler/wasm32/nwasmset.pas

******************************************************************************
commit d96600a02d1dd4ee53ffe9bd4efc718f906e80d1
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Nov 2 16:55:59 2021 +0200

    * Removed unused and confusing tnode.parent and tnode.concattolist().

M	compiler/node.pas

******************************************************************************
commit d0cc6494280732f5be8ccfaecbafb2b6b7fb0f87
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Nov 2 15:23:08 2021 +0200

    * Write interference graphs to the unit output directory.

M	compiler/rgobj.pas

******************************************************************************
commit e04df465efe7fdbdc8ebe6b812789daa0bea0e25
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Nov 2 13:01:44 2021 +0200

    * The label which is generated by traisenode is not a jump target. Mark
      this label as nf_internal, which means the label does not impact the
      code flow. This leads to a much better register allocation.

M	compiler/ncgflw.pas
M	compiler/nflw.pas

******************************************************************************
commit c4a1cdceaebf8d01151fc20ae3e3a053180db9e7
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Nov 1 12:19:45 2021 +0200

    * Corrected calculation of spilling efficiency.

M	compiler/rgobj.pas

******************************************************************************
commit c9d9d42f0e3cb3d413bb755b7ec11d99e5446ee0
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Oct 27 12:42:01 2021 +0300

    * Better coalescing with real registers. This improves setting of parameters
      in registers.
    * Removed superfluous condition in trgobj.enable_moves().
    * Fixed flags checking in trgobj.adjacent_ok().
    * Added assembler comments about coalescing when DEBUG_SPILLCOALESCE is defined.

M	compiler/rgobj.pas

******************************************************************************
commit 66b7ed45fd0f260e2d9d9c00b844e27b7b8b3191
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Oct 13 15:56:19 2021 +0300

    * Removed unused tlocation.registers[].

M	compiler/cgutils.pas

******************************************************************************
commit dcb1fcd9b81d364660b9ca5906e7b2f5e0fe688f
Author: florian <florian@freepascal.org>
Date:   Mon Nov 1 23:24:13 2021 +0100

      + support $lgeacyifend directive, resolves #37676

M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/scandir.pas
M	compiler/scanner.pas
M	compiler/utils/ppuutils/ppudump.pp
A	tests/tbf/tb0277.pp
A	tests/tbf/tb0278.pp
A	tests/tbf/tb0279.pp
A	tests/tbf/tb0280.pp

******************************************************************************
commit 4b196ece470115f1c04a5628eaf68e55a5700512
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Nov 1 16:09:18 2021 +0000

     Fix freebsd rtl compilation failure after better type check of variant element inside record case clause

M	rtl/freebsd/ptypes.inc

******************************************************************************
commit 40df9554239c1aec7ba8e8ad26e2db8daa3ab864
Author: florian <florian@freepascal.org>
Date:   Mon Nov 1 14:55:41 2021 +0100

      * StrTo* functions are now using the TryStrTo* functions

M	rtl/objpas/sysutils/sysstr.inc

******************************************************************************
commit 89d27751911d6904fbbb10660a0194c43522fc8d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Nov 1 13:56:33 2021 +0100

    optcse: fix wrong typecast

M	compiler/optcse.pas

******************************************************************************
commit 1b8170d18dde78045d7269bfd58fb537b59dcabf
Author: Michael Van Canneyt <michael@freepascal.org>
Date:   Mon Nov 1 11:52:05 2021 +0100

    * More clear comment

M	packages/fcl-passrc/src/pastree.pp

******************************************************************************
commit fcdbb31ec4f057f1eb169a1214f6c50a0ad5a90c
Author: florian <florian@freepascal.org>
Date:   Mon Nov 1 11:46:19 2021 +0100

      * AArch64: TCpuAsmOptimizer.RegLoadedWithNewValue: check if p.ops=0

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 15865e760244be485772a53a6eaa09f80e5ca8ee
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 31 17:49:04 2021 +0100

    Record variant discriminators: check types

M	compiler/pdecvar.pas
A	tests/tbf/tb0276.pp

******************************************************************************
commit 4426d0da7abffba27f125112a1484e3c9449761a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 31 17:43:59 2021 +0100

    Fixed variant discriminator types

M	packages/fcl-res/src/machotypes.pp
M	rtl/inc/sstrings.inc
M	tests/tbs/tb0516.pp

******************************************************************************
commit 4f77cbbac4accf137ac2683b95f5ee9f7c628ce8
Author: florian <florian@freepascal.org>
Date:   Sun Sep 12 19:40:51 2021 +0200

      + keep addresses of thread vars in registers if possible and likely an advantage

M	compiler/optcse.pas

******************************************************************************
commit 5a617cd1082e80008559a012673db2eecb6304bf
Author: florian <florian@freepascal.org>
Date:   Sun Oct 31 17:22:15 2021 +0100

      + fold real constants c1,c2 for v+c1+c2 or c1+(c2+v) (+ being either + or *) as well if fastmath is enabled

M	compiler/nadd.pas

******************************************************************************
commit 284317d877bb10d11ffe8f6f8d3cd34bd51ee837
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Oct 30 01:16:04 2021 +0100

    Fixed OptPass2Lea not honouring symbols

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 42eb06f5c660df09a392d99fb41166ffc614e0bc
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Oct 28 01:15:39 2021 +0100

    Fixed some range check problems

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b58fdc3e584854a4c4fc02bd7fc23f378263d25a
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Oct 26 23:11:21 2021 +0100

    Improved ADD and SUB optimisations for LEA instructions

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit fa4e52857646bf1d45bef26d42e9efe75e84cdfe
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 31 16:21:09 2021 +0100

    fcl-res: Mach-O fat binary support
    
    Only for TMachOResourceReader. We always compile/generate a single architecture
    binary, and then the programmer can combine those with lipo. So the writer does
    not need fat binary support for common usage.
    
    Resolves #39124

M	packages/fcl-res/src/machoconsts.pp
M	packages/fcl-res/src/machodefaulttarget.inc
M	packages/fcl-res/src/machoreader.pp
M	packages/fcl-res/src/machotypes.pp
M	packages/fcl-res/src/machowriter.pp

******************************************************************************
commit ff3acfb8cda7f6a077dfc585cbe9acb0d8e34418
Author: florian <florian@freepascal.org>
Date:   Sun Oct 31 13:20:28 2021 +0100

      * cleanup of 2.7.0 defines

M	compiler/aarch64/cpuinfo.pas
M	compiler/arm/cpuinfo.pas
M	compiler/avr/cpuinfo.pas
M	compiler/compiler.pas
M	compiler/cresstr.pas
M	compiler/generic/cpuinfo.pas
M	compiler/i386/cpuinfo.pas
M	compiler/i8086/cpuinfo.pas
M	compiler/jvm/cpuinfo.pas
M	compiler/m68k/cpuinfo.pas
M	compiler/mips/cpuinfo.pas
M	compiler/nadd.pas
M	compiler/options.pas
M	compiler/powerpc/cpuinfo.pas
M	compiler/powerpc64/cpuinfo.pas
M	compiler/riscv32/cpuinfo.pas
M	compiler/riscv64/cpuinfo.pas
M	compiler/scanner.pas
M	compiler/sparc/cpuinfo.pas
M	compiler/sparc64/cpuinfo.pas
M	compiler/wasm32/cpuinfo.pas
M	compiler/x86_64/cpuinfo.pas
M	compiler/z80/cpuinfo.pas

******************************************************************************
commit e657aa64317a385a5c6fb52bf6c752e883220eb9
Author: florian <florian@freepascal.org>
Date:   Sun Oct 31 11:57:32 2021 +0100

      + write code and data size for Mach-O files if possible

M	compiler/link.pas
M	compiler/systems/t_darwin.pas

******************************************************************************
commit fb7cdbefb3f14cd66a4960bbeded3e6a739a95f5
Author: florian <florian@freepascal.org>
Date:   Sat Oct 30 20:21:47 2021 +0200

      + some opcodes added

M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc

******************************************************************************
commit 1bc8aea2b3baa25b03528ed83e38a75fa8f9d909
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 20:15:44 2021 +0200

    * fcl-base dependency

M	packages/hash/fpmake.pp

******************************************************************************
commit 64fbc1847ff03034bedec336a106ea2fba349742
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 20:09:29 2021 +0200

    * Fix license

M	packages/hash/src/ecc.pp
M	packages/hash/src/hashutils.pp

******************************************************************************
commit 6644d6c4c2baeb1cb5e9f557f434c4c84add4706
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 20:06:40 2021 +0200

    * Fix compilation

M	packages/hash/src/ecc.pp

******************************************************************************
commit 380e861cc8cd4ecfae5b41f7cd25c6dfd88c20cd
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 20:02:59 2021 +0200

    * Needed for hashutils

M	packages/hash/fpmake.pp
A	packages/hash/src/ecc.pp

******************************************************************************
commit 6d4d2f2fb272fcb119f506a5c04ba6de998f0323
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 18:23:59 2021 +0200

    * OneTimePass & test for sha256

M	packages/hash/fpmake.pp
A	packages/hash/src/onetimepass.pp
A	packages/hash/tests/testonetimepass.pp
A	packages/hash/tests/testsha256.pp

******************************************************************************
commit 3229cb712e33374b85258aed43726058be633bed
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 18:21:55 2021 +0200

    * sha256 algorithm

A	packages/hash/examples/demosha256.pp
M	packages/hash/fpmake.pp
A	packages/hash/src/hashutils.pp
A	packages/hash/src/sha256.pp

******************************************************************************
commit b63979a5ba4c72c6d0f990aa7c5800d45f66ee28
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 18:16:11 2021 +0200

    * Added sensible defaults

M	packages/hash/tests/tests.pp

******************************************************************************
commit 8e3158d9652dabaadb0045af88375a1e8213deee
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 18:15:26 2021 +0200

    * Some improvements/fix based on remarks of Alexey Torgashin

M	packages/fcl-base/fpmake.pp
M	packages/fcl-base/src/basenenc.pp

******************************************************************************
commit 446cc62b60fd1238377a385ca8e4d84326ff5651
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 12:59:10 2021 +0200

    * Base16/32/64/64URL encoders/decoders, not stream based

A	packages/fcl-base/examples/demobasenenc.lpr
A	packages/fcl-base/src/basenenc.pp
A	packages/fcl-base/tests/testbasenenc.lpr

******************************************************************************
commit 0f14bd45b15390e9f8687b97dbf953c102fc797d
Author: florian <florian@freepascal.org>
Date:   Fri Oct 29 23:06:26 2021 +0200

      * run fcl-image tests with regression tests

R100	packages/fcl-image/tests/tcbarcodes.pp	packages/fcl-image/tests/tcbarcodes.pas
M	packages/fcl-image/tests/testfpimage.lpi
M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit ef923ba1426d988fcc042b378dc1f36681efb123
Author: florian <florian@freepascal.org>
Date:   Fri Oct 29 22:58:23 2021 +0200

      * consistent naming of directories

R100	packages/fcl-image/test/tcbarcodes.pp	packages/fcl-image/tests/tcbarcodes.pp
R100	packages/fcl-image/test/testfpimage.lpi	packages/fcl-image/tests/testfpimage.lpi
R100	packages/fcl-image/test/testfpimage.lpr	packages/fcl-image/tests/testfpimage.lpr

******************************************************************************
commit 76e6beb9298e48f7dd218101f3538f8fd539c420
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Oct 29 17:16:47 2021 +0200

    * Restore previous default behaviour for OnDirective, put under option

M	packages/fcl-passrc/src/pscanner.pp

******************************************************************************
commit 95ad8f1694dd0efd0774767b0a08b79dd53130d4
Author: florian <florian@freepascal.org>
Date:   Thu Oct 28 21:13:01 2021 +0200

      * correctly read the region label in $region directives, resolves #39395

M	compiler/scandir.pas
A	tests/webtbs/tw39395.pp

******************************************************************************
commit 8ca19a3b65283b34bb77fafe0f4ccf4614ba6c48
Author: florian <florian@freepascal.org>
Date:   Wed Oct 27 21:19:34 2021 +0200

      * patch by Frank Rademakers: Initialize new FoxPro Float fields correctly, resolves #39418

M	packages/fcl-db/src/dbase/dbf_dbffile.pas

******************************************************************************
commit 4b157a14988b5f0637e61b5555ca6e420e896b99
Author: florian <florian@freepascal.org>
Date:   Tue Oct 26 21:34:22 2021 +0200

      + print full file path if -vb is passed even if no line number is known, resolves #39419

M	compiler/comphook.pas

******************************************************************************
commit 5c7974fceb768f96853b4abc05cb122ac8ccfd0c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Oct 25 21:41:27 2021 +0200

    pastojs: fixed class property getter static

M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit baa28faa19315d698eb174a95acb41d688fd0d79
Author: florian <florian@freepascal.org>
Date:   Mon Oct 25 21:39:24 2021 +0200

      * pic'fied startup code

M	rtl/linux/x86_64/si_c.inc
M	rtl/linux/x86_64/si_g.inc

******************************************************************************
commit 10fcae34a957e94837fe376fa828815ab99d80a3
Author: florian <florian@freepascal.org>
Date:   Sun Oct 24 18:22:05 2021 +0200

      * improved TX86AsmOptimizer.OptPass1MOVXX

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4610980f2e9ac4269074d2d0613290ab78c50bbd
Author: florian <florian@freepascal.org>
Date:   Sat Oct 23 23:40:09 2021 +0200

      * TX86AsmOptimizer.OptPass1MOVXX takes care of volatility

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7f1050464a60977ad6261a108e4e839bea8fa8a3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 23 11:56:25 2021 +0300

    + added 'else' tracking for the if..end_if blocks

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 7bef4d827d905fc57ed773c2aa70f157a573e225
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 23 11:25:44 2021 +0300

    * keep track of the block stack, when resolving labels and check whether the
      blocks match (i.e. block..end_block, if..end_if, loop..end_loop, try..end_try)

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 342803532de444c5c0710e625bcc2b884193fc51
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Oct 22 12:33:16 2021 +0100

    Bug fix to MovMov2Mov 6 optimisation exposed by 4012c3dbd47f661805bb7a831c6c687807ede3b4 (and miscellaneous code refactors)

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7997f884b70454fcb9067aec884b947b1d6e7759
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Oct 22 23:04:02 2021 +0200

    pastojs: library: forbid unit exports

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit d0fdda6da718e26af14c17fc9d7d0fd3d5bd9fab
Author: florian <florian@freepascal.org>
Date:   Fri Oct 22 22:39:23 2021 +0200

      + TDFABuilder.redodfainfo

M	compiler/optdfa.pas
M	compiler/psub.pas

******************************************************************************
commit 12a2c56461dd689b24756292d4f069e8e24690d8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 22 17:42:29 2021 +0300

    - removed thlcgwasm.incblock, .decblock and br_blocks, as branching is now done
      entirely with labels

M	compiler/ncgset.pas
M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmadd.pas
M	compiler/wasm32/nwasmbas.pas
M	compiler/wasm32/nwasmcnv.pas
M	compiler/wasm32/nwasmflw.pas
M	compiler/wasm32/nwasminl.pas
M	compiler/wasm32/nwasmset.pas

******************************************************************************
commit 3094f756903a6c06ff7786a1fa972ff6a61de457
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 22 17:31:04 2021 +0300

    * WebAssembly code generation for 'case' nodes changed to use labels

M	compiler/nset.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmset.pas

******************************************************************************
commit 6fe647ee3dd194e7ccbf230782da0c42134245be
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 22 10:32:47 2021 +0300

    * moved the default procedure CurrRaiseLabel to the end of the procedure, not
      at the exit label. This fixes problems when using units with finalization
      code that contain classes with class destructors in branchful WebAssembly
      exceptions mode.

M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 470e77a5725fdb0eeffa9475a14937779dce364c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 21 22:48:33 2021 +0300

    + added sanity check when resolving labels to ensure we don't get any jumps with
      negative nesting depth

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 5a0956d8050eb4f3f54ba0d8b9fad41fea3a09c3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 16:20:08 2021 +0300

    * use WebAssembly asm labels for the raise branch instruction in branchful
      exceptions mode

M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 1b6219823b8403beea600fcdcba775312aacef67
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Oct 22 11:01:14 2021 +0200

    * Add test for case of pointer and size

M	packages/vcl-compat/tests/tcnetencoding.pp

******************************************************************************
commit ac9973490ec043d87d327d931b0feeb7ab0a0ed2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Oct 22 10:36:53 2021 +0200

    * Fix missing assign of result. Issue ID #39415

M	packages/vcl-compat/src/system.netencoding.pp

******************************************************************************
commit d2a091ef8522bc99a779f3de26e2c6f1e2065061
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Oct 21 22:57:42 2021 +0200

    pastojs: library: export var

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit f4580ff612b2e24eccac30c99a709019ef4dd457
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Oct 21 22:09:05 2021 +0200

     Fix compilation of nds and wii OS rtl

M	rtl/nds/system.pp
M	rtl/wii/system.pp

******************************************************************************
commit 429438fbb9ed8127d3129ad0bfdec8081afbd05d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Oct 21 20:02:22 2021 +0200

    pastojs: fixed clear com interface reference in class field on destroy

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 36ff644401dfcfac0e9263e4a2afb2ebef882efd
Author: marcoonthegit <marcov@pascalprogramming.org>
Date:   Thu Oct 21 16:53:44 2021 +0200

    * fix for 39413
    
     Update DwmApi to support new DWM windows attributes like Windows 8 cloaking, Windows 10 dark mode and new Windows 11 rounded corners
    
    patch by Taufik Rahmad Hidayanto

M	packages/winunits-base/src/dwmapi.pp

******************************************************************************
commit 2ee6a81cffbb95c32c08e5b8474bb05d6658d69a
Author: florian <florian@freepascal.org>
Date:   Wed Oct 20 22:33:53 2021 +0200

      * extended test to cover last commit

M	tests/test/units/system/tparam.pp

******************************************************************************
commit 7baf2461f06eb90429c07950459801e93d286b05
Author: florian <florian@freepascal.org>
Date:   Wed Oct 20 20:03:02 2021 +0200

      * check paramstr argument for negative values, resolves #39410

M	rtl/aix/system.pp
M	rtl/beos/system.pp
M	rtl/bsd/system.pp
M	rtl/haiku/system.pp
M	rtl/linux/system.pp
M	rtl/nds/system.pp
M	rtl/solaris/system.pp
M	rtl/wii/system.pp

******************************************************************************
commit 3eefff75dfcd1b9429b4efaf2902b9cbda3db38b
Author: florian <florian@freepascal.org>
Date:   Wed Oct 20 20:02:45 2021 +0200

      * pass a randseed which is known to be problematic

M	tests/webtbs/tw14315.pp

******************************************************************************
commit 4c544d7858f5e74727a4ff57dae7e5426ac73ce6
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 16:59:41 2021 +0200

    pastojs: library: export unitname.name as alias

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 203b5e636fc2da4d2c71d9688add1f07f7835b00
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 16:59:27 2021 +0200

    fcl-passrc: test export unitname.name

M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit afa1a549acfdfed6768edaa710258230b70e497c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 15:00:38 2021 +0200

    fcl-js: fixed TJSWriter.WriteExportStatement spacing

M	packages/fcl-js/src/jswriter.pp

******************************************************************************
commit a4a469ae3786be89f66b7ea635fbc6f3d398ced5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 14:56:05 2021 +0200

    pastojs: library: export name

M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 4546673a33b7f31056a5cde492b080b8dd56435e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 14:55:39 2021 +0200

    fcl-js: comments

M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp

******************************************************************************
commit e018264ad93c77e2855f144d004c26873d2f772f
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Oct 20 14:37:16 2021 +0200

    internalerror if the section we're about to keep has no exesection assigned

M	compiler/ogbase.pas

******************************************************************************
commit 4e3a6aa5a812fbd1aee6394f98cc4c2425032735
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 14:29:08 2021 +0300

    * match the label to the wider block, if it is adjacent to both the brevious
      and the next instruction

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit c96e20378024002d340434835ac2cf912c8ebe90
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 13:21:19 2021 +0300

    * moved the 'end_block' WebAssembly instruction before the 'exit' label right
      before the procedure finalization code. This fixes compilation errors in
      procedures with implicit finalization code (e.g. for ansistring local vars,
      etc).

M	compiler/psub.pas
M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 03513720a3bab8b168cbb9707417c915d9654608
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 11:58:50 2021 +0300

    * fixed range check error in the DOS unit

M	rtl/wasi/dos.pp

******************************************************************************
commit bb3095866549b503f6419b773fa2e65c0b88f320
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 11:09:08 2021 +0300

    + wrap block nodes with exit in a_block..a_end_block instructions. This fixes
      'exit' in inlined procedures on the WebAssembly target.

M	compiler/wasm32/cpunode.pas
A	compiler/wasm32/nwasmbas.pas

******************************************************************************
commit 703ae75ba6a9d8d1c39e81e319e72a4fd19ef702
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 10:51:15 2021 +0300

    * if a label cannot be associated with the previous block instruction, try
      matching it with the next instruction

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 9f077d4ac04479b4bc3e46a3eb8465d1916df5df
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 10:40:21 2021 +0300

    * leave unresolved branches in the asm output, when the compiler is compiled with -dEXTDEBUG

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 1ce2fb8a4acaeee52446e881f0da0d0540097b2f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 10:30:56 2021 +0300

    * use WebAssembly asm labels for generating code for the 'exit' statement

M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 2fa60d1af3e3af9a2c39fd1dc6a0360310967900
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 11:53:40 2021 +0200

    fcl-pasrc: error if exports section inside inside procedure

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit 0aecf4d89f40156e602576f251d2ec7b3a442a73
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 11:32:54 2021 +0200

    pastojs: library: create and call main

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas
M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 20ae686e31f47256d657a3bb2b79751a98deb38a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 10:58:56 2021 +0200

    pastojs: test unit linklib

M	packages/pastojs/tests/tcunitsearch.pas

******************************************************************************
commit 3ceddfb2d682a6440d36ee15fc4d2ebdd599cf46
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 10:37:18 2021 +0200

    pastojs: added test linklib

M	packages/pastojs/tests/tcmodules.pas
M	packages/pastojs/tests/tcunitsearch.pas

******************************************************************************
commit 1e80ae406d66ba18ff5271d413c72f48f0f698ea
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 10:36:53 2021 +0200

    pastojs: comments

M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit b876a02daf2e8ea67b4b6a3aad8a3a96a6445e0d
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Oct 20 09:53:09 2021 +0200

    * the libc unit might be deprecated, but it's no reason for wrong declarations, in this case values that should be declared as octal but were declared as decimal with the same literal text

M	packages/libc/src/bshmh.inc

******************************************************************************
commit dc9090e67f48c7e23f7701e46427169be78d03e3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 10:23:02 2021 +0300

    * fixed some more warnings

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit b3a9c36cbb77bcd8079505ee9f16b68a09307ed5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 10:03:14 2021 +0300

    * fixed some warnings

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 0662a0bd44c557d338e577cc29065db54b57f202
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 09:59:54 2021 +0300

    + use WebAssembly asm labels for the code generation of 'break' statements as well

M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 01dc62b1275ca935ab65e856495faf3300f6dc62
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 09:39:44 2021 +0300

    + introduced the use of asm labels for WebAssembly. Resolve them in
      tcpuprocinfo.postprocess_code. Use them when generating code for the
      'continue' label jumps.

M	compiler/aasmbase.pas
M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit e1698a59691361696e8ba2db1914f70b9d195762
Author: florian <florian@freepascal.org>
Date:   Tue Oct 19 21:32:40 2021 +0200

      * when compiling with the main branch compiler, p2align with 3 parameters can be used now

M	rtl/x86_64/x86_64.inc

******************************************************************************
commit 6921b968f1cdba59d2403a81c2950336ec2839af
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 17:31:02 2021 +0300

    - removed TWasiSearchRec.Mode, because it was unused

M	rtl/wasi/dos.pp
M	rtl/wasi/wasiutil.pp

******************************************************************************
commit 8c39213d39eca0bfe89168734159f86bebbcbb4a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 16:24:43 2021 +0300

    + implemented DOS.FSearch for WASI

M	rtl/wasi/dos.pp

******************************************************************************
commit 8e730d20db57219db3aa63bb97301a0a1591d1f1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 15:39:59 2021 +0300

    + implemented FindFirst, FindNext and FindClose in SysUtils for the WASI platform

M	rtl/objpas/sysutils/filutilh.inc
M	rtl/wasi/sysutils.pp

******************************************************************************
commit 090cc8fa8f7e60f2bb0fa6fa6d21d17509f39564
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 13:39:20 2021 +0300

    * moved the FindFirst/FindNext/FindClose code from unit DOS to WasiUtil, using
      RawByteString. This will allow to reuse the same implementation in SysUtils.

M	rtl/wasi/dos.pp
M	rtl/wasi/wasiutil.pp

******************************************************************************
commit 0ead28c1e05b6eaaf53455be86d8cb3dfc97c669
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 12:01:14 2021 +0300

    - removed the RtlInfoType record, because it is only used only once in a local
      variable. Use an anonymous record instead.

M	rtl/wasi/dos.pp

******************************************************************************
commit 6cd88575c63e91afaf914f9ff9a1c67e60c4408a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 11:51:25 2021 +0300

    - removed unused, commented out fields from the RtlInfoType record

M	rtl/wasi/dos.pp

******************************************************************************
commit 78c4585b535666f6c2f99af64dcae76c5bbc1f30
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 11:36:01 2021 +0300

    * the FNMatch private helper function moved from unit DOS to unit WasiUtil, and
      changed to have rawbytestring parameters, so it can be used from SysUtils as
      well.

M	rtl/wasi/dos.pp
M	rtl/wasi/wasiutil.pp

******************************************************************************
commit de3ab7e46b6c7f50723da61aa992b04145cb2472
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 09:39:25 2021 +0300

    * added the fpc_wasi_path_readlink_ansistring helper function to unit wasiutil

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
M	rtl/wasi/sysutils.pp
M	rtl/wasi/wasiutil.pp

******************************************************************************
commit b2a0df0d10aa701c4e21d215c42fb78cfdf96f62
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 09:06:56 2021 +0300

    * ConvertToFdRelativePath removed from the interface part of the WASI system
      unit (to avoid cluttering the WASI system unit interface with platform
      dependent routines) and added to a new unit, called wasiutil

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
M	rtl/wasi/dos.pp
M	rtl/wasi/system.pp
M	rtl/wasi/sysutils.pp
A	rtl/wasi/wasiutil.pp

******************************************************************************
commit c6168327925ff1bc96f06fe9df952b147bf2b8de
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Oct 18 22:41:38 2021 +0000

     Disable utils packages for wasi OS if required package is not supported or if labels are used (which is not supported for wasm32 target CPU)

M	utils/fpcres/fpmake.pp
M	utils/fpcreslipo/fpmake.pp
M	utils/fpdoc/fpmake.pp
M	utils/fppkg/fpmake.pp
M	utils/h2pas/fpmake.pp
M	utils/json2pas/fpmake.pp
M	utils/pas2fpm/fpmake.pp
M	utils/pas2jni/fpmake.pp
M	utils/pas2ut/fpmake.pp
M	utils/tply/fpmake.pp

******************************************************************************
commit d4e610dbc3a75859ce53654f88ea97e4e3fdb8b9
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Oct 18 22:03:42 2021 +0000

     Disable utils/fpcmkcfg package for wasi OS as it requires packages/fpmkunit package

M	utils/fpcmkcfg/fpmake.pp

******************************************************************************
commit 7e73e0dd2314527e9b9a79e51fdd5727e6efdad8
Author: florian <florian@freepascal.org>
Date:   Mon Oct 18 22:08:06 2021 +0200

      + support reading of .p2align with op code and/or max. bytes in the gas assembler reader
      + test

M	compiler/aasmtai.pas
M	compiler/raatt.pas
A	tests/test/tp2align.pp

******************************************************************************
commit b8102dcdc0e24bd7f7488ad731e330828ce32939
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Oct 18 21:34:05 2021 +0200

    fcl-js: fixed stackoverflow when freeing long binary list

M	packages/fcl-js/src/jstree.pp

******************************************************************************
commit 6cfee2f5d5cb602c9a3a199d943fac48be683629
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Oct 18 21:33:31 2021 +0200

    fcl-passrc: updated lpi

M	packages/fcl-passrc/tests/testpassrc.lpr

******************************************************************************
commit bdc826cc18a03a833735853c0c91268c992e8592
Author: florian <florian@freepascal.org>
Date:   Sun Oct 17 22:44:52 2021 +0200

      * x86-64: do not jump in inc/declocked to return but return directly

M	rtl/x86_64/x86_64.inc

******************************************************************************
commit 08050086b950a6bdb5a04f6054d58a497f45d7a4
Author: florian <florian@freepascal.org>
Date:   Sun Oct 17 21:57:39 2021 +0200

      * keep type when removing "1*", resolves #38840

M	compiler/nadd.pas
A	tests/webtbs/tw38840.pp

******************************************************************************
commit e97e27b8d5524a0408b7789e51e219a1bfed2c06
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Oct 17 17:58:11 2021 +0200

    * Raise exception for fileseek positions that do not fit in longing. Issue #39407

M	rtl/objpas/sysconst.pp
M	rtl/unix/sysutils.pp

******************************************************************************
commit 1e74c418aed097b4f47c84f68b7e7207d56eaba4
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Oct 17 12:44:44 2021 +0200

    * Fix integer overflow not being detected. Issue #39406

M	rtl/objpas/sysutils/sysstr.inc

******************************************************************************
commit ee10850a5793b69b19dc82b9c28342bdd0018f2e
Author: florian <florian@freepascal.org>
Date:   Sun Oct 17 11:13:29 2021 +0200

      * patch by Sergey Larin: Reducing and aligning the size of TAnsiRec, TUnicodeRec for CPU64, resolves #38018:
        For CPU64, the size of record TAnsiRec and TUnicodeRec is 16 bytes instead of 24.
        Which is very good also because of the alignment. when allocating memory, the address
        of the first character of the string will be aligned on the 16-byte boundary.
        At the same time, the useless Dummy field, which is needed in CPU64 for exactly alignment, has been removed.
        For CPU32 (and CPU16), the record size has not changed, so procedures such as
        fpc_AnsiStr_Decr_Ref, implemented in assembler (see i386, arm), remained working correctly.
      * tests adapted

M	compiler/aasmcnst.pas
M	rtl/inc/astrings.inc
M	rtl/inc/ustrings.inc
M	tests/webtbs/tw20962.pp
M	tests/webtbs/tw7100.pp

******************************************************************************
commit ea6529ff63225e13baa4e1fd2c193b84d1432048
Author: florian <florian@freepascal.org>
Date:   Sun Oct 17 10:22:30 2021 +0200

      * manually merged merge request 69 by J. Gareth "Kit" Moreton:
        x86: CMP/MOV refactoring and expansion
          This merge request refactors the SwapMovCmp routine, and calls to it, to be more self-contained,
          having the preliminary checks built-in to ensure that moving the MOV instruction is
          actually a sound idea, while also making it more general-purpose so it can handle instructions
          that are not MOV operations. This feature is primarily for future expansion,
          but also cleans up the code for the x86 peephole optimizer.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4012c3dbd47f661805bb7a831c6c687807ede3b4
Author: florian <florian@freepascal.org>
Date:   Sun Oct 17 09:50:47 2021 +0200

      * merge request 75 by J. Gareth "Kit" Moreton manually applied:
    
        This merge request makes a number of improvements to the DeepMOVOpt method and supporting functions:
    
          * ReplaceRegisterInInstruction now replaces registers in references that are written to
            (since the registers themselves won't change)
          * RegModifiedByInstruction will no longer return True for a register that appears in a reference
            that's written to (for the same reason as above) - special operations like MOVSS
            (the 0-operand version) aren't affected.
          * DeepMOVOpt returning True will now always set the Result of OptPass1MOV to True even though p
            wasn't directly modified, since this often caused missed optimisations.
          * Some of the speed-ups in the patch from #32916 have also been applied in order to make
            the general DeepMOVOpt run faster, notably it tries to avoid calling UpdateUsedRegs where possible.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5c75ef30ce78ba8dcf467f65ee6118e7dfe87a09
Author: florian <florian@freepascal.org>
Date:   Sat Oct 16 20:44:52 2021 +0200

      * test for #37785 which is resolved meanwhile

A	tests/webtbs/tw37785.pp

******************************************************************************
commit fd28cc0db04b00612387baba33f30f8e0dc3825c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Oct 10 03:42:03 2021 +0100

    Better handling of zeroing upper parts of registers
    
    Better handling of zeroing upper parts of registers

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 674ed4069a2fdf69362353707cbfa08fa222d998
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Oct 5 07:16:41 2021 +0100

    Expanded MM block move to include YMM registers under AVX

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit d55b2c2a35d9a30f4928cab612f02d70e2704fb9
Author: florian <florian@freepascal.org>
Date:   Fri Oct 15 23:12:59 2021 +0200

      + extend assembler optimization MovxMov2Mov to MovxOp2Op

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 21d843128d02fffcb8126811c16846420d570c32
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 15 14:33:43 2021 +0300

    + added a wrapper function around __wasi_path_readlink that calls it iteratively
      with doubling buffer sizes, starting with 64 bytes, until it reaches 16384
      bytes, and reads the link into a rawbytestring. Use that function in all
      places in the WASI rtl that need to read a symlink.

M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp
M	rtl/wasi/sysutils.pp

******************************************************************************
commit 0da5d57c1e54cafdfa4f2233a17e4d17dd5ff694
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 14:19:13 2021 +0300

    * replaced the 'if br end_if' sequence with the 'br_if' instruction, when
      generating WebAssembly code for try..finally blocks (in all exception modes)

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit dcae87bd5267914c8be0b57481f355a3eb700f3a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 12:29:59 2021 +0300

    + support cdecl and stdcall on the WebAssembly target. They are essentially the
      same, the only difference is that cdecl creates an unmangled alias

M	compiler/wasm32/cpuinfo.pas

******************************************************************************
commit b91fc3a0d3409b39e20bf0e0120ec8c072bc410a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 10:34:08 2021 +0300

    * fixed passing of singleton record parameters, containing a float in WebAssembly

M	compiler/defutil.pas
M	compiler/wasm32/cpupara.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit df92d88f39a81ef2ec20499ea82cfdee6df04df6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 09:34:00 2021 +0300

    + added support for the handling of singleton record and array types in
      defToWasmBasic

M	compiler/wasm32/cpupara.pas
M	compiler/wasm32/tgcpu.pas

******************************************************************************
commit 3511b8097269e7622ef97c9a6da7f0db8a948888
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 08:46:54 2021 +0300

    * fixed formatting in defToWasmBasic

M	compiler/wasm32/tgcpu.pas

******************************************************************************
commit ee387f7c66f418a23f78a0b6ceb162bec71a5d1b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 08:29:16 2021 +0300

    * C ABI fixes for the passing of records in WebAssembly

M	compiler/wasm32/cpupara.pas

******************************************************************************
commit 236e10d03aab15949f7c2114ddc39b63cf2ea364
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 08:13:13 2021 +0300

    + pass 64-bit structures by address in WebAssembly for compatibility with LLVM's C ABI

M	compiler/wasm32/cpupara.pas

******************************************************************************
commit 321764bdd93a675343fa0045ec22a1c2d62639c3
Author: florian <florian@freepascal.org>
Date:   Wed Oct 13 23:07:39 2021 +0200

      * fix warnings with -dDEBUG_NODE_XML, resolves #38222

M	compiler/verbose.pas

******************************************************************************
commit 6cb24a392959e10186cb0bdc9347ef78ecc53882
Author: florian <florian@freepascal.org>
Date:   Wed Oct 13 22:55:22 2021 +0200

      * itcpugas unit for Z80 providing gas_regname to fix compilation with -dDEBUG_NODE_XML

A	compiler/z80/itcpugas.pas

******************************************************************************
commit 34587a647f791f29c0ac26fec13059e516507c40
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 06:39:42 2021 +0300

    + init the ansistring upper and lower case tables in the WASI SysUtils unit initialization

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 44f862fb4eac9ff7383bc57dbd18b87ea314defc
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 03:49:54 2021 +0300

    + added test for SysUtils.GetLocalTime

A	tests/test/units/sysutils/tgetlocaltime.pp

******************************************************************************
commit f21273612a6ab485cf408aaaf6b9c0c5381ae1b6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 02:39:04 2021 +0300

    + also fill DayOfWeek in the Unix implementation of SysUtils.GetLocalTime

M	rtl/unix/sysutils.pp

******************************************************************************
commit f20de5d583cb86f6ec3bf856716fc85ab9ce4a95
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 02:02:50 2021 +0300

    * fixed padding in the filerec to match textrec even on platforms where
      sizeof(pointer)<>sizeof(codepointer), like in the medium and compact i8086
      memory models

M	rtl/inc/filerec.inc

******************************************************************************
commit 0934df505cdf94d24ff93dcd6c23eefac8799795
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 01:28:45 2021 +0300

    + implemented SysUtils.GetLocalTime for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 00d4a6889dd2f79981ebaef3f839be5354d2933c
Author: florian <florian@freepascal.org>
Date:   Tue Oct 12 22:59:17 2021 +0200

      * add no internal flag when folding constants in taddnode.simplify, resolves #39308

M	compiler/nadd.pas
A	tests/webtbf/tw39308.pp

******************************************************************************
commit 099a92733113b683be425b3400f744394ae2897d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 11:27:27 2021 +0300

    * fix for the WASI datetime to epoch conversion

M	rtl/wasi/dos.pp
M	rtl/wasi/sysutils.pp

******************************************************************************
commit a55980bfb85a47c711b31f6ca6ccf3ad74c66d94
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 11:06:16 2021 +0300

    + implemented dos.SetFTime for WASI

M	rtl/wasi/dos.pp

******************************************************************************
commit c4d7773c0ed87047041bbf32d8773b70b75709aa
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 10:33:28 2021 +0300

    + added platform-specific helper function dos.DTToWasiDate, similar to
      DTToUnixDate on Unix

M	rtl/wasi/dos.pp

******************************************************************************
commit ca242e9ad0e3ba047fcca8cc95fb8e41599d2d0b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 09:14:14 2021 +0300

    + implemented DOS.GetFAttr for WASI

M	rtl/wasi/dos.pp

******************************************************************************
commit 4e605fb7643902e82de03ef4b43aaa166c30a42f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 07:08:32 2021 +0300

    + dummy implementation of dos.SetFAttr for WASI, based on the Unix version

M	rtl/wasi/dos.pp

******************************************************************************
commit 00aa7b8ab3843aa3d5521ffc1f15cd01c4814685
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 05:50:24 2021 +0300

    + implemented SysUtils.FileGetAttr for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 7f7c5785fc77b0e697c15c69be56ba7c84bf2fc9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 05:38:16 2021 +0300

    * always return an error in SysUtils.FileSetAttr on WASI - this function is not supported by the WASI API

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 809277d2b15b2c4e713cf7fc81d284429e935c2b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 05:32:53 2021 +0300

    + implemented SysUtils.FileGetSymLinkTarget for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 1e5ecccdc663ca646632cbd46a1fe5905cba99ab
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 03:50:23 2021 +0300

    + implemented SysUtils.DirectoryExists for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit aafb471bc880fc20a9b73cf0d60f109163793794
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 03:27:08 2021 +0300

    * don't set InOutRes in ConvertToFdRelativePath, but return it instead. This
      fixes issues in places where this function is used in a way that should not
      set IOResult.

M	rtl/wasi/dos.pp
M	rtl/wasi/sysdir.inc
M	rtl/wasi/sysfile.inc
M	rtl/wasi/system.pp
M	rtl/wasi/sysutils.pp

******************************************************************************
commit 4dc0c37678ca9102dc0de687cf27963124bf9bdf
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 03:08:18 2021 +0300

    + implemented SysUtils.FileExists for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit fe903f2ae413631591528c2ea9b33fcc05eac4e3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 01:42:20 2021 +0300

    * fixed range check error in HasDriveLetter when path is 1 character long

M	rtl/wasi/system.pp

******************************************************************************
commit 00d5bb5bbc52baad3f2e268c2d51ceba4b266b04
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 01:41:14 2021 +0300

    * fixed off-by-one error when initializing current_drive in the WASI system unit

M	rtl/wasi/system.pp

******************************************************************************
commit ca9384fd6c265aa76a9ef59229b3746153e6114a
Author: florian <florian@freepascal.org>
Date:   Mon Oct 11 18:43:59 2021 +0200

      * patch by Dean Mustakino to avoid generation of debug info for generics, resolves #38827
      + test

M	compiler/dbgdwarf.pas
A	tests/webtbs/tw38827.pp
A	tests/webtbs/uw38827.pp

******************************************************************************
commit 068f781c7a21335ae04ed8e63a5c18f1a841280e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 17:51:13 2021 +0300

    + also implemented FileSetDate(FileName) for WASI, via the __wasi_path_filestat_set_times API call

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 94d8c22c6ac229faf084188fe25bc04966a47d7a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 15:51:13 2021 +0300

    + implemented SysUtils.FileSetDate for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 38075ac30c61c95b9371b07312eede596bf0bd22
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 15:26:55 2021 +0300

    + implemented SysUtils.FileAge for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 8f95c14827ec62cfe7435e485825dff98b72a8f4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 15:08:48 2021 +0300

    + implemented SysUtils.FileGetDate for WASI

M	rtl/objpas/sysutils/dati.inc
M	rtl/wasi/sysutils.pp

******************************************************************************
commit 2a93340bcc22c2f6c45c22569b10a6d81ddadc56
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 11:27:57 2021 +0300

    + implemented SysUtils.DeleteFile for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit c8d5bd77a31e088d4f5345a8294a27a75b3bf6c7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 11:21:33 2021 +0300

    - don't call ToSingleByteFileSystemEncodedFileName in SysUtils.FileOpen and
      .FileCreate, because ConvertToFdRelativePath already calls it

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 05c6937fd9dd592eb643bc94d1e16c1f95dc6e82
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 11:14:05 2021 +0300

    + implemented SysUtils.RenameFile for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 4c89eaa6cf12074ffed3b01cdcf30a6aa507aafd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:50:44 2021 +0300

    + implemented SysUtils.FileSeek for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 14f361e13f82eceabe67317ba5e243d404419233
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:37:11 2021 +0300

    + implemented SysUtils.FileWrite for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 09e61201d221bf098a42d5f994592f7df51a203f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:33:54 2021 +0300

    * fixed WASI bug in do_read, where the result of the __wasi_fd_read syscall function was ignored

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 977b2f2a4bf7bda09554b034f2112d761d680517
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:32:50 2021 +0300

    + implemented SysUtils.FileRead for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 305393a9c11b8768a2aaa89ca8f1ff0e852ed94b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:26:06 2021 +0300

    - removed the zero constants from the implementation of SysUtils.FileOpen for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 0bbc5a75280fa0ad0ee39e046dedd9d6d97ab90e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:24:36 2021 +0300

    + implemented SysUtils.FileCreate for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 62846f54adbc08323ce660fbba6b33e1e0275d07
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:11:07 2021 +0300

    + implemented SysUtils.FileOpen for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit aa4070ca8a2c27b818269b42c7470e5b7b03ddad
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 09:52:09 2021 +0300

    + implemented SysUtils.FileClose for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 27df4e98d2f1bf8e64b6037edd8d4643bd764809
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 09:25:01 2021 +0300

    * use rawbytestring instead of ansistring for the WASI file name handling

M	rtl/wasi/dos.pp
M	rtl/wasi/sysdir.inc
M	rtl/wasi/sysfile.inc
M	rtl/wasi/system.pp

******************************************************************************
commit a0e7882692432d6487acf60ae54218335f709233
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 09:04:32 2021 +0300

    * use AllowDirectorySeparators, instead of checking for '/' and '\'

M	rtl/wasi/system.pp

******************************************************************************
commit 60d350f06788a6da9c2054f2dc2083066d9b10b7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 08:56:16 2021 +0300

    * another instance of ['/','\'] replaced with AllowDirectorySeparators

M	rtl/wasi/sysdir.inc

******************************************************************************
commit d7755a56f6fe705c8edfb955e0f071ac55ea5865
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 08:51:39 2021 +0300

    * replaced '/' with DirectorySeparator in the WASI directory parsing code

M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp

******************************************************************************
commit 13c344a3a078430d212f2f523822c5810157a3d8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 08:45:42 2021 +0300

    * replaced ['/','\'] with AllowDirectorySeparators in the WASI directory
      parsing code

M	rtl/wasi/dos.pp
M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp

******************************************************************************
commit 25ac1380921c96b933673c8ec9f3e10da66f47d5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 08:38:33 2021 +0300

    * keep the drive string separate in the preopen and the current dir records on
      the WASI platform

M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp

******************************************************************************
commit 07413be8b569f000a158c290fa856365557c3dd3
Author: florian <florian@freepascal.org>
Date:   Sun Oct 10 22:54:08 2021 +0200

      + being able to define change information for xmm0
      * corrected change information for SHA256RNDS2

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 64db584eefebcc5e5faeb287a9d10977adb4a886
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 10 12:33:36 2021 +0300

    * moved the preopened dir and current dir handling types and variables to the
      implementation part of the system unit, so their implementation is not exposed
      and can be changed in the future (e.g. for thread safety when WebAssembly
      gets multithreading support, etc.)

M	rtl/wasi/system.pp

******************************************************************************
commit a62c7555d78f049c711cfd594455f73fa04b6620
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 10 12:28:56 2021 +0300

    - removed the DebugWriteXXX functions from the WASI system unit, since console
      output is now quite stable and can be used for debugging

M	rtl/wasi/system.pp
M	rtl/wasm32/setjump.inc

******************************************************************************
commit 0d6b5338d0541b6a844d1d832b09b7709fe2948b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 10 12:17:35 2021 +0300

    + implemented ChDir() for WASI

M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp

******************************************************************************
commit 85ebd2c94c5fdad806ea96a1cdc3ff3400692dab
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 10 09:48:54 2021 +0300

    * fixed handling of relative paths that are not directly relative to a preopened
      dir in ConvertToFdRelativePath. This is a preparation for ChDir support.

M	rtl/wasi/system.pp

******************************************************************************
commit a925522ead1e0ccdbd0c77c57e2ccc147b61dc67
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Oct 10 09:15:43 2021 +0100

    xor optimisation now doesn't check to see if the REX prefix will actually be removed, as it's beneficial for speed reasons to only use the 32-bit register when zeroing the whole thing

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2c180cf101b6a49c1f8bdf462cd7b4e729600ad8
Author: florian <florian@freepascal.org>
Date:   Sun Oct 10 15:34:59 2021 +0200

      * by default, DEBUG_AOPTCPU is only enabled if the compiler is compiled with -dEXTDEBUG

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit d502bccc1b03094d5260f1494baf49387f674273
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Oct 10 06:31:57 2021 +0100

    A pair of inlines

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit a41e991a130a43f368a6cd1054fca2d38e417620
Author: florian <florian@freepascal.org>
Date:   Sun Oct 10 11:15:36 2021 +0200

      * fix also IDE building after fpccrc to fpchash renaming

M	packages/ide/fpini.pas

******************************************************************************
commit cc3cbbb7b96d75e816f38a83abcbb08b9fd8843d
Author: florian <florian@freepascal.org>
Date:   Sun Oct 10 10:21:21 2021 +0200

      * fix x86 compilation after my last commit

M	compiler/ogomf.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit a4672fbd1c097752430017fbe84a26d702e43e83
Author: florian <florian@freepascal.org>
Date:   Sun Oct 10 10:09:22 2021 +0200

      o based on a patch by Rika, resolves #39401:
        * use Base64 (62=_, 63=$) encoded FNV hash (instead of CR-32) to shorted identifiers
        * renamed fpccrc to fpchash
        + test

M	compiler/aasmbase.pas
R055	compiler/fpccrc.pas	compiler/fpchash.pas
M	compiler/link.pas
M	compiler/ncgvmt.pas
M	compiler/pcp.pas
M	compiler/pgenutil.pas
M	compiler/ppu.pas
M	compiler/symdef.pas
A	tests/webtbs/tw39401.pp

******************************************************************************
commit bae50d80d246622a958d57c8dc70c3eff91b1b53
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 10 09:11:19 2021 +0300

    * preopen fd names and current dir changed to use ansistring, as well as the
      parameters and result of ConvertToFdRelativePath. This will allow easier
      implementation of ChDir.

M	rtl/wasi/dos.pp
M	rtl/wasi/sysdir.inc
M	rtl/wasi/sysfile.inc
M	rtl/wasi/system.pp

******************************************************************************
commit bff09e8e9e2f6e09d351387fd22b1849c5975ce8
Author: florian <florian@freepascal.org>
Date:   Sat Oct 9 16:23:11 2021 +0200

      + CPU units: check for SHA support

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/units/cpu/tcpu1.pp

******************************************************************************
commit 6c7e6191f64ac8cea36e963028c190263d8a2ea9
Author: florian <florian@freepascal.org>
Date:   Sat Oct 9 15:44:46 2021 +0200

      + support of SHA extension in the internal assembler

M	compiler/i386/i386att.inc
M	compiler/i386/i386atts.inc
M	compiler/i386/i386int.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386op.inc
M	compiler/i386/i386prop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086att.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086int.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086op.inc
M	compiler/i8086/i8086prop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664att.inc
M	compiler/x86_64/x8664int.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664op.inc
M	compiler/x86_64/x8664pro.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 8f68988aefeec865263dfecb29140de582470949
Author: florian <florian@freepascal.org>
Date:   Sat Oct 9 14:24:14 2021 +0200

      * another location to use source register as second register in VCVTSD2SS and VCVTSS2SD
        to break dependency chains, hopefully final fix for #39360

M	compiler/x86/cgx86.pas

******************************************************************************
commit b4bf371b34b19d4505b8a330a1b9250047a4b8ca
Author: florian <florian@freepascal.org>
Date:   Fri Oct 8 22:58:41 2021 +0200

      * generate VMOVAPS for (V)Cvtss2CvtSd(V)Cvtsd2ss optimization, resolves #39360

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 344da9597f1dc072a634820a9431146d0b7c60f7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 8 23:50:28 2021 +0300

    + added the current WebAssembly exceptions mode to the .ppu module flags and
      perform a check to ensure all units are compiled in the same exceptions mode
      as the main program

M	compiler/fppu.pas
M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 7388735b11726d1263de7058d7492d9f87f9bcb4
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Oct 8 18:04:03 2021 +0300

    * Strength reduction optimization: - Use a temp for complex loop start values to prevent double evaluation.
      - For slow CPUs perform the optimization for all sizes of array elements.

M	compiler/optloop.pas

******************************************************************************
commit 6bf4c7a68d2491971350170e80414a07e11ab4f5
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Oct 8 16:51:42 2021 +0300

    * Optimized evaluation of the condition.

M	compiler/optloop.pas

******************************************************************************
commit b93998c17c7b2eb81e13fbb93bc987f0258a645c
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Oct 8 08:41:14 2021 +0000

    Disable utils for wasi target, because paszlib cannot be compiled due to use of goto labels

M	utils/fpmake.pp

******************************************************************************
commit 4752230c8f5f5f51774b90e52ceec3a142b3f62d
Author: florian <florian@freepascal.org>
Date:   Thu Oct 7 23:09:35 2021 +0200

      * use source register as second register in VCVTSD2SS and VCVTSS2SD, this should break
        dependency chains better and resolves partially #39360

M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas

******************************************************************************
commit ec40db3da7ab1d8143b4276518416aa2816d792e
Author: florian <florian@freepascal.org>
Date:   Wed Oct 6 21:57:24 2021 +0200

      + (V)Cvtss2CvtSd(V)Cvtsd2ss2Nop optimization, resolves #39360

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit d5867793f6d16bde39e0e209a11741ba8d8b0388
Author: florian <florian@freepascal.org>
Date:   Wed Oct 6 21:23:25 2021 +0200

      * partially applied patch by J. Gareth "Kit" Moreton to inline parts of cclasses, resolves #39344

M	compiler/cclasses.pas

******************************************************************************
commit e77bf0f3bd38071b6b635750896b1e27e6d09c40
Author: Bi0T1N <9175580-Bi0T1N@users.noreply.gitlab.com>
Date:   Sun Sep 26 14:35:30 2021 +0200

    Add two more templates to show the possibilities

A	.gitlab/issue_templates/Feature Request.md
A	.gitlab/merge_request_templates/Packages.md

******************************************************************************
commit 25af28de1ea5118b84464baeaaeedf1518ae0218
Author: Bi0T1N <9175580-Bi0T1N@users.noreply.gitlab.com>
Date:   Sat Sep 25 23:33:13 2021 +0200

    Add initial Description templates
    
    this adds a description template for issues as well as for
    merge requests that target the compiler

A	.gitlab/issue_templates/Bug.md
A	.gitlab/merge_request_templates/Compiler.md

******************************************************************************
commit d45915b6ba0f99a70c51243377471bd834a5f541
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 6 07:44:04 2021 +0300

    * preopened dirs structure in the system unit modified to be a pointer to an
      array of records

M	rtl/wasi/system.pp

******************************************************************************
commit e078408dcf76a282a7336afeb5476c75779817cd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 6 06:12:58 2021 +0300

    + implemented SysUtils.GetEnvironmentVariable, GetEnvironmentVariableCount and
      GetEnvironmentString for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 7533496505e52d2df2fa7bb3291c23adb91046c7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 6 05:39:11 2021 +0300

    + implemented SysUtils.Sleep for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit d134fc1ddfb6158945bc1751e0d2df1657f89a64
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 6 04:46:44 2021 +0300

    + implemented SysUtils.GetTickCount64 for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 91cf1774dd59376434dde4581f8eaad74696aa0a
Author: florian <florian@freepascal.org>
Date:   Tue Oct 5 22:20:22 2021 +0200

      * replace MT random generator by Xoshiro128**, resolves #38237

M	rtl/inc/system.inc
M	tests/webtbs/tw14315b.pp

******************************************************************************
commit e19fcd2b8b826c69b9ca97ab19eb9d9b49a4cf16
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 20:49:32 2021 +0300

    + implemented GetMsCount in the DOS unit for WASI

M	rtl/wasi/dos.pp

******************************************************************************
commit 074ce9c50fa5d97afd1ebff5720ece287f767f6e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 18:02:11 2021 +0300

    + added call to g_maybe_checkforexceptions after generating call to fpc_iocheck

M	compiler/ncgcal.pas

******************************************************************************
commit 3c58f26e83b91e2d79e894b03403d469073c7113
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 17:54:35 2021 +0300

    * thlcgwasm.g_checkexceptions renamed .g_maybe_checkforexceptions, added also as
      an empty virtual method in thlcgobj and modified the WebAssembly
      implementation, so that it can be called from any exceptions mode (so it
      emits no code in exception modes that don't require it, instead of generating
      an internal error). This will allow .g_maybe_checkforexceptions to be called
      from the generic parts of the code generator, after calls to systemprocs that
      could raise an exceptions.

M	compiler/hlcgobj.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmcal.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 387c80cc57b691c887303cc224ee01dd46684a0d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 08:02:39 2021 +0300

    + default exception handling in WebAssembly native exceptions mode

M	rtl/wasi/si_prc.pp
M	rtl/wasm32/except_native.inc

******************************************************************************
commit fab4ca449bb6ba351500c5443a3e9c0567ba19eb
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 07:54:57 2021 +0300

    * twasmexceptionstatehandler_nativeexceptions.handle_nested_exception and
      twasmexceptionstatehandler_bfexceptions.handle_nested_exception should not be
      called, so now they cause an internal error

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 04a41fa5b08de0a837f11af30cfe9091c36a2830
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 07:43:47 2021 +0300

    - removed duplicated assignment

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 99ab6bd56d4d60aa3cf5ec2680514a143da4dd1b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 07:41:42 2021 +0300

    + proper exception object cleanup when using break, continue or exit in try
      except blocks in WebAssembly native exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit ddbdc529b1e3d99244e2d0cedcb20195c0fb55e7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 07:19:24 2021 +0300

    + proper exception cleanup for try except blocks that use exit, break or
      continue in WebAssembly branchful exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 023f08d54bef139841faaf7c954732498e139277
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 06:45:31 2021 +0300

    + exception cleanup when break, continue or exit is used inside a
      try .. except 'on' block, in WebAssembly native exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit cf7ad98dbfcaf699983d813452a0a5dabe68818c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 06:25:32 2021 +0300

    + support exception object cleanup, when 'exit', 'break' or 'continue' is used
      in the except 'on' statements, in branchful WebAssembly exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 7110d1e48e8fe40a95738cb993cb06fdf535afaa
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 05:29:10 2021 +0300

    * use 'br_if' instead of 'if br end_if' sequence in the code, generated by
      thlcgwasm.g_checkexceptions

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit d9eb8d75b9f6005cc36f66da635c46f3d4aad250
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 04:44:52 2021 +0300

    + return a small, fake backtrace for WebAssembly, so that in case of a runtime
      error, the message 'Runtime error XXX at $EEEEEEEE' appears.

M	rtl/wasm32/wasm32.inc

******************************************************************************
commit c0cec218d64e082c373a6f973d4cf2f5798f84fa
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 04:06:56 2021 +0300

    + added unhandled exception handling code for the branchful exceptions mode

M	rtl/wasi/si_prc.pp
M	rtl/wasm32/except_branchful.inc

******************************************************************************
commit a01a6021409f83d80ec80d95e73a66912d7d1211
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 03:48:47 2021 +0300

    - removed commented out code from the WASI startup code

M	rtl/wasi/si_prc.pp

******************************************************************************
commit f7b1ec24352fc4eb77adb23ec70fa47388734c75
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 03:38:33 2021 +0300

    + call g_checkexceptions after calls to fpc_reraise and fpc_raise_nested in
      branchful exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 464b3ebbed39dd87480513372caadb5214fb1e3e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 03:25:03 2021 +0300

    + implemented the 'on' node code generation (try except 'on' ...) for the
      branchful exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit a5dcd1c44ddeac28ca8fda44f6d60e3b179266e4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 03:14:58 2021 +0300

    + initial implementation of try..except in branchful exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 7ce19c1ad78a75d84765790f077f228b448129de
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 02:47:49 2021 +0300

    + implemented try..finally in branchful exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 7afb665c92e9e1787c518c1fbd6d205476b36d04
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 02:26:13 2021 +0300

    + insert exception flag check and branch after each function call, when
      compiling in WebAssembly branchful exceptions mode

M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmcal.pas
M	rtl/inc/compproc.inc
M	rtl/wasm32/except_branchful.inc

******************************************************************************
commit 5be1bfeecad2af3cc4acad908fa649849a231bf7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 01:11:31 2021 +0300

    + added comment that states that raiseBr is only used in branchful exceptions mode

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit d02921d66b14ea499ef783a834388be1322620ff
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 01:07:37 2021 +0300

    + introduced raiseBr, similar to exitBr, but will point to the current
      innermost exception handler, if there is such a handler in the current
      procedure, otherwise it will be the same as exitBr.

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 6599f1d898003773f70c24898419f4bf6bef78ee
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 01:01:24 2021 +0300

    - don't generate any WebAssembly native exception handling instructions, nor
      relocations, when compiling in branchful exceptions mode. This produces a
      currently not working, but accepted by wasmtime binary (otherwise, it
      complains it doesn't support exceptions and refuses to try to run it).

M	compiler/wasm32/nwasmflw.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 30b503abc4e628dc3c2299595ee76dba48d308fc
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 00:49:29 2021 +0300

    * instead of using the 'throw' intrinsic, set a boolean flag, in the branchful
      exceptions support code

M	rtl/wasm32/except_branchful.inc

******************************************************************************
commit 5124ab2521defb4623b6866e4d5c36726ab74608
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 00:35:54 2021 +0300

    * cloned the WebAssembly native exceptions code generation and rtl support into
      the branchful exceptions (which will be modified later, but we're using this
      as their starting point, because we can get a snapshot built, without compiler
      internal errors)

M	compiler/options.pas
M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/nwasmflw.pas
M	compiler/wasm32/nwasmutil.pas
M	rtl/inc/compproc.inc
M	rtl/inc/objpas.inc
A	rtl/wasm32/except_branchful.inc

******************************************************************************
commit 7778d20003ab3b62779243cfde33bd0b129bb61f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Oct 4 21:08:24 2021 +0000

     Avoid range check error in TCpuAsmOptimizer.OptPostAnd method

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 1e136b0cc7ff37f900adcb91b2783962cf9d7622
Author: florian <florian@freepascal.org>
Date:   Mon Oct 4 22:18:53 2021 +0200

      * bail out early in MatchInstruction

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 01a449c807e4ad9a4142977ee86b16d6461ad256
Author: florian <florian@freepascal.org>
Date:   Mon Oct 4 22:11:08 2021 +0200

      + debug msg added

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c745ae4836a0f19a1733347f208d263d1a5829e5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Oct 4 20:55:56 2021 +0200

    AArch64 popt: don't replace registers with X/WZR
    
    Most arithmetic/logica instructions don't support X/WZR as operand (since
    you should use movk with the calculated constant in that case)
    
    Resolves #39372

M	compiler/armgen/aoptarm.pas
A	tests/webtbs/tw39372.pp

******************************************************************************
commit 3989a01968ddee76110556f2cb2390da751b9694
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 4 00:34:18 2021 +0300

    - removed msg2inc. Stupid git added it without my consent.

D	compiler/msg2inc

******************************************************************************
commit 9a85ac204ce5e0996478c0c4ede0138ab5ecab15
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 4 00:28:31 2021 +0300

    + fixed compilation of ppudump

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 494dac5db57f60073f2d538f66b6570b9fd05beb
Author: florian <florian@freepascal.org>
Date:   Sun Oct 3 23:16:55 2021 +0200

      + x86: MovOp2Op optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1011c31a80e0ea9e67497b335a8293a49cbdecb7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 4 00:15:27 2021 +0300

    + increase string type to avoid const string truncation

M	compiler/globtype.pas

******************************************************************************
commit 2577180b935364b1a84ee8d38f8f6a42c0b812b0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 4 00:10:31 2021 +0300

    + introduced WebAssembly branchful exceptions

M	compiler/globtype.pas
M	compiler/msg/errore.msg
A	compiler/msg2inc
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit ab01b0ebd72c646b66a6bb3fd55ed717b9852541
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 3 21:35:55 2021 +0200

    Typed constants: no internalerror on failure
    
    Don't check whether the expression queue is empty in the destructor in case
    there was an error. Also improved error messages (constant expression instead
    of variable expression expected).
    
    Resolves #39393

M	compiler/aasmcnst.pas
M	compiler/ngtcon.pas
A	tests/webtbf/tw39393.pp

******************************************************************************
commit 190c77e8633d185d983e3e59d62443bd443bb807
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Oct 3 19:45:22 2021 +0100

    Fixed bug where hp1 object was used after being freed

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2e8c99947a978f8614d4075b1ee0d9caac4945aa
Author: florian <florian@freepascal.org>
Date:   Sun Oct 3 18:40:20 2021 +0200

      * define DEBUG_AOPTCPU if EXTDEBUG is used

M	compiler/aarch64/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 890b899842b741f54f5191ff369c8a97a89ac845
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 18:33:00 2021 +0300

    + support the <= and >= operators for smallsets on the Z80

M	compiler/z80/nz80add.pas

******************************************************************************
commit b00c0e44a596bdf167ded7900b3ba71ea903591f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 18:16:11 2021 +0300

    + support equality comparison of smallsets on the Z80

M	compiler/z80/nz80add.pas

******************************************************************************
commit 3fb0fab410ac4c791227d74c1bbd8ceb45f653b8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 3 13:59:33 2021 +0200

    Fix bitpacking 62/63 bit fields on 64 bit targets
    
    As reported on the lazarus forum:
    * https://forum.lazarus.freepascal.org/index.php?topic=56341.new
    * https://forum.lazarus.freepascal.org/index.php/topic,56339.msg418608/topicseen.html
    
    Also optimized nextpowerof2 in the compiler

M	compiler/cutils.pas
M	compiler/symdef.pas
A	tests/test/tprec25.pp

******************************************************************************
commit 41db71c21c1c00dc83de8113ad0b35f5250ca2e0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 04:37:13 2021 +0300

    + implemented the <= operator for smallsets for WebAssembly

M	compiler/wasm32/nwasmadd.pas

******************************************************************************
commit 799cd957e625400427836e7309748bbba32e2d72
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 04:11:51 2021 +0300

    + added WASI .o files for the tests for linking with C

M	tests/test/cg/obj/readme.txt
A	tests/test/cg/obj/wasi/wasm32/cpptcl1.o
A	tests/test/cg/obj/wasi/wasm32/cpptcl2.o
A	tests/test/cg/obj/wasi/wasm32/ctest.o
A	tests/test/cg/obj/wasi/wasm32/tcext3.o
A	tests/test/cg/obj/wasi/wasm32/tcext4.o
A	tests/test/cg/obj/wasi/wasm32/tcext5.o
A	tests/test/cg/obj/wasi/wasm32/tcext6.o

******************************************************************************
commit be90ad1672cec33b15f8faa09715190f6279e75f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 03:29:54 2021 +0300

    + enabled compilation of unit heaptrc for the WASI target

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 5adec3ca98120bc2c4110ebe354dfc50d7095ebe
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 03:16:34 2021 +0300

    + workaround for WebAssembly treating the stack parameter of the store and load
      instructions as unsigned. This caused an 'out of bounds memory access' trap
      when accessing arrays with negative offset index, e.g. in test/cg/tvec.pp

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 0a383d8c0f50bf3ed3333dd57f295864fca02cae
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 02:27:19 2021 +0300

    * fixed WebAssembly method pointer assignment

M	compiler/ncgld.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 77ca8ba16d0a5ab9aa1b261b4d1b44c94a1aa2b3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 01:08:52 2021 +0300

    * always return error in SysUtils.FindFirst and .FindNext on the WASI platform,
      in order to prevent infinite loops in tests

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 6f88919f3775a94c3df98f6b3d2c03f885202e03
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 00:59:11 2021 +0300

    - don't set casmdata in wasm32/aasmcpu.pas, so that the aasmdef unit can override it

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit c1eeb8beda0df3f74741677df85259e86b0a789f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 00:49:32 2021 +0300

    + use the aasmdef unit in wasm32/cpunode.pas

M	compiler/wasm32/cpunode.pas

******************************************************************************
commit 020a58b0750902e161a29bb1f8218052ddcd2d54
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 23:14:24 2021 +0300

    + added system_wasm32_embedded to systems_embedded

M	compiler/systems.pas

******************************************************************************
commit c450b63f1ccd696c8034142a985222d3f01895f4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 22:42:20 2021 +0300

    + enabled compilation of the fpintres unit for the WASI target and enabled tf_has_winlike_resources for the target

M	compiler/systems/i_wasi.pas
M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 4b39f7dea0383c96f62f381ab46f866bd8e2270f
Author: J. Gareth "Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Oct 2 19:32:44 2021 +0000

    x86: Missed logic with CMP and MOV optimisations

M	compiler/x86/aoptx86.pas

******************************************************************************
commit cc2fa67dfa475710c57c4b3b73631a0f3a959e3f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 22:10:34 2021 +0300

    * fixed OS_S8 to OS_16 conversion for WebAssembly. This fixes test/cg/tcnvint6

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 3258937d97b8ca6a4ea6b6556fe46664da9d65fa
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 21:33:28 2021 +0300

    + implemented move() for WebAssembly via the memory.copy instruction

M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/wasm32.inc

******************************************************************************
commit 2e3e3edb5fb5b137c79875e5f018e456fdd8c664
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 20:31:37 2021 +0300

    + implemented FillChar for WebAssembly via the memory.fill instruction

M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/wasm32.inc

******************************************************************************
commit 85207e94f8e4a1904a67ba2a3be06f7b69ef146c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 19:40:36 2021 +0300

    + added inline numbers for a memory.copy and a memory.fill intrinsic

M	compiler/wasm32/ccpuinnr.inc
M	rtl/wasm32/cpuinnr.inc

******************************************************************************
commit 026d23632aa3343756ebf454d4d0961048d34fcc
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 19:35:26 2021 +0300

    + added the memory.copy and memory.fill WebAssembly instructions

M	compiler/systems.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/agllvmmc.pas
M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/strinst.inc

******************************************************************************
commit cc5ee6b868935bbc3fe22c349b9c312029d88523
Author: florian <florian@freepascal.org>
Date:   Sat Oct 2 16:24:47 2021 +0200

      + comments

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 39164ad732ea12af79ecf267172146569297aa1a
Author: florian <florian@freepascal.org>
Date:   Sat Oct 2 16:15:19 2021 +0200

      * cleanup

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit c1d8e32eaedd102759c3b5132228aaf493026b8d
Author: florian <florian@freepascal.org>
Date:   Sat Oct 2 16:07:00 2021 +0200

      + Aarch64: Ldr<Postfix>Mov2Ldr<Postfix> optimization

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit b5c7997c88f39c0803a8a5f48188848843f9cc6d
Author: florian <florian@freepascal.org>
Date:   Sat Oct 2 15:37:34 2021 +0200

      + Aarch64: AndCmpB.E/NE2Tbnz/Tbz optimization

M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 177b38dfe9423dd714a99e9fc34abaa7f032df66
Author: florian <florian@freepascal.org>
Date:   Fri Oct 1 23:05:48 2021 +0200

      * modified (cosmetics) patch by Rika: replace DJB2 with MurmurHash3, resolves #39377

M	compiler/cclasses.pas

******************************************************************************
commit 02745b0b83f9ea4e1fc98a44f753d513dfebfe62
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 06:34:52 2021 +0300

    + implemented GetDate, GetTime and WeekDay in the WASI dos unit. They return
      UTC time (I don't know how to obtain the local time zone from within WASI).

M	rtl/wasi/dos.pp

******************************************************************************
commit d2726c240648a1db264cab515969672355746c97
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 05:17:12 2021 +0300

    * fixed WebAssembly code generation for not(cbool64)

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 9aefda1e6a34940880f930df300985aa542e49d8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 04:56:36 2021 +0300

    * bug fix in test taddbool.pp - it was testing longbool conversion to boolean
      twice, and not testing wordbool conversion to boolean at all

M	tests/test/cg/taddbool.pp

******************************************************************************
commit 4fc763ac5033ae56e908ee263d538950f71e544d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 04:54:17 2021 +0300

    * fixed WebAssembly cbool support for OP_NOT

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit baf5ff4e05987a027d8912aa231ecd3c79147dd1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 04:40:50 2021 +0300

    * another WebAssembly cbool fix in twasmtypeconvnode.second_int_to_bool

M	compiler/wasm32/nwasmcnv.pas

******************************************************************************
commit 968e23546c6614cff0607478721e181800ac38b4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 04:20:02 2021 +0300

    * fixed second_int_to_bool for cbool types for WebAssembly

M	compiler/wasm32/nwasmcnv.pas

******************************************************************************
commit 188a21bbfdbbd2c5c0a2b6a8232bf5da9f6ffb90
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 03:01:55 2021 +0300

    * fixed 'not(boolean64)' for WebAssembly

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit c6a549eb487f3bb5b0578a56f08db35559764b0d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 02:57:04 2021 +0300

    * int64/boolean64 fix in twasmtypeconvnode.second_int_to_bool

M	compiler/wasm32/nwasmcnv.pas

******************************************************************************
commit 2e5b895d70f68daaafe52ecee8a66736b055decf
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 02:47:08 2021 +0300

    * fixed WebAssembly code generation for 'if boolean64 then ... else ...'

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 4d571a19282490972e9434ec4059cf6a01fced72
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 02:43:55 2021 +0300

    * fixed code generation for 'boolean64 and/or boolean64' for WebAssembly

M	compiler/wasm32/nwasmadd.pas

******************************************************************************
commit abd494624bf2e722938b14f2eb01ba91f4227799
Author: florian <florian@freepascal.org>
Date:   Wed Sep 29 22:29:47 2021 +0200

      * properly search in GetMMRegisterBetween and GetIntRegisterBetween for usable
        volatile registers (low(<set>) .. high(<set) just searched all possible elements
        and not only the included ones)

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1f19b113983906e1cbffd428eba4488e78b4cdeb
Author: J. Gareth "Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Sep 29 18:32:31 2021 +0000

    x86_64: Fix to tw8573 overflow bug under -Cg option

M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw8573a.pp

******************************************************************************
commit 5446d53156de14483d6210297a99a934ebc5909c
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Sep 29 17:22:51 2021 +0200

     Update to use gitlab

M	tests/utils/testsuite/utests.pp

******************************************************************************
commit 91d8009b531b61d41604406e3a6a94e92f1b9c41
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 05:27:27 2021 +0300

    + implemented round(real) for WebAssembly via the fXX.nearest and i64.trunc_fXX_s instructions

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit 835bc62e2a8aa887170510ecc2ebdadee27bb4e7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 05:07:43 2021 +0300

    + implemented trunc(real) for WebAssembly via the i64.trunc_f32_s and i64.trunc_f64_s instructions

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit f6b4a54f7d2de15793e3da1a477d1ef274f31cb4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 04:57:19 2021 +0300

    * fixed output of 32-bit floating point constants in the llvm-mc asm output

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit d84a7d1bdedae4f5bdb31c406c4f052ff728aaab
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 04:19:10 2021 +0300

    + implemented int(real) for WebAssembly via the f32.trunc and f64.trunc instructions

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit 8822be8a1f1c1b6affca58be1bf337be4c345bb1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 04:04:03 2021 +0300

    + implemented abs(real) for WebAssembly via the f32.abs and f64.abs instructions

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit f42817d1a2d3a3efa595c90d58aa82aa57f77cc8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 03:56:13 2021 +0300

    * fixed opcode generation for the f32.const in the WebAssembly internal asm

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 95243ed6ede742a891297e91d687bf510c9f31e0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 03:48:31 2021 +0300

    + implemented sqrt via the f32.sqrt and f64.sqrt instructions

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit 6e6c946e0fd1765f99110e12c79db27a400c6587
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 00:16:23 2021 +0300

    * the fpc_Catches result test code was inverted

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 7ce1a7c6a0722dcfb6db9f2c2c3a0a54e4a5fc8d
Author: florian <florian@freepascal.org>
Date:   Tue Sep 28 23:13:12 2021 +0200

      * x86_64-linux doesn't need .data.rel.ro either

M	compiler/aggas.pas

******************************************************************************
commit 99dbbcadcd19d4babe656949c20a5c643dd22a70
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 00:04:23 2021 +0300

    + generate functype directives for all functions in all used units, regardless
      of whether they have paraloc info created. This fixes linking of WebAssembly
      programs that declare their own classes, because that causes the compiler to
      generate a VMT, containing references to virtual methods, and these don't
      necessarily have paraloc info (if they're not called from within the program)

M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 6e7f0744ca11202c2defc6c7dfdd5863245612c8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 23:55:10 2021 +0300

    + implemented the 'on' node for WebAssembly in native exceptions mode

M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 0e647a073e5978f2e6aefafc0b034b187dbffce7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 21:23:49 2021 +0300

    + override the 'on' node for WebAssembly

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit ef738f01cf32f00fdd58c7687dca7581fd54126b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 20:39:47 2021 +0300

    * fixed warning

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit f2abce7ea58decf10255bdfea14740578068dd4a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 20:23:27 2021 +0300

    + initial implementation of try..except..end in wasm native exceptions mode.
      The 'on' statements are not implemented yet.

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 93b3315691f3e89843c8c16edb9c0b22226a51d7
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 28 10:15:58 2021 +0200

    * Parse cookies also when setting variable based on name

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit bfe3afbc62ae65e79ffac64f12a2ce2e884388d2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 28 10:14:18 2021 +0200

     * Add error check

M	packages/libcurl/examples/teststream.pp

******************************************************************************
commit 99e449eaa1b34d4d45df59600ea65cd8c82b2e7f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 04:11:16 2021 +0300

    * decblock moved after end_try, instead of after catch

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 3836b0be04762387513cd7f6b95246cd5fc5e295
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 04:02:52 2021 +0300

    * longjmp in fpc_reraise changed to a throw instruction intrinsic in wasm native exceptions mode

M	rtl/wasm32/except_native.inc

******************************************************************************
commit 0c3e179652842f9f65b810ff64447aefaa9d76f4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 03:59:38 2021 +0300

    - get rid of fpc_PushExceptAddr and fpc_PopAddrStack entirely, when compiling in
      wasm native exceptions mode - these helper routines aren't necessary in this
      mode

M	compiler/wasm32/nwasmflw.pas
M	rtl/inc/compproc.inc
M	rtl/wasm32/except_native.inc

******************************************************************************
commit 91f0f1a86c293dbf972ed684ff196244f5292af4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 03:46:30 2021 +0300

    * don't include except.inc if wasm32 native exception is turned on, instead
      replace it with except_native.inc

M	rtl/inc/objpas.inc
M	rtl/wasm32/except_native.inc
M	rtl/wasm32/wasm32.inc

******************************************************************************
commit 73bc8edef3ad66e208cfb30fd0df3e13f3b9fbdf
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 03:31:04 2021 +0300

    + RTL support for raising exceptions in native wasm exceptions mode

M	rtl/wasm32/except_native.inc

******************************************************************************
commit c9fd115ec575728f9a8b3966b5de73f1477ea549
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 03:29:45 2021 +0300

    * fixes to the try..finally code generation in wasm native exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 21fd8cd5d3f98ecdd2847aa3bb43cce64af8f7b9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 03:01:09 2021 +0300

    * updated ppudump with the new asm symbol types and binding types

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit cdf1ceca765df8b62d4888981cc27f023978c39d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 02:52:40 2021 +0300

    * emit a weak symbol for the exception tag, since that's what the LLVM linker
      wants to treat them as shared between .o files

M	compiler/aasmbase.pas
M	compiler/aasmtai.pas
M	compiler/ogbase.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/nwasmflw.pas
M	compiler/wasm32/nwasminl.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit f701d2f29498bb4766d814265995bad14c68ad13
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 01:11:01 2021 +0300

    + support in_wasm32_throw_fpcexception in twasminlinenode.pass_typecheck_cpu

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit ec0bdfbdd9235119d210efaf7243b0ce2c9decff
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 00:19:13 2021 +0300

    * fill exceptstate variables and update flowcontrol in
      twasmexceptionstatehandler_nativeexceptions.new_exception
    - removed the TODO comment, generated in the asm output by
      twasmexceptionstatehandler_nativeexceptions.free_exception

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 15b2f9a7b1482ab9b1abb457066d494f1e18b57b
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Sep 26 18:08:46 2021 +0100

    Changed get_volatile_registers_mm to not return XMM16 to XMM31 when not under AVX512

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit b463f2a141166cc739f27e5c93c9274db683ad2d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 21:44:09 2021 +0300

    + added support for exception tags and for the 'throw' and 'catch' instructions
      in the wasm internal assembler and object writer

M	compiler/aggas.pas
M	compiler/assemble.pas
M	compiler/ogbase.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/nwasmutil.pas
M	compiler/wasmbase.pas

******************************************************************************
commit 82b6450f198b15bd2823554d47a275eb836c9933
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 17:49:30 2021 +0300

    + introduced the AT_WASM_EXCEPTION_TAG asm symbol type, use that for specifying
      the parameter to the 'throw' and 'catch' instructions

M	compiler/aasmbase.pas
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/nwasmflw.pas
M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit e0ad427b6c83a334362f42f8d1d3782963f76fa3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 17:38:28 2021 +0300

    + introduced the FPC_EXCEPTION_TAG_SYM string constant

M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit b46c010f82aae51435dda77ca93d91b1401b0203
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 05:40:26 2021 +0300

    + also support immutable wasm globals in the wasm assembler writer (both internal and external)

M	compiler/aggas.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 7b3154911931d4b92c619c207e37194057c00b68
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 05:17:20 2021 +0300

    * the data section is now only written by the internal wasm object writer, when
      there are data segments in the module

M	compiler/ogwasm.pas

******************************************************************************
commit e85aff2b967839b9597ed00d613c268d1a6ccf50
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 04:53:35 2021 +0300

    * combined TWasmObjSymbol.ImportIndex and .FuncIndex into just .FuncIndex,
      because there's no point in having them separate, and the name ImportIndex
      is misleading, as there are multiple import indices (they are separate for
      functions, globals, tables, memories, etc.)

M	compiler/ogwasm.pas

******************************************************************************
commit 2bce4d36db45ada7533f2e6d3d42d84d5b58b711
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 04:24:49 2021 +0300

    + proper support for WASM globals in the internal object writer - emit
      relocations, generate a Global section, if they are declared in the object
      file, etc.

M	compiler/ogbase.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 5ad2d47e236b80d0d091667a665c6a4da736c1f6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 03:03:57 2021 +0300

    * track wasm global types in the internal object writer

M	compiler/assemble.pas
M	compiler/ogwasm.pas

******************************************************************************
commit 812732cb6ad97a11c9aa8f2b0767f8dda2dd29e5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 02:52:29 2021 +0300

    + introduced the AT_WASM_GLOBAL asm symbol type

M	compiler/aasmbase.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 8226233aa3f6265e9c29b120493fd1fff3e6b5ee
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 02:39:43 2021 +0300

    * introduced the tai_globaltype asm directive, use that to declare the stack
      pointer global symbol

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/agllvmmc.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit a1c8e92904f3504fe6c3a7140134b910aadc04d9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 00:33:57 2021 +0300

    * emit a tai_tagtype for __FPC_exception instead of hardcoding the asm output
      directly when wasm native exceptions are enabled

M	compiler/aggas.pas
M	compiler/wasm32/agllvmmc.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 10db5ea5dc0093161900a4fc88d2905735c3d95f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 23:58:21 2021 +0300

    + implemented the 'delegate' and the 'rethrow' instructions in the wasm internal assembler

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 6fb4b9b7dd751e41d7ef808c31a33e7810169c24
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 23:50:02 2021 +0300

    + support the 'try' instruction in the wasm internal assembler

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 0bb781c92876ed29bb962e9129a4f9f1c14df412
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 23:14:52 2021 +0300

    * omit writing the export section if there are no exported functions from
      the module. This reduces object file size slightly for modules without
      exports.

M	compiler/ogwasm.pas

******************************************************************************
commit d37117c460f1cb65e6d750d9085f628a0dcec562
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 23:10:55 2021 +0300

    * use an incrementing counter variable to determine the numbers for the code
      and data section, so they can be used in the relocation section, without
      hardcoding them as constants. This will automatically adjust the numbers
      when we add more sections, or when we make writing some of the sections
      optional.

M	compiler/ogwasm.pas

******************************************************************************
commit 77b898fe45cecf6a52176dcdb86ce0f63b9a8f57
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 22:21:34 2021 +0300

    * use objsym.size to determine the code size of the function (instead of
      writing until the end of the section) in the wasm internal object writer.
      This removes the extra padding of 'unreachable' instructions at the end of
      each function (which are zeroes, added for alignment - they are harmless,
      but are unnecessary and cause a slight increase of the size of the
      resulting binaries), after the final 'return' instruction of the function.

M	compiler/ogwasm.pas

******************************************************************************
commit bc76487b878e59133ce3c2cc19ebb13f9a9826ea
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 20:46:47 2021 +0300

    + enable the WebAssembly internal assembler and object writer

M	compiler/ppcwasm32.lpi
M	compiler/systems/i_embed.pas
M	compiler/systems/i_wasi.pas

******************************************************************************
commit db843287a2d21b94049af809161a9dab8884331c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 20:37:34 2021 +0300

    + generate funcdef for external procs, that don't have an import dll

M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 2102fbdc97e9cdcdb56bb5e549018454197351c8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 20:13:35 2021 +0300

    - removed debug writelns from the wasm internal object writer

M	compiler/ogwasm.pas

******************************************************************************
commit 99c84da071bf59d35e0e0ec85f83dc0a2bde7bef
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 20:02:48 2021 +0300

    + generate the export section in the wasm internal obj writer

M	compiler/assemble.pas
M	compiler/ogwasm.pas

******************************************************************************
commit 1c8579da2e401ee0dfb54bcbd170130c0a653659
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 18:40:49 2021 +0300

    * simplified and integrated the WriteImportExport procedure into the case
      statement. Use similar statements to write the asm code for the export_name,
      like we use for the import_name directive.

M	compiler/aggas.pas

******************************************************************************
commit 346b57e238953710adbf9b576cba46a5f2e33817
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 18:35:10 2021 +0300

    * tai_impexp renamed tai_export_name
    * ait_importexport renamed ait_export_name

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/systems/t_wasi.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/agwat.pas

******************************************************************************
commit 2940d0f45f41fd70107d2660a5059f4682833fb4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 18:29:28 2021 +0300

    - removed unused constructor of tai_impexp, as well as unused member variable extmodule

M	compiler/aggas.pas
M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 79f60923bad6ba4e0dec027eacf66a892375fae8
Author: J. Gareth "Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Sep 26 14:09:29 2021 +0000

    Bug fix to XMM block move optimisation

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit abf831c430aff63659113e53150debbd0bc8724f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 11:11:43 2021 +0300

    + fixed the addend in the relocations that point to data

M	compiler/ogwasm.pas

******************************************************************************
commit 2d1ebe4cb3087935ef30467d6d71ca74cb8967da
Author: florian <florian@freepascal.org>
Date:   Sun Sep 26 09:50:30 2021 +0200

      + re-added accidently removed internal error

M	compiler/aarch64/aasmcpu.pas

******************************************************************************
commit c881d057937f8146701634e884a44f58e29d24c4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 10:29:17 2021 +0300

    * fixed bug in the code, generated for the RELOC_FUNCTION_INDEX_LEB
      relocation

M	compiler/ogwasm.pas

******************************************************************************
commit 07461d0fc3a36fd6071aaa9bd13f2d651ae0a74d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 10:17:19 2021 +0300

    * made the constructor of TObjSymbol virtual, so it can be overriden

M	compiler/ogbase.pas
M	compiler/ogwasm.pas

******************************************************************************
commit cb3ac37fb3f78b06a9507b30d8861c20b460e201
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 09:50:35 2021 +0300

    * fixed i32.const with large unsigned 32-bit const parameter (>2GB)

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit efd58317428d3407d7ac5b5986f9674698a4de70
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 09:42:12 2021 +0300

    * generate an internal error if an attempt is made to emit a
      R_WASM_MEMORY_ADDR_LEB relocation, that points to code, instead of
      data

M	compiler/ogwasm.pas

******************************************************************************
commit 392ca81c20b781db7c33eba2b8609f71ce90ab15
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 09:40:28 2021 +0300

    + add threadvar symbols to the symbol table

M	compiler/ogwasm.pas

******************************************************************************
commit 92fb1d2564de0dd45567e943694c03e2a4b01ae5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 08:25:22 2021 +0300

    * fixed warning

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 9e0c0281425c455978b3a16ad1a8cebe676a00b4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 08:15:04 2021 +0300

    + support load/store with op_const

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 7e9607a62c76ab980f9651227889b7118566cbf3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 08:07:21 2021 +0300

    * fixed warning

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 2e491d1ffac963e2a23aab466f53672f2bc8c332
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 07:58:59 2021 +0300

    + implemented the br and br_if instructions in the wasm internal asm

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit ca70cb05a73c7a8a1dd4d1e5e247cf2efdae25c6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 07:54:20 2021 +0300

    * fixed warning

M	compiler/wasm32/cpubase.pas

******************************************************************************
commit 07b71ac6ce199a2076d7b49f99d1d6f6a14d1d08
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 07:48:31 2021 +0300

    * generate an internal error instead of warning for unsupported opcodes
      in the internal asm writer for wasm

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit d7b141d70e8c9bfbde9453ce51b16143ffce0d5f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 07:45:14 2021 +0300

    + implemented the if, loop and else instructions

M	compiler/ogwasm.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/cpubase.pas

******************************************************************************
commit 6133affad68b56297afebb8a0425a54e026526d9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 07:19:36 2021 +0300

    + implemented the f32.const and f64.const instructions in the wasm
      internal asm

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 0486caeb91651d48f08738c1464301f0c6e90ded
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 06:58:46 2021 +0300

    * generate an internal error, instead of warning for i32.const and
      i64.const instructions with an unknown parameter

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 81b8574bfd34db60b9ade7cfef8e1f3a83e09512
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 06:49:51 2021 +0300

    + implemented all the load/store instructions in the wasm internal asm
      writer (previously, only i32.load and i32.store were implemented)

M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/cpubase.pas

******************************************************************************
commit ea401ccc826b13e56965ea4dbc0b79b8a01bb7f2
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 06:27:02 2021 +0300

    + support writing R_WASM_MEMORY_ADDR_I32 relocations

M	compiler/ogwasm.pas

******************************************************************************
commit 7f5250bf464351a1a2839321df92119fc1812c78
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 06:22:41 2021 +0300

    + implemented support for R_WASM_TABLE_INDEX_SLEB relocations

M	compiler/ogbase.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 9fa2e2934bc6abac17a1fa0fdf55fca1dd9896a3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 06:03:18 2021 +0300

    + support the call_indirect instruction and the R_WASM_TYPE_INDEX_LEB
      relocation that it requires in the internal wasm object writer

M	compiler/ogbase.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit bd6bbb6cf4fd0ba52c1447dff58a26dfd98579b9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 05:36:51 2021 +0300

    + support writing imports from a different module in the wasm binary object writer

M	compiler/ogwasm.pas

******************************************************************************
commit 238d09d875d38d19c2ff77a12a8b463ed4a524a8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 05:15:50 2021 +0300

    + support writing RELOC_FUNCTION_INDEX_LEB relocations to non-external functions

M	compiler/ogwasm.pas

******************************************************************************
commit bf5048cb5e9655558802a7f369fee009d33b57e7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 04:46:46 2021 +0300

    + support generating R_WASM_TABLE_INDEX_I32 relocations

M	compiler/ogwasm.pas

******************************************************************************
commit acdb65c2a33517d623d8468388f323969a49d946
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 04:19:16 2021 +0300

    + support tai_symbolpair in the wasm internal obj writer, so that the
      PASCALMAIN alias of main can be created

M	compiler/ogwasm.pas

******************************************************************************
commit 83f2f7bf375bd50366d8ae859ae88fcdc8ad795d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 03:56:56 2021 +0300

    + introduced TObjData.SymbolPairDefine, to allow custom handling of symbol
      pairs in the internal object writer

M	compiler/aasmbase.pas
M	compiler/aasmtai.pas
M	compiler/assemble.pas
M	compiler/ogbase.pas

******************************************************************************
commit 6e7e6326822490236e1c46895221212bd1840366
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 03:16:01 2021 +0300

    * fixed another warning

M	compiler/ogwasm.pas

******************************************************************************
commit 4ebf857ffcf8997a3d5efca9c4f2ae2954d49b09
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 03:05:00 2021 +0300

    * fixed warning

M	compiler/ogwasm.pas

******************************************************************************
commit b913133152b08d8c823dee93425285955d5d34bf
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 02:23:31 2021 +0300

    + implemented leb and sleb relocations to data symbols

M	compiler/ogbase.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 67cbb7032e1025996309689fc2fb3687c48b64af
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 00:45:52 2021 +0300

    + fully implemented the RELOC_FUNCTION_INDEX_LEB relocations

M	compiler/ogwasm.pas

******************************************************************************
commit 4e4910cb8409adc60bcb4e02d907d75203785a15
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 23:47:30 2021 +0300

    + write the relocation tables for the code and data sections (empty for now)

M	compiler/ogwasm.pas

******************************************************************************
commit 217b3ea3cc200030e22b40831a479d5073bb299b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 23:30:43 2021 +0300

    + write the segment info (names and alignment) to the linking custom section

M	compiler/ogwasm.pas

******************************************************************************
commit 5066a7eb2464ad8d4a9d10bcbb8c848c66c63e78
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 23:20:15 2021 +0300

    + also write the data symbols to the symbol table

M	compiler/ogwasm.pas

******************************************************************************
commit ad8ed4b48d60ec8becdf5609d9b1a63cfbd1efdd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 23:02:48 2021 +0300

    + write the non-external functions to the symbol table as well

M	compiler/ogwasm.pas

******************************************************************************
commit 2805e44ccb58b9c8a31864c6ccedccbcd024487c
Author: florian <florian@freepascal.org>
Date:   Sat Sep 25 21:59:47 2021 +0200

      * Aarch64: taicpu.spilling_get_operation_type with new instructions extended

M	compiler/aarch64/aasmcpu.pas

******************************************************************************
commit 2d2906205bbbdcc4769ea5587625deb9fa30c83f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 22:45:30 2021 +0300

    + write the externals to the symbol table

M	compiler/ogwasm.pas

******************************************************************************
commit 3e984294181d96a590a814476616c1d3e365f458
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 25 20:59:22 2021 +0200

    Revert "  * patch by J. Gareth Moreton: Nothing (NOP) node optimisation, resolves #38194"
    
    This reverts commit c2ff85ac5ba307d7cc10cae7ee17d479c83c9119.
    
    That change duplicates the logic of tstatementnode.simplify in
    tblocknode.simpify in a very complex way, and in case of issue #39336 results
    in adding a non-tstatementnode in a tblocknode, which is illegal. If
    tstatementnode.simplify cannot catch all cases, then that one should
    preferably be improved instead (and if not possible, we can look into
    catching those edge cases in tblocknode.simplify rather than duplicating
    everything).
    
    Resolves issue #39336

M	compiler/nbas.pas

******************************************************************************
commit 8c57d20abc119d71c86bf24088623dbced3565b7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 19:19:12 2021 +0300

    + write the linking section (empty for now)

M	compiler/ogwasm.pas
M	compiler/wasmbase.pas

******************************************************************************
commit 8295173f8665ba60a3b6df56581b280b448cf6f4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 19:05:36 2021 +0300

    + added enums for the wasm symbol type and constnats for the bitflags

M	compiler/wasmbase.pas

******************************************************************************
commit 12496a638b4c5b1ec45b5435c8db03ea34e851f1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 18:37:10 2021 +0300

    + add relocation objects for the RELOC_FUNCTION_INDEX_LEB relocation to
      the relocation list. They are not written to the object file, yet.

M	compiler/ogwasm.pas

******************************************************************************
commit a5d1ce26a00d1196bea7292c828caa5fb8a93f27
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 18:24:01 2021 +0300

    + partial implementation of emitting RELOC_FUNCTION_INDEX_LEB relocations

M	compiler/ogwasm.pas

******************************************************************************
commit cbf444bbbe699581354288d36b27c43ffcb47c17
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 18:08:01 2021 +0300

    + write the actual function code in the code section

M	compiler/ogwasm.pas

******************************************************************************
commit dbb6f95ea74a7d510502818c38e9dabbe8784448
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 17:49:19 2021 +0300

    * replaced TWasmObjData(Data) with FData in TWasmObjOutput.writeData

M	compiler/ogwasm.pas

******************************************************************************
commit 6d1df899e61fc69117a2e061b17cfe241d2637f1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 17:40:58 2021 +0300

    + write the code section (still, without the actual function code, but with
      the correct locals)

M	compiler/ogwasm.pas

******************************************************************************
commit fcb646bc3bae2cd53070cd608bf281b1da534271
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 25 16:14:30 2021 +0200

    obcpas: fix categories implementing protocols
    
    Allocate the ImplementedInterfaces array for them and save to/load from ppu
    
    Solves #39375

M	compiler/ppu.pas
M	compiler/symdef.pas
A	tests/webtbs/tw39375.pp

******************************************************************************
commit e924dd0d16c13c27bfee35e98376e05bcb887415
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 16:53:00 2021 +0300

    + generate and write the functions table in the wasm binary module,
      produced by the internal obj writer

M	compiler/ogwasm.pas

******************************************************************************
commit 7e53fecd092c55b7675af5e6bf5dfafbe9e74da0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 16:00:09 2021 +0300

    + handle tai_local in the internal asm writer and store the locals in the
      wasm obj extra symbol data object

M	compiler/assemble.pas
M	compiler/ogwasm.pas

******************************************************************************
commit 050519f16fb7f00d857776249fbceab350196b04
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 15:44:35 2021 +0300

    + handle the import_module and import_name directives in the internal
      assembler and store them as obj symbol extra data

M	compiler/assemble.pas
M	compiler/ogwasm.pas

******************************************************************************
commit 4ef2a889464dcf5b05569da5ef97cc883a4a6938
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 15:35:28 2021 +0300

    + added method TWasmObjData.AddOrCreateObjSymbolExtraData

M	compiler/ogwasm.pas

******************************************************************************
commit 27675967f85208af3308f342a4e2ca0d0a8dc0a9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 15:24:30 2021 +0300

    * store the funcname to functype index in a TFPHashObjectList, instead of
      TFPHashList with the index converted to pointer, which was a hack and didn't
      allow adding more fields, which we would need to do for e.g. import_module
      and import_name

M	compiler/ogwasm.pas

******************************************************************************
commit 72a49b68cef4c213f089c79fc1d47b2874ba146a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 00:39:03 2021 +0300

    * fixed the writing of the external functions in the import table

M	compiler/ogwasm.pas

******************************************************************************
commit 54481d72180e06b180f5bde6881b10955c5d51c1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 00:16:53 2021 +0300

    * moved the imports/funcdef writing from the llvm-mc assembler writer to
      twasmnodeutils.InsertObjectInfo. This way, the info it produces will be
      shared with the internal wasm object writer as well.

M	compiler/wasm32/agllvmmc.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit d19919aa13198236de0475494c841f86429e3a31
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 00:00:51 2021 +0300

    * TLLVMMachineCodePlaygroundAssembler.WriteImports now uses just a single TAsmList

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit f56aa9abe79fff9dd5f36e5f092aa2629dd1c6fc
Author: florian <florian@freepascal.org>
Date:   Fri Sep 24 22:27:22 2021 +0200

      * set expectloc properly for x87 on x86

M	compiler/ncal.pas

******************************************************************************
commit a6e75d52f7ba8758f24b84ac44256dba3fb80919
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 24 22:14:32 2021 +0300

    + introduced tai_import_module and tai_import_name that represent the
      .import_module and .import_name assembler directives

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit 459bb0fa1801f1809b74f92fb1d11803c41bc372
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 24 21:52:57 2021 +0300

    * override twasmnodeutils.InsertObjectInfo

M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit a3666aa8c96c198b294bd794cb1fbc6eed2c28dd
Author: florian <florian@freepascal.org>
Date:   Fri Sep 24 20:10:38 2021 +0200

    o manually applied merge request 46 by J. Gareth "Kit" Moreton:
        + x86_64: XMM-based block move optimisation

M	compiler/x86/aoptx86.pas
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit 860e4487c313f7c88591422034293702318d0d1c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 24 16:44:33 2021 +0300

    + added WebAssembly node utils

M	compiler/wasm32/cpunode.pas
A	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 5abfe21f39cf60800c77ee5f22198d94e8341054
Author: florian <florian@freepascal.org>
Date:   Thu Sep 23 22:43:51 2021 +0200

      + apply unary minus optimizations also to /
      * test extended

M	compiler/nmat.pas
M	tests/tbs/tb0685.pp

******************************************************************************
commit 8ae1b6eace7813158e0846dc6edf1c79216aeea1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 23 17:59:21 2021 +0200

    pastojs: clone multi dim static array

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcgenerics.pas
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit cc8f8dbde854bd3e6ae8663949660924817bb44b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 23 17:58:59 2021 +0200

    fcl-js: fixed typo

M	packages/fcl-js/src/jstree.pp

******************************************************************************
commit 4ca39cf07d95ca95693e5df13f99829da632037a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 23 17:11:24 2021 +0300

    + write the import functions in the wasm binary writer

M	compiler/ogwasm.pas
M	compiler/wasm32/cpubase.pas

******************************************************************************
commit 78af12b58483e701da0097898e26335382e4dcb4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 23 16:19:15 2021 +0300

    + added function name to functype hashlist in the wasm objdata class

M	compiler/ogwasm.pas

******************************************************************************
commit 01d6358f93faadd4ec8f61c1146d6a5178792580
Author: florian <florian@freepascal.org>
Date:   Wed Sep 22 22:08:56 2021 +0200

      * some fixes for expectloc

M	compiler/x86/nx86add.pas
M	compiler/x86/nx86con.pas

******************************************************************************
commit a0c0a8fa8c1b8d9ab6113eaa6ab6705b2b071df1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 22 13:10:05 2021 +0200

    pas2js: fixed rtl.tTypeMemberProperty

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 69d5d648a9630a85a0ba9dbe0f79345152294112
Author: florian <florian@freepascal.org>
Date:   Tue Sep 21 23:09:33 2021 +0200

      + more unary minus optimizations
      * test extended

M	compiler/nmat.pas
M	tests/tbs/tb0685.pp

******************************************************************************
commit 781da5e60d334d6f59cfe97a511660b353bd5ddc
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Sep 21 12:21:42 2021 +0200

    pas2js: nil typeinfo Module, Attr and params

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 3e760b33c736290988741ce7354824cab306e952
Author: florian <florian@freepascal.org>
Date:   Mon Sep 20 22:30:41 2021 +0200

      + more unary minus optimizations
      * test extended

M	compiler/nmat.pas
M	tests/tbs/tb0685.pp

******************************************************************************
commit a58368d20ddcf3cab0259ee41d363e5449c4317e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 19:33:48 2021 +0300

    + avoid duplicate functypes in the types section of the wasm module we produce

M	compiler/ogwasm.pas
M	compiler/wasm32/cpubase.pas

******************************************************************************
commit 3e2a9b6cebcc0f3f68a633bcbede5bd2f47339cb
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 05:03:38 2021 +0300

    + handle the call instruction in the wasm binary writer

M	compiler/ogbase.pas
M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit ab0d7697c3038537c983dbedd52046fe27022d70
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 04:47:51 2021 +0300

    + added the TWasmLinkingSubsectionType enum

M	compiler/wasmbase.pas

******************************************************************************
commit b97570c8b3b0e1c0f3b5d6c337b026686d5d8a68
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 04:39:10 2021 +0300

    + added the TWasmRelocationType enum

M	compiler/wasmbase.pas

******************************************************************************
commit bb0155141ad1afa1869f503b585f9d29fc5bca6f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 04:25:40 2021 +0300

    * fixed warning

M	compiler/ogwasm.pas

******************************************************************************
commit 92592be8e43db53a29b9f12d49efa317fefe844e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 04:16:25 2021 +0300

    + print more symbol properties to the console

M	compiler/ogwasm.pas

******************************************************************************
commit 628fcb9b1ccf610691b9ae8cfe809707e15e3822
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 03:43:23 2021 +0300

    + create the Type wasm section

M	compiler/assemble.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/cpubase.pas

******************************************************************************
commit 3c3120845af13d067111b13bcdae08ce00247333
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 03:07:00 2021 +0300

    * fixed crash when writing a binary wasm module with a .bss section

M	compiler/ogwasm.pas

******************************************************************************
commit fced051f5fccf67c516c43e7e09154cf2a11b1fd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 03:00:37 2021 +0300

    + implemented binary encoding of a_i32_load and a_i32_store without symbol

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit b975317c51fb420d7bedc1200d3e18446f6a4f5e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 02:37:40 2021 +0300

    + implemented the encoding of the block instruction without operands

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 079e5ae15119401f66a4533034f14b37f083407a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 02:24:28 2021 +0300

    + encode the end_function dummy instruction

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit b7c638a7170bf24eebe666cb6b08bdc902ee7f9b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 02:19:18 2021 +0300

    + implemented binary encoding of the global.get and global.set instructions

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 4a886e2019c0ebe050d48073eb025483ce0ecdf5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 02:09:42 2021 +0300

    * simplified operand access via the 'with' operator

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 4dd44427c05ad14e10b6fa2b5c1d9448fdf47613
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 02:03:47 2021 +0300

    + implemented instruction encoding for local.get, local.set and local.tee

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 2954588e4d73e1e7932edbe664f4fdd2fc7c855f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 01:46:07 2021 +0300

    + implemented binary output for the i32.const and i64.const with top_const parameter

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 5b3efc4b385922d87b0b540c2e9cdb3c9030a62f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 01:24:39 2021 +0300

    + implemented encoding of the most simple wasm instructions

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 455f603c8c6614f10993047e3c047fb8df3d3f2e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 00:14:02 2021 +0300

    + debug print the obj symbols to the console

M	compiler/ogwasm.pas

******************************************************************************
commit 8cb92fd49a8f89d830850e3f775550342ccb1a8e
Author: florian <florian@freepascal.org>
Date:   Sun Sep 19 23:07:59 2021 +0200

      * simplify real expressions involving unary minus
      + test

M	compiler/nadd.pas
A	tests/tbs/tb0685.pp

******************************************************************************
commit 12796d176d278f11843fde6abbd0935c21eba2da
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 00:05:28 2021 +0300

    + added the indirect function table to the imports section

M	compiler/ogwasm.pas

******************************************************************************
commit 905f0b1f7819d50eaa2a0cc0e4c9da7e491d6847
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 23:56:32 2021 +0300

    + add the __stack_pointer global import

M	compiler/ogwasm.pas

******************************************************************************
commit e8c3f5d6b0a19348358d039c2f975c920b39b26e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 23:43:45 2021 +0300

    + create the data section and the first entry of the import section

M	compiler/ogwasm.pas

******************************************************************************
commit 2563cb6daa45b7b4ff2034f3c383a5c080c5f756
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 22:46:54 2021 +0300

    + start writing the wasm sections. The DataCount section is the first section to be implemented.

M	compiler/ogwasm.pas

******************************************************************************
commit e45d8578e8d8c5ee425f5efc31439f54ffd02ceb
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 21:04:55 2021 +0300

    + count the number of segments and assign segment indices to the wasm sections

M	compiler/ogwasm.pas

******************************************************************************
commit eea8f3277211a2df7cc299dacd03cf600dcd48b5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 20:56:06 2021 +0300

    + introduced TWasmObjSection.IsCode and .IsData

M	compiler/ogwasm.pas

******************************************************************************
commit 698b5de389b0342acb28bc6f753b79aa1b922933
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 20:51:33 2021 +0300

    + added TWasmObjSection class

M	compiler/ogwasm.pas

******************************************************************************
commit 429454c8f48b197db4f8d25fb382cbc074f23e38
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 20:46:45 2021 +0300

    + write some debug info to the console in the wasm obj writer

M	compiler/ogwasm.pas

******************************************************************************
commit 967b721e4ffa310891361e6947a40181e7288d2d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 20:09:25 2021 +0300

    + enabled the WASM32_INTERNALASM define when compiling with the lazarus project file

M	compiler/ppcwasm32.lpi

******************************************************************************
commit c200bf531176074e75a0d8efab36ad34886a3cd6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 19:41:27 2021 +0300

    * fixed TWasmObjData.sectionname_gas

M	compiler/ogwasm.pas

******************************************************************************
commit fd4d6b8fc3f139bbb41eaa96d82055b25868ea4b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 19:33:33 2021 +0300

    + write the wasm binary module header and version

M	compiler/ogwasm.pas

******************************************************************************
commit ffc5131087cc627c3ce957de0998d92518a3d958
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 19:24:16 2021 +0300

    + implemented TWasmObjData.sectionname

M	compiler/ogwasm.pas

******************************************************************************
commit 59ea39ce75fd1f8f5d3f9cb5afa264c3198d8a96
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 18:49:25 2021 +0300

    + started the wasmbase unit (similar to elfbase and omfbase)

M	compiler/ogwasm.pas
A	compiler/wasmbase.pas

******************************************************************************
commit fc41306c4585c17e34d17a5f3618b59806152fdc
Author: florian <florian@freepascal.org>
Date:   Sun Sep 19 17:40:11 2021 +0200

      * fix alignment issues with -<single/double> when using SSE

M	compiler/x86/nx86mat.pas

******************************************************************************
commit a13694988df7925be96e917c3952e82036d2653e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 17:27:34 2021 +0200

    pastojs: fixed assign external const to int

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit a46261bc15ad93c953e8d116a2a7bb311a4fac0f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 17:03:20 2021 +0200

    pastojs: fixed tests

M	packages/pastojs/tests/tcprecompile.pas

******************************************************************************
commit 6c1c4a66e820f3f807edff51be7abbc357b661e8
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 16:56:36 2021 +0200

    pastojs: fixed invalidate directory cache

M	packages/pastojs/src/pas2jsfilecache.pp
M	packages/pastojs/src/pas2jspcucompiler.pp
M	packages/pastojs/tests/tcunitsearch.pas

******************************************************************************
commit 0b5c8030e40ec3176d667a3bce0db00222b3a809
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 16:55:12 2021 +0200

    pas2js: comment

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit cc314e61a20bbe4abf28682bca83c8df070320ca
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 16:16:42 2021 +0300

    + started working on the WebAssembly internal assembler

A	compiler/ogwasm.pas
M	compiler/systems.inc
M	compiler/systems/i_embed.pas
M	compiler/systems/i_wasi.pas
M	compiler/wasm32/cputarg.pas

******************************************************************************
commit f10fae66df3eac37f6e2b9808c48e0075921374f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 14:11:51 2021 +0200

    pastojs: error on linklib options

M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit d14c13fc7213b129d33f5ef83213c245ce85dd3f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 14:04:29 2021 +0200

    pastojs: fixed compile tests

M	packages/pastojs/tests/tcprecompile.pas

******************************************************************************
commit 8a0fe7bc855ef5b4d17ee674c94bca42fa7719d9
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 14:04:07 2021 +0200

    fcl-js: less hints

M	packages/fcl-js/src/jswriter.pp

******************************************************************************
commit 5bcc530707062fc715a4dab703848388d67efd7c
Author: florian <florian@freepascal.org>
Date:   Sat Sep 18 22:11:03 2021 +0200

      * handle -<mm reg.> more cleverly if SSE is used

M	compiler/x86/nx86mat.pas

******************************************************************************
commit 5a2d884fe3f3f556bec5ae3a74917d31c5ce896c
Author: florian <florian@freepascal.org>
Date:   Sat Sep 18 19:24:37 2021 +0200

      * is_calljmp really means calls and jmp
      * is_calljmpuncondret includes ret

M	compiler/x86/aoptx86.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit f78818e38727ccefbd1c3b1415d186ca67f34fd4
Author: florian <florian@freepascal.org>
Date:   Sat Sep 18 19:24:05 2021 +0200

      * some warnings fixed

M	compiler/pdecl.pas
M	compiler/pexpr.pas
M	compiler/symsym.pas

******************************************************************************
commit d3ec8f0d293df1b3fe2bfc3f2bfd869c8cce7da2
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 18:10:57 2021 +0300

    * generate an internalerror if there are values remaining on top of stack
      at the end of a procedure. If the compiler is compiled with
      DEBUG_WASMSTACK, the previous asm comment message is emitted instead of
      internal error.

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 324382d3a54e63f815d0793bdc810617b4c4981c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 17:59:50 2021 +0300

    * use create_functype to determine accurately the number of parameters to
      discard in twasmcallnode.do_release_unused_return_value. This fixes
      various stack tracking bugs when a constructor is invoking another
      constructor, etc.

M	compiler/wasm32/nwasmcal.pas

******************************************************************************
commit f7cc2d560c322a338aa4d8ac207baddfac24f159
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 16:29:19 2021 +0300

    + initialize br_blocks in the thlcgwasm constructor

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit a3610bfea10c23589925d467bfae6c3b1911716e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 16:24:30 2021 +0300

    + also added stack underflow check in thlcgwasm.incstack (in case stack
      height was already negative in the beginning, due to previous underflow)

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit d4bd1f1e9b60c6b1007a3cfd14c168fbcbeb4482
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 16:21:41 2021 +0300

    * don't halt with an internal error, but add an asm comment instead, when a
      stack underflow is detected in thlcgwasm.decstack and when the compiler is
      compiled with the DEBUG_WASMSTACK define

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 58e46927954a9146b7a3ec40b680a0e54fe784c4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 16:19:03 2021 +0300

    * fixed thlcgwasm.g_adjust_stack_after_call after the removal of discardresult

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit fa3614164970f06540f8f959d3d2331888e2d00b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 16:08:58 2021 +0300

    * fixed the stack tracking in twasmcallnode.do_release_unused_return_value for
      ret_in_param function calls

M	compiler/wasm32/nwasmcal.pas

******************************************************************************
commit d2929586652740f02401d6c9f603cc1b2faa56f9
Author: florian <florian@freepascal.org>
Date:   Sat Sep 18 14:25:40 2021 +0200

      * + .gitconfig with configuration for better diffing, needs a
        git config --local include.path ../.gitconfig
        to be activated

A	.gitconfig

******************************************************************************
commit 962c5bd727fe1930421e1897d0c8aaf6fba6a489
Author: J. Gareth "Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Sep 18 08:30:50 2021 +0000

    x86: MOV constant optimisation

M	compiler/x86/aoptx86.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit 33e25a3dfed57b58ba8576e846e63779e8d6c9a0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 03:08:48 2021 +0300

    + added except_native.inc include file (empty for now, but will provide RTL
      support for the native wasm exceptions in the future)

A	rtl/wasm32/except_native.inc
M	rtl/wasm32/makefile.cpu
M	rtl/wasm32/wasm32.inc

******************************************************************************
commit f76e91fb8bcbbc82044078d81fe8c965a2f42f79
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 02:52:24 2021 +0300

    * cloned twasmtryexceptnode.pass_generate_code_no_exceptions into twasmtryexceptnode.pass_generate_code_native_exceptions

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 334ea46b44eae63a9fdff984a584c4423770477d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 02:48:51 2021 +0300

    * cloned twasmraisenode.pass_1_no_exceptions into twasmraisenode.pass_1_native_exceptions

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit c2754eac3f4e2e6351f8354ce571160549fb8b86
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 02:39:16 2021 +0300

    + introduced the wasm32_throw_fpcexception inline function, that emits a
      'throw' instruction. This way we'll be able to emit this instruction from
      RTL code (i.e. from fpc_raiseexception, when that is implemented for
      WebAssembly)

M	compiler/wasm32/ccpuinnr.inc
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/cpuinnr.inc

******************************************************************************
commit ac2f299d0407cf3f03d227549b0bd6d42cdc2f91
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 01:46:45 2021 +0300

    + declare __FPC_exception as a label, otherwise wasm-ld crashes

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit 8ad5362b172b2916720e1352116725f67a58505a
Author: florian <florian@freepascal.org>
Date:   Fri Sep 17 23:44:45 2021 +0200

      * more warnings fixed

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 87702b58c5a7154dbe96f3e01aacd97fb5b477f3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 00:24:13 2021 +0300

    + emit a catch instruction in the try/end_try block, generated for
      try..finally in native wasm exceptions mode

M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit a83f5749debb1409e18f0ef92b2e81bc9d0adba2
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Sep 17 23:54:41 2021 +0300

    * Reverted the accidentally committed debug code in 4a7a113a.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 288f79cb3bc900700c47ed7bdcf3443edfb6b9be
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 23:46:09 2021 +0300

    + declare the __FPC_exception tag, when compiling with native WebAssembly
      exceptions

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit d8665f8a517e90116976cc529a71615fbbdd1bd4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 23:40:55 2021 +0300

    * write the .globaltype directive and the imports in the beginning of the
      assembly file, because that appears to be required by llvm-mc from git

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit bee87583de8b2e6dc4f062a71a5e97f3808ffc63
Author: florian <florian@freepascal.org>
Date:   Fri Sep 17 22:27:34 2021 +0200

      * avoid warnings

M	compiler/aasmtai.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 3f26551c42857ba03739f2e0d89fa1dfc64979bb
Author: FPK <florian@freepascal.org>
Date:   Fri Sep 17 20:01:23 2021 +0000

    Compile with -Oodfa to get better warnings

M	.gitlab-ci.yml

******************************************************************************
commit d36e239f45011d9dea8d15bab4ee3f46f29ff85b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 21:20:14 2021 +0300

    + enabled the exception handling instructions in the llvm-mc command line

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit 619a27cbfc49c3981ac93ba0aa8831d7f453b21a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 21:09:17 2021 +0300

    + insert try and end_try instructions in the try..finally code in native
      WebAssembly exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 45e53ddc16e461e90bb2974375a0227bf8fc0d31
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 21:01:00 2021 +0300

    * cloned the WASM no exceptions mode code generation for try..finally blocks
      for the native WASM exceptions mode. Eventually, it is going to be changed
      to support exceptions fully, and it's going to evolve separately, so this
      code is only used as a starting point

M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 65a5b299c6adedd7ba427507b0944c0857fc0037
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 16:53:35 2021 +0300

    + introduced twasmraisenode.pass_1_no_exceptions

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 6c213137a998537f3cdd0749df432f8d47a04e55
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 16:21:43 2021 +0300

    - cleaned up twasmtryexceptnode.pass_generate_code_no_exceptions

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit c992566201987630e2c4ac0b450f1ed5d5e8fde4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 16:06:39 2021 +0300

    + introduced twasmtryexceptnode.pass_generate_code_no_exceptions,
      .pass_generate_code_js_exceptions and .pass_generate_code_native_exceptions

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 848098c63b501e35e78060ea04ddd551d3085c72
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 15:54:03 2021 +0300

    * improvements to the handling of try..finally in WebAssembly no exceptions
      mode - even though exceptions aren't supported in this mode, the finally
      section is now executed in case of exit, break or continue

M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 3601d61b81415f10da5dd903c03c4e36de3f0a50
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 13:37:28 2021 +0300

    + introduced twasmtryfinallynode.pass_generate_code_no_exceptions,
      .pass_generate_code_js_exceptions and .pass_generate_code_native_exceptions

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 2bcc8d65ff77a8361f8307be819a599f3510800d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 13:12:34 2021 +0300

    + introduced twasmexceptionstatehandler_nativeexceptions and
      twasmexceptionstatehandler_jsexceptions

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 3ca9475bded883a8e24810c494594f2e588ed30f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 12:33:34 2021 +0300

    * twasmexceptionstatehandler renamed twasmexceptionstatehandler_noexceptions

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 9526b939a2a20c5f7b0bd8e1419137d19402b76c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 03:41:45 2021 +0300

    + implemented thlcgwasm.g_unreachable, emits the 'unreachable' WebAssembly instruction

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 4064694a5e438b10d71a24fe5d1d24bad40e4c48
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 02:15:56 2021 +0300

    + support writing the new tai_tagtype directive in the asm output

M	compiler/aggas.pas

******************************************************************************
commit 3022f59ff456f7a8a23198919df5ffcaf175b63a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 02:05:24 2021 +0300

    + introduced ait_tagtype and tai_tagtype

M	compiler/aasmtai.pas
M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 10d833256343adc6495ff6dc4f240b5d8a463a6f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 23:43:32 2021 +0300

    + added the new WebAssembly instructions, added by the exception handling proposal

M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/strinst.inc

******************************************************************************
commit 6b26fa0f9a4c6c7f8d12a10737428c443c7750e2
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Sep 16 18:06:08 2021 +0100

    Added correction to AllocRegBetween

M	compiler/aoptobj.pas

******************************************************************************
commit bdbdf2616830ee919a86d5181440b8db1b89ca84
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 23:09:20 2021 +0300

    + added validation to ensure no more than one WebAssembly exception support
      mode is enabled
    + set the NOEXCEPTIONS mode by default for the WebAssembly targets

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit 08b07122f8c0a270d4f9ccd1bd925e14402323e7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 22:23:18 2021 +0300

    + added usage info to the compiler help screen for the WebAssembly
      target-specific exception handling modes

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit cd244cbf7dbd85f2a28b67fabc27455fd23f1e33
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 21:48:28 2021 +0300

    * fixed compilation of ppudump

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 3a242a17f4ad59a3bccdbc1b7982ce92b9dcec76
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 21:44:05 2021 +0300

    * increased size of ttargetswitchinfo.define to fit the string added in my
      previous commit

M	compiler/globtype.pas

******************************************************************************
commit eda6b105b718d810129c752ec7749d6a8e6132a7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 21:41:54 2021 +0300

    + added target flags for the different WebAssembly exception modes that I'm
      planning to implement

M	compiler/globtype.pas

******************************************************************************
commit 3bf5b0c395c0cc613b76bc7424ab7cd7386f7ee1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 15:15:39 2021 +0300

    - avoid useless typecasts for accessing members in self in thlcgwasm.a_load_subsetref_regs_index

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 4120825f500fb8e60322db86418882cf78fcede2
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 15:14:51 2021 +0300

    + implemented thlcgwasm.a_load_regconst_subsetref_intern

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 7af6e628c81ad931089db74b6477553e9528f2bf
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 14:30:29 2021 +0300

    + implemented thlcgwasm.a_load_subsetref_regs_index

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit c41516399b667b4de468e3a6efa4e6499382d1c8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 12:10:43 2021 +0300

    + implemented thlcgwasm.a_load_subsetref_stack

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 81e83ffa675a60a8244c2a32723bbb00b70f3e46
Author: florian <florian@freepascal.org>
Date:   Wed Sep 15 23:16:53 2021 +0200

      * release temp

M	compiler/x86/nx86inl.pas

******************************************************************************
commit 4a7a113a30030675eb50c9b1d0e563b6d0b82c73
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 22:29:43 2021 +0300

    * x86: Fixed attributes of the LEAVE instruction - it reads EBP.
      This fixes crashes with -O3s in some cases due to an incorrect peephole
      optimization.

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/aoptx86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit e121a753e116701c5a8c68f44ca90b296b67b6e8
Author: Florian Klämpfl <florian.klaempfl@fau.de>
Date:   Wed Sep 15 20:20:00 2021 +0200

      * mark temps as deallocated
    
    (cherry picked from commit 50452e5707b1d5f8590042ed55fc5f47bce33962)

M	compiler/x86/nx86add.pas

******************************************************************************
commit b2165570de567ccd94e192353900000376492fbd
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 21:31:04 2021 +0300

    * Fixed missing assignments with the strength reduction optimization.

M	compiler/optloop.pas

******************************************************************************
commit bd4c2064726700790c5c6bdd0a55d3d471dd0c5b
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 18:07:12 2021 +0300

    * Fixed the strength reduction optimization for loops containing 'continue'.
      The compiler now cycles properly with -O3 -OoSTRENGTH.

M	compiler/optloop.pas

******************************************************************************
commit b8befe3d1fd54329845387d8c7109827c55a0b3c
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 12:25:48 2021 +0300

    * Fixed a typo in the condition, though it seems this code path is not used now.

M	compiler/x86/nx86add.pas

******************************************************************************
commit 3e621f201456c6f1cd7c297078f618ffcf953001
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 15 11:22:52 2021 +0200

    * Allow to specify address

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit 711e659f5c91098da657ac2f9dcb4cb52f14a937
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 15 11:18:27 2021 +0200

    * Allow to specify IP address

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit b08c12ff8ab31b63044bb03ef025dc3c175648a0
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 15 11:18:12 2021 +0200

    * Make some properties public

M	packages/fcl-web/src/base/custhttpapp.pp

******************************************************************************
commit abe3002b5badb867b33dfe4457e92535b089a954
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 00:31:10 2021 +0300

    * Fixed lack of the calculation code for the strength reduction optimization.

M	compiler/optloop.pas

******************************************************************************
commit a7e234254f19327d7053f390ac93d29f53d40803
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 00:27:13 2021 +0300

    * x86: Do not replace inc/dec with add/sub 1 because this code path is
      executed only for the C_Z,C_NZ,C_E,C_NE conditions, so inc/dec can be
      used.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e2624fdaaa0a73ba637629db116ed2c6287494d5
Author: florian <florian@freepascal.org>
Date:   Tue Sep 14 22:01:26 2021 +0200

      * fix test

M	tests/webtbs/tw39357.pp

******************************************************************************
commit 5d571853acdbf9ca26966ae9ddd0eff94aa565c4
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Sep 14 15:51:00 2021 +0300

    pas2js: compile httpcompiler with fpc 3.2.2

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit ffc3e1780d7fb636bd11692558012983e45127af
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Sep 14 11:47:10 2021 +0300

    pas2js: added SetPas2JSGetFileSrcAttrCallBack

M	packages/pastojs/src/pas2jslibcompiler.pp
M	utils/pas2js/pas2jslib.pp

******************************************************************************
commit 6c4198fdf3b71e24886479cae3fb529d82e4b556
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Sep 14 10:53:12 2021 +0300

    pas2js: fixed typeinfo procvar resulttype nil

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 59b49addc0f257a695aedd57f28b73b96382ba3b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 14 09:16:48 2021 +0200

    Revert "* Export SetPas2JSGetFileSrcAttrCallBack"
    
    This reverts commit 0053cec8809421efc739d7f2e5610fa7c966e61a.

M	utils/pas2js/pas2jslib.pp

******************************************************************************
commit 0053cec8809421efc739d7f2e5610fa7c966e61a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 14 09:08:31 2021 +0200

    * Export SetPas2JSGetFileSrcAttrCallBack

M	utils/pas2js/pas2jslib.pp

******************************************************************************
commit 5065e4ba50b7bcda40c0c010b404eb228a4d3188
Author: florian <florian@freepascal.org>
Date:   Mon Sep 13 22:55:44 2021 +0200

      * fix code for ARM FPA, just in case ...

M	compiler/globals.pas
M	tests/webtbs/tw39357.pp

******************************************************************************
commit 9bd785c06bb6f3b7c1dfe2190cb5fbfcfc6f76d2
Author: florian <florian@freepascal.org>
Date:   Mon Sep 13 22:47:26 2021 +0200

      * fix handling of -0.0 in sse/avx code, resolves #39357

M	compiler/x86/nx86con.pas
M	compiler/x86/nx86mat.pas
A	tests/webtbs/tw39357.pp

******************************************************************************
commit 5e9eb673f8141c2a931e971448cf1264d55e7f04
Author: florian <florian@freepascal.org>
Date:   Sun Sep 12 20:28:40 2021 +0200

      * x86: only add mm capable consts to register candidate list, this is better
        than checking when they are assigned

M	compiler/optcse.pas

******************************************************************************
commit 5762e687a3ab8fa55d3d7b14177de991b044e9da
Author: florian <florian@freepascal.org>
Date:   Sun Sep 12 19:36:27 2021 +0200

      * (modified) patch by J. Gareth Moreton: ARM/AArch64 Some short-range LDR/STR optimisations, last part of #38841

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 1e072aef31dbc456da749011f2ede30dddd76546
Author: florian <florian@freepascal.org>
Date:   Sun Sep 12 10:54:09 2021 +0200

      + for loop optimizations can be controller by a switch (-Oo(no)forloop)

M	compiler/globtype.pas
M	compiler/psub.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit c30ce7108e3c6f5719a2be4b95b5d20e518813d5
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 20:40:36 2021 +0300

    * Do not run the tzlib1 test. It is not intended for this.

M	tests/test/packages/zlib/tzlib1.pp

******************************************************************************
commit 80c63fae3052241047931f7b0acc9dfacabb5f7f
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 20:35:50 2021 +0300

    * Explicitly specify DefaultRTLFileSystemCodePage for the test in order
      to be independent from the current system code page.

M	tests/test/units/sysutils/tffirst.pp

******************************************************************************
commit 64812bdc6013bc09f6e59e0d554c3e8e3542987f
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 20:11:40 2021 +0300

    * Modified the test to run properly on non-UTF8 systems.

M	tests/webtbs/tw29353.pp

******************************************************************************
commit daa05f19cb49aefb80c3ce974f29f45cd4148fbc
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 19:53:50 2021 +0300

    * Prevent a crash of the tw2423 test on some versions of Windows.

M	tests/webtbs/tw2423.pp

******************************************************************************
commit fca357e898814c4b8d8f83efb3fc82c6be4c8a2f
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 18:55:44 2021 +0300

    * Disabled running of the sharemem test since fpcmemdll.dll is never built.

M	tests/test/units/sharemem/test1.pp

******************************************************************************
commit 0567572faeb96cc58e54c2c48bcf6c2ada713936
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 18:20:21 2021 +0300

    * Weak externals from DLL are nor supported on Windows.

M	tests/test/tweaklib2.pp

******************************************************************************
commit c27823568a0c35eacd38cbd8428f8b30563dc452
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 11 18:01:37 2021 +0200

    * libimports added

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit bcaa2c9758c41fcc05971c35e14d02faf1163267
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 17:56:33 2021 +0300

    * Explicitly specify CP1252 for registry tests which depends on this CP.

M	tests/test/packages/fcl-registry/tw35060a.pp
M	tests/test/packages/fcl-registry/tw35060c.pp

******************************************************************************
commit c7c8e2e0086f1f257af5f4fb927beae687105f4e
Author: florian <florian@freepascal.org>
Date:   Sat Sep 11 16:24:41 2021 +0200

      * nicer spelling

M	compiler/comphook.pas

******************************************************************************
commit 9653406ac6c2633ac2ee2b12ee857beeed5efeeb
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 16:34:59 2021 +0300

    * Updated json tests to run properly when the default code is non-UTF8.

M	packages/fcl-json/tests/testjson.pp
M	packages/fcl-json/tests/testjsonreader.pas

******************************************************************************
commit 7e158b6c9b70248ab9de3a12484a9c82f6c17ef2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 11 15:29:52 2021 +0200

    * Forgot to commit

M	packages/pastojs/src/pas2jsfiler.pp

******************************************************************************
commit 2781be118f8cb52757eaa7b369332f72550f6252
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 11 15:23:25 2021 +0200

    * Add linklib, add some formatting

M	utils/pas2js/docs/translation.html

******************************************************************************
commit a4821b1d0cacf6458dd21544caddbc52d10255ff
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 11 14:33:47 2021 +0200

    * Additional module platform
    
    (cherry picked from commit 664de8653dc56b13cddac2cd7024697756ae422d)

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit 6b7df6d22e246a54b7ce60e08ac4474664efe90d
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Sep 6 12:54:22 2021 +0200

    Add 'treated as Error:' to compiler messages

M	compiler/comphook.pas

******************************************************************************
commit b4df9dbe1d10937f7e61265cc58cab832f6b8506
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Sep 10 18:06:12 2021 +0300

    * Prevent spilling of spill-helper registers which contain the value of a
      previously spilled register. These helper registers must never be spilled.
      This fixes failures of the register allocator in rare corner cases.

M	compiler/rgobj.pas

******************************************************************************
commit 37bb10e893d97f44e4f130c06ad825a2b4693945
Author: florian <florian@freepascal.org>
Date:   Thu Sep 9 23:10:21 2021 +0200

      * make ShlOp2Op optimization more fool proof

M	compiler/x86/aoptx86.pas

******************************************************************************
commit bad14c5dbd1f72a2ed532636d390fff37b65b195
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 9 16:09:52 2021 +0200

    pas2js: httpcompiler: fixed reading values fomr config file

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit 61cf121533572a72ea65a7ec35bed1a5b3621a5b
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Thu Sep 9 16:32:55 2021 +0300

    * Use a register alias while handling reg deallocs in trgobj.instr_spill_register()
      to be in sync with commit b96057ad.

M	compiler/rgobj.pas

******************************************************************************
commit ba9a8ab069ad9a490ccaa37568e27593c2e558ac
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 9 14:11:20 2021 +0300

    + added thlcgwasm.a_load_subsetref_stack, not implemented yet

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit f4cc2447a2c9b751c0c31b35dcd9b92e3fd07749
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Sep 8 16:43:04 2021 +0200

    * fix memory leak in TFPCustomSimpleThreadPool.TThreadPoolList

M	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit ef0aea8ca241aa5d021d74efa830e690ca447bb9
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Sep 8 15:44:34 2021 +0200

    * fix memory leak in TFPPooledConnectionHandler

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 008214ca15812e7f4db97cc9e1ffadce94d68d2d
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Sep 1 22:01:29 2021 +0200

    fphttpclient: remove OnIdle and add protected methods so that the feature can be added in a descendant

M	packages/fcl-web/src/base/fphttpclient.pp
M	packages/fcl-web/src/base/fphttpclientasyncpool.pas

******************************************************************************
commit 67b08734cfe4bbe2aa19c4cf4020817abaf74c5d
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Wed Sep 8 21:06:13 2021 +0200

    * to avoid that -Xg causes a failure during comparing ppc3.exe and ppc386.exe on windows, during the last compiler compilation step, the
        same executable name is used

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 25450a99ed7d01fa0df4b6a156fcbeb8e62a8d94
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 8 23:00:51 2021 +0200

    * Fix issue #39350 : strip extension dot in windows loadknowntypes

M	packages/fcl-web/src/base/fpmimetypes.pp

******************************************************************************
commit 679cfab709f7c6c9415524d384716b063a7dfb8a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 8 18:31:12 2021 +0200

    pastojs: added hook GetFileSrcAttr to skip generating srcmap of some files

M	packages/pastojs/src/pas2jscompiler.pp
M	packages/pastojs/src/pas2jsfilecache.pp
M	packages/pastojs/src/pas2jsfiler.pp
M	packages/pastojs/src/pas2jsfileutils.pp
M	packages/pastojs/src/pas2jsfs.pp
M	packages/pastojs/src/pas2jsfscompiler.pp
M	packages/pastojs/src/pas2jslibcompiler.pp
M	utils/pas2js/compileserver.lpi

******************************************************************************
commit 7e57e4514a46336b724174503c7a628e812b24db
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 8 18:25:50 2021 +0200

    pastojs: added TPas2jsMapper.SaveJSToStream

M	packages/pastojs/src/fppjssrcmap.pp

******************************************************************************
commit 9a1ccd2a16a48e980662be44f228d549871e8b22
Author: florian <florian@freepascal.org>
Date:   Tue Sep 7 23:05:08 2021 +0200

      * x86: ShlOp2Op optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7c6f3810e3e73c4219e6f6f24bdf702c61843d13
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Mon Sep 6 22:39:04 2021 +0200

    * move freeing of the event log to a separate, virtual method so that this can be changed depending on the needs of TCustomWebApplication.CreateEventLog (e.g. when using a TCustomWebApplication descendant together with a TDaemonApplication)

M	packages/fcl-web/src/base/custweb.pp

******************************************************************************
commit 86d48207605bea3e2c72bf3734666999dfef14d8
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Mon Sep 6 22:37:07 2021 +0200

    + implement support for terminating a HTTPSys web service handler that's blocking inside WaitForRequest

M	packages/fcl-web/src/base/custhttpsys.pp

******************************************************************************
commit 2650049b2cb15178fddf77cacc477d910a5b5df0
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Mon Sep 6 22:36:29 2021 +0200

    * initialize Result variable of THTTPSysHandler.WaitForRequest

M	packages/fcl-web/src/base/custhttpsys.pp

******************************************************************************
commit 4acf8d36b8de9bdeda81fccf8968743e577c7a89
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Sep 7 20:18:53 2021 +0000

    Add symbol_order*.fpc files to .gitignore

M	.gitignore

******************************************************************************
commit 6007ceb9083c0b27313377c19f65dd8fea51fcc6
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Sep 7 20:09:47 2021 +0300

    * Patch by J. Gareth "Kit" Moreton (issue #39343). x86 peephole
      optimization of conditions which are always true or false.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 06b659f787c8259881d9ac68e6bfb15e2c78f028
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 7 13:57:53 2021 +0200

    * Fix issue #39342, after exception in doapplyupdates, res is not valid

M	packages/fcl-db/src/base/bufdataset.pas

******************************************************************************
commit 239557237fa4351aa0b35a0d2dc246b86d8d6334
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 7 14:32:06 2021 +0300

    * regenerated makefiles with the latest fpcmake from trunk

M	packages/fcl-web/Makefile
M	packages/gitlab/Makefile

******************************************************************************
commit 810de9eacacaad3a7b0093e64f61f4c95aa060c8
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Sep 6 23:31:15 2021 +0200

     Try to avoid infinite loop for revision target on svn repo

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit ae8972083f6e97772c480dabdf923d5165aa5faf
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Sep 6 18:10:00 2021 +0200

     Use pascal hunk for diff output for pascal source files

M	.gitattributes

******************************************************************************
commit dcf64d8fee683749998f54710fbebe4453f47906
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Sep 6 23:27:37 2021 +0200

    * Export statement

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcwriter.pp

******************************************************************************
commit f8c92914c2f33be7a3f53b4278b50792c9c73b13
Author: florian <florian@freepascal.org>
Date:   Mon Sep 6 23:05:35 2021 +0200

      * indention fixed

M	rtl/linux/termios.inc

******************************************************************************
commit 33ad038bbbf5d724394d5c07aeb4bf7aa7ad71d3
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Sep 6 13:45:33 2021 +0200

      * Avoid some wrong error messages after initial error
    
      On x86_64-openbsd, cycling with -O3 option fails due to
    a wrong warning about uninitialized zeros variable in
    compilation of ogbase unit
    ogbase.pas(2310,41) Warning: Local variable "zeros" does not seem to be initialized
    ogbase.pas(2318,39) Error: Can't evaluate constant expression
    
    The second message is due to the fact that simplify is not
    called inside nadd unit if errorcount is non-zero.
      By replacing errorcount<>0 by not codegenerror,
    this message disappears.

M	compiler/nadd.pas

******************************************************************************
commit 213a0a704aed3270afbb0c9ec0070e4cbad85d9a
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Sep 6 18:49:33 2021 +0300

    * Added trgobj.remove_ai(), call it instead of code duplication.
      No functional changes.

M	compiler/rgobj.pas

******************************************************************************
commit d20f18634f5d0dd2bd365dbd8f2ff6b69f48e351
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 6 16:51:48 2021 +0200

    pas2js: git ignore linux binaries

A	utils/pas2js/.gitignore
M	utils/pas2js/compileserver.lpi

******************************************************************************
commit 54415f8f4e0458ae2ab2fb7d0b4ed97e8461cb7d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 23:49:44 2021 +0200

    * Import statement

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcwriter.pp

******************************************************************************
commit 677f8297324e2c089d0cada4a7a9185594088a8e
Author: florian <florian@freepascal.org>
Date:   Sun Sep 5 23:12:34 2021 +0200

      * tw39323  needs to turn on range check to test what it is supposed to test

M	tests/webtbs/tw39323.pp

******************************************************************************
commit 3cddfb4e2ff9fc38925ce973bd29fe36cef3fc98
Author: florian <florian@freepascal.org>
Date:   Sun Sep 5 22:15:57 2021 +0200

      * patch by J. Gareth Moreton: x86: SETcc/TEST/SETcc -> SETcc/SETcc optimisation, resolves #39271

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a5f6505edc01ba35c0fd05c2b048b6ab7aa306af
Author: florian <florian@freepascal.org>
Date:   Sun Sep 5 21:03:31 2021 +0200

      * fix range checking for zero based strings, resolves #39323

M	compiler/ncgmem.pas
M	rtl/inc/astrings.inc
M	rtl/inc/compproc.inc
M	rtl/inc/ustrings.inc
M	rtl/inc/wstrings.inc
A	tests/webtbs/tw39323.pp

******************************************************************************
commit 468975aa3046e252c5ebbf4c9a01088dc7d86952
Author: florian <florian@freepascal.org>
Date:   Sun Aug 29 20:38:29 2021 +0200

      + move often used floating point constants into registers

M	compiler/aarch64/cpuinfo.pas
M	compiler/globtype.pas
M	compiler/optcse.pas
M	compiler/psub.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit d2921dfb55646401ff156f85a7997ba1d17f2d22
Author: florian <florian@freepascal.org>
Date:   Sun Sep 5 18:00:11 2021 +0200

      * move more node tree optimizations to tcgprocinfo.OptimizeNodeTree

M	compiler/psub.pas

******************************************************************************
commit b3bf183fd37dcb46c4a89fc48005cb68dbed4a50
Author: florian <florian@freepascal.org>
Date:   Sun Sep 5 16:46:44 2021 +0200

      * pass the final name of the compiler executable when compiling the compiler to avoid
        moving the executable afterwards, this allows proper stack dumps with line numnbers
        on OSes with external debugging information (darwin)

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 6a9d2cae93de921b982958cbab49ac5ddf64aa58
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 15:20:13 2021 +0200

    * Debugger statement

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcwriter.pp

******************************************************************************
commit 652643499a88e937c4fbaf95169013339b207052
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 15:08:39 2021 +0200

    * const and let statements

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/src/jstoken.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcscanner.pp
M	packages/fcl-js/tests/tcwriter.pp

******************************************************************************
commit a2146824956673e5e356da1b3f1429d73e5ebd36
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 14:10:12 2021 +0200

    * Parse async functions

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/tests/tcparser.pp

******************************************************************************
commit d1bbc99e4815cc1d70dbd9fa475150b8f0940613
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 14:09:04 2021 +0200

    * Pass all directives through OnDirective

M	packages/fcl-passrc/src/pscanner.pp

******************************************************************************
commit 985ebf3b6360c2850b38ccab36aee38828146843
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 10:26:51 2021 +0200

    * New keywords for ECMA2021

M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/src/jstoken.pp
M	packages/fcl-js/tests/tcscanner.pp

******************************************************************************
commit 714f0364205c9d439ed762a868648c34dd3c3677
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 22:49:37 2021 +0200

    * Parse linklib directive

M	packages/fcl-passrc/src/pscanner.pp
M	packages/fcl-passrc/tests/tcscanner.pas

******************************************************************************
commit 396a030fc2e0389249e58231d8c3134952c7a78a
Author: florian <florian@freepascal.org>
Date:   Sat Sep 4 19:11:41 2021 +0200

      + debugging statement

M	rtl/inc/exeinfo.pp

******************************************************************************
commit b36154671b20b843607d3093c673f23bcfc89fcc
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 17:49:32 2021 +0200

    * Bring compileserver functionality up-to-date with simpleserver

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit bfc5fcb8d15ac2ce9dfcafc7cefe67b387b7fc8b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 17:48:21 2021 +0200

    * Compile httpjson

M	packages/fcl-web/fpmake.pp

******************************************************************************
commit 06ab6d7fa71af5b4f14a4a31b9d5dfa74c3a4ea3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:15:56 2021 +0200

    * Enable location management API

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit 886baf4cb901337929a5bbc7a21510835c089b41
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:15:38 2021 +0200

    * location management API

M	packages/fcl-web/src/base/fpwebfile.pp

******************************************************************************
commit a206deddfb5f6b634e5da5a7925c1f867d61eda9
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:15:14 2021 +0200

    * Improved solution for issue #38435, json helpers for http request/response

A	packages/fcl-web/src/base/httpjson.pp

******************************************************************************
commit 4dc1e22f1f8a8d1bf150c3ed1ebb6498439909d2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:12:53 2021 +0200

    * Allow to move routes, make route management thread-safe

M	packages/fcl-web/src/base/httproute.pp

******************************************************************************
commit a390a2742024ea5a1820ea20ada0ba0ca325111d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:12:17 2021 +0200

    * Uppercase argument for GetHTTPStatusText

M	packages/fcl-web/src/base/httpprotocol.pp

******************************************************************************
commit 66a1486f325f7404ddc3679422366fc020185525
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:11:45 2021 +0200

    * SetStatus convenience call

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit f9c006ca9f5eff265bf1fdba8697e58a1d09a1ef
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:11:18 2021 +0200

    * Remove module, move module before default

M	packages/fcl-web/src/base/fphttp.pp

******************************************************************************
commit cb73bb939bc433b9ce5137492fc69a6b5d993b7e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Sep 3 17:41:06 2021 +0200

    * Use FPC server by default

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit 7ef2012151438c314d82b279c06939140dbf0c41
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Sep 3 17:40:46 2021 +0200

    * Fix wrong read loop

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 2ce34f7bd3a648cfa5c7af111bbd0ef0fc991f8f
Author: florian <florian@freepascal.org>
Date:   Thu Sep 2 22:03:54 2021 +0200

      * do constant folding on div <const. int> div <const. int>, resolves #39301

M	compiler/nmat.pas

******************************************************************************
commit 261c0ff708862fd8bfa3fc7487ef6747ff91ca45
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 2 15:13:53 2021 +0200

    pastojs: fixed typecast jsvalue to external class instance not checking if Object

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas
M	packages/pastojs/tests/testpas2js.lpi

******************************************************************************
commit 84c2a0d89e1de298659b7e54ed7cf1b589493839
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 2 15:13:08 2021 +0200

    fcl-web: example missing semicolon and gitignore linux bin

A	packages/fcl-web/examples/websocket/server/.gitignore
M	packages/fcl-web/examples/websocket/server/wsserver.lpr

******************************************************************************
commit 22101432395ad7c81f2334e4f6db5079a7fd9a64
Author: Bernd Kreuss <b.kreuss@xecro.com>
Date:   Thu Sep 2 11:16:56 2021 +0200

    fix wording of error message when field not found during reading of lfm file

M	rtl/objpas/classes/reader.inc
M	rtl/objpas/rtlconst.inc

******************************************************************************
commit fe656ab4ef825d18ed9673ca1ce975f061aab621
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Sep 2 09:32:43 2021 +0200

    fix for issue #39333

M	packages/hash/src/hmac.pp

******************************************************************************
commit 40dc7380dc3dda2d7b08082437de6bf285e21700
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 22:43:36 2021 +0200

    * Correct precisions

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 3069d74ecce6a302ef844f6fa2819f46af7eff2d
Author: florian <florian@freepascal.org>
Date:   Wed Sep 1 21:32:27 2021 +0200

      * handle constant folding correctly for <pointer>+<ord. constant>+<ord. constant>, resolves #39332

M	compiler/nadd.pas
A	tests/webtbs/tw39332.pp

******************************************************************************
commit cb22b7a1d5d331b571b6efbcdff7a1eb8ff7659e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 14:57:51 2021 +0200

    * Fopefully last fix for non-select platforms

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 71457e64081e43116c8293ed7b28bf2594c53c27
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 14:26:28 2021 +0200

    * More platform fixes

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 0b96cc3a30112d75805553572a4ac75d9ad6110c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 14:05:27 2021 +0200

    * Fix for non-compilation on non-supported platforms: linux -> unix

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 6e5103f3c5da7a9ca8bc7881a543890de47ae30b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 14:03:36 2021 +0200

    * Fix for non-compilation on non-supported platforms

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit ccfb34c518291419b1ba48edbf651335b8d4f8ac
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 12:50:23 2021 +0200

    * Add http client pool from Ondrej Pokorny

M	packages/fcl-web/fpmake.pp
A	packages/fcl-web/src/base/fphttpclientasyncpool.pas
A	packages/fcl-web/src/base/fphttpclientpool.pas

******************************************************************************
commit 54e418c5e87435e6e1889d755c499da4554a1562
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 13:33:39 2021 +0200

    * fphttpclient: add new OnIdle event to keep the client responsive in case the server needs a lot of time to respond (and to be able to terminate the request while waiting for data)

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 8efae66956c35ef07d5dd817cfa20d6600b6fab7
Author: florian <florian@freepascal.org>
Date:   Tue Aug 31 21:24:28 2021 +0200

      * we cannot do SSA during partial writes to arrays which span multiple registers, resolves #39325

M	compiler/hlcgobj.pas
A	tests/webtbs/tw39325.pp

******************************************************************************
commit dca4bde3a2b43a31fa0e6dbc564c823f53a20da2
Author: florian <florian@freepascal.org>
Date:   Tue Aug 31 20:28:23 2021 +0200

      * unified internal error

M	compiler/cgobj.pas

******************************************************************************
commit be069c8fa8306d60332b952b9e98126b2096718a
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Mon Aug 30 14:51:35 2021 +0200

    * fix #39329: adjust visibilties of PT and TArr in TVector<> and TDeque<> so that they can be correctly used either by descendants or users outside of the class

M	packages/fcl-stl/src/gdeque.pp
M	packages/fcl-stl/src/gvector.pp

******************************************************************************
commit 4303d62c2bb5f45cd28fa672e280f83f953148c0
Author: florian <florian@freepascal.org>
Date:   Thu Aug 26 23:51:20 2021 +0200

      * do fullcycle with -j 4

M	.gitlab-ci.yml

******************************************************************************
commit b5fca5b094bb49c03264d6e33a4a1c308b7172dc
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Aug 30 17:33:32 2021 +0200

     Ignore all BuildUnit_{package_name}.pp generated file

M	.gitignore

******************************************************************************
commit bce2f262341b9b7dddf6c550582a6aacd24d2de9
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 28 16:53:04 2021 +0200

    * TEncoding.GetEncoding - create unicode encodings, not only MBCS

M	rtl/objpas/sysutils/sysencoding.inc

******************************************************************************
commit 5ab67753769a4dd11c3d6c4d2356a18a6bf14fba
Author: ccrause <christo.crause@gmail.com>
Date:   Wed Aug 25 20:46:48 2021 +0200

    Sorted help options.

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 9305bff861034a05c8919a8dcc3783017eff6c61
Author: florian <florian@freepascal.org>
Date:   Sun Aug 29 21:00:51 2021 +0200

      * generate a def. file only if really necessary

M	compiler/options.pas

******************************************************************************
commit 3ce6cae11d0f754038ac31a3249431903a7909c3
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Sat Aug 28 17:58:34 2021 +0200

    * fix for #39310 by fixing various small issues in tabstractrecordsymtable.has_single_field:
      - initialize the returned def to a safe default
      - correctly reset the found symbol for each loop
      - reset the result when descending into a record
    + added test

M	compiler/symtable.pas
A	tests/webtbs/tw39310.pp

******************************************************************************
commit d5d90499ee87981a8cb373dc53ed5105e98c36ab
Author: FPK <florian@freepascal.org>
Date:   Sat Aug 28 17:22:31 2021 +0000

      * factored out the fullcycle job as proposed by Marcus

M	.gitlab-ci.yml

******************************************************************************
commit 5d9968366bb9b52fda32bc3b99fc18b0383f5f42
Author: florian <florian@freepascal.org>
Date:   Fri Aug 27 22:31:11 2021 +0200

      * fix test for targets with FPC_COMP_IS_INT64 defined

M	packages/fcl-json/tests/testcomps.pas

******************************************************************************
commit c2eb68330cf48af3c1fd21a1a1317591b16d7c79
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 16:03:26 2021 +0000

      + do fullcycle

M	.gitlab-ci.yml

******************************************************************************
commit 94a5fd4a5ef66cfeff2a78fc134f4fbb68e368c9
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 15:11:39 2021 +0000

      * build fpts2junit after testing so all directories are present

M	.gitlab-ci.yml

******************************************************************************
commit 2ee32623fbf7d9f6a014d71036cf2624441bd61e
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 15:04:59 2021 +0000

      + build fpts2junit
      + generate testresult.xml artifact

M	.gitlab-ci.yml

******************************************************************************
commit 936a35b587afc45921cca0d0d7753b1cd9373061
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 12:57:49 2021 +0000

      * build and test must be one job

M	.gitlab-ci.yml

******************************************************************************
commit f43a65aec22e9cfd0085a928d05e5ba85d66f9ad
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 12:48:51 2021 +0000

      * Cleaned up .gitlab-ci.yml
      * Added regression testing

M	.gitlab-ci.yml

******************************************************************************
commit b31adddd7ed834ce5be5f15604ac14d528299757
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 12:33:57 2021 +0000

    Added make command to .gitlab-ci.yml

M	.gitlab-ci.yml

******************************************************************************
commit dbca95518bf69f6d236de3a23cdd91917d208065
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 12:26:00 2021 +0000

    Initial .gitlab-ci.yml file

A	.gitlab-ci.yml

******************************************************************************
commit c28995494c33ff0cf4c66858e8a7de86e10dc411
Author: florian <florian@freepascal.org>
Date:   Wed Aug 25 10:41:03 2021 +0200

      * reverted wrongly committed file

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 9526fc64cde63ce5768ebc21f9cacdbd9b827219
Author: florian <florian@freepascal.org>
Date:   Tue Aug 24 23:16:52 2021 +0200

      + Aarch64: FMovFMov2FMov 2 optimization

M	compiler/aarch64/aoptcpu.pas
M	compiler/avr/aoptcpu.pas

******************************************************************************
commit e310be017eb68e356085ffb0495fc1d042aaf294
Author: ccrause <christo.crause@gmail.com>
Date:   Tue Aug 24 17:01:50 2021 +0000

      + Add support for -Adefault.
      * Move help message for option -sT to the correct group of messages.
      * Use shorter message to indicate switch to external asm.
      * Adapted -sX messages because -sT doesn't force external assembler writer.

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas

******************************************************************************
commit 23bf243acdec7fa418833975a25d80edf89cfa15
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Aug 24 13:04:50 2021 +0000

    Add test for bug report 38973 (already fixed in trunk/main)

A	tests/webtbs/tw38973.pp

******************************************************************************
commit d354428f42a29010872e8aa19afc7cc2c3b1418d
Author: florian <florian@freepascal.org>
Date:   Mon Aug 23 23:46:45 2021 +0200

      * moved fwait

M	rtl/x86_64/math.inc

******************************************************************************
commit 19062ce8afd49bbdc65183f533286675ef5a55e4
Author: Bernd Kreuss <b.kreuss@xecro.com>
Date:   Mon Aug 23 15:25:12 2021 +0200

    gdeque: remove unused variable

M	packages/fcl-stl/src/gdeque.pp

******************************************************************************
commit 4fe3e1f8f8712a12969583853c4cd1059f5dfd16
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Aug 23 13:46:52 2021 +0200

     Add some more patterns to .gitignore

M	.gitignore

******************************************************************************
commit bc84f780ee3baba239b7cf99b16ac8ad70150c7b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 22 14:56:19 2021 +0000

    Solves #39296: x86-64 parameter zero/sign extension

M	compiler/x86_64/cpupara.pas
A	tests/webtbs/tw39296.pp

******************************************************************************
commit b4f939a4ab82eb56fadb74ee53c183d9c814f5c2
Author: florian <florian@freepascal.org>
Date:   Sat Aug 21 20:36:29 2021 +0200

      * check if git executable really exists

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 848bd3e0c0515ff84b72a5300f03992d8a05d55c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:20:50 2021 +0200

    * Fix compation

M	utils/fpdoc/dw_html.pp

******************************************************************************
commit 52c8ac0ca065c516f3195a532d83a132ca3f7b7a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:13:06 2021 +0200

    * Fix by Mark Paley to add IfThen for StringList and TStringDynArray. Issue #39314

M	packages/rtl-objpas/src/inc/strutils.pp
M	rtl/objpas/classes/classes.inc
M	rtl/objpas/classes/classesh.inc

******************************************************************************
commit c587f5a681b57e6ead82670bd4d19881ba3ce0d1
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:11:24 2021 +0200

    * fix compilation

M	rtl/objpas/types.pp

******************************************************************************
commit 592c2ea0fbf6b9fb44e911fa98725a005e6e1ded
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:05:57 2021 +0200

    * Remove unneeded diagnostic output

M	utils/fpdoc/dw_html.pp

******************************************************************************
commit c4069b5fe8d22d55bc667804aa0301fd00a308ef
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:05:23 2021 +0200

    * Remove spurious var, prevents fpdoc from handling record

M	rtl/objpas/types.pp

******************************************************************************
commit 2e608a3dd025db0a270cfdb17a382e46547fe62b
Author: florian <florian@freepascal.org>
Date:   Fri Aug 20 23:54:49 2021 +0200

      * change information for round* fixed

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 3892689ef77e8cb86add2760482a7eb72e93345e
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Aug 20 21:16:48 2021 +0000

     Add several pattern from tests sub-directory to ignore list
    
    (cherry picked from commit a837c8d47a93f1f1c73a6c45b837f49d9d040c30)

M	.gitignore

******************************************************************************
commit 0f0b9833fefa846d3291d275d5d78602212c23be
Author: florian <florian@freepascal.org>
Date:   Thu Aug 19 23:01:00 2021 +0200

      * fix change information for popcnt

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit aecec2f6df34e7ddc759215a258899a19bb2eed4
Author: Don <LongDirtyAnimAlf@gmail.com>
Date:   Thu Aug 19 07:51:36 2021 +0100

    Allow custom definition of GIT.

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit b2d2c5dde3260dbb688849aead1fe72f05f458c5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Aug 18 16:03:32 2021 +0200

    fcl-json: fixed testjson.lpi

M	packages/fcl-json/tests/testjson.lpi

******************************************************************************
commit 27529a7e748ff7580e0a05865f7738632c61a559
Author: florian <florian@freepascal.org>
Date:   Wed Aug 18 15:16:51 2021 +0200

      * always use $(GIT) to call git

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 56a8f295190f31bfb90d2503364ad462dc0726f5
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Aug 18 12:00:07 2021 +0200

     Add support for hash generation for git repository (local modifier not implemented)

M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 838cc89faceda7b5439d6a816da8a3f7567a3855
Author: florian <florian@freepascal.org>
Date:   Wed Aug 18 10:34:08 2021 +0200

    * properly check if -unpushed should be appended in revision.inc

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 4fdeada0a5b43442f09ebe64cee3cac9f2a2a860
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Aug 18 09:45:26 2021 +0200

    pastojs: emulate compile time assign integer constant of different type

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 89d3d866d2370f8f332746506e97dea19c9fe382
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Jun 18 14:07:13 2021 +0000

    activate 'compressed disp8*N' for VCVTQQ2PS xmmreg, xmmrm and VCVTTPD2UDQ xmmreg, xmmrm
    
    git-svn-id: branches/tg74/avx512-0037785@49513 -

M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 85fffd7a77f5dafbf672ee80493fc42fe09aae5d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Jun 18 14:06:55 2021 +0000

    activate 'compressed disp8*N' for VCVTQQ2PS xmmreg, xmmrm and VCVTTPD2UDQ xmmreg, xmmrm
    
    git-svn-id: branches/tg74/avx512-0037785@49512 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit 24f33871c01400fd685e7850248677da0bb91cf8
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Mar 9 16:31:02 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48927 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 18b868bfcddada94c2f0398ea873cda70b7aad5b
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Mar 5 16:08:34 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48880 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit df49a3d067c591e06c511844edb6c0ae33c51151
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Mar 5 09:02:53 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48879 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit da4be71fc8befb8a2def2299c7f92b59e1c51541
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Mar 4 15:54:43 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48877 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit f9f0f9a1d1b388b18d80f648ad230b2ff0bd4039
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Mar 4 05:47:14 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48875 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit e6ed010e9221f2de56c39988762fcfe956ac0231
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Mar 3 16:27:21 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48873 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit afd1875834151ef12ccfdf156e9cd5ed65dc76a7
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Mar 3 05:26:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48872 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 4cc3a7fb120ab462c03757801f0561f7c6516605
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Mar 2 16:30:31 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48870 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 183fbf77af9c614b1201377e00a095a78ae52433
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Mar 1 16:28:11 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48853 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit efcc3b2ebaa8c3f84430c99e6eeb362b0efeee5a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Mar 1 05:54:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48845 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit a4b9fcffeb9db818dc6c620434612be3ceed3b65
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Feb 25 05:30:42 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48807 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 1893babd062d1cfc3b1db3632885f8c2c1fbd1ad
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 24 16:29:26 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48804 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 2f36069dae8eb1f6aa8ae4149c878fb55437868e
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 22 15:59:58 2021 +0000

    bugfix 0037785 cvtsi2ss and cvtsi2sd in x86_64 { att}
    
    git-svn-id: branches/tg74/avx512-0037785@48790 -

M	compiler/ppcx64.lpi
M	compiler/x86/itcpugas.pas

******************************************************************************
commit 6acf8abcc96bc1326a82233b81b409d83460e41a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 15 16:03:49 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48683 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit cdd2832ea7cac413d10a38e61491f1fd99622584
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 15 05:33:27 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48682 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 772ea61b12e2320750ed1b3b697d9328bfe2bf0d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Feb 12 16:23:55 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48658 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 5225dd00f60264f6906abd4006e2a4c477e6b364
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Feb 12 08:22:01 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48656 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 4cdc665ab742d4a019897802dc92c373154d380a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 10 14:13:30 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48606 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit aff1f4999c47aecd65f1f17bfe96e736a55b4ec7
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 8 11:04:21 2021 +0000

    bugfix 0037785 cvtsi2sd,cvtsi2ss for platform i386
    
    git-svn-id: branches/tg74/avx512-0037785@48526 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit b9fc7729c66f62da8345cb461bcc977dcd5a0abe
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Feb 4 04:53:13 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48508 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 2e54def8e5bc837a86138524a2a99c530b7d0399
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 3 16:30:41 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48506 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit d13d625090c4902ebcc2343c2265c0bac50eef52
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 3 09:03:04 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48505 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit cf1fa4cf7f0d84e4eb347ff33cbac74dc0872ce9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Feb 2 16:24:36 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48500 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 3ada628813023a9ff9eabb0892e835f6d5fb8fa2
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 1 16:16:06 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48492 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit bc6e837100933671e8960bb499f42341f2f22435
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 1 14:54:18 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48491 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit d38e2920824b9e9d6d129744afa3b8144d2579f7
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Jan 27 15:48:20 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48437 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp

******************************************************************************
commit 56cc421c77249e7efbe29493c27cdf174ba6d31b
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 16:23:56 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48420 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 334becf76b7140af2f79a7dbe64e32c143bfacc1
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 16:01:01 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48419 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit f172d87925680e203f51bb062d0a5e8b35d9ed10
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 05:24:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48416 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/options.pas

******************************************************************************
commit 84d05a5b0e7dc18cf58fbfe7e003b1580e811a94
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Jan 21 04:57:47 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48261 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 4737a937b17e6e4575ce5000952a3f0ab24b1a2e
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Jan 20 16:30:38 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48230 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit ef621e70141e881296ed835ac2730aee0d1ea13d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 19 11:01:32 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48189 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit fb6a892d9eb0babcbe7660c1d8985f207cae61d5
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 19 05:12:39 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48187 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp

******************************************************************************
commit 259c865667d580981c3b8b0e98287383f38b40a4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 16:27:07 2021 +0000

    cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@48149 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 472f8c900b8b5dd32333c930ba1c6f4a75828102
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 16:19:53 2021 +0000

    cleanup + add internal error if all asmr_e_not_supported_combination_attsuffix_memrefsize_type are reported
    
    git-svn-id: branches/tg74/avx512-0037785@48148 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit ee07cc4db5a9dc3fc14ce4661000f3a605e4bbce
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 11:01:31 2021 +0000

    avxtestgenerator add attsuffix in 'opcode-memrefsize-state - list' (command-line option '-l')
    
    git-svn-id: branches/tg74/avx512-0037785@48147 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 26442e45d542376c709ca18923c0ea47cca312b4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 10:57:15 2021 +0000

    bugfix testcases 0037785
    
    git-svn-id: branches/tg74/avx512-0037785@48146 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 17d1b8afdb7dfe862aaa84d4bb012c2674d8cfc6
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 09:47:18 2021 +0000

    cleanup bugfix 0037785
    
    git-svn-id: branches/tg74/avx512-0037785@48145 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit ce1f115b2d17e17832f36c91b285e83aa3fe8f74
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 13:52:29 2021 +0000

      * use str(...) instead of typinfo unit
    
    git-svn-id: branches/tg74/avx512-0037785@48085 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit c84c4eb1a4cfffe8cacef0193af7a854f34c5bc6
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 13:13:43 2021 +0000

    -- Rückwärtiges Zusammenführen von r47837 bis r47033 in »ppcx64.lpi«:
    U    ppcx64.lpi
    -- Aufzeichnung der Informationen für rückwärtiges Zusammenführen von r47837 bis r47033 in »ppcx64.lpi«:
     G   ppcx64.lpi
    -- Entfernung der Zusammenführungsinformationen von »ppcx64.lpi«:
     U   ppcx64.lpi
    
    git-svn-id: branches/tg74/avx512-0037785@48084 -

M	compiler/ppcx64.lpi

******************************************************************************
commit b6cf482fcf3fc1f916615c8fc80e552e241ad15c
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sat Jan 2 22:13:27 2021 +0000

    internal assembler-reader x86 (local/global var) - validate asm-opcode-attsuffix and memrefsize
    
    git-svn-id: branches/tg74/avx512-0037785@47984 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit 195c8b599c1ddd61ebaa739fd2def0db21436cec
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 30 07:10:37 2020 +0000

    internal assembler-reader x86 opsize local/global var - cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@47899 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 95fae1a81d7a92d9e7511e02400fa362d4763bbd
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 29 05:12:47 2020 +0000

    working on internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47886 -

M	compiler/x86/rax86.pas

******************************************************************************
commit b7ade3e566160485a9fa8c5f16c337fe7b5dc47a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 29 04:49:52 2020 +0000

    internal assembler-reader x86 opsize local/global var - cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@47885 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit e98771608e51c0ccb8b4910376e9e563b8b0c794
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 05:00:58 2020 +0000

    external gas assembler: special handling for correct suffix in vfpclass-opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47865 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 6d1553984e1a418d63d2bd4362b1e55255a073cb
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 04:56:47 2020 +0000

    avxtestgenerator: add new commandline param '-m', create only these testfile(s)
    
    git-svn-id: branches/tg74/avx512-0037785@47864 -

M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit 17cf72ff2de84dcf1414d664cfd6576e08c8e17d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 04:35:22 2020 +0000

    avx512: external gas assembler not supported gather/scatter-opcodes without mask-register =>> not generate testcode
    
    git-svn-id: branches/tg74/avx512-0037785@47863 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 11c17a87de784e7cd6dd4e412336a6d2094244d4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 23 03:56:23 2020 +0000

    external gas-assembler - handling special opcodes with multiple memref-size e.g. vfpclassps/pd - if operand-opsize < S_XMM =>> use memref-min-size
    
    git-svn-id: branches/tg74/avx512-0037785@47837 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/ppcx64.lpi
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit 75acaad1219d06bb3821c4d964dbd6bc17241ea9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sun Dec 20 04:44:37 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable - append correct gas-suffix on any vcvt.. opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47821 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 295e2d4dff621a17c042f1f48474b140f7bfb1d4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 18 16:24:57 2020 +0000

    working on internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47811 -

M	compiler/x86/rax86.pas

******************************************************************************
commit ecf5e515791cf5b1c7d22b89dc41477661ea19dc
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 18 05:27:56 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47807 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit fadac6a9a4169b7354b908e7ac7eb11b17927e68
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 15:43:34 2020 +0000

    cleanup x86ins.dat
    
    git-svn-id: branches/tg74/avx512-0037785@47789 -

M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 2a7ca7ddc721fee3a36a0af405a47fdad1449af0
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 15:39:19 2020 +0000

    cleanup x86ins.dat
    
    git-svn-id: branches/tg74/avx512-0037785@47788 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit a2b720da564edba0ab08efd53eba8a6aa126c0c5
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 11:02:14 2020 +0000

    cleanup and add comments to div. vcvt.. opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47785 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit 9597ae1f039493d4984f35fcb3b97e59ade2d06f
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sat Dec 12 21:36:31 2020 +0000

    add new option to avxtestgenerator to list opcodes-memrefsize-state
    
    git-svn-id: branches/tg74/avx512-0037785@47764 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit 7040587cc3a8be4e692a4eb85ebf0a73eaff2b52
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Dec 10 04:43:24 2020 +0000

    cleanup bugfix internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47745 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 6784bcb033971a2f6250e9d11cf17fd30e8298e3
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 7 04:45:24 2020 +0000

    bugfixing operandsize from 32-bit to (correct) 64-bit
    
    git-svn-id: branches/tg74/avx512-0037785@47708 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit b3680eb5bda0d635435859166223dcfae6d4690c
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 7 04:39:36 2020 +0000

    working on internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47707 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 8e5a54c92e47f1257e804bab50b5e045917870d8
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 4 16:19:48 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47685 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 96fcd2e760881dff0086fa86eb208e30f0d47fb2
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 4 08:35:00 2020 +0000

    bugfix internal assembler-reader x86 opsize local va
    
    git-svn-id: branches/tg74/avx512-0037785@47681 -

M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086tab.inc
M	compiler/ppcx64.lpi
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 0530a2f6e718ed0178d417551b0d4235506bd190
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Dec 3 16:24:00 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47678 -

M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/ppcx64.lpi
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit ec4556e03d6213debed73786cfa6e9f7cfdcd801
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 2 09:19:41 2020 +0000

    working on internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47663 -

M	compiler/x86/rax86.pas

******************************************************************************
commit d97929e9cf8db0b23a936830ec3e4e64206b6813
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 1 05:43:17 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47654 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 9730a50a5badf6803d2f7412d98cc227240e70c8
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Nov 30 16:31:51 2020 +0000

    working on new testmethods memref operands
    
    git-svn-id: branches/tg74/avx512-0037785@47642 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 9758bec36c75cdde8f63d4d2f822c6fe0ce5cf3a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Nov 30 13:53:25 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47640 -

M	compiler/ppcx64.lpi
M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 329ec242cf6c5391861c7f6ba2f65990fe1a4669
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Nov 27 15:54:47 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47608 -

M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit fdfe06382a17e6daa86523b886dd03e013853146
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Nov 27 05:45:44 2020 +0000

    bugfix internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47606 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 07a9767b630b72b0b3f8bb63c7241f395cb50142
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Nov 26 16:27:48 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47600 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 078ff5c2268c00a62407df7f753aa524c3752507
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 25 11:50:10 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47580 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 834bbc4c7bd835b600210041962f51dd5b9f70fe
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 25 09:11:07 2020 +0000

    add new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47579 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit 5633d5e8aac2d3da9cad03f29a803371f6a98244
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 18 04:38:21 2020 +0000

    bugfix gnu-assembler platform i386 vcvtsi2sd,vcvtsi2ss,vcvtusi2sd,vcvtusi2ss
    
    git-svn-id: branches/tg74/avx512-0037785@47443 -

M	compiler/x86/rax86.pas

******************************************************************************
commit aef337e67c4960aad357391e17a09dadfb1708e6
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Nov 17 16:22:27 2020 +0000

    bugfix gnu-assembler platform i386 vcvtsi2sd,vcvtsi2ss,vcvtusi2sd,vcvtusi2ss
    
    git-svn-id: branches/tg74/avx512-0037785@47441 -

M	compiler/i386/i386atts.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/utils/mkx86ins.pp
M	compiler/x86/itcpugas.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86att.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 955e495c217fa558e713aa82cab81ddf7f3c4ea6
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 09:13:50 2021 +0200

    * Websockets & examples

M	packages/fcl-web/Makefile
A	packages/fcl-web/examples/websocket/README.md
A	packages/fcl-web/examples/websocket/client/wsclient.lpi
A	packages/fcl-web/examples/websocket/client/wsclient.lpr
A	packages/fcl-web/examples/websocket/server/wsserver.lpi
A	packages/fcl-web/examples/websocket/server/wsserver.lpr
A	packages/fcl-web/examples/websocket/upgrade/httpupgrader.lpi
A	packages/fcl-web/examples/websocket/upgrade/httpupgrader.lpr
A	packages/fcl-web/examples/websocket/wschat.pp
M	packages/fcl-web/fpmake.pp
A	packages/fcl-web/src/websocket/fpcustwsserver.pp
A	packages/fcl-web/src/websocket/fpwebsocket.pp
A	packages/fcl-web/src/websocket/fpwebsocketclient.pp
A	packages/fcl-web/src/websocket/fpwebsocketserver.pp
A	packages/fcl-web/src/websocket/wsupgrader.pp

******************************************************************************
commit 5dc1d5e93b04b6a5d0afe4260fa2b40278ec0f0d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 08:46:09 2021 +0200

    * Better SetfieldByName/GetFieldByName

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 54e0d972783824a2172596154f73bea1d3481944
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 08:43:56 2021 +0200

    * Fix possible buffer overflow, issue #39330

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 8c5446a03ff70d74427b933ca13c9519e141c0ff
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 08:42:52 2021 +0200

    * Update handler functionality

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 1f272f8f90cb1fc0a0a9ba3723aad13ebfcc5f03
Author: florian <florian@freepascal.org>
Date:   Tue Aug 31 21:24:28 2021 +0200

      * we cannot do SSA during partial writes to arrays which span multiple registers, resolves #39325

M	compiler/hlcgobj.pas
A	tests/webtbs/tw39325.pp

******************************************************************************
commit 4d8ecfb42270e418060c9de45ac5a1527150c66c
Author: florian <florian@freepascal.org>
Date:   Tue Aug 31 20:28:23 2021 +0200

      * unified internal error

M	compiler/cgobj.pas

******************************************************************************
commit 757868983c28a1dc93b564dcc8e38582566255bb
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Mon Aug 30 14:51:35 2021 +0200

    * fix #39329: adjust visibilties of PT and TArr in TVector<> and TDeque<> so that they can be correctly used either by descendants or users outside of the class

M	packages/fcl-stl/src/gdeque.pp
M	packages/fcl-stl/src/gvector.pp

******************************************************************************
commit bb2fd561bb253910d57a33b067c269e7894acf08
Author: florian <florian@freepascal.org>
Date:   Thu Aug 26 23:51:20 2021 +0200

      * do fullcycle with -j 4

M	.gitlab-ci.yml

******************************************************************************
commit 133f76c8b7d13e00c891007cebc4a4ceaee80594
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Aug 30 17:33:32 2021 +0200

     Ignore all BuildUnit_{package_name}.pp generated file

M	.gitignore

******************************************************************************
commit fec8cb76297e8a30e5c705c54e13cd769745f40f
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 28 16:53:04 2021 +0200

    * TEncoding.GetEncoding - create unicode encodings, not only MBCS

M	rtl/objpas/sysutils/sysencoding.inc

******************************************************************************
commit f134e3b0eec1866a21572feb012813fa14623b87
Author: ccrause <christo.crause@gmail.com>
Date:   Wed Aug 25 20:46:48 2021 +0200

    Sorted help options.

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit ae0cf1b50fc3f480dbed602d27174f84b77b8ec9
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 19:16:18 2021 +0200

    * don't execute DoBeforeDataRead unless OnIdle is set

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 35c45dfbe5a1f1d732071ee4e812684ed1a8e58b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Aug 29 18:13:59 2021 +0200

    * More clear variable names

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit cb05049c4ffbf9529cb1545ee497ac2a86c134ef
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 16:38:08 2021 +0200

    * TSocketHandler.Select: set LastError

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 14dd15373670d02e90897601df347344a3dee709
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 16:20:13 2021 +0200

    * http client: KeepConnectionReconnectLimit to prevent a dead-lock when a server is not available

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 1083746abf9bd7ec09161cc0819d7ef5c5541d1e
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 16:44:39 2021 +0200

    * check for LastError coming from CanRead()

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit df6d2896931c1f7b9bf9f7b401109bc61dc0fdc6
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 13:33:39 2021 +0200

    * fphttpclient: add new OnIdle event to keep the client responsive in case the server needs a lot of time to respond (and to be able to terminate the request while waiting for data)

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit f6587d950520e36b23d412c1b370b861e21e62a6
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 13:33:39 2021 +0200

    * fphttpclient: add new OnIdle event to keep the client responsive in case the server needs a lot of time to respond (and to be able to terminate the request while waiting for data)

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 56c3b5b2cd0acd8f0aa531049f7d5b5fc86849e6
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Aug 29 13:02:45 2021 +0200

    * Use FreeAndNil to clear field

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit bfa0c60e7725ed63f2148de95c4651541716515b
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 12:50:41 2021 +0200

    * destroy FList in the destructor of TFPHTTPServerConnectionListHandler

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit efd0c250dfeaa0bbffb4d61e90e6d99dd2b94b0f
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Sat Aug 28 17:58:34 2021 +0200

    * fix for #39310 by fixing various small issues in tabstractrecordsymtable.has_single_field:
      - initialize the returned def to a safe default
      - correctly reset the found symbol for each loop
      - reset the result when descending into a record
    + added test

M	compiler/symtable.pas
A	tests/webtbs/tw39310.pp

******************************************************************************
commit 9b8a6438c786637768ad435c10f5cf179b0c4760
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 28 10:36:50 2021 +0200

    * 64-bit ID for 64-bit platforms

M	packages/fcl-web/src/base/fphttpserver.pp
M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 72213d42da79cc35d4f158c8a8555eb0cbb3afd3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 12:11:29 2021 +0200

    * Negative time value waits forever

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit bbb01506c710df62b55cf7e4127b4f088a7d6f4f
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Fri Aug 27 21:23:01 2021 +0200

    * windows compilation

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 4a67f098ee5f2077417ed8b47e6912a0e4794d1e
Author: florian <florian@freepascal.org>
Date:   Wed Aug 25 10:41:03 2021 +0200

      * reverted wrongly committed file

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit a18a6b4391ee8c0786fdbccf8154949b41be86b1
Author: florian <florian@freepascal.org>
Date:   Tue Aug 24 23:16:52 2021 +0200

      + Aarch64: FMovFMov2FMov 2 optimization

M	compiler/aarch64/aoptcpu.pas
M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 968d00fedf64ee56f23796069752cac3207d48e5
Author: ccrause <christo.crause@gmail.com>
Date:   Tue Aug 24 17:01:50 2021 +0000

      + Add support for -Adefault.
      * Move help message for option -sT to the correct group of messages.
      * Use shorter message to indicate switch to external asm.
      * Adapted -sX messages because -sT doesn't force external assembler writer.

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas

******************************************************************************
commit 26f4d957a0e50653dfac5a7e594d30154146fe89
Author: florian <florian@freepascal.org>
Date:   Mon Aug 23 23:46:45 2021 +0200

      * moved fwait

M	rtl/x86_64/math.inc

******************************************************************************
commit 0558fefc5179a79f11240d503789e3e538162a6a
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 22 12:51:53 2021 +0000

    Avoid range check errors
    (cherry picked from commit 1351ccb3bfe6adad6be0246acb7645203df8b3b0)
    
    # Conflicts:
    #       .gitattributes

M	tests/bench/bcase.pp

******************************************************************************
commit a73ee4f403dc037bdc0d45e2ae793f55f994771a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 22 14:56:19 2021 +0000

    Solves #39296: x86-64 parameter zero/sign extension

M	compiler/x86_64/cpupara.pas
A	tests/webtbs/tw39296.pp

******************************************************************************
commit 6c8b7577958cb4d7589ecaf9705a4568e24c7656
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:20:50 2021 +0200

    * Fix compation

M	utils/fpdoc/dw_html.pp

******************************************************************************
commit f138af02b9b67d26c31bdf1c5ce4bdd19a359dd8
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:13:06 2021 +0200

    * Fix by Mark Paley to add IfThen for StringList and TStringDynArray. Issue #39314

M	packages/rtl-objpas/src/inc/strutils.pp
M	rtl/objpas/classes/classes.inc
M	rtl/objpas/classes/classesh.inc

******************************************************************************
commit f069f272670ebc7579e80238ab10a55e37bc3b8f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:11:24 2021 +0200

    * fix compilation

M	rtl/objpas/types.pp

******************************************************************************
commit 06d99b1e6822a8c8cbf63b0af2b820068feb530b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:05:57 2021 +0200

    * Remove unneeded diagnostic output

M	utils/fpdoc/dw_html.pp

******************************************************************************
commit 7b6f273023059d3a905fd35897f2db9eb5bf46d0
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:05:23 2021 +0200

    * Remove spurious var, prevents fpdoc from handling record

M	rtl/objpas/types.pp

******************************************************************************
commit 87e9958429835f501f83e8714f2a407c2ffffd12
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:03:56 2021 +0200

    * Allow to read handler

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 61a3f6603d2fac4f4b88cabb5c1ab1361bf6429b
Author: florian <florian@freepascal.org>
Date:   Fri Aug 20 23:54:49 2021 +0200

      * change information for round* fixed

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 58b252705ea9be56262b384f2b633e386b41f69a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Aug 20 10:06:38 2021 +0200

    * Allow to compile also non-windows,linux

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 74ebc15596a6ba09eb663919c340df005291924c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Aug 20 10:00:15 2021 +0200

    * Select calls

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 4697de93793690818baef08586f3f06cf6c776b6
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Thu Aug 19 10:45:13 2021 +0000

    Keep-Alive fixes

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/examples/httpserver/testhttpserver.pas
M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas
M	packages/fcl-web/src/base/fphttpserver.pp
M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit c632736197642d2265e48731a22dfa8bda3d5a46
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 23:08:14 2021 +0200

    * No wait loop, use event

M	packages/fcl-base/examples/testthreadpool.pp
M	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit e6f40c196a4a76aeda73632a67eff84f56c2d7bb
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 22:26:09 2021 +0200

    * Make sure size is set after return

M	packages/fcl-web/src/base/fpwebfile.pp

******************************************************************************
commit bb9a1af24849031928f0db2ddfbd1991f91792bc
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 22:25:28 2021 +0200

    * Add interceptor (middleware) functionality to router + Demo

A	packages/fcl-web/examples/intercept/simpleserver.lpi
A	packages/fcl-web/examples/intercept/simpleserver.pas
M	packages/fcl-web/src/base/httproute.pp

******************************************************************************
commit 5a6bea6180fc8b7f37a3cdfa7b62d8e85efa47eb
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 22:24:41 2021 +0200

    * Fix some debug output

M	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit a68a6415f2f559afbde579f1333043090ff5db8d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 16:37:09 2021 +0200

    * Request ID and connection ID for logging purposes

M	packages/fcl-web/examples/httpserver/testhttpserver.pas
M	packages/fcl-web/src/base/fphttpserver.pp
M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 4ac009846c7a61d2a3a9965b6e6fc7257691d427
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 16:36:29 2021 +0200

    * Smaller idle timeout

M	packages/fcl-web/examples/httpserver/simplehttpserver.pas

******************************************************************************
commit ab7de664719e8421f17c32307eae700c832f2787
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 16:10:30 2021 +0200

    * Working thread pool

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit aa9ff6c225997c84ded257d33219b60374470786
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Aug 18 16:03:32 2021 +0200

    fcl-json: fixed testjson.lpi

M	packages/fcl-json/tests/testjson.lpi

******************************************************************************
commit db0d1501e0bfe9166e94f8eb0204b31023f92940
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 14:39:30 2021 +0200

    * Correct property name

M	packages/fcl-web/examples/httpserver/simplehttpserver.pas

******************************************************************************
commit 181653162cfa3807e9077176b73800231c40d808
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 14:38:31 2021 +0200

    * Finish merge & rebase

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit f7265bf79e0945845c2b3e9472de654b5a2c9c35
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 14:11:50 2021 +0200

    * Some command-line options

M	packages/fcl-web/examples/httpserver/simplehttpserver.pas

******************************************************************************
commit 5bf9de22d696143e5e25a350cf407312603d183e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 14:11:22 2021 +0200

    Thread pool start

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit f6c476ae79112ef1866dab22cee7c307fc8ec98f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 11:44:47 2021 +0200

    * Start of thread pool.

M	packages/fcl-web/examples/httpserver/simplehttpserver.lpi
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit ed861e5343dba6e3e10d75a6db8919deaf4b350f
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 08:05:14 2021 +0200

    don't keep alive connections that failed

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 410916ab6bfad9c66f396fb94fef0a256f9610a6
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 07:40:47 2021 +0200

    Fix TFPHTTPConnectionThread.Execute repeat loop

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 8fc1bc276f14fd1deadf250385c408b0973074a7
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 06:18:09 2021 +0200

    Info about active connections

M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas

******************************************************************************
commit c4e20291797583b2d172f804c0c684747279e70a
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 06:17:46 2021 +0200

    Ignore exceptions

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit da10b8141c184e592b1d8d4ab65d675c0755fbcc
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 05:44:44 2021 +0200

    Remove the KeepAlive* properties from TFPCustomHttpServer, rename KeepAliveEnabled to EnableKeepAlive

M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit bf2e3bf51a1e9a5c2156edf112fbb8a83aabe42c
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:46:50 2021 +0200

    add threadedhttpserver demo

M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas

******************************************************************************
commit 722a37ab2f8b008c750a4a143d49aae8563032cd
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:46:12 2021 +0200

    Rename KeepAliveSupport->KeepAliveEnabled

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit eaffd1deca89d08f780f34c7788c28a0ac49b939
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:44:20 2021 +0200

    Read out KeepAlive only if enabled

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 1d18f2fdbf2b190f9abefd954bcea71795de8bc3
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:55:15 2021 +0200

    comment

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 162ecdc543f8022f77bac46223537ece7cbc4188
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:55:01 2021 +0200

    TFPCustomHttpServer KeepAlive* properties

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 9d9128a747adcbdc2a7a3fafb17237f895dbff21
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:12:40 2021 +0200

    httpserver keep-alive first attempt

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit c68c22e9e88413abd80866aa3293e553fb0c5b95
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 08:05:14 2021 +0200

    don't keep alive connections that failed

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit ae1c809a2de4d326571b2f086854feb70c35fdae
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 07:40:47 2021 +0200

    Fix TFPHTTPConnectionThread.Execute repeat loop

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 964a9839d1ed9a4fe9400ec95ef0a0db563f0659
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 07:39:34 2021 +0200

    Use InterlockedExchangeAdd to get ConnectionCount

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 7ccdcd3d14a35c350c5463d2488906f66d26163a
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 06:18:09 2021 +0200

    Info about active connections

M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas

******************************************************************************
commit 52c00037d3600f819bd8495b470c06a2f026dc10
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 06:17:46 2021 +0200

    Ignore exceptions

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 6a2f596b8eb7efa8fb672451a7afe0a00b5a03e9
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 05:44:44 2021 +0200

    Remove the KeepAlive* properties from TFPCustomHttpServer, rename KeepAliveEnabled to EnableKeepAlive

M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit af47d108af4e289f6018b2a386b9c96b2a65c12d
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:46:50 2021 +0200

    add threadedhttpserver demo

M	packages/fcl-web/examples/httpserver/simplehttpserver.pas
A	packages/fcl-web/examples/httpserver/testhttpserver.pas
A	packages/fcl-web/examples/httpserver/threadedhttpserver.pas

******************************************************************************
commit 676c9a7bf6e181662c5838ced35d0326fe5da564
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:46:12 2021 +0200

    Rename KeepAliveSupport->KeepAliveEnabled

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit c67a44c07a699e9c70b71f28370f875e1e010bb1
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:44:20 2021 +0200

    Read out KeepAlive only if enabled

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 3814df5b4a052afb5b0d28e761c8836212b353d9
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:42:14 2021 +0200

    set socket options in TSocketStream.SetSocketOptions

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 7d890608b8cea84f701e5f88a32f7a6edea3f173
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:55:15 2021 +0200

    comment

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 8bf5eb83229a05e2c630bc4015b9c622ff8e48df
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:55:01 2021 +0200

    TFPCustomHttpServer KeepAlive* properties

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 7fbc82a9ffd9fda11f0643f32dcfd675de7a53a4
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:12:40 2021 +0200

    httpserver keep-alive first attempt

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 4401ef32bb51ed138015821fc2c8f51c467fec6d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Aug 18 09:45:26 2021 +0200

    pastojs: emulate compile time assign integer constant of different type

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 6b36229d3c1e202665ca7b34d731194534fccdf9
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Aug 17 16:47:00 2021 +0200

    * Allocate min threads

M	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit 6e8775f2a9934349c3f13921aaeed6945f9f919c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Aug 17 16:25:24 2021 +0200

    * Add thread pool to fpmake

M	packages/fcl-base/fpmake.pp

******************************************************************************
commit 2e0a88901e2b1ee57dae1caa5b803c012cbf315c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Aug 17 16:21:16 2021 +0200

    * Initial thread pool implementation

M	packages/fcl-base/examples/README.txt
A	packages/fcl-base/examples/testthreadpool.pp
A	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit 400e11e6cfdef0bc217dd92b5214e21222f09f08
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Tue Aug 17 10:20:25 2021 +0000

    Propagate SSL initialization errors as exceptions

M	packages/fcl-net/src/ssockets.pp
M	packages/openssl/src/opensslsockets.pp

******************************************************************************
commit 07dcd22b1c812f4dc659995c84c51fc580383a59
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 16 21:53:17 2021 +0300

    * sizeof(array) and length(array) must return sizeUint in case the array
      size does not fit in sizeint. This fixes a range check error during
      compilation on small CPU targets where allowed array size is 64K, but
      sizeint is 32K max.

M	compiler/ncon.pas
M	compiler/ninl.pas
M	compiler/pexpr.pas

******************************************************************************
commit 40c359a5510fdbda573a1eb75a50977382f0996d
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Mon Aug 16 17:42:01 2021 +0200

    TFPCustomHTTPClient: do not reconnect when terminated

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 3ca73da91282ae5ea53ab61ece3301dacb454a43
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 16 17:35:23 2021 +0300

    * In TP-style INLINE, allowed the > modifier for global vars and relaxed range checks.

M	compiler/pstatmnt.pas

******************************************************************************
commit fdaa1a12d03ab0af27d783a6ebd8c989673f145b
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Mon Aug 16 13:59:51 2021 +0000

    fphttpclient: new DoDataWrite/OnDataSent event

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit fc3685819c07008860e35f2d727d55365a4586e0
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 16 16:12:21 2021 +0300

    + Added a test for the TP-style INLINE() statement.

A	tests/test/ttpinl.pp

******************************************************************************
commit d502a38f2044a641fac2eb94501f1b49d3b698a5
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Mon Aug 16 11:33:53 2021 +0200

    TFPHTTPConnection: clear FBuffer when read from it in ReadRequestContent

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 675312c201c678c8446482f7e53b1209684b45bd
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Mon Aug 16 07:04:20 2021 +0200

    *http client: rewind RequestBody in SendRequest

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 64ddf22e1b77cea0a29d13f5bcd1e09e8bb17ebf
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 16 00:40:06 2021 +0300

    * TP compatibility: For retro CPUs always copy the function result to
      the register(s) on function exit if assembler blocks are present.

M	compiler/pstatmnt.pas

******************************************************************************
commit c78e9557f81f7711a60400f8709b5b1fe017bdd5
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 16 00:31:08 2021 +0300

    * Added support for the old Turbo Pascal INLINE(data/data/...) statement.
      It is available only in the TP mode.

M	compiler/ncgbas.pas
M	compiler/pstatmnt.pas
M	compiler/tokens.pas

******************************************************************************
commit 122ed4b76a4e735ab76b44d52c845879e6fa5535
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sun Aug 15 14:25:15 2021 +0300

    * Support for sleb128 and uleb128 constants in the NASM writer.
    * Added sleb128tostr() and uleb128tostr() methods to TExternalAssembler.
    * Use these methods in assembler writers instead of code duplication.

M	compiler/aggas.pas
M	compiler/assemble.pas
M	compiler/x86/agx86nsm.pas
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 5479663e560bbe906bf05274b74cd168dac41627
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Sun Aug 15 11:47:01 2021 +0000

    Move GetStatusCode from fphttpserver.pp to httpprotocol.pp in order to use it outside fphttpserver

M	packages/fcl-web/src/base/fphttpserver.pp
M	packages/fcl-web/src/base/fphttpstatus.pas
M	packages/fcl-web/src/base/httpprotocol.pp

******************************************************************************
commit c64c0e617d070de85b11e171d895886c064b1bec
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Sun Aug 15 11:39:05 2021 +0000

    fphttpclient keepalive: failed socket operations raise exceptions - try to reconnect also in this case

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit dd4b4af6a53514749c8ed329cbd9c41ab6f1b7b5
Author: Karl-Michael Schindler <609203+kamischi@users.noreply.github.com>
Date:   Sat Aug 14 23:48:45 2021 +0200

    compiler/msg/errord*.msg: Update of German error messages

M	compiler/msg/errord.msg
M	compiler/msg/errordu.msg

******************************************************************************
commit a7d608dd431df9e641b147bb9370daae4750f723
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Aug 13 14:09:34 2021 +0200

    * Add DB testsuite config file to ignore list

M	.gitignore

******************************************************************************
commit 07698050e56747de32c7ce580467cc8bbebb2a28
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Aug 13 13:53:22 2021 +0300

    * Before r35961 (back in 2017) some simple assignment optimizations, such as "x:=x+y" to "inc(x,y)", were performed when -O2 in tassignmentnode.simplify. In r35961 these optimizations were moved to a separate pass which is enabled only when -O3 by cs_opt_use_load_modify_store. This separate pass can benefit from other optimization. But worse code is generated with -O2 since then.
    This commit restores applying of simple assignment optimizations when -O2.

M	compiler/nld.pas
M	compiler/optloadmodifystore.pas

******************************************************************************
commit 777d536d9bc826fcf5d580dd80ba2c25a73de1ee
Author: florian <florian@freepascal.org>
Date:   Thu Aug 12 21:19:50 2021 +0200

      * extended routines int/frac/trunc shouldn't mess with precision or exception flags, should fix #39275

M	rtl/x86_64/math.inc

******************************************************************************
commit 306fae299e2b90543f863504cd9a35be802d103e
Author: florian <florian@freepascal.org>
Date:   Wed Aug 11 22:59:40 2021 +0200

      * patch by J. Gareth Moreton: AND/CMP optimisation, resolves #39287

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 25e937b0c92ee809951e29942089dda9e77d4675
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Wed Aug 11 22:03:36 2021 +0200

    * Correct reader signatures

M	packages/fcl-db/src/base/bufdataset.pas

******************************************************************************
commit 2f81580e04990ab194d0beb6fc8a4681c084cffc
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Wed Aug 11 21:53:49 2021 +0200

    * cast empty string to char no longer compiles

M	packages/fcl-db/tests/testdbexport.pas

******************************************************************************
commit 776790d01488b14c46ec0c912ba0604126056c43
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Wed Aug 11 21:53:00 2021 +0200

    * Rework packet handling

M	packages/fcl-db/src/base/bufdataset.pas

******************************************************************************
commit a55794d80d6f8af398d44f26c94b7abba55a6634
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Aug 11 11:57:53 2021 +0200

    DateTimeToString: do not write #0 separators

M	rtl/objpas/sysutils/dati.inc

******************************************************************************
commit 0ae0e741cfbbe66e0a87f5162608075bb359244f
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Aug 11 11:06:17 2021 +0200

    win: fix default ShortDateFormat and LongDateFormat

M	rtl/win/sysutils.pp

******************************************************************************
commit 2c81b44b1c9a5581dd20c7d6f6c49394f930cc13
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Aug 11 11:06:17 2021 +0200

    win: fix default ShortDateFormat and LongDateFormat

M	rtl/win/sysutils.pp

******************************************************************************
commit 10acbca82824b6a3ebf5dd829941da61211f947c
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 9 23:49:58 2021 +0300

    * x86: Added the "test $-1,%reg" condition to the MovAndTest2Test optimization.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c0d57d03c232bafa06d80fee74b07e91300944c5
Author: Marcus Sackrow <alb42@web.de>
Date:   Mon Aug 9 17:20:48 2021 +0100

    amiga: removed some debugging settings

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 8117c97d921cb0b56f4e958a0ddb7b6d34acf0dd
Author: Marcus Sackrow <alb42@web.de>
Date:   Sun Aug 8 14:50:25 2021 +0100

    amiga: FPC_DOKEYCONVERSION env var if key conversation Ansi to IBM should be done for every key

M	packages/rtl-console/src/amicommon/keyboard.pp

******************************************************************************
commit e1a75bf6588284851b11c20f55791b496a764a86
Author: Marcus Sackrow <alb42@web.de>
Date:   Sun Aug 8 14:49:27 2021 +0100

    Amiga: Implemented GetVar for 1.x

M	packages/amunits/src/coreunits/amigados.pas
M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 6a3f32ba6983dfda5250d03b9b2d33c8ffc6022a
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 9 18:38:31 2021 +0300

    * optimize tests for a single bit "(a and one_bit_mask_const) = <> one_bit_mask_const" into "(a and one_bit_mask_const) <> = 0" to enable further CPU specific optimizations.

M	compiler/nadd.pas

******************************************************************************
commit 45c683325867989800e574edc8e013030c56d33d
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Mon Aug 9 16:46:30 2021 +0200

    * --example-dir support

M	utils/fpdoc/dglobals.pp
M	utils/fpdoc/fpdoc.pp
M	utils/fpdoc/fpdocstrs.pp
M	utils/fpdoc/mkfpdoc.pp

******************************************************************************
commit 3cfec8f905a3edc27473e9ddf12f888e74d19bb5
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Mon Aug 9 16:34:35 2021 +0200

    * Fix error in calclookupvalue

M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit 352435cb75c53e081baf0dd311fc6cf90a804884
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Mon Aug 9 11:49:44 2021 +0200

    * only .pp is needed

D	packages/gitlab/examples/closetodo/closetodo.lpr

******************************************************************************
commit 5d826cfe3cf1bcb0c5da68e0d584ddeb6a3220f9
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Mon Aug 9 10:55:13 2021 +0200

    * Some additional filters

M	packages/gitlab/examples/closetodo/closetodo.pp

******************************************************************************
commit c5a128fae7e1c7671b05bbe286b4bf927a6c67b2
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Sun Aug 8 15:22:33 2021 +0200

    * Gitlab client + example

M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc
A	packages/gitlab/Makefile
A	packages/gitlab/Makefile.fpc
A	packages/gitlab/examples/closetodo/closetodo.lpr
A	packages/gitlab/examples/closetodo/closetodo.pp
A	packages/gitlab/examples/closetodo/sample.cfg
A	packages/gitlab/fpmake.pp
A	packages/gitlab/src/gitlabclient.pas

******************************************************************************
commit c1f6a7afdd035f96168c58b3af8e453962c69de7
Author: Marcus Sackrow <alb42@web.de>
Date:   Fri Aug 6 19:48:27 2021 +0100

    Amiga: Workbench 1.x compatibilty via the AMIGA_V1_2_ONLY define

M	packages/ami-extra/src/muihelper.pas
M	packages/amunits/src/coreunits/agraphics.pas
M	packages/amunits/src/coreunits/amigados.pas
M	packages/amunits/src/coreunits/amigalib.pas
M	packages/amunits/src/coreunits/exec.pas
M	packages/amunits/src/coreunits/intuition.pas
M	packages/amunits/src/coreunits/keymap.pas
M	packages/amunits/src/coreunits/utility.pas
M	packages/amunits/src/utilunits/hisoft.pas
M	packages/amunits/src/utilunits/wbargs.pas
M	packages/fcl-process/src/amicommon/pipes.inc
M	packages/rtl-console/src/amicommon/crt.pp
M	packages/rtl-console/src/amicommon/keyboard.pp
M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 136f0429725919c7759358a0499a4cec09f8a3ad
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Aug 6 21:43:10 2021 +0300

    * It is still needed to release the temp allocated for the result of an assembler function if the result is not referenced. This fixes some EXTDEBUG warnings.

M	compiler/hlcgobj.pas

******************************************************************************
commit 5920d169c096737ad6288a96a37a9377fd8697dc
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Aug 6 21:29:05 2021 +0300

    * Prevent double release of a temp.

M	compiler/x86/nx86cnv.pas

******************************************************************************
commit 5350ac7d65f1f595ba4e3b6d582829fc9ad3bca1
Author: Marcus Sackrow <alb42@web.de>
Date:   Fri Aug 6 17:41:51 2021 +0100

    fpts2junit: prevent double entries in junit xml (in test log are double entries, one for compiles, one for runs)

M	tests/utils/fpts2junit.pp

******************************************************************************
commit b3744bf11fc50891c3769b1268f72dc93824d5bb
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 04:30:09 2021 +0300

    + added dependency on unit xmd for unit dpms

M	packages/x11/fpmake.pp

******************************************************************************
commit a061b2e76386729992137803cb9259df66202ab9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 04:29:12 2021 +0300

    + added unit xtestext1 (header translation of X11/extensions/xtestext1.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/xtestext1.pp
A	packages/x11/src/xtestext1const.inc
A	packages/x11/tests/xtestext1_linktest.pp

******************************************************************************
commit 68e026ab2dc225e950bdd85a59d9106cd9de77aa
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 03:59:41 2021 +0300

    + added unit sync (header translation of X11/extensions/sync.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/sync.pp
A	packages/x11/src/syncconst.inc
A	packages/x11/tests/sync_linktest.pp

******************************************************************************
commit 650d2fcaa9a463f90e17de0b719c41b7cdb4e8ed
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 02:56:40 2021 +0300

    + added unit security (header translation of X11/extensions/security.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/secur.inc
A	packages/x11/src/security.pp
A	packages/x11/src/xauth.inc
A	packages/x11/tests/security_linktest.pp

******************************************************************************
commit d33e6d639b70ace8f97c4a47953b0b910612d2a1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 02:27:14 2021 +0300

    + added unit multibuf (header translation of X11/extensions/multibuf.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/multibuf.pp
A	packages/x11/src/multibufconst.inc
A	packages/x11/tests/multibuf_linktest.pp

******************************************************************************
commit 68c964bf59c8380843fda383273a05d5aa44b27d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 01:40:53 2021 +0300

    + added unit dpms (header conversion of X11/extensions/dpms.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/dpms.pp
A	packages/x11/src/dpmsconst.inc
M	packages/x11/src/xlib.pp
A	packages/x11/tests/dpms_linktest.pp

******************************************************************************
commit 261aff9de8ba3435e87d996689a074c6bcbcc783
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 01:24:41 2021 +0300

    + added unit xmd (header translation of X11/Xmd.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/xmd.pp

******************************************************************************
commit 63760fce6a05ed9743d7af4a758009b9ee8e1bb0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 00:15:21 2021 +0300

    + added packrecords C directive to the xevi unit, because it contains records

M	packages/x11/src/xevi.pp

******************************************************************************
commit c6ef087850f57667612964049242965bbd452481
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 00:14:01 2021 +0300

    + added unit xdbe (header translation of X11/extensions/Xdbe.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/dbe.inc
A	packages/x11/src/xdbe.pp
A	packages/x11/tests/xdbe_linktest.pp

******************************************************************************
commit c3798a4a38335681a17ee0a35a63baaf8daa93d8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Aug 5 23:48:05 2021 +0300

    + added unit xcup (header translation of X11/extensions/Xcup.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/cup.inc
A	packages/x11/src/xcup.pp
M	packages/x11/src/xlib.pp
A	packages/x11/tests/xcup_linktest.pp

******************************************************************************
commit 9846fd3f37424ef692f286dac238da33de9cd31b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Aug 5 23:36:27 2021 +0300

    + added unit xag (header translation of X11/extensions/Xag.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/ag.inc
A	packages/x11/src/xag.pp
A	packages/x11/tests/xag_linktest.pp

******************************************************************************
commit 1699471b8dfba863d6624edaf18b63e075286b5c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Aug 5 23:09:40 2021 +0300

    + added unit xlbx (header translation of X11/extensions/XLbx.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/lbx.inc
A	packages/x11/src/xlbx.pp
A	packages/x11/tests/xlbx_linktest.pp

******************************************************************************
commit cf1d3539feebe1e8726a42a1929b19449defec2a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Aug 5 22:48:32 2021 +0300

    + added unit xevi (header translation of X11/extensions/XEVI.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/evi.inc
A	packages/x11/src/xevi.pp
A	packages/x11/tests/xevi_linktest.pp

******************************************************************************
commit 7368fcf4c5a6845a0c2257ae0479556850184565
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Jun 18 14:07:13 2021 +0000

    activate 'compressed disp8*N' for VCVTQQ2PS xmmreg, xmmrm and VCVTTPD2UDQ xmmreg, xmmrm
    
    git-svn-id: branches/tg74/avx512-0037785@49513 -

M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 43b29375899276a2734571d2be8daef68e5b9008
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Jun 18 14:06:55 2021 +0000

    activate 'compressed disp8*N' for VCVTQQ2PS xmmreg, xmmrm and VCVTTPD2UDQ xmmreg, xmmrm
    
    git-svn-id: branches/tg74/avx512-0037785@49512 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit b4a002e3e777f7a26040bf42a2372a8f1908e9ba
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Mar 9 16:31:02 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48927 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit ad753c0bbd52d42685ef5cdb0406c2c7e369c605
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Mar 5 16:08:34 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48880 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit d6235174ac37b3aa7ba6ee1e03a5abe450d2a4d5
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Mar 5 09:02:53 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48879 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 5d3faa5ebd1f1d4acbf58d563b5b38c9a4ae6cf1
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Mar 4 15:54:43 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48877 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 798eb0e768dee97be6c729e35445765dbedb7d36
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Mar 4 05:47:14 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48875 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit bc42999a09d3acb45eb1b3daf3a2223e828f93ff
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Mar 3 16:27:21 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48873 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit fa8bbc43960c51ef1fa09ef630ab53c08e76ea29
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Mar 3 05:26:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48872 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 0569ab4a2859d1e5ff60e996deaa0bcf2fff737c
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Mar 2 16:30:31 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48870 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 3b408e6a6a986e8c1f0493e00e1645db3ee502ef
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Mar 1 16:28:11 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48853 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 493879d28cc1c2f76193c44458344f838ac17160
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Mar 1 05:54:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48845 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 41399354ce3fdfa9683f310e168427480c01f9d1
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Feb 25 05:30:42 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48807 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit ca0d11e308a6c64fa6494d7c904032280ec83111
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 24 16:29:26 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48804 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit e430c92fcbb5b00680ac84579d6f969a4aa1c1c4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 22 15:59:58 2021 +0000

    bugfix 0037785 cvtsi2ss and cvtsi2sd in x86_64 { att}
    
    git-svn-id: branches/tg74/avx512-0037785@48790 -

M	compiler/ppcx64.lpi
M	compiler/x86/itcpugas.pas

******************************************************************************
commit 1f12cdefb98091c855b0e61d2f899204f943f0ca
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 15 16:03:49 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48683 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 1cd0364c50e44b6d2b7d859b4e4bc556bfd3593a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 15 05:33:27 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48682 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 8d21ab9d67d41f06f26a890ab7e346517c1f4f2d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Feb 12 16:23:55 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48658 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 3d37b958bcc1c171c66cb654aafbb5546217e7ea
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Feb 12 08:22:01 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48656 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit dfc65acfa8a117265260964da616d70a7f4d80bf
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 10 14:13:30 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48606 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 4e151d5a6d8b1b11617cc17f3fa3e08f612efe4a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 8 11:04:21 2021 +0000

    bugfix 0037785 cvtsi2sd,cvtsi2ss for platform i386
    
    git-svn-id: branches/tg74/avx512-0037785@48526 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit e309c47ed619cf7161ef355b4d1fa3128efaaa38
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Feb 4 04:53:13 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48508 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit c43787f7f8f30126563b9189d33f178916b47c1f
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 3 16:30:41 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48506 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit bc9629c446de8fbfec27dcd77e348adca0b1c218
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 3 09:03:04 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48505 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 66cdab722370350681f7b381b815a23033ce7602
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Feb 2 16:24:36 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48500 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit e844f748825dc710c80277804bddfe65b90e1ec9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 1 16:16:06 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48492 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 6eb2cd6dfde2bb99e1bf7dac9fc7b963497f09e4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 1 14:54:18 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48491 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 1bcf50ce701c200fb6962226b2f48274d8a68985
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Jan 27 15:48:20 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48437 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp

******************************************************************************
commit ae97668967c8d2dd3ddc05e8ae7e4e54519bb6a0
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 16:23:56 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48420 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 684bdb0245b603c5c116d90f5fe2438089e1201f
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 16:01:01 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48419 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit 0a254b46bc0c01773778e93497609b5e27d139a9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 05:24:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48416 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/options.pas

******************************************************************************
commit 22e8cd3fd3ebf6b1747cb17064419d9d90450985
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Jan 21 04:57:47 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48261 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 149f8ddfe9965e73e3e0acb94b46c623a9c0c087
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Jan 20 16:30:38 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48230 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit c2a3f03093d6a4814d0d740244afa7800194781d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 19 11:01:32 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48189 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit 555ecd826bd9b6d28784f7e285eb648d49e251ee
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 19 05:12:39 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48187 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp

******************************************************************************
commit 54ea8468fc0fa0c2775c82a10ad62785c2a8f11a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 16:27:07 2021 +0000

    cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@48149 -

M	compiler/x86/rax86.pas

******************************************************************************
commit ecdac1dd399df3d5dade5151e320686db821ef9e
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 16:19:53 2021 +0000

    cleanup + add internal error if all asmr_e_not_supported_combination_attsuffix_memrefsize_type are reported
    
    git-svn-id: branches/tg74/avx512-0037785@48148 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 7a536df60e1acc939157b2608c7a68f33223c9b4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 11:01:31 2021 +0000

    avxtestgenerator add attsuffix in 'opcode-memrefsize-state - list' (command-line option '-l')
    
    git-svn-id: branches/tg74/avx512-0037785@48147 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit db2051e2d2c07c5190c93d7f19409b2eec5c11c3
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 10:57:15 2021 +0000

    bugfix testcases 0037785
    
    git-svn-id: branches/tg74/avx512-0037785@48146 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 64e796ace2f58eda26c7c732c8d592029f5cf297
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 09:47:18 2021 +0000

    cleanup bugfix 0037785
    
    git-svn-id: branches/tg74/avx512-0037785@48145 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit c3b5d0d5d5b522e8d1a594183e2b49dce34decfb
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 13:52:29 2021 +0000

      * use str(...) instead of typinfo unit
    
    git-svn-id: branches/tg74/avx512-0037785@48085 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 09c009868604cb1a9a065ea9c739a37c41c93923
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 13:13:43 2021 +0000

    -- Rückwärtiges Zusammenführen von r47837 bis r47033 in »ppcx64.lpi«:
    U    ppcx64.lpi
    -- Aufzeichnung der Informationen für rückwärtiges Zusammenführen von r47837 bis r47033 in »ppcx64.lpi«:
     G   ppcx64.lpi
    -- Entfernung der Zusammenführungsinformationen von »ppcx64.lpi«:
     U   ppcx64.lpi
    
    git-svn-id: branches/tg74/avx512-0037785@48084 -

M	compiler/ppcx64.lpi

******************************************************************************
commit f8fc0073248b2be95224d2419bb844b4bec0d5e9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sat Jan 2 22:13:27 2021 +0000

    internal assembler-reader x86 (local/global var) - validate asm-opcode-attsuffix and memrefsize
    
    git-svn-id: branches/tg74/avx512-0037785@47984 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit 7bba64854b52c877aac354180ba7928a903ff23f
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 30 07:10:37 2020 +0000

    internal assembler-reader x86 opsize local/global var - cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@47899 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 507f0b3362db9513e09255168306a3c46d35f0b3
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 29 05:12:47 2020 +0000

    working on internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47886 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 2452e991b86091045a296ca6251b66ca3f6cea5d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 29 04:49:52 2020 +0000

    internal assembler-reader x86 opsize local/global var - cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@47885 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 9b2bed6fdf168b694b7c62751b208bc82d075c16
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 05:00:58 2020 +0000

    external gas assembler: special handling for correct suffix in vfpclass-opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47865 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 402f0d348e68536880a06507689e175ab7428226
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 04:56:47 2020 +0000

    avxtestgenerator: add new commandline param '-m', create only these testfile(s)
    
    git-svn-id: branches/tg74/avx512-0037785@47864 -

M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit a0d21148b453cf1c6e879c4989737b829b0c8229
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 04:35:22 2020 +0000

    avx512: external gas assembler not supported gather/scatter-opcodes without mask-register =>> not generate testcode
    
    git-svn-id: branches/tg74/avx512-0037785@47863 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 2ec8145ec543c0babf24ecd8de10d0114a91dca0
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 23 03:56:23 2020 +0000

    external gas-assembler - handling special opcodes with multiple memref-size e.g. vfpclassps/pd - if operand-opsize < S_XMM =>> use memref-min-size
    
    git-svn-id: branches/tg74/avx512-0037785@47837 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/ppcx64.lpi
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit 213f84ad6ce093b49829e9411b597b626fb113b8
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sun Dec 20 04:44:37 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable - append correct gas-suffix on any vcvt.. opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47821 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 518db35eb075e4bbee9fd9f55324b96d292abe4b
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 18 16:24:57 2020 +0000

    working on internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47811 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 76dd6ff6e784410972d33fdd3aa77d0252a46ea5
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 18 05:27:56 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47807 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 25b27281375284e07b7b9047d7cfcb14f2805555
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 15:43:34 2020 +0000

    cleanup x86ins.dat
    
    git-svn-id: branches/tg74/avx512-0037785@47789 -

M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 04b059268bb291cb1b5471481bacf5aa93a756eb
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 15:39:19 2020 +0000

    cleanup x86ins.dat
    
    git-svn-id: branches/tg74/avx512-0037785@47788 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit d6fdb384590bf8306e16b990dac52ca86f90deab
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 11:02:14 2020 +0000

    cleanup and add comments to div. vcvt.. opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47785 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit 324032941a3b4171b59c99a1663c2a6407dbeec0
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sat Dec 12 21:36:31 2020 +0000

    add new option to avxtestgenerator to list opcodes-memrefsize-state
    
    git-svn-id: branches/tg74/avx512-0037785@47764 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit 8c98be824df6e28fad2a957e4908cf96be65d400
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Dec 10 04:43:24 2020 +0000

    cleanup bugfix internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47745 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 7aa94f6191bb586ebf69cd93e13c3bebdf10001e
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 7 04:45:24 2020 +0000

    bugfixing operandsize from 32-bit to (correct) 64-bit
    
    git-svn-id: branches/tg74/avx512-0037785@47708 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit aeca33e80ad2db7c2c885c624b534c0b19aaef21
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 7 04:39:36 2020 +0000

    working on internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47707 -

M	compiler/x86/rax86.pas

******************************************************************************
commit b2615a9ba11f613a7920efd59b2199cfbc4f4017
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 4 16:19:48 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47685 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit d8d472cf68aaa59c255456d23a5698d70858c45f
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 4 08:35:00 2020 +0000

    bugfix internal assembler-reader x86 opsize local va
    
    git-svn-id: branches/tg74/avx512-0037785@47681 -

M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086tab.inc
M	compiler/ppcx64.lpi
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 28fdba2c08f6fdee34557b1419e310e70b864a41
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Dec 3 16:24:00 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47678 -

M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/ppcx64.lpi
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 06b229e1c33157af5d90c1596dd62b675ae34bc8
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 2 09:19:41 2020 +0000

    working on internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47663 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 84bf87b20dbacb2db9bc8770043968fe1d4e35d9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 1 05:43:17 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47654 -

M	compiler/x86/rax86.pas

******************************************************************************
commit ae71ab728462e24367107623c19c4ba6aaaf8716
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Nov 30 16:31:51 2020 +0000

    working on new testmethods memref operands
    
    git-svn-id: branches/tg74/avx512-0037785@47642 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 0a3d980f7e883862dec13db1745e75646c5f6f09
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Nov 30 13:53:25 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47640 -

M	compiler/ppcx64.lpi
M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit f4251bc11a21d64cf80df90db853c8df12558b73
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Nov 27 15:54:47 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47608 -

M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit 3af6a9826347573ff8a33b50748e48541e41a1e9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Nov 27 05:45:44 2020 +0000

    bugfix internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47606 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 5207d0ee25a8bb2f37088e654b25dae2a5ade454
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Nov 26 16:27:48 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47600 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit c69f1a20f498f1e8b5db8a59e83c3e5c53ec95fa
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 25 11:50:10 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47580 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 912f8e8817dd15d27d7dddffcc471737c23050ef
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 25 09:11:07 2020 +0000

    add new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47579 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit 33b4772eab459420afb5788ee18e4f4c5d21efc7
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 18 04:38:21 2020 +0000

    bugfix gnu-assembler platform i386 vcvtsi2sd,vcvtsi2ss,vcvtusi2sd,vcvtusi2ss
    
    git-svn-id: branches/tg74/avx512-0037785@47443 -

M	compiler/x86/rax86.pas

******************************************************************************
commit d41579fb2b8c8a5c35d280065944a2fa4aee3d7a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Nov 17 16:22:27 2020 +0000

    bugfix gnu-assembler platform i386 vcvtsi2sd,vcvtsi2ss,vcvtusi2sd,vcvtusi2ss
    
    git-svn-id: branches/tg74/avx512-0037785@47441 -

M	compiler/i386/i386atts.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/utils/mkx86ins.pp
M	compiler/x86/itcpugas.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86att.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit b878d461c8e7f1eaa4a928c285f0208ea8f5ad7a
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jul 23 23:23:47 2021 +0000

    * fixed compilation for i8086 and 8-bit targets after r49622. The conditional
      ifdef checks for the ordinal helpers rewritten to be less dependendant on
      defines, such as CPU16/CPU32/CPU64 and instead use sizeof(integer),
      sizeof(nativeint) and sizeof(nativeuint)
    
    git-svn-id: trunk@49634 -

M	rtl/objpas/sysutils/syshelp.inc
M	rtl/objpas/sysutils/syshelph.inc

******************************************************************************
commit f0d92b74c1341cc1d09177718accb889d3791aa3
Author: florian <florian@freepascal.org>
Date:   Fri Jul 23 20:50:39 2021 +0000

      - x86_64: some more fwaits removed
    
    git-svn-id: trunk@49633 -

M	rtl/x86_64/math.inc

******************************************************************************
commit cebf880df914dceb662155d130bc6b565dc65a35
Author: florian <florian@freepascal.org>
Date:   Thu Jul 22 21:15:03 2021 +0000

      * x86-64: fpc_frac_real further improved: memory loads of extendeds are expensive
    
    git-svn-id: trunk@49632 -

M	rtl/x86_64/math.inc

******************************************************************************
commit 0e3d95b589923d8701e9f8c2dcb3cb06e9c27f95
Author: michael <michael@freepascal.org>
Date:   Thu Jul 22 05:53:06 2021 +0000

    * Restored disappeared test
    
    git-svn-id: trunk@49631 -

M	tests/test/units/fmtbcd/tfmtbcd.pp

******************************************************************************
commit c48ac0a71e7dbf1a6072e8ccc16b7430e5e8fe41
Author: michael <michael@freepascal.org>
Date:   Thu Jul 22 05:50:22 2021 +0000

    * Enable TDatasource.Enabled, patch from Laco
    
    git-svn-id: trunk@49630 -

M	packages/fcl-db/src/base/datasource.inc

******************************************************************************
commit fafee8b85b91942bd60adba63c1348a6d89d5177
Author: florian <florian@freepascal.org>
Date:   Wed Jul 21 20:41:31 2021 +0000

      * x86-64: removed some fwait instructions from fpc_frac_real, they shouldn't be necessary
    
    git-svn-id: trunk@49626 -

M	rtl/x86_64/math.inc

******************************************************************************
commit 4fac31d1c76c39926ab0b0f3108a32f0028c8293
Author: michael <michael@freepascal.org>
Date:   Wed Jul 21 15:59:37 2021 +0000

    * Patch by Werner Pamler to improve ISO8601 to datetime conversion
    
    git-svn-id: trunk@49624 -

M	.gitattributes
M	packages/rtl-objpas/src/inc/dateutil.inc
A	tests/test/units/dateutil/tisotodt.pp

******************************************************************************
commit 573917706fb5a5cffd76239e90ef62fdee041f68
Author: michael <michael@freepascal.org>
Date:   Wed Jul 21 15:08:53 2021 +0000

    * Patch from Laco to fix issue #39261
    
    git-svn-id: trunk@49623 -

M	packages/rtl-objpas/src/inc/fmtbcd.pp
M	tests/test/units/fmtbcd/tfmtbcd.pp

******************************************************************************
commit e6a593c5fae1bdf3ff77da7b50e1bfe272a33674
Author: michael <michael@freepascal.org>
Date:   Wed Jul 21 11:36:05 2021 +0000

    * Patch from Zeljko Avramovic to extend ordinal/float helpers
    
    git-svn-id: trunk@49622 -

M	rtl/inc/objpas.inc
M	rtl/objpas/sysutils/syshelp.inc
M	rtl/objpas/sysutils/syshelph.inc
M	rtl/objpas/sysutils/syshelpo.inc

******************************************************************************
commit 415bf22e01cbb676fbefc4de83ee4d18bfa6145e
Author: florian <florian@freepascal.org>
Date:   Mon Jul 19 20:55:41 2021 +0000

      * remove mhs_exceptions in might_have_sideeffects call for C operators: it improves code
        and shouldn't hurt as this is no regression in comparison with current 3.2.x
    
    git-svn-id: trunk@49621 -

M	compiler/pexpr.pas

******************************************************************************
commit 7a8893396d2598628075a4f3e001622d731e1191
Author: florian <florian@freepascal.org>
Date:   Sun Jul 18 21:47:22 2021 +0000

      * revert last commit, avr4 has no call/jmp
    
    git-svn-id: trunk@49620 -

M	compiler/avr/cpuinfo.pas

******************************************************************************
commit eb96734b2062ee19daf54cd52266164d70e84b02
Author: florian <florian@freepascal.org>
Date:   Sun Jul 18 21:41:57 2021 +0000

      * avr4 has mul instructions
    
    git-svn-id: trunk@49619 -

M	compiler/avr/cpuinfo.pas

******************************************************************************
commit 46507f956552ac35f745568284ca6ca7de4f328f
Author: florian <florian@freepascal.org>
Date:   Sun Jul 18 21:40:43 2021 +0000

      * Xtensa: optimize constant multiplications
    
    git-svn-id: trunk@49618 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit db8c723b9d503f0eee1b7058495170b97326752f
Author: florian <florian@freepascal.org>
Date:   Sat Jul 17 21:07:02 2021 +0000

      * Xtensa: unified DataMov2Data optimization
    
    git-svn-id: trunk@49616 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit c67d35b8ccfe8a4de74ea6f33017fbd9f68979b0
Author: florian <florian@freepascal.org>
Date:   Fri Jul 16 21:47:36 2021 +0000

      * patch by J. Gareth Moreton: x86: Minor bitwise optimisations, resolves #39299
    
    git-svn-id: trunk@49614 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 2a2576b1d5c6335deb98c92f51344903e912c7ee
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Jul 15 21:52:27 2021 +0000

    * further fix for Mants #26760: applied patch by Ondrej Pokorny to fix recompilation of units referenced with an "in" clause if no file extension is provided
    + added (interactive) test
    
    git-svn-id: trunk@49613 -

M	.gitattributes
M	compiler/fppu.pas
A	tests/webtbs/tw26760b.pp

******************************************************************************
commit 2629bd7ba92a03ed6b106448b7eae6429b63e94a
Author: florian <florian@freepascal.org>
Date:   Thu Jul 15 20:58:46 2021 +0000

      * patch by J. Gareth Moreton: x86: Lea2Nop for stack pointer, resolves #39225
    
    git-svn-id: trunk@49612 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1c13db554cb9f11246951089bef3647f760ab2f4
Author: florian <florian@freepascal.org>
Date:   Wed Jul 14 21:47:29 2021 +0000

      * patch by Christo Crause: Xtensa [patch] Use syscall 0 to spill registers on ESP32, resolves #39221
    
    git-svn-id: trunk@49609 -

M	rtl/xtensa/xtensa.inc

******************************************************************************
commit 0d6a1d24bd0adb93608b17fff1e956564cc4d975
Author: florian <florian@freepascal.org>
Date:   Tue Jul 13 18:31:38 2021 +0000

      * might_have_sideeffects in gen_c_style_operator as proposed by runewalsh, resolves #39206
    
    git-svn-id: trunk@49608 -

M	.gitattributes
M	compiler/pexpr.pas
A	tests/webtbs/tw39206.pp

******************************************************************************
commit 9394158fe228595a8ede81b3a9f9b69a89aa413d
Author: michael <michael@freepascal.org>
Date:   Tue Jul 13 08:16:14 2021 +0000

    * Test for fix of issue #38489
    
    git-svn-id: trunk@49605 -

M	tests/test/units/fmtbcd/tfmtbcd.pp

******************************************************************************
commit 2486d58db958108a1f1ddfd3b49385e9f53e3c5d
Author: michael <michael@freepascal.org>
Date:   Tue Jul 13 08:15:25 2021 +0000

    * Fix bug ID #38489, patch by Laco
    
    git-svn-id: trunk@49604 -

M	packages/rtl-objpas/src/inc/fmtbcd.pp

******************************************************************************
commit 723371b30a1ab3707e30292e4906cc983f92c0f8
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 23:14:26 2021 +0000

    + added header translation of the shape X11 extension
    
    git-svn-id: trunk@49602 -

M	.gitattributes
M	packages/x11/fpmake.pp
A	packages/x11/src/shape.pp
A	packages/x11/src/shapeconst.inc
A	packages/x11/tests/shape_linktest.pp

******************************************************************************
commit 6c0b79c258dbb242931b90418c458b610ef018ea
Author: florian <florian@freepascal.org>
Date:   Sun Jul 11 20:09:57 2021 +0000

      + AVX512*Support functions
      * call cpuid with eax=7 only if it is supported by the CPU
    
    git-svn-id: trunk@49601 -

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp

******************************************************************************
commit f0a78f48f3ed43d40632c17fbaa8ac8058d35066
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 00:40:08 2021 +0000

    + added link test for the xext unit
    
    git-svn-id: trunk@49597 -

M	.gitattributes
A	packages/x11/tests/xext_linktest.pp

******************************************************************************
commit 296cdf89ef05cdcfddc9d71fe1b84533d5b93aa7
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 00:37:14 2021 +0000

    + added link test for the mitmisc unit
    
    git-svn-id: trunk@49596 -

M	.gitattributes
A	packages/x11/tests/mitmisc_linktest.pp

******************************************************************************
commit 9bc7df23578e59166cb0bfee9097c36587f4acc8
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 00:32:42 2021 +0000

    * fixed filename extension of the xext.pp source file in fpmake.pp
    
    git-svn-id: trunk@49595 -

M	packages/x11/fpmake.pp

******************************************************************************
commit 2247691e71814b68089dec04bd0b7f4b804d6700
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 00:30:03 2021 +0000

    + added unit mitmisc
    
    git-svn-id: trunk@49594 -

M	.gitattributes
M	packages/x11/fpmake.pp
A	packages/x11/src/mitmisc.pp
A	packages/x11/src/mitmiscconst.inc

******************************************************************************
commit dfaa12e9d907cb7a8923cd6431e0817a6aa653a6
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 00:03:28 2021 +0000

    * use prettier parameter names in the XShm unit
    
    git-svn-id: trunk@49593 -

M	packages/x11/src/xshm.pp

******************************************************************************
commit d16160be915fc86a6ba634f9ea8500255ff996c9
Author: florian <florian@freepascal.org>
Date:   Sat Jul 10 20:29:00 2021 +0000

      * patch by J. Gareth Moreton: CMP chain shortcutting, resolves #39141
    
    git-svn-id: trunk@49592 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d7b509e1498336660abaa1e35ca179c724861140
Author: nickysn <nickysn@gmail.com>
Date:   Sat Jul 10 12:25:46 2021 +0000

    + added Xext.h header translation
    
    git-svn-id: trunk@49591 -

M	.gitattributes
M	packages/x11/fpmake.pp
A	packages/x11/src/xext.pp

******************************************************************************
commit c185ce02cc24c43f5213563669fce7c2c9727747
Author: florian <florian@freepascal.org>
Date:   Fri Jul 9 20:58:42 2021 +0000

      * patch by J. Gareth Moreton: x86: RegLoadedWIthNewValue overhaul and bug fix, resolves #39187
    
    git-svn-id: trunk@49588 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 924f9466f0219cab6ea5c52da9b5676c97f9cf5d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 9 15:52:00 2021 +0000

    * fix for Mantis #26760: apply patch by Ondrej Pokorny to ensure that units referenced by an "in"-clause are recompiled when they have been changed
    + added test (though due to the nature of the bug it needs to be interactive)
    
    git-svn-id: trunk@49587 -

M	.gitattributes
M	compiler/fppu.pas
A	tests/webtbs/tw26760.pp
A	tests/webtbs/uw26760/uw26760.pp

******************************************************************************
commit cb0f422eb1f04ba531b1acdc0212194eb1c565e6
Author: florian <florian@freepascal.org>
Date:   Thu Jul 8 20:40:10 2021 +0000

      * patch by J. Gareth Moreton: x86: MovMovSar2MovCltd bug fix, resolves #39180
    
    git-svn-id: trunk@49586 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5ca73c61f4d95f688a592a93cea607417a734c9c
Author: florian <florian@freepascal.org>
Date:   Wed Jul 7 20:26:59 2021 +0000

      + CPU.BMI1Support and CPU.BMI2Support
    
    git-svn-id: trunk@49582 -

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp

******************************************************************************
commit 229506acd06f531f56c3d0e61b9eea02a6f2a385
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jul 6 21:16:04 2021 +0000

    * fix for Mantis #39147: apply adjusted patch (especially more paranoid checks) from Serge Anvarov
    
    git-svn-id: trunk@49581 -

M	rtl/win/sysutils.pp

******************************************************************************
commit ea47cb313def016b4f6359126d45ba9da4054411
Author: florian <florian@freepascal.org>
Date:   Tue Jul 6 20:55:41 2021 +0000

      * patch by J. Gareth Moreton: improve MovAndTest2Test optimization, resolves #39156
    
    git-svn-id: trunk@49580 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7d6b01bfc429e2bc70eaf7449a2f899f0ce4b0dd
Author: florian <florian@freepascal.org>
Date:   Mon Jul 5 21:07:46 2021 +0000

      + SHXXMov2SHXX optimization
    
    git-svn-id: trunk@49579 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 7a4110cca91f7fcb4097d156104bf7e12021bc52
Author: florian <florian@freepascal.org>
Date:   Sun Jul 4 20:46:02 2021 +0000

      * DeepMovOpt requires that the target reg of the mov is not modified before hp2
    
    git-svn-id: trunk@49577 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 94a15faa7f435b1b8a5e0776446b2352b0359065
Author: florian <florian@freepascal.org>
Date:   Sat Jul 3 21:05:27 2021 +0000

      * patch by J. Gareth Moreton to fix faulty conditional jump logic, resolves #38985
    
    git-svn-id: trunk@49576 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit b463d511bfbbc7bd3a4570c7c4d56ad3d5127884
Author: florian <florian@freepascal.org>
Date:   Fri Jul 2 20:00:33 2021 +0000

      * serial handles higher baudrates if constants are available
    
    git-svn-id: trunk@49575 -

M	packages/rtl-extra/src/unix/serial.pp

******************************************************************************
commit f0543ad8d523e40068359ddc096ad120c55cb5db
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jul 1 01:48:25 2021 +0000

    * use -1 instead of 0 for indicating empty DirFD
    
    git-svn-id: trunk@49574 -

M	rtl/wasi/dos.pp

******************************************************************************
commit 0219b4018cc400bb18f8ea3a924a5a0775186408
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jul 1 01:34:07 2021 +0000

    + initial working implementation of FindFirst/FindNext
    
    git-svn-id: trunk@49573 -

M	rtl/wasi/dos.pp

******************************************************************************
commit 49ff6f512693b6c6a0ef94822ccc31be0d4a2595
Author: florian <florian@freepascal.org>
Date:   Wed Jun 30 21:01:48 2021 +0000

      * patch by Alfred to fix cross building to darwin, resolves #39109
    
    git-svn-id: trunk@49572 -

M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc

******************************************************************************
commit 1e6952264b61d66f62db499f9ffbf405f7f4bcd2
Author: michael <michael@freepascal.org>
Date:   Wed Jun 30 10:10:38 2021 +0000

    * BitSizeOf Documentation sub (issue #39110)
    
    git-svn-id: trunk@49571 -

M	rtl/inc/system.fpd

******************************************************************************
commit aca327d7873f16e89b3ed89846c1a91b6e2cf0ca
Author: florian <florian@freepascal.org>
Date:   Tue Jun 29 21:09:31 2021 +0000

      + added baud rate constants for arm as proposed by Piotr Kardasz in #39101
    
    git-svn-id: trunk@49570 -

M	rtl/linux/termios.inc

******************************************************************************
commit 51326e94f38d72e89bc833c60e20df237502d811
Author: florian <florian@freepascal.org>
Date:   Mon Jun 28 20:35:33 2021 +0000

      * allow char constant to be used for const string parameters in generic specializations, resolves #39030
    
    git-svn-id: trunk@49569 -

M	.gitattributes
M	compiler/pgenutil.pas
A	tests/webtbs/tw39030.pp

******************************************************************************
commit ce1f9cce01e1f58859886593ea04e5a5bfd0da32
Author: florian <florian@freepascal.org>
Date:   Sun Jun 27 21:21:19 2021 +0000

      * throw an error if esp/rsp are used as index register
    
    git-svn-id: trunk@49568 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/aasmcpu.pas
A	tests/tbf/tb0275.pp

******************************************************************************
commit ba1b0883c2771b3a4b9e5ab3954d2a9ea960cad6
Author: florian <florian@freepascal.org>
Date:   Sun Jun 27 20:51:03 2021 +0000

      * r/esp cannot be used as index register
    
    git-svn-id: trunk@49567 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 48f259589b47fb1eaf3adf9fbed517f9f21f06d4
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sat Jun 26 16:05:37 2021 +0000

    fpSQLParser: fix float literal parsing (make it locale-independent)
    
    git-svn-id: trunk@49564 -

M	packages/fcl-db/src/sql/fpsqlparser.pas

******************************************************************************
commit 51996d628079dbbf5f6aa74d55674a1ba1bad2d3
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sat Jun 26 08:46:38 2021 +0000

    Amiga video unit: fixed not initialized TInputEvent field, 2nd try, now the deadkeys actually work as they should
    
    git-svn-id: trunk@49562 -

M	packages/rtl-console/src/amicommon/keyboard.pp

******************************************************************************
commit 4236bee6f1832b11845869ffe99cb8ea0a96a230
Author: florian <florian@freepascal.org>
Date:   Fri Jun 25 21:15:08 2021 +0000

      * win64: factored out cpu specific code
    
    git-svn-id: trunk@49561 -

M	.gitattributes
M	rtl/win64/Makefile
M	rtl/win64/Makefile.fpc
A	rtl/win64/aarch64/cpuwin.inc
M	rtl/win64/system.pp
A	rtl/win64/x86_64/cpuwin.inc

******************************************************************************
commit 820e0dddcdce4beac67320a4a3d683f00db46883
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Jun 25 16:37:38 2021 +0000

    Amiga video unit: fixed not initialized TInputEvent field
    
    git-svn-id: trunk@49560 -

M	packages/rtl-console/src/amicommon/keyboard.pp

******************************************************************************
commit d7a9a7319493dcd61d41e68b3baedcaf9442ec5a
Author: florian <florian@freepascal.org>
Date:   Thu Jun 24 20:02:26 2021 +0000

      + stack pages need to be touched on aarch64-win64 as well
    
    git-svn-id: trunk@49559 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 5eac35664fa0a3df98a3fa7b6bbe8c129e5fe7c0
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jun 24 01:35:24 2021 +0000

    + started working on DOS.FindFirst
    
    git-svn-id: trunk@49555 -

M	rtl/wasi/dos.pp

******************************************************************************
commit 73aa30ee0ad204f280309e9e36102d75f847cc3c
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jun 24 00:27:15 2021 +0000

    * set the exeext for WASI properly in dotest.pp
    
    git-svn-id: trunk@49554 -

M	tests/utils/dotest.pp

******************************************************************************
commit 618237a1c75ec3d2c19cc26ef9f9595084b7bc10
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jun 24 00:17:52 2021 +0000

    * update revision.inc
    
    git-svn-id: trunk@49553 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 433050a2c41069ba5dd519058e47166aba1adfc5
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jun 24 00:16:00 2021 +0000

    * set EXEEXT to .wasm for the WASI target in fpcmake
    
    git-svn-id: trunk@49552 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit afb9c2ae94e020a1061aaeaaf8d44bff2b95e797
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 23:15:15 2021 +0000

    + implemented environment variables support in the DOS unit for the WASI target
    
    git-svn-id: trunk@49551 -

M	rtl/wasi/dos.pp
M	rtl/wasi/system.pp

******************************************************************************
commit c275c3c7f2df5eaaaf1080d5685280062db1d246
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 22:11:11 2021 +0000

    + implemented Randomize
    
    git-svn-id: trunk@49550 -

M	rtl/wasi/system.pp

******************************************************************************
commit 4240279a848b8cc4dffb4dba278d3c1c1be60bb7
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:48:10 2021 +0000

    + always request pollfd_readwrite rights, when opening a file
    
    git-svn-id: trunk@49549 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit ca3f1d7b6d507c5f4f3e4d681b85cb9ad51b659d
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:45:52 2021 +0000

    + always request FD_ADVISE rights, when opening a file
    
    git-svn-id: trunk@49548 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 5ff2af5176ecef0e9f0deda6a007089f82d5840f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:44:19 2021 +0000

    + always request FD_FDSTAT_SET_FLAGS rights
    
    git-svn-id: trunk@49547 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 90eb1351dcf77267e4a02a699b6f21ad2995ab2b
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:42:49 2021 +0000

    + request FD_DATASYNC and FD_SYNC rights when a file is opened for writing
    
    git-svn-id: trunk@49546 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 67c152092835268be95e6e35f1f31b50d6546bbd
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:41:12 2021 +0000

    * changed the formatting of the setting of fs_rights_base in Do_Open. No functional changes.
    
    git-svn-id: trunk@49545 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 9efcd4e5548637e8c970dd693bd52b4c859ceeee
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:39:10 2021 +0000

    + request fd_allocate rights when opening a file for writing
    
    git-svn-id: trunk@49544 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 3fd6704582a29832f9aa518bd7a178cff083aef7
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:36:22 2021 +0000

    + request the rights to set size (truncate) and set times, when a file is opened for writing
    
    git-svn-id: trunk@49543 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit a5309a5d0cdeb9791a4ac59f666aca5628ed6f0a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:31:55 2021 +0000

    + request fd_seek and fd_tell rights when opening a file
    
    git-svn-id: trunk@49542 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 720068360ea09dac6fcd35dd47e763baa5805c6b
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:22:15 2021 +0000

    + workaround for newer wasmtime versions that don't report the fd type of
      stdin/stdout/stderr. Always assume handles 0..2 are a device, so that
      standard input and output are flushed.
    
    git-svn-id: trunk@49541 -

M	rtl/wasi/sysos.inc

******************************************************************************
commit 827f543289dd3f8ff80c09d36cad489b583c3410
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:01:30 2021 +0000

    * fixed date calculation in WasiDateToDT
    
    git-svn-id: trunk@49540 -

M	rtl/wasi/dos.pp

******************************************************************************
commit c48f27225e0ca6dccbcba86f3000f48f374df7a4
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 20:58:10 2021 +0000

    + request the FD_FILESTAT_GET capability when opening files
    
    git-svn-id: trunk@49539 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 25a9843ea4488a7fcd462ba7a20964c20933e96f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 20:57:50 2021 +0000

    * also set doserror to 5 for access denied in dos.getfattr
    
    git-svn-id: trunk@49538 -

M	rtl/wasi/dos.pp

******************************************************************************
commit 715de4547abf9e9a84a1ec721b2bddb33b16aa80
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 20:36:52 2021 +0000

    * fixed WASI dll imports that are declared in a different unit
    
    git-svn-id: trunk@49537 -

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit 953893267bb45dc8179f55da4c4c203468b2777c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 20:04:03 2021 +0000

    + initial WASI implementation of DOS.GetFTime. Not working yet, due to a
      compiler bug, related to the import of fd_filestat_get from the wasiapi unit.
    
    git-svn-id: trunk@49536 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
M	rtl/wasi/dos.pp

******************************************************************************
commit ba1dcfc6a4136c6b8154ba16d05d977553b30160
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 15:44:17 2021 +0000

    + also resolve absolute paths in ConvertToFdRelativePath
    
    git-svn-id: trunk@49535 -

M	rtl/wasi/system.pp

******************************************************************************
commit 615e1c0431038c38ed1a2fc7710129438d05fe2a
Author: pierre <pierre@freepascal.org>
Date:   Wed Jun 23 14:37:34 2021 +0000

     Only set llvm to true if LLVM custom option variable is set, but not to false if not (as true might be the default value)
    
    git-svn-id: trunk@49534 -

M	packages/ide/fpmake.pp

******************************************************************************
commit 125dbdc21cd23fe9f4184d3c2444b1291439b154
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 00:30:47 2021 +0000

    + implemented Do_Rename for the WASI target
    
    git-svn-id: trunk@49532 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 539ea53babd8f10c5e1b2a2404bf2e2639a6ceeb
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 00:20:48 2021 +0000

    + implemented Do_Seek and Do_Seekend for the WASI target
    
    git-svn-id: trunk@49531 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 17fac45ddce93a1769433e72688eddea046cd597
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 00:12:22 2021 +0000

    + implemented Do_FileSize for the WASI target
    
    git-svn-id: trunk@49530 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 5718b33dd868a8266c933a51547e168a301a7ca0
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 00:03:44 2021 +0000

    + implemented Do_FilePos for the WASI target
    
    git-svn-id: trunk@49529 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 5ee902800cf318036eb74044e4e87ecc542b080f
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 23:57:39 2021 +0000

    + implemented do_truncate for the WASI target
    
    git-svn-id: trunk@49528 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit a7b3747b7beac97be48a3d868355c6dd564853f9
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 23:52:22 2021 +0000

    + implemented Erase() for the WASI target
    
    git-svn-id: trunk@49527 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 0af333bd0f04010aa86fca053d29b8c53bb01796
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 23:36:30 2021 +0000

    + implemented RmDir for the WASI target
    
    git-svn-id: trunk@49526 -

M	rtl/wasi/sysdir.inc

******************************************************************************
commit 144d7ed97896b31ce9c18cddbeb3ffb998aec35d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 23:33:54 2021 +0000

    + implemented MkDir for the WASI target
    
    git-svn-id: trunk@49525 -

M	rtl/wasi/sysdir.inc

******************************************************************************
commit bc08af99b04772a62fdae261eeb9ddfa8c147fed
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 23:14:33 2021 +0000

    + initial implementation of resolving relative paths
    
    git-svn-id: trunk@49524 -

M	rtl/wasi/sysfile.inc
M	rtl/wasi/system.pp

******************************************************************************
commit ba3383f7e350afb3ca07b3ed50941edbd4170604
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 22:44:20 2021 +0000

    + keep also the fds for the current dirs
    
    git-svn-id: trunk@49523 -

M	rtl/wasi/system.pp

******************************************************************************
commit d3ce008cd3c8069b1b9cfae5f989c52c756a89ee
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 22:35:32 2021 +0000

    + initial implementation of GetDir() for WASI
    
    git-svn-id: trunk@49522 -

M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp

******************************************************************************
commit 0a384b09058aab280c58752a46916d8e53cd71e2
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 20:51:19 2021 +0000

    * enumerate preopened dirs on startup and store them in a list, accessible via global vars in the system unit
    
    git-svn-id: trunk@49521 -

M	rtl/wasi/system.pp

******************************************************************************
commit bbcc3966445438e2d97e07d21491a83e9b0bbb99
Author: florian <florian@freepascal.org>
Date:   Mon Jun 21 21:36:32 2021 +0000

      * ARM: fix for Merge Add/Sub optimization
    
    git-svn-id: trunk@49520 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 356afdd25bd80af7c674633df6eda10826dbbf4b
Author: florian <florian@freepascal.org>
Date:   Sun Jun 20 18:14:30 2021 +0000

      * ARM (thumb): do not save registers in routines marked as noreturn
    
    git-svn-id: trunk@49519 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 15f25da1fa4d295e642fd79fd1fd6b1a9cdd484b
Author: michael <michael@freepascal.org>
Date:   Sun Jun 20 08:06:08 2021 +0000

    * Fix issue ID #0039024, potential wrong write
    
    git-svn-id: trunk@49518 -

M	packages/paszlib/src/zipper.pp

******************************************************************************
commit 492a0ffcac7035e9f096e353db41bacabedcc91d
Author: michael <michael@freepascal.org>
Date:   Sun Jun 20 08:00:01 2021 +0000

    * Better precision for samedatetime. Issue ID #39023, patch by Zoran Vučenović
    
    git-svn-id: trunk@49517 -

M	packages/rtl-objpas/src/inc/dateutil.inc

******************************************************************************
commit 436b8c212154e4935b3f030e92169a639db7895c
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Jun 18 17:05:09 2021 +0000

    AROS: some fixes for AVL_ functions, added missing NewCreateTaskA
    
    git-svn-id: trunk@49516 -

M	packages/arosunits/src/exec.pas

******************************************************************************
commit 810e62b7c9ab3e56f6c49e4a2a5b2b297dfbfd0e
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Jun 18 16:35:05 2021 +0000

    Amiga, MorphOS, AROS: unified function results to LongBool in amigados unit, correct type for GFXBase
    
    git-svn-id: trunk@49515 -

M	packages/amunits/src/coreunits/agraphics.pas
M	packages/amunits/src/coreunits/amigados.pas
M	packages/arosunits/src/amigados.pas
M	packages/morphunits/src/agraphics.pas
M	packages/morphunits/src/amigados.pas
M	packages/os4units/src/amigados.pas
M	packages/rtl-console/src/amicommon/crt.pp

******************************************************************************
commit ddb572513c5530c024a83801b13227b6b2ce5578
Author: florian <florian@freepascal.org>
Date:   Fri Jun 18 16:15:19 2021 +0000

      + LICENSE and README.md added, taken from git test conversion as committed by Michael
    
    git-svn-id: trunk@49514 -

M	.gitattributes
A	LICENSE
A	README.md

******************************************************************************
commit 50648f2a6052a27c6ab8591c5817d63c830aa0ff
Author: florian <florian@freepascal.org>
Date:   Thu Jun 17 21:12:08 2021 +0000

      + ARM: PushPop optimziation
    
    git-svn-id: trunk@49510 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit ce2984e16abac4c2b1ee1ab11d19a9edff8bf25b
Author: pierre <pierre@freepascal.org>
Date:   Wed Jun 16 21:04:25 2021 +0000

     Fix compilation of tiso8601 test by adding -Mobjfpc option
    
    git-svn-id: trunk@49509 -

M	tests/test/units/dateutil/tiso8601.pp

******************************************************************************
commit e1d9d1be0aa9b4029bdd144bb97374c3bf559d5a
Author: florian <florian@freepascal.org>
Date:   Wed Jun 16 19:53:56 2021 +0000

      + Merge Add/Sub optimization
    
    git-svn-id: trunk@49508 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit f3e7d96053a43b661ef1604e8fe52d222e764a47
Author: michael <michael@freepascal.org>
Date:   Wed Jun 16 09:33:45 2021 +0000

    * Fix issue #39009, remove size 20 limit on float types
    
    git-svn-id: trunk@49507 -

M	packages/fcl-db/src/dbase/dbf_fields.pas

******************************************************************************
commit 3f8aeadb916de0d20cdef18897275c348133e90a
Author: florian <florian@freepascal.org>
Date:   Tue Jun 15 20:09:46 2021 +0000

      * do not generate exit code for arm (thumb and thumb-2) if a routine is marked as noreturn
    
    git-svn-id: trunk@49506 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 2c418b988cbfd4d9737fb34f6c81c52bd32c0bcc
Author: florian <florian@freepascal.org>
Date:   Tue Jun 15 19:52:07 2021 +0000

      * use smaller alignment when generating thumb code
    
    git-svn-id: trunk@49505 -

M	compiler/options.pas

******************************************************************************
commit c19355198034141ea35c2e75cc148052e677618b
Author: florian <florian@freepascal.org>
Date:   Tue Jun 15 19:34:39 2021 +0000

      * HaltProc does not return
    
    git-svn-id: trunk@49504 -

M	rtl/embedded/arm/cortexm0_start.inc
M	rtl/embedded/arm/cortexm3_start.inc

******************************************************************************
commit 7ee31ae252e6796fc32a3e1de90193e6f936920a
Author: florian <florian@freepascal.org>
Date:   Tue Jun 15 19:05:34 2021 +0000

      * optimization "Merging stores: STR/STR -> STM" cannot be carried out when generating thumb code
    
    git-svn-id: trunk@49503 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 4e159b3d455d51054b400595723f80c76998327e
Author: florian <florian@freepascal.org>
Date:   Mon Jun 14 21:32:35 2021 +0000

      * set no result in NoBeginThread, it never returns
    
    git-svn-id: trunk@49502 -

M	rtl/embedded/systhrd.inc

******************************************************************************
commit 2e086a25703995d5f636025fd9d478988c261104
Author: florian <florian@freepascal.org>
Date:   Mon Jun 14 21:24:18 2021 +0000

    + skeleton of an embedded thread manager
    
    git-svn-id: trunk@49501 -

M	rtl/embedded/system.pp
M	rtl/embedded/systhrd.inc

******************************************************************************
commit 8608b82c015f13461728170613e4eafbcad067aa
Author: pierre <pierre@freepascal.org>
Date:   Mon Jun 14 08:58:59 2021 +0000

     Re-generate Makefile after wrong commit #49495, fixes bug report 39001
    
    git-svn-id: trunk@49500 -

M	packages/ide/Makefile

******************************************************************************
commit 776667366feec2f8f00a81ba8d3f016730fd1e5d
Author: florian <florian@freepascal.org>
Date:   Sun Jun 13 20:46:46 2021 +0000

      * patch by J. Gareth Moreton: ARM - str/str -> stm optimisation, second part of #38975
    
    git-svn-id: trunk@49499 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 9d2e71ff699c447a2fc954ef15928f6697d60a8e
Author: florian <florian@freepascal.org>
Date:   Sat Jun 12 20:45:15 2021 +0000

      * patch by Alfred to use new linker names for Android NDK >=22, resolves #38987
    
    git-svn-id: trunk@49498 -

M	compiler/systems/t_android.pas

******************************************************************************
commit 97b2f7a5e13190319754c19a688e000f8a6f50d7
Author: pierre <pierre@freepascal.org>
Date:   Fri Jun 11 11:58:47 2021 +0000

     Exchange REQUIREDVERSION and REQUIREDVERSION2 values to get 3.2.2 version in reuired release version message
    
    git-svn-id: trunk@49496 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit 9374155344b33b1880042527540133700e286089
Author: pierre <pierre@freepascal.org>
Date:   Fri Jun 11 08:49:24 2021 +0000

     Add --NOLLVM and use LLVM by default of compiler is llvm variant
    
    git-svn-id: trunk@49495 -

M	packages/ide/Makefile
M	packages/ide/Makefile.fpc
M	packages/ide/fpmake.pp

******************************************************************************
commit 464730dc44dbffcdd9fb0d3ef0847e7f0a04c633
Author: florian <florian@freepascal.org>
Date:   Thu Jun 10 20:26:17 2021 +0000

      + patch by J. Gareth Moreton: New label debugging feature, resolves #38980
    
    git-svn-id: trunk@49494 -

M	compiler/aggas.pas

******************************************************************************
commit 214936b90e2f67c323cc530a4f022d3ab957e2ed
Author: florian <florian@freepascal.org>
Date:   Wed Jun 9 18:31:52 2021 +0000

      * patch by J. Gareth Moreton: refactoring to standardise the "Peephole Optimization: " prefix on peephole debug messages, part of #38975
    
    git-svn-id: trunk@49493 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 134bc7eb423c398b8ae1d1b93b105c2d1dc66667
Author: florian <florian@freepascal.org>
Date:   Mon Jun 7 21:20:43 2021 +0000

      * ARM: split TCpuThumb2AsmOptimizer.PeepHoleOptPass1Cpu
    
    git-svn-id: trunk@49489 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit e41c1ec118deaa1a65b58a933dc962699a932c9b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 6 20:51:46 2021 +0000

    * fix test so that it will work correctly on non-Windows as well
    
    git-svn-id: trunk@49488 -

M	tests/test/tcustomvar1.pp

******************************************************************************
commit 2b3edb2c53ec39856b771cee3717044c93164ec3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 6 17:06:24 2021 +0000

    * in the default exception handler add the captured exception to the exception object stack as well
    + added test (needs to work with any exception handling mechanism; currently tested with SetJmp/LongJmp, SEH 32-bit and SEH 64-bit based exception handling)
    
    git-svn-id: trunk@49486 -

M	.gitattributes
M	rtl/win32/seh32.inc
A	tests/test/texception11.pp

******************************************************************************
commit b3ced4de97192b965f90325e14466e7f247d8bd9
Author: michael <michael@freepascal.org>
Date:   Sun Jun 6 12:49:37 2021 +0000

    * Test from werner pamler for issue #38968
    
    git-svn-id: trunk@49485 -

M	.gitattributes
A	tests/test/units/dateutil/tiso8601.pp

******************************************************************************
commit aedd0e4518c0517a9791be003e9a87ee5243c00d
Author: michael <michael@freepascal.org>
Date:   Sun Jun 6 12:47:49 2021 +0000

    * Fix issue #38968, patch from Werner Pamler to fix fractional seconds in IS8061conversion
    
    git-svn-id: trunk@49484 -

M	packages/rtl-objpas/src/inc/dateutil.inc

******************************************************************************
commit 40e1a09e6c73c245cbc1bb3ea1b97a0816fb29e8
Author: florian <florian@freepascal.org>
Date:   Sat Jun 5 21:14:30 2021 +0000

      * improved AndUtxh2And optimization
    
    git-svn-id: trunk@49483 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit be1461654f507d8210fca21236e7b5d6c3e9e1ba
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 5 17:44:00 2021 +0000

    - remove unused copy of tw17904 (wrong extension)
    
    git-svn-id: trunk@49482 -

M	.gitattributes
D	tests/webtbs/tw17904.pas

******************************************************************************
commit e89e87372e90016506c9a0bb904bc3e4ade3032e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 5 17:43:57 2021 +0000

    + add a test for Variant dispatch and the generated call description format (this is for the previous three fixes)
    
    git-svn-id: trunk@49481 -

M	.gitattributes
A	tests/test/tcustomvar1.pp

******************************************************************************
commit 6e4984184b94547a91ffdd96dc47046377693a0d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 5 17:43:53 2021 +0000

    * for variant dispatch calls, use the parameter name in source case, not upper case
    
    git-svn-id: trunk@49480 -

M	compiler/pexpr.pas

******************************************************************************
commit 7330a0156c3c154343d143b038fc3a3ec0996602
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 5 17:43:49 2021 +0000

    * fix writing of the method and parameter names for the Variant call description
    
    git-svn-id: trunk@49479 -

M	compiler/ncal.pas

******************************************************************************
commit 04ebdf8df81632e5e3e8dd13d80dba4c75ea9c3f
Author: pierre <pierre@freepascal.org>
Date:   Sat Jun 5 06:47:46 2021 +0000

     Fix compilation for x86_64 llvm variant
    
    git-svn-id: trunk@49477 -

M	compiler/llvm/agllvm.pas

******************************************************************************
commit 4483343d00693632b120151f8ea67abf2a2c2d5f
Author: pierre <pierre@freepascal.org>
Date:   Fri Jun 4 21:15:46 2021 +0000

    Return -1 if size of file is smaller tham header size in tppufile.readheader method
    
    git-svn-id: trunk@49476 -

M	compiler/ppu.pas

******************************************************************************
commit aadcb0097781d53e6b555da644d3dc05dcb5f3a8
Author: pierre <pierre@freepascal.org>
Date:   Fri Jun 4 21:14:34 2021 +0000

     Add -march option to clang call for llvm target
    
    git-svn-id: trunk@49475 -

M	compiler/llvm/agllvm.pas

******************************************************************************
commit 33b29b0df4454ea4fde0782c6542668b324780b5
Author: Mattias Gaertner <nc-gaertnma@netcologne.de>
Date:   Thu Jun 3 15:37:44 2021 +0000

    pastojs: low/high(astring)
    
    git-svn-id: trunk@49472 -

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jsfiler.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit d2e2ac5181619d7676b2a02c4f4d103f3f841162
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Jun 3 15:26:26 2021 +0000

    odbc: fix comments
    
    git-svn-id: trunk@49471 -

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit 3fa35f258b7b0d5049f6f7b5c55c029f72b2eb1a
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Jun 3 15:22:49 2021 +0000

    odbc: use ftMemo/ftWideMemo for SQL_VARCHAR/SQL_WVARCHAR declared as nvarchar(max)
    
    git-svn-id: trunk@49470 -

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit e841e95390eecdfc83dd7747597d3bc15195f171
Author: florian <florian@freepascal.org>
Date:   Wed Jun 2 20:03:55 2021 +0000

      * aarch64-darwin supports unaligned memory access, confirmed by testing with clang 12
    
    git-svn-id: trunk@49469 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit e6e49baed14c826a83e384fca0e29e739d3aef22
Author: pierre <pierre@freepascal.org>
Date:   Wed Jun 2 20:00:28 2021 +0000

     Add A_CALL to the list of instructions considered as a calljmp, even though it is a pseudo-instruction, fixes a long list of -O3 and -O4 testsuite failures
    
    git-svn-id: trunk@49468 -

M	compiler/riscv32/cpubase.pas
M	compiler/riscv64/cpubase.pas

******************************************************************************
commit c2c7982a22f940366468c2b78e6625739d584be4
Author: pierre <pierre@freepascal.org>
Date:   Wed Jun 2 19:58:38 2021 +0000

     Fix check that third parameter of ADDI hp1 instruction is a constant
    
    git-svn-id: trunk@49467 -

M	compiler/riscv/aoptcpurv.pas

******************************************************************************
commit 5dd48078a65fee0363c11b44e80bc72b4b194bba
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:26:22 2021 +0000

    + enabled package fcl-registry for the WASI target
    
    git-svn-id: trunk@49465 -

M	packages/fcl-registry/fpmake.pp

******************************************************************************
commit 378b5f73a5e5d74b2504828dcba698475a56d245
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:23:31 2021 +0000

    + enabled package fcl-stl for the WASI target
    
    git-svn-id: trunk@49464 -

M	packages/fcl-stl/fpmake.pp

******************************************************************************
commit 56aa1e1bbe51ecf1143700e03119cfcccfd834a1
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:17:33 2021 +0000

    + enabled the regexpr package for the WASI target
    
    git-svn-id: trunk@49463 -

M	packages/regexpr/fpmake.pp

******************************************************************************
commit 7c09f0be9673f9b95326ed2a442e496f011b50a4
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:14:28 2021 +0000

    + enabled the fcl-sound package for the WASI target
    
    git-svn-id: trunk@49462 -

M	packages/fcl-sound/fpmake.pp

******************************************************************************
commit 14ec15be7b0f91cc2892928e38380f8f98b16308
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:11:54 2021 +0000

    + enabled the fcl-xml package for the WASI target
    
    git-svn-id: trunk@49461 -

M	packages/fcl-xml/fpmake.pp

******************************************************************************
commit 5b192cb82a38a4960734493e781827d34124f14a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:09:41 2021 +0000

    + enabled the hash package for the WASI target
    
    git-svn-id: trunk@49460 -

M	packages/hash/fpmake.pp

******************************************************************************
commit 1eec91056173d563a084787159f1607c1e712b39
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:06:40 2021 +0000

    + enabled compilation of fcl-base for the WASI target
    
    git-svn-id: trunk@49459 -

M	packages/fcl-base/fpmake.pp

******************************************************************************
commit eed9bc1f356acc9da3471b862ae0b35e8fca0908
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:04:41 2021 +0000

    + enabled several rtl-objpas units for the WASI target
    
    git-svn-id: trunk@49458 -

M	packages/rtl-objpas/fpmake.pp

******************************************************************************
commit 385c130e8d0f1f2035dd1f9059879e3b80cf5f3c
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:58:56 2021 +0000

    + enabled some rtl-extra units on the WASI target (matrix, ucomplex, objects)
    
    git-svn-id: trunk@49457 -

M	packages/rtl-extra/fpmake.pp

******************************************************************************
commit cdd7aaf2eb015e2f60a49b263bee54d74998c0ef
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:50:19 2021 +0000

    + compile the unicode collations and extra code pages for the WASI target
    
    git-svn-id: trunk@49456 -

M	packages/rtl-unicode/fpmake.pp

******************************************************************************
commit e00dca144860bb2c8d5e25d4d57f54853700ddde
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:43:01 2021 +0000

    + enabled compilation of unit extpas for the WASI target
    
    git-svn-id: trunk@49455 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit e830ed6cbc39f0b8899447a1e9f732aaccd49eba
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:38:54 2021 +0000

    + compile the unit dos (OS-specific functions are dummies for now) for the WASI target
    
    git-svn-id: trunk@49454 -

M	.gitattributes
M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
A	rtl/wasi/dos.pp

******************************************************************************
commit de7ebe219c562ddc18e07c9f437d25cd42c3e1d6
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:22:45 2021 +0000

    + enabled compilation of unit uuchar for the WASI platform
    
    git-svn-id: trunk@49453 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit fa7444a0d81bea369311fbc3b353bd5ffcdd993a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:16:16 2021 +0000

    + enabled compilation of unit classes for the WASI target
    
    git-svn-id: trunk@49452 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit b527ab694ca471f184b249ca47d417931497cc1a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:15:57 2021 +0000

    + implemented twasmtypeconvnode.second_class_to_intf
    
    git-svn-id: trunk@49451 -

M	compiler/wasm32/nwasmcnv.pas

******************************************************************************
commit c69649782a27d9234c3c9d4f6f066fdb67a1e0e4
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 21:58:02 2021 +0000

    + added tthread.inc rtl include file for WASI
    
    git-svn-id: trunk@49450 -

M	.gitattributes
A	rtl/wasi/tthread.inc

******************************************************************************
commit 74bac86711b57d5cfb4283023dc0656f8d467994
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 21:52:51 2021 +0000

    + support loading a function result (on the evaluation stack) to a register in
      thlcgwasm.gen_load_cgpara_loc
    
    git-svn-id: trunk@49449 -

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit c02b43fb93381fec8823752d0ac24e76e143868b
Author: florian <florian@freepascal.org>
Date:   Tue Jun 1 21:16:52 2021 +0000

      * change fma cpu flag into an fpu flag
    
    git-svn-id: trunk@49448 -

M	compiler/i386/cpuinfo.pas
M	compiler/options.pas
M	compiler/x86/nx86add.pas
M	compiler/x86/nx86inl.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 84b3036574bfcc4acb20b211afd2ae9df63f8f50
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 20:32:10 2021 +0000

    + added classes unit for the WASI target (not yet enabled in the makefiles)
    
    git-svn-id: trunk@49446 -

M	.gitattributes
A	rtl/wasi/classes.pp

******************************************************************************
commit 9bebe9bcb7cc581f700600cfd0f3b9b100154bd0
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 20:19:16 2021 +0000

    + enabled compilation of unit fpwidestring for the WASI target
    
    git-svn-id: trunk@49445 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 3d56f75ba7ac99a0bb6527b860209dda548a287d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 20:14:58 2021 +0000

    + enabled compilation of units unicodedata and unicodenumtable for the WASI target
    * fixed the dependencies of unit character
    
    git-svn-id: trunk@49444 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit d6fc3129b390702dc0ebf94a07ef44032402a343
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 20:02:36 2021 +0000

    + enabled compilation of unit character for the WASI target
    
    git-svn-id: trunk@49443 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit cf857a22eec513f3d131912a7d53c4239fc8924b
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:38:02 2021 +0000

    + enabled compilation of unit cpall for the WASI target
    
    git-svn-id: trunk@49442 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 47b664ba92ac1e129b9401d7c0b1a0265f68c4a0
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:34:31 2021 +0000

    + enabled compilation of unit charset for the WASI target
    
    git-svn-id: trunk@49441 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 2a688eb948ac869dbf4165d2315e563b9d790e17
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:30:23 2021 +0000

    + enabled compilation of unit getopts for the WASI target
    
    git-svn-id: trunk@49440 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit a7dfbf012441cd54a960c7c1c153ca1a4f77582e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:25:42 2021 +0000

    + enabled compilation of unit iso7185 for the WASI target
    
    git-svn-id: trunk@49439 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 1e34f047291dcf6140f89250d85a7b5fa5f907fe
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:20:40 2021 +0000

    + enabled compilation of unit macpas for the WASI target
    
    git-svn-id: trunk@49438 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit d0b3a599a300945a46abd020fae9878c97d75c4c
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:15:41 2021 +0000

    + enabled compilation of unit fgl for the WASI target
    
    git-svn-id: trunk@49437 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 08520e032a7dfdb7cf01c355d5a2a451ae4f91fc
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:11:54 2021 +0000

    + enabled compilation of unit typinfo for the WASI target
    
    git-svn-id: trunk@49436 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 08f9a68798ccea64f958a3df527c85adfc497e3e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:11:21 2021 +0000

    - removed unused local variables from twasmaddnode.second_generic_compare
    
    git-svn-id: trunk@49435 -

M	compiler/wasm32/nwasmadd.pas

******************************************************************************
commit 8dd591e838db6ce959dac802af2c713fa1c14dda
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:10:20 2021 +0000

    + implemented twasmaddnode.second_cmpsmallset for equaln and unequaln
    
    git-svn-id: trunk@49434 -

M	compiler/wasm32/nwasmadd.pas

******************************************************************************
commit 27ff471ff4f9c54bed5df5e04fbdf654a8bdb5dd
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 17:14:24 2021 +0000

    + enabled compilation of unit types for the WASI target
    
    git-svn-id: trunk@49433 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 390be44cce0d32775bf1e24756f0535a1e55d1c5
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 17:06:14 2021 +0000

    + enable compilation of unit rtlconsts for the WASI target
    
    git-svn-id: trunk@49432 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 45620b11c0cca007cb38c94fc201cd8eef7875da
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 16:56:55 2021 +0000

    + enabled compilation of unit math for the WASI target
    
    git-svn-id: trunk@49431 -

M	.gitattributes
M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
A	rtl/wasm32/mathu.inc

******************************************************************************
commit c42e297bc66f19afd7c102386ed3bd8372356c3c
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 16:41:39 2021 +0000

    + implemented sqr(real) for the WebAssembly target
    
    git-svn-id: trunk@49430 -

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit 87111246ca24629d15385f9ec00fc9ee57421ea5
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 15:53:22 2021 +0000

    + enabled compilation of unit sortbase for the WASI target
    
    git-svn-id: trunk@49429 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 5085a04930268442e1dfd07f325291dc1f95d086
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 15:36:01 2021 +0000

    - removed the (deflist[i] is tdef) check from the tmodule destructor, since
      only tdef descendants are added to the deflist and casting deflist entries to
      tdef directly appears to be safe and is done in other parts of the compiler
    
    git-svn-id: trunk@49428 -

M	compiler/fmodule.pas

******************************************************************************
commit f59aab1371a008ff7c5f46d2b4d2fa56019cc15d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 15:27:45 2021 +0000

    * fixed typecast in tmodule.destroy after r49426, since registered_in_module is introduced in tdef, not in tstoreddef
    
    git-svn-id: trunk@49427 -

M	compiler/fmodule.pas

******************************************************************************
commit 3ecb41cd2dbbededc213dc54ee4e44880dbd8336
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 15:02:26 2021 +0000

    * improvements to the prevention of dangling pointers in tmodule.deflist,
      introduced in r49417. Now it no longer depends on current_module, so it
      handles the case when current_module changes between the time the tdef was
      registered and the time it was freed. It also supports freeing the tmodule
      before the defs, so the freeing order of the object is once again flexible.
    
    git-svn-id: trunk@49426 -

M	compiler/fmodule.pas
M	compiler/symdef.pas
M	compiler/symtype.pas

******************************************************************************
commit 1957ea11cba7537976c6600b2334a9df386d7aa7
Author: pierre <pierre@freepascal.org>
Date:   Tue Jun 1 08:22:44 2021 +0000

     Fix duplicate source_cpu_string after last patch, by using cpuwasm32 instead of wasm32 conditional
    
    git-svn-id: trunk@49425 -

M	compiler/version.pas

******************************************************************************
commit d23feee55e406a1b04363e353be06fafcd170cda
Author: michael <michael@freepascal.org>
Date:   Tue Jun 1 08:00:42 2021 +0000

    * Correctly initialize total_out
    
    git-svn-id: trunk@49424 -

M	packages/paszlib/src/gzio.pas

******************************************************************************
commit affefb6ce01dd202065c8281350aa53cf02d2cda
Author: michael <michael@freepascal.org>
Date:   Mon May 31 20:07:18 2021 +0000

    * Fix issue ID #36822. Total was being misused in check
    
    git-svn-id: trunk@49421 -

M	packages/paszlib/src/gzio.pas

******************************************************************************
commit 99f33824a7994a8e4fdbedfed79093cffcda03ad
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 31 19:33:03 2021 +0000

    * patch from Alfred for setting source_cpu_string for the wasm32 platform
    
    git-svn-id: trunk@49420 -

M	compiler/version.pas

******************************************************************************
commit ea5ffd597f3b8a50300e9e7d1ea2fcd0f1e14f48
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 30 21:27:57 2021 +0000

    * set self to nil in current_module.deflist for registered defs in the
      tstoreddef.destroy destructor, instead of doing it after each call to
      x.owner.deletedef(x)
    
    git-svn-id: trunk@49417 -

M	compiler/pdecvar.pas
M	compiler/pmodules.pas
M	compiler/pparautl.pas
M	compiler/symdef.pas

******************************************************************************
commit 93fea6de3a0252bee42d8fb20f38960907994184
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 30 20:52:21 2021 +0000

    + enabled compilation of unit SysUtils for the WASI target. Note that WASI
      snapshot building fails, when compiler is built with -CR, because of a
      use-after-free bug in the compiler, related to generics. A fix for this bug
      is currently being worked on.
    
    git-svn-id: trunk@49416 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 5e3efa4455a0c20e72ee2d970df1fa630308192e
Author: florian <florian@freepascal.org>
Date:   Sun May 30 18:08:37 2021 +0000

      * Aarch64: apply OptPass1Data to CSEL as well
    
    git-svn-id: trunk@49414 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 9bc8f17f16a6d450b72ca7fdb60ef5cbce77ca3d
Author: marco <marco@freepascal.org>
Date:   Sun May 30 13:00:00 2021 +0000

     * implemented LeftPromotion to fmtbcd to fix mantis 38496 but unfortunately FPC doesn't call it.
    
    git-svn-id: trunk@49413 -

M	packages/rtl-objpas/src/inc/fmtbcd.pp

******************************************************************************
commit 0ed69fc662821756b873ad3bf9e81fd0c26ca9e4
Author: pierre <pierre@freepascal.org>
Date:   Sat May 29 21:25:16 2021 +0000

     Fix compilation with 3.2.2 release for arm and i386 CPUs
    
    git-svn-id: trunk@49411 -

M	rtl/linux/system.pp

******************************************************************************
commit 8cdbf5887b7cf1bd5a17dcf0c406e52fd6b27d4a
Author: joost <joost@cnoc.nl>
Date:   Sat May 29 11:30:54 2021 +0000

     * test for r49387
    
    git-svn-id: trunk@49410 -

M	packages/fcl-web/tests/integrationtests/fcl-web_integrationtests.jmx

******************************************************************************
commit 1e3de5db58072959e8d6f75aaa21e922d38f322e
Author: joost <joost@cnoc.nl>
Date:   Sat May 29 11:17:54 2021 +0000

     * Parse the contenttype according to rfc1341 also for non-streaming
       processing
    
    git-svn-id: trunk@49409 -

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 52813c8965efe348a94bee65ebceb9bc0e81be76
Author: joost <joost@cnoc.nl>
Date:   Sat May 29 10:57:51 2021 +0000

     * Fixed mime-multipart processing for solutions that do
       not support chunked processing of content. (like CGI)
    
    git-svn-id: trunk@49408 -

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 0a3efb67020967ab55c4bb96f87507a45a85d572
Author: florian <florian@freepascal.org>
Date:   Sat May 29 10:05:54 2021 +0000

      + test for already fixed #26016
    
    git-svn-id: trunk@49407 -

M	.gitattributes
A	tests/webtbf/tw26016.pp

******************************************************************************
commit d5a0dd3d2577809d169cfe18aa78e8372fc3b856
Author: nickysn <nickysn@gmail.com>
Date:   Fri May 28 21:59:57 2021 +0000

    * prevent a range check error in TFPList.IndexOfItem when searching backwards in
      an empty list and the compiler is compiled with range checking turned on
    
    git-svn-id: trunk@49406 -

M	compiler/cclasses.pas

******************************************************************************
commit f2e0af6d37956caac79c5acf8c8cf5ad08475443
Author: florian <florian@freepascal.org>
Date:   Fri May 28 21:23:09 2021 +0000

      * check used registers properly for SETcc/TEST/Jcc -> Jcc, resolves #38940
    
    git-svn-id: trunk@49405 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw38940.pp

******************************************************************************
commit 30df9550019731ed3cf29d5e30fc6bff4bc4cc03
Author: florian <florian@freepascal.org>
Date:   Thu May 27 21:13:23 2021 +0000

      * the MovOpMov2Op optimization needs to take care of the second operand, should resolve #38359
    
    git-svn-id: trunk@49404 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit cb953f68c24fdb97ed1e8b5c2c59c7cdcf3c38e8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu May 27 05:43:01 2021 +0000

    * as 3.2.0 is now the oldest compiler we support we can now use {$push} {$pop} to reset the $minenumsize in the RTTI header
    
    git-svn-id: trunk@49403 -

M	rtl/inc/rttih.inc

******************************************************************************
commit bae583118a0e685032f2712943d2ec5bcdbb900b
Author: florian <florian@freepascal.org>
Date:   Wed May 26 21:03:56 2021 +0000

      * patch by J. Gareth Moreton: x86 JccMovJmpMov2MovSetcc improvement, resolves #38761
    
    git-svn-id: trunk@49402 -

M	compiler/aoptutils.pas
M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cpubase.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 73448deda64923dae27270f9eaf7f3b9b9bf2987
Author: yury <jura@cp-lab.com>
Date:   Tue May 25 16:03:34 2021 +0000

    * Windows: Prevent removal of the TLS directory by the linker when RTL is compiled with -O4 or when inlining is enabled.
    
    git-svn-id: trunk@49400 -

M	rtl/win32/sysinit.inc
M	rtl/win64/sysinit.pp

******************************************************************************
commit 8006900e8e969fd4f8078398ce762f1575fff961
Author: florian <florian@freepascal.org>
Date:   Mon May 24 09:26:44 2021 +0000

      - clean up
    
    git-svn-id: trunk@49399 -

M	compiler/cgbase.pas

******************************************************************************
commit 814b68fac0e7a2328bf4cb0adc995bf20947383a
Author: florian <florian@freepascal.org>
Date:   Sun May 23 19:46:40 2021 +0000

      * more fixes for VASM for ARM
    
    git-svn-id: trunk@49398 -

M	compiler/arm/agarmgas.pas
M	compiler/fpcdefs.inc

******************************************************************************
commit e9b3db0d78ec4a3043d69de785b951b25179c2ae
Author: florian <florian@freepascal.org>
Date:   Sat May 22 20:22:53 2021 +0000

      * more fixes to support vasm on arm
      * do not crash on empty eabi attribute strings
    
    git-svn-id: trunk@49397 -

M	compiler/aggas.pas
M	compiler/arm/agarmvasm.pas

******************************************************************************
commit 19876ca805828d1d59625790bd443fdecfc43e63
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 14:48:00 2021 +0000

    qlunits: added channel definition structures based on C equivalents, added test code
    
    git-svn-id: trunk@49396 -

M	.gitattributes
M	packages/qlunits/fpmake.pp
M	packages/qlunits/src/qdos.pas
A	packages/qlunits/tests/trecsize.pas

******************************************************************************
commit 7b03bac5d6171b3c1c29e38ad81fdc12373647fe
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 11:51:22 2021 +0000

    qlunits: remove word alignment test from sysvar test, as there are byte-sized vars, which are not aligned
    
    git-svn-id: trunk@49395 -

M	packages/qlunits/tests/tsysvars.pas

******************************************************************************
commit 94693e5f70828ae617af1a4c1c008e1f4af4b366
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 09:43:31 2021 +0000

    sinclairql: make sure smsfuncs.inc is in sync with the one in packages
    
    git-svn-id: trunk@49394 -

M	rtl/sinclairql/smsfuncs.inc
M	rtl/sinclairql/system.pp

******************************************************************************
commit 70011c2306dbf89b7b1b5c92c464550c6ef8b126
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 09:42:32 2021 +0000

    qlunits: add a test program to test sysvar offsets
    
    git-svn-id: trunk@49393 -

M	.gitattributes
M	packages/qlunits/fpmake.pp
A	packages/qlunits/tests/tsysvars.pas

******************************************************************************
commit 54f761b4dafc35325e2d49dbfb12720dddef0d42
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 09:20:45 2021 +0000

    qlunits: make sure everything is two byte aligned
    
    git-svn-id: trunk@49392 -

M	packages/qlunits/src/qdos.pas
M	packages/qlunits/src/qdos_sysvars.inc
M	packages/qlunits/src/sms.pas
M	packages/qlunits/src/sms_sysvars.inc

******************************************************************************
commit c9f875b15ff458afb0c28dc1e8e95aa155234657
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 08:21:10 2021 +0000

    qlunits: fix SMS unit build, declare all const/vars/types before functions, and minor tweaks
    
    git-svn-id: trunk@49391 -

M	packages/qlunits/src/qdos.pas
M	packages/qlunits/src/sms.pas
M	packages/qlunits/src/sms_sysvars.inc

******************************************************************************
commit 2bf7676f00a35ef8e1f252bae8e118b5088638a2
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 08:10:10 2021 +0000

    qlunits: fixed comments in qdos_sysvars.inc to avoid compiler directives warnings
    
    git-svn-id: trunk@49390 -

M	packages/qlunits/src/qdos_sysvars.inc

******************************************************************************
commit 61cd38e6db176dd006be6adb8c6c350011a8b108
Author: michael <michael@freepascal.org>
Date:   Sat May 22 07:54:30 2021 +0000

    * Fixed Issue ID38920: twriter crashes on readonly nil component
    
    git-svn-id: trunk@49389 -

M	rtl/objpas/classes/writer.inc

******************************************************************************
commit cd5c2b82717d3168587fc9e853f8a0a0c71ac565
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 07:30:00 2021 +0000

    qlunits: merged a modified version of a patch by Norman Dunbar, defines system variables as a record
    
    git-svn-id: trunk@49388 -

M	.gitattributes
M	packages/qlunits/README.txt
M	packages/qlunits/examples/mtinf.pas
A	packages/qlunits/examples/sms_info.pas
M	packages/qlunits/fpmake.pp
M	packages/qlunits/src/qdos.pas
A	packages/qlunits/src/qdos_sysvars.inc
M	packages/qlunits/src/sms.pas
A	packages/qlunits/src/sms_sysvars.inc
M	packages/qlunits/src/smsfuncs.inc

******************************************************************************
commit fd91e8263c8acc492a928027b55ed8d44ffa83f9
Author: joost <joost@cnoc.nl>
Date:   Fri May 21 21:46:39 2021 +0000

     * Fixed processing post-content of unknown content-types
    
    git-svn-id: trunk@49387 -

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 5726428dccfb87159f31ce505ab1bef04a5f59e6
Author: florian <florian@freepascal.org>
Date:   Fri May 21 20:36:15 2021 +0000

      * patch by J. Gareth Moreton: Additional SETcc optimisations, resolves #38767
    
    git-svn-id: trunk@49386 -

M	compiler/cgutils.pas
M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 578424cf51d3c1a127c5eaddfe462e82a5588586
Author: florian <florian@freepascal.org>
Date:   Thu May 20 20:45:38 2021 +0000

      * patch by J. Gareth Moreton: TEST chain shortcutting, resolves #38908
    
    git-svn-id: trunk@49385 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 6f482952dee00a2e14dc900815d660a32e46bc8d
Author: florian <florian@freepascal.org>
Date:   Wed May 19 20:29:04 2021 +0000

      * patch by J. Gareth Moreton: Memory CMP optimisation, resolves #38907
    
    git-svn-id: trunk@49382 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 12a0083c5924a69f6928a7f28379df4cca86f12d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed May 19 07:45:04 2021 +0000

    sinclairql: return true as default for do_isdevice to work around weird console flushing issues.
    
    git-svn-id: trunk@49381 -

M	rtl/sinclairql/sysfile.inc

******************************************************************************
commit 906d0ba06ef076fa6bebc994e1145bf222449b47
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed May 19 07:39:24 2021 +0000

    sinclairql: make sure the end of bss (hence the bss size) is also aligned to two bytes
    
    git-svn-id: trunk@49380 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit c43d8e4adf47edacce499563558c0bbcc9c7fc3c
Author: florian <florian@freepascal.org>
Date:   Tue May 18 19:13:49 2021 +0000

      * indention fixed
    
    git-svn-id: trunk@49379 -

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 430b2fd7917e4689de57e75a67ad864f38b570aa
Author: florian <florian@freepascal.org>
Date:   Tue May 18 19:13:13 2021 +0000

      * AVR: second part of assembler optimizer rework
    
    git-svn-id: trunk@49378 -

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 6f1d965dace0a9e093ce73faa9e02828db463694
Author: florian <florian@freepascal.org>
Date:   Mon May 17 20:02:12 2021 +0000

      * first part of AVR assembler optimizer reword
    
    git-svn-id: trunk@49377 -

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 59d4aaf5ec462b841b1ffc06af5a36de0674fa9b
Author: michael <michael@freepascal.org>
Date:   Mon May 17 14:56:09 2021 +0000

    * Fix issue ID #38900: union wrongly implemented
    
    git-svn-id: trunk@49376 -

M	rtl/objpas/types.pp

******************************************************************************
commit 83253676a34dfabecc58aa44bfd0c2694f974b29
Author: michael <michael@freepascal.org>
Date:   Mon May 17 14:53:37 2021 +0000

    * Some case fixes
    
    git-svn-id: trunk@49375 -

M	packages/rtl-objpas/src/inc/strutils.pp

******************************************************************************
commit 90afbc81146d59c0cd85d73f7cb8e8091fdc4c8c
Author: florian <florian@freepascal.org>
Date:   Sat May 15 20:53:56 2021 +0000

      * RiscV: unified cpu initialization and FPU exception handling, resolves #38893
    
    git-svn-id: trunk@49374 -

M	.gitattributes
A	rtl/riscv/riscv.inc
M	rtl/riscv32/riscv32.inc
M	rtl/riscv64/riscv64.inc

******************************************************************************
commit e57059eea3959cfc9daeee5bd558b07a4ad21713
Author: florian <florian@freepascal.org>
Date:   Sat May 15 16:02:22 2021 +0000

      * fix building on i386 after r49366
    
    git-svn-id: trunk@49372 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e72665051f16a80d673a8d1f92a9997fb35a5f26
Author: Mattias Gaertner <nc-gaertnma@netcologne.de>
Date:   Sat May 15 12:09:26 2021 +0000

    pastojs: fixed float / 0.0 results at compiletime in inf instead of divbyzero, issue #38815
    
    git-svn-id: trunk@49370 -

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 884d24e321d3db6a74c25a2d0bf09b1e755645e0
Author: florian <florian@freepascal.org>
Date:   Fri May 14 20:50:03 2021 +0000

      * patch by J. Gareth Moreton: x86 MOVZX/CMP optimisation, resolves #38882
    
    git-svn-id: trunk@49366 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 13f3cd2ae3f3d5197a85035b8d8ee40792eb66ff
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 14 17:32:40 2021 +0000

    sinclairql: for setting the exit message of the default console, use a helper function instead.
    
    git-svn-id: trunk@49365 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit 6fbf4dfd9059f8a3bdcf5efdf257262dcd17d178
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 14 15:26:31 2021 +0000

    sinclairql: introduce a way to override the system unit's console opening/closing and exit message via weakexternals
    
    git-svn-id: trunk@49364 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit f0cc2c38b8aaff7b6b407aeeeb8bfe9556fbfa5f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 14 14:49:14 2021 +0000

    sinclairql: enable weak linking support for the Sinclair QL
    
    git-svn-id: trunk@49363 -

M	compiler/systems.pas

******************************************************************************
commit bc21634b467631b3350b42f83894a7339bea54b1
Author: florian <florian@freepascal.org>
Date:   Thu May 13 18:59:28 2021 +0000

      * AVR: made avr_des intrinsic more usefull
    
    git-svn-id: trunk@49362 -

M	compiler/avr/navrinl.pas
M	rtl/avr/intrinsics.pp
M	tests/test/tdes1.pp
M	tests/test/tdes2.pp

******************************************************************************
commit d77f249332f6a73ebd3750a5c7463ed5b738a587
Author: michael <michael@freepascal.org>
Date:   Thu May 13 17:18:37 2021 +0000

    * Fix compilation
    
    git-svn-id: trunk@49361 -

M	packages/fcl-passrc/examples/test_parser.pp

******************************************************************************
commit 20039e3b77a094ea807ccb318e06df4cce4dcacd
Author: joost <joost@cnoc.nl>
Date:   Thu May 13 15:03:30 2021 +0000

     * Parse the ContentType according to rfc1341
    
    git-svn-id: trunk@49360 -

M	packages/fcl-web/src/base/httpdefs.pp
M	packages/fcl-web/tests/integrationtests/fcl-web_integrationtests.jmx

******************************************************************************
commit 6db4ab5012c6a32a4c66da973e0b7e7163b54503
Author: joost <joost@cnoc.nl>
Date:   Thu May 13 14:10:33 2021 +0000

     - Switch to block-based processing of http-content
    
    git-svn-id: trunk@49359 -

M	.gitattributes
M	packages/fcl-web/src/base/custfcgi.pp
M	packages/fcl-web/src/base/httpdefs.pp
A	packages/fcl-web/tests/integrationtests/README.md
A	packages/fcl-web/tests/integrationtests/UploadFile1.txt
A	packages/fcl-web/tests/integrationtests/UploadFile2.txt
A	packages/fcl-web/tests/integrationtests/UploadFile3.txt
A	packages/fcl-web/tests/integrationtests/fcgi_dump_request.pp
A	packages/fcl-web/tests/integrationtests/fcl-web_integrationtests.jmx

******************************************************************************
commit 022a9b210ffce670dbe4d675baf3b70db3e74b92
Author: florian <florian@freepascal.org>
Date:   Thu May 13 09:26:53 2021 +0000

      + AVR: avr_des intrinsic
    
    git-svn-id: trunk@49353 -

M	.gitattributes
M	compiler/avr/ccpuinnr.inc
M	compiler/avr/cpubase.pas
M	compiler/avr/itcpugas.pas
M	compiler/avr/navrinl.pas
M	compiler/avr/raavr.pas
M	rtl/avr/cpuinnr.inc
M	rtl/avr/intrinsics.pp
A	tests/test/tdes1.pp
A	tests/test/tdes2.pp

******************************************************************************
commit da3eb5c1785feb0dbd417632bff6f791b4b458e6
Author: pierre <pierre@freepascal.org>
Date:   Wed May 12 22:54:59 2021 +0000

     Try to fix handle of large stack size in xtensa gen_proc_entry/gen_proc_exit
    
    git-svn-id: trunk@49352 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 4ddaa26fc06824c8212e34d8ed99f20a0298eb74
Author: Mattias Gaertner <nc-gaertnma@netcologne.de>
Date:   Wed May 12 19:47:26 2021 +0000

    pastojs: nested external class constructor
    
    git-svn-id: trunk@49351 -

M	packages/pastojs/tests/tcmodules.pas
M	utils/pas2js/docs/translation.html

******************************************************************************
commit 929fc500043b93f1e06976d0735c3cfffcb2c446
Author: florian <florian@freepascal.org>
Date:   Mon May 10 20:30:31 2021 +0000

      * cleanup
    
    git-svn-id: trunk@49349 -

M	compiler/arm/agarmvasm.pas

******************************************************************************
commit 8535c758efc41d890c3d343d43e064deed88d132
Author: florian <florian@freepascal.org>
Date:   Sun May 9 20:42:31 2021 +0000

      + initial support for ARMv2
      * check for unassigned valuestr when writing ntbs eabi attributes
    
    git-svn-id: trunk@49348 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/narmmat.pas
M	compiler/arm/narmutil.pas
M	compiler/assemble.pas

******************************************************************************
commit 4ab310e0ed49cf72441c1072beb3e24206eb6e12
Author: florian <florian@freepascal.org>
Date:   Sat May 8 20:48:59 2021 +0000

      + ARM: basic vasm support
    
    git-svn-id: trunk@49347 -

M	.gitattributes
A	compiler/arm/agarmvasm.pas
M	compiler/arm/cputarg.pas
M	compiler/systems.inc

******************************************************************************
commit 4de8ca83938b98367f4326d5cdb993521173288a
Author: florian <florian@freepascal.org>
Date:   Sat May 8 20:10:14 2021 +0000

      * fpcr and fpsr are 64 bit on aarch64
    
    git-svn-id: trunk@49346 -

M	rtl/aarch64/aarch64.inc

******************************************************************************
commit ac9d2b3cc5d8eaf34ea5aa3cb89cd850607be49c
Author: michael <michael@freepascal.org>
Date:   Sat May 8 15:36:50 2021 +0000

    * Convert array of jsvalue to array of const where appropriate
    
    git-svn-id: trunk@49345 -

M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/src/pasuseanalyzer.pas
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/src/pscanner.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jscompiler.pp
M	packages/pastojs/src/pas2jslogger.pp
M	packages/pastojs/src/pas2jspparser.pp

******************************************************************************
commit 964c04aded9d81191c5030d1bd75be285e36d8b8
Author: florian <florian@freepascal.org>
Date:   Thu May 6 18:44:18 2021 +0000

      * patch by J. Gareth Moreton, second part of #38841
    
    git-svn-id: trunk@49341 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 9bad5180bb210fa49437353c7643d9bc574af68b
Author: pierre <pierre@freepascal.org>
Date:   Thu May 6 16:17:16 2021 +0000

     Avoid using UXT and SXT instructions on arm version below 6
    
    git-svn-id: trunk@49340 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit d936280c6b5810d72bcf1db26189339025343143
Author: florian <florian@freepascal.org>
Date:   Wed May 5 20:38:05 2021 +0000

      * (modified) patch by J. Gareth Moreton to unify ldr/str optimizations on Aarch64/ARM, part of #38841
    
    git-svn-id: trunk@49338 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 3c205f895c6499b31004cb82a58942d69c34a42b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue May 4 19:56:22 2021 +0000

      * LLVM does not have an intrinsic for int/frac, so don't replace frac with
        a call to runerror(207) there
    
    git-svn-id: trunk@49337 -

M	rtl/aarch64/math.inc

******************************************************************************
commit a6525062547065325350639064508a3abbb6a57e
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Mon May 3 22:56:59 2021 +0000

      * fix for wrongly chosen conditional define name
    
    git-svn-id: trunk@49335 -

M	tests/test/units/system/ttxtflsh.pp

******************************************************************************
commit cb2c0ae59406caae7672f2f8d7488515c150e04d
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Mon May 3 22:16:36 2021 +0000

      * fix for wrong nested comments resulting in wrong results under *nix, etc., with redirected output
    
    git-svn-id: trunk@49334 -

M	tests/test/units/system/ttxtflsh.pp

******************************************************************************
commit aa03991088eb1856cf7ed2e88a3173dd5709d210
Author: Mattias Gaertner <nc-gaertnma@netcologne.de>
Date:   Mon May 3 19:32:52 2021 +0000

    pastojs: fixed classmethod pointer
    
    git-svn-id: trunk@49333 -

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit dd9179043e1dd2839249ca4aa2b5eb25bb4760e3
Author: pierre <pierre@freepascal.org>
Date:   Mon May 3 16:10:59 2021 +0000

     Fix message about unsupported OS_TARGET for LLVM
    
    git-svn-id: trunk@49330 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 39896a1b113912c28ee09155ab6f81cc9a14428e
Author: pierre <pierre@freepascal.org>
Date:   Mon May 3 16:04:19 2021 +0000

     Destroy tfornode class loopiteration field if assigned
    
    git-svn-id: trunk@49329 -

M	compiler/nflw.pas

******************************************************************************
commit f383cf4deb29c6ba3d89c830bd40fc1e6632e98c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun May 2 19:08:42 2021 +0000

    * fix for Mantis #38381: apply patch by Bi0T1N to add two Delphi compatible overloads for TValue.Make
    
    git-svn-id: trunk@49327 -

M	packages/rtl-objpas/src/inc/rtti.pp
M	packages/rtl-objpas/tests/tests.rtti.pas

******************************************************************************
commit 0ba689de84df28a0a690aa5607ee83df7bba26b4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun May 2 19:08:38 2021 +0000

    * fix test compilation with Delphi
    
    git-svn-id: trunk@49326 -

M	packages/rtl-objpas/tests/tests.rtti.pas
M	packages/rtl-objpas/tests/tests.rtti.util.pas

******************************************************************************
commit 0d37e0e0f8cbc66df8267d6cb1b571d0c919dd67
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun May 2 15:03:36 2021 +0000

      + added a test for Get/SetTextAutoFlush feature
    
    git-svn-id: trunk@49325 -

M	.gitattributes
A	tests/test/units/system/ttxtflsh.pp

******************************************************************************
commit 9f6651fdb7fc4e9b37a7f3ac1d417e6de95f1f34
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun May 2 14:59:21 2021 +0000

      + added Get/SetTextAutoFlush feature
    
    git-svn-id: trunk@49324 -

M	rtl/inc/systemh.inc
M	rtl/inc/text.inc

******************************************************************************
commit d0b1402e103cec251219270215591240103d8bd3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun May 2 12:46:39 2021 +0000

    * fix for Mantis #37252: apply patch by Bi0T1N to implement TThread.NameThreadForDebugging for Mac OS X 10.6 and newer (older versions don't provide the required functions)
    
    git-svn-id: trunk@49323 -

M	rtl/darwin/pthread.inc
M	rtl/unix/cthreads.pp

******************************************************************************
commit c38b8ac28fd17072e2db87f4d008c36e68e8e0a7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun May 2 09:32:13 2021 +0000

    sinclairql: enable most of rtl-objpas and rtl-extra on the QL
    
    git-svn-id: trunk@49322 -

M	packages/rtl-extra/fpmake.pp
M	packages/rtl-objpas/fpmake.pp

******************************************************************************
commit 210674b9a039da69dfd1444c0cbcbe7d5cbaf4c6
Author: florian <florian@freepascal.org>
Date:   Sat May 1 18:56:25 2021 +0000

      * patch by J. Gareth Moreton: AArch64: Improved speed and efficiency with constant generation, resolves #38837
    
    git-svn-id: trunk@49321 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit cc5814dac195e6c3a60030015339e18d0296fbb3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 1 13:58:10 2021 +0000

      * support arbitrary record regvars on AArch64: it has fairly complete support
        for inserting/extracting bitfields (although the compiler doesn't use those
        instructions yet in all possible cases, it seems)
    
    git-svn-id: trunk@49313 -

M	compiler/symsym.pas

******************************************************************************
commit 6a35227a50cb62bd454f46d4637a798084dc5e36
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 1 13:25:30 2021 +0000

    qlunits: really add the a new example missed from the previous commit
    
    git-svn-id: trunk@49311 -

M	.gitattributes
A	packages/qlunits/examples/mtinf.pas

******************************************************************************
commit 8c1ebd8353f7aadc5b79706e5bf8b65ac9a450fd
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 1 13:24:34 2021 +0000

    qlunits: some refactors and updates. added system vars offsets to qdos unit, and a new example
    
    git-svn-id: trunk@49310 -

M	.gitattributes
M	packages/qlunits/fpmake.pp
M	packages/qlunits/src/qdos.pas
A	packages/qlunits/src/qdosfuncs.inc
M	packages/qlunits/src/sms.pas
A	packages/qlunits/src/smsfuncs.inc

******************************************************************************
commit 53674e387f1eff6ec7febaa7bd763a2c657002aa
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 1 11:48:39 2021 +0000

    sinclairql: include qdosh.inc directly. this will allow easier sharing of qdosfuncs.inc with the qlunits package
    
    git-svn-id: trunk@49308 -

M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/si_prc.pp
M	rtl/sinclairql/sysutils.pp

******************************************************************************
commit 394fd2037a81b069f77b0704c63a651967aeb6db
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 1 11:32:13 2021 +0000

    sinclairql: sysdeps must include qdosh.inc too
    
    git-svn-id: trunk@49307 -

M	rtl/sinclairql/Makefile
M	rtl/sinclairql/Makefile.fpc

******************************************************************************
commit 02e63411617bcd6f99f666cf341fba063fb47532
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 1 09:59:31 2021 +0000

    sinclairql: implemented a selection of I/O functions, patch by Norman Dunbar
    
    git-svn-id: trunk@49306 -

M	rtl/sinclairql/sysutils.pp

******************************************************************************
commit 9977889f4a2dc700ff8bfdaf231d59910fc08739
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 1 09:28:58 2021 +0000

      * fix finally block getting unconditionally removed if try-block is empty
        (hasnocode(nil) always returns true). Regression from r48174
    
    git-svn-id: trunk@49305 -

M	.gitattributes
M	compiler/nflw.pas
A	tests/webtbs/tw38833.pp

******************************************************************************
commit 5cde6facdb15f08e636b32eafa3928e54758937c
Author: michael <michael@freepascal.org>
Date:   Sat May 1 06:32:48 2021 +0000

    * Patch from Werner Pamler to fix count of digits in periods
    
    git-svn-id: trunk@49299 -

M	rtl/objpas/sysutils/dati.inc

******************************************************************************
commit 5ef44c550a605a72a6f8b34fc3690185097aa49a
Author: pierre <pierre@freepascal.org>
Date:   Fri Apr 30 09:55:11 2021 +0000

     Avoid range/overflow error after commit #49290
    
    git-svn-id: trunk@49298 -

M	compiler/aarch64/ncpumat.pas

******************************************************************************
commit c9b90ccde0e43d3a26a812289a383353b83ca220
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 29 22:23:58 2021 +0000

    m68k: sinclair ql now requires vlink 0.16h or newer.
    
    git-svn-id: trunk@49296 -

M	compiler/globals.pas
M	compiler/options.pas
M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit f76bb5fc5e29998effe2021ba7fa563a9a4a8e2b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 29 22:21:36 2021 +0000

    m68k-sinclairql: apply the same hack as for amiga and atari to avoid vlink section attribute warning
    
    git-svn-id: trunk@49295 -

M	compiler/aggas.pas

******************************************************************************
commit cdc7fec019bc6e77d40e11c9c3bb173f95a3b364
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 29 22:06:26 2021 +0000

    m68k: D2 is considered volatile on macosclassic
    
    git-svn-id: trunk@49294 -

M	compiler/m68k/cpupara.pas

******************************************************************************
commit f0b322f4ed22a2164aba0abad84925a1f40e383d
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 29 21:59:32 2021 +0000

    Add -TFreeBSD target OS option to -h output for aarch64 compiler ppc64
    
    git-svn-id: trunk@49293 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit bf5f7144972fe1b99f2dabf2f6910b5e93090eca
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 29 20:16:31 2021 +0000

     Also check *.pas and *.inc files inside sub-directories in msgused.pl
    
    git-svn-id: trunk@49292 -

M	compiler/utils/msgused.pl

******************************************************************************
commit dc13516dee4daf6fca861122adf329177d1e6131
Author: florian <florian@freepascal.org>
Date:   Thu Apr 29 20:00:36 2021 +0000

      + patch by J. Gareth Moreton: improved tests for constant divisions including benchmark,
        second part of #38806
    
    git-svn-id: trunk@49291 -

M	.gitattributes
A	tests/bench/bdiv.pp
A	tests/bench/bdiv_s32.inc
A	tests/bench/bdiv_s64.inc
A	tests/bench/bdiv_u32.inc
A	tests/bench/bdiv_u64.inc
A	tests/test/cg/tmoddiv6.pp

******************************************************************************
commit 256ca9d210e9fb9ddc11ca3caeaf811ff1d97dea
Author: florian <florian@freepascal.org>
Date:   Thu Apr 29 19:48:54 2021 +0000

      * patch by J. Gareth Moreton: AArch64 "magic division"
        (replace division by constant with multiplication), part of #38806
    
    git-svn-id: trunk@49290 -

M	compiler/aarch64/ncpumat.pas

******************************************************************************
commit 595edf6f9b5bdf4d04ce6580cae49debc72cba89
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 28 23:03:47 2021 +0000

    Use as-clang as idtxt for as_aarch64_clang_gas_info
    
    git-svn-id: trunk@49287 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit b464d3877781b483ed4a1af04784cbbf175019aa
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 28 23:02:44 2021 +0000

     Add several missing -AXXX options
    
    git-svn-id: trunk@49286 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 837b433abc0378039d91f0f03061d982b2cbcc9d
Author: florian <florian@freepascal.org>
Date:   Wed Apr 28 18:32:48 2021 +0000

      * avoid overflow during register allocation
    
    git-svn-id: trunk@49285 -

M	compiler/rgobj.pas

******************************************************************************
commit 72667f41ad1e1b310052fe05a244276c7f813ad4
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 28 14:56:30 2021 +0000

    Avoid warning with -O4 option
    
    git-svn-id: trunk@49284 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit 0ffd4f87808838f1ddb563eaa2863a4d0f984a6d
Author: florian <florian@freepascal.org>
Date:   Tue Apr 27 16:36:40 2021 +0000

      * fix compilation of arm compiler on 32 bit hosts
    
    git-svn-id: trunk@49281 -

M	compiler/arm/narmset.pas

******************************************************************************
commit 77e3a402dabc6622fc48d31c641177452ed49867
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 27 14:52:22 2021 +0000

     Set string length before calling move to avoid problems with global data analysis on systems using C library
    
    git-svn-id: trunk@49280 -

M	compiler/assemble.pas
M	compiler/ogcoff.pas

******************************************************************************
commit 7721995c71a089a8796aac9c6570dd6eed606d20
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 27 14:20:09 2021 +0000

     Make sure nf_usercode_entry get transferred inside firstpass procedure
    
    git-svn-id: trunk@49279 -

M	compiler/pass_1.pas

******************************************************************************
commit 423940afd7c7d8afaa4d45a5c08d36f83fcf5401
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 27 14:01:35 2021 +0000

    Avoid range check error inside genitem_thumb2 by changing local variable i type
    
    git-svn-id: trunk@49278 -

M	compiler/arm/narmset.pas

******************************************************************************
commit d06cb1a20ac5674bc70b8e8da0c419f004afeb7c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 27 06:25:13 2021 +0000

    m68k: fixed a comment. no functional change
    
    git-svn-id: trunk@49275 -

M	compiler/m68k/ag68kvasm.pas

******************************************************************************
commit d03c3c0669d0c135c8f1a832d73042823a267ddc
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 21:51:42 2021 +0000

    Disable overflow/range check in some part of the arm code
    
    git-svn-id: trunk@49274 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/cpubase.pas

******************************************************************************
commit c2faf6a8fd63727b392123b69f5a403b9ed991cd
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 21:50:53 2021 +0000

     Avoid invalid typecast if hp is not an instruction
    
    git-svn-id: trunk@49273 -

M	compiler/arm/rgcpu.pas

******************************************************************************
commit f1d30a5bc63f4bf5916ad20a81c12922ceae68e3
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 21:14:27 2021 +0000

     Add .force_thumb pseudo-directive support forarm reader
    
    git-svn-id: trunk@49271 -

M	compiler/aasmtai.pas
M	compiler/arm/raarmgas.pas
M	compiler/assemble.pas

******************************************************************************
commit 570af33fa96bd56f0d9e819bb21d03f83a218641
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 21:12:02 2021 +0000

     Add a second handling of NIL entries in deflist
    
    git-svn-id: trunk@49270 -

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit db02c7c85aea5f66f4e083bba8a8ba649e06c313
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 21:10:25 2021 +0000

     Add -march=XXX option for aarch64 external assemblers
    
    git-svn-id: trunk@49269 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 1b22962140eee3b11bef19380d071ce49f5f4329
Author: florian <florian@freepascal.org>
Date:   Mon Apr 26 20:52:02 2021 +0000

      * patch by Christo Crause to fix #38789: writing of linker commands should not depent in -s
    
    git-svn-id: trunk@49267 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 43910756170672062ac57847b98c16a4096f7f78
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 20:43:07 2021 +0000

      * Use FGeneralCriticalSection for LogIndent and LogUnindent.
        Add FIndentCount integer field.
        Add FWorkerPrefix string field.
        Use try/finally block to keep track of LogLevel
    
    git-svn-id: trunk@49266 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 77cc2f4ceda166a09eaf04ca07756f950d1ca806
Author: florian <florian@freepascal.org>
Date:   Sun Apr 25 19:49:26 2021 +0000

      * decrease macro nesting counter early when expanding empty macro
        to avoid errors about too depth macro nesting, resolves #38802
    
    git-svn-id: trunk@49265 -

M	.gitattributes
M	compiler/scanner.pas
A	tests/webtbs/tw38802.pp

******************************************************************************
commit 822b46009626d3893cf23c2159d3a632f2c1168a
Author: florian <florian@freepascal.org>
Date:   Sun Apr 25 19:24:18 2021 +0000

      * fix bootstrapping on aarch64-linux with 3.2.x
    
    git-svn-id: trunk@49264 -

M	rtl/aarch64/math.inc

******************************************************************************
commit f261146b6fe454bb829bcdcde98b2b68c332bf22
Author: nickysn <nickysn@gmail.com>
Date:   Sun Apr 25 16:09:24 2021 +0000

    * makefile regenerated with latest fpcmake
    
    git-svn-id: trunk@49263 -

M	packages/fcl-mustache/Makefile

******************************************************************************
commit 1a71ca410691438f182910025443da0580df5a47
Author: nickysn <nickysn@gmail.com>
Date:   Sun Apr 25 15:58:59 2021 +0000

    * prevention of dangling pointers and use after free after free_unregistered_localsymtable_elements
    
    git-svn-id: trunk@49262 -

M	compiler/pmodules.pas

******************************************************************************
commit 5557dbedf27c88984a322047c57b486fb7a9fccd
Author: florian <florian@freepascal.org>
Date:   Sun Apr 25 09:26:47 2021 +0000

      + Aarch64: directly inline code for frac(...)
    
    git-svn-id: trunk@49261 -

M	compiler/aarch64/ncpuinl.pas
M	rtl/aarch64/math.inc

******************************************************************************
commit cd3570caf14145f0f75af95171ca4e773cb9bfb6
Author: florian <florian@freepascal.org>
Date:   Sun Apr 25 08:53:12 2021 +0000

      + Aarch64: use frintz for int(...) instead of creating a helper call
    
    git-svn-id: trunk@49260 -

M	compiler/aarch64/ncpuinl.pas
M	rtl/aarch64/math.inc

******************************************************************************
commit bc42d64348f9dd332e033f2282aa6e6e81554573
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 24 14:40:07 2021 +0000

    * workaround for the raise node generating invalid WebAssembly code for
      obtaining the current address. Note that exception handling in WebAssembly
      doesn't work. This only fixes the raise node enough to generate valid (but not
      correct) WebAssembly code. This is a temporary fix to allow the SysUtils unit
      to be compiled. Eventually, exception handling for WebAssembly will need to be
      rewritten entirely, in order to make exceptions work properly.
    
    git-svn-id: trunk@49259 -

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit f81dd894aaaa02499f3a22890a1059b7bd8d88d5
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 24 14:31:56 2021 +0000

    * override the raise node for WebAssembly and copy the generic pass_1
      implementation. No functional changes.
    
    git-svn-id: trunk@49258 -

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 17e3c31b7ef802363f2b721f076427735d7802e7
Author: pierre <pierre@freepascal.org>
Date:   Fri Apr 23 21:52:24 2021 +0000

    Fix gotpcrel relocation for TESTQ x86_64 instruction
    
    git-svn-id: trunk@49252 -

M	.gitattributes
M	compiler/ogelf.pas
M	compiler/x86/aasmcpu.pas
A	tests/webtbs/tw38353.pp

******************************************************************************
commit c3f95f65eddd3cd96601243c3b69b6bd689a5dfe
Author: florian <florian@freepascal.org>
Date:   Fri Apr 23 21:16:16 2021 +0000

      * improved system unit dependencies
    
    git-svn-id: trunk@49251 -

M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc

******************************************************************************
commit e540e8f52e9cdb96392e806f26ae81ddea452480
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 23 14:05:23 2021 +0000

    * use $IF DEFINED instead of $IFDEF for consistency (and is required for 3.2.2)
    
    git-svn-id: trunk@49249 -

M	packages/openssl/src/openssl.pas

******************************************************************************
commit a19e461ee05154f1934c39bfd925740b3f28e4da
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 23 14:05:21 2021 +0000

    * NDS: fix condition when to default to apptype arm9
    
    git-svn-id: trunk@49248 -

M	compiler/systems/t_nds.pas

******************************************************************************
commit dbee3bcc0dc38ff2a72ffb854850a6f5cda91dc0
Author: florian <florian@freepascal.org>
Date:   Thu Apr 22 20:14:00 2021 +0000

      * fixed MSecsToTimeStamp by Lagunov Aleksey, resolves #38631
    
    git-svn-id: trunk@49247 -

M	.gitattributes
M	rtl/objpas/sysutils/dati.inc
A	tests/webtbs/tw38631.pp

******************************************************************************
commit 43c50d0a3266282a69f9e2d316fbc73b478c0774
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 22 15:26:15 2021 +0000

     Remove unused, obsolete -dBROWSERLOG option
    
    git-svn-id: trunk@49246 -

M	compiler/MPWMake
M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 29a5d3267cc3329ed313bdf3e6b8d59e659260fc
Author: florian <florian@freepascal.org>
Date:   Wed Apr 21 19:51:22 2021 +0000

      * moved warning about suspicious comp assignment to type check pass, catches also
        assignments of constants
    
    git-svn-id: trunk@49242 -

M	.gitattributes
M	compiler/ncnv.pas
M	compiler/x86/nx86cnv.pas
A	tests/tbf/tb0274.pp

******************************************************************************
commit 02ec94c81831f969732b95b27f4fbb35a8de7507
Author: michael <michael@freepascal.org>
Date:   Tue Apr 20 12:21:07 2021 +0000

    * Forgot to commit
    
    git-svn-id: trunk@49241 -

M	.gitattributes
A	packages/fcl-mustache/Makefile
A	packages/fcl-mustache/Makefile.fpc
A	packages/fcl-mustache/fpmake.pp

******************************************************************************
commit 5e2bf257904d57b5f5d5b3ccb2b9791351e7bcbd
Author: michael <michael@freepascal.org>
Date:   Tue Apr 20 11:39:30 2021 +0000

    * Mustache templates implementation
    
    git-svn-id: trunk@49240 -

M	.gitattributes
A	packages/fcl-mustache/examples/README.txt
A	packages/fcl-mustache/examples/demo1.lpi
A	packages/fcl-mustache/examples/demo1.lpr
A	packages/fcl-mustache/examples/demo2.lpi
A	packages/fcl-mustache/examples/demo2.lpr
A	packages/fcl-mustache/examples/family.csv
A	packages/fcl-mustache/examples/family.json
A	packages/fcl-mustache/examples/family.tmpl
A	packages/fcl-mustache/examples/mustache.lpi
A	packages/fcl-mustache/examples/mustache.lpr
A	packages/fcl-mustache/src/fpdbmustache.pp
A	packages/fcl-mustache/src/fpexmustache.pp
A	packages/fcl-mustache/src/fpmustache.pp
A	packages/fcl-mustache/tests/spec/comments.json
A	packages/fcl-mustache/tests/spec/delimiters.json
A	packages/fcl-mustache/tests/spec/interpolation.json
A	packages/fcl-mustache/tests/spec/inverted.json
A	packages/fcl-mustache/tests/spec/partials.json
A	packages/fcl-mustache/tests/spec/sections.json
A	packages/fcl-mustache/tests/tcbasemustache.pas
A	packages/fcl-mustache/tests/tcdbmustache.pas
A	packages/fcl-mustache/tests/tcexmustache.pas
A	packages/fcl-mustache/tests/tcmustache.pas
A	packages/fcl-mustache/tests/tcspecs.pas
A	packages/fcl-mustache/tests/testmustache.lpi
A	packages/fcl-mustache/tests/testmustache.lpr
M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc

******************************************************************************
commit b1497185660cfd390c20390e00cc7fd61b0d2606
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 20 10:02:39 2021 +0000

    sinclairql: added an entirely stub (for now) sysutils unit. added a classes unit. enabled building the whole rtl
    
    git-svn-id: trunk@49239 -

M	.gitattributes
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/sinclairql/buildrtl.pp
A	rtl/sinclairql/classes.pp
A	rtl/sinclairql/sysutils.pp

******************************************************************************
commit d7bef47c24e8a7b55c5fe18f73ec8c3d1453047d
Author: lacak <lacak@idefix.freepascal.org>
Date:   Tue Apr 20 06:38:41 2021 +0000

    fcl-db: return default values for (published) properties where getters are not implemented yet.
    
    git-svn-id: trunk@49238 -

M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit 77681333f520d55157353f13183ef0dce9dd0e4e
Author: florian <florian@freepascal.org>
Date:   Mon Apr 19 19:54:39 2021 +0000

      * patch by J. Gareth Moreton: AArch64 OptPass1Shift register tracking fault fix, resolves #38691
    
    git-svn-id: trunk@49235 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit f718567c95fdc28f629bbf213c0e8f2507064f3a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 19 19:09:34 2021 +0000

    sinclairql: support the upcoming QL binary linking feature of vlink (still in development). it's behind an undocumented -WL switch now. also, reduce the amount of used dataspace by the size of the relocation table in the current linking mode
    
    git-svn-id: trunk@49234 -

M	compiler/globals.pas
M	compiler/options.pas
M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit 2a7aa1116397a409066dcef8048db673e50f77f4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 19 09:13:02 2021 +0000

    m68k: added support to references like (a0,d0.w) in inline assembly, also fixed a bug, where sometimes the index register would have been randomly set as smaller than .l size, when the size wasn't specified
    
    git-svn-id: trunk@49233 -

M	compiler/m68k/cpubase.pas
M	compiler/m68k/r68kgri.inc
M	compiler/m68k/r68ksri.inc
M	compiler/m68k/ra68kmot.pas
M	compiler/utils/mk68kreg.pp

******************************************************************************
commit 6dbcd17f54cd8b4e2e4853785d405233e1948762
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 19 05:42:18 2021 +0000

    sinclairql: hopefully fix off-by-one processing in the packed relocs code
    
    git-svn-id: trunk@49232 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit 71dc62dde61909bd587485a20f3c234c832b9389
Author: florian <florian@freepascal.org>
Date:   Sun Apr 18 19:19:35 2021 +0000

    * if left is a smaller type, then an extension operation for shr can be removed
    
    git-svn-id: trunk@49231 -

M	compiler/ncnv.pas

******************************************************************************
commit e6045673eeb823ff2f35d38deeff04c4d5dcefb4
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 18 15:44:07 2021 +0000

     Handle NIL entries in deflist after commit 48986
    
    git-svn-id: trunk@49230 -

M	compiler/pgenutil.pas
M	compiler/pmodules.pas
M	compiler/wasm32/agllvmmc.pas
M	compiler/wasm32/agwat.pas

******************************************************************************
commit 70760208bbc0574bd170e3acd7e8baad3cd90cf2
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 18 15:41:11 2021 +0000

     Add systems_openbsd to suppported_targets_x_smallr and modify GenerateExecutable in t_bsd unit accordingly
    
    git-svn-id: trunk@49229 -

M	compiler/options.pas
M	compiler/systems/t_bsd.pas

******************************************************************************
commit f9957f30a5a70def090032b803925a9733d4cc43
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 18 14:01:09 2021 +0000

    * fix for Mantis #38771: the owner of the procdef might be Nil in case of a specialization (that virtual can't be used on generics is caught later on)
    + added test
    
    git-svn-id: trunk@49228 -

M	.gitattributes
M	compiler/pdecsub.pas
A	tests/webtbf/tw38771.pp

******************************************************************************
commit f5e5f9645cc90c01a6fcc2c89413ccbf0d1d3d5d
Author: pierre <pierre@freepascal.org>
Date:   Sat Apr 17 22:17:46 2021 +0000

     Add fForceUseForwardSlash to TLinkRes class, used for vlink linker on hosts using backslashes
    
    git-svn-id: trunk@49223 -

M	compiler/cscript.pas
M	compiler/systems/t_amiga.pas
M	compiler/systems/t_atari.pas
M	compiler/systems/t_morph.pas
M	compiler/systems/t_msxdos.pas
M	compiler/systems/t_sinclairql.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit d8f02107a1c79c2c4560c5e6ac260f516f083198
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 17 19:42:49 2021 +0000

    * avoid leaving a dangling pointer in pparautl.proc_add_definition to prevent
      use after free in different parts of the compiler
    
    git-svn-id: trunk@49222 -

M	compiler/pparautl.pas

******************************************************************************
commit 711efc3e3aa0e87dddf71663036337434065bdcd
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 17 14:39:54 2021 +0000

    + started working on the SysUtils unit for the WASI platform
    
    git-svn-id: trunk@49220 -

M	.gitattributes
A	rtl/wasi/sysutils.pp

******************************************************************************
commit dbecb67d45ba6dcf0fd763f4dfcef15eb12c7432
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 17 14:25:54 2021 +0000

    * fixed the value passing of record parameters with non-scalar value size on the
      WebAssembly target
    
    git-svn-id: trunk@49218 -

M	compiler/wasm32/cpupara.pas

******************************************************************************
commit 947f9af0e5e3f89fe7e66ff3efd4b7956eeead0b
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 17 13:58:55 2021 +0000

    + fixed code generation for high(dynarray) for the WebAssembly target
    
    git-svn-id: trunk@49217 -

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit a0e88efa6a73f044718f233cff76cee983a96dc2
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 17 11:26:21 2021 +0000

    + compile the sysconst unit for wasm32-wasi
    
    git-svn-id: trunk@49216 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 9969da24e17ba35e319a904afe1f55cdfb888e1a
Author: florian <florian@freepascal.org>
Date:   Sat Apr 17 11:14:37 2021 +0000

      * { ... } is no a longer valid comment in aarch64 assembler
    
    git-svn-id: trunk@49215 -

M	tests/tbs/tb0669.pp

******************************************************************************
commit b336155be64943a16b297d1684c45f1daf3f9b6e
Author: florian <florian@freepascal.org>
Date:   Sat Apr 17 07:53:09 2021 +0000

      * improved .gitignore
    
    git-svn-id: trunk@49214 -

******************************************************************************
commit 4f828929a390a77b306e64bab185a8f59069dae3
Author: nickysn <nickysn@gmail.com>
Date:   Fri Apr 16 23:40:11 2021 +0000

    * fixed the support for infinity and nan float literal values in the webassembly
      llvm-mc asm writer
    
    git-svn-id: trunk@49213 -

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit d53b17cadcad90200962c5942a47cec174047612
Author: florian <florian@freepascal.org>
Date:   Fri Apr 16 19:33:31 2021 +0000

      + Aarch64: completed LSE support for all interlocked operations
    
    git-svn-id: trunk@49212 -

M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc
M	compiler/aarch64/aasmcpu.pas
M	rtl/aarch64/aarch64.inc

******************************************************************************
commit 0d5260396cc16d63e444670ea9c32cc6392c7241
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 16 17:03:41 2021 +0000

    sinclairql: added startup code support for the 'packed' relocation table format in vlink. disabled for now.
    
    git-svn-id: trunk@49211 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit 665180a579b47a5d7843c4912086bc6e2060aee1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 16 11:42:04 2021 +0000

    m68k: always use ELF objects with vasm for improved cross-compatibility with other tools and compilers
    
    git-svn-id: trunk@49210 -

M	compiler/m68k/ag68kvasm.pas

******************************************************************************
commit 5442e9f9d86ab7807f917694eab6a06e037ef45a
Author: florian <florian@freepascal.org>
Date:   Wed Apr 14 19:02:54 2021 +0000

      * insert explicit type cast for the count parameter of move/fillchar wrapping C functions,
        avoids a warning in combination with -O3 and negative count values
    
    git-svn-id: trunk@49205 -

M	rtl/inc/cgeneric.inc

******************************************************************************
commit 8f61df817aa2d6f254ab5f118f569b826079806d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 14 14:59:08 2021 +0000

    atari: implemented stacktop for working stacktraces, implemented stacksize dependent stackmargin, and a system specific backtracestr. however, offs display still doesn't work properly, due to a linker issue (reported)
    
    git-svn-id: trunk@49203 -

M	rtl/atari/si_prc.pp
M	rtl/atari/sysos.inc
M	rtl/atari/system.pp

******************************************************************************
commit 2f90dbbd4403147c2131c03b0d25876cdf819d2c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 14 04:05:33 2021 +0000

    sinclairql: implemented StackTop, this results in working stacktraces and working stack checking. Implemented a custom 5% stack safety margin and a system specific SysBackTraceStr()
    
    git-svn-id: trunk@49201 -

M	rtl/sinclairql/si_prc.pp
M	rtl/sinclairql/sysos.inc
M	rtl/sinclairql/system.pp

******************************************************************************
commit 7b9ed5fe466532e6057a7378ce8028f36fed3b97
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 14 02:35:01 2021 +0000

    rtl: make STACK_MARGIN a variable instead of a const. this allows adjusting margin size on system unit init, based on the actual stack length of the executable. useful for small systems running with little stack. allow overwriting SysBackTraceStr with a platform-specific implementation
    
    git-svn-id: trunk@49200 -

M	rtl/inc/system.inc

******************************************************************************
commit 695665c393c0c3b0a67b060b5da4c86249c77f38
Author: florian <florian@freepascal.org>
Date:   Tue Apr 13 21:16:56 2021 +0000

    + optimized multiplication for "symmetric" bit patterns on arm
    
    git-svn-id: trunk@49199 -

M	compiler/arm/cgcpu.pas
M	tests/test/cg/taddcard.pp

******************************************************************************
commit 86c036d9ed8a63040dbe4adf22c96668d94fc7cb
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 13 20:57:18 2021 +0000

     Explicitly disable range and overflow checking to avoid troubles with pointer arithmetics
    
    git-svn-id: trunk@49198 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit da252e2f4b81ff3e626500454c1974c2b4feb62a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 13 10:20:29 2021 +0000

    sinclairql: turn the anyKey string const into a pchar, this reduces the final binary size by 200-odd bytes
    
    git-svn-id: trunk@49196 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit f90324a02af28994799012e81c4bcf1dfb106bbc
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 12 21:34:03 2021 +0000

     Add strings unit to buildrtl meta-unit, and update Makefile.fpc accordingly
    
    git-svn-id: trunk@49195 -

M	rtl/sinclairql/Makefile
M	rtl/sinclairql/Makefile.fpc
M	rtl/sinclairql/buildrtl.pp

******************************************************************************
commit 8ac821613fc84d5488adc81ac10f6b371bcde021
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 12 21:32:34 2021 +0000

     Disable sinclairql target OS for most utils packages
    
    git-svn-id: trunk@49194 -

M	utils/h2pas/fpmake.pp
M	utils/ihxutil/fpmake.pp
M	utils/json2pas/fpmake.pp
M	utils/pas2fpm/fpmake.pp
M	utils/pas2jni/fpmake.pp
M	utils/pas2ut/fpmake.pp
M	utils/tply/fpmake.pp
M	utils/unicode/fpmake.pp

******************************************************************************
commit a6d475b9b35f345bbe4dead1e176a99afe8f9f50
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 13:48:54 2021 +0000

    qlunits: updates, new API and utility functions, improved README
    
    git-svn-id: trunk@49193 -

M	.gitattributes
M	packages/qlunits/README.txt
M	packages/qlunits/fpmake.pp
M	packages/qlunits/src/qdos.pas
A	packages/qlunits/src/qlutil.pas
A	packages/qlunits/src/sms.pas

******************************************************************************
commit 9e7a8f44aa47d53c47bdf6081ddaba0a99c622d3
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 13:23:03 2021 +0000

    sinclairql: add right spelling for iof_mkdr, add the QDOS equivalent alias
    
    git-svn-id: trunk@49192 -

M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/sms.inc
M	rtl/sinclairql/smsfuncs.inc
M	rtl/sinclairql/sysdir.inc

******************************************************************************
commit 81287362339a70ad44e20162e6ee02b135d1cebf
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 12:21:25 2021 +0000

    sinclairql: also have a function which returns a pointer directly to the QLstring job name
    
    git-svn-id: trunk@49191 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit 3280ec322060dfd6fb333d5f789d1b148c35c5ca
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 11:58:14 2021 +0000

    sinclairql: have a max. 48 char buffer for job name. set the job name to the program name by default on system unit init
    
    git-svn-id: trunk@49190 -

M	rtl/sinclairql/si_prc.pp
M	rtl/sinclairql/system.pp

******************************************************************************
commit b5216a19907d45ffa87661879b2a571e589fce75
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 11:51:12 2021 +0000

    m68k: on the Sinclair QL insert the main program's name into the object, so the RTL later can set it as default job name
    
    git-svn-id: trunk@49189 -

M	.gitattributes
M	compiler/m68k/cpunode.pas
A	compiler/m68k/n68kutil.pas

******************************************************************************
commit 5d81c6c43b1f97dcce0df3a816aa72fc3eba4935
Author: lacak <lacak@idefix.freepascal.org>
Date:   Mon Apr 12 10:15:59 2021 +0000

    fcl-db: Introduce TObjectField and TArrayField. Only essential interface parts (added new objects, new properties and methods according to Delphi documentation).
    There is no implementation of methods in fields.inc and dataset.inc.
    Only references to Delphi documentation is added as comments. These comments should be deleted after implementation.
    
    git-svn-id: trunk@49188 -

M	packages/fcl-db/src/base/dataset.inc
M	packages/fcl-db/src/base/db.pas
M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit c8e712f400aeb5f56d8b370f7e0feb5a6405b6cb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 09:33:51 2021 +0000

    m68k: cleaned up some ancient mess from cpunode.pas, no significant functional change, apart from unit inclusion order
    
    git-svn-id: trunk@49187 -

M	compiler/m68k/cpunode.pas

******************************************************************************
commit 75a9c5b5009e094dd4f1abd166f9ef47aab97c1a
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 12 08:57:23 2021 +0000

     Also avoid invalid typecast for RegLoadedWithNewValue method for mips, sparcgen and xtensa
    
    git-svn-id: trunk@49186 -

M	compiler/mips/aoptcpu.pas
M	compiler/sparcgen/aoptcpu.pas
M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit 726ac5a5a6afb3017e06ccdd75d6a593b97a72a7
Author: florian <florian@freepascal.org>
Date:   Sun Apr 11 18:25:40 2021 +0000

      - forgotten file, obsolete define removed, belongs to last commit
    
    git-svn-id: trunk@49185 -

M	compiler/systems/i_os2.pas

******************************************************************************
commit 0188a558d1fb63818129f3adc8513dddb6bd42c7
Author: florian <florian@freepascal.org>
Date:   Sun Apr 11 18:18:30 2021 +0000

      - obsolete defines removed
    
    git-svn-id: trunk@49184 -

M	compiler/cclasses.pas
M	compiler/constexp.pas
M	compiler/cutils.pas
M	compiler/systems/i_emx.pas
M	compiler/verbose.pas

******************************************************************************
commit f1e748512bfa4c4f4d9aafa1eb69ad7528c3e4ff
Author: florian <florian@freepascal.org>
Date:   Sun Apr 11 17:30:22 2021 +0000

      * fix test for case sensitive and case preserving file systems
    
    git-svn-id: trunk@49183 -

M	tests/test/units/sysutils/tfilenamecase1.pp

******************************************************************************
commit 1bd9d4173e21a73f4b2fefd1b7daa2207e17d7d4
Author: florian <florian@freepascal.org>
Date:   Sun Apr 11 17:30:21 2021 +0000

      * never ignore BINUTILSPREFIX environment variable in fpmake
      + search also $(BINUTILSPREFIX)-gnu-gcc for a usable gcc to get the libgcc directory
    
    git-svn-id: trunk@49181 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit f5bd3d81e78881e7311d4642ac4d41445b0d86d9
Author: florian <florian@freepascal.org>
Date:   Sun Apr 11 17:30:20 2021 +0000

      + common assembler optimizer base class for powerpc and powerpc64
      * factored out TPPCAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@49180 -

M	.gitattributes
M	compiler/powerpc/aoptcpu.pas
M	compiler/powerpc64/aoptcpu.pas
A	compiler/ppcgen/aoptppc.pas

******************************************************************************
commit 340a71d2bc44413f1deef2d198ce88844604ff01
Author: nickysn <nickysn@gmail.com>
Date:   Sun Apr 11 14:02:40 2021 +0000

    * always keep the WebAssembly stack frame aligned on 16 bytes
    
    git-svn-id: trunk@49179 -

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit c7f3469a3f6135de5990605db59ff5286c6ecbe9
Author: nickysn <nickysn@gmail.com>
Date:   Sun Apr 11 13:38:05 2021 +0000

    * use up to 16 bytes alignment for the WASI target
    
    git-svn-id: trunk@49178 -

M	compiler/systems/i_wasi.pas

******************************************************************************
commit 6ec6d2043b1c2c2fa2c5554b142610d9d333075e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Apr 11 00:19:06 2021 +0000

    sinclairql: enable commandargs and exitcode features
    
    git-svn-id: trunk@49177 -

M	compiler/options.pas

******************************************************************************
commit 81bd47343918e8de171f1f53f26db490934ece79
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 10 21:05:58 2021 +0000

    * fixed win32 testsuite regressions after r49084
    
    git-svn-id: trunk@49175 -

M	compiler/pdecvar.pas

******************************************************************************
commit ad05434401e59e015f311cbda833ed0678b39fa7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 17:23:32 2021 +0000

    sinclairql: add the used includes to the system unit deps
    
    git-svn-id: trunk@49174 -

M	rtl/sinclairql/Makefile
M	rtl/sinclairql/Makefile.fpc

******************************************************************************
commit 9432aa4b69a471904eaa57f44edb1e0cb0e82511
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 17:20:50 2021 +0000

    sinclairql: do_mkdir implemented, patch by Norman Dunbar
    
    git-svn-id: trunk@49173 -

M	rtl/sinclairql/sysdir.inc
M	rtl/sinclairql/sysos.inc

******************************************************************************
commit 3d4e677db0e3c2aa309c6513249bb4affc498bc4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 17:20:08 2021 +0000

    sinclairql: new files to contain SMS only functions, iof_rename implemented, based on a patch by Norman Dunbar
    
    git-svn-id: trunk@49172 -

M	.gitattributes
A	rtl/sinclairql/sms.inc
A	rtl/sinclairql/smsfuncs.inc

******************************************************************************
commit 541c65feb758859aadbb99ef66022f79394cbbfb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 17:04:47 2021 +0000

    sinclairql: implemented do_rename(), based on the patch of Norman Dunbar
    
    git-svn-id: trunk@49171 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/sysfile.inc

******************************************************************************
commit 992fa3eea700295201d78e109b33140f63e28dc2
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 15:16:13 2021 +0000

    qlunits: updated to match the latest RTL qdosfuncs.inc
    
    git-svn-id: trunk@49170 -

M	packages/qlunits/src/qdos.pas

******************************************************************************
commit fc26e2629bd22a1b8d7df4dd033dd15c2773cb21
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 15:15:12 2021 +0000

    sinclairql: various seeking, FS_POSAB/FS_POSRE and ERR_EF related fixes
    
    git-svn-id: trunk@49169 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/sysfile.inc

******************************************************************************
commit f3a19aaf5976d5356a4def9355bf2866ff2aa675
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 15:12:45 2021 +0000

    sinclairql: first version of working argc/argv generation. implemented ParamCount and ParamStr()
    
    git-svn-id: trunk@49168 -

M	rtl/sinclairql/si_prc.pp
M	rtl/sinclairql/system.pp

******************************************************************************
commit c1f85ac3a11e6fd2ed02371d17ab3c0a1522493a
Author: florian <florian@freepascal.org>
Date:   Sat Apr 10 13:29:59 2021 +0000

      + initial implementation of path dependent IsFileNameCaseSensitive/IsFileNameCasePreserving functions for darwin
    
    git-svn-id: trunk@49164 -

M	.gitattributes
M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/unix/oscdeclh.inc
M	rtl/unix/sysutils.pp
M	tests/test/units/sysutils/texpfncase.pp
A	tests/test/units/sysutils/tfilenamecase1.pp

******************************************************************************
commit ad66a1966650d522a1d9ca2543c9b0de2ce4c93d
Author: marco <marco@freepascal.org>
Date:   Sat Apr 10 10:59:00 2021 +0000

     * on second thought, and a byte typecast so that an expanded intrinsics doesn't loop over unnecessary bits.
    
    git-svn-id: trunk@49162 -

M	packages/fcl-image/src/fpreadbmp.pp

******************************************************************************
commit f26c366e9ba6dda24a080f7d0958f4915b584850
Author: marco <marco@freepascal.org>
Date:   Sat Apr 10 10:56:47 2021 +0000

     * use popcnt instead of countbits.
     * change countbits to popcnt in case it is used by others.
    
    suggestion by Bi0t1n, mantis 0038728
    
    git-svn-id: trunk@49161 -

M	packages/fcl-image/src/fpreadbmp.pp

******************************************************************************
commit ff3f812d979e57b49463224a814c64e027670d2d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 10 10:56:02 2021 +0000

      * fix conversion of true/false macro definitions to boolean values
        (mantis #38492)
       o since the macro lookups are recursive, "mac" will usually be nil
         afterwards (unless we found an undefined macro)
    
    git-svn-id: trunk@49160 -

M	.gitattributes
M	compiler/scanner.pas
A	tests/webtbs/tw38492.pp

******************************************************************************
commit 500e29e5e2c9b1ae310bd2193c493a221e55972c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 10 08:19:40 2021 +0000

      * regenerated with FreeBSD/AArch64 support
    
    git-svn-id: trunk@49159 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit c970c17ecab522488e125c6541c1368a43d1295f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 10 08:19:20 2021 +0000

      * updated revision.inc
    
    git-svn-id: trunk@49158 -

M	utils/fpcm/revision.inc

******************************************************************************
commit d8021a11029990117503179f27e8b9af6418d32c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 10 07:57:28 2021 +0000

      + FreeBSD/AArch64 support (patch by Mikaël Urankar, mantis #38441)
    
    git-svn-id: trunk@49157 -

M	.gitattributes
M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cputarg.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/systems/i_bsd.pas
M	compiler/systems/t_bsd.pas
M	compiler/utils/ppuutils/ppudump.pp
A	rtl/bsd/aarch64/syscall.inc
A	rtl/bsd/aarch64/syscallh.inc
M	rtl/bsd/bunxsysc.inc
A	rtl/freebsd/aarch64/bsyscall.inc
A	rtl/freebsd/aarch64/cprt0.as
A	rtl/freebsd/aarch64/dllprt0.as
A	rtl/freebsd/aarch64/gprt0.as
A	rtl/freebsd/aarch64/prt0.as
A	rtl/freebsd/aarch64/si_c.inc
A	rtl/freebsd/aarch64/sighnd.inc
M	rtl/freebsd/signal.inc
M	rtl/freebsd/ucontexth.inc
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 9f8566dd84cd77faf02816ff11b6b4092af5a0d4
Author: pierre <pierre@freepascal.org>
Date:   Fri Apr 9 23:11:53 2021 +0000

    Refactor code to avoid problems with -CR option
    
    git-svn-id: trunk@49155 -

M	compiler/powerpc/aoptcpu.pas

******************************************************************************
commit 243ddea68697120e162f5facac53b0ed59578ee0
Author: florian <florian@freepascal.org>
Date:   Fri Apr 9 20:20:53 2021 +0000

      * PowerPC: initial (and primitive) implemenation of TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@49153 -

M	compiler/powerpc/aoptcpu.pas

******************************************************************************
commit b0c434b2b2e41bc2fed97ca70e85eff44134a7c3
Author: pierre <pierre@freepascal.org>
Date:   Fri Apr 9 20:15:48 2021 +0000

    Disable most utils for SinclairQL for now
    
    git-svn-id: trunk@49152 -

M	utils/fpcm/fpmake.pp
M	utils/fpcmkcfg/fpmake.pp
M	utils/fpcres/fpmake.pp
M	utils/fpcreslipo/fpmake.pp
M	utils/fpdoc/fpmake.pp
M	utils/fpmake.pp
M	utils/fppkg/fpmake.pp
M	utils/fprcp/fpmake.pp

******************************************************************************
commit b09669dffe04ed05fa7f4c19cdde5a2531be0668
Author: florian <florian@freepascal.org>
Date:   Fri Apr 9 20:09:19 2021 +0000

      * allow also CSUBSETREG in tx86inlinenode.second_IncludeExclude, resolves #38733
    
    git-svn-id: trunk@49151 -

M	.gitattributes
M	compiler/x86/nx86inl.pas
A	tests/webtbs/tw38733.pp

******************************************************************************
commit ca475537e886a36b1ba76127db7a3c0bf454e3a2
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 04:35:54 2021 +0000

    sinclairql: instead of tinyheap, made the QL port to use the new OS heap by default, also implemented Randomize, based on patch by Norman Dunbar
    
    git-svn-id: trunk@49150 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit f5c22b7a9310e0f9f0fa118b04aec75914bc05df
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 04:34:38 2021 +0000

    sinclairql: various file and directory handling improvements, based on patch by Norman Dunbar
    
    git-svn-id: trunk@49149 -

M	rtl/sinclairql/sysdir.inc
M	rtl/sinclairql/sysfile.inc

******************************************************************************
commit e7681dfe5beaf76263c2fb7d080e12f8f8c682f8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 04:24:06 2021 +0000

    sinclairql: implemented io_delet and mt_rclck QDOS functions, patch by Norman Dunbar
    
    git-svn-id: trunk@49148 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc

******************************************************************************
commit d48019247745e8e1b644aa3381ae0303d6310fdd
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 04:22:47 2021 +0000

    sinclairql: implemented Error2InOutRes, patch by Norman Dunbar
    
    git-svn-id: trunk@49147 -

M	rtl/sinclairql/sysos.inc

******************************************************************************
commit 08023bbad0df203030f1998f7f5ea724446efaab
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 03:04:24 2021 +0000

    sinclairql: fixed parameter trashing in several QDOS function assembler wrappers
    
    git-svn-id: trunk@49146 -

M	rtl/sinclairql/qdos.inc

******************************************************************************
commit caa2735203b91db513fe8af1e835aa711c0ccf77
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 02:20:22 2021 +0000

    osheap: new very small heap manager which only acts as a thin layer above an OS provided heap API. mainly aimed for small and embedded systems
    
    git-svn-id: trunk@49145 -

M	.gitattributes
A	rtl/inc/osheap.inc

******************************************************************************
commit 80d549a73449381204174b98462fd83ba9aeb538
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 8 23:51:48 2021 +0000

    sinclairql: further tweaks to the startup code. enable optimizations. mark functions as noreturn to save a few bytes
    
    git-svn-id: trunk@49144 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit ab0de8eec00aba5b957e2db1b31528a65dac18c7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 8 23:33:54 2021 +0000

    sinclairql: fix and simplify the startup code changes in r49134. accessing global variables is not possible before relocation
    
    git-svn-id: trunk@49143 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit f13b47289e016d61dbf154ba63de090699e0694d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 8 19:50:40 2021 +0000

      * handle case where the first instruction with line information is looked up
       o this should be handled better. The common way is looking up address - 1,
         but that doesn't seem to work here.
    
    git-svn-id: trunk@49142 -

M	rtl/inc/lnfodwrf.pp

******************************************************************************
commit 7b5e58382b8cfd6f97b6928ee1107512741db426
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 8 19:50:37 2021 +0000

      * regenerated
    
    git-svn-id: trunk@49141 -

M	rtl/darwin/Makefile

******************************************************************************
commit 4166e8c46409c6730e19c5dd3b1cc651b7bcc1de
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 8 19:50:30 2021 +0000

      * Darwin/BSD: fixed StackBottom calculation
    
    git-svn-id: trunk@49139 -

M	rtl/bsd/system.pp

******************************************************************************
commit ca399f3c7166947e42e507c3cb141cfec46f9e0f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 8 19:50:27 2021 +0000

      * don't generate high-level CFI statements when the selected assembler
        does not support them, even if the target normally uses them
       o fixes assembling with -Aas-darwin for i386/arm/x86-64 (on OS
         versions that used those)
    
    git-svn-id: trunk@49138 -

M	compiler/aarch64/agcpugas.pas
M	compiler/arm/agarmgas.pas
M	compiler/cfidwarf.pas
M	compiler/systems.pas
M	compiler/x86/agx86att.pas

******************************************************************************
commit 1b34fe90a33567d41a103838648df4dc930ba2cb
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 8 19:50:24 2021 +0000

      * don't override specified assembler on the command line when leaving
        assembler files in case that specified assembler is already an
        external one
    
    git-svn-id: trunk@49137 -

M	compiler/options.pas

******************************************************************************
commit c90616944d3bde7b36e924d27a0790195d61f95c
Author: florian <florian@freepascal.org>
Date:   Thu Apr 8 17:21:59 2021 +0000

      + Aarch64: create better code for not(<byte>)
    
    git-svn-id: trunk@49135 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 44e39f454a38bb3cfc8a61b8587fa225c3ebec61
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 7 15:58:42 2021 +0000

     Add basic support for setting argc and argv for sinclairql OS
    
    git-svn-id: trunk@49134 -

M	rtl/sinclairql/si_prc.pp
M	rtl/sinclairql/system.pp

******************************************************************************
commit 3ac0522f70fd2e0eaf66858f64d3d00b73eed42a
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 7 15:49:31 2021 +0000

     Add sinclairql to NO_NATIVE_COMPILER_OS_LIST
    
    git-svn-id: trunk@49133 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 9a39124118cc4b065774f84a7a7d7cfdcc8456c1
Author: florian <florian@freepascal.org>
Date:   Wed Apr 7 13:54:58 2021 +0000

      * Xtensa: fix crash in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@49132 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit 432cd5bdd36b3057283b1907fbe7dc4f0170b99f
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 6 21:14:42 2021 +0000

    Update after commit 49123
    
    git-svn-id: trunk@49130 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 9ec85f940e650d196a66510be981d6f8b8a774a6
Author: florian <florian@freepascal.org>
Date:   Tue Apr 6 19:16:17 2021 +0000

      * do not remove register deallocations/allocation pairs if the register is written
    
    git-svn-id: trunk@49129 -

M	compiler/aopt.pas

******************************************************************************
commit 503fc85dff6e31bf423aa2107f7e4612b5c88481
Author: florian <florian@freepascal.org>
Date:   Tue Apr 6 15:50:28 2021 +0000

      * patch by J. Gareth Moreton: handle register allocations correctly in MovMov2Mov 3, resolves #38703
    
    git-svn-id: trunk@49128 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw38703.pp

******************************************************************************
commit e4cc8af8fc4e66ca5bf7d2741d749c2b5d30c195
Author: florian <florian@freepascal.org>
Date:   Mon Apr 5 15:39:07 2021 +0000

      * Makefiles regenerated
    
    git-svn-id: trunk@49124 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit 755c574a87c2505c793dc7fa51fdcb2c572ace70
Author: florian <florian@freepascal.org>
Date:   Sun Apr 4 14:54:56 2021 +0000

      + lazarus project
    
    git-svn-id: trunk@49119 -

M	.gitattributes
A	rtl/darwin/buildrtl.lpi
A	rtl/darwin/buildrtl.pp

******************************************************************************
commit 87a67a3222693a0b627cda9a47197d8c4893a205
Author: florian <florian@freepascal.org>
Date:   Sat Apr 3 22:01:47 2021 +0000

      * typo fixed
    
    git-svn-id: trunk@49118 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 08817f1aed8b29c9e30d7d9edc9530e89bb0bea0
Author: florian <florian@freepascal.org>
Date:   Sat Apr 3 21:28:09 2021 +0000

      * fixes to deadstore optimization
    
    git-svn-id: trunk@49117 -

M	compiler/optdeadstore.pas

******************************************************************************
commit d12dd1bdae222b6a7e30c46ed31d5428e1c516a6
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Apr 3 18:13:51 2021 +0000

    * CortexM4: Add some missing system registers
    
    git-svn-id: trunk@49114 -

M	rtl/embedded/arm/cortexm4.pp

******************************************************************************
commit e6f01065ec67ea82b1d8a4484f07d4680be82b8e
Author: florian <florian@freepascal.org>
Date:   Sat Apr 3 11:59:36 2021 +0000

      + Aarch64: use LSE if available for atomic intrinsics
    
    git-svn-id: trunk@49113 -

M	rtl/aarch64/aarch64.inc

******************************************************************************
commit f3d8efc8ec3690b97f3d5f15d6874359435271fe
Author: florian <florian@freepascal.org>
Date:   Sat Apr 3 11:30:23 2021 +0000

      * Aarch64: support LSE instructions
    
    git-svn-id: trunk@49112 -

M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc
M	compiler/aarch64/aasmcpu.pas

******************************************************************************
commit f879d764917721ff3bd99c7e6fb6134cc8ee7197
Author: florian <florian@freepascal.org>
Date:   Fri Apr 2 21:41:31 2021 +0000

      * forgotten " added
    
    git-svn-id: trunk@49109 -

M	compiler/options.pas

******************************************************************************
commit f38f9ff930b754f2b94f8dc876f53d22ab0d23a6
Author: florian <florian@freepascal.org>
Date:   Fri Apr 2 20:57:12 2021 +0000

      * Aarch64: cpu capabilites defines properly named
      * Aarch64: enable defining cpu capabilites
    
    git-svn-id: trunk@49108 -

M	compiler/aarch64/cpuinfo.pas
M	compiler/fpcdefs.inc

******************************************************************************
commit 9e7d80a8bd1f1fcfd60bab5750b30c05db3c3f6a
Author: florian <florian@freepascal.org>
Date:   Fri Apr 2 19:52:00 2021 +0000

      * Aarch64: the M1 is an ARM v8.4-a CPU
    
    git-svn-id: trunk@49107 -

M	compiler/options.pas

******************************************************************************
commit 3999d037e3f66961a2ee4993db53d1d8e9fa21f0
Author: florian <florian@freepascal.org>
Date:   Fri Apr 2 17:13:11 2021 +0000

      + write controller unit wiht -ix as well
    
    git-svn-id: trunk@49106 -

M	compiler/options.pas

******************************************************************************
commit bf65bad5c5c92a2bffcc5dff4a5ced917116a8a1
Author: florian <florian@freepascal.org>
Date:   Fri Apr 2 17:08:34 2021 +0000

      + Aarch64: cpu_capabilities support
    
    git-svn-id: trunk@49105 -

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cpuinfo.pas

******************************************************************************
commit e53d18d876349d27b75a9dc00340b4a8edaceaf9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 2 15:25:05 2021 +0000

    * Windows on ARM64 adheres to the usual Aarch64 ABI, thus references need to be copied on the caller side as well
    
    git-svn-id: trunk@49103 -

M	compiler/systems.pas

******************************************************************************
commit 2885d3ab569ac5143b094419de211b2c1405f568
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 2 15:25:01 2021 +0000

    * fix for Mantis #37426: don't allow an instance function of a type helper to be used on the type instead of a concrete value
    + added test
    
    git-svn-id: trunk@49102 -

M	.gitattributes
M	compiler/pexpr.pas
A	tests/webtbf/tw37426.pp

******************************************************************************
commit d712c64236a3e5d684975ee2a94a77c17141ceb0
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Thu Apr 1 20:55:21 2021 +0000

    * thumb2: Optimize fillchar a bit more with a wider inner loop chunk size
    
    git-svn-id: trunk@49100 -

M	rtl/arm/thumb2.inc

******************************************************************************
commit 682e29c4ff6b494b468fdf0f1295ec85fee37ec4
Author: florian <florian@freepascal.org>
Date:   Thu Apr 1 16:32:52 2021 +0000

      + enable colored output on darwin, resolves #38693
    
    git-svn-id: trunk@49099 -

M	compiler/comptty.pas

******************************************************************************
commit 8b779975aa1d93f7a4e64b280ff02179dcff0d70
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Thu Apr 1 12:36:06 2021 +0000

    * thumb2: Make fillchar smaller, faster and more reliable. Some gas versions remove the "mov r0,r0" making the calculated branch break
    
    git-svn-id: trunk@49098 -

M	rtl/arm/thumb2.inc

******************************************************************************
commit 7811b915a918cd014806bfde2085bdbad62c8b2f
Author: florian <florian@freepascal.org>
Date:   Wed Mar 31 21:23:22 2021 +0000

      * x86-64: we can spill replace 32 bit operations if the operation does not modify a register
    
    git-svn-id: trunk@49097 -

M	compiler/x86/rgx86.pas

******************************************************************************
commit 8ea95e9b9518ff3c9b52672a2575287d613bf5c9
Author: pierre <pierre@freepascal.org>
Date:   Wed Mar 31 21:03:50 2021 +0000

    Use value $00000F00 instead of $F0000000 for IF_FPMASK, and adapt all floating point constants, to avoid IF_VFPv4 having the same value as IF_PASS2
    
    git-svn-id: trunk@49096 -

M	compiler/arm/aasmcpu.pas

******************************************************************************
commit c8c6e647be33882b84c2ffffd9c4b84ea4fee1a0
Author: pierre <pierre@freepascal.org>
Date:   Wed Mar 31 20:53:08 2021 +0000

     Avoid keeping optimized out node in callcleanupblock.statements or callinitblock.statements
    
    git-svn-id: trunk@49094 -

M	compiler/ncal.pas

******************************************************************************
commit 07a8e6c1d61cfa4a588d3e88997940c22f25fd6a
Author: florian <florian@freepascal.org>
Date:   Wed Mar 31 18:53:31 2021 +0000

      + some more change information entries added
    
    git-svn-id: trunk@49092 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit a8df728548dcfd0e607021ba296fe41901f1bca0
Author: michael <michael@freepascal.org>
Date:   Tue Mar 30 22:11:26 2021 +0000

    * Apparently, taking code from freeclx is not OK
    
    git-svn-id: trunk@49091 -

M	packages/fcl-db/src/base/dataset.inc
M	packages/fcl-db/src/base/db.pas
M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit bc4a22e24d21870fe797d495cf5a749cdf89a12c
Author: florian <florian@freepascal.org>
Date:   Tue Mar 30 21:43:20 2021 +0000

      + Xtensa: tcpuinlinenode.second_prefetch
    
    git-svn-id: trunk@49090 -

M	compiler/xtensa/ncpuinl.pas

******************************************************************************
commit 47557e0ad24e6df119fecbf2d42a65dc9cd20b8a
Author: florian <florian@freepascal.org>
Date:   Tue Mar 30 16:44:19 2021 +0000

      * cpubase.cgsize2subreg should handle all valid sizes, resolves #38557
    
    git-svn-id: trunk@49087 -

M	.gitattributes
M	compiler/x86/cpubase.pas
A	tests/webtbs/tw38557.pp

******************************************************************************
commit 89fc5b7f8d60971b555b7da24970e3b7f2f83b17
Author: lacak <lacak@idefix.freepascal.org>
Date:   Tue Mar 30 11:30:19 2021 +0000

    fcl-db: Introduce TArrayField. Only essential parts (added new object properties according to Delphi documentation). Some code taken from FreeCLX project (https://sourceforge.net/projects/freeclx/)
    
    git-svn-id: trunk@49085 -

M	packages/fcl-db/src/base/dataset.inc
M	packages/fcl-db/src/base/db.pas
M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit 8ec71bc810be192183c9dea7ef4bab8a33a2df66
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 30 11:05:00 2021 +0000

    * fixed memory leak, introduced accidentally in r48998
    
    git-svn-id: trunk@49084 -

M	compiler/pdecvar.pas

******************************************************************************
commit 803402b2250e231094507f581924a0dbeeeda7b0
Author: lacak <lacak@idefix.freepascal.org>
Date:   Tue Mar 30 09:54:04 2021 +0000

    fcl-db: Introduce TObjectField. Only essential parts (added new object properties according to Delphi documentation)
    
    git-svn-id: trunk@49083 -

M	packages/fcl-db/src/base/db.pas

******************************************************************************
commit f517d21507d66cef0b6a1144f41c8359982e9c2e
Author: lacak <lacak@idefix.freepascal.org>
Date:   Tue Mar 30 09:37:30 2021 +0000

    fcl-db: Introduce TObjectField. Only essential parts (added new object properties according to Delphi documentation). Some code taken from FreeCLX project (https://sourceforge.net/projects/freeclx/)
    
    git-svn-id: trunk@49082 -

M	packages/fcl-db/src/base/db.pas
M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit 0d895c5826f0425712611001128e5575e06b392b
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 28 21:51:30 2021 +0000

     Fix short name for utils-fpcres for OS/2 and EMX
    
    git-svn-id: trunk@49077 -

M	installer/install.dat

******************************************************************************
commit b4eb1780adc03586278a8780b376300308b33727
Author: florian <florian@freepascal.org>
Date:   Sun Mar 28 21:10:13 2021 +0000

      * added test, issue is fixed by r48758 already
    
    git-svn-id: trunk@49075 -

M	.gitattributes
A	tests/webtbs/tw34232.pp

******************************************************************************
commit 47eb7cec0cbe9a6c944ff570569138a3d5aff41c
Author: florian <florian@freepascal.org>
Date:   Sun Mar 28 21:09:35 2021 +0000

      * test needs objfpc mode else i is 16 bit only
    
    git-svn-id: trunk@49074 -

M	tests/webtbs/tw38636.pp

******************************************************************************
commit 9b61b538d8216a27fc02e03c203ddaaf5ca1b96b
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 28 16:31:12 2021 +0000

    Use utils also for short version for OS/2 and emx
    
    git-svn-id: trunk@49072 -

M	installer/install.dat

******************************************************************************
commit ff71c51e4ec7950e7297c57178a3e575ed2bd83e
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 28 00:11:06 2021 +0000

     Remove double source entry for utils lexyacc  package
    
    git-svn-id: trunk@49070 -

M	installer/install.dat

******************************************************************************
commit 3ea0c335c9e22f066f59fdb7f0e6cf4529d701ac
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 28 00:07:58 2021 +0000

     Replace p2fp by p2fm as short version for pas2fpm utils package and add some missing -3.3.1 to long source zip names
    
    git-svn-id: trunk@49069 -

M	installer/install.dat

******************************************************************************
commit 5a20531d9be85ad43f38fbd240bc65f27c57c801
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Mar 27 19:48:32 2021 +0000

    * rework the basic event on Windows so that peventstate directly represents the Event handle
    
    git-svn-id: trunk@49068 -

M	rtl/win/systhrd.inc

******************************************************************************
commit 793ecb3fa67214c2b6da67609c5f4e6ddef96bd3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 27 19:01:04 2021 +0000

      * fixed assembling via pipe on Darwin
    
    git-svn-id: trunk@49067 -

M	compiler/assemble.pas

******************************************************************************
commit 6218254e53d3bd9bd6cc2c62b5d6ecb86235dcd7
Author: florian <florian@freepascal.org>
Date:   Sat Mar 27 17:13:14 2021 +0000

      * allow also 8 byte string constants in assembler, resolves #28640
    
    git-svn-id: trunk@49066 -

M	.gitattributes
M	compiler/raatt.pas
M	compiler/x86/rax86int.pas
A	tests/webtbs/tw28640.pp
A	tests/webtbs/tw28640a.pp

******************************************************************************
commit 308aee42a011e796260906a9d99699dc6521d3c2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 27 15:31:33 2021 +0000

      * the offset parameter of reference_reset* must be asizeint rather than
        longint (mantis #38636)
    
    git-svn-id: trunk@49065 -

M	.gitattributes
M	compiler/cgutils.pas
A	tests/webtbs/tw38636.pp

******************************************************************************
commit ca7c775e3671ce703894d6ad4b13fa11ae5c1ff3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Mar 27 09:35:07 2021 +0000

    * fix for Mantis #38642: for enumerations with jumps Delphi behaves as follows:
      - GetTypeKind returns tkEnumeration (FPC previously generated a compile error here)
      - GetTypeInfo on a generic parameters returns Nil for such types (FPC previously generated a compile error here)
      - GetTypeInfo otherwise generates a compile error (as before)
    
    git-svn-id: trunk@49064 -

M	.gitattributes
M	compiler/ninl.pas
A	tests/test/trtti21.pp
A	tests/test/trtti22.pp
A	tests/test/trtti23.pp
A	tests/webtbs/tw38642.pp

******************************************************************************
commit 57e040cb8234aac29a28a76a2befe3f46eb35faf
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Mar 27 09:35:02 2021 +0000

    * don't use GetTypeData() when ATypeInfo is Nil
    
    git-svn-id: trunk@49063 -

M	packages/rtl-generics/src/generics.defaults.pas

******************************************************************************
commit 067b9b2922824a6801001abe1f2c67559cdad78c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Mar 27 09:34:59 2021 +0000

    * copy and compare the typesym inside type nodes as well
    
    git-svn-id: trunk@49062 -

M	compiler/nld.pas

******************************************************************************
commit 2d255cec9146f690285cf34bd56e49a6065da38b
Author: pierre <pierre@freepascal.org>
Date:   Fri Mar 26 23:58:46 2021 +0000

     Update OS/2 packages
    
    git-svn-id: trunk@49061 -

M	installer/install.dat

******************************************************************************
commit 869f6993911b6bbfbe48c424077413f6510eb3ea
Author: pierre <pierre@freepascal.org>
Date:   Fri Mar 26 23:51:54 2021 +0000

     Update EMX packages
    
    git-svn-id: trunk@49060 -

M	installer/install.dat

******************************************************************************
commit 2ed3bfb58771edfb9882e193506554f1a52051d2
Author: pierre <pierre@freepascal.org>
Date:   Fri Mar 26 23:38:07 2021 +0000

     Add missing go32v2 zips and corresponding sources
    
    git-svn-id: trunk@49059 -

M	installer/install.dat

******************************************************************************
commit 632e3ff2cdabd20aa38f8e1f43fab0fcbf79adc3
Author: pierre <pierre@freepascal.org>
Date:   Fri Mar 26 23:35:38 2021 +0000

     Use utils as shortname also
    
    git-svn-id: trunk@49058 -

M	utils/fpmake.pp

******************************************************************************
commit 1ad9091763169ddc571e28756f400706c8ac5a68
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Mar 26 07:19:17 2021 +0000

    fcl-db: odbc: make TODBCCursor.STMTHandle and ODBCSuccess public
    
    git-svn-id: trunk@49056 -

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit c2ff85ac5ba307d7cc10cae7ee17d479c83c9119
Author: florian <florian@freepascal.org>
Date:   Thu Mar 25 21:51:52 2021 +0000

      * patch by J. Gareth Moreton: Nothing (NOP) node optimisation, resolves #38194
    
    git-svn-id: trunk@49054 -

M	compiler/nbas.pas

******************************************************************************
commit 50cb5707eff57d51a30dc2d2953dcf91a7a93f68
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Mar 25 16:33:22 2021 +0000

    amiga: check if P is nil while processing params. this should never happen, except sometimes in real world it still happens. so lets be defensive about it
    
    git-svn-id: trunk@49052 -

M	rtl/amicommon/paramhandling.inc

******************************************************************************
commit 6b0d010a677841fc38b0b298d5c94d09c2bc3a79
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Mar 25 14:47:47 2021 +0000

    fcl-db: odbc: partially revert #49049
    
    git-svn-id: trunk@49051 -

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit fa0b053b21c87c80e5fa1d01b283194febae5746
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Mar 25 09:44:14 2021 +0000

    fcl-db: odbc: go to first selectable result. issue #38664
    
    git-svn-id: trunk@49049 -

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas
M	packages/odbc/src/odbcsql.inc

******************************************************************************
commit 7a0c6ab591659dd05274fb4c8a05d39b760bb12d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Mar 24 14:33:13 2021 +0000

      - removed unused leftovers from old t_bsd code
      * no longer execute the linker via a shell script, but directly
    
    git-svn-id: trunk@49046 -

M	compiler/link.pas
M	compiler/systems/t_darwin.pas

******************************************************************************
commit 7fbda0e0e8b1d071e72ccbc5e487dbb1c2173c63
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Mar 24 14:33:09 2021 +0000

      * support building with FPC 3.2.2
    
    git-svn-id: trunk@49045 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit e99c9ddd7522d2d07c1bf4f736ea33aa0d0bba55
Author: michael <michael@freepascal.org>
Date:   Tue Mar 23 11:53:33 2021 +0000

    * Add deprecation message
    
    git-svn-id: trunk@49038 -

M	rtl/objpas/classes/classesh.inc

******************************************************************************
commit 1b1e1009c117d76b91b780147feecce12eda4526
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Mar 23 09:36:45 2021 +0000

    rtl: reverted some accidental but harmless extra changes committed in r49036
    
    git-svn-id: trunk@49037 -

M	rtl/objpas/sysutils/dati.inc

******************************************************************************
commit 45b5e9215cc4bb6e1b199034aab9ce893d5b526e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Mar 23 09:32:49 2021 +0000

    rtl: remove defines for v2.x compiler from the common part of the RTL. It's no longer suppported to build with that
    
    git-svn-id: trunk@49036 -

M	rtl/inc/compproc.inc
M	rtl/inc/dynlib.inc
M	rtl/inc/filerec.inc
M	rtl/inc/generic.inc
M	rtl/inc/rtti.inc
M	rtl/inc/rttidecl.inc
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc
M	rtl/inc/textrec.inc
M	rtl/objpas/character.pas
M	rtl/objpas/classes/lists.inc
M	rtl/objpas/fgl.pp
M	rtl/objpas/objpas.pp
M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/sysencoding.inc
M	rtl/objpas/sysutils/sysencodingh.inc
M	rtl/objpas/sysutils/sysstr.inc

******************************************************************************
commit 1105726dcf0065083c5f23921c1e87c9172eb61b
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Mar 22 18:40:12 2021 +0000

    * Add SAMD51P19A controller type. Unit generated by Michael Ring and slightly modified.
    
    git-svn-id: trunk@49034 -

M	.gitattributes
M	compiler/arm/cpuinfo.pas
M	compiler/systems/t_embed.pas
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
A	rtl/embedded/arm/samd51p19a.pp

******************************************************************************
commit bae6ca6883d84aff6c9061af6ddf35a7766b51b4
Author: florian <florian@freepascal.org>
Date:   Mon Mar 22 18:11:41 2021 +0000

      * Dwarf: write variant fields only if the require features are present, resolves #38651
    
    git-svn-id: trunk@49032 -

M	compiler/dbgdwarf.pas

******************************************************************************
commit 4c209a7dc2aa1f0fe43b104255d7d7670942bd4d
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 21 18:21:53 2021 +0000

    * JVM compilation fixed
    
    git-svn-id: trunk@49026 -

M	rtl/java/jsystemh.inc

******************************************************************************
commit e8b92a4a7692c4922d7f8d4e394c6f145b193103
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Mar 21 11:14:24 2021 +0000

    qlunits: fix the return value of longint_to_qlfp
    
    git-svn-id: trunk@49023 -

M	packages/qlunits/src/qlfloat.pas

******************************************************************************
commit 90d9f80aa5716874c72948aff282de6ee9f6c035
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 21 10:41:06 2021 +0000

     Change short name of qlunits package to 'qlun' to respect 4 char limitation
    
    git-svn-id: trunk@49022 -

M	packages/qlunits/fpmake.pp

******************************************************************************
commit c4ddb94cb42420c8e47c6daf181a64550ece1615
Author: florian <florian@freepascal.org>
Date:   Sat Mar 20 21:28:58 2021 +0000

      * remove nf_write from the counter node when converting for loops into while loops if the counter is only read
    
    git-svn-id: trunk@49020 -

M	compiler/nflw.pas

******************************************************************************
commit 9fa61a6c9f13f6eb968464d21d6bc83761ad3459
Author: nickysn <nickysn@gmail.com>
Date:   Sat Mar 20 01:22:43 2021 +0000

    - removed the discardresult proc directive
    
    git-svn-id: trunk@49017 -

M	compiler/pdecsub.pas
M	compiler/symconst.pas
M	compiler/tokens.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmcal.pas

******************************************************************************
commit 800bb3adc2362456af74494503cca82bd12c0598
Author: nickysn <nickysn@gmail.com>
Date:   Fri Mar 19 21:13:20 2021 +0000

    * instead of using discardresult, wrap the uniquestring functions in procedures,
      that are declared as inline
    
    git-svn-id: trunk@49016 -

M	rtl/inc/astrings.inc
M	rtl/inc/systemh.inc
M	rtl/inc/ustringh.inc
M	rtl/inc/ustrings.inc
M	rtl/inc/wstringh.inc
M	rtl/inc/wstrings.inc

******************************************************************************
commit b9affc3406b07c24ffc76005f71d41adf22b08aa
Author: florian <florian@freepascal.org>
Date:   Fri Mar 19 17:39:52 2021 +0000

      * RiscV64: type conversion to 8 bit improved
    
    git-svn-id: trunk@49015 -

M	compiler/riscv64/cgcpu.pas

******************************************************************************
commit 2a96ad2715a9699b5a592e11b6e319557c953d4d
Author: michael <michael@freepascal.org>
Date:   Fri Mar 19 14:25:21 2021 +0000

    * Check buffer overflow when reading
    
    git-svn-id: trunk@49012 -

M	rtl/unix/timezone.inc

******************************************************************************
commit 28e359f09127e0a179ba5294839d7d21251688d2
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Mar 19 14:13:04 2021 +0000

    pqconnection: refactoring - use variable
    
    git-svn-id: trunk@49011 -

M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp

******************************************************************************
commit 72fc981c7fe2ce8e6cc3da0aa3a82bea98a97403
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Mar 19 14:09:02 2021 +0000

    pqconnection: support ftVarBytes parameters (TParam.SetAsBytes)
    
    git-svn-id: trunk@49010 -

M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp

******************************************************************************
commit 3575369989aec5abd254bca433d60df24e47f2a8
Author: michael <michael@freepascal.org>
Date:   Fri Mar 19 09:22:13 2021 +0000

    * Fix leap second reading
    
    git-svn-id: trunk@49006 -

M	rtl/unix/timezone.inc

******************************************************************************
commit 2a61397d373f2ef7e8df8c5112be64770309b626
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Mar 19 08:11:10 2021 +0000

    unix: fix timezone info for timers after the last transition
    
    git-svn-id: trunk@49005 -

M	rtl/unix/timezone.inc
M	tests/test/units/unix/ttimezone1.pp

******************************************************************************
commit 85a8169c486dce73aadf89a0a1b1de6b28c55df6
Author: pierre <pierre@freepascal.org>
Date:   Thu Mar 18 22:28:55 2021 +0000

     Use 4 char-long ShortName for ihxutil utils package
    
    git-svn-id: trunk@49003 -

M	utils/ihxutil/fpmake.pp

******************************************************************************
commit 9e2bcd940aa579c470990d60525be160ee191760
Author: florian <florian@freepascal.org>
Date:   Thu Mar 18 21:49:25 2021 +0000

      + RiscV: initial OpAddi02Op implementation
    
    git-svn-id: trunk@49002 -

M	compiler/riscv/aoptcpurv.pas

******************************************************************************
commit 881235b489d285aa2f437fbb3efdb13035968629
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Mar 18 19:21:51 2021 +0000

    unix: fix RefreshTZInfo UTC parameter
    
    git-svn-id: trunk@49001 -

M	rtl/unix/timezone.inc

******************************************************************************
commit ecad5e9a6c361c0cd67ac11c8d2feae7ac911cfc
Author: nickysn <nickysn@gmail.com>
Date:   Thu Mar 18 16:45:40 2021 +0000

    + WebAssembly implementation of g_rangecheck that uses if/endif instead of
      jumps to labels (which causes internal compiler error, because they're not
      supported in WebAssembly)
    
    git-svn-id: trunk@49000 -

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 3072df59ff4a6ae0cd4665180d68078ed8da4bff
Author: florian <florian@freepascal.org>
Date:   Wed Mar 17 21:30:41 2021 +0000

      * overflow checked mul helpers do not need to check all bits either
    
    git-svn-id: trunk@48999 -

M	rtl/inc/generic.inc

******************************************************************************
commit d608b4b689181bd3bde42078d6c9641348f0a050
Author: nickysn <nickysn@gmail.com>
Date:   Wed Mar 17 19:16:38 2021 +0000

    * instead of registering all and then deleting non-propgetter/setter procdefs in
      pdecvar.read_property_dec, don't register them by default, and then only
      register them, if they are propgetter/setter. This prevents dangling pointers
      in current_module.deflist and potential use-after-free bugs.
    
    git-svn-id: trunk@48998 -

M	compiler/pdecvar.pas

******************************************************************************
commit 39c060dfa726274fa05e22652431622de3cf57c4
Author: pierre <pierre@freepascal.org>
Date:   Wed Mar 17 09:33:14 2021 +0000

     Avoid copying of objpas.pp into local rtl/macos directory
    
    git-svn-id: trunk@48994 -

M	rtl/macos/Makefile
M	rtl/macos/Makefile.fpc

******************************************************************************
commit 53effea0f5cbbe4e8670c65fc55ec65b507829fe
Author: florian <florian@freepascal.org>
Date:   Tue Mar 16 22:19:21 2021 +0000

      + X86: JccMovJmpMov2MovSetcc optimization
    
    git-svn-id: trunk@48993 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 82450e1d57d684b3858b280cf96f045a4505b631
Author: marcus <marcus@idefix.freepascal.org>
Date:   Tue Mar 16 20:54:13 2021 +0000

    Amiga, AROS, MorphOS, OS4: Unified ExecBase for all Amiga Platforms
    
    git-svn-id: trunk@48991 -

M	packages/amunits/src/coreunits/exec.pas
M	packages/arosunits/src/exec.pas
M	packages/morphunits/src/exec.pas
M	packages/os4units/src/exec.pas

******************************************************************************
commit 612f063795d944b9dc7ea0ffc36a9a0fdc4ef73a
Author: florian <florian@freepascal.org>
Date:   Mon Mar 15 21:12:02 2021 +0000

      + patch by J. Gareth Moreton: AddMov2LeaAdd and AddMov2Lea optimizations, resolves #38579
    
    git-svn-id: trunk@48989 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6a9279860356ec61d0f133b00345da12744fef1f
Author: marcus <marcus@idefix.freepascal.org>
Date:   Mon Mar 15 20:46:29 2021 +0000

    amiga: examples fixed and updated
    
    git-svn-id: trunk@48988 -

M	packages/amunits/examples/asltest.pas
M	packages/amunits/examples/bezier.pas
M	packages/amunits/examples/deviceinfo.pas
M	packages/amunits/examples/easygadtools.pas
M	packages/amunits/examples/otherlibs/requestmodeid.pas

******************************************************************************
commit c4dfb2c8bda32f6b1279419accb7b58f294ff27b
Author: marcus <marcus@idefix.freepascal.org>
Date:   Mon Mar 15 19:08:17 2021 +0000

    fpts2junit: remove ../ at start for the classname
    
    git-svn-id: trunk@48987 -

M	tests/utils/fpts2junit.pp

******************************************************************************
commit 811cf381ad4f00636cf8b5628b663d7bb8cd07f4
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 15 18:13:45 2021 +0000

    * when parsing unions, set the uniondef reference to nil in
      current_module.deflist after freeing the object to prevent dangling pointers
      and use after free
    
    git-svn-id: trunk@48986 -

M	compiler/pdecvar.pas

******************************************************************************
commit d090af4abea731eb85e6cc24f829e53dcb06d33d
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 15 18:12:36 2021 +0000

    * skip nil values in current_module.deflist in TLLVMMachineCodePlaygroundAssembler.WriteImports
    
    git-svn-id: trunk@48985 -

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit f7dd8755ccd15cd31e30863a62b0214249eb2907
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 15 18:06:44 2021 +0000

    + introduced TFPList.IndexOfItem and TFPObjectList.IndexOfItem, which are like
      IndexOf, but can also search backwards. The same method already exists in
      FPC's classes unit.
    
    git-svn-id: trunk@48984 -

M	compiler/cclasses.pas

******************************************************************************
commit a70feeca7e984ee20d6e36298bca6a59db539ca8
Author: pierre <pierre@freepascal.org>
Date:   Mon Mar 15 15:39:30 2021 +0000

     Add sinclairql/Makefile
    
    git-svn-id: trunk@48981 -

M	.gitattributes
A	rtl/sinclairql/Makefile

******************************************************************************
commit a7de0b365b9d10dac141f7a7b8889e92e12370fb
Author: pierre <pierre@freepascal.org>
Date:   Mon Mar 15 13:25:59 2021 +0000

     Avoid invalid typecast error when using -CR option
    
    git-svn-id: trunk@48978 -

M	compiler/htypechk.pas

******************************************************************************
commit 85fa313e597796aa2035f39504c467078f51110a
Author: pierre <pierre@freepascal.org>
Date:   Mon Mar 15 13:24:27 2021 +0000

     Use uvalue field to get unsigned and avoid range check or overflow errors
    
    git-svn-id: trunk@48977 -

M	compiler/x86/nx86mat.pas

******************************************************************************
commit 77f3acdf76d54e924dbb77682eb9352b5626f88e
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 23:17:44 2021 +0000

    * the TFPList.List property made protected in order to discourage using it
      directly, as this circumvents range checking
    
    git-svn-id: trunk@48976 -

M	compiler/cclasses.pas

******************************************************************************
commit 649bfecf62a644bf0ae1f79c79af5639a9a07414
Author: florian <florian@freepascal.org>
Date:   Sun Mar 14 21:34:51 2021 +0000

      + compiled C object files, generated by riscv32-unknown-linux-gnu-gcc (GCC) 10.2.0 with -O3
    
    git-svn-id: trunk@48973 -

M	.gitattributes
A	tests/test/cg/obj/linux/riscv32/cpptcl1.o
A	tests/test/cg/obj/linux/riscv32/cpptcl2.o
A	tests/test/cg/obj/linux/riscv32/ctest.o
A	tests/test/cg/obj/linux/riscv32/tcext3.o
A	tests/test/cg/obj/linux/riscv32/tcext4.o
A	tests/test/cg/obj/linux/riscv32/tcext5.o
A	tests/test/cg/obj/linux/riscv32/tcext6.o

******************************************************************************
commit 76c61c3aac50074a8c380304cebbff6fb1f75803
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 16:56:16 2021 +0000

    * call inherited inside twasminnode.checkgenjumps in order to initialize use_small
    
    git-svn-id: trunk@48971 -

M	compiler/wasm32/nwasmset.pas

******************************************************************************
commit 03d353c1f5203640f225f84930fafc8787372b66
Author: florian <florian@freepascal.org>
Date:   Sun Mar 14 16:41:34 2021 +0000

      - cosmetics: superfluous newlines removed
    
    git-svn-id: trunk@48970 -

M	compiler/riscv32/cgcpu.pas

******************************************************************************
commit d1881d09519768a8b2fac9ae78bdebaf49ac7f83
Author: florian <florian@freepascal.org>
Date:   Sun Mar 14 16:40:14 2021 +0000

      * RiscV: integer type conversions fixed
    
    git-svn-id: trunk@48969 -

M	compiler/riscv32/cgcpu.pas

******************************************************************************
commit f5389cbc2884d9d3a77026ae159f86855c7dae38
Author: michael <michael@freepascal.org>
Date:   Sun Mar 14 15:31:52 2021 +0000

    * test for bin2hex
    
    git-svn-id: trunk@48968 -

M	.gitattributes
A	tests/test/units/strutils/tbin2hex.pp

******************************************************************************
commit f0aed5d3550243ac70ed646934ee209d9686391a
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 15:06:13 2021 +0000

    * fixed another WebAssembly compilation error with -CR
    
    git-svn-id: trunk@48966 -

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 74854eee5848c1ab60da7b6da92a800382552553
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 15:03:58 2021 +0000

    * fixed WebAssembly compilation error with -CR
    
    git-svn-id: trunk@48964 -

M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/symcpu.pas

******************************************************************************
commit d399df83ba9478ed63150abb045fb2db9fb2a186
Author: florian <florian@freepascal.org>
Date:   Sun Mar 14 13:34:30 2021 +0000

      * RiscV32: fpc_longjmp needs nostackframe directive
      * RiscV: unified procedure directives of fpc_*jmp
    
    git-svn-id: trunk@48961 -

M	rtl/riscv32/setjump.inc
M	rtl/riscv64/setjump.inc

******************************************************************************
commit 9ccdf2b3bf4a4da9d61cb657c1800fbfe3e8ecba
Author: florian <florian@freepascal.org>
Date:   Sun Mar 14 10:29:23 2021 +0000

      * RiscV: unified itcpugas.pas
    
    git-svn-id: trunk@48960 -

M	.gitattributes
R095	compiler/riscv64/itcpugas.pas	compiler/riscv/itcpugas.pas
D	compiler/riscv32/itcpugas.pas

******************************************************************************
commit 9775a13e0263f14cd74692b3df566752c8de16c1
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 14 09:10:29 2021 +0000

     Rough fix for riscv32 failure
    
    git-svn-id: trunk@48959 -

M	compiler/riscv/cgrv.pas
M	compiler/riscv32/cpubase.pas
M	compiler/riscv32/itcpugas.pas

******************************************************************************
commit a9f4c8a16b904ad483b802f4507a392d314faf42
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 02:53:41 2021 +0000

    * compilation on Windows fixed
    
    git-svn-id: trunk@48958 -

M	rtl/inc/wstringh.inc

******************************************************************************
commit 445ca8b995c14e9143c771836813cb8d0a4a17be
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 00:53:41 2021 +0000

    * update revision.inc
    
    git-svn-id: trunk@48957 -

M	utils/fpcm/revision.inc

******************************************************************************
commit fc32428639cf7761c5d3f1c73afb44921d6be014
Merge: 62ea31f255 6ac633e594
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 00:48:18 2021 +0000

    * merged the wasm branch. Adds support for the wasm32 (WebAssembly 32-bit)
      target.
    
    git-svn-id: trunk@48955 -

MM	.gitattributes

******************************************************************************
commit 62ea31f255cf83b7037e4d56c6a6f4e184d26084
Author: florian <florian@freepascal.org>
Date:   Sat Mar 13 16:33:31 2021 +0000

      * riscv64-linux: generate PIC for all units as it is required for shared libraries
    
    git-svn-id: trunk@48948 -

M	Makefile
M	compiler/systems/i_linux.pas
M	rtl/Makefile
M	rtl/linux/Makefile
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit e047e7db91918a6356b18e5a76eed56aff2db155
Author: florian <florian@freepascal.org>
Date:   Sat Mar 13 16:18:00 2021 +0000

      + RiscV: initial support of pic generation
    
    git-svn-id: trunk@48947 -

M	compiler/cgbase.pas
M	compiler/riscv/aasmcpu.pas
M	compiler/riscv/agrvgas.pas
M	compiler/riscv/cgrv.pas
M	compiler/riscv64/cpubase.pas
M	compiler/riscv64/itcpugas.pas

******************************************************************************
commit 1e5cbfe546555493b7ff115a326b2722e0c5c978
Author: florian <florian@freepascal.org>
Date:   Fri Mar 12 21:59:18 2021 +0000

      * RiscV: if shared libraries are involved, we have to link always against the crt*S.o variants
    
    git-svn-id: trunk@48946 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit a399627aee3c1696a6d34d2005f6577c77f3cefd
Author: florian <florian@freepascal.org>
Date:   Fri Mar 12 21:27:51 2021 +0000

      + RiscV: initial implementation of gprof support
      * cleanup
    
    git-svn-id: trunk@48945 -

M	.gitattributes
M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
M	rtl/linux/riscv64/si_c.inc
A	rtl/linux/riscv64/si_g.inc

******************************************************************************
commit 5821143387d15b370508efafef84fc12f6d26f80
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Mar 12 19:42:15 2021 +0000

    AmigaOS4: added missing varargs function
    
    git-svn-id: trunk@48944 -

M	packages/os4units/src/cybergraphics.pas

******************************************************************************
commit 61a4eaa30212cd6fac0f6e955e3c449981ca191e
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Mar 12 19:20:47 2021 +0000

    Amiga: removal of includes not in use anymore
    
    git-svn-id: trunk@48943 -

M	.gitattributes
M	packages/amunits/src/otherlibs/ahi_sub.pas
M	packages/amunits/src/otherlibs/amarquee.pas
M	packages/amunits/src/otherlibs/cybergraphics.pas
D	packages/amunits/src/useamigasmartlink.inc
D	packages/amunits/src/useautoopenlib.inc
M	packages/amunits/src/utilunits/amigautils.pas
M	packages/amunits/src/utilunits/consoleio.pas
M	packages/amunits/src/utilunits/doublebuffer.pas
M	packages/amunits/src/utilunits/easyasl.pas
M	packages/amunits/src/utilunits/hisoft.pas
M	packages/amunits/src/utilunits/linklist.pas
M	packages/amunits/src/utilunits/pastoc.pas
M	packages/amunits/src/utilunits/timerutils.pas
M	packages/amunits/src/utilunits/vartags.pas
M	packages/amunits/src/utilunits/wbargs.pas

******************************************************************************
commit 8b84ef9f4b7f66c9ff85afcec81082d7b481133c
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Mar 12 18:55:25 2021 +0000

    AROS: AGraphics, removal of AROS defines, the unit is only for AROS
    
    git-svn-id: trunk@48942 -

M	packages/arosunits/src/agraphics.pas

******************************************************************************
commit a04cd9b9ce7a0dad694fd8bc7fbf51354c4fbb21
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Mar 12 18:48:08 2021 +0000

    Aros: Layers unit updated with AROS specific extensions
    
    git-svn-id: trunk@48941 -

M	packages/arosunits/src/layers.pas

******************************************************************************
commit e8fbe6696b453d9a0c299e68e10386c51b0f0188
Author: pierre <pierre@freepascal.org>
Date:   Fri Mar 12 13:23:41 2021 +0000

     Update Makefile's after commits 48929/48930
    
    git-svn-id: trunk@48940 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/ggi/Makefile
M	packages/gmp/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk2/Makefile
M	packages/hash/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd22/Makefile
M	packages/httpd24/Makefile
M	packages/ibase/Makefile
M	packages/iconvenc/Makefile
M	packages/ide/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libogcfpc/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/ncurses/Makefile
M	packages/newt/Makefile
M	packages/numlib/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengles/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/os2units/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/rexx/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/symbolic/Makefile
M	packages/syslog/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/utmp/Makefile
M	packages/uuid/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/dxegen/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 3c436779521e71c2cd5828508206e25e82be60ec
Author: florian <florian@freepascal.org>
Date:   Thu Mar 11 21:55:41 2021 +0000

      * re-build c objects with a fixed C compiler regarding floating point parameter passing: riscv64-linux-gnu-gcc (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0 with -O3
    
    git-svn-id: trunk@48939 -

M	tests/test/cg/obj/linux/riscv64/cpptcl1.o
M	tests/test/cg/obj/linux/riscv64/cpptcl2.o
M	tests/test/cg/obj/linux/riscv64/ctest.o
M	tests/test/cg/obj/linux/riscv64/tcext3.o
M	tests/test/cg/obj/linux/riscv64/tcext4.o
M	tests/test/cg/obj/linux/riscv64/tcext5.o
M	tests/test/cg/obj/linux/riscv64/tcext6.o

******************************************************************************
commit 3ac178f519ecb990b425b5bfcc65467f55ef7d0f
Author: florian <florian@freepascal.org>
Date:   Thu Mar 11 21:10:04 2021 +0000

      * RiscV: corrected setup of gp
    
    git-svn-id: trunk@48938 -

M	rtl/linux/riscv64/si_c.inc

******************************************************************************
commit 577e584c771de341a03c62bc93f1ed2fcda3e2de
Author: florian <florian@freepascal.org>
Date:   Wed Mar 10 20:55:37 2021 +0000

      * RiscV: basic CFI stuff fixed
    
    git-svn-id: trunk@48937 -

M	compiler/cfidwarf.pas
M	compiler/systems/i_linux.pas

******************************************************************************
commit 8fa04a0cee8de2d8f6d1c5a72090b4f9a0a44698
Author: florian <florian@freepascal.org>
Date:   Wed Mar 10 20:33:49 2021 +0000

      * finished -ix output
    
    git-svn-id: trunk@48936 -

M	compiler/options.pas

******************************************************************************
commit dc3bb933ee23dfcd7a4090e043d39c2afbf96e35
Author: pierre <pierre@freepascal.org>
Date:   Tue Mar 9 23:14:29 2021 +0000

    Update revision after commit #48929
    
    git-svn-id: trunk@48930 -

M	utils/fpcm/Makefile
M	utils/fpcm/revision.inc

******************************************************************************
commit 96acda5ac9d49ca3e574aedf3a3b288e66d7bdbf
Author: pierre <pierre@freepascal.org>
Date:   Tue Mar 9 23:12:17 2021 +0000

    Add special gcc options for riscv32/riscv64 gcc calls
    
    git-svn-id: trunk@48929 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit b7fe338bbee54f18f2ed4e7bb44883972a5e2fbc
Author: florian <florian@freepascal.org>
Date:   Tue Mar 9 21:07:51 2021 +0000

      * mips and xtensa compilation fixed
    
    git-svn-id: trunk@48928 -

M	rtl/unix/cthreads.pp

******************************************************************************
commit bb97c5ab693b170a31bb7844d2bcff1e809da1f0
Author: florian <florian@freepascal.org>
Date:   Mon Mar 8 22:07:07 2021 +0000

      + RiscV: set threadvarblocksize
      * sanity check if threadvarblocksize is really set
    
    git-svn-id: trunk@48925 -

M	rtl/unix/cthreads.pp

******************************************************************************
commit c603477ec4c19a62a35e5ca3036705ffe565a1dc
Author: florian <florian@freepascal.org>
Date:   Mon Mar 8 17:12:19 2021 +0000

      * fix test for RiscV
    
    git-svn-id: trunk@48914 -

M	tests/webtbs/tw2242.pp

******************************************************************************
commit 813cf7b45ec3dc7c0b5c4e3fc681ac9026fb56b6
Author: florian <florian@freepascal.org>
Date:   Sun Mar 7 22:28:18 2021 +0000

      o RiscV64 glibc startup code fixed:
        * there is no _init/_fini, call libc_csu_* instead
        * fix loading of global_pointer
    
    git-svn-id: trunk@48904 -

M	rtl/linux/riscv64/si_c.inc

******************************************************************************
commit 4be5f07f276e2f8c9080a05f7c297fc9d578b5d5
Author: florian <florian@freepascal.org>
Date:   Sun Mar 7 22:28:17 2021 +0000

      + support for .dc.a directive
      * read multiple section flags
    
    git-svn-id: trunk@48903 -

M	compiler/raatt.pas

******************************************************************************
commit 5149e58525a560334f4ac1b1064887939769f63c
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Mar 7 21:00:01 2021 +0000

    morphos: new functions and structures from current SDK 3.16
    
    git-svn-id: trunk@48902 -

M	packages/morphunits/src/amigados.pas
M	packages/morphunits/src/asl.pas
M	packages/morphunits/src/exec.pas
M	packages/morphunits/src/intuition.pas
M	packages/morphunits/src/locale.pas
M	packages/morphunits/src/workbench.pas

******************************************************************************
commit b0772ae749bd1c8073b7638d0d511caa54fb5078
Author: florian <florian@freepascal.org>
Date:   Sun Mar 7 14:11:09 2021 +0000

      + initial (and so far experimental) implementation of -ix to output -i in xml format for further automated processing
    
    git-svn-id: trunk@48897 -

M	compiler/options.pas

******************************************************************************
commit 6166084f08a6ca4141a846c45b4e07708539a9d7
Author: florian <florian@freepascal.org>
Date:   Sun Mar 7 09:16:10 2021 +0000

      + new test
    
    git-svn-id: trunk@48895 -

M	.gitattributes
A	tests/test/cg/taddbyte.pp

******************************************************************************
commit d1fb44044f4711db2430d267ab8c884d242cb13e
Author: florian <florian@freepascal.org>
Date:   Sun Mar 7 08:53:03 2021 +0000

      * unified RiscV32 and RiscV64 GAS readers
    
    git-svn-id: trunk@48894 -

M	.gitattributes
R100	compiler/riscv64/rarv.pas	compiler/riscv/rarv.pas
M	compiler/riscv/rarvgas.pas
M	compiler/riscv32/cputarg.pas
D	compiler/riscv32/rarv32.pas
D	compiler/riscv32/rarv32gas.pas
M	compiler/riscv64/cputarg.pas
D	compiler/riscv64/rarv64gas.pas

******************************************************************************
commit 8735d09894a9162ff2e4d73181f8c2748bef6b6c
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 22:19:30 2021 +0000

      + RiscV32: setjmp/longjmp implementation, based on the RiscV64 one
    
    git-svn-id: trunk@48893 -

M	rtl/riscv32/setjump.inc
M	rtl/riscv32/setjumph.inc

******************************************************************************
commit 6f3fccddd1ac5b363a3e02657cf838b87d741a40
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 22:19:00 2021 +0000

      * RiscV32: properly read references with record offsets and base register
      + RiscV32: sanity check in assembler writer
    
    git-svn-id: trunk@48892 -

M	compiler/riscv/agrvgas.pas
M	compiler/riscv32/rarv32gas.pas

******************************************************************************
commit f620f61d3b0ca68f601c3b76d9e5335fe0a77ae5
Author: pierre <pierre@freepascal.org>
Date:   Sat Mar 6 22:06:23 2021 +0000

     Update to objects compiled using GNU gcc 5.5.0 for sparc-solaris
    
    git-svn-id: trunk@48891 -

M	tests/test/cg/obj/readme.txt
M	tests/test/cg/obj/solaris/sparc/cpptcl1.o
M	tests/test/cg/obj/solaris/sparc/cpptcl2.o
M	tests/test/cg/obj/solaris/sparc/ctest.o
M	tests/test/cg/obj/solaris/sparc/tcext3.o
M	tests/test/cg/obj/solaris/sparc/tcext4.o
M	tests/test/cg/obj/solaris/sparc/tcext5.o
M	tests/test/cg/obj/solaris/sparc/tcext6.o

******************************************************************************
commit 81402bb077acdaad13e50dd6e093e886e8de3ad8
Author: pierre <pierre@freepascal.org>
Date:   Sat Mar 6 22:00:30 2021 +0000

      * Improve DEBUG_PPU code
      * Move flog file closing from closefile method to destroy destructor.
      * Fix write_data output into flog
    
    git-svn-id: trunk@48890 -

M	compiler/entfile.pas

******************************************************************************
commit d7a45c646e8e557dde5917cb7ca1451d8c502fb5
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sat Mar 6 20:18:40 2021 +0000

    AmigaOS4: renamed reserved name "class" as field name
    
    git-svn-id: trunk@48888 -

M	packages/os4units/src/intuition.pas

******************************************************************************
commit ba0f08018f7980cb7ce02190e4586370ce070251
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 15:16:29 2021 +0000

      * fix test so it really uses random values for the boolean, thanks Jonas for the hint!
    
    git-svn-id: trunk@48887 -

M	tests/test/tandorandnot1.pp

******************************************************************************
commit 83ce289ea4f738bc0599fedb7fe153e804d1ea42
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 15:03:33 2021 +0000

      * last commit fixed, hopefully final fix
    
    git-svn-id: trunk@48886 -

M	compiler/nadd.pas

******************************************************************************
commit f4486039704b5ee3ae17e74e3a537b51fddb44f7
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 14:55:50 2021 +0000

      * improved last commit, better handling of boolean expressions
    
    git-svn-id: trunk@48885 -

M	compiler/nadd.pas

******************************************************************************
commit 62bd0068b65cb0fe8b553d08fa4a667276b40625
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 14:48:15 2021 +0000

      * do not apply the (a and b) or (c and not(b)) into c xor ((c xor a) and b) optimziation if short boolean evaluation is used, should resolve #38576
      * improved test
    
    git-svn-id: trunk@48884 -

M	compiler/nadd.pas
M	tests/test/tandorandnot1.pp

******************************************************************************
commit c15bb07bf60ec1b6d14ee4954ab67dce787e1e79
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 14:23:54 2021 +0000

      * do not generate mul instructions if the mul extension is not available
    
    git-svn-id: trunk@48883 -

M	compiler/riscv/cgrv.pas
M	compiler/riscv/nrvadd.pas

******************************************************************************
commit 3dd6272891f18c415998e167f55b53c00354c8dd
Author: pierre <pierre@freepascal.org>
Date:   Sat Mar 6 10:42:50 2021 +0000

     Add new make rule named full_targets
    
    git-svn-id: trunk@48882 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 6b9a3bf28333ddf87a1af3182eaebfd5d977f2d9
Author: florian <florian@freepascal.org>
Date:   Fri Mar 5 21:48:22 2021 +0000

      + new RiscV32 SUBARCH rv32i
    
    git-svn-id: trunk@48881 -

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc

******************************************************************************
commit 913bd009e9cef31344cee42d9351fa25dac3724e
Author: florian <florian@freepascal.org>
Date:   Thu Mar 4 21:35:13 2021 +0000

      * patch by J. Gareth Moreton: take care of -Os for SubMov2*, part of #38579
    
    git-svn-id: trunk@48878 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 01a351f804430a1c8ed701bbb945736c3750b88f
Author: pierre <pierre@freepascal.org>
Date:   Wed Mar 3 22:15:20 2021 +0000

      Fix for bug report 38549 about wrong code generation
      for mips/mipsel and riscv32/riscv64 CPUs for
      set operators '<=' and '>='.
      New tests for this bug report.
      tw38549.pp, main source, also included
      by tw38549a.pp, tw38549b.pp, tw38459c.pp and tw38459d.pp
      with explicit {$packset X}, with X=1,2,4, or 8 added.
    
    git-svn-id: trunk@48874 -

M	.gitattributes
M	compiler/mips/ncpuadd.pas
M	compiler/riscv/nrvadd.pas
A	tests/webtbs/tw38549.pp
A	tests/webtbs/tw38549a.pp
A	tests/webtbs/tw38549b.pp
A	tests/webtbs/tw38549c.pp
A	tests/webtbs/tw38549d.pp

******************************************************************************
commit 01937c4630f20652dee29b92dfbb2ab3d58cee8d
Author: florian <florian@freepascal.org>
Date:   Tue Mar 2 21:27:43 2021 +0000

      * patch by J. Gareth Moreton: SubMov2LeaSub optimisation improvement, resolves #38555
    
    git-svn-id: trunk@48871 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 893cf511bc5240d230c70c233c4cf768ac308c59
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Mar 2 08:06:05 2021 +0000

    * fix casing of "VAr", no code changes
    
    git-svn-id: trunk@48862 -

M	rtl/objpas/sysutils/fina.inc

******************************************************************************
commit 8ffa01e95fec30fbec3961b0df8080020e5b71ac
Author: florian <florian@freepascal.org>
Date:   Mon Mar 1 20:39:57 2021 +0000

      * patch by J. Gareth Moreton: MOV/SHR reference optimisation, resolves #38560
    
    git-svn-id: trunk@48857 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 316f2429f02f3f4ceb1d1fdbd857df0c500ee5b1
Author: florian <florian@freepascal.org>
Date:   Mon Mar 1 20:21:42 2021 +0000

      * do not omit location_force_reg on second operand of sar/ro* if
        it is used to adapt the size of the operand
    
    git-svn-id: trunk@48855 -

M	compiler/ncginl.pas

******************************************************************************
commit 01178532e5ce1180f56697fe7d22e907d1afee11
Author: florian <florian@freepascal.org>
Date:   Sun Feb 28 22:11:05 2021 +0000

      * sar*/ro* do not call location_force_reg if not needed
    
    git-svn-id: trunk@48844 -

M	compiler/ncginl.pas

******************************************************************************
commit fb6867963fcc3e2e1c7a9e4e5b26d1dc4c1723dc
Author: florian <florian@freepascal.org>
Date:   Sun Feb 28 21:58:32 2021 +0000

      * write execution time more precisely
    
    git-svn-id: trunk@48843 -

M	packages/hash/examples/sha1performancetest.pas

******************************************************************************
commit e0a1bc66750d810d57af27e21139203bfc2f3125
Author: florian <florian@freepascal.org>
Date:   Sun Feb 28 18:20:46 2021 +0000

      + optimize (a and b) or (c and not(b)) into c xor ((c xor a) and b)
      + test
    
    git-svn-id: trunk@48841 -

M	.gitattributes
M	compiler/nadd.pas
M	compiler/nutils.pas
A	tests/test/tandorandnot1.pp

******************************************************************************
commit 272a0e3e267eb40a3c3e1a0cfaab9d2656792331
Author: florian <florian@freepascal.org>
Date:   Sun Feb 28 10:52:11 2021 +0000

      + apply excess precision also to unary minus nodes
      * made excess precision really working
    
    git-svn-id: trunk@48840 -

M	compiler/nadd.pas
M	compiler/nmat.pas

******************************************************************************
commit 8602a29383f7e2b9e1c97c87bf2afa5ce276f9a3
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun Feb 28 10:29:59 2021 +0000

      * align shortname to previous releases
    
    git-svn-id: trunk@48839 -

M	utils/json2pas/fpmake.pp

******************************************************************************
commit 0aae9dd37549cf1016e50e74a3169df7fba0db04
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun Feb 28 10:27:51 2021 +0000

      * make shortname really short
    
    git-svn-id: trunk@48838 -

M	packages/tplylib/fpmake.pp

******************************************************************************
commit fe57cd353657f96ea5846d9f2575811e1456ec6d
Author: florian <florian@freepascal.org>
Date:   Sat Feb 27 22:07:58 2021 +0000

      * fix LLVM after r48828
      * global gotos really use the return type of fpc_setjmp to test where we come from
    
    git-svn-id: trunk@48835 -

M	compiler/cgexcept.pas
M	compiler/llvm/llvmpi.pas
M	compiler/ncgflw.pas
M	compiler/psabiehpi.pas
M	compiler/psub.pas
M	compiler/symdef.pas

******************************************************************************
commit 9c831677ff1f6d00592d7bea91a3fdb6d65e0aea
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 27 21:44:53 2021 +0000

      * support Objective-C classes and protocols with -gw3 (mantis #36250)
    
    git-svn-id: trunk@48834 -

M	.gitattributes
M	compiler/dbgdwarf.pas
A	tests/webtbs/tw36250.pp

******************************************************************************
commit 803779002d5bdfae8960d95520a4e5e5107f61fd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 27 19:30:37 2021 +0000

      * the new constant string arraydefs are also implicit pointers types for JVM
    
    git-svn-id: trunk@48833 -

M	compiler/defutil.pas
M	compiler/jvm/jvmdef.pas

******************************************************************************
commit ab0531f0ce5b02a4a91430a979f025a4684e2245
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 27 19:30:34 2021 +0000

      * fixed JVM stack height calculation after calls returning an
        implicit pointer tpe
    
    git-svn-id: trunk@48832 -

M	compiler/jvm/hlcgcpu.pas

******************************************************************************
commit 4c2e0b9ff0ce9c285f1aedeef6a7146c81a55d0b
Author: florian <florian@freepascal.org>
Date:   Sat Feb 27 16:47:36 2021 +0000

      * for setjmp based exception handling, get the type of the exception reason from the setjmp result
    
    git-svn-id: trunk@48828 -

M	compiler/cgexcept.pas
M	compiler/ncgflw.pas
M	compiler/psub.pas
M	compiler/symdef.pas

******************************************************************************
commit 58171b4308cc2c7825fbd0d33f84c1b67345ee0d
Author: pierre <pierre@freepascal.org>
Date:   Fri Feb 26 23:39:14 2021 +0000

     Extend list of CPUs defining slowcpu conditional in tmt1 and tw8177 sources
    
    git-svn-id: trunk@48816 -

M	tests/test/tmt1.pp
M	tests/webtbs/tw8177.pp

******************************************************************************
commit 2932787dee07a24703a24e165ee44973f6839ac1
Author: florian <florian@freepascal.org>
Date:   Fri Feb 26 22:47:06 2021 +0000

      * use SizeInt for counters in math unit, all non-32 bit targets should benefit from this
    
    git-svn-id: trunk@48815 -

M	rtl/objpas/math.pp

******************************************************************************
commit 8d0ef71e37e6a59066547ebb898b17ca21e3b601
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Feb 26 10:57:05 2021 +0000

    m68k-linux: revert maxCrecordalign to 2, as an experiment to fix some linking-against-C regressions since the alignment changes
    
    git-svn-id: trunk@48809 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit c6443809bae23d8f0a519b4b3da501858a2f50c8
Author: florian <florian@freepascal.org>
Date:   Thu Feb 25 22:07:40 2021 +0000

      + SETcc/Mov -> SETcc optimization
    
    git-svn-id: trunk@48808 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 857cbddf04ae8d54abca518b94792e30ee481042
Author: florian <florian@freepascal.org>
Date:   Wed Feb 24 21:10:05 2021 +0000

      * applied patch by Pierre to fix make cycle -Cr
    
    git-svn-id: trunk@48806 -

M	compiler/symdef.pas

******************************************************************************
commit 53d847f26831a212e928d4970a1f2373df60db76
Author: marcus <marcus@idefix.freepascal.org>
Date:   Wed Feb 24 19:00:58 2021 +0000

    Amiga, AROS, MorphOS: Prevent crash when access socket without TCP/IP Stack running
    
    git-svn-id: trunk@48805 -

M	packages/fcl-net/src/amiga/resolve.inc
M	packages/fcl-net/src/aros/resolve.inc
M	packages/rtl-extra/src/amiga/sockets.pp
M	packages/rtl-extra/src/aros/sockets.pp

******************************************************************************
commit cfa3f4fa8c3a23fe72849a14532d02cf8bfe7730
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Feb 24 15:40:22 2021 +0000

      + added b.cc/b.cs support to AArch64 assembler reader (mantis #38485)
    
    git-svn-id: trunk@48803 -

M	compiler/aarch64/racpugas.pas

******************************************************************************
commit 236bef961c21611f2969259c8c8fdec54364a225
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 24 12:58:04 2021 +0000

      Patch by Gareth Moreton
      * Fix lea optimizations which lead to more failures with -O3 and -O4 options.
    
     - LeaLea2Lea now checks to see if the index register is in use.
     - For both the base and index registers, RegUsedBetween is changed to
     RegModifiedBetween, since just reading the register is harmless for the
     optimisation (it finds additional optimisations in the RTL as a result).
     - Because I saw the mis-optimisation with MOVZX that occurred (even
     though it was due to the mis-optimisation of LEA instructions), I wrote
     some extra code in OptPass2Movx as a safety measure to ensure this
     doesn't happen (although no additional instances of it happening have
     been noted so far - best be safe than sorry).
    
    git-svn-id: trunk@48802 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e2386ae876c8f9a0772be80ff7711499ca4d721e
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 24 10:40:15 2021 +0000

      * Remove obsolete -OG2p3 option for extcycle
      + Add extoptcycle to cycle compiler with both -dEXTDEBUG and -dDEBUG_ALL_OPT
    
    git-svn-id: trunk@48801 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 0216f778193aa057395c3632482e751402a21048
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Feb 24 09:20:04 2021 +0000

    m68k: adjusted some max alignment values for m68k-linux based on i386-linux, because the ELF loader on m68k should be able to provide the same alignments for globals
    
    git-svn-id: trunk@48799 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit 2703b36fe16907fb9fbbbeaa8d497e17eb13b4b3
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Feb 24 09:10:40 2021 +0000

    m68k: removed some helper function which was added, but in the end it never saw any use
    
    git-svn-id: trunk@48798 -

M	compiler/m68k/n68kmem.pas

******************************************************************************
commit f85d7d25912e308b7d77acb246f77633141d6266
Author: pierre <pierre@freepascal.org>
Date:   Tue Feb 23 22:04:18 2021 +0000

     Fix tw28713 for big endian CPUs
    
    git-svn-id: trunk@48795 -

M	tests/webtbs/tw28713.pp

******************************************************************************
commit 5afa26ddd1e80d78959af421ff64edf756e5ab13
Author: florian <florian@freepascal.org>
Date:   Tue Feb 23 20:39:25 2021 +0000

    * fix compilation for CPUs without thumb
    
    git-svn-id: trunk@48794 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 2cd695120564fd22f063cefeddc882523a86fd69
Author: pierre <pierre@freepascal.org>
Date:   Mon Feb 22 23:15:31 2021 +0000

      Apply patch proposed by J. Gareth Moreton in bug report #0038527
    
      The patch reworks the LeaLea2Lea optimisation and hopefully fixes the bug (admittedly by adding a brand new optimisation!).
    
    git-svn-id: trunk@48792 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw38527.pp

******************************************************************************
commit cefa05c8b1749d9f5b3d322f93eca52a13ae42ba
Author: florian <florian@freepascal.org>
Date:   Mon Feb 22 20:39:12 2021 +0000

      * correctly allocate edx for mulx, resolves #38533
    
    git-svn-id: trunk@48791 -

M	compiler/i386/n386add.pas

******************************************************************************
commit 0ca1e2fb424c67f6c6b02eda1dd1ff22773af2aa
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Feb 21 23:00:41 2021 +0000

    * attempt to fix bitpacked records with qwords in them (tw36156) when cross-compiling to big endian targets from x86. essentially the x86 shifting workarounds in the code already weren't covering all corner cases.
    
    git-svn-id: trunk@48773 -

M	compiler/ngtcon.pas

******************************************************************************
commit 6beb28316e004311744aaa46f047f7048b989889
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 21 21:41:09 2021 +0000

      * Darwin targets that don't support link order sym files can't smart link
        vectorized sections
    
    git-svn-id: trunk@48765 -

M	compiler/aasmcnst.pas

******************************************************************************
commit 5a26c582852c9e6486bfeaa164158a9521eb45b9
Author: florian <florian@freepascal.org>
Date:   Sun Feb 21 21:29:40 2021 +0000

      * allow in-operator to be used on type parameters, resolves #38497
    
    git-svn-id: trunk@48763 -

M	.gitattributes
M	compiler/nset.pas
A	tests/webtbs/tw38497.pp

******************************************************************************
commit c7f4be71dc1048ed4364609f838bb5e79e372088
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Feb 21 19:15:52 2021 +0000

    * correctly set the defowner of the exception symtable to the surrounding routine as suggested by Blaise.ru
    
    git-svn-id: trunk@48760 -

M	compiler/pstatmnt.pas

******************************************************************************
commit 60c8b71bae73cec85e5bde74239f2bc057f264a8
Author: florian <florian@freepascal.org>
Date:   Sun Feb 21 18:46:00 2021 +0000

      * string constants have a size of 0, resolves #38504
    
    git-svn-id: trunk@48759 -

M	.gitattributes
M	compiler/ncon.pas
M	packages/fcl-db/src/export/fpxmlxsdexport.pp
A	tests/webtbf/tw38504.pp
A	tests/webtbf/tw38504b.pp

******************************************************************************
commit 34f7c3e6d40e1702c5b9008ab852e5fe23cee7a2
Author: florian <florian@freepascal.org>
Date:   Sun Feb 21 18:45:58 2021 +0000

      + array defs. of open arrays are now marked by ado_OpenArray, so (internally!) zero sized array can be declared with 0..-1
    
    git-svn-id: trunk@48758 -

M	compiler/defutil.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit f333fb08ec41d4886a8dc9a35479bcdcc08f3b78
Author: florian <florian@freepascal.org>
Date:   Sun Feb 21 18:04:12 2021 +0000

      * patch by Alfred to fix cutils.CompareVersionStrings, resolves #38514
    
    git-svn-id: trunk@48757 -

M	compiler/cutils.pas

******************************************************************************
commit 71887b902b76261ed14f8cdab37723f585c89125
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 17:43:42 2021 +0000

    + added unit EastAsianWidth, which contains the EastAsianWidth unicode data property
    
    git-svn-id: trunk@48755 -

M	.gitattributes
M	packages/rtl-unicode/fpmake.pp
A	packages/rtl-unicode/src/inc/eastasianwidth.pp
A	packages/rtl-unicode/src/inc/eastasianwidth_code.inc

******************************************************************************
commit 0c22ee86781c2aae8457bddae8b88fbfc38b6cfb
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 17:21:13 2021 +0000

    + added an eawparser tool - tool for parsing the EastAsianWidth.txt unicode
      property table and converting it to code
    
    git-svn-id: trunk@48754 -

M	.gitattributes
A	utils/unicode/eawparser.lpi
A	utils/unicode/eawparser.lpr
M	utils/unicode/fpmake.pp

******************************************************************************
commit 99f3a03386df8edd37c2eba09898d39a23314c94
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 16:23:41 2021 +0000

    - excluded embedded,zxspectrum,msxdos,amstradcpc from the targets that compile GraphemeBreakProperty
    
    git-svn-id: trunk@48753 -

M	packages/rtl-unicode/fpmake.pp

******************************************************************************
commit 3d0eac3ee60b948487d491fe851e2eb981c59bcf
Author: florian <florian@freepascal.org>
Date:   Sun Feb 21 09:02:29 2021 +0000

      * patch by Michael Ring: remove lm4f120 from armv7m as it is armv7em
    
    git-svn-id: trunk@48750 -

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc

******************************************************************************
commit 29b071241818cc4e75ada65bd7eb6fbd08df323e
Author: florian <florian@freepascal.org>
Date:   Sat Feb 20 20:50:04 2021 +0000

      * patch by Michael Ring to fix errors introduced by r48722
    
    git-svn-id: trunk@48734 -

M	rtl/embedded/arm/cortexm4f_start.inc
M	rtl/freertos/arm/cortexm4f_start.inc

******************************************************************************
commit fb5cd1aefd30fcf278f494acf5959cb178dd5c38
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sat Feb 20 18:39:40 2021 +0000

    MorphOS: TProcess implementation supporting async mode and pipes
    
    git-svn-id: trunk@48733 -

M	packages/fcl-process/src/amicommon/pipes.inc
M	packages/fcl-process/src/amicommon/process.inc
M	packages/fcl-process/src/pipes.pp

******************************************************************************
commit 2ffe777b446a42bc98d278288906bb924bb806c3
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Feb 20 11:21:14 2021 +0000

    m68k: extend the the register to full size, when multiplied by an immediate in memory references. Patch based on the work of Pierre Muller.
    
    git-svn-id: trunk@48732 -

M	compiler/m68k/n68kmem.pas

******************************************************************************
commit 8c06529ae21c71b8f9251628d1265ec31c2b0ae2
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 20 01:24:46 2021 +0000

    + added and implemented a TUnicodeStringExtendedGraphemeClustersEnumerator class
      in the graphemebreakproperty unit - an enumerator that splits a UTF-16 string
      into extended grapheme clusters (i.e. user-perceived characters), conforming
      to the Unicode 9.0 algorithm:
      https://www.unicode.org/reports/tr29/tr29-29.html
    
    git-svn-id: trunk@48726 -

M	packages/rtl-unicode/src/inc/graphemebreakproperty.pp

******************************************************************************
commit 4ab485225c97d77ecd8e9bb7d1836d97da0ab461
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 23:39:18 2021 +0000

    + added modified LGPL license header to the new graphemebreakproperty.pp unit
    
    git-svn-id: trunk@48725 -

M	packages/rtl-unicode/src/inc/graphemebreakproperty.pp

******************************************************************************
commit 80bd080293c5e81123da68799d866a28a1dc55e8
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 22:29:12 2021 +0000

    + added unit GraphemeBreakProperty, containing the grapheme break property character data from Unicode 9.0
    
    git-svn-id: trunk@48723 -

M	.gitattributes
M	packages/rtl-unicode/fpmake.pp
A	packages/rtl-unicode/src/inc/graphemebreakproperty.pp
A	packages/rtl-unicode/src/inc/graphemebreakproperty_code.inc

******************************************************************************
commit 12139483933b35388a7fcae02c28a4572174e0f3
Author: florian <florian@freepascal.org>
Date:   Fri Feb 19 21:11:12 2021 +0000

      * (modified) patch by Michael Ring to enable the FPU on Cortex-M4F if available
    
    git-svn-id: trunk@48722 -

M	rtl/embedded/arm/cortexm4f_start.inc
M	rtl/freertos/arm/cortexm4f_start.inc

******************************************************************************
commit 715fb8007f1f7788e8fc2dfe28cff63dd90e6261
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 20:16:09 2021 +0000

    + added the gbpparser tool to fpmake.pp
    
    git-svn-id: trunk@48721 -

M	utils/unicode/fpmake.pp

******************************************************************************
commit 9bc0f62f45d9fb8291d16e760abdd7d60b7199db
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 19:32:10 2021 +0000

    + added tool for parsing GraphemeBreakProperty.txt and converting it to code
    
    git-svn-id: trunk@48720 -

M	.gitattributes
A	utils/unicode/gbpparser.lpi
A	utils/unicode/gbpparser.lpr

******************************************************************************
commit 26253b9e88b568da27460734798b26555ec58eac
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 19:27:55 2021 +0000

    * updated readme with URLs of the Unicode 9.0 and CLDR 30 data files (to the best of my knowledge)
    
    git-svn-id: trunk@48719 -

M	utils/unicode/data/readme.txt

******************************************************************************
commit 5677ef4bdd585b07b2669cc38e3aa519a528a4d6
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 19:24:58 2021 +0000

    * fixed the file name in the cldrparser help screen
    
    git-svn-id: trunk@48718 -

M	utils/unicode/cldrparser.lpr

******************************************************************************
commit 2b73b5bf9a867a8d7b6527835bcd0c9cf657aab6
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 19:24:20 2021 +0000

    * fixed the parse-collations script/bat file
    
    git-svn-id: trunk@48717 -

M	utils/unicode/parse-collations.bat
M	utils/unicode/parse-collations.sh

******************************************************************************
commit ef8d520e8277925f08c06e3b635a54ea80b2dfa7
Author: florian <florian@freepascal.org>
Date:   Thu Feb 18 21:44:12 2021 +0000

      * more cfi support for aarch64
    
    git-svn-id: trunk@48714 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 22ad12d5b7a578f21c9a59345ada3c6ad3f1872e
Author: michael <michael@freepascal.org>
Date:   Thu Feb 18 15:09:04 2021 +0000

    * Fix compilation, additional mysql
    
    git-svn-id: trunk@48710 -

M	packages/fcl-db/tests/sqldbtoolsunit.pas

******************************************************************************
commit 599ba8cc2a1d68bb9dc6dae9600cac6b1847d046
Author: florian <florian@freepascal.org>
Date:   Wed Feb 17 20:43:37 2021 +0000

      + generate initial cfi for aarch64
    
    git-svn-id: trunk@48701 -

M	compiler/aarch64/cpubase.pas
M	compiler/cfidwarf.pas

******************************************************************************
commit acf2567bda4a6fccfe7df3eabf9a2d78e51c508d
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 17 09:46:37 2021 +0000

    Second trial to fix commit 48688
    
    git-svn-id: trunk@48691 -

M	compiler/dbgstabs.pas

******************************************************************************
commit 34fd36f817dcbd2bd6d3d2d3100a29d62c5f573e
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 17 07:09:55 2021 +0000

     Fix previous commit 48688 to avoid accessing 'invalid' positions in sym.value.valueptr
    
    git-svn-id: trunk@48689 -

M	compiler/dbgstabs.pas

******************************************************************************
commit 6a408fe97e037c63350314dbebba5b356334a730
Author: pierre <pierre@freepascal.org>
Date:   Tue Feb 16 23:15:08 2021 +0000

     Avoid writing characters after sym.value.len for conststring constant symbols
    
    git-svn-id: trunk@48688 -

M	compiler/dbgstabs.pas

******************************************************************************
commit 5b29e7a3ecfdc47203c64ee8b26e5db5cba35b60
Author: florian <florian@freepascal.org>
Date:   Tue Feb 16 21:16:54 2021 +0000

      + (safe) heuristics to use DW_CFA_advance_loc1 in CFI
    
    git-svn-id: trunk@48687 -

M	compiler/cfidwarf.pas

******************************************************************************
commit 436a0d3f9ee306b55bb8d0b232587668c8ecf48a
Author: florian <florian@freepascal.org>
Date:   Mon Feb 15 22:26:49 2021 +0000

      * generate advance_loc records only if there was code/data since the last advance_loc entry
    
    git-svn-id: trunk@48686 -

M	compiler/cfidwarf.pas

******************************************************************************
commit 09d6398942ffd3e1b139d72067cc20e8ccd7a400
Author: florian <florian@freepascal.org>
Date:   Mon Feb 15 22:25:18 2021 +0000

      * arm: better cfi
    
    git-svn-id: trunk@48685 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit e694897bb3bdea5f4606946dbad784ba7bf0af1c
Author: florian <florian@freepascal.org>
Date:   Mon Feb 15 21:34:07 2021 +0000

      * initial implementation of CFI support for arm (non-thumb)
    
    git-svn-id: trunk@48684 -

M	compiler/arm/cgcpu.pas
M	compiler/cfidwarf.pas

******************************************************************************
commit a3d68e6839f1803353d6b575f34fc91686ff5088
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 21:26:41 2021 +0000

      * arm thumb: generate proper cfi
    
    git-svn-id: trunk@48678 -

M	compiler/arm/cgcpu.pas
M	compiler/cfidwarf.pas
M	compiler/systems/i_linux.pas

******************************************************************************
commit 44856e660c4ee3931003802128192b2d77415244
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 21:25:36 2021 +0000

      * ARM: NR_RETURN_ADDRESS_REG is R14
    
    git-svn-id: trunk@48677 -

M	compiler/arm/cpubase.pas

******************************************************************************
commit c3fb1e3a658af94ce69f431f739a80522ddcc546
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 21:25:01 2021 +0000

      * initialize current_settings as early as possible so cs_debugswitch is set correctly if needed
    
    git-svn-id: trunk@48676 -

M	compiler/parser.pas

******************************************************************************
commit 0316a7697f9b6c3782abf8c6188df983ca1e9f7d
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 17:52:26 2021 +0000

      * arm thumb1: several fixes for the internal assembler writer
    
    git-svn-id: trunk@48675 -

M	compiler/arm/agarmgas.pas
M	compiler/arm/armins.dat
M	compiler/arm/armtab.inc
M	compiler/arm/cgcpu.pas
M	compiler/arm/narmset.pas
M	compiler/arm/raarm.pas

******************************************************************************
commit 33ce19799b268409d89e0ed8c1598b73728ba970
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 17:15:37 2021 +0000

      * forgotten part of last commit
    
    git-svn-id: trunk@48674 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit f1883c4e617085250b91f579760247865abd01fc
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 15:51:48 2021 +0000

      * arm: taicpu uses set instead of boolean to store instruction states
      + track if an instruction is a thumb instruction in taicpu
    
    git-svn-id: trunk@48673 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/raarm.pas
M	compiler/assemble.pas
M	compiler/sparc/cpuelf.pas

******************************************************************************
commit a4b35d16f2b168c58016334e1f0c54731db2d84d
Author: florian <florian@freepascal.org>
Date:   Sat Feb 13 22:17:35 2021 +0000

      + throw an error if hardware floating point operations are used in thumb(-1) mode, this is not supported
    
    git-svn-id: trunk@48672 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit dda9f83dfe2f4841bf4fdd87aac87b46b0ae833c
Author: florian <florian@freepascal.org>
Date:   Sat Feb 13 22:16:59 2021 +0000

      * factored out tbasecgarm.init_mmregister_allocator
    
    git-svn-id: trunk@48671 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 5e7a512777b6c1ca9aa544fedcf5c28c7f42b87c
Author: florian <florian@freepascal.org>
Date:   Sat Feb 13 21:26:15 2021 +0000

      * arm-linux: sighnd.inc must check for CPUTHUMB and CPUTHUMB2
    
    git-svn-id: trunk@48670 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 87e1dc159d85ad4f56cc8cb3ed3eec71c93cd273
Author: florian <florian@freepascal.org>
Date:   Sat Feb 13 17:04:03 2021 +0000

      * do not mess with FPA registers if they are not available
    
    git-svn-id: trunk@48669 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 50bc387688daa395ec4fb1092400cb53a8d2c10c
Author: florian <florian@freepascal.org>
Date:   Sat Feb 13 14:37:07 2021 +0000

      * handle -Ca (as proposed by Michael Ring) and -Cf in the first option pass as well
    
    git-svn-id: trunk@48668 -

M	compiler/options.pas

******************************************************************************
commit afc80a84cf383fb885ae3366d429a5a0c6ffcd3d
Author: yury <jura@cp-lab.com>
Date:   Fri Feb 12 11:26:37 2021 +0000

    * Fixed r48650.
    
    git-svn-id: trunk@48657 -

M	compiler/ncal.pas

******************************************************************************
commit 7f1aac8bd71488208af65d46e2bd3783d8efe725
Author: florian <florian@freepascal.org>
Date:   Thu Feb 11 21:27:12 2021 +0000

      - armv5 never existed (without extension), removed
    
    git-svn-id: trunk@48652 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cpuinfo.pas

******************************************************************************
commit 1c99c2655e3996df83e847a442e52eec3ae171e5
Author: florian <florian@freepascal.org>
Date:   Thu Feb 11 20:51:53 2021 +0000

      * more helpful message if an unknown field is accessed in the assembler reader, resolves #38475
    
    git-svn-id: trunk@48651 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/rautils.pas

******************************************************************************
commit 4245b20a32206201500e7d9c646b003b93f4c6e9
Author: yury <jura@cp-lab.com>
Date:   Thu Feb 11 10:39:41 2021 +0000

    * Fixed expectloc of local variables passed as a formal parameter. This issue is caught by cycling the compiler with -dEXTDEBUG. Yet the compiler can't cycle with EXTDEBUG due to other issues with wrong expectloc.
    
    git-svn-id: trunk@48650 -

M	compiler/ncal.pas

******************************************************************************
commit 71c314d7d498c6c346f11f5f703272a2307bac1e
Author: florian <florian@freepascal.org>
Date:   Wed Feb 10 20:46:15 2021 +0000

      * another FPC_VERSION => FPC_FULLVERSIOn fix
      * switch back to 32 Bit mode if no thumb code is generated
    
    git-svn-id: trunk@48630 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 3b49e95415b79b02d6d74ee7786ddf1c1177c1a3
Author: florian <florian@freepascal.org>
Date:   Wed Feb 10 19:52:52 2021 +0000

      * do not initialize unncessary register allocators
    
    git-svn-id: trunk@48628 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 47be45830c4547fa4e3844bde338a8d35c0ec2ba
Author: michael <michael@freepascal.org>
Date:   Wed Feb 10 11:00:22 2021 +0000

    * Fix issue ID #38462
    
    git-svn-id: trunk@48580 -

M	.gitattributes
M	packages/rtl-objpas/src/inc/dateutil.inc
M	rtl/objpas/sysconst.pp
A	tests/test/units/dateutil/test_scandatetime_ampm.pas

******************************************************************************
commit ecce39a3b253b55250ffa0133d8d6bf3cdacb4cb
Author: florian <florian@freepascal.org>
Date:   Tue Feb 9 20:48:27 2021 +0000

      + throw a warning in ISO mode if a constant string is assigned to a char and the sizes do not match, resolves #38439
    
    git-svn-id: trunk@48563 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ncnv.pas
A	tests/webtbf/tw38439.pp

******************************************************************************
commit 3a0eb110ec513fad178844309b16d66347f7525d
Author: florian <florian@freepascal.org>
Date:   Mon Feb 8 21:41:04 2021 +0000

      * FPC_VERSION => FPC_FULLVERSION
    
    git-svn-id: trunk@48547 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 3e453f92fcdc22caa1b76a695a096929b3bc1f8c
Author: florian <florian@freepascal.org>
Date:   Sun Feb 7 17:59:28 2021 +0000

      * statx based Sysutils.FileGetDate with handle fixed
      + test
    
    git-svn-id: trunk@48520 -

M	rtl/unix/sysutils.pp
M	tests/test/units/sysutils/tfile1.pp

******************************************************************************
commit b08717fef665774b150453e3b2ed979dc851d098
Author: florian <florian@freepascal.org>
Date:   Sun Feb 7 17:41:27 2021 +0000

      * make statx based Sysutils.FileAge working with relative pathes
      + test
    
    git-svn-id: trunk@48519 -

M	rtl/unix/sysutils.pp
M	tests/test/units/sysutils/tfileage.pp

******************************************************************************
commit 539a578cce5f4e05bf46dc283a0fc96952f22bfa
Author: florian <florian@freepascal.org>
Date:   Sat Feb 6 16:59:02 2021 +0000

      * create \index entries in the messages.inc for an index of message texts and numbers in the user manual
    
    git-svn-id: trunk@48517 -

M	compiler/utils/msg2inc.pp

******************************************************************************
commit b1f7fb4ba18b56be4ea098f93393306d14e013ce
Author: florian <florian@freepascal.org>
Date:   Sat Feb 6 12:53:04 2021 +0000

      * test for already fixed issue #24434
    
    git-svn-id: trunk@48516 -

M	.gitattributes
A	tests/webtbf/tw24434.pp

******************************************************************************
commit d0910b5ac837d58c141ceb758c366bb8a87f56ff
Author: florian <florian@freepascal.org>
Date:   Fri Feb 5 22:10:27 2021 +0000

      * allow sub/add nodes in constant pointer expressions, resolves #34027
    
    git-svn-id: trunk@48514 -

M	.gitattributes
M	compiler/aasmcnst.pas
M	compiler/ngtcon.pas
A	tests/webtbs/tw34027.pp

******************************************************************************
commit 91586331b550f102ee2a90e460807b75177ceb2d
Author: florian <florian@freepascal.org>
Date:   Thu Feb 4 20:57:11 2021 +0000

      * x86_64-linux: assembler helpers syscalls do not need a stackframe
    
    git-svn-id: trunk@48512 -

M	rtl/linux/x86_64/syscall.inc

******************************************************************************
commit 1e960a9aeb12ae75877ef9321efbb89f34bbbdce
Author: florian <florian@freepascal.org>
Date:   Wed Feb 3 20:05:56 2021 +0000

      * the size of the CIE_pointer in an FDE is always 32 bit
    
    git-svn-id: trunk@48507 -

M	compiler/cfidwarf.pas

******************************************************************************
commit 64bd8336f17aa61d2d0fcc60e3f073f174e2a4eb
Author: pierre <pierre@freepascal.org>
Date:   Tue Feb 2 23:56:22 2021 +0000

     Fix compilation of linux unit with -dFPC_USE_LIBC option
    
    git-svn-id: trunk@48504 -

M	rtl/linux/linux.pp

******************************************************************************
commit a67c184200c266f2cc586323a8e55f5f3e01b85f
Author: florian <florian@freepascal.org>
Date:   Tue Feb 2 21:36:54 2021 +0000

      * test for already fixed issue #32139
    
    git-svn-id: trunk@48501 -

M	.gitattributes
A	tests/webtbs/tw32139.pp

******************************************************************************
commit 3922926d17a594a84ec3a39a8d6d3c0d9bfb21d2
Author: florian <florian@freepascal.org>
Date:   Mon Feb 1 21:05:23 2021 +0000

      * disable new syscalls on android
    
    git-svn-id: trunk@48495 -

M	rtl/linux/linux.pp

******************************************************************************
commit b4a1c27c5827ed633802b6b6c6e0f9486156b719
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 22:25:18 2021 +0000

      * renamed new syscall wrapper in linux to be consist with the others
    
    git-svn-id: trunk@48479 -

M	rtl/linux/linux.pp
M	rtl/unix/sysutils.pp
M	tests/test/units/linux/tfutimesen.pp
M	tests/test/units/linux/tstatx.pp
M	tests/test/units/linux/tutimensat.pp

******************************************************************************
commit d13838ac0b8509eece4f43b7750bb9b33016f851
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 31 21:23:29 2021 +0000

    + add a test which ensures that a "const TVarData" parameter is passed as a reference.
      This is required for Delphi compatibility as implementers of IVarInvokable or
      inheritors of TInvokableVariantType need to modify the variant data by using
      a pointer to the TVarData because it's passed as const and thus not modifyable
      by itself.
      This behavior is documented in so far as the C++ builder documentation shows
      that the same parameter is implemented as "const&".
    
    git-svn-id: trunk@48478 -

M	.gitattributes
A	tests/test/cg/tpara4.pp

******************************************************************************
commit 90ba89a1280b408cbc31d90e96a81eb34d41ac08
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 18:38:50 2021 +0000

      * linux: FileGetDate makes use of statx if needed
    
    git-svn-id: trunk@48476 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit ef04e3983f4e258e7c07fb3c9c67038909ea556b
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 18:20:01 2021 +0000

      * sysutils on linux uses only the new syscalls if the system has no suitable clong type
    
    git-svn-id: trunk@48475 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit c3656c6b1c220860458cda0c4f123055b609c738
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 18:09:57 2021 +0000

      * fallback to fputime if fputimensat fails as not being available
    
    git-svn-id: trunk@48474 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit d402e0b940515d6c781b18ee921fd6c42f2f1ca8
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 18:02:55 2021 +0000

      * Y2K38 problem for linux in sysutils.findfirst/findnext should be solved
    
    git-svn-id: trunk@48473 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit b8ab06aae74b3cdd9dee2d9340a466f681dfcd77
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 17:12:39 2021 +0000

      + futimens syscall
      * make use of futimens syscall in sysutils unit
      + tests
    
    git-svn-id: trunk@48472 -

M	.gitattributes
M	rtl/linux/linux.pp
M	rtl/unix/sysutils.pp
A	tests/test/units/linux/tfutimesen.pp
M	tests/test/units/sysutils/tfile1.pp

******************************************************************************
commit e6f575d43cac8c900564910c65d8a7bde8285c8b
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 16:43:53 2021 +0000

      + make use of the fputimensat syscall on linux to enable always times beyond 32 bit
    
    git-svn-id: trunk@48471 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit 0c77536f11a75d737878da941c178c29c85b7541
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 16:24:47 2021 +0000

      + linux.fputimensat which properly uses the _tim64 version if needed and available
      + test
    
    git-svn-id: trunk@48470 -

M	.gitattributes
M	rtl/linux/linux.pp
A	tests/test/units/linux/tutimensat.pp

******************************************************************************
commit 33cd5778cd1c2f1543029f9f30e4497fd6ef4c75
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 16:23:23 2021 +0000

      * properly check for linux version supporting statx
    
    git-svn-id: trunk@48469 -

M	tests/test/units/linux/tstatx.pp

******************************************************************************
commit 8b24d60df752458f3b2ec1eba42a1143529a7af6
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 13:19:55 2021 +0000

      * removed accidently committed printnode
    
    git-svn-id: trunk@48464 -

M	compiler/nmem.pas

******************************************************************************
commit 8496690ed0f812c72b008f609106c933871be484
Author: florian <florian@freepascal.org>
Date:   Sat Jan 30 22:47:38 2021 +0000

      * additional fix for r48449
    
    git-svn-id: trunk@48461 -

M	compiler/nmem.pas

******************************************************************************
commit f39f8d0f1a0c0bc3d3a79f9c1366fc163d5c348f
Author: florian <florian@freepascal.org>
Date:   Sat Jan 30 18:47:27 2021 +0000

      * linux: make use of statx in Sysutils.FileAge if available
    
    git-svn-id: trunk@48457 -

M	.gitattributes
M	rtl/unix/sysutils.pp
A	tests/test/units/sysutils/tfileage.pp

******************************************************************************
commit de62cb8b021a39dcbd2835e2c8459d492afee10f
Author: florian <florian@freepascal.org>
Date:   Sat Jan 30 18:46:58 2021 +0000

      * do not execute xend twice which was introduced in r48430
    
    git-svn-id: trunk@48456 -

M	rtl/i386/cpu.pp

******************************************************************************
commit a90315c3a0ff135ac64f3a199755d511c6b867ce
Author: michael <michael@freepascal.org>
Date:   Sat Jan 30 08:28:13 2021 +0000

    * Patch from Noel Duffy to implement DNS over TCP and test
    
    git-svn-id: trunk@48455 -

M	.gitattributes
M	packages/fcl-net/src/netdb.pp
A	packages/fcl-net/tests/netdbtest.pp
A	packages/fcl-net/tests/tresolvertests.pp
M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 4bec57702f93cd54d61f68b1f8078ce4a4d985fc
Author: florian <florian@freepascal.org>
Date:   Fri Jan 29 21:31:59 2021 +0000

      * handle generic with ord call of sub-range and enumeration data excluding 0 correctly, resolves #38412
    
    git-svn-id: trunk@48452 -

M	.gitattributes
M	compiler/ncon.pas
A	tests/webtbs/tw38412.pp

******************************************************************************
commit e99827246e52288205bf3dff3533634aa553acb3
Author: florian <florian@freepascal.org>
Date:   Thu Jan 28 20:56:15 2021 +0000

      * fix type conversion for array indicies if the ordinal ranges of the involved types do not overlap, resolves #38413
    
    git-svn-id: trunk@48449 -

M	.gitattributes
M	compiler/nmem.pas
A	tests/webtbs/tw38413.pp

******************************************************************************
commit 706e72e1fd681d688ba504b2e7ce1f78694ad686
Author: florian <florian@freepascal.org>
Date:   Wed Jan 27 21:28:55 2021 +0000

      * better error message for runtime errors 202 and 210, resolves #38254
    
    git-svn-id: trunk@48438 -

M	rtl/objpas/sysconst.pp

******************************************************************************
commit 5dbd9eb2e059de506eb9e13317b7645db130918a
Author: pierre <pierre@freepascal.org>
Date:   Tue Jan 26 14:50:58 2021 +0000

     Introduce USE_REAL_INSTRUCTIONS to handle expressions not accepted by old assemblers
    
    git-svn-id: trunk@48430 -

M	rtl/i386/cpu.pp

******************************************************************************
commit 1112e9f30137de9ae545fef8bda72a397d473f3e
Author: yury <jura@cp-lab.com>
Date:   Mon Jan 25 15:44:55 2021 +0000

    * Fixed wrong buffers in the XML registry test.
    
    git-svn-id: trunk@48418 -

M	packages/fcl-registry/tests/regtcxmlreg.pp

******************************************************************************
commit 67fcf0f03e9b81241040ce5e31f8a8290384d029
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 25 00:42:01 2021 +0000

    m68k: revert r48224, the fix proposed in that patch was just hiding an underlying issue
    
    git-svn-id: trunk@48415 -

M	compiler/m68k/n68kadd.pas

******************************************************************************
commit 0ab4515e587d6eba0c82700a003dc3a0ba6a25bb
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 21:32:27 2021 +0000

      * properly mangle interface wrapper names to avoid duplicate label errors, resolves #38385
    
    git-svn-id: trunk@48411 -

M	.gitattributes
M	compiler/ncgvmt.pas
A	tests/webtbs/tw38385.pp
A	tests/webtbs/uw38385a.pp
A	tests/webtbs/uw38385b.pp
A	tests/webtbs/uw38385c.pp

******************************************************************************
commit 0b76059b37bdb2553beec800b2d4134a9d0df826
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 21:13:41 2021 +0000

      * use generic VFP type instead of VFP list prone to changes
    
    git-svn-id: trunk@48410 -

M	compiler/msg/errord.msg
M	compiler/msg/errorda.msg
M	compiler/msg/errordu.msg
M	compiler/msg/errore.msg
M	compiler/msg/errores.msg
M	compiler/msg/errorfi.msg
M	compiler/msg/errorheu.msg
M	compiler/msg/errorid.msg
M	compiler/msg/errorn.msg
M	compiler/msg/errorptu.msg
M	compiler/msg/errorru.msg
M	compiler/msg/errorues.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 6bdd7dc3b920431d4eadd9ce7c57b9a82e2ce27c
Author: michael <michael@freepascal.org>
Date:   Sun Jan 24 18:37:27 2021 +0000

    * Fix issue ID #38358
    
    git-svn-id: trunk@48409 -

M	packages/fcl-db/src/sqldb/interbase/ibconnection.pp

******************************************************************************
commit 5950a5f97b1a920fb9622f8897da0d1eef2ec04f
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 18:07:13 2021 +0000

      * compiler utils cannot depend on StrUtils
    
    git-svn-id: trunk@48408 -

M	compiler/utils/mkx86inl.pp
M	compiler/utils/mkz80ins.pp

******************************************************************************
commit 6975437da8f582ce6f964ba1f3d95972477784e0
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 17:53:42 2021 +0000

    * rgobj: ungetiftemp can't be used here since it frees only temps of the tt_normal type.
    
    git-svn-id: trunk@48407 -

M	compiler/rgobj.pas

******************************************************************************
commit e5c6e91bd0deb773586b10741d8435409313bf56
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 17:43:15 2021 +0000

      + write message number to docs
      + enclose arguments in text angles
    
    git-svn-id: trunk@48406 -

M	compiler/utils/msg2inc.pp

******************************************************************************
commit 91649eb2e5e882700c3f08a339c163b7f24837ca
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 17:40:02 2021 +0000

      * missing programs added to rules, so make clean works better
    
    git-svn-id: trunk@48404 -

M	compiler/utils/Makefile
M	compiler/utils/Makefile.fpc

******************************************************************************
commit b446023e5b2655f9dad6a47462edc7062762f767
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 24 14:57:24 2021 +0000

    * use Str instead of IntToStr to avoid overload problems with unsigned types
    
    git-svn-id: trunk@48400 -

M	rtl/objpas/sysutils/syshelpo.inc

******************************************************************************
commit c3fd06b6b5986d7a1db7971cd0633d8b2421615b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 24 14:57:20 2021 +0000

    * fix for Mantis #38390: use Val instead of StrToInt to avoid overload problems
    + added test
    
    git-svn-id: trunk@48399 -

M	.gitattributes
M	rtl/objpas/sysutils/syshelpo.inc
A	tests/webtbs/tw38390.pp

******************************************************************************
commit 268f7bfb5c73b8e6dc11bfba6bcd1c61ec0353d0
Author: pierre <pierre@freepascal.org>
Date:   Sun Jan 24 14:45:25 2021 +0000

    Add cs_generate_uf2 entry into ppudump
    
    git-svn-id: trunk@48398 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 225eb8ed12ef191cf97a185f1a405bbdaf9634b2
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 14:34:02 2021 +0000

      * do not output error numbers for options
    
    git-svn-id: trunk@48397 -

M	compiler/verbose.pas

******************************************************************************
commit 04727844b5c663cadd8620aef3ec2fc892115d0e
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 14:29:39 2021 +0000

    * Fixed value of the LF_PAD13 enum element.
    
    git-svn-id: trunk@48396 -

M	compiler/dbgcodeview.pas

******************************************************************************
commit 2567631aad9684c8b6c4cae9e4d94e3c93a2466f
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 14:28:49 2021 +0000

    * Removed in_x86mm_last (the duplicate no and unused) from the tinlinenumber enum.
    
    git-svn-id: trunk@48395 -

M	compiler/x86/cx86mminnr.inc

******************************************************************************
commit 1f49e633b6599ef4acf917a4190a62bf171843bf
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 14:21:03 2021 +0000

      + modified patch by Christo Crause: if the target support, the switch -Xu can be used to generate the executable as an uf2 file
    
    git-svn-id: trunk@48394 -

M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.pas
M	compiler/systems/t_embed.pas

******************************************************************************
commit 9b1567f0546a7df6e7a5818dab3c614146f95c7b
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 14:06:35 2021 +0000

    * Corrected method's visibility.
    
    git-svn-id: trunk@48393 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 4fa99cff624119b65aba0c5c6fd0af267ad0dc42
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 14:05:21 2021 +0000

    * Removed more assigned but unused vars.
    
    git-svn-id: trunk@48392 -

M	compiler/avr/cgcpu.pas
M	compiler/avr/cpupara.pas
M	compiler/rgobj.pas

******************************************************************************
commit 75491ae21c54217fc1838dad300f5c86a247db4b
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 13:58:17 2021 +0000

    * Removed/ifdefed the assigned and unused variables.
    
    git-svn-id: trunk@48391 -

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/aoptcpu.pas
M	compiler/jvm/dbgjasm.pas
M	compiler/jvm/njvmmem.pas
M	compiler/nflw.pas
M	compiler/ogomf.pas
M	compiler/pgenutil.pas
M	compiler/psabiehpi.pas
M	compiler/systems/t_freertos.pas
M	compiler/systems/t_win16.pas
M	compiler/x86/cgx86.pas

******************************************************************************
commit 0ab6b1ab4dcc5a513a83831fdd1070ed8fbe49db
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 13:35:32 2021 +0000

    * Commented out the unneeded/unfinished code.
    
    git-svn-id: trunk@48390 -

M	compiler/psabiehpi.pas

******************************************************************************
commit 31cd3df783edbe1bec40a90ccf4df82b5c327f2b
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 13:32:11 2021 +0000

    * Fixed r44145. To test if a constant is declared it is needed to use {$if declared()} instead of {$if defined()}.
    
    git-svn-id: trunk@48389 -

M	compiler/rgobj.pas

******************************************************************************
commit 402876bc1f6ceefe3109ecb7ea16add202d8865d
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 13:26:49 2021 +0000

      * let theapthread wait unneededly less so the total run time is shorter
    
    git-svn-id: trunk@48388 -

M	tests/test/theapthread.pp

******************************************************************************
commit 9c265d71f0fc92ec1065d0a19c2565ff884dcc9c
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 13:08:54 2021 +0000

    * Fixed a wrong code caused by a typo. It has been revealed by a note about an unused var.
    
    git-svn-id: trunk@48387 -

M	compiler/pgenutil.pas

******************************************************************************
commit 221efd7a806a778f59a29b7f9baf74048e8b3978
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 13:04:17 2021 +0000

    * Commented out some unused (yet?) local variables.
    
    git-svn-id: trunk@48386 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 0a021be803f923bae563abf7eacc9a1d6bf36b66
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 12:41:12 2021 +0000

    * Corrected visibility of overridden methods.
    
    git-svn-id: trunk@48385 -

M	compiler/avr/navradd.pas
M	compiler/i8086/n8086mem.pas
M	compiler/i8086/symcpu.pas
M	compiler/jvm/hlcgcpu.pas
M	compiler/nflw.pas
M	compiler/ogomf.pas

******************************************************************************
commit 64c586b86dc064d1bdb07655975f1787f17129df
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 12:24:01 2021 +0000

    * Removed/ifdefed lots of unused variables.
    
    git-svn-id: trunk@48384 -

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/aoptcpu.pas
M	compiler/aggas.pas
M	compiler/arm/aoptcpu.pas
M	compiler/avr/agavrgas.pas
M	compiler/avr/aoptcpu.pas
M	compiler/avr/cgcpu.pas
M	compiler/avr/cpupara.pas
M	compiler/avr/navrmat.pas
M	compiler/avr/raavrgas.pas
M	compiler/avr/rgcpu.pas
M	compiler/i8086/cpupara.pas
M	compiler/i8086/n8086tcon.pas
M	compiler/jvm/agjasmin.pas
M	compiler/jvm/cpubase.pas
M	compiler/jvm/njvminl.pas
M	compiler/jvm/njvmmat.pas
M	compiler/nadd.pas
M	compiler/nbas.pas
M	compiler/ncginl.pas
M	compiler/ogomf.pas
M	compiler/optloop.pas
M	compiler/psub.pas
M	compiler/scandir.pas
M	compiler/symdef.pas
M	compiler/systems/t_bsd.pas
M	compiler/systems/t_darwin.pas
M	compiler/systems/t_embed.pas
M	compiler/systems/t_freertos.pas
M	compiler/systems/t_win.pas
M	compiler/systems/t_win16.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/agx86nsm.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/nx86inl.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86/nx86set.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit 67a3af29a0eb072b08e9e18990a2c1104136691e
Author: michael <michael@freepascal.org>
Date:   Sun Jan 24 10:58:05 2021 +0000

    * Patch from Laco to fix bug ID #37849
    
    git-svn-id: trunk@48381 -

M	packages/fcl-db/src/sqldb/mysql/mysqlconn.inc

******************************************************************************
commit 55485228ca7a426164d90b9c779dedfe710f9be3
Author: michael <michael@freepascal.org>
Date:   Sun Jan 24 10:56:11 2021 +0000

    * Allow milliseconds up to 1000 milliseconds
    
    git-svn-id: trunk@48380 -

M	packages/rtl-objpas/src/inc/dateutil.inc

******************************************************************************
commit e84fbcedaca496d292598a9800c89b90cf8ed6c5
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 10:05:28 2021 +0000

    * Changed the registry test. TRegistry.DeleteKey must delete all sub-keys. It is Delphi compatible despite the incorrect statement in the online Delphi docs.
    
    git-svn-id: trunk@48378 -

M	packages/fcl-registry/tests/testbasics.pp

******************************************************************************
commit 25e2f29e01dfac449cd05de3ad9e5c353aa855b2
Author: michael <michael@freepascal.org>
Date:   Sat Jan 23 22:04:40 2021 +0000

    * Add Port to SQLConnector
    
    git-svn-id: trunk@48358 -

M	packages/fcl-db/src/sqldb/sqldb.pp

******************************************************************************
commit 9803318feffd8cbf8904be68d784f062eee3ed90
Author: florian <florian@freepascal.org>
Date:   Sat Jan 23 21:29:37 2021 +0000

      * give a proper error if macros are too deeply nested
    
    git-svn-id: trunk@48357 -

M	.gitattributes
M	compiler/scanner.pas
A	tests/webtbf/tw38287.pp

******************************************************************************
commit 2519fb126663d9dc4184d8ed9d7edca2e65baf78
Author: florian <florian@freepascal.org>
Date:   Fri Jan 22 22:02:44 2021 +0000

      * patch by J. Gareth Moreton: aarch64 EXTDEBUG fixes and extensions, resolves #38383
    
    git-svn-id: trunk@48337 -

M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 1351ccb3bfe6adad6be0246acb7645203df8b3b0
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 22 12:51:53 2021 +0000

     Avoid range check errors
    
    git-svn-id: trunk@48317 -

M	.gitattributes
M	tests/bench/bcase.pp

******************************************************************************
commit f28629e8e122887b3658de1e061a1b6ed036e5f4
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 22 08:57:56 2021 +0000

     Only set FNotifyMainThreadEvent at start of Execute method and after finishing the compilation of a package
    
    git-svn-id: trunk@48316 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 2b79b117445d6a9f7f1cb1669390ee7737c0e443
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 21 16:15:35 2021 +0000

     Add some colors for comparison between two run results
    
    git-svn-id: trunk@48270 -

M	tests/utils/testsuite/utests.pp

******************************************************************************
commit 3bfb995a4871cfe088d6753086b13b06a613e4b1
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 21 09:20:19 2021 +0000

     Add sleep inside loop to find package that can be compiled, if none is ready in ProcessThreadResult
    
    git-svn-id: trunk@48262 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 8ad127ca309d4fe1e5761c02207b43a66b363aa5
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Jan 21 03:04:20 2021 +0000

    powerpc-amiga: added some exec functions which will be required for some athreads rework
    
    git-svn-id: trunk@48253 -

M	rtl/amiga/powerpc/execf.inc

******************************************************************************
commit b88f9ad57cb67ae1b565d9564f2d8e938c239ce0
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 20 22:11:15 2021 +0000

     Reset paratargetdbg to dbg_none when handling -g- option, to really suppress debug information generation
    
    git-svn-id: trunk@48243 -

M	compiler/options.pas

******************************************************************************
commit 7a3eb453d40af468faa5c395a6bf301cc0a0cc40
Author: florian <florian@freepascal.org>
Date:   Wed Jan 20 21:14:09 2021 +0000

      * arm/aarch64: patch by J. Gareth Moreton: fix register allocation information for Mov2None 2, should resolve #38055
    
    git-svn-id: trunk@48235 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 62edfa558412e5708469db173957eb5799ce828b
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 20 13:20:11 2021 +0000

     Change parameter type of Build* procedure from out to var, as the StringList is created in calling main
     This avoid a warning during compliaztion and a crash when compiled with -gt* option.
    
    git-svn-id: trunk@48228 -

M	tests/webtbs/tw37060.pp

******************************************************************************
commit 4111e13017f90f992971a522ec67f3bdf3b46b85
Author: pierre <pierre@freepascal.org>
Date:   Tue Jan 19 22:33:32 2021 +0000

    Avoid inlining of real constant for m68k if type is not best precision
    
    git-svn-id: trunk@48224 -

M	compiler/m68k/n68kadd.pas

******************************************************************************
commit 0055023394e23271b641f9bcfc38606b6b4e4f36
Author: pierre <pierre@freepascal.org>
Date:   Tue Jan 19 22:30:59 2021 +0000

     Also set __stkptr inside cprt0.as and dllprt0.as startup assembly sources
    
    git-svn-id: trunk@48223 -

M	rtl/linux/m68k/cprt0.as
M	rtl/linux/m68k/dllprt0.as

******************************************************************************
commit 83a1f5fbc3f60760e36fa2832648b82690543b45
Author: pierre <pierre@freepascal.org>
Date:   Tue Jan 19 22:28:37 2021 +0000

     Also set __stkptr inside cprt0.as startup assembly source
    
    git-svn-id: trunk@48222 -

M	rtl/linux/mips/cprt0.as
M	rtl/linux/mips/prt0.as

******************************************************************************
commit 85afaf528916ef20938b019e802619d65dc3f778
Author: florian <florian@freepascal.org>
Date:   Tue Jan 19 21:04:41 2021 +0000

      * patch by J. Gareth Moreton: Unitialized result variable fix on non-x86 debug builds, resolves #38371
    
    git-svn-id: trunk@48221 -

M	compiler/nbas.pas

******************************************************************************
commit 30587299ea290ed23669ba95a96e1d1503a347b3
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 19 17:38:36 2021 +0000

    * TRegIniFile: When accessing a section do not change/close the current open key.
    * TRegIniFile should work properly with the XML registry. The tregistry2 test should work on any platform.
    
    git-svn-id: trunk@48210 -

M	packages/fcl-registry/src/regini.inc
M	packages/fcl-registry/src/registry.pp

******************************************************************************
commit 5d69ba2cd895cb74fb6a13bbe3ea23f3c29e781a
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 19 17:30:11 2021 +0000

    * TXmlRegistry: When a key name starts with \ or / it means the absolute path to the key is specified. So ignore the currently selected key when an absolute key is requested.
    
    git-svn-id: trunk@48209 -

M	packages/fcl-registry/src/xmlreg.pp

******************************************************************************
commit 050a342101549189ada47267944d9494b610f7de
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 19 17:25:56 2021 +0000

    * Reverted r41816 to allow TXmlRegistry.DeleteKey() delete the key and all its children. It is Delphi compatible. Windows implementation of TRegistry.DeleteKey() was fixed accordingly.
    
    git-svn-id: trunk@48208 -

M	packages/fcl-registry/src/xmlreg.pp

******************************************************************************
commit 2c196ee8a9f1c0cc419b561f55996b7b86a04f5d
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 19 17:13:44 2021 +0000

    * TRegistryIniFile: Fixed uninitialized Result in ValueExists(). Implemented SectionExists().
    
    git-svn-id: trunk@48206 -

M	packages/fcl-registry/src/registry.pp

******************************************************************************
commit dc799a9d49d234980b4184d2561bb0ba04337177
Author: pierre <pierre@freepascal.org>
Date:   Mon Jan 18 23:29:24 2021 +0000

     Fix clearing of single type register variable in initialize_regvars method for ARM cpu (with -Ooregvar)
    
    git-svn-id: trunk@48186 -

M	compiler/hlcgobj.pas

******************************************************************************
commit 16f201292c0690d29ee40a4b525a60c13d203c7c
Author: florian <florian@freepascal.org>
Date:   Mon Jan 18 21:29:52 2021 +0000

      + remove try ... finally statements if the finally block is empty
    
    git-svn-id: trunk@48174 -

M	compiler/nflw.pas

******************************************************************************
commit d4ad618a702802f02fe4196ce6487f15c5535bed
Author: florian <florian@freepascal.org>
Date:   Sun Jan 17 19:01:14 2021 +0000

      * similiar fix to r48167 for OptPass1SXTH
    
    git-svn-id: trunk@48168 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 14ddc59edbfafc8f7ff20ca7bfaeecee4ee3fd16
Author: florian <florian@freepascal.org>
Date:   Sun Jan 17 10:12:55 2021 +0000

      * arm*: fix SxtbAndImm2Sxtb (now SxtbAndImm2Uxtb) optimization as proposed by Pierre and Gareth
    
    git-svn-id: trunk@48167 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit ecc3ce64eaeeca34fbcdf297fdea90420845fb11
Author: florian <florian@freepascal.org>
Date:   Sat Jan 16 22:46:25 2021 +0000

      * x86: some fixes to enable 8 and 16 bit operations
    
    git-svn-id: trunk@48166 -

M	compiler/x86/cgx86.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86_64/nx64mat.pas

******************************************************************************
commit 8618a3b21f4079b12a7b439c9026d3ace63d3925
Author: florian <florian@freepascal.org>
Date:   Sat Jan 16 15:38:29 2021 +0000

      * simplify tx8664shlshrnode.pass_generate_code, it should not mess with the result type, this
        is a matter of the type check pass
    
    git-svn-id: trunk@48164 -

M	compiler/x86_64/nx64mat.pas

******************************************************************************
commit 707bce74d765b6442a28036f5bbb0320c61b7560
Author: florian <florian@freepascal.org>
Date:   Fri Jan 15 21:24:44 2021 +0000

      * patch by J. Gareth Moreton: refactor OptPass2Jcc, resolves #38343
    
    git-svn-id: trunk@48162 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 50a13b4df4e2b0016883d14571eb2bc79d15e334
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 14 22:59:16 2021 +0000

     Function GetDefaultLibGCCDir adapted to case of Defaults not assigned (required for fpcmkcfg utility) reported by Andrew Kurushin
    
    git-svn-id: trunk@48157 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 9003114a8f7cf994275dbfc88b93a0c8d0ce25d5
Author: florian <florian@freepascal.org>
Date:   Thu Jan 14 21:36:12 2021 +0000

      + support R_X86_64_GOTPCRELX and R_X86_64_REX_GOTPCRELX
    
    git-svn-id: trunk@48156 -

M	compiler/ogbase.pas
M	compiler/x86_64/cpuelf.pas

******************************************************************************
commit 1fa5edd34e6fe5bb45b76893a5a8b3b83f8d03ce
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 13 10:07:37 2021 +0000

      Try to avoid use of native libgcc directory when cross-compiling.
    
      Add FSourceCPU, FSourceOS, FCompilerDate FFullCompilerVersion fields to TCustomDefaults class.
      Set these new fields by also parsing FPC -iDWSPSO output.
      Use these fields to try to correctly guess if native gcc should be used to
      try to find libgcc directory, or only $BINUTILSPREFIX prepended gcc.
    
    git-svn-id: trunk@48152 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 344aadebb9e2cc9abe51bfad885a57400508d088
Author: florian <florian@freepascal.org>
Date:   Tue Jan 12 21:45:38 2021 +0000

      * avoid widening of shl operations, this is not necessary for them either
    
    git-svn-id: trunk@48150 -

M	compiler/ncnv.pas

******************************************************************************
commit a286ad9d774c19718bea0cbfc84347dc67dd4862
Author: florian <florian@freepascal.org>
Date:   Mon Jan 11 21:47:32 2021 +0000

      * do not extend 8 bit return values to 32 bit when loading them into eax,
        this is not required by the api, neither does e.g. clang it
    
    git-svn-id: trunk@48136 -

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 5c2303a76b1a616d24f9e41679bf61f79020f4c4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jan 10 15:47:27 2021 +0000

      * add parameter cleanup nodes to the call cleanup block (mantis #38316)
    
    git-svn-id: trunk@48130 -

M	.gitattributes
M	compiler/ncal.pas
A	tests/webtbs/tw38316.pp

******************************************************************************
commit b7c519de81316bccb8fb8e71458ef89d8b1f48df
Author: pierre <pierre@freepascal.org>
Date:   Sun Jan 10 14:43:22 2021 +0000

    Add check for bug fix in bug report 38339
    
    git-svn-id: trunk@48129 -

M	.gitattributes
A	tests/webtbs/tw38339.pp

******************************************************************************
commit 217e9ac5a5714fa60214616b33f0e7a0860c2a64
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 10 10:55:26 2021 +0000

    * regenerate msg*.inc files
    
    git-svn-id: trunk@48126 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 469959d9b52e49254c45885e9e9f6d631a3481b6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 10 10:55:18 2021 +0000

    * clear up message that a global generic references a static symbol a bit
    
    git-svn-id: trunk@48125 -

M	compiler/msg/errore.msg

******************************************************************************
commit eb81b981cd66a1ab82fa0dcc05119e3a9c5a09d6
Author: florian <florian@freepascal.org>
Date:   Sun Jan 10 10:23:40 2021 +0000

      * patch by J. Gareth Moreton to fix MovzxCmp2CmpMovzx, resolves #38339
    
    git-svn-id: trunk@48124 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 227bd3e9041fa1347905fcf666a951382c1a0f09
Author: florian <florian@freepascal.org>
Date:   Sat Jan 9 18:21:49 2021 +0000

      * simplified code for JccAdd2SetccAdd optimization
    
    git-svn-id: trunk@48122 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit efe6b32638c26cdd511b8ed35ffa9074817dcf20
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 9 15:58:18 2021 +0000

    + add declaration of FpSchedGetAffinity when the Linux target is compiled with FPC_USE_LIBC
    
    git-svn-id: trunk@48121 -

M	rtl/unix/oscdeclh.inc

******************************************************************************
commit 359bb64aedafca34fee136e053b69a897b9c428a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 9 15:58:13 2021 +0000

    * if the Linux target is compiled with FPC_USE_LIBC the initialization of TLS is not required (according to one comment by Florian), so disable all related code in that case (as for example the syscall numbers are not available then)
    
    git-svn-id: trunk@48120 -

M	rtl/linux/i386/si_prc.inc
M	rtl/linux/si_impl.inc
M	rtl/linux/system.pp
M	rtl/linux/x86_64/si_prc.inc

******************************************************************************
commit f42f62565bf31b15c943b91eab9fc5a9569e01fe
Author: florian <florian@freepascal.org>
Date:   Fri Jan 8 22:29:24 2021 +0000

      * patch by J. Gareth Moreton to resolve bug introduced in the first patch, resolves #38294
    
    git-svn-id: trunk@48117 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4e9b42344e5e19210d8ffec442f1bba631df9078
Author: florian <florian@freepascal.org>
Date:   Fri Jan 8 22:22:56 2021 +0000

      + AddLea2Lea optimization
      * improved LeaLea2Lea
    
    git-svn-id: trunk@48116 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 7f775abb6dc5c5b3b3a1dfe347304a81d970df77
Author: florian <florian@freepascal.org>
Date:   Fri Jan 8 14:19:19 2021 +0000

      * throw a proper error if a contructur has a type parameter in delphi mode, resolves #37217
    
    git-svn-id: trunk@48113 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecsub.pas
A	tests/webtbf/tw37217.pp

******************************************************************************
commit 37201319bf44a5b61336a8273329212d109bc816
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 8 09:57:31 2021 +0000

     Add two new button to simplify inspecting evolutiontestsuite difference in time
    
    git-svn-id: trunk@48110 -

M	tests/utils/testsuite/utests.pp

******************************************************************************
commit d2b0bcdf1fbc5426b6f4c2331f3ea34cb38f99cc
Author: florian <florian@freepascal.org>
Date:   Thu Jan 7 22:44:49 2021 +0000

      + linux implementation of System.GetCPUCount
    
    git-svn-id: trunk@48106 -

M	rtl/linux/ossysc.inc
M	rtl/linux/ostypes.inc
M	rtl/linux/system.pp

******************************************************************************
commit 80282d6effe141239c36d02d418c51142b38f6f5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 6 22:35:40 2021 +0000

      * llvm: only set custom parameter alignments for byval parameters, the rest
        is handled automatically by llvm (and since llvm 11.0 you get an error if
        you specify an alignment for them anyway)
    
    git-svn-id: trunk@48100 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 38cde3817754458936db1662687ae37498500da5
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Jan 6 20:25:12 2021 +0000

    * make TProxyStream.Check an abstract method; as it is right now one had to override it anyway because it always raised an exception
    
    git-svn-id: trunk@48097 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit 6160abe37ec2fd61fcd1424cd62cf95fd2f8b1f6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Jan 6 12:57:59 2021 +0000

    * have the generic dummy symbols for procsyms keep track of their overloaded generic procsyms so that they can be easily found (will be needed for implicit specializations)
    
    git-svn-id: trunk@48096 -

M	compiler/pdecsub.pas
M	compiler/ppu.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppuout.pp

******************************************************************************
commit aec18c2426a503c0c85e057bbc2f029d649fe3bf
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 22:39:16 2021 +0000

      * weight currency->float conversions the same regardless if
        the currency type is handled by the integer unit or the x87 fpu,
        resolves #38309
    
    git-svn-id: trunk@48089 -

M	.gitattributes
M	compiler/defcmp.pas
A	tests/webtbs/tw38309.pp

******************************************************************************
commit 57d9884d964cc8e1208814fc3b0f381c3140e642
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jan 5 20:58:46 2021 +0000

    * fix for Mantis #38310: ignore procsyms that have no procdefs for checking overloads, or more precisely to stop checking for overloads; these are generic dummy symbols
    + added (simplified) tests
    
    git-svn-id: trunk@48088 -

M	.gitattributes
M	compiler/htypechk.pas
A	tests/webtbs/tw38310a.pp
A	tests/webtbs/tw38310b.pp
A	tests/webtbs/tw38310c.pp

******************************************************************************
commit 28efcfba65295ebf1b88238906b79594fe54fda4
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 15:15:41 2021 +0000

      + patch by J. Gareth Moreton: Advanced MOVZX optimisations, resolves #38294
    
    git-svn-id: trunk@48086 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit de36d6c0499c2ce4ceba4825d004767f0ba944bb
Author: florian <florian@freepascal.org>
Date:   Mon Jan 4 21:54:36 2021 +0000

      + added newly used opcodes to avx_opcode_only_op0_may_be_memref
    
    git-svn-id: trunk@48070 -

M	compiler/x86/rgx86.pas

******************************************************************************
commit 38ddf2e8c5883189c13fdce704f28862c91fec07
Author: pierre <pierre@freepascal.org>
Date:   Mon Jan 4 08:35:36 2021 +0000

     Fix spelling error of revision 48023
    
    git-svn-id: trunk@48024 -

M	rtl/arm/mathu.inc

******************************************************************************
commit 7d5b0d23827e124da3eab2f39fe6cd52673ff4c4
Author: florian <florian@freepascal.org>
Date:   Sun Jan 3 22:55:37 2021 +0000

      * handle rawbytestrings in Win32Ansi2UnicodeMove properly, resolves #38299
    
    git-svn-id: trunk@48021 -

M	.gitattributes
M	rtl/win/syswin.inc
A	tests/webtbs/tw38299.pp

******************************************************************************
commit f2568e37e422b9767766ef686ff77c8b3e9b04ad
Author: pierre <pierre@freepascal.org>
Date:   Sun Jan 3 22:03:27 2021 +0000

    Add testing for single float type in trndmode.pp
    
    git-svn-id: trunk@48020 -

M	tests/test/units/math/trndcurr.pp

******************************************************************************
commit 57861c934d5830f9187b2a06bb8b6c1dd781ab8b
Author: pierre <pierre@freepascal.org>
Date:   Sun Jan 3 21:55:35 2021 +0000

     Check also that SetRoundMode returns correctly previous rounding mode
    
    git-svn-id: trunk@48019 -

M	tests/test/units/math/trndcurr.pp

******************************************************************************
commit 3362abb30c9eee50eab4181333c3a99b866c8633
Author: pierre <pierre@freepascal.org>
Date:   Sun Jan 3 21:44:18 2021 +0000

     * Set softfloat_rounding_mode indise SetRoundMode function for all CPUs.
     * SetRoundMode returns previous rounding mode value for all CPUs.
    
    git-svn-id: trunk@48018 -

M	rtl/aarch64/mathu.inc
M	rtl/arm/mathu.inc
M	rtl/i386/mathu.inc
M	rtl/i8086/mathu.inc
M	rtl/m68k/mathu.inc
M	rtl/mips/mathu.inc
M	rtl/powerpc/mathu.inc
M	rtl/powerpc64/mathu.inc
M	rtl/riscv64/mathu.inc
M	rtl/sparc/mathu.inc
M	rtl/sparc64/mathu.inc
M	rtl/x86_64/mathu.inc
M	rtl/xtensa/mathu.inc
M	tests/test/units/math/trndcurr.pp

******************************************************************************
commit 12adb47d65e06d4d730cbb860c711bb668a94367
Author: florian <florian@freepascal.org>
Date:   Sun Jan 3 15:03:27 2021 +0000

      * clean up
    
    git-svn-id: trunk@48011 -

M	compiler/nadd.pas

******************************************************************************
commit b8578f804f48a7e7fc45a176f4556cf729dab2db
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 3 12:11:44 2021 +0000

    * fix compilation on targets that use Stabs debug information: ignore generic dummy symbols with no procdefs for generating stabs data
    
    git-svn-id: trunk@48007 -

M	compiler/dbgstabs.pas

******************************************************************************
commit c96029ebd57c852dd3f006cf8769d9fd5473a605
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:39 2021 +0000

    * Delphi does not allow a generic method to be overloaded by a non generic type of the same name (unlike for generic types and non generic routines); this is probably done to simplify the implementation of implicit specializations of generic methods so we do this as well. For this we change the dummy symbol for generic routines from a typesym to a procsym
    + added tests
    
    Note: what Delphi /does/ allow however is to overload a generic routine with a generic type... go figure. :/ We currently don't allow that
    
    git-svn-id: trunk@48002 -

M	.gitattributes
M	compiler/pdecsub.pas
A	tests/test/tgenfunc24.pp
A	tests/test/tgenfunc25.pp
A	tests/test/tgenfunc26.pp
A	tests/test/tgenfunc27.pp

******************************************************************************
commit 7343e9c4a273b789577856915e0edf6613fa4b41
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:34 2021 +0000

    * correctly handle the case should the generic dummy symbol be a procsym instead of a typesym
    
    git-svn-id: trunk@48001 -

M	compiler/pexpr.pas
M	compiler/symtable.pas

******************************************************************************
commit e4eed4e25994349c28dec79ab566831565bec643
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:29 2021 +0000

    * when only a symbol name is provided to generate_specialization_phase1 allow a symbol table to be provided as well
    
    git-svn-id: trunk@48000 -

M	compiler/pexpr.pas
M	compiler/pgenutil.pas

******************************************************************************
commit a65d778f73ae920d4eeec28438c254ad9ee0f8cb
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:24 2021 +0000

    * also handle call nodes when determining the generic symbol for inline specializations
    
    git-svn-id: trunk@47999 -

M	compiler/pexpr.pas

******************************************************************************
commit f42b39a7b5c586378c5baef31567ee53cc427715
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:20 2021 +0000

    * use a case statement instead of nested if-then statements
    
    git-svn-id: trunk@47998 -

M	compiler/pexpr.pas

******************************************************************************
commit 43ba5b69d2b86a6b00908c0c1664cd893db22f9d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:16 2021 +0000

    * ensure that the dummy symbol is registered if it's added due to a routine
    
    git-svn-id: trunk@47997 -

M	compiler/pdecsub.pas

******************************************************************************
commit 9179f9d43b5ebc1ba356a7d0ad12a13a2ac52b3f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:12 2021 +0000

    * always add a generic dummy if it is a procsym
    
    git-svn-id: trunk@47996 -

M	compiler/pgenutil.pas

******************************************************************************
commit d854d18bd9730ffbe4340dd8a1dc9c2c1efd65b8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:08 2021 +0000

    * instead of blindly consuming whatever comes next trigger an explicit error if the parsed expression does not match for "INDEX ordexpr" or "NAME strexpr"
    + added tests
    
    git-svn-id: trunk@47995 -

M	.gitattributes
M	compiler/pexports.pas
A	tests/webtbf/tw38289a.pp
A	tests/webtbf/tw38289b.pp

******************************************************************************
commit 3109005791794f433437c6d452e72f1bffbd4a4a
Author: florian <florian@freepascal.org>
Date:   Sat Jan 2 22:18:38 2021 +0000

      + fold also (string const+(string const+string var))
      * string tree folding code moved into level 2 opt. block
    
    git-svn-id: trunk@47986 -

M	compiler/nadd.pas
M	tests/webtbs/tw38267b.pp

******************************************************************************
commit 7de94e7a1dd1ee7de675c334fc936a64f72fb978
Author: florian <florian@freepascal.org>
Date:   Sat Jan 2 17:18:54 2021 +0000

      * properly fold string+string const+string const., resolves #38267
    
    git-svn-id: trunk@47977 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw38267b.pp

******************************************************************************
commit 8b080792240467c8df06d80cc87deeb06fca1434
Author: florian <florian@freepascal.org>
Date:   Sat Jan 2 16:39:39 2021 +0000

      * fpc_AnsiStr_Concat: if one of the strings is empty and CP_NONE is passed, the code page
        of the other string is taken, this is also like fpc_AnsiStr_Concat_multi works if length(sarr)=2
    
    git-svn-id: trunk@47976 -

M	rtl/inc/astrings.inc

******************************************************************************
commit e6037961e3be89a55dcb273dd8327fdb85d5338c
Author: florian <florian@freepascal.org>
Date:   Fri Jan 1 21:58:12 2021 +0000

      * refactored constant folding code
    
    git-svn-id: trunk@47935 -

M	compiler/nadd.pas

******************************************************************************
commit 97abf6b49557961c9fdd525b4b4db4e4763d6e37
Author: florian <florian@freepascal.org>
Date:   Fri Jan 1 15:26:13 2021 +0000

      * first part of fixing #38267: do not bail out early during constant folding
        if the constant is 1 or -1
    
    git-svn-id: trunk@47933 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw38267a.pp

******************************************************************************
commit b4a6c22234aeb9982a3d27ca0c37e0f2b7963958
Author: florian <florian@freepascal.org>
Date:   Thu Dec 31 15:52:02 2020 +0000

      * do not check inlined exit nodes for unset results, resolves #38259
    
    git-svn-id: trunk@47926 -

M	compiler/optdfa.pas
M	tests/webtbs/tw38259.pp

******************************************************************************
commit 32999fbaba853286412aed98a5d2a89262a0cd65
Author: joost <joost@cnoc.nl>
Date:   Wed Dec 30 15:41:44 2020 +0000

     * Fixed missing slash in fppkg.cfg when installed in the root
    
    git-svn-id: trunk@47913 -

M	compiler/utils/samplecfg

******************************************************************************
commit b5725ac3ed071ec564e8f49a80e89b9d46b54bf6
Author: florian <florian@freepascal.org>
Date:   Wed Dec 30 09:34:22 2020 +0000

      * while not official supported, bootstrapping with 3.0.4 fixed
    
    git-svn-id: trunk@47901 -

M	rtl/i386/cpu.pp

******************************************************************************
commit edfbf2ce30215262b7e8c2d5f0b9c516bead4fc3
Author: florian <florian@freepascal.org>
Date:   Tue Dec 29 22:35:33 2020 +0000

      * correctly handle inlined exits in dfa, resolves #38259
    
    git-svn-id: trunk@47894 -

M	.gitattributes
M	compiler/optdfa.pas
M	compiler/optutils.pas
A	tests/webtbs/tw38259.pp

******************************************************************************
commit 6866b0726693946e7e15903c10e83a2df1bc2bdd
Author: florian <florian@freepascal.org>
Date:   Tue Dec 29 18:26:20 2020 +0000

      * simplified test after r47892
    
    git-svn-id: trunk@47893 -

M	tests/test/cg/tm128.pp

******************************************************************************
commit eb7702bea42c58dc4591524ef35fce8ea9b5b62b
Author: florian <florian@freepascal.org>
Date:   Tue Dec 29 18:19:35 2020 +0000

      + implement align directive for records, resolves #28927
    
    git-svn-id: trunk@47892 -

M	.gitattributes
M	compiler/ptype.pas
A	tests/webtbs/tw28927.pp

******************************************************************************
commit 2fc672452d27fe93609cb52bfca8a90a1b002cd7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 29 13:07:41 2020 +0000

      * fixed error in load_fpu_location triggered by round() (fixes webtbs/tw32671
        on i386 after r47854)
    
    git-svn-id: trunk@47890 -

M	compiler/x86/nx86inl.pas

******************************************************************************
commit ea55c5f7e39447230d15779135130b2aa860cee0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 28 16:58:58 2020 +0000

      - disable the i386 assembly code for Linux/i386 as it doesn't work with a
        fixed stack (uses hardcoded stack offsets) (mantis #38260)
    
    git-svn-id: trunk@47871 -

M	packages/hash/src/sha1.pp

******************************************************************************
commit 93be88b270d425ff7725db6f653519d2459ae3dc
Author: florian <florian@freepascal.org>
Date:   Mon Dec 28 16:18:55 2020 +0000

      * reverted r47862
    
    git-svn-id: trunk@47869 -

M	compiler/dirparse.pas

******************************************************************************
commit 185f20b9ecfaa598d6d6e3c042707c4e87273e0f
Author: marco <marco@freepascal.org>
Date:   Mon Dec 28 10:46:35 2020 +0000

     * fix comment typo mentioned by Bart
    
    git-svn-id: trunk@47866 -

M	compiler/psub.pas

******************************************************************************
commit 6169bbeed5936ec152279666681362007726f3cb
Author: florian <florian@freepascal.org>
Date:   Sun Dec 27 21:54:01 2020 +0000

      + $codealign directive accepts setting maxcrecord
    
    git-svn-id: trunk@47862 -

M	compiler/dirparse.pas

******************************************************************************
commit 6d03f2807a94366b797af7c01350beda4fd19b3b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:19:05 2020 +0000

      * made exit codes unique
    
    git-svn-id: trunk@47860 -

M	tests/test/tprec8.pp

******************************************************************************
commit b359080f42f427da88a6dc8790f00f486ac2351e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:19:02 2020 +0000

      * fixed round(currency) so it takes the rounding mode into account on
        platforms where currency is "type int64"
      * inline trunc(currency), trunc(comp) and round(comp) on platforms where
        currency and comp are "type int64"
    
    git-svn-id: trunk@47859 -

M	.gitattributes
M	rtl/inc/currh.inc
M	rtl/inc/gencurr.inc
A	tests/test/units/math/trndcurr.pp

******************************************************************************
commit 514db355b1fce2eaedf4efd2ac2b637946f4efe4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:59 2020 +0000

      * darwin/AArch64: always clear fpu exception flags regardless of the
        triggered signal, as the kernel currently triggers SIGILL rather
        than SIGFPE for FPU exceptions
    
    git-svn-id: trunk@47858 -

M	rtl/darwin/aarch64/sighnd.inc

******************************************************************************
commit 8ba4c4bcf0ccb8f927c6a15dd9cf07bb02789946
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:56 2020 +0000

      * factored out the creation of loadnodes for special variables/parameters
    
    git-svn-id: trunk@47857 -

M	compiler/nld.pas
M	compiler/nutils.pas
M	compiler/symsym.pas

******************************************************************************
commit 5e3e4437c442a0e916cc3137f1a17583161a78de
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:53 2020 +0000

      * use new TSym.EscapedRealName property when creating new symbols with the
        same name as existing symbols
    
    git-svn-id: trunk@47856 -

M	compiler/symbase.pas
M	compiler/symcreat.pas

******************************************************************************
commit 5d51a788f77f5a9b6610375c5b7f7598274bc6ae
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:50 2020 +0000

      - revert r47208
      * properly fix the internalerror it hid: only replace the local symbols
        migrated to the parentfpstruct right before generating debug information,
        so that internally generated self/result loads during optimisation passes
        don't get confused by the replacement absolutevarsyms (those are normally
        never encountered during optimisation, as regular absolutevarsyms are
        replaced during parsing)
    
    git-svn-id: trunk@47855 -

M	compiler/nutils.pas
M	compiler/optdfa.pas
M	compiler/psub.pas

******************************************************************************
commit 3e047d3691851aa988e95fd76fe241fdb2386470
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:47 2020 +0000

      * generate more efficient code for trunc(currency), trunc(comp), and
        round(comp) on platforms where currency and comp are handled using the FPU
       o also fixes trunc(comp) and trunc(currency) compilation for x86 on LLVM
         with -Oofastmath
     * add missing removal of excess fpu precision typecasts for trunc/round
    
    git-svn-id: trunk@47854 -

M	.gitattributes
M	compiler/defutil.pas
M	compiler/ninl.pas
A	tests/tbs/tb0683.pp

******************************************************************************
commit c0c0acbcb9edd11007a891b0942d2d74ee315209
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:44 2020 +0000

      * fixed llvm shadow symtable construction in case fields are reordered
        (-Ooorderfields) and hence their offsets are no longer monotonically rising
      * also fixed padding for variant bitpacked records in llvm shadow symtable
    
    git-svn-id: trunk@47853 -

M	compiler/symtable.pas

******************************************************************************
commit 98d3473a1a699919fa8e27f616cb2e2e660c2430
Author: florian <florian@freepascal.org>
Date:   Sat Dec 26 21:11:12 2020 +0000

      * i386: disable InterlockedCompareExchange128 implementation if PIC is enabled
    
    git-svn-id: trunk@47852 -

M	rtl/i386/cpu.pp

******************************************************************************
commit 33afecd117abbd8c48433ff6396bc3b7419cda09
Author: florian <florian@freepascal.org>
Date:   Sat Dec 26 18:51:45 2020 +0000

      + support got modifier on labels
    
    git-svn-id: trunk@47851 -

M	.gitattributes
M	compiler/x86/rax86att.pas
A	tests/tbs/tb0682.pp

******************************************************************************
commit 8b34e11da36947a064d53dc7ce367069abd69bbf
Author: pierre <pierre@freepascal.org>
Date:   Sat Dec 26 17:08:56 2020 +0000

     Add code to test Linux version, try statx syscall only if version is >= to 4.11
    
    git-svn-id: trunk@47850 -

M	tests/test/units/linux/tstatx.pp

******************************************************************************
commit 6190258f5d0c9b9992e8346bffbc8c18070f976b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Dec 26 00:21:31 2020 +0000

    m68k: new CPU capability - the LINK instruction supports LONG displacements (68020+)
    
    git-svn-id: trunk@47849 -

M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit 053c42da3376a83975d1b45b78587f466d28fcba
Author: florian <florian@freepascal.org>
Date:   Fri Dec 25 18:18:09 2020 +0000

      + Xtensa: support large stack frames for the call0 abi
    
    git-svn-id: trunk@47848 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 16a21eea87c564e9bd99c95eefb5980c9b230cfa
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Dec 25 09:07:21 2020 +0000

    m68k: the LEA+MOVEM to MOVEM optimization is not feasible on a ColdFire
    
    git-svn-id: trunk@47847 -

M	compiler/m68k/aoptcpu.pas

******************************************************************************
commit 0fd7a5cb1fb05d0ee521c98cdcff695e95194b79
Author: florian <florian@freepascal.org>
Date:   Thu Dec 24 13:13:42 2020 +0000

      * lines with 255 chars a little bit long, reformated them
    
    git-svn-id: trunk@47845 -

M	compiler/nflw.pas

******************************************************************************
commit 26170815b410639e9a1b233a854884f913d47068
Author: pierre <pierre@freepascal.org>
Date:   Thu Dec 24 11:26:01 2020 +0000

     Fix compilation of i8086 compiler after commit #47840
    
    git-svn-id: trunk@47844 -

M	compiler/x86/nx86inl.pas

******************************************************************************
commit 6db164c9936938755328022913d2985b1d3eec66
Author: florian <florian@freepascal.org>
Date:   Wed Dec 23 22:41:37 2020 +0000

      * min/max optimization needs to check both operands of the if condition, even if no else-statement is passed, resolves #38249
    
    git-svn-id: trunk@47843 -

M	.gitattributes
M	compiler/nflw.pas
M	tests/test/tminmax.pp
A	tests/webtbs/tw38249.pp

******************************************************************************
commit b03eefd5d0bc17a5bcd03eb7850280509aa17b0b
Author: florian <florian@freepascal.org>
Date:   Wed Dec 23 17:58:07 2020 +0000

      * Ch_ information for vreduce* fixed
    
    git-svn-id: trunk@47842 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 3a668d9b7c1720851d9980e132e0201d02b6a1aa
Author: florian <florian@freepascal.org>
Date:   Wed Dec 23 17:55:22 2020 +0000

      * i386 compilation fixed
    
    git-svn-id: trunk@47841 -

M	compiler/i386/cpuinfo.pas

******************************************************************************
commit b713c7380bbd705f224c1bc1ad1e26eb8f5694e4
Author: florian <florian@freepascal.org>
Date:   Wed Dec 23 17:25:09 2020 +0000

      * implemented UseAVX512 properly
      + make use of VREDUCE* for frac(...) if AVX512QD is a available
    
    git-svn-id: trunk@47840 -

M	compiler/x86/cpubase.pas
M	compiler/x86/nx86inl.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 2bcd2a4a937cb2c8eb5e2e090e03816e934b8549
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 23 10:19:44 2020 +0000

     Appply fix from Gareth Moreton in bug report 38247
    
    git-svn-id: trunk@47838 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 01691e9ecbe3a4cccd531799227886d3d1ac92b1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Dec 22 23:14:25 2020 +0000

    * fix the m68k cross-builds by disabling part of r47824
    
    git-svn-id: trunk@47835 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit cc92af8423a84a63ca73688c50f211869af3be97
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Dec 22 22:22:35 2020 +0000

    * apply patch by Blaise.ru to enable the correct generation of names for classes/interfaces inside local symtables; these will be required for reference function types which are in fact interfaces and classes, this does not mean that ordinary classes can be declared inside functions
    Note: no test as the functionality is not yet used
    
    git-svn-id: trunk@47834 -

M	compiler/symdef.pas

******************************************************************************
commit 4f05523db92992b8fd91fc7d7620c5ae267b08bc
Author: florian <florian@freepascal.org>
Date:   Tue Dec 22 22:00:08 2020 +0000

      + RTMSupport function
      + if available use RTM to support InterlockedCompareExchange128 on i386
    
    git-svn-id: trunk@47833 -

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/tcas128.pp

******************************************************************************
commit da468719df559b3d0e0e0561fc8537de10a5ce2e
Author: florian <florian@freepascal.org>
Date:   Mon Dec 21 21:43:06 2020 +0000

      * patch by Christo Crause to take care of the fact that the esp8266 read function is non-blocking, resolves #38243
    
    git-svn-id: trunk@47832 -

M	rtl/freertos/xtensa/esp8266.pp

******************************************************************************
commit 2a990b8167e0da36ce24a4e90263ac8e6cb47aae
Author: florian <florian@freepascal.org>
Date:   Sun Dec 20 18:05:43 2020 +0000

      + patch by J. Gareth Moreton: some new x86 assembler optimizations, resolves #38130
    
    git-svn-id: trunk@47824 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit b8fc193b0ce6c478d9d7ea0fca2486e3817fea55
Author: florian <florian@freepascal.org>
Date:   Sat Dec 19 12:58:35 2020 +0000

      * extended test
    
    git-svn-id: trunk@47818 -

M	tests/test/texception4.pp

******************************************************************************
commit 3f605a5b5033cb7acfe46b673e10c5a020a9b085
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sat Dec 19 11:57:58 2020 +0000

    win rtl: load GetTimeZoneInformationForYear dynamically. Issue #38192
    
    git-svn-id: trunk@47817 -

M	rtl/win/sysutils.pp
M	rtl/win/wininc/redef.inc

******************************************************************************
commit 1d92cc43bb5a80894d732202acd658d0add06c70
Author: florian <florian@freepascal.org>
Date:   Fri Dec 18 22:36:17 2020 +0000

      * fpc_ln_real raises an exception for invalid operands if they exception is not masked
    
    git-svn-id: trunk@47813 -

M	rtl/inc/genmath.inc
M	tests/test/texception4.pp

******************************************************************************
commit 072be7b0f7dd383df9653c900080513e12a38afc
Author: florian <florian@freepascal.org>
Date:   Fri Dec 18 21:39:35 2020 +0000

      * Aarch64: fix 32 bit div operations with constant denominators, resolves #38225
    
    git-svn-id: trunk@47812 -

M	.gitattributes
M	compiler/aarch64/ncpumat.pas
A	tests/webtbs/tw38225.pp

******************************************************************************
commit 2a897f5b6b36e4817a73b18bc9e2d3c346befd30
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Dec 18 13:50:39 2020 +0000

    * apply slightly adjusted patch by Blaise.ru which moves parsing of result types to a separate functions thus ensuring that File types can't be used for procedure variables (just like they already couldn't be used as a result type for normal functions)
    + added test
    
    git-svn-id: trunk@47810 -

M	.gitattributes
M	compiler/pdecsub.pas
M	compiler/ptype.pas
A	tests/tbf/tb0273.pp

******************************************************************************
commit a1b252538fc592ad908f881b5b7aa63bc152696e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Dec 18 13:50:36 2020 +0000

    * change def parameter of single_type() from var to out (part of patch by Blaise.ru)
    
    git-svn-id: trunk@47809 -

M	compiler/ptype.pas

******************************************************************************
commit 4b3fee38a5a20c1f5db4a9b536e1b6e833258889
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Dec 18 11:55:21 2020 +0000

    dati.inc: tabs 2 spaces and whitespaces formatting fix. no functional changes
    
    git-svn-id: trunk@47808 -

M	rtl/objpas/sysutils/dati.inc

******************************************************************************
commit 80f87edffd5b383a3530571bebdf15899c7c1724
Author: florian <florian@freepascal.org>
Date:   Thu Dec 17 22:09:23 2020 +0000

      * x86-64: correctly translate and with large constants in mod optimizations, resolves #38164
    
    git-svn-id: trunk@47805 -

M	.gitattributes
M	compiler/x86/nx86mat.pas
A	tests/webtbs/tw38164.pp

******************************************************************************
commit 9af9f140a52981f0d88b7d26bdcf2f915c95ad89
Author: florian <florian@freepascal.org>
Date:   Wed Dec 16 21:55:05 2020 +0000

      * do an unsigned division if one operand is unsigned an the other
        one a constant in its range, resolves #38180
    
    git-svn-id: trunk@47797 -

M	compiler/nmat.pas
M	compiler/x86/nx86mat.pas

******************************************************************************
commit 9858d9c5e67ffc9580feda5de1789b8e7f6d1b2f
Author: florian <florian@freepascal.org>
Date:   Wed Dec 16 21:55:05 2020 +0000

      * apply doremoveinttypeconvs to unary minus and not on 8 and 16 bit targets as well
    
    git-svn-id: trunk@47796 -

M	compiler/ncnv.pas

******************************************************************************
commit 9a0107a19dee80cf629e147e6ccf70ac5843500b
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 16 00:07:39 2020 +0000

     Fix compilation failure for avr compiler with -dDEBUG_NODE_XML, to fix bug report 38222
    
    git-svn-id: trunk@47783 -

M	compiler/verbose.pas

******************************************************************************
commit aeff5b3577af8d13b99a78e0021306a2c03aacf5
Author: florian <florian@freepascal.org>
Date:   Tue Dec 15 21:33:33 2020 +0000

      * improved change information
    
    git-svn-id: trunk@47781 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 2e2f2eb78467fd70d59196033a7197e9428f3992
Author: florian <florian@freepascal.org>
Date:   Mon Dec 14 21:55:42 2020 +0000

      - remove could which prevented that rte is triggered even if we are inside
        an exception block but *without* using sysutils. The remove code
        was once added to have primitive exception handling even if
        no sysutils is used. But if this is desired, an appropriate handler
        to ErrorProc should be assigned. Resolves #38201
    
    git-svn-id: trunk@47775 -

M	.gitattributes
M	rtl/inc/system.inc
A	tests/webtbs/tw38201.pp

******************************************************************************
commit 00af340febfa4f8b38630d5818f3003d8e74d4dc
Author: florian <florian@freepascal.org>
Date:   Mon Dec 14 21:55:41 2020 +0000

      * cleanup
    
    git-svn-id: trunk@47774 -

M	compiler/psub.pas

******************************************************************************
commit eb722c8294f91f274806673ee4941fd40334890a
Author: pierre <pierre@freepascal.org>
Date:   Mon Dec 14 11:21:10 2020 +0000

     Fix ash_savefregp_x handling, as revealed by range check error
    
    git-svn-id: trunk@47773 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 6d7d567a25a28dccb3f5603644a4fccbb9f1bacf
Author: florian <florian@freepascal.org>
Date:   Sun Dec 13 09:52:45 2020 +0000

      * min/max optimization on x86 can be applied now without fastmath as NaN is handled properly now
    
    git-svn-id: trunk@47769 -

M	compiler/nflw.pas

******************************************************************************
commit b90ec52a0eb7042ce95d12843c246c80a05caa4f
Author: florian <florian@freepascal.org>
Date:   Sun Dec 13 09:52:45 2020 +0000

      * x86: apply VOpVmov2VOp optimization to vmins*/vmaxs*
    
    git-svn-id: trunk@47768 -

M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 88a0d4d64bc49b3c18150773506a11a487467132
Author: florian <florian@freepascal.org>
Date:   Sun Dec 13 09:52:44 2020 +0000

      + optimize if x>a then x:=a; into min(a,x);, similiar for max
      * test extended
    
    git-svn-id: trunk@47767 -

M	compiler/nflw.pas
M	tests/test/tminmax.pp

******************************************************************************
commit 53a4e6c513bf1a7e3d98e869027a92041b2b40ee
Author: florian <florian@freepascal.org>
Date:   Sat Dec 12 21:39:17 2020 +0000

      * patch by Zoran Vučenović: fixes TDoubleRec.SetFrac, resolves #38202
      + test
    
    git-svn-id: trunk@47765 -

M	.gitattributes
M	rtl/inc/genmath.inc
A	tests/webtbs/tw38202.pp

******************************************************************************
commit c82aae59a11fdfde4b5cf400392450312126e869
Author: florian <florian@freepascal.org>
Date:   Fri Dec 11 22:14:18 2020 +0000

      * call node_complexity correctly in order_parameters when sorting parameters
    
    git-svn-id: trunk@47763 -

M	compiler/ncal.pas

******************************************************************************
commit 0ab69ea0ad067a2114eb1e5142afc99cf5f5d965
Author: florian <florian@freepascal.org>
Date:   Fri Dec 11 22:14:17 2020 +0000

      + m68k: LEA, MOVE(M) to MOVE(M) predecremented optimization and MOVE(M), LEA to MOVE(M) postincremented optimization
    
    git-svn-id: trunk@47762 -

M	compiler/m68k/aoptcpu.pas

******************************************************************************
commit a0a8a6911a1d0f9e17fbd6c7f4a54bcdb1a9adca
Author: florian <florian@freepascal.org>
Date:   Fri Dec 11 22:14:16 2020 +0000

      * m68k: proper values for first_*_reg
    
    git-svn-id: trunk@47761 -

M	compiler/m68k/cpubase.pas

******************************************************************************
commit f0298f63d0a2442d867f9565155ac77ead27541c
Author: florian <florian@freepascal.org>
Date:   Fri Dec 11 17:32:41 2020 +0000

      * allow absolute variables with an address to be used as syscall base
    
    git-svn-id: trunk@47757 -

M	compiler/pdecsub.pas

******************************************************************************
commit 67284c7452b0d81090c90b80233320ad6759c6b2
Author: yury <jura@cp-lab.com>
Date:   Fri Dec 11 14:17:18 2020 +0000

    + Added a test for proper setting of fc_no_direct_exit in flowcontrol.
    
    git-svn-id: trunk@47755 -

M	.gitattributes
A	tests/test/cg/texit2.pp

******************************************************************************
commit 0d592e8d1a3c232754f0de04a8803ed0dfc1b8a8
Author: pierre <pierre@freepascal.org>
Date:   Fri Dec 11 11:14:33 2020 +0000

      * Try to read command line exec name on linux, using argv[0], in order to be able
        to use the symbolic link name instead of the real executable name.
        This allows to use symbolic links to gppc386, named gppc1
        to be able to launch ppc1 under gdb, as it is already possible
        under OpenBSD (which returns the command line name via paramstr(0),
        or under Windows if <SYMLINK> is used (generated by mklink).
      + Generate errors if compiler executable is not found, or if gdb binary
        is not found.
    
    git-svn-id: trunk@47753 -

M	compiler/utils/gppc386.pp

******************************************************************************
commit 729c1dee8cc0d3aff441f55ce93e30d71af6527c
Author: michael <michael@freepascal.org>
Date:   Fri Dec 11 09:14:25 2020 +0000

    * Fix bug ID #38193: order on darwin is same as openbsd
    
    git-svn-id: trunk@47752 -

M	packages/fcl-net/src/cnetdb.pp

******************************************************************************
commit 817ef6949ae0334c4cb2ffd3a1251b4f16439bee
Author: florian <florian@freepascal.org>
Date:   Thu Dec 10 21:51:26 2020 +0000

      * m68k:  MOVE, TST, Jxx/Sxx to MOVE, Jxx optimization
    
    git-svn-id: trunk@47751 -

M	compiler/m68k/aoptcpu.pas

******************************************************************************
commit bb8c3fd153083180e5f527eaa95ec5a70f0b08fd
Author: florian <florian@freepascal.org>
Date:   Thu Dec 10 21:09:20 2020 +0000

      * made optimization JSR, RTS to JMP more bullet proof, added comment
    
    git-svn-id: trunk@47750 -

M	compiler/m68k/aoptcpu.pas

******************************************************************************
commit 6eb37beb2420409c9e113b06fb651c9cb91c7e72
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Dec 10 17:04:12 2020 +0000

    win32: SysErrorMessage: ignore inserts (when not used the messages with inserts are empty) and allocate message buffer
    
    git-svn-id: trunk@47748 -

M	rtl/win/sysutils.pp

******************************************************************************
commit 1efeb5851ada4f52ab63cda11fc1862198744a63
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Dec 10 06:11:46 2020 +0000

    * fix regression introduced with r47625 for Mantis #38122: when checking for a dereferentiation of the Self parameter subscript and vec nodes need to be kept
    + added test
    
    git-svn-id: trunk@47747 -

M	.gitattributes
M	compiler/ncal.pas
A	tests/webtbs/tw38122b.pp

******************************************************************************
commit 2bd7877ec00e5de5cb954ce87403c604aad204b4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Dec 10 04:56:26 2020 +0000

    amiga: fixed the recently added link map generation to work properly. needs recent vlink to work
    
    git-svn-id: trunk@47746 -

M	compiler/systems/t_amiga.pas

******************************************************************************
commit 7f96a26de03564f81ba124211601a0b969243b97
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Dec 10 04:17:06 2020 +0000

    m68k: in g_concatcopy, check the actual alignment of references being copied rather than always excluding word and dword sized direct copies on a 68000
    
    git-svn-id: trunk@47744 -

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit a849e51a3c698f59fe89facb9b161b2d8d91bfdb
Author: florian <florian@freepascal.org>
Date:   Wed Dec 9 20:57:06 2020 +0000

      + m68k: JSR, RTS to JMP optimization
    
    git-svn-id: trunk@47740 -

M	compiler/m68k/aoptcpu.pas
M	compiler/m68k/cpubase.pas

******************************************************************************
commit a0e96fd55111b9f4512653f9f782b43a8e7b479d
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 9 12:36:46 2020 +0000

     Fix pos field closing in XML node output after commit 47720
    
    git-svn-id: trunk@47737 -

M	compiler/node.pas

******************************************************************************
commit 3707cb4b1ec8931596f2e0c33e820358bbf0a085
Author: florian <florian@freepascal.org>
Date:   Tue Dec 8 20:41:58 2020 +0000

      * handle min/max properly if it is applied to NaNs
      * test extended
    
    git-svn-id: trunk@47729 -

M	compiler/nflw.pas
M	tests/test/tminmax.pp

******************************************************************************
commit 348be7657df8af9c28ad0230bd81e85ebb42dc2c
Author: pierre <pierre@freepascal.org>
Date:   Tue Dec 8 11:28:50 2020 +0000

     Fix bug introduced in commit #47709, by only calling node_complexity if first pass was already done (bug report 38183)
    
    git-svn-id: trunk@47720 -

M	compiler/node.pas

******************************************************************************
commit 674c3f04e042493b93c3b89990bc321b20df1287
Author: florian <florian@freepascal.org>
Date:   Mon Dec 7 21:31:07 2020 +0000

      + added explanation for min/max intrinsics
      * prepared x86 implementation for proper NaN handling
    
    git-svn-id: trunk@47715 -

M	compiler/compinnr.pas
M	compiler/x86/nx86inl.pas

******************************************************************************
commit a7232669fff29a5a4054bb64ea000f402d31bc45
Author: pierre <pierre@freepascal.org>
Date:   Mon Dec 7 07:28:04 2020 +0000

       * Adapted from patch node-dump-pass-1.patch submitted by J. Gareth Moreton from bug report 38156.
         This patch extends the DEBUG_NODE_XML debug feature by also outputting,
         to the *-node-dump.xml files, the node tree as it appears after the first pass,
         since it often contains many more internal nodes like temporary allocations that may need
         to be evaluated for debugging and development purposes, or node-level optimisation opportunities.
    
    git-svn-id: trunk@47709 -

M	compiler/psub.pas

******************************************************************************
commit 8d238cfaa17fdc886d8465f3d2416243400f30bc
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 20:22:39 2020 +0000

      * limit min/max optimization to fastmath for now, as the NaN handling is not working yet
    
    git-svn-id: trunk@47704 -

M	compiler/nflw.pas

******************************************************************************
commit d49453edbadd3242cb7a1077d5d5390aeb7573ed
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 19:31:03 2020 +0000

      * quick fix for llvm compilation
    
    git-svn-id: trunk@47702 -

M	compiler/nflw.pas

******************************************************************************
commit 1a9678f4c4fd4dc138cdfb5e1e94dee81877ce97
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 18:09:30 2020 +0000

      + min/max support for x86
    
    git-svn-id: trunk@47701 -

M	compiler/nflw.pas
M	compiler/x86/nx86inl.pas

******************************************************************************
commit c0d75c1c69f804e924f79271a188a2f5bc590397
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 16:40:30 2020 +0000

      * patch Christo Crause: Use LDS for 8 bit references, resolves #38173
    
    git-svn-id: trunk@47700 -

M	compiler/cgobj.pas

******************************************************************************
commit 4f3271500a84ec359824d38ec2a0f1da564dc4d3
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 16:37:54 2020 +0000

      * (modified) patch by Christo Crause: ESP8266 doesn't support min/max instructions, resolves #38175
    
    git-svn-id: trunk@47699 -

M	compiler/nflw.pas
M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit 92520c423e7d6a78f7f657ddae930b6abb404794
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 16:22:38 2020 +0000

      * x86 change information updated
    
    git-svn-id: trunk@47698 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit a16b34d951e1b1ae145419cea7bc6c8c6682f794
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 14:19:00 2020 +0000

      * test for min/max intrinsics
    
    git-svn-id: trunk@47697 -

M	.gitattributes
A	tests/test/tminmax.pp

******************************************************************************
commit 19ce665b3d95ffd9a59577f980819665b32aa8fc
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 14:18:59 2020 +0000

      * compilation fixed
    
    git-svn-id: trunk@47696 -

M	compiler/nflw.pas

******************************************************************************
commit 7da0284bfce4513392431f80b2b4ea35e29c0011
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 10:23:18 2020 +0000

      + read 64-Bit ELF executable info correctly
    
    git-svn-id: trunk@47695 -

M	compiler/link.pas
M	compiler/systems/t_linux.pas

******************************************************************************
commit e60a367f1b325b10428f3c7a274a4b6d24d60ffe
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 10:23:17 2020 +0000

      + project file for PowerPC64LE
    
    git-svn-id: trunk@47694 -

M	.gitattributes
A	compiler/ppcppc64le.lpi

******************************************************************************
commit 57dc416d9608f12749c1a50f7b058b0f62fd2c10
Author: florian <florian@freepascal.org>
Date:   Sat Dec 5 22:00:59 2020 +0000

      + replace appropriate if statements by min/max intrinsics
      + support min/max intrinsic on xtensa
    
    git-svn-id: trunk@47693 -

M	compiler/defutil.pas
M	compiler/nflw.pas
M	compiler/nutils.pas
M	compiler/xtensa/ncpuinl.pas

******************************************************************************
commit 6e4997265ca10e315fa140d645b9166c64c95b7b
Author: florian <florian@freepascal.org>
Date:   Sat Dec 5 22:00:58 2020 +0000

      + min/max intrinsics for internal use by the compiler
    
    git-svn-id: trunk@47692 -

M	compiler/compinnr.pas
M	compiler/ncginl.pas
M	compiler/ninl.pas
M	compiler/optcse.pas

******************************************************************************
commit 28d248c9d41e47fff2237448b7c30d1096d7908d
Author: florian <florian@freepascal.org>
Date:   Sat Dec 5 22:00:57 2020 +0000

      * cleanup merge overlefts
    
    git-svn-id: trunk@47691 -

M	compiler/ninl.pas

******************************************************************************
commit 19d5e4361575564889b0d4230a10fd84973c43e9
Author: pierre <pierre@freepascal.org>
Date:   Sat Dec 5 21:23:09 2020 +0000

     Avoid internalerror in RemoveCurrentP for arm compiler
    
    git-svn-id: trunk@47690 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 0189276a12c2784225e4d97baacb0a7bea6aac6c
Author: pierre <pierre@freepascal.org>
Date:   Sat Dec 5 21:22:18 2020 +0000

     Raise internalerror inside RemoveCurentP is called with p=hp1, because it leads to using a class instance after it has been freed
    
    git-svn-id: trunk@47689 -

M	compiler/aoptobj.pas

******************************************************************************
commit 4f3a21eeecdcd63d878b4d010796a2bba43bb380
Author: florian <florian@freepascal.org>
Date:   Fri Dec 4 22:43:55 2020 +0000

      * don't do x*x -> optimziation for xtensa as it causes a recursive call in sqr(...)
    
    git-svn-id: trunk@47688 -

M	compiler/nadd.pas

******************************************************************************
commit 9c6bdcfbb793f7557fc0339c251a727e8f14b701
Author: florian <florian@freepascal.org>
Date:   Thu Dec 3 21:22:07 2020 +0000

      * fix in r47632 should be enabled for all targets as it is a stack tainting
        parameter
    
    git-svn-id: trunk@47680 -

M	compiler/psub.pas

******************************************************************************
commit 0cc91a50c782509d8fac0ed8f977f60a727fb387
Author: pierre <pierre@freepascal.org>
Date:   Thu Dec 3 11:05:36 2020 +0000

     Fix z80 compiler failure after change to ConcatConstSymbol in commit #47668
    
    git-svn-id: trunk@47675 -

M	compiler/z80/raz80asm.pas

******************************************************************************
commit 482698e566a62166d5cbb129409ba2d4cba8ea86
Author: florian <florian@freepascal.org>
Date:   Wed Dec 2 21:44:12 2020 +0000

      + add endsym to ConcatConstSymbol
    
    git-svn-id: trunk@47668 -

M	compiler/aasmtai.pas
M	compiler/raatt.pas
M	compiler/rautils.pas
M	compiler/x86/rax86int.pas

******************************************************************************
commit 6230de31bb7507f9a4eb6694f283f769fe0eae9a
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 2 21:01:40 2020 +0000

       * Second patch  xml-node-dump-defs.patch from J. Gareth Moreton from bug report 36882.
         With same changes to ensure that xmllint find no errors in generated xml files.
    
    git-svn-id: trunk@47667 -

M	compiler/pdecl.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtype.pas
M	compiler/verbose.pas

******************************************************************************
commit a7fa31aa10ffd22de56175d14a6321fdcad160b5
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 2 09:29:08 2020 +0000

     Fix i8086 compiler failure due to move of printnodeindention variable into verbose unit in commit #47658
    
    git-svn-id: trunk@47664 -

M	compiler/i8086/n8086con.pas

******************************************************************************
commit cbec395907c9c3e8871c2ef08f6fe1fa57e4e44d
Author: florian <florian@freepascal.org>
Date:   Tue Dec 1 21:54:45 2020 +0000

      * test needs -Cg to trigger the warning
    
    git-svn-id: trunk@47661 -

M	tests/webtbf/tw22665b.pp

******************************************************************************
commit 0b63068ad2b7270cd9abcdb79026f77956303d7d
Author: florian <florian@freepascal.org>
Date:   Tue Dec 1 21:39:38 2020 +0000

      * dir_push might not flush pending switch changes but has to read the pending
        record if needed
    
    git-svn-id: trunk@47660 -

M	compiler/scandir.pas

******************************************************************************
commit 8b06b43c1aad9b68467844ca51acbb017d0650f4
Author: florian <florian@freepascal.org>
Date:   Tue Dec 1 21:18:47 2020 +0000

      * meanwhile all linux targets support the checkpointer directive
    
    git-svn-id: trunk@47659 -

M	tests/webtbf/tw25862.pp

******************************************************************************
commit af17e9460b17f9e0cebf469fde8c221f8b501768
Author: pierre <pierre@freepascal.org>
Date:   Tue Dec 1 11:45:14 2020 +0000

      Apply patch proposed by J. Gareth Moreton in:
      bug report #0036882: [Feature] Class and record definition XML dump extension
    
      These patches extend the node dump feature (enabled with DEBUG_NODE_XML)
      so it also dumps class and record definitions to the XML file. They are contained within <definition> tags.
      Currently only fields and constants are dumped to the XML file. Methods, constant and variable definitions may be added later.
    
    git-svn-id: trunk@47658 -

M	compiler/node.pas
M	compiler/psub.pas
M	compiler/verbose.pas

******************************************************************************
commit 9901a11d223ff5407a9d243a343e0811b1e41bf4
Author: pierre <pierre@freepascal.org>
Date:   Tue Dec 1 10:41:16 2020 +0000

     Add internalerror when V_Error level is used in Test_double_checksum code, only with TEST_CRC_ERROR macro set
    
    git-svn-id: trunk@47657 -

M	compiler/ppu.pas

******************************************************************************
commit 7f07c9f94d9e963f5bd457ea667178ec0b73c1e3
Author: florian <florian@freepascal.org>
Date:   Mon Nov 30 22:08:04 2020 +0000

      + range check enumeration array indicies, range checking is after all a safety mean
    
    git-svn-id: trunk@47652 -

M	compiler/nmem.pas

******************************************************************************
commit 792b629aa6e33ed5f9dc8bd6427bd87aa9c2606d
Author: florian <florian@freepascal.org>
Date:   Mon Nov 30 22:07:34 2020 +0000

      + -Xa option: generate code which allows to use more than 2 GB of static data on 64 Bit targets
      + implemented support for x86-64
      * more than 2 GB static data requires to use the --no-relax option on linux
    
    git-svn-id: trunk@47651 -

M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems/t_linux.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/x86/cgx86.pas
M	tests/tbs/tb0528.pp
M	tests/webtbs/tw17236.pp

******************************************************************************
commit c890a126fe2ce05614b0bbff10b8046146824d86
Author: florian <florian@freepascal.org>
Date:   Mon Nov 30 22:07:33 2020 +0000

      * allow an AT&T suffix for movabs
    
    git-svn-id: trunk@47650 -

M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit a82ac3fb6a78dc97743ef5200f97080c6d8c89c3
Author: michael <michael@freepascal.org>
Date:   Mon Nov 30 17:13:07 2020 +0000

    * Only set cursor name for selectable queries
    
    git-svn-id: trunk@47643 -

M	packages/fcl-db/src/sqldb/interbase/ibconnection.pp

******************************************************************************
commit a9e7d1ef0d5fae4fcad4487af4b8510e108a6230
Author: michael <michael@freepascal.org>
Date:   Mon Nov 30 14:55:46 2020 +0000

    * Allow for async apply updates
    
    git-svn-id: trunk@47641 -

M	packages/fcl-db/src/base/bufdataset.pas
M	packages/fcl-db/src/base/dbconst.pas

******************************************************************************
commit 8ddcb34e60d63a85c93a845c968d5bfb89816b97
Author: florian <florian@freepascal.org>
Date:   Sun Nov 29 21:21:34 2020 +0000

      * fix test for x86_64 targets using the SysV abi
    
    git-svn-id: trunk@47638 -

M	tests/webtbs/tw29957.pp

******************************************************************************
commit b7e2b751cf1683e7f4f93b1b13ec706a7b7bb3ff
Author: florian <florian@freepascal.org>
Date:   Sun Nov 29 20:53:15 2020 +0000

      * fix test for targets not having a real wide string
    
    git-svn-id: trunk@47637 -

M	tests/webtbs/tw17904.pp
M	tests/webtbs/tw5086.pp

******************************************************************************
commit 706d89d6cc695c0740db66e5f141f21d787210d0
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 29 18:49:36 2020 +0000

    * GlobalNameSpace must EndWrite before it is released to unlock the critical section
    
    git-svn-id: trunk@47636 -

M	rtl/objpas/classes/classes.inc

******************************************************************************
commit f982317ebd3fbbd180f354b72dad502d8e5f694b
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 29 17:09:19 2020 +0000

    * cwstring: open iconv with the transliterate flag if iconvctl is not available
    
    git-svn-id: trunk@47635 -

M	rtl/unix/cwstring.pp

******************************************************************************
commit 6854f171d1ab1e7bbe3916d29b0e379e21e75f4e
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 29 14:59:18 2020 +0000

    * revert r47631: cwstring: open iconv with the transliterate flag instead of setting it later with iconvctl because it may be unavailable
    
    git-svn-id: trunk@47633 -

M	rtl/unix/cwstring.pp

******************************************************************************
commit c47d6d7af0ee2eedcf79aa76b91156ed4845e48b
Author: florian <florian@freepascal.org>
Date:   Sun Nov 29 13:38:33 2020 +0000

      * check if an invisible parameter for the result occupies parameter space
    
    git-svn-id: trunk@47632 -

M	compiler/psub.pas

******************************************************************************
commit 91229dcee9f6b783f7268da54aec3fe416735657
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 29 12:08:55 2020 +0000

    * cwstring: open iconv with the transliterate flag instead of setting it later with iconvctl because it may be unavailable
    
    git-svn-id: trunk@47631 -

M	rtl/unix/cwstring.pp

******************************************************************************
commit a33256c1fbd5896ef346b95fb95ef966361afd92
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 29 10:53:23 2020 +0000

    * cwstring: try to load the iconv library with .6 suffix as well
    
    git-svn-id: trunk@47630 -

M	rtl/unix/cwstring.pp

******************************************************************************
commit fbb2e63fea518aa03f018f42589c14d8db8ed78f
Author: florian <florian@freepascal.org>
Date:   Sun Nov 29 10:16:00 2020 +0000

      + #QLvember work: stack frame optimization for m68k
    
    git-svn-id: trunk@47629 -

M	compiler/m68k/cgcpu.pas
M	compiler/psub.pas

******************************************************************************
commit 8192bf1b3373484e96c6a31c368b9dfbdddddbbc
Author: florian <florian@freepascal.org>
Date:   Sun Nov 29 09:40:54 2020 +0000

      * version update
    
    git-svn-id: trunk@47628 -

M	compiler/ppc68k.lpi

******************************************************************************
commit 8e13adad4c6ad7e1b5a3a2f6358f0ae564eef30b
Author: pierre <pierre@freepascal.org>
Date:   Sat Nov 28 18:32:46 2020 +0000

      * Improve Test_Double_checksum with Test_Double_checksum_write CRC testing code.
        Pass the three checksum arrays from ppufile to module owner,
        to be able to check that the checksums computed at the time pf ppu writing
        are compatible with the ones computed at interface level.
    
    git-svn-id: trunk@47626 -

M	compiler/fppu.pas
M	compiler/ppu.pas

******************************************************************************
commit 82957ec5a382eb151a7fcde2bed5f5ca041b887c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Nov 28 18:32:24 2020 +0000

    * Fix for Mantis #38122: when a deref node is passed as a Self parameter for a type helper (which is a var parameter) we need to pass the non-derefentiated value so that the data it points to can be modified by the helper's method (this is Delphi compatible)
    + added tests
    
    git-svn-id: trunk@47625 -

M	.gitattributes
M	compiler/ncal.pas
A	tests/test/tthlp29.pp
A	tests/webtbs/tw38122.pp

******************************************************************************
commit ece9c98362c68a9eee6527153e8c36c5cdf424cb
Author: michael <michael@freepascal.org>
Date:   Sat Nov 28 18:09:59 2020 +0000

    * Avoid using volatile if NO_THREADING is defined
    
    git-svn-id: trunk@47624 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 5ca2356638e7c3a144d832668a06e8dbe035993c
Author: florian <florian@freepascal.org>
Date:   Sat Nov 28 16:02:51 2020 +0000

      * take care of po_noreturn in more cases
    
    git-svn-id: trunk@47623 -

M	compiler/m68k/cgcpu.pas
M	compiler/ncgutil.pas

******************************************************************************
commit ff87df758174e4f7be7303fb40f03895beaf270b
Author: florian <florian@freepascal.org>
Date:   Sat Nov 28 16:02:50 2020 +0000

      + factor out PostProcessELFExecutable
      + write executable section size on linux
    
    git-svn-id: trunk@47622 -

M	compiler/link.pas
M	compiler/systems/t_embed.pas
M	compiler/systems/t_linux.pas

******************************************************************************
commit 99d88b91a9ec759fca2b345d7c38362ed1c285ee
Author: florian <florian@freepascal.org>
Date:   Sat Nov 28 16:02:49 2020 +0000

      * do not include fpcdefs in the cepiktimer unit
    
    git-svn-id: trunk@47621 -

M	compiler/cepiktimer.pas

******************************************************************************
commit 7b88d1127ff9e4d011b4ad4cab8dac70e190811f
Author: florian <florian@freepascal.org>
Date:   Sat Nov 28 13:41:44 2020 +0000

      * remove unused file
    
    git-svn-id: trunk@47619 -

M	.gitattributes
D	rtl/linux/m68k/cprt21.as

******************************************************************************
commit f8c84dd1fd36d1647cca55943c640964579d13d9
Author: pierre <pierre@freepascal.org>
Date:   Sat Nov 28 12:06:36 2020 +0000

     Fix compilation with DEBUG_PPU macro set
    
    git-svn-id: trunk@47615 -

M	compiler/entfile.pas

******************************************************************************
commit b0cbff646399f64905cf29fdb82857a1856adf56
Author: michael <michael@freepascal.org>
Date:   Fri Nov 27 17:16:20 2020 +0000

    * Try all OS/CPU combinations
    
    git-svn-id: trunk@47611 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 63a231a93d93ce645fcdf97141314ef42784af8a
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Nov 27 09:45:03 2020 +0000

    * fcl-db: PQConnection needs a lowercase port param
    
    git-svn-id: trunk@47607 -

M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp
M	packages/fcl-db/src/sqldb/sqldb.pp

******************************************************************************
commit 1a0ba60de6d14f019d6b3fec2126037047bf7211
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Nov 27 04:53:06 2020 +0000

    * revert r47598: implement TRandomGenerator
    
    git-svn-id: trunk@47605 -

M	rtl/aix/system.pp
M	rtl/amiga/system.pp
M	rtl/aros/system.pp
M	rtl/atari/system.pp
M	rtl/beos/system.pp
M	rtl/bsd/system.pp
M	rtl/embedded/system.pp
M	rtl/emx/system.pas
M	rtl/freertos/system.pp
M	rtl/gba/system.pp
M	rtl/go32v2/system.pp
M	rtl/haiku/system.pp
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc
M	rtl/linux/system.pp
M	rtl/macos/system.pp
M	rtl/morphos/system.pp
M	rtl/msdos/system.pp
M	rtl/msxdos/system.pp
M	rtl/nativent/system.pp
M	rtl/nds/system.pp
M	rtl/netware/system.pp
M	rtl/netwlibc/system.pp
M	rtl/os2/system.pas
M	rtl/palmos/system.pp
M	rtl/sinclairql/system.pp
M	rtl/solaris/system.pp
M	rtl/symbian/system.pp
M	rtl/watcom/system.pp
M	rtl/wii/system.pp
M	rtl/win/syswin.inc
M	rtl/win16/system.pp
M	rtl/wince/system.pp
M	rtl/zxspectrum/system.pp

******************************************************************************
commit 48271b880cba5d4479fc27890f3b4bb4bf69e60c
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 26 10:34:02 2020 +0000

     Add {$i fpcdefs.inc} to units that do not have that include
    
    git-svn-id: trunk@47599 -

M	compiler/cepiktimer.pas
M	compiler/z80/cpuinfo.pas

******************************************************************************
commit c4dd3b661a6c7a91b75e4f6d834702092dad6a40
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 26 05:59:00 2020 +0000

    * rtl: implement TRandomGenerator for thread-safe random
    
    git-svn-id: trunk@47598 -

M	rtl/aix/system.pp
M	rtl/amiga/system.pp
M	rtl/aros/system.pp
M	rtl/atari/system.pp
M	rtl/beos/system.pp
M	rtl/bsd/system.pp
M	rtl/embedded/system.pp
M	rtl/emx/system.pas
M	rtl/freertos/system.pp
M	rtl/gba/system.pp
M	rtl/go32v2/system.pp
M	rtl/haiku/system.pp
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc
M	rtl/linux/system.pp
M	rtl/macos/system.pp
M	rtl/morphos/system.pp
M	rtl/msdos/system.pp
M	rtl/msxdos/system.pp
M	rtl/nativent/system.pp
M	rtl/nds/system.pp
M	rtl/netware/system.pp
M	rtl/netwlibc/system.pp
M	rtl/os2/system.pas
M	rtl/palmos/system.pp
M	rtl/sinclairql/system.pp
M	rtl/solaris/system.pp
M	rtl/symbian/system.pp
M	rtl/watcom/system.pp
M	rtl/wii/system.pp
M	rtl/win/syswin.inc
M	rtl/win16/system.pp
M	rtl/wince/system.pp
M	rtl/zxspectrum/system.pp

******************************************************************************
commit 9c1c2acd64559533d3c01ff58a1c0c2938f8f25c
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 25 23:40:02 2020 +0000

     Improve CRC_checksum testing code with -dDEBUG_UNIT_CRC_CHANGES -dTest_Double_checksum -dTest_Double_checksum_write
    
    git-svn-id: trunk@47597 -

M	compiler/fppu.pas
M	compiler/ppu.pas

******************************************************************************
commit 787899b9216cf4e13cc1f584e803b2081baa8987
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 25 22:40:04 2020 +0000

     Allow easier disabling of $inline on, by using -dDISABLE_INLINE
    
    git-svn-id: trunk@47593 -

M	compiler/fpcdefs.inc

******************************************************************************
commit bb80851d656c15fb20ddc4626ee230f8098ee074
Author: florian <florian@freepascal.org>
Date:   Wed Nov 25 22:34:17 2020 +0000

      * .def must be set on linux else it might be that the created executable is
        deleted after compilation
    
    git-svn-id: trunk@47592 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit 5cd4e5a016fda0f446fe775e6b0de4a4a08c5b7d
Author: florian <florian@freepascal.org>
Date:   Wed Nov 25 20:20:08 2020 +0000

      * pass lp64d to GNU AS for abi_riscv_hf to get the right ABI set
    
    git-svn-id: trunk@47585 -

M	compiler/riscv/agrvgas.pas

******************************************************************************
commit c3e2285c45a80f3683daaa9b98863b77f6580442
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 25 18:44:44 2020 +0000

      * when getting an llvm temporary recorddef, recurse into arrays rather than
        treating them as opaque defs. This is required to ensure that the temporary
        recorddef for all x86-64 function results are the same on the caller and
        callee side, as we allocate new arrays when generating them
    
    git-svn-id: trunk@47584 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit 64866179a980ed3070ff888603b9e44347a90612
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 25 09:03:11 2020 +0000

     Add missing llvm directory for ppu unit compilation
    
    git-svn-id: trunk@47578 -

M	compiler/utils/Makefile
M	compiler/utils/Makefile.fpc

******************************************************************************
commit d8997405c55b3454df147adae413ff263f50d1eb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 04:57:33 2020 +0000

    sinclairql: mark the qhdr metadata format as default in the help text
    
    git-svn-id: trunk@47572 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit fcd9625d6b2cec2f9886a02fa1df9e0319ce71a8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 04:54:57 2020 +0000

    qlunits: make qlcube example still build with the current RTL
    
    git-svn-id: trunk@47571 -

M	packages/qlunits/examples/qlcube.pas

******************************************************************************
commit 2294472ac7fc458043166f8972806ace349de4e8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 04:42:44 2020 +0000

    sinclairql: changed startup code to be able to run directly as job without a BASIC loader. based on a patch by Marcel Kilgus in qlforum.co.uk
    
    git-svn-id: trunk@47570 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit 6a88f2fc28bef9aefa6bf0ed3cef4693273ef7fa
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 04:39:42 2020 +0000

    sinclairql: drop support for the BASIC loader, write Q-emuLator or XTcc compatible metadata to the executable instead. based on a patch by Marcel Kilgus in qlforum.co.uk
    
    git-svn-id: trunk@47569 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit 3eece73a89b8433cdb9400ce426b87857e95d456
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 04:33:05 2020 +0000

    sinclairql: fix exitCode parameter accidentally overwritten in mt_frjob. also save d2 register.
    
    git-svn-id: trunk@47568 -

M	rtl/sinclairql/qdos.inc

******************************************************************************
commit 45fc515400db981d1bc9f9bf94435b23943f9752
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 01:48:36 2020 +0000

    sinclairql: added platform specific options to allow specifying executable metadata format
    
    git-svn-id: trunk@47567 -

M	compiler/globals.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit 74eb7b5050dc2dd172e2804b9a1cae3505799a02
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Nov 24 23:09:01 2020 +0000

      + added coloured compiler output support for OS/2 and DOS targets, platform-specific parts refactored to a standalone unit to remove the heap of ifdefs in unit comphook
    
    git-svn-id: trunk@47566 -

M	.gitattributes
M	compiler/comphook.pas
A	compiler/comptty.pas

******************************************************************************
commit 6ac2957187119df2b0e6295fd99faa6de10abb2a
Author: florian <florian@freepascal.org>
Date:   Tue Nov 24 22:04:28 2020 +0000

      * Xtensa: cleanup of getreferencestring
    
    git-svn-id: trunk@47565 -

M	compiler/xtensa/agcpugas.pas

******************************************************************************
commit 4a050536501595ee343b8581c3278e7a22786497
Author: florian <florian@freepascal.org>
Date:   Tue Nov 24 21:22:20 2020 +0000

      + Xtensa: make use of the LSX/SSX instructions
    
    git-svn-id: trunk@47564 -

M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 9dcf85a8efe7d502d9095949b17fe0ec34f8a337
Author: florian <florian@freepascal.org>
Date:   Tue Nov 24 20:59:47 2020 +0000

      + Xtensa: FMA support
    
    git-svn-id: trunk@47563 -

M	.gitattributes
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpuinl.pas
M	tests/test/tfma1.inc
A	tests/test/tfma1xtensa.pp

******************************************************************************
commit f9d54b7cb746a3567a67493940252cf9da000f76
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 19:55:13 2020 +0000

    sinclairql: system unit changes and improvements, patch by Marcel Kilgus in qlforum.co.uk, merged with minor tweaks
    
    git-svn-id: trunk@47562 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit aa1bbb591c1aab4b1731ecd3e85039719899ac6a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 19:28:47 2020 +0000

    sinclairql: initial implementation of RTL file I/O functions, patch by Marcel Kilgus in qlforum.co.uk
    
    git-svn-id: trunk@47561 -

M	rtl/sinclairql/sysfile.inc

******************************************************************************
commit ab2db33b4cb91e2897263feecce167f40a3ee391
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 19:07:15 2020 +0000

    * backported vlink map file generation to other targets using vlink: Amiga, Atari and ZXSpectrum
    
    git-svn-id: trunk@47560 -

M	compiler/systems/t_amiga.pas
M	compiler/systems/t_atari.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit ffa1b24f7e9bc8c7292367cf1a58c08f61740c7c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 18:34:09 2020 +0000

    sinclairql: map file generation support with vlink, inspired by a patch posted by Marcel Kilgus in qlforum.co.uk
    
    git-svn-id: trunk@47559 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit 75eaca8ab4880c58ecf5643ea05c4630e2ad1892
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 16:24:34 2020 +0000

    sinclairql: QDOS interface wrapper function improvements, patch by Marcel Kilgus in qlforum.co.uk, merged with minor tweaks
    
    git-svn-id: trunk@47558 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc

******************************************************************************
commit 96f2e683e7b4e27d7e12473ea3960ba800204a80
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 15:31:26 2020 +0000

     Also accept s80bit real constants when FPC_SOFT_FPUX80 macro is defined
    
    git-svn-id: trunk@47557 -

M	compiler/llvm/agllvm.pas

******************************************************************************
commit 9cf99b818d67babe783f4d9c48f87a46d8fc87c3
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 15:18:05 2020 +0000

    sinclairql: use .exe as extension for executables instead of .bin, patch by Marcel Kilgus at qlforum.co.uk
    
    git-svn-id: trunk@47556 -

M	compiler/systems/i_sinclairql.pas

******************************************************************************
commit 40b7af10257e530132327cf4d3d90f911fbc5269
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 13:57:06 2020 +0000

     Use pascal code for LLVM fpc_sqr_real, because fmultp instruction is not accepted by llvm
    
    git-svn-id: trunk@47555 -

M	rtl/x86_64/math.inc

******************************************************************************
commit e4e1ea586c5ce61a5862f27c19fe787418189ee4
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 13:55:27 2020 +0000

     Revert wrong change, llvm supports extended constants
    
    git-svn-id: trunk@47554 -

M	rtl/inc/genmath.inc

******************************************************************************
commit de6f3ea9b5d941931ba9f0140be5a97609a00504
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 24 09:43:46 2020 +0000

    * rename generic TStringBuilder to TGenericStringBuilder to make code tools happy
    
    git-svn-id: trunk@47553 -

M	rtl/objpas/sysutils/syssb.inc
M	rtl/objpas/sysutils/syssbh.inc
M	rtl/objpas/sysutils/sysstr.inc
M	rtl/objpas/sysutils/sysstrh.inc

******************************************************************************
commit 233d883731ca365b96d9ba4c1e54fa452accab99
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 09:39:55 2020 +0000

     Correct computation of operatingsystem_parameter_envp, which wrongly pointed to the NIL pointer separating argv from environment variables
    
    git-svn-id: trunk@47552 -

M	rtl/linux/riscv64/si_c.inc
M	rtl/linux/riscv64/si_prc.inc
M	rtl/linux/xtensa/si_c.inc
M	rtl/linux/xtensa/si_prc.inc

******************************************************************************
commit 6d900039c4e731978286ac35747a7cd7accd03cc
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 08:02:29 2020 +0000

     Fix LLVM compilation by casting untyped real constants to double type, as LLVM does not support extended type constant apparently
    
    git-svn-id: trunk@47551 -

M	rtl/inc/genmath.inc

******************************************************************************
commit e35e5ad34914c11ae2c76a7c2f45334cde844503
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 07:59:46 2020 +0000

     Add missing CPULLVM versions for fpc_abs_real and fpc_sqr_real in x86_64/math.inc
    
    git-svn-id: trunk@47550 -

M	rtl/x86_64/math.inc

******************************************************************************
commit 6b1c5861afbf20bac0a2462b7340166fa7b64142
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 05:47:09 2020 +0000

    * remove obsolete comment from rautils/ConcatConstant, issue reported/initial patch by Marcel Kilgus in QLForum.co.uk
    
    git-svn-id: trunk@47549 -

M	compiler/rautils.pas

******************************************************************************
commit 7444733f5d8e946afc88555d0073f32ba7f5ad5a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 05:42:38 2020 +0000

    m68k: fix DB/DW/DD handling in inline assembler, update BuildConstant() method to current standards. issue reported/initial patch by Marcel Kilgus in QLForum.co.uk
    
    git-svn-id: trunk@47548 -

M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit 7169b6d04c04c30fd6a5259fea903566f7d7dab4
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Nov 24 00:45:00 2020 +0000

      * provided additional information in comments in the include file header
    
    git-svn-id: trunk@47547 -

M	rtl/objpas/sysutils/tzenv.inc

******************************************************************************
commit 91da9eae170879a977272dc1df88c958aa263079
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Nov 24 00:35:52 2020 +0000

      + TZ variable based offset calculation included for DOS targets
    
    git-svn-id: trunk@47546 -

M	rtl/go32v2/sysutils.pp
M	rtl/msdos/sysutils.pp
M	rtl/watcom/sysutils.pp

******************************************************************************
commit 63beb1e83a056978603c0b10f6eb7bd4ad2c0cab
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Nov 23 15:17:52 2020 +0000

    * revert r47532, r47527 (use timezone information from fpgettimeofday) because they are not available on all Linux distributions
    
    git-svn-id: trunk@47541 -

M	rtl/unix/dos.pp
M	rtl/unix/sysutils.pp

******************************************************************************
commit 95394d7f988e4ce245c1069ba4415e52c2844394
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Mon Nov 23 01:08:39 2020 +0000

      + added TZ variable based offset calculation
    
    git-svn-id: trunk@47535 -

M	.gitattributes
A	rtl/objpas/sysutils/tzenv.inc
M	rtl/os2/sysutils.pp

******************************************************************************
commit 4c0dac48649acc8b85729a7b6689661cd786d781
Author: florian <florian@freepascal.org>
Date:   Sun Nov 22 21:20:51 2020 +0000

      + Aarch64: implemented FMovFMov2FMov, not yet used
    
    git-svn-id: trunk@47534 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit ef1ba48cc43b53d103b09b23906531f67d2f7812
Author: florian <florian@freepascal.org>
Date:   Sun Nov 22 21:19:51 2020 +0000

      + Aarch64: call OptPass1FData for FMA instructions as well
    
    git-svn-id: trunk@47533 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 28d88b9999b36b065a4fc0a230b73e3356219138
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 22 19:50:40 2020 +0000

    * GetLocalTimeOffset: use timezone information from fpgettimeofday
    
    git-svn-id: trunk@47532 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit 1014e530813f01757a6ee4b4b16518fe2a7206e1
Author: florian <florian@freepascal.org>
Date:   Sun Nov 22 19:47:34 2020 +0000

    * patch by J. Gareth Moreton: fixes crash on ARM with -CriotR, resolves #38116
    
    git-svn-id: trunk@47531 -

M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 7ad8f94ec4ca74e2fc30ac8278ed0c0accb090ab
Author: florian <florian@freepascal.org>
Date:   Sun Nov 22 19:47:12 2020 +0000

    * set reasonable defaults for arm eabi
    
    git-svn-id: trunk@47530 -

M	compiler/options.pas

******************************************************************************
commit f5a95782a94e41a09184808b54f3857b9afe8b2e
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 22 15:39:37 2020 +0000

    * use timezone information from fpgettimeofday for getting local datetime
    
    git-svn-id: trunk@47527 -

M	rtl/unix/dos.pp
M	rtl/unix/sysutils.pp

******************************************************************************
commit 76406dbc36564d820b900665579540f4d5b1ff6a
Author: florian <florian@freepascal.org>
Date:   Sun Nov 22 10:27:06 2020 +0000

      + implement prefetch intrinsic for aarch64
    
    git-svn-id: trunk@47526 -

M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/ncpuinl.pas

******************************************************************************
commit 9c7cb3dbd7c02c54cb0da8f14f5c05743903742e
Author: florian <florian@freepascal.org>
Date:   Sat Nov 21 22:30:34 2020 +0000

      * fix spilling of avx(512) registers
      * get_scalar_mm_op fixed for M256
    
    git-svn-id: trunk@47524 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/cgx86.pas

******************************************************************************
commit 1d474f822e015968b3a0a5b592a454cad726ffc4
Author: florian <florian@freepascal.org>
Date:   Sat Nov 21 22:30:33 2020 +0000

    * fits_in_mm_register takes care of avx(512) support
    
    git-svn-id: trunk@47523 -

M	compiler/defutil.pas

******************************************************************************
commit d5dcf5cd7ac8b28c6079aa2bd7358f40bf6f3e20
Author: florian <florian@freepascal.org>
Date:   Sat Nov 21 21:58:30 2020 +0000

      * cleanup
    
    git-svn-id: trunk@47522 -

M	compiler/ncnv.pas

******************************************************************************
commit ea11517d27fa00f40b626e47213f0caa8832d155
Author: florian <florian@freepascal.org>
Date:   Sat Nov 21 21:58:28 2020 +0000

      + optimization type converted (modulo) divisions as well by removing up/down converting but,
        insert a test and separate code path for -1 if needed
    
    git-svn-id: trunk@47521 -

M	compiler/ncnv.pas

******************************************************************************
commit ebb199b9d465a72c1784c5cfcb4f07b4d324f38c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Nov 21 21:42:33 2020 +0000

    sinclairql: make sure the Sinclair QL defaults to vlink
    
    git-svn-id: trunk@47520 -

M	compiler/options.pas

******************************************************************************
commit f68804e9cdc1a0489145ddd82b4a7e8ea9713b09
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 15:15:17 2020 +0000

     Replace cs_link_on_target by cs_assemble_on_target in assemble unit
    
    git-svn-id: trunk@47490 -

M	compiler/assemble.pas

******************************************************************************
commit 152208c0be1952cebbb1636d86f89f277df3b8c8
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 15:14:14 2020 +0000

     In FindObjectFile check the assembly file if cs_assemble_on_target is in globlaswitches
    
    git-svn-id: trunk@47489 -

M	compiler/link.pas

******************************************************************************
commit 47d96efe2913d5dcf8064da8697aae359713c3dd
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 15:09:24 2020 +0000

      + options.pas: Add new option -sT, to do only the linking on target, by
        opposition to the old -st option, which does
        both assembling and linking on target.
        msg/errore.msg: Add new -sT help message
        modify -st help message, to explicitly say that both assembling and linking
        scripts are prepared for target system.
      * msgidx.txt, msgtxt.inc: Regenerated
    
    git-svn-id: trunk@47488 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit c06a931d5b7366d766fc9e5f2797ed557e9a95fd
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 14:14:46 2020 +0000

     Add separate cs_assemble_on_target tglobalswitch entry
    
    git-svn-id: trunk@47486 -

M	compiler/globtype.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 5b3240c8f1cf913530ca5cadb6274d52f44255c0
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 14:12:55 2020 +0000

     Do not set USE_FAKE_SYSUTILS for MacOS anymore
    
    git-svn-id: trunk@47485 -

M	compiler/utils/ppumove.pp

******************************************************************************
commit 68d39628891463f399871e60c4432cd06ad034f8
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 14:03:57 2020 +0000

     Regenerate all Makefile's, and update utils/fpcm/fpcmake.inc and utils/fpcm/revision.inc after commit 47483
    
    git-svn-id: trunk@47484 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/revision.inc
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit ec112842228d124a3c6e9fb746b1544b796ad11d
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 14:01:51 2020 +0000

     Only add -Xr option if RLINKPATH variable is not empty
    
    git-svn-id: trunk@47483 -

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit d88db13211bae46e7a9f05841288708d6a7e7ff2
Author: michael <michael@freepascal.org>
Date:   Fri Nov 20 13:18:53 2020 +0000

    * Make fpdoc happy, semicolon before final end
    
    git-svn-id: trunk@47481 -

M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp

******************************************************************************
commit bcdfd07bdd1cf31d609bc0fed933ad5d83d4114b
Author: florian <florian@freepascal.org>
Date:   Thu Nov 19 20:53:47 2020 +0000

      * if a variant is read/written, include the variants unit
    
    git-svn-id: trunk@47459 -

M	compiler/ninl.pas

******************************************************************************
commit 84e1be805c5888ff85e8c564d8e4e89759da0ac8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Nov 19 05:08:12 2020 +0000

    qlunits: updated QDOS unit, added a QLfloat unit to convert longints and doubles to 48bit QLfloats, added a rotating cube example
    
    git-svn-id: trunk@47456 -

M	.gitattributes
A	packages/qlunits/examples/qlcube.pas
M	packages/qlunits/fpmake.pp
M	packages/qlunits/src/qdos.pas
A	packages/qlunits/src/qlfloat.pas

******************************************************************************
commit 6f59167c644a4a4a4090e8a1ecbfc5183816b00f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Nov 19 04:51:56 2020 +0000

    sinclairql: more work on the QL port. very basic stdio (console writeln) works.
    
    git-svn-id: trunk@47455 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/qdosh.inc
M	rtl/sinclairql/sysfile.inc
M	rtl/sinclairql/system.pp

******************************************************************************
commit 9d67adcbb6e2c71709eb2e40ee69050c0eef28b6
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Nov 19 02:58:27 2020 +0000

    * regenerated all Makefiles after Sinclair QL support was added
    
    git-svn-id: trunk@47453 -

M	.gitattributes
M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
A	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 1d34f0f139616b1336712ff0e25ce8e8e929e4a1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Nov 19 02:43:42 2020 +0000

    tosunits: it's actually not ami-extra
    
    git-svn-id: trunk@47451 -

M	packages/tosunits/Makefile.fpc

******************************************************************************
commit b0deefec4530dad64851d3aec5f1d55b003049fa
Author: florian <florian@freepascal.org>
Date:   Tue Nov 17 20:32:10 2020 +0000

      * do not run the test, it is only about a compilation issue
    
    git-svn-id: trunk@47442 -

M	tests/webtbs/tw37621.pp

******************************************************************************
commit e154b9933fc030f4f4e894c48c91b026f688f8c0
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 16 22:37:04 2020 +0000

     Add some types and records to rtl/linux/t_linux.h2paschk and set macro _LARGEFILE64_SOURCE for __i386__ C code
    
    git-svn-id: trunk@47439 -

M	rtl/linux/t_linux.h2paschk

******************************************************************************
commit c44095733c36ca1505caea5d389a35c0ebc0476c
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 16 22:34:38 2020 +0000

      * Give access to CPU specific fields of tsettings record
        in GENERIC_CPU mode, to be used by ppudump utility.
    
      generic/cpuinfo.pas: Add tinstructionset, used for ARM cpu.
      globals.pas: Put all CPU specific fields of tsettings record
      inside a variant part when GENERIC_CPU is defined.
      Also import llvm unit when GENERIC_CPU is defined.
    
      + utils/Makefile.fpc: Add -Fu../llvm option to compile ppudump,
      as it now also needs llvm specific code decause of globals unit change.
    
    git-svn-id: trunk@47438 -

M	compiler/generic/cpuinfo.pas
M	compiler/globals.pas
M	compiler/utils/Makefile
M	compiler/utils/Makefile.fpc

******************************************************************************
commit 6380df9b42d29b7db0301f50fa948f90f78521ca
Author: florian <florian@freepascal.org>
Date:   Mon Nov 16 21:47:19 2020 +0000

      * correctly simplify tree transforms of (a+c1+c2) if a is a pointer, resolves #37671
    
    git-svn-id: trunk@47437 -

M	.gitattributes
M	compiler/nadd.pas
M	compiler/ncnv.pas
A	tests/webtbs/tw37621.pp

******************************************************************************
commit e94fb2edc3aa38c27a17dfebf42cec19eb6345ef
Author: florian <florian@freepascal.org>
Date:   Mon Nov 16 21:47:18 2020 +0000

      * better writing of ordinal const. nodes
    
    git-svn-id: trunk@47436 -

M	compiler/ncon.pas

******************************************************************************
commit edb555f34f166984adda0c40a82420f914b2214b
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 16 17:14:39 2020 +0000

     Register sinclairql target directory
    
    git-svn-id: trunk@47435 -

M	rtl/Makefile.fpc

******************************************************************************
commit 14b34e4f556dc4e473c69569569a8e130592fa40
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 16 17:13:48 2020 +0000

     Update after commit 47376
    
    git-svn-id: trunk@47434 -

M	utils/fpcm/revision.inc

******************************************************************************
commit f0b22a1569e315faa4954c7afc00450a35dbf2c8
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 16 17:04:46 2020 +0000

      Revert commit #47257, Disable use of cmov instructions in alignment patterns for some i386 targets (it prevents use of some emulators)
      Replace it by a new set of i386 targets, for which the default cpu is set to i80486 instead of pentium2
      to avoid (for default configuration) use of CMOVxx or PREFETCHyyy instructions, not supported by some emulators.
    
    git-svn-id: trunk@47433 -

M	compiler/options.pas
M	compiler/systems.pas
M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 2a733aa751453b8cb285026da61e716488d7b03f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 23:19:38 2020 +0000

    sinclairql: fixed the relocation marker comment in the startup code. no functional change
    
    git-svn-id: trunk@47432 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit f2ee1dae523eb5b505aa1f9aaf78fa2a7cf5ea8b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 22:59:33 2020 +0000

    sinclairql: startup code fixes. set the top of the new stack as stack pointer, not the bottom of it. initialize the .bss section following the new linker script. better protection against re-relocation.
    
    git-svn-id: trunk@47429 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit 24226ef4af57e9fd94deea2fdda3d23913054da1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 22:56:31 2020 +0000

    sinclairql: following Frank Wille's advices, reworked the linker script to omit .bss section from the binary. this reduces a simple 'hello, world' size by ~5K. needs matching startup code.
    
    git-svn-id: trunk@47428 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit a0543f7f9bb7702d795e4facdd4da7dc4d3efbe7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 19:45:06 2020 +0000

    sinclairql: the newline on this system is LF, not CRLF
    
    git-svn-id: trunk@47427 -

M	compiler/systems/i_sinclairql.pas

******************************************************************************
commit b2a67d4656b8b57fba8239583f6c6e5bf7924230
Author: florian <florian@freepascal.org>
Date:   Sun Nov 15 19:30:19 2020 +0000

      * fixed comments in sysnr.inc files
    
    git-svn-id: trunk@47426 -

M	rtl/linux/arm/sysnr.inc
M	rtl/linux/i386/sysnr.inc
M	rtl/linux/m68k/sysnr.inc
M	rtl/linux/powerpc/sysnr.inc
M	rtl/linux/powerpc64/sysnr.inc
M	rtl/linux/sparcgen/sysnr.inc
M	rtl/linux/x86_64/sysnr.inc

******************************************************************************
commit 98eab07abd080e37907c99ef0934a62a54574df3
Author: florian <florian@freepascal.org>
Date:   Sun Nov 15 16:17:54 2020 +0000

      * simplified and fixed code of (v1=const1) and (v2=const2) optimization, resolves #38066
    
    git-svn-id: trunk@47423 -

M	compiler/nadd.pas

******************************************************************************
commit 157e8792c58f6bb207d766c38c8e30dd93f25975
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 04:55:42 2020 +0000

    sinclairql: add a few more QDOS function wrappers which are useful at early stage
    
    git-svn-id: trunk@47420 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/qdosh.inc

******************************************************************************
commit e5d2c1a9803158671d8e7e2e32b27a3ed7ad2fbd
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 03:55:42 2020 +0000

    m68k: fixed parsing of constants to absolute addresses
    
    git-svn-id: trunk@47419 -

M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit a82a587a1b750cf5fd2a409c9f1a942e78d49c64
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 03:43:26 2020 +0000

    m68k: fixed parsing of absolute addresses in the assembler reader
    
    git-svn-id: trunk@47418 -

M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit 1635d04b7bee15f943952680129098c58d295348
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Nov 14 23:51:37 2020 +0000

    sinclairql: add a note about .bss sections and the binary size, no functional change
    
    git-svn-id: trunk@47417 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit b64edc0170da3fa6a366f9564c95b985ea566613
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Nov 14 23:50:35 2020 +0000

    sinclairql: reduce default stack size to 8K
    
    git-svn-id: trunk@47416 -

M	compiler/systems/i_sinclairql.pas

******************************************************************************
commit bf7961a9016220e8f4ebf9a4b2b62a39863cdc54
Author: florian <florian@freepascal.org>
Date:   Fri Nov 13 21:39:16 2020 +0000

      * fixes for nasm writer, resolves #38074
      + test
    
    git-svn-id: trunk@47413 -

M	.gitattributes
M	compiler/x86/agx86nsm.pas
A	tests/webtbs/tw38074.pp

******************************************************************************
commit a4995e3852d7e81e64ba3a986575bf48b6648ca1
Author: michael <michael@freepascal.org>
Date:   Fri Nov 13 21:35:40 2020 +0000

    * Set defaults for boolean props
    
    git-svn-id: trunk@47412 -

M	packages/fcl-db/src/base/sqlscript.pp

******************************************************************************
commit e440bf0e00d4d344b855693664da99ed9221e3aa
Author: florian <florian@freepascal.org>
Date:   Thu Nov 12 20:32:00 2020 +0000

      * cosmetics
    
    git-svn-id: trunk@47403 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit fc960879dee7f26270e4baf2bee8dacf4c6f9b33
Merge: 06f5e293df 897322868b
Author: florian <florian@freepascal.org>
Date:   Thu Nov 12 20:31:29 2020 +0000

    -- Zusammenführen von r47033 bis r47401 in ».«:
    C    compiler/i386/i386nop.inc
    U    compiler/i386/i386tab.inc
    U    compiler/i386/i386atts.inc
    U    compiler/i386/i386att.inc
    C    compiler/i8086/i8086nop.inc
    U    compiler/i8086/i8086tab.inc
    U    compiler/i8086/i8086atts.inc
    U    compiler/i8086/i8086att.inc
    U    compiler/x86/x86ins.dat
    C    compiler/x86/rax86.pas
    U    compiler/x86/aasmcpu.pas
    U    compiler/x86/cpubase.pas
    U    compiler/x86/agx86att.pas
    U    compiler/x86/itcpugas.pas
    U    compiler/x86/rax86att.pas
    C    compiler/x86_64/x8664nop.inc
    U    compiler/x86_64/x8664tab.inc
    U    compiler/x86_64/x8664ats.inc
    U    compiler/x86_64/x8664att.inc
    U    compiler/utils/mkx86ins.pp
    U    tests/utils/avx/asmtestgenerator.pas
    U    tests/utils/avx/avxopcodes.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r47033 bis r47401 in ».«:
     U   .
    Konfliktübersicht:
      Textkonflikte: 4
    Konfliktübersicht:
      Textkonflikte: 4
    
    git-svn-id: trunk@47402 -

MM	compiler/i386/i386att.inc
MM	compiler/i386/i386atts.inc
MM	compiler/i386/i386nop.inc
MM	compiler/i386/i386tab.inc
MM	compiler/i8086/i8086att.inc
MM	compiler/i8086/i8086atts.inc
MM	compiler/i8086/i8086nop.inc
MM	compiler/i8086/i8086tab.inc
MM	compiler/x86/aasmcpu.pas
MM	compiler/x86/agx86att.pas
MM	compiler/x86/cpubase.pas
MM	compiler/x86/rax86.pas
MM	compiler/x86/rax86att.pas
MM	compiler/x86/x86ins.dat
MM	compiler/x86_64/x8664ats.inc
MM	compiler/x86_64/x8664att.inc
MM	compiler/x86_64/x8664nop.inc
MM	compiler/x86_64/x8664tab.inc
MM	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 06f5e293dfea645d41ea9dcc69aca4dae671c73b
Author: michael <michael@freepascal.org>
Date:   Thu Nov 12 14:59:35 2020 +0000

    * Fix bug ID #37645: allocate cursor in firebird to walk result set
    
    git-svn-id: trunk@47400 -

M	packages/fcl-db/src/sqldb/interbase/ibconnection.pp

******************************************************************************
commit e34e4b452a68722ea44175b2bc4f628b804a88c7
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 12 14:41:43 2020 +0000

    * FileSetDate linux compilation
    
    git-svn-id: trunk@47399 -

M	rtl/objpas/sysutils/filutil.inc

******************************************************************************
commit 8ce015535aea73d3f10dad623dd469c05d357a0f
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 12 14:36:12 2020 +0000

    * FileSetDate with TDateTime and UTC for file names
    
    git-svn-id: trunk@47398 -

M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/win/sysutils.pp

******************************************************************************
commit 3ea339400e82ce78d63e4e329f79667baf76f33e
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 12 13:55:01 2020 +0000

    * FileGetDate, FileSetDate linux compilation
    
    git-svn-id: trunk@47397 -

M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/win/sysutils.pp

******************************************************************************
commit d899c9fca47b5b547719ab484f55fbe59285df33
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 12 13:36:39 2020 +0000

    * FileGetDate, FileSetDate with TDateTime and UTC
    
    git-svn-id: trunk@47396 -

M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/win/sysutils.pp

******************************************************************************
commit 33fe3f3ede164fcc55357f82cae9227aed3fdef5
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 12 12:17:46 2020 +0000

    TSearchRec.GetTimeStamp: fix ifdefs
    
    git-svn-id: trunk@47395 -

M	rtl/objpas/sysutils/filutil.inc

******************************************************************************
commit 477929d6fead9a49ff9662a89777e1e35b12675e
Author: michael <michael@freepascal.org>
Date:   Thu Nov 12 10:48:03 2020 +0000

    * Fix bug ID #0037265, setting paper property needs to calc tranformationmatrix
    
    git-svn-id: trunk@47394 -

M	packages/fcl-pdf/src/fppdf.pp

******************************************************************************
commit 257ef24a1e9647c25b6607f3889251d55e4006f6
Author: michael <michael@freepascal.org>
Date:   Thu Nov 12 09:17:09 2020 +0000

    * Fix bug ID #38008: allow UTF8 to unicode conversion to react on/ignore invalid input
    
    git-svn-id: trunk@47391 -

M	rtl/inc/ustringh.inc
M	rtl/inc/ustrings.inc

******************************************************************************
commit f75e6d8a4899ab053ffb33a727e54d0d0de04ed7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Nov 11 08:28:37 2020 +0000

    * fix copy-paste mistake from Mantis (due to replacement of '#' with links...)
    
    git-svn-id: trunk@47387 -

M	tests/webtbs/tw38051.pp

******************************************************************************
commit 27125b760ec7d07abfbd47eda7814ffdfa141ece
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 11 00:00:39 2020 +0000

    qlunits: package skeleton to support the Sinclair QL
    
    git-svn-id: trunk@47385 -

M	.gitattributes
M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc
A	packages/qlunits/Makefile
A	packages/qlunits/Makefile.fpc
A	packages/qlunits/README.txt
A	packages/qlunits/fpmake.pp
A	packages/qlunits/src/qdos.pas

******************************************************************************
commit eb67d87dec24d79a68f523e0a2e3683d2ed59137
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 23:52:51 2020 +0000

     Avoid uninitialized variable warning with -O4 option
    
    git-svn-id: trunk@47384 -

M	compiler/systems/t_msdos.pas

******************************************************************************
commit d2247f6539e5cea8e6b31a3a4da63b307169a66c
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 22:37:24 2020 +0000

    Use MPW linker variant also for m68k-macosclassic target
    
    git-svn-id: trunk@47383 -

M	compiler/systems/i_macos.pas

******************************************************************************
commit 10273e54dd198984719a932ced572c056ef464f7
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 22:36:31 2020 +0000

     Remove setting of USE_FAKE_SYSUTILS macro for MacOSClassic, as sysutils is now compiled for that OS
    
    git-svn-id: trunk@47382 -

M	compiler/fpcdefs.inc

******************************************************************************
commit 245e0f7cfee4e11d8e9eb02bd409e551f7fe5dc3
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 22:33:42 2020 +0000

     Add sysutils, typinfo, and math to explicit units list for macosclassic target OS
    
    git-svn-id: trunk@47381 -

M	rtl/macos/Makefile
M	rtl/macos/Makefile.fpc

******************************************************************************
commit eadcaa5dfc55dab3ed673f4d104fd16c0472bc51
Author: florian <florian@freepascal.org>
Date:   Tue Nov 10 22:04:55 2020 +0000

      * Arm Thumb does not support complex references including SP, resolves #38056
    
    git-svn-id: trunk@47380 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit c06a020c9cd174fd641da587b10283ef56329d04
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 10 21:36:48 2020 +0000

    * fixed the packages build after r47376
    
    git-svn-id: trunk@47378 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 3abee173f4c473633fb4e9e1875ea18fbac71128
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 10 21:31:47 2020 +0000

    * regenerated msgidx/msgtxt after r47376
    
    git-svn-id: trunk@47377 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 51d8ec90a7556a5a641ad5250ed26ece45456919
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 10 21:31:04 2020 +0000

    sinclairql: now the target short name is also sinclairql as proposed by Pierre, so it's unified everywhere
    
    git-svn-id: trunk@47376 -

M	compiler/msg/errore.msg
M	compiler/systems/i_sinclairql.pas
M	packages/bzip2/fpmake.pp
M	packages/chm/fpmake.pp
M	packages/fcl-base/fpmake.pp
M	packages/fcl-db/fpmake.pp
M	packages/fcl-fpcunit/fpmake.pp
M	packages/fcl-image/fpmake.pp
M	packages/fcl-js/fpmake.pp
M	packages/fcl-json/fpmake.pp
M	packages/fcl-net/fpmake.pp
M	packages/fcl-passrc/fpmake.pp
M	packages/fcl-pdf/fpmake.pp
M	packages/fcl-process/fpmake.pp
M	packages/fcl-registry/fpmake.pp
M	packages/fcl-res/fpmake.pp
M	packages/fcl-sdo/fpmake.pp
M	packages/fcl-sound/fpmake.pp
M	packages/fcl-stl/fpmake.pp
M	packages/fcl-xml/fpmake.pp
M	packages/fpmkunit/fpmake.pp
M	packages/fppkg/fpmake.pp
M	packages/hash/fpmake.pp
M	packages/hermes/fpmake.pp
M	packages/libgd/fpmake.pp
M	packages/libtar/fpmake.pp
M	packages/pasjpeg/fpmake.pp
M	packages/paszlib/fpmake.pp
M	packages/regexpr/fpmake.pp
M	packages/rtl-generics/fpmake.pp
M	packages/sdl/fpmake.pp
M	packages/symbolic/fpmake.pp
M	packages/unzip/fpmake.pp
M	packages/webidl/fpmake.pp
M	rtl/sinclairql/Makefile.fpc
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit bcd52d66eebc596272727d608126b6bc81cf43a3
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 17:21:00 2020 +0000

     Use default linker script and only add FPC specific sections for Linux OS
    
    git-svn-id: trunk@47374 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit da042f77009d70a65e01126fae4216392a1fa18b
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 16:23:22 2020 +0000

     Regenerated automatically after commit #47358
    
    git-svn-id: trunk@47373 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 5515b62c9e803da400a307cb68dc72e8503c37a8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 10 11:51:05 2020 +0000

    sinclairql: also disable fcl-stl which was missed in r47370
    
    git-svn-id: trunk@47371 -

M	packages/fcl-stl/fpmake.pp

******************************************************************************
commit 55b99cad045514328e9284a6944b5fb2978ff053
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 10 11:49:10 2020 +0000

    sinclairql: disable most packages for the QL
    
    git-svn-id: trunk@47370 -

M	packages/bzip2/fpmake.pp
M	packages/chm/fpmake.pp
M	packages/fcl-base/fpmake.pp
M	packages/fcl-db/fpmake.pp
M	packages/fcl-fpcunit/fpmake.pp
M	packages/fcl-image/fpmake.pp
M	packages/fcl-js/fpmake.pp
M	packages/fcl-json/fpmake.pp
M	packages/fcl-net/fpmake.pp
M	packages/fcl-passrc/fpmake.pp
M	packages/fcl-pdf/fpmake.pp
M	packages/fcl-process/fpmake.pp
M	packages/fcl-registry/fpmake.pp
M	packages/fcl-res/fpmake.pp
M	packages/fcl-sdo/fpmake.pp
M	packages/fcl-sound/fpmake.pp
M	packages/fcl-xml/fpmake.pp
M	packages/fpmkunit/fpmake.pp
M	packages/fppkg/fpmake.pp
M	packages/hash/fpmake.pp
M	packages/hermes/fpmake.pp
M	packages/libgd/fpmake.pp
M	packages/libtar/fpmake.pp
M	packages/pasjpeg/fpmake.pp
M	packages/paszlib/fpmake.pp
M	packages/regexpr/fpmake.pp
M	packages/rtl-generics/fpmake.pp
M	packages/sdl/fpmake.pp
M	packages/symbolic/fpmake.pp
M	packages/unzip/fpmake.pp
M	packages/webidl/fpmake.pp

******************************************************************************
commit c3a0e0c6d2e401496bed2b9a377ad2d949e76c3c
Author: florian <florian@freepascal.org>
Date:   Mon Nov 9 21:46:25 2020 +0000

      * compilation on i386 fixed
    
    git-svn-id: trunk@47369 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 78244d89dc7bcafd58ff04c29e7d6f1ddbb0777c
Author: florian <florian@freepascal.org>
Date:   Mon Nov 9 21:21:36 2020 +0000

      * use VPXORD in avx-512 mode as VPXOR does not work for the upper 16 registers
    
    git-svn-id: trunk@47368 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/cgx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 3d374727dd2e635beb37ed5de8a8f5b9ca44228c
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 9 21:19:40 2020 +0000

     Move explicit typecast to after check to avoid RTE when compiled with -CR
    
    git-svn-id: trunk@47367 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 664283af9e6222af40668aa1b05ac87ebc41398b
Author: michael <michael@freepascal.org>
Date:   Mon Nov 9 19:34:06 2020 +0000

    * Optimized DiskAdd/DiskFree/AddDisk, bug ID #37523
    
    git-svn-id: trunk@47365 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit a17ad61240ee2a0c6ab6c3b384437a0d1836fb52
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 9 12:24:27 2020 +0000

    Adapt to change of chr function in commit 47353, to change chr() a real intrinsics
    
    git-svn-id: trunk@47363 -

M	rtl/java/jsystemh.inc

******************************************************************************
commit c3bafd3a8d454bc3f335a117e07f37afe4e41d26
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 9 01:40:41 2020 +0000

    sinclairql: added to fpmkunit
    
    git-svn-id: trunk@47362 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 3870c4791c18ae55c748e04b362cfc020de424de
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 9 01:34:24 2020 +0000

    sinclairql: disabled a bunch of things in RTL until they're implemented
    
    git-svn-id: trunk@47361 -

M	rtl/sinclairql/Makefile.fpc
M	rtl/sinclairql/buildrtl.pp

******************************************************************************
commit 82e16f02ca05cf1e64b877c92918321bf14da188
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 9 01:03:44 2020 +0000

    sinclairql: make sure the default CPU target is 68000 for the QL. also, some cleanups
    
    git-svn-id: trunk@47360 -

M	compiler/options.pas

******************************************************************************
commit 05d680902e71ce9a482384009bb3aaaed9f231ae
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 9 00:24:29 2020 +0000

    * make sure things still build with 3.0 after r47353
    
    git-svn-id: trunk@47359 -

M	rtl/inc/systemh.inc

******************************************************************************
commit e0555c307f44c89b2d70abe11cf955c8ff407d1e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 9 00:14:13 2020 +0000

    sinclairql: added support to fpcmake
    
    git-svn-id: trunk@47358 -

M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 53928dc0edd2818dcf55b9cdda7eca3bf9aa73b1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 8 23:56:00 2020 +0000

    m68k: fix references like <symbol>(An) to parse properly in the assembler reader
    
    git-svn-id: trunk@47356 -

M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit 091b0fde0ca1d8ab1aa2e7904f3a95cbfec60431
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Nov 8 22:42:38 2020 +0000

      * fixed type of size parameter passed to fpc_getmem() when translating
        new(pointer) (mantis #38054)
    
    git-svn-id: trunk@47355 -

M	.gitattributes
M	compiler/pinline.pas
A	tests/webtbs/tw38054.pp

******************************************************************************
commit 359ff64afdf1eb6b134f69f7caa5c60d79a91222
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Nov 8 22:23:09 2020 +0000

    * increase PPU version so that the change of Chr() to a full intrinsic will not lead to problems
    
    git-svn-id: trunk@47354 -

M	compiler/ppu.pas

******************************************************************************
commit c496b609d18b20208fb0ca54f0b9137fe413f5db
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Nov 8 22:23:02 2020 +0000

    * fix for Mantis #38051: make Chr() a real intrinsics so that it can be used in type declarations as well
    + added test
    
    git-svn-id: trunk@47353 -

M	.gitattributes
M	compiler/pexpr.pas
M	compiler/psystem.pas
M	rtl/inc/systemh.inc
A	tests/webtbs/tw38051.pp

******************************************************************************
commit d5596ef21da4ce337f95cd8a3e4df272a378652f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 8 20:50:32 2020 +0000

    sinclairql: initial heap allocation code, and minor system unit bits
    
    git-svn-id: trunk@47351 -

M	rtl/sinclairql/sysheap.inc
M	rtl/sinclairql/sysos.inc
M	rtl/sinclairql/system.pp

******************************************************************************
commit b425c97fce8bee5326e55e28151ddaa6e8d65d54
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 8 20:48:04 2020 +0000

    sinclairql: implemented startup code, including binary relocation and stack allocation
    
    git-svn-id: trunk@47349 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit c8d18f5ac64f8c42447d5596eb3eb63fac58ac0e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 8 20:43:01 2020 +0000

    sinclairql: implemented some OS trap wrappers, to be used by the RTL
    
    git-svn-id: trunk@47348 -

M	.gitattributes
A	rtl/sinclairql/qdos.inc
A	rtl/sinclairql/qdosfuncs.inc
A	rtl/sinclairql/qdosh.inc

******************************************************************************
commit 954123deb3b2d134860fc9dcd4424a3abca23e64
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 8 20:38:42 2020 +0000

    sinclairql: when linking with vlink, generate an unrelocated binary with appended relocation info, so the startup code can relocate it
    
    git-svn-id: trunk@47347 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit 47066f0ce7e8dc21393d07516de90e094610e52b
Author: florian <florian@freepascal.org>
Date:   Sun Nov 8 19:39:18 2020 +0000

    * moved UseAVX from cgx86 to cpubase
    + UseAVX512
    
    git-svn-id: trunk@47346 -

M	compiler/x86/cgx86.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit e46b426ca13519093fabc509cc2ce2adb507300c
Author: florian <florian@freepascal.org>
Date:   Sun Nov 8 19:39:17 2020 +0000

    + tx86addnode.second_opvector makes use of AVX instructions
    
    git-svn-id: trunk@47345 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 4fa33623552902ffcb2719b7d16b2147ee0d3457
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 8 07:18:49 2020 +0000

    * forgotten int64 parameter type
    
    git-svn-id: trunk@47339 -

M	rtl/unix/timezone.inc

******************************************************************************
commit 49fbe53cf36a122eeb6526e7c7f9effd069c1f62
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Nov 7 16:09:51 2020 +0000

      + test for mantis #36381 (seems already fixed)
    
    git-svn-id: trunk@47337 -

M	.gitattributes
A	tests/webtbs/tw36381.pp

******************************************************************************
commit f7050ef41ab48de9884816ddda2c2b1f713fe200
Author: florian <florian@freepascal.org>
Date:   Sat Nov 7 10:42:44 2020 +0000

      + take care of vzeroupper in exit code optimizations
    
    git-svn-id: trunk@47333 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 81e8982dd4d8d0d19899e55e511605be8174f926
Author: florian <florian@freepascal.org>
Date:   Sat Nov 7 10:42:43 2020 +0000

       + completed Ch_* information for VMOVD*
    
    git-svn-id: trunk@47332 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 6ec460c619cb339eefb54d4b83a456882a2047a3
Author: florian <florian@freepascal.org>
Date:   Fri Nov 6 21:41:59 2020 +0000

      * patch by J. Gareth Moreton: MOV/LDR/STR/MOV optimisations for ARM/AArch64, resolves #37638
    
    git-svn-id: trunk@47330 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 2e48a13bfbea0ec59613140edb9d271148edbb2f
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 6 15:43:19 2020 +0000

    * android: In some android versions time zone names are available only after first call of localtime().
    
    git-svn-id: trunk@47329 -

M	rtl/android/unixandroid.inc

******************************************************************************
commit 3ae370b1908f4be08df639ed6069f6e34fad2c26
Author: florian <florian@freepascal.org>
Date:   Thu Nov 5 22:13:58 2020 +0000

      * also use avx copying for mod 4=0 memory blocks
    
    git-svn-id: trunk@47328 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 7ded8307c91c55e965dbe0c1090964b88a73fa16
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 18:39:11 2020 +0000

    * timezones android compilation
    
    git-svn-id: trunk@47326 -

M	rtl/android/unixandroid.inc
M	rtl/unix/unix.pp

******************************************************************************
commit d2a517389f7da8d331eaaba4de5a4772cac3fe06
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 17:16:27 2020 +0000

    * forgotten int64 parameter type
    
    git-svn-id: trunk@47325 -

M	rtl/unix/timezone.inc

******************************************************************************
commit be4c907117372f5f15b4d5cc250f2e3b8a727b9d
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 17:10:12 2020 +0000

    * read int64 transition table from linux timezone files if available
    
    git-svn-id: trunk@47324 -

M	rtl/unix/timezone.inc
M	rtl/unix/unix.pp
M	tests/test/units/unix/ttimezone1.pp

******************************************************************************
commit 39674e28521512efe9e3be18579be344ee382cb7
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 12:54:35 2020 +0000

    * win: fix GetLocalTimeOffset lower boundary
    
    git-svn-id: trunk@47323 -

M	rtl/win/sysutils.pp

******************************************************************************
commit 691fb2c9fe7fda02868baddb8c0ddfe730df6287
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 12:53:51 2020 +0000

    * add unix timezone test
    
    git-svn-id: trunk@47322 -

M	.gitattributes
A	tests/test/units/unix/ttimezone1.pp

******************************************************************************
commit 3ee2097f1acd9f992fb223da4d27a286d1d054ca
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 12:45:35 2020 +0000

    * unix timezone optimizations
    
    git-svn-id: trunk@47321 -

M	rtl/unix/sysutils.pp
M	rtl/unix/timezone.inc
M	rtl/unix/unix.pp

******************************************************************************
commit 0d36b05df5d7e045c106817d54e9d4df0ea6af7f
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 22:17:46 2020 +0000

      * i386 can use only 8 mm registers with avx-512
    
    git-svn-id: trunk@47318 -

M	compiler/i386/cpuinfo.pas

******************************************************************************
commit 1add3490c326215fb09024fa987c80435c1c1b6c
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 22:10:35 2020 +0000

      + i386 supports also avx-512
    
    git-svn-id: trunk@47317 -

M	compiler/i386/cpuinfo.pas

******************************************************************************
commit b47d2bd2c206114dbf07007ad6fce88f208015d4
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 21:31:50 2020 +0000

      * allow var alignment up to 64 bytes
    
    git-svn-id: trunk@47316 -

M	compiler/systems/i_linux.pas
M	compiler/systems/i_win.pas

******************************************************************************
commit f8d33dc1885af3d8eed394bac11f86455ae491a3
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 21:31:49 2020 +0000

      * fix tcgx86.a_loadmm_reg_ref and tcgx86.a_loadmm_ref_reg for 64 OS_M512
    
    git-svn-id: trunk@47315 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 60bb8600a1248ab490f5b5344e781967ba423bf7
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 21:31:48 2020 +0000

      + copy mode avx512
    
    git-svn-id: trunk@47314 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 37e934ffbd0864c0893f250e14c45130f11edb1b
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 21:31:48 2020 +0000

      * using ymm registers for copying data is always useful, regardless of alignment
    
    git-svn-id: trunk@47313 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit eda7d535bd5d232c91f8c23fedfb26c8e17c98e7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 4 21:01:34 2020 +0000

    * m68k: enabled vasm assembler support for the Sinclair QL, and added linking
    
    git-svn-id: trunk@47312 -

M	compiler/m68k/ag68kvasm.pas
M	compiler/systems/i_sinclairql.pas
M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit a65158bfe8eaae169e75549f02e96b50b3873a63
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Nov 4 20:10:43 2020 +0000

    * fix memory leak in RegisterLazyInitThreadingProc
    
    git-svn-id: trunk@47311 -

M	rtl/inc/thread.inc

******************************************************************************
commit 18f364a497a75c718537ba3157ee36735ff933fe
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 4 15:59:50 2020 +0000

    + RTL skeleton for the Sinclair QL
    
    git-svn-id: trunk@47310 -

M	.gitattributes
A	rtl/sinclairql/Makefile.fpc
A	rtl/sinclairql/buildrtl.pp
A	rtl/sinclairql/rtl.cfg
A	rtl/sinclairql/rtldefs.inc
A	rtl/sinclairql/si_prc.pp
A	rtl/sinclairql/sysdir.inc
A	rtl/sinclairql/sysfile.inc
A	rtl/sinclairql/sysheap.inc
A	rtl/sinclairql/sysos.inc
A	rtl/sinclairql/sysosh.inc
A	rtl/sinclairql/system.pp
A	rtl/sinclairql/tthread.inc

******************************************************************************
commit 7fbceaac2193b92552f631669ab8f20862f6e813
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Nov 4 14:56:56 2020 +0000

    * thread-safe time zone info read/write
    
    git-svn-id: trunk@47309 -

M	rtl/android/unixandroid.inc
M	rtl/unix/sysutils.pp
M	rtl/unix/timezone.inc
M	rtl/unix/unix.pp

******************************************************************************
commit c64429cdd0465c60e775c77c41afa464ab0a527f
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Nov 4 14:55:40 2020 +0000

    * lazy thread initialization support
    
    git-svn-id: trunk@47308 -

M	rtl/beos/bethreads.pp
M	rtl/inc/thread.inc
M	rtl/inc/threadh.inc
M	rtl/netware/systhrd.inc
M	rtl/netwlibc/systhrd.inc
M	rtl/unix/cthreads.pp
M	rtl/win/systhrd.inc

******************************************************************************
commit 519701960c0893ce801572c9604a91cb8912940f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 4 14:20:28 2020 +0000

    m68k: initial commit to add the Sinclair QL as a compiler target
    
    git-svn-id: trunk@47307 -

M	.gitattributes
M	compiler/m68k/cputarg.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas
A	compiler/systems/i_sinclairql.pas
A	compiler/systems/t_sinclairql.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 934f2dc55da6dfe6c053b08ebf6a7ed8e9ab41c1
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Nov 4 09:34:08 2020 +0000

    * introduce NowUTC() and GetUniversalTime()
    
    git-svn-id: trunk@47306 -

M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/unix/sysutils.pp
M	rtl/win/sysutils.pp
M	rtl/wince/sysutils.pp

******************************************************************************
commit 7ad4694e4bd4f2b369b0599b880ad0b9b3031aca
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Nov 4 05:52:58 2020 +0000

    * remove the BaseUnix dependency added by mistake
    
    git-svn-id: trunk@47305 -

M	rtl/unix/unixutil.pp

******************************************************************************
commit 0bf1af08c4262d560977260b9f12029fbed5605f
Author: florian <florian@freepascal.org>
Date:   Tue Nov 3 21:44:57 2020 +0000

      + test for #38022
    
    git-svn-id: trunk@47304 -

M	.gitattributes
A	tests/webtbs/tw38022.pp

******************************************************************************
commit 629b2a89517222e73f472b78a365f262741609c1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 3 21:34:30 2020 +0000

      * regenerated
    
    git-svn-id: trunk@47303 -

M	rtl/aix/Makefile
M	rtl/darwin/Makefile
M	rtl/freebsd/Makefile
M	rtl/linux/Makefile
M	rtl/solaris/Makefile

******************************************************************************
commit 312f1436b1fbf5445bd97935be451272ff4fc80f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 3 21:34:22 2020 +0000

      * changed TIDString and tsymentry.realname to TSymStr
       o for TIDString: prevents shortstring -> ansistring conversions with
         -dsymansistr when looking up symbols
       o for realname: consistency with name
    
    git-svn-id: trunk@47301 -

M	compiler/globtype.pas
M	compiler/ppu.pas
M	compiler/symbase.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppuout.pp

******************************************************************************
commit 38a059f0398a3f0594300f1a39a222c45c3821bd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 3 21:34:19 2020 +0000

      * give an error when trying to define a macro/compiler variable with
        an empty name
    
    git-svn-id: trunk@47300 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/scanner.pas
A	tests/tbf/tb0272.pp

******************************************************************************
commit 1c61c30cd23c625aabb759d0080ecf6965a3fe22
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 3 21:34:15 2020 +0000

      * added "const" to some string parameters
    
    git-svn-id: trunk@47299 -

M	compiler/aasmcnst.pas
M	compiler/pdecl.pas
M	compiler/pdecsub.pas

******************************************************************************
commit 3e16ad9d6c3cf176706ea2cabdb2d66cfd79879d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 3 21:34:10 2020 +0000

      * sysutils depends on initc
    
    git-svn-id: trunk@47298 -

M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc

******************************************************************************
commit 9b5d2322b6dc6a252cebb81829217c4319ed0599
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 20:15:04 2020 +0000

    Fix tepoch1 test
    
    git-svn-id: trunk@47297 -

M	.gitattributes
R086	tests/test/units/unixutil/tepoch1.pp	tests/test/units/unix/tepoch1.pp

******************************************************************************
commit f296bf3f2d1d3a7181b1b01578b8bdaccaff4ff6
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 19:40:04 2020 +0000

    Unix timezone: fix search around TZ change back to be the same as on Windows
    
    git-svn-id: trunk@47296 -

M	rtl/unix/timezone.inc

******************************************************************************
commit a36caf90435ae9ebdf620d75efffcbea057c0e07
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 19:38:04 2020 +0000

    Unix LocalToEpoch: fix typo
    
    git-svn-id: trunk@47295 -

M	rtl/unix/unix.pp

******************************************************************************
commit ac36eec71ae5a5c654ab9f4e8ac366005179d97e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Nov 3 19:25:32 2020 +0000

    * protect GetFullName with FPC_HAS_FEATURE_UNICODESTRINGS instead of _WIDESTRINGS
    
    git-svn-id: trunk@47294 -

M	rtl/inc/file.inc
M	rtl/inc/systemh.inc
M	rtl/inc/text.inc

******************************************************************************
commit a02d676b060c64cc628746446a1ffdf77e7b95cc
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 18:15:16 2020 +0000

    GetLocalTimeOffset: add InputIsUTC parameter to DateTime-aware overloads
    
    git-svn-id: trunk@47293 -

M	packages/fcl-pdf/src/fppdf.pp
M	packages/rtl-objpas/src/inc/dateutil.inc
M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/unix/sysutils.pp
M	rtl/win/sysutils.pp
M	rtl/wince/sysutils.pp

******************************************************************************
commit 6df9ad8e502cdb023be508d4ce3816539b8bcd69
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 14:31:24 2020 +0000

    LocalToEpoch, EpochToLocal: android compilation
    
    git-svn-id: trunk@47292 -

M	rtl/android/unixandroid.inc

******************************************************************************
commit f4cff81881a37f95fc32028c8bded9381af9e66a
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 14:27:07 2020 +0000

    LocalToEpoch, EpochToLocal: fix for arbitrary datetime
    
    git-svn-id: trunk@47291 -

M	packages/libxml/src/xmlxsdparser.pas
M	rtl/unix/dos.pp
M	rtl/unix/sysutils.pp
M	rtl/unix/timezone.inc
M	rtl/unix/unix.pp
M	rtl/unix/unixutil.pp
M	utils/fppkg/lnet/lcommon.pp

******************************************************************************
commit 282aa0daa7f469eed11978569842255b0c46e1d5
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 11:41:28 2020 +0000

    GetLocalTimeOffset: DateTime-aware overloads for Unix. Issue #35710
    
    git-svn-id: trunk@47290 -

M	rtl/unix/sysutils.pp
M	rtl/unix/timezone.inc
M	rtl/unix/unix.pp
M	rtl/unix/unixutil.pp

******************************************************************************
commit e10ee5ccb4febf9787280ccb1bd3026e804373e9
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 09:46:14 2020 +0000

    GetLocalTimeOffset - fix overload call
    
    git-svn-id: trunk@47289 -

M	rtl/objpas/sysutils/dati.inc

******************************************************************************
commit e80b1d9e70ec37dea35becb348a1052c55301677
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 3 07:13:59 2020 +0000

     Put GetFullName functions inside $ifdef FPC_WIDESTRING_EQUAL_UNICODESTRING
    
    git-svn-id: trunk@47287 -

M	rtl/inc/file.inc
M	rtl/inc/systemh.inc
M	rtl/inc/text.inc

******************************************************************************
commit 12843498d1747a87b7e0c0bd8d07e5e861b92140
Author: florian <florian@freepascal.org>
Date:   Mon Nov 2 21:24:40 2020 +0000

    + patch by Anton Kavalenka to support coloured output on windows, resolves #38025
    
    git-svn-id: trunk@47285 -

M	compiler/comphook.pas

******************************************************************************
commit c2454d5386b90c99bee22aa293284c07f5f66893
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Nov 2 16:42:32 2020 +0000

    * fix for Mantis #38023: the code to convert LF to CRLF when converting to UTF-8 is disabled anyway, so disable unnecessary, duplicate if-branches as well
    
    git-svn-id: trunk@47284 -

M	rtl/inc/ustrings.inc

******************************************************************************
commit 58a56e38d108e6ec129ccf1ffe1bca4822dc74a6
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 2 08:50:34 2020 +0000

     Add m68k specific option to gcc call to be sure to generate an error if the gcc does not target m68k CPU
    
    git-svn-id: trunk@47282 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 92beecb6fe00ff0af31bb52bdafefe6cc6c2b255
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 2 02:19:06 2020 +0000

    * bump ppu version after r47279. it changes the ABI (m68k only), so units are incompatible even if the format didn't change
    
    git-svn-id: trunk@47280 -

M	compiler/ppu.pas

******************************************************************************
commit 9d425ff4ca3d855ba303b815a93bfff98fe153a8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 2 02:01:24 2020 +0000

    m68k: change the stack push order in the register calling convention to left-to-right. This should fix parameter handling in nested procedures (tnest5)
    
    git-svn-id: trunk@47279 -

M	compiler/m68k/cpupara.pas

******************************************************************************
commit 71c30761dd68aab76b080b3388f55118321ded10
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Nov 1 19:40:39 2020 +0000

    * fix for Mantis #38020: apply patch by Sergey Larin to use GetModuleHandle instead of LoadLibrary to retrieve GetTickCount64
    
    git-svn-id: trunk@47274 -

M	rtl/win/sysutils.pp

******************************************************************************
commit 5c119d5f67a4c54069636bc7cded4d0b497d02c5
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun Nov 1 16:46:52 2020 +0000

      * fix for bug #38021 based on patch by Sergey Larin
    
    git-svn-id: trunk@47269 -

M	rtl/win/sysfile.inc

******************************************************************************
commit dbb0b24de8b842780b547985e52c434d5b8a2d71
Author: florian <florian@freepascal.org>
Date:   Sun Nov 1 14:27:59 2020 +0000

      * reverted accidental change
    
    git-svn-id: trunk@47268 -

M	compiler/fpcdefs.inc

******************************************************************************
commit c2c4048e928ac7e6bbb806c30fae4a35221b03bb
Author: pierre <pierre@freepascal.org>
Date:   Sun Nov 1 08:23:40 2020 +0000

     Fix compilation of RTL when USE_FILEREC_FULLNAME is not defined
    
    git-svn-id: trunk@47267 -

M	rtl/inc/file.inc

******************************************************************************
commit 55d4ffa9de2999f1f8f36b7ead07d53ce281b4d4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Oct 31 21:57:59 2020 +0000

    m68k: add missing FINT and FINTRZ instructions to spilling_get_operation_type()
    
    git-svn-id: trunk@47266 -

M	compiler/m68k/aasmcpu.pas

******************************************************************************
commit 3aa0d92c792b4ecb32eb2fc867b770a3160fa9eb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Oct 31 20:46:19 2020 +0000

    fix casting typo in r47263
    
    git-svn-id: trunk@47265 -

M	rtl/inc/text.inc

******************************************************************************
commit 8369f035bf5bae7a9d6af7902e514722f89a55bd
Author: florian <florian@freepascal.org>
Date:   Sat Oct 31 19:54:41 2020 +0000

      * use AnsiString for file names to overcome length limitations
    
    git-svn-id: trunk@47264 -

M	compiler/cstreams.pas

******************************************************************************
commit 408fc819b399947025669f134ff779bd78c5602c
Author: florian <florian@freepascal.org>
Date:   Sat Oct 31 19:54:40 2020 +0000

      + initial implementation of a FullName field in file records to overcome length limitions of the name field
    
    git-svn-id: trunk@47263 -

M	rtl/inc/file.inc
M	rtl/inc/filerec.inc
M	rtl/inc/systemh.inc
M	rtl/inc/text.inc
M	rtl/inc/textrec.inc

******************************************************************************
commit 3d049a33096ee1906af356dad7f8830c95d895d2
Author: florian <florian@freepascal.org>
Date:   Fri Oct 30 22:10:56 2020 +0000

      - remove unused trimbspace
      + added ansistring variants for some helpers
    
    git-svn-id: trunk@47260 -

M	compiler/cutils.pas

******************************************************************************
commit f674ed0324fa2af19d0c3a896ec06e33a1db024a
Author: pierre <pierre@freepascal.org>
Date:   Fri Oct 30 16:12:47 2020 +0000

     Disable use of cmov instructions in alignment patterns for some i386 targets (it prevents use of some emulators)
    
    git-svn-id: trunk@47257 -

M	compiler/systems.pas
M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 7966b29b2f3a2e98dec9a097a3da18be690584b2
Author: pierre <pierre@freepascal.org>
Date:   Fri Oct 30 15:33:27 2020 +0000

     i386-go32v2 also does not support progbits, as other COFF targets
    
    git-svn-id: trunk@47255 -

M	compiler/aggas.pas

******************************************************************************
commit ff31d95a694c2c9bfd4f788ccc280c1d6593e527
Author: florian <florian@freepascal.org>
Date:   Wed Oct 28 21:37:27 2020 +0000

      * excess precision should not be applied to comp or currency
    
    git-svn-id: trunk@47246 -

M	compiler/nadd.pas

******************************************************************************
commit 5b06af888693055fb9d52146b70c356d28d06389
Author: florian <florian@freepascal.org>
Date:   Wed Oct 28 21:37:26 2020 +0000

      * delphi has excessprecision turned on by default
    
    git-svn-id: trunk@47245 -

M	compiler/scanner.pas

******************************************************************************
commit 075966f142ca9ccc05cb5db2291a565832c141ba
Author: pierre <pierre@freepascal.org>
Date:   Wed Oct 28 10:48:06 2020 +0000

     Display xtensa specific options for ppcxtensa -h
    
    git-svn-id: trunk@47232 -

M	compiler/options.pas

******************************************************************************
commit b8e6610617d5067d8010610b50878c64771296a4
Author: pierre <pierre@freepascal.org>
Date:   Wed Oct 28 09:46:02 2020 +0000

     Add explicit longint typecast to avoid range check errors with unwindrec longword variable
    
    git-svn-id: trunk@47231 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 1fdf940d0b2937969df7ce2c7fa14a27bef30e62
Author: pierre <pierre@freepascal.org>
Date:   Wed Oct 28 07:08:48 2020 +0000

     Fix compilation failure of i386-netbsd target after last commit
    
    git-svn-id: trunk@47230 -

M	rtl/netbsd/i386/sighnd.inc

******************************************************************************
commit f80bd9b034171030819d9ff7efb0f45de375c1e4
Author: pierre <pierre@freepascal.org>
Date:   Tue Oct 27 23:11:23 2020 +0000

     Fix typo in script comment
    
    git-svn-id: trunk@47229 -

M	rtl/unix/scripts/check_rtl_types.sh

******************************************************************************
commit 8a543dbc8ad339c0a2693a2df1848a5bb070a06a
Author: pierre <pierre@freepascal.org>
Date:   Tue Oct 27 23:09:32 2020 +0000

     Use RTE 207 for FPU_Invalid and FPU_Denormal exceptions on i386/x86_64 beos/haiku/*bsd as for Linux
    
    git-svn-id: trunk@47227 -

M	rtl/beos/i386/sighnd.inc
M	rtl/freebsd/i386/sighnd.inc
M	rtl/freebsd/x86_64/sighnd.inc
M	rtl/haiku/i386/sighnd.inc
M	rtl/haiku/x86_64/sighnd.inc
M	rtl/netbsd/i386/sighnd.inc
M	rtl/netbsd/x86_64/sighnd.inc
M	rtl/openbsd/i386/sighnd.inc
M	rtl/openbsd/x86_64/sighnd.inc

******************************************************************************
commit 13f1fb60b4cc7ee884a00de755d983ae0790bb6e
Author: florian <florian@freepascal.org>
Date:   Tue Oct 27 21:42:51 2020 +0000

      * directly copy the result of set <op> set into the left side of an assignment
    
    git-svn-id: trunk@47226 -

M	compiler/nadd.pas

******************************************************************************
commit 6d5816085d94fd8498cd9d34d5e0cf8839d74c9c
Author: michael <michael@freepascal.org>
Date:   Tue Oct 27 08:25:28 2020 +0000

    * Fix for 37993, attempt to prevent memory leak in case of database shutdown
    
    git-svn-id: trunk@47216 -

M	packages/fcl-db/src/sqldb/sqldb.pp

******************************************************************************
commit 3baddff71e3e04ee92cb792b904c9b9f5a4e4043
Author: florian <florian@freepascal.org>
Date:   Mon Oct 26 22:18:03 2020 +0000

      + inline subroutines with formal parameters as well
    
    git-svn-id: trunk@47214 -

M	compiler/ncal.pas
M	compiler/psub.pas

******************************************************************************
commit dfaee4f04b1c2ec66e01978b3d2377685f366354
Author: florian <florian@freepascal.org>
Date:   Mon Oct 26 20:58:24 2020 +0000

      * patch by Jan Bruns to solve an issue with the new overloading selection code, resolves #37969
    
    git-svn-id: trunk@47211 -

M	.gitattributes
M	compiler/htypechk.pas
A	tests/webtbs/tw37969.pp

******************************************************************************
commit b51729dac5db8f713b2e777e374d9811c83e0f52
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Oct 26 20:39:21 2020 +0000

    File datetime UTC support
    
    git-svn-id: trunk@47210 -

M	packages/rtl-objpas/src/inc/dateutil.inc
M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/unix/unixutil.pp

******************************************************************************
commit 438bba76b9d154b8d963b54f8d67721c39252009
Author: yury <jura@cp-lab.com>
Date:   Mon Oct 26 17:53:40 2020 +0000

    + Added a test for: When {$mode delphi} and {$modeswitch nestedprocvars} it is allowed to assign a nested routine which does not use parentfp to a regular procvar. And then call this procvar without any side effects.
    
    git-svn-id: trunk@47209 -

M	.gitattributes
A	tests/test/tnest5.pp

******************************************************************************
commit bf5b85e5e539afd6c964afe225614d0c90d84ac4
Author: pierre <pierre@freepascal.org>
Date:   Mon Oct 26 14:45:34 2020 +0000

     Also look for function name of 'result' is not found in load_result_node
    
    git-svn-id: trunk@47208 -

M	compiler/nutils.pas

******************************************************************************
commit 0d08b98d47c67169574ff4b2d72d650d67ed5243
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Oct 26 12:29:18 2020 +0000

    GetLocalTimeOffset: DateTime-aware overloads (Windows supported, Unix is a ToDo). Issue #35710
    
    git-svn-id: trunk@47206 -

M	packages/fcl-pdf/src/fppdf.pp
M	packages/rtl-objpas/src/inc/dateutil.inc
M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/unix/sysutils.pp
M	rtl/win/sysutils.pp
M	rtl/win/wininc/redef.inc
M	rtl/win/wininc/struct.inc
M	rtl/wince/sysutils.pp

******************************************************************************
commit f529253c0b39dd374ef076e83f9416a3b96e156e
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Oct 26 09:31:54 2020 +0000

    Deprecate TUnicodeSearchRec.Time and TRawbyteSearchRec.Time
    
    git-svn-id: trunk@47204 -

M	rtl/objpas/sysutils/filutilh.inc

******************************************************************************
commit 34d3429e4326759192862dd4f4a6300132bc4bc6
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Oct 26 09:15:26 2020 +0000

    More precise FileAge
    
    git-svn-id: trunk@47203 -

M	rtl/objpas/sysutils/filutil.inc

******************************************************************************
commit 17c0291e86d90a27181304b8adb1d51d79c5b618
Author: florian <florian@freepascal.org>
Date:   Sun Oct 25 19:07:44 2020 +0000

      * cache IsATTY value
    
    git-svn-id: trunk@47201 -

M	compiler/comphook.pas

******************************************************************************
commit ff6a58ff89a0334a64329a29db000a0dbf91d9df
Author: florian <florian@freepascal.org>
Date:   Sun Oct 25 17:04:33 2020 +0000

      * colored message output as requested in #37331, so far linux only
    
    git-svn-id: trunk@47200 -

M	compiler/comphook.pas

******************************************************************************
commit 16eb670e67cc8243cf2122e992f1cebf00cf4904
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Oct 25 15:36:31 2020 +0000

    * use the sizes of the floatx80 and float128 structs for arrays having their size to avoid problems with padding on different platforms
    
    git-svn-id: trunk@47198 -

M	rtl/inc/ufloat128.pp
M	rtl/inc/ufloatx80.pp

******************************************************************************
commit 52cf07d96831bf8def50a45521582e75256f2dda
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Oct 25 15:20:39 2020 +0000

    * the define to check for inclusion in the System unit is FPC_IS_SYSTEM, *not* FPC_IN_SYSTEM
    
    git-svn-id: trunk@47197 -

M	rtl/inc/softfpu.pp

******************************************************************************
commit d51213d26ada2eddcae37b82be384355361a554c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Oct 25 10:18:18 2020 +0000

    * adjust softfpu unit so that it can be really used as a standalone unit instead of mainly as part of the System unit
    
    git-svn-id: trunk@47193 -

M	rtl/inc/softfpu.pp

******************************************************************************
commit 225bc70e7e5592b0c33f219ccde334c442d62be9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Oct 25 10:18:14 2020 +0000

    * regenerate Makefiles
    
    git-svn-id: trunk@47192 -

M	rtl/amiga/Makefile
M	rtl/aros/Makefile
M	rtl/morphos/Makefile
M	rtl/win32/Makefile

******************************************************************************
commit 8badcbdd0d77bc2393f23e51e44356ff2b13b3dd
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Oct 25 10:18:09 2020 +0000

    * explicit build rules are not required for the softfpu units that are build with a buildrtl
    
    git-svn-id: trunk@47191 -

M	rtl/amiga/Makefile.fpc
M	rtl/aros/Makefile.fpc
M	rtl/morphos/Makefile.fpc
M	rtl/win32/Makefile.fpc

******************************************************************************
commit 8eefb37b42ba8edf21d2473c44cfabb25bf258ac
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 24 21:25:04 2020 +0000

    * fix buildrtl units on Amiga-likes
    
    git-svn-id: trunk@47190 -

M	rtl/amiga/buildrtl.pp
M	rtl/aros/buildrtl.pp
M	rtl/morphos/buildrtl.pp

******************************************************************************
commit 985c4fafeba5fb46477a227e90868ac70263bb77
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 24 20:58:24 2020 +0000

    * regenerate Makefiles after adding the softfpu units
    
    git-svn-id: trunk@47188 -

M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/aros/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/nativent/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/solaris/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile

******************************************************************************
commit 707034b271a40637747d448ab77e33adf2c33178
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 24 20:58:08 2020 +0000

    + add all softfpu units for various targets
    
    git-svn-id: trunk@47187 -

M	rtl/aix/Makefile.fpc
M	rtl/amiga/Makefile.fpc
M	rtl/android/Makefile.fpc
M	rtl/aros/Makefile.fpc
M	rtl/beos/Makefile.fpc
M	rtl/darwin/Makefile.fpc
M	rtl/dragonfly/Makefile.fpc
M	rtl/emx/Makefile.fpc
M	rtl/freebsd/Makefile.fpc
M	rtl/go32v2/Makefile.fpc
M	rtl/haiku/Makefile.fpc
M	rtl/macos/Makefile.fpc
M	rtl/morphos/Makefile.fpc
M	rtl/nativent/Makefile.fpc
M	rtl/nativent/buildrtl.pp
M	rtl/netbsd/Makefile.fpc
M	rtl/netware/Makefile.fpc
M	rtl/netwlibc/Makefile.fpc
M	rtl/openbsd/Makefile.fpc
M	rtl/os2/Makefile.fpc
M	rtl/solaris/Makefile.fpc
M	rtl/win32/Makefile.fpc
M	rtl/win32/buildrtl.pp
M	rtl/win64/Makefile.fpc
M	rtl/win64/buildrtl.pp
M	rtl/wince/Makefile.fpc

******************************************************************************
commit 0df460f56e6b48b294ee3b0a476587c066535e0e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 24 20:57:56 2020 +0000

    * simplify rules for softfpu units
    
    git-svn-id: trunk@47186 -

M	rtl/linux/Makefile.fpc
M	rtl/macos/Makefile.fpc

******************************************************************************
commit b5148304b7b71721e696f37191038d6748f3cfb8
Author: michael <michael@freepascal.org>
Date:   Sat Oct 24 16:29:33 2020 +0000

    * Added InitSSLInterface overload where the library names can be specified
    
    git-svn-id: trunk@47174 -

M	packages/openssl/src/openssl.pas

******************************************************************************
commit 297f468cd6677a0d16b78c36ae34df5f33f1f63e
Author: pierre <pierre@freepascal.org>
Date:   Fri Oct 23 22:21:06 2020 +0000

     Use // comments as curly brackets not recognized as comment start inside aarch64 assembly blocks
    
    git-svn-id: trunk@47164 -

M	rtl/win64/system.pp

******************************************************************************
commit 8fa62752d4e8a21b569cdde4644f4d1b006e6d1e
Author: florian <florian@freepascal.org>
Date:   Fri Oct 23 20:05:18 2020 +0000

      * patch by J. Gareth Moreton: minor refactor of reduced iterations of pass 1 of the assembler optimizer, resolves #37972
    
    git-svn-id: trunk@47163 -

M	compiler/aoptobj.pas

******************************************************************************
commit 703941dde56a38672779439d3aa3cfe93a6c3426
Author: florian <florian@freepascal.org>
Date:   Fri Oct 23 20:05:17 2020 +0000

      + x86: MovxMov2Mov optimization
    
    git-svn-id: trunk@47162 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6d0ce1c4b60c142db8d968ea82200784c512de3c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Oct 23 15:09:34 2020 +0000

      * LLVM: ensure that the parameter types are processed of procdefs that are
        declared when they get first called
       o fixes compilation of several tests/test/tobjc* tests after r46675
    
    git-svn-id: trunk@47160 -

M	compiler/llvm/llvmtype.pas

******************************************************************************
commit 072934081799accd4acfc667b7046e13a0a54734
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Oct 23 13:34:24 2020 +0000

      * try_make_mul32to64: restore original node order if transformation failed
       o this gets called by taddnode.pass_1, which caches the left/right
       node types/resultdefs
    
    git-svn-id: trunk@47158 -

M	compiler/nadd.pas

******************************************************************************
commit dc547b1426bcf6f2a15ae2eb384a20c41f9365f5
Author: florian <florian@freepascal.org>
Date:   Thu Oct 22 21:25:37 2020 +0000

      + remove type conversions also for unary operations if possible
    
    git-svn-id: trunk@47155 -

M	compiler/ncnv.pas

******************************************************************************
commit 74d145bb16994e08bb5255a15f4d0d547b81c0ec
Author: florian <florian@freepascal.org>
Date:   Thu Oct 22 21:25:36 2020 +0000

      * simplify tcgunaryminusnode.second_integer
    
    git-svn-id: trunk@47154 -

M	compiler/ncgmat.pas

******************************************************************************
commit 6fc930a0fc30a339624476fe1f0f79a261632387
Author: florian <florian@freepascal.org>
Date:   Wed Oct 21 20:46:28 2020 +0000

      * better complexity calculation of tvecnodes
    
    git-svn-id: trunk@47151 -

M	compiler/nutils.pas

******************************************************************************
commit 044133fc87e120b53f7091d4dcba965028b2ad58
Author: florian <florian@freepascal.org>
Date:   Wed Oct 21 20:46:28 2020 +0000

      * explicitly convert array indicies to pointer sized integers, so cse
        can handle the conversion
    
    git-svn-id: trunk@47150 -

M	compiler/nmem.pas

******************************************************************************
commit 91a622328105fddad75b9a1794450c9ccda65d49
Author: florian <florian@freepascal.org>
Date:   Tue Oct 20 20:03:25 2020 +0000

      * (slight modified) patch by J. Gareth Moreton to reduce number of assembler optimizer passes, resolves #37959
    
    git-svn-id: trunk@47146 -

M	compiler/aopt.pas
M	compiler/aoptobj.pas

******************************************************************************
commit 8bbc7d5df3d76fa56b90b07ea762ccea1b10a686
Author: florian <florian@freepascal.org>
Date:   Mon Oct 19 19:46:10 2020 +0000

      * patch by J. Gareth Moreton to improve LEA/SHL -> LEA optimisation, resolves #37954
    
    git-svn-id: trunk@47143 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 099134b54554c0c4ed5b871f23952dd40647393d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Oct 19 19:10:16 2020 +0000

      * fix try_make_mul32to64() if it's called with a constant node on the
        left (mantis #37878)
       o can happen if use_generic_mul32to64 returns false
    
    git-svn-id: trunk@47142 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw37878.pp

******************************************************************************
commit 0e474f4748f84595788103b867f9d6fccc47d235
Author: michael <michael@freepascal.org>
Date:   Mon Oct 19 11:25:21 2020 +0000

    * Patch from Laco with additions
    
    git-svn-id: trunk@47138 -

M	packages/odbc/src/odbcsql.inc

******************************************************************************
commit 3f19bd693ff42aacf053098d507cab586a642195
Author: pierre <pierre@freepascal.org>
Date:   Mon Oct 19 09:19:25 2020 +0000

      + Add new LastCommonAsmOp constant to arm and aarch64 CPU targets.
      * Uses this new constant to define TCommonAsmOps set type.
      + Use this constant in armgen/aoptarm MatchInstruction function,
        to avoid a range check error when compiling with -CriotR with optimization.
    
    git-svn-id: trunk@47137 -

M	compiler/aarch64/cpubase.pas
M	compiler/arm/cpubase.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 080d8c28f7a9725d93943ed6e4014ea729627046
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 17 14:59:04 2020 +0000

      * LLVM 11.0 support
    
    git-svn-id: trunk@47121 -

M	compiler/llvm/agllvm.pas
M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 80394fc6e8bbc3965ab72236e2c51f99f99156ff
Author: florian <florian@freepascal.org>
Date:   Fri Oct 16 21:19:10 2020 +0000

      - removed cvs remainders ($Id$ and $Log$ tags)
    
    git-svn-id: trunk@47119 -

M	rtl/linux/m68k/cprt21.as
M	rtl/linux/m68k/gprt0.as
M	rtl/linux/m68k/gprt21.as
M	rtl/qnx/dos.inc
M	rtl/qnx/errno.inc
M	rtl/qnx/osposix.inc
M	rtl/qnx/osposixh.inc
M	rtl/qnx/posix.pp
M	rtl/qnx/qnx.inc
M	rtl/qnx/signal.inc
M	rtl/qnx/system.pp

******************************************************************************
commit 9376f5a43ab500b5577ad71bc9b5b2fce4afcbc7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Oct 15 20:29:36 2020 +0000

      * AArch64: added SIMD instructions (only plain ARMv8-A for now)
       o added AArch64 regset parsing support in assembler reader, means that "{"
         no longer starts comments there (like in the ARM assembler reader)
       o added AArch64 indexed SIMD register support and removed old cg hacks
         that worked around its absence
    
    git-svn-id: trunk@47116 -

M	.gitattributes
M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc
M	compiler/aarch64/a64reg.dat
M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cgcpu.pas
M	compiler/aarch64/cpubase.pas
M	compiler/aarch64/cpupara.pas
M	compiler/aarch64/ra64con.inc
M	compiler/aarch64/ra64dwa.inc
M	compiler/aarch64/ra64nor.inc
M	compiler/aarch64/ra64num.inc
M	compiler/aarch64/ra64rni.inc
M	compiler/aarch64/ra64sri.inc
M	compiler/aarch64/ra64sta.inc
M	compiler/aarch64/ra64std.inc
M	compiler/aarch64/ra64sup.inc
M	compiler/aarch64/racpu.pas
M	compiler/aarch64/racpugas.pas
M	compiler/aasmtai.pas
M	compiler/armgen/aoptarm.pas
M	compiler/cgbase.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/raatt.pas
M	compiler/rautils.pas
M	compiler/utils/gena64vfp.pp
M	compiler/x86/cpubase.pas
M	rtl/aarch64/aarch64.inc
M	rtl/aarch64/math.inc
A	tests/test/traa641.pp

******************************************************************************
commit d0d07dc3bf21ab5cbe90f242202556f942233f95
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Oct 15 20:29:32 2020 +0000

      * naturally align threadvar lists/tables
       o required for (future) Darwin arm64e target, and a good idea elsewhere too
         (on constrained targets, it won't make a difference because the alignment
         of pointers won't be > sizeof(longint))
    
    git-svn-id: trunk@47115 -

M	compiler/ngenutil.pas
M	compiler/options.pas
M	rtl/inc/threadvr.inc

******************************************************************************
commit 3b0168ae162ff2b7a57aeb9114ad6beb42c8b02b
Author: florian <florian@freepascal.org>
Date:   Wed Oct 14 20:08:10 2020 +0000

      * (slightly) modified (formatting, warning) patch by Jan Bruns to speed up overloading search, resolves #36666
    
    git-svn-id: trunk@47111 -

M	compiler/htypechk.pas
M	compiler/symdef.pas

******************************************************************************
commit 7dff106d14e7f9800853e63b4267dfba8f01a91b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Oct 14 09:11:37 2020 +0000

    * use the name of the symbol instead of the name of the section as the later is always lowercased
    
    git-svn-id: trunk@47109 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 5e6ec33a59602b4fb5ecfc9ce6d1ba9ee5d0e03b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Oct 14 09:11:32 2020 +0000

    * reset the stored symbol for SEH data once a new section is encountered
    
    git-svn-id: trunk@47108 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 0c2494bec82fe3595b77efa1b55ca38a7c853269
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Oct 14 09:11:27 2020 +0000

    * when setting up the symbol for the SEH data don't check whether it is global, instead check whether it's a function
    
    git-svn-id: trunk@47107 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 7a1903cc8f084acdd210300c16d39641ff468924
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Oct 14 01:52:12 2020 +0000

    * turn the recently added 3357 warning into an error, to avoid another compiler IE later
    
    git-svn-id: trunk@47105 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/powerpc/cpupara.pas

******************************************************************************
commit f4898588551c5c96111e2a3d8c9dd0d716f33c08
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Oct 14 01:45:14 2020 +0000

    powerpc: added support for 64bit explicit locations in legacy MorphOS syscalls. improved error handling of various corner cases or explicit paraloc handling
    
    git-svn-id: trunk@47104 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/powerpc/cpupara.pas

******************************************************************************
commit 637976e83fc692df21a49930461d41137145d1c4
Author: florian <florian@freepascal.org>
Date:   Tue Oct 13 19:59:01 2020 +0000

      * patch by Marģers to unify internal error numbers, resolves #37888
    
    git-svn-id: trunk@47103 -

M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cgcpu.pas
M	compiler/aarch64/cpupara.pas
M	compiler/aarch64/hlcgcpu.pas
M	compiler/aarch64/ncpuflw.pas
M	compiler/aarch64/racpugas.pas
M	compiler/aasmbase.pas
M	compiler/aasmcnst.pas
M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpuelf.pas
M	compiler/arm/cpupara.pas
M	compiler/arm/hlcgcpu.pas
M	compiler/arm/narmadd.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/narminl.pas
M	compiler/arm/narmld.pas
M	compiler/arm/narmmat.pas
M	compiler/arm/raarmgas.pas
M	compiler/arm/rgcpu.pas
M	compiler/assemble.pas
M	compiler/avr/aasmcpu.pas
M	compiler/avr/agavrgas.pas
M	compiler/avr/cgcpu.pas
M	compiler/avr/cpupara.pas
M	compiler/avr/navrmat.pas
M	compiler/avr/raavrgas.pas
M	compiler/cg64f32.pas
M	compiler/cgobj.pas
M	compiler/dbgdwarf.pas
M	compiler/dbgstabs.pas
M	compiler/fpcp.pas
M	compiler/hlcg2ll.pas
M	compiler/hlcgobj.pas
M	compiler/i386/cgcpu.pas
M	compiler/i386/cpuelf.pas
M	compiler/i386/cpupara.pas
M	compiler/i386/hlcgcpu.pas
M	compiler/i386/n386add.pas
M	compiler/i386/n386flw.pas
M	compiler/i386/n386mat.pas
M	compiler/i8086/cgcpu.pas
M	compiler/i8086/cpupara.pas
M	compiler/i8086/hlcgcpu.pas
M	compiler/i8086/n8086add.pas
M	compiler/i8086/n8086inl.pas
M	compiler/i8086/n8086ld.pas
M	compiler/i8086/n8086mat.pas
M	compiler/i8086/n8086mem.pas
M	compiler/i8086/symcpu.pas
M	compiler/jvm/agjasmin.pas
M	compiler/jvm/hlcgcpu.pas
M	compiler/jvm/jvmdef.pas
M	compiler/jvm/njvmcnv.pas
M	compiler/jvm/njvmmem.pas
M	compiler/jvm/njvmtcon.pas
M	compiler/jvm/pjvm.pas
M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmpara.pas
M	compiler/llvm/llvmpi.pas
M	compiler/llvm/llvmtype.pas
M	compiler/llvm/nllvmmem.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/m68k/cgcpu.pas
M	compiler/m68k/cpupara.pas
M	compiler/m68k/n68kadd.pas
M	compiler/m68k/n68kcal.pas
M	compiler/m68k/n68kmat.pas
M	compiler/m68k/n68kmem.pas
M	compiler/mips/aasmcpu.pas
M	compiler/mips/cgcpu.pas
M	compiler/mips/cpuelf.pas
M	compiler/mips/cpugas.pas
M	compiler/mips/hlcgcpu.pas
M	compiler/mips/ncpucnv.pas
M	compiler/mips/ncpuinln.pas
M	compiler/mips/racpugas.pas
M	compiler/nadd.pas
M	compiler/nbas.pas
M	compiler/ncgadd.pas
M	compiler/ncgcal.pas
M	compiler/ncgcon.pas
M	compiler/ncginl.pas
M	compiler/ncnv.pas
M	compiler/ngenutil.pas
M	compiler/ngtcon.pas
M	compiler/ninl.pas
M	compiler/nmat.pas
M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogomf.pas
M	compiler/ogrel.pas
M	compiler/omfbase.pas
M	compiler/options.pas
M	compiler/optloadmodifystore.pas
M	compiler/optvirt.pas
M	compiler/pbase.pas
M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pexports.pas
M	compiler/pexpr.pas
M	compiler/pkgutil.pas
M	compiler/powerpc/agppcmpw.pas
M	compiler/powerpc/cgcpu.pas
M	compiler/powerpc/cpupi.pas
M	compiler/powerpc/nppcadd.pas
M	compiler/powerpc/nppcmat.pas
M	compiler/powerpc/rappcgas.pas
M	compiler/powerpc64/cgcpu.pas
M	compiler/powerpc64/nppcadd.pas
M	compiler/powerpc64/nppcmat.pas
M	compiler/powerpc64/rappcgas.pas
M	compiler/ppcgen/agppcgas.pas
M	compiler/ppcgen/cgppc.pas
M	compiler/ppcgen/hlcgppc.pas
M	compiler/ppcgen/ngppcadd.pas
M	compiler/ppcgen/ngppcinl.pas
M	compiler/ppcgen/rgcpu.pas
M	compiler/psub.pas
M	compiler/rgobj.pas
M	compiler/riscv/hlcgrv.pas
M	compiler/riscv32/rarv32gas.pas
M	compiler/riscv64/rarv64gas.pas
M	compiler/sparc/cgcpu.pas
M	compiler/sparc64/cpugas.pas
M	compiler/sparcgen/aasmcpu.pas
M	compiler/sparcgen/cpugas.pas
M	compiler/sparcgen/ncpucnv.pas
M	compiler/sparcgen/racpugas.pas
M	compiler/sparcgen/rgcpu.pas
M	compiler/symbase.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas
M	compiler/symtype.pas
M	compiler/systems/t_win16.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/agx86att.pas
M	compiler/x86/agx86int.pas
M	compiler/x86/agx86nsm.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/cpubase.pas
M	compiler/x86/nx86add.pas
M	compiler/x86/nx86cnv.pas
M	compiler/x86/nx86inl.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86att.pas
M	compiler/x86/symx86.pas
M	compiler/x86_64/cpuelf.pas
M	compiler/x86_64/hlcgcpu.pas
M	compiler/x86_64/rax64int.pas
M	compiler/x86_64/win64unw.pas
M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpumat.pas
M	compiler/xtensa/ncpumem.pas
M	compiler/xtensa/racpugas.pas
M	compiler/z80/aasmcpu.pas
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas
M	compiler/z80/aoptcpu.pas
M	compiler/z80/aoptcpub.pas
M	compiler/z80/cgcpu.pas
M	compiler/z80/cpubase.pas
M	compiler/z80/cpupara.pas
M	compiler/z80/nz80add.pas
M	compiler/z80/tgcpu.pas

******************************************************************************
commit 56c58b517d9290198f50e8efa58290a5724ebc0b
Author: florian <florian@freepascal.org>
Date:   Sun Oct 11 09:10:42 2020 +0000

      * is_signed does not check the ordtype but the ranges, so it cannot be used to
        check for valid types for cvtsi2sd/s
    
    git-svn-id: trunk@47083 -

M	compiler/x86/nx86cnv.pas

******************************************************************************
commit 99d3651da964ea05c6baf3929c8f9fe70c8c95d8
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:16 2020 +0000

      * generate simplified code for unary minus when sse/avx is used
    
    git-svn-id: trunk@47082 -

M	compiler/x86/nx86mat.pas

******************************************************************************
commit 23af096ef6c0fa3d0f74666c56b8b54c3b843354
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:16 2020 +0000

      * copy only the instruction table related inc files during make insdat
    
    git-svn-id: trunk@47081 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit a3920d535629614e9d03ec76d143d7d0a8f34167
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:15 2020 +0000

      * proper change information for avx-512 vcvt* instructions
    
    git-svn-id: trunk@47080 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit f284a6eda9e33a6617b958e476e92b4d09e64fcb
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:14 2020 +0000

      * improved (V)MOVA*(V)MOVA*2(V)MOVA* 2 optimization
    
    git-svn-id: trunk@47079 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a8b387a166210f5ca575c65981d4706ea51d7025
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:13 2020 +0000

      + make use of avx-512 instructions vcvtuis2s* if possible
    
    git-svn-id: trunk@47078 -

M	compiler/x86/nx86cnv.pas
M	compiler/x86_64/cpuinfo.pas
M	compiler/x86_64/nx64cnv.pas

******************************************************************************
commit ad8b2eaf8a2225dfa1059870c0e601e89ab8e6eb
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:12 2020 +0000

      * mm registers 16-31 are also volatile during a call
    
    git-svn-id: trunk@47077 -

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit c2684c0dc35bee9fb91c408187c1fe344af147ab
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 13:50:35 2020 +0000

      * use V* instructions if possible
      * fix i386 compilation
    
    git-svn-id: trunk@47076 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/cgx86.pas

******************************************************************************
commit 00c6d530b56e7a1c52ef4a07d130e6e234825bea
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 13:50:35 2020 +0000

      * test needs delphi mode apparently
    
    git-svn-id: trunk@47075 -

M	tests/test/units/sysutils/testspo.pp

******************************************************************************
commit cf153b0854ebc825c54303fdf943fe42382fb612
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 13:50:34 2020 +0000

      * use (V)XORPS/D for unary minus
    
    git-svn-id: trunk@47074 -

M	compiler/x86/cgx86.pas
M	compiler/x86/nx86mat.pas

******************************************************************************
commit 8e62bf649ee02a9f4486fd2e9340962449a1429e
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 13:23:35 2020 +0000

      * load 0.0 by (V)XORPS/D instead of (V)PXOR in mm registers
    
    git-svn-id: trunk@47073 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/nx86con.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit f3a660212de69847743829a0cac380bf3450a61f
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 13:23:34 2020 +0000

      * avx-512 has 32 mm registers
    
    git-svn-id: trunk@47072 -

M	compiler/x86/cpubase.pas

******************************************************************************
commit be371d901c436215490ea3a16c4f3fbe90f85b17
Author: michael <michael@freepascal.org>
Date:   Fri Oct 9 11:33:57 2020 +0000

    * test for new split option
    
    git-svn-id: trunk@47069 -

M	.gitattributes
A	tests/test/units/sysutils/testspo.pp

******************************************************************************
commit e4f53a7e4100a9671745a7e5ad1f8ac20d49cf5d
Author: florian <florian@freepascal.org>
Date:   Wed Oct 7 19:48:35 2020 +0000

      * don't do illegal type conversions on GetNextInstructionUsingReg results
    
    git-svn-id: trunk@47063 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c9fcc68ec19dcebaf16dedb4cb0d3d3c69bfe726
Author: florian <florian@freepascal.org>
Date:   Tue Oct 6 19:43:17 2020 +0000

    * enable the compiler to optimize away parts of System.PushExceptObject, if System.get_frame is not implemented, i.e. returning nil
    
    git-svn-id: trunk@47058 -

M	rtl/inc/except.inc

******************************************************************************
commit ab9fa2012b7edc18d637f63cd2cd55c4a78cc0a5
Author: florian <florian@freepascal.org>
Date:   Tue Oct 6 19:43:16 2020 +0000

    * inline more aggressively, if the ie for the initial change re-appears, it must be fixed differently
    
    git-svn-id: trunk@47057 -

M	compiler/ncal.pas

******************************************************************************
commit 722e8d94cde8a8d880d69088b506106413d710da
Author: michael <michael@freepascal.org>
Date:   Tue Oct 6 08:09:50 2020 +0000

    * Error when seek fails
    
    git-svn-id: trunk@47056 -

M	rtl/objpas/sysconst.pp
M	rtl/objpas/sysutils/filutil.inc

******************************************************************************
commit 549bc49c4ae33ae3075dc5d2a8bb452e92ef4cf3
Author: florian <florian@freepascal.org>
Date:   Mon Oct 5 20:11:42 2020 +0000

      + more pxor/vpxor optimizations
    
    git-svn-id: trunk@47054 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 36d21d2d81dce53761c035f1fd68b59d9dd04424
Author: florian <florian@freepascal.org>
Date:   Mon Oct 5 20:11:41 2020 +0000

      + use pxor/vpxor to load 0.0
    
    git-svn-id: trunk@47053 -

M	compiler/x86/nx86con.pas

******************************************************************************
commit e718cb985ebb6cb444455abc48ac674cd3fd44a5
Author: florian <florian@freepascal.org>
Date:   Sun Oct 4 20:50:39 2020 +0000

    * replace some longint by ObjpasInt
    
    git-svn-id: trunk@47047 -

M	rtl/inc/system.inc

******************************************************************************
commit 399552d3509eafa399565e66ab36f3a89fd4665e
Author: pierre <pierre@freepascal.org>
Date:   Sat Oct 3 15:27:57 2020 +0000

      Refactor setting of NoNativeBinaries:
      Added NO_NATIVE_COMPILER_CPU_LIST and NO_NATIVE_COMPILER_OS_LIST
      Set NoNativeBinaries if target CPU is different from source CPU
      and target CPU is in NO_NATIVE_COMPILER_CPU_LIST.
      Set NoNativeBinaries if target OS is different from source OS
      and target CPU is in NO_NATIVE_COMPILER_CPU_LIST.
      Add FORCE_NATIVE_BINARIES variable to be able to overrule
      default behavior of NoNativeBinaries=1
    
    git-svn-id: trunk@47043 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 963fe73d195362fc615e4a8ee08b0534ebb43851
Author: florian <florian@freepascal.org>
Date:   Sat Oct 3 14:51:31 2020 +0000

      + support all XSAVE instructions, resolves #37864
    
    git-svn-id: trunk@47042 -

M	compiler/i386/i386att.inc
M	compiler/i386/i386atts.inc
M	compiler/i386/i386int.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386op.inc
M	compiler/i386/i386prop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086att.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086int.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086op.inc
M	compiler/i8086/i8086prop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664att.inc
M	compiler/x86_64/x8664int.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664op.inc
M	compiler/x86_64/x8664pro.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 0685319be877914bf420f3a47d21dfbb4d8a4ff2
Author: pierre <pierre@freepascal.org>
Date:   Sat Oct 3 14:23:52 2020 +0000

     Treat metadata as data in agppcmpw.pas
    
    git-svn-id: trunk@47041 -

M	compiler/powerpc/agppcmpw.pas

******************************************************************************
commit bb51a2134a6d5b19ca3300a0b7f262feb7b0c834
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Oct 3 01:38:01 2020 +0000

    z80-zxspectrum: fix the the linking order in the bss section, so the startup code doesn't crash when linked with vlink
    
    git-svn-id: trunk@47036 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit e47f44234c68c167b7a6123e56d74a1097ac1869
Author: florian <florian@freepascal.org>
Date:   Fri Oct 2 20:13:17 2020 +0000

      * AVR: MovMov2Mov 2 optimization
    
    git-svn-id: trunk@47035 -

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 3463d469bf0d6c8da57c9157e2592d5b1cb59598
Author: florian <florian@freepascal.org>
Date:   Fri Oct 2 19:40:09 2020 +0000

      * set default processor for i386 to Pentium2
    
    git-svn-id: trunk@47034 -

M	compiler/globals.pas

******************************************************************************
commit 65047cecdb6a57fff0ff84673bd5e70a88be55d0
Author: florian <florian@freepascal.org>
Date:   Thu Oct 1 20:33:03 2020 +0000

      + optimize comparisons of constant pointers
    
    git-svn-id: trunk@47031 -

M	compiler/nadd.pas

******************************************************************************
commit af20b064ed643cd726bea2d5b5a3cc03282e28d0
Author: florian <florian@freepascal.org>
Date:   Thu Oct 1 20:33:03 2020 +0000

      * make framecount and framebufsize dependent on the pointer size
    
    git-svn-id: trunk@47030 -

M	rtl/inc/except.inc

******************************************************************************
commit 1bf58c2a55dfb16d6b000ff62812eae3002614c7
Author: florian <florian@freepascal.org>
Date:   Thu Oct 1 20:33:02 2020 +0000

      + introduce TExitCode
    
    git-svn-id: trunk@47029 -

M	rtl/inc/compproc.inc
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc

******************************************************************************
commit 7e0c21fa5fffcbf548f70ca3d59e436ff3d6a045
Author: pierre <pierre@freepascal.org>
Date:   Thu Oct 1 08:41:03 2020 +0000

     Fix NDS RTL compilation for default armv4 CPU, which does not have CLZ instruction
    
    git-svn-id: trunk@47027 -

M	rtl/nds/system.pp

******************************************************************************
commit 1e4dc56155d14f7531da51fad19b8986bb669b1d
Author: florian <florian@freepascal.org>
Date:   Wed Sep 30 21:18:33 2020 +0000

      * inlinable frame handling dummies for avr
      * inline frame handler if possible
    
    git-svn-id: trunk@47025 -

M	rtl/avr/avr.inc
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc

******************************************************************************
commit 284aca734872cdc6c60e9d5c3b94047907ec81fe
Author: florian <florian@freepascal.org>
Date:   Wed Sep 30 19:20:14 2020 +0000

      + x86: FstpFld2Fst optimization (re-enabled for safe cases)
    
    git-svn-id: trunk@47024 -

M	compiler/x86/aoptx86.pas
M	tests/tbs/tb0519.pp
M	tests/test/tthlp4.pp
M	tests/test/units/sysutils/tfloattostr.pp
M	tests/webtbs/tw25121.pp

******************************************************************************
commit 58bca9cce18f26cd9c7c4a7dadae39995621a53b
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 15:38:39 2020 +0000

     Various Watcom changes to enable compilation of packages and utils
    
    git-svn-id: trunk@47023 -

M	packages/chm/fpmake.pp
M	packages/libgd/src/gd.pas
M	packages/rtl-generics/fpmake.pp
M	packages/rtl-objpas/fpmake.pp
M	packages/rtl-unicode/fpmake.pp
M	utils/fpcreslipo/fpmake.pp
M	utils/fpdoc/fpmake.pp

******************************************************************************
commit 875bb32e0be3e0557ba3d2a1b1bafc12d3c5e197
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 15:22:13 2020 +0000

     Add character, fpwidestring, unicodedata and unicodenumtable units to watcom RTL
    
    git-svn-id: trunk@47022 -

M	rtl/watcom/Makefile
M	rtl/watcom/Makefile.fpc

******************************************************************************
commit 4a6358bfc1c2433ca4a17ff95cec2844b51f7e3e
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 13:50:43 2020 +0000

      * Fix NaN for watcom assembler (C000h is considered as a label, use 0xC000 instead)
      * Also use ApplyAsmSymbolRestrictions for label names (required for units using embedded '.'
      * Add ':' after a label if there is hp^.next is not assigned
    
    git-svn-id: trunk@47018 -

M	compiler/x86/agx86int.pas

******************************************************************************
commit d72170f9a33cc70bff2748a07978964d28526d38
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 12:20:26 2020 +0000

     Fix compilation for watcom RTL
    
    git-svn-id: trunk@47015 -

M	.gitattributes
M	rtl/watcom/sysutils.pp
A	rtl/watcom/tthread.inc

******************************************************************************
commit fa12dfa7b5fc86551e7bbbbccd64300c780a7e96
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 12:18:39 2020 +0000

     Rename pvmt internal type to lower_pvmt for i386-watcom as watcom assembler is not case sensitive
    
    git-svn-id: trunk@47014 -

M	compiler/psystem.pas

******************************************************************************
commit c20b51a80679c899df57fa933ec3d4d32d939520
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 12:17:24 2020 +0000

     Use ApplyAsmSymbolRestrictions function and limit label sie to 247 for watcom assembler
    
    git-svn-id: trunk@47013 -

M	compiler/x86/agx86int.pas

******************************************************************************
commit 64da07da48c3206567b97cbd03872a73206afd54
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 12:16:21 2020 +0000

     Add conversion from "$" to "." for i386-watcom target and avoid iteration if no char modification is wanted in ApplyAsmSymbolRestrictions function
    
    git-svn-id: trunk@47012 -

M	compiler/aasmbase.pas

******************************************************************************
commit 69fcacc9487aac44b1bc9b5cc9aef2d219122369
Author: florian <florian@freepascal.org>
Date:   Tue Sep 29 20:59:29 2020 +0000

      * use fld/fst on i386 to copy doubles
    
    git-svn-id: trunk@47009 -

M	compiler/ncgld.pas

******************************************************************************
commit e124b07e868dc1a1441aae5306d5d8cadd1e375d
Author: florian <florian@freepascal.org>
Date:   Tue Sep 29 20:14:27 2020 +0000

    + evaluate typeinfo(<type1>)=/<>typeinfo(<type2>) at compile time, resolves #30260
    
    git-svn-id: trunk@47008 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw30260.pp

******************************************************************************
commit 202976b457fc706bc54091d2c1c3cdc1ab132f17
Author: michael <michael@freepascal.org>
Date:   Mon Sep 28 14:05:12 2020 +0000

    * Fix windows compilation
    
    git-svn-id: trunk@46991 -

M	packages/openssl/src/openssl.pas

******************************************************************************
commit 322d04cdee3e455656296bd2c04357175f41d9d1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Sep 28 14:02:03 2020 +0000

      * regenerated after adding unixtype dependencies
    
    git-svn-id: trunk@46990 -

M	rtl/darwin/Makefile
M	rtl/linux/Makefile

******************************************************************************
commit f3e140fc50d30b617fb1bab28b7e20e7eac13cd3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Sep 28 14:01:55 2020 +0000

      * test for mantis #34543 (already fixed)
    
    git-svn-id: trunk@46988 -

M	.gitattributes
A	tests/webtbs/tw34543.pp

******************************************************************************
commit ce3335affebeac822e3fd9acf8298512325ed696
Author: michael <michael@freepascal.org>
Date:   Mon Sep 28 13:23:43 2020 +0000

    * LibreSSL support
    
    git-svn-id: trunk@46987 -

M	packages/openssl/src/openssl.pas

******************************************************************************
commit 9f8417ba522dddcbf40268f500d7cb3eaec440de
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 27 22:58:01 2020 +0000

    z80: added handling of sections provided by the startup code to the vlink linker script. this fixes executable building, but the resulting executables still don't work at this point
    
    git-svn-id: trunk@46980 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit aa745e031988c17c151427e3f61034b348baac48
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 27 22:55:59 2020 +0000

    z80: re-enabled af_smartlink_sections for vasm which is required for the vasm + vlink combo, partially reverting r46916
    
    git-svn-id: trunk@46979 -

M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 7c195d2062b07943d9bf363702d985ab84fc9d2f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 27 22:52:06 2020 +0000

    z80: cleaned up some tabs vs. spaces indentation mess in the vasm writer. no functional change.
    
    git-svn-id: trunk@46978 -

M	compiler/z80/agz80vasm.pas

******************************************************************************
commit bb92fbafa061f028aded7d3e3a22149b87af31a1
Author: florian <florian@freepascal.org>
Date:   Sun Sep 27 21:05:43 2020 +0000

      patch by J. Gareth Moreton: GetNextInstructionUsingReg drops out earlier, second part of #37526
    
    git-svn-id: trunk@46976 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit eec51afadd209e60c37699ad2cda4b628a6e3060
Author: florian <florian@freepascal.org>
Date:   Sun Sep 27 21:05:42 2020 +0000

      * patch (with little modification) by J. Gareth Moreton: refactor ARM/Aarch64 peephole optimizer, first part of #37526
    
    git-svn-id: trunk@46975 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 7f53d04ffdc6b44800ac1caf9276116754975ef1
Author: florian <florian@freepascal.org>
Date:   Sat Sep 26 22:03:13 2020 +0000

      + xtensa: make use of nsau to implement Bsr*
    
    git-svn-id: trunk@46963 -

M	compiler/options.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas
M	rtl/inc/systemh.inc

******************************************************************************
commit 1c370ccde1767aadb4d89aa9eb48b4ba68a39733
Author: florian <florian@freepascal.org>
Date:   Sat Sep 26 20:12:29 2020 +0000

      + xtensa: make use of float.s instruction
    
    git-svn-id: trunk@46962 -

M	compiler/xtensa/ncpucnv.pas

******************************************************************************
commit 4ced513363c3a2a387b144a2b5639cc331957b02
Author: florian <florian@freepascal.org>
Date:   Sat Sep 26 20:12:28 2020 +0000

      * xtensa-freertos: run python helpers only on non unix by directly calling python
    
    git-svn-id: trunk@46961 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 112f8a41add94fb12a75636a4b45a155725d9b1e
Author: florian <florian@freepascal.org>
Date:   Sat Sep 26 20:12:27 2020 +0000

      * Xtensa: set is_jmp flag so branch optimization works
    
    git-svn-id: trunk@46960 -

M	compiler/aoptobj.pas
M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit aa8fdabe1f0ed4157fef8c25c4a4ef688877a843
Author: florian <florian@freepascal.org>
Date:   Sat Sep 26 15:44:37 2020 +0000

      * xtensa-freertos: patch by Alfred for better tool search, resolves #37308
    
    git-svn-id: trunk@46958 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 1fb7603f615884cb678045ae687636fe27a00da1
Author: florian <florian@freepascal.org>
Date:   Fri Sep 25 20:06:27 2020 +0000

      * x86: ImulMov2Imul optimization
      * x86: apply OptPass1VOP also to vsqrts*
    
    git-svn-id: trunk@46955 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 61da70bb72ebfc5b119b836c6b74cb763740a4cf
Author: florian <florian@freepascal.org>
Date:   Fri Sep 25 20:06:26 2020 +0000

    * do not copy unused paravarsyms
    
    git-svn-id: trunk@46954 -

M	compiler/hlcgobj.pas

******************************************************************************
commit 882ab946ed9db7e860e6eedc3b1659fa1bd276ab
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 25 04:37:44 2020 +0000

    z80-zxspectrum: delete and remove the prt0.asm file. it's not used any more, as it doesn't contain the interrupt code required for stable operation of the target, and this removes sdasz80 dependency from the RTL build process, if another assembler is used by the compiler
    
    git-svn-id: trunk@46950 -

M	.gitattributes
M	rtl/zxspectrum/Makefile
M	rtl/zxspectrum/Makefile.fpc
D	rtl/zxspectrum/prt0.asm

******************************************************************************
commit df6baa888b23c4b43c8d083b68eeff8eedb1983a
Author: florian <florian@freepascal.org>
Date:   Thu Sep 24 20:09:33 2020 +0000

      * another error message changed into a better one
    
    git-svn-id: trunk@46947 -

M	compiler/ngtcon.pas

******************************************************************************
commit a4e520180f0ab00ea3d030a151081c2598c9d39e
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 16:06:49 2020 +0000

     Avoid range check error in a_op_const_reg_reg method when compiled with -CriotR
    
    git-svn-id: trunk@46945 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 0e72cc94f6669825ac24d96cec22cadf16207041
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 15:46:45 2020 +0000

     Set FBuildEngine.Verbose also for -d option
    
    git-svn-id: trunk@46944 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit ea4950ee910bf3508bdc57117e601682571faf63
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 10:14:42 2020 +0000

     Add missing svn:ignore in some directories
    
    git-svn-id: trunk@46942 -

M	.gitignore

******************************************************************************
commit 78dca42b0e30644e0514a9abc0ca62e92933dbe2
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 10:00:53 2020 +0000

     Use sdasz80 instead of sdcc-sdasz80 to assemble prt0.asm, as sdasz80 is used by ppcz80
    
    git-svn-id: trunk@46938 -

M	rtl/zxspectrum/Makefile
M	rtl/zxspectrum/Makefile.fpc

******************************************************************************
commit 85f14ad3577848238a217654db0fe5087bc6dc8e
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 09:49:33 2020 +0000

     Change list of compiled units for msxdos
    
    git-svn-id: trunk@46936 -

M	rtl/msxdos/Makefile
M	rtl/msxdos/Makefile.fpc

******************************************************************************
commit d52aaf63eba440f2d8c8c13ce38c76e88a7f4e7e
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 09:48:49 2020 +0000

     msxdos target uses same __fpc_envp symbol as msdos
    
    git-svn-id: trunk@46935 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit dfc485c4f44ff22cab66875a50e9a7e4178f8391
Author: florian <florian@freepascal.org>
Date:   Wed Sep 23 20:25:04 2020 +0000

      * better error message in case of illegal nodes for string constants, resolves #34054
    
    git-svn-id: trunk@46931 -

M	compiler/ngtcon.pas

******************************************************************************
commit 37f1d085104ede10a8118595679d8fce7db34c94
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 23 12:07:06 2020 +0000

     Fix problems in xtensa fpc_setjmp/fpc_longjmp for linux
    
    git-svn-id: trunk@46925 -

M	rtl/xtensa/setjump.inc

******************************************************************************
commit 4de5195a9ac9a3dd0e90af7f93c717a3c6b10cd1
Author: florian <florian@freepascal.org>
Date:   Tue Sep 22 19:51:42 2020 +0000

      + modified patch by J. Gareth Moreton: Aarch64: LDR/STR pairing optimisation, resolves #37580
    
    git-svn-id: trunk@46917 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 74e83e9d8ba5be9c594849ce8ef3caab36ea0700
Author: pierre <pierre@freepascal.org>
Date:   Tue Sep 22 15:44:15 2020 +0000

     Disable af_smartlink_sections option for Z80 vasm and z80asm assemblers, as it leads to errors
    
    git-svn-id: trunk@46916 -

M	compiler/z80/agz80asm.pas
M	compiler/z80/agz80vasm.pas

******************************************************************************
commit ff4e1345ffa0adb4d28fb269aee7b1dc138528fd
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Sep 21 20:17:55 2020 +0000

    * fix for Mantis #37779: use init RTTI instead of full RTTI when copying an array
    + added test
    
    git-svn-id: trunk@46915 -

M	.gitattributes
M	compiler/ninl.pas
A	tests/webtbs/tw37779.pp

******************************************************************************
commit 9d6e34ffc8e4776b8bdf83c522b7c10c621be7bd
Author: florian <florian@freepascal.org>
Date:   Mon Sep 21 19:46:47 2020 +0000

      * compilation on i386 fixed
    
    git-svn-id: trunk@46914 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b55c74070211d90ee90c925b1f6576b07e9c95bd
Author: florian <florian@freepascal.org>
Date:   Mon Sep 21 17:57:19 2020 +0000

      * extended AndMovzToAnd to support more variants
    
    git-svn-id: trunk@46912 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 08b61997ca9e025df4355079a3b58a1db189d736
Author: florian <florian@freepascal.org>
Date:   Mon Sep 21 17:57:18 2020 +0000

      * MovzAnd2Movz* optimization improved
      + MovzAnd2And optimization introduced
    
    git-svn-id: trunk@46911 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6902539bd8fae39fe3a2426ff5d6bd824c31dc55
Author: pierre <pierre@freepascal.org>
Date:   Mon Sep 21 13:43:39 2020 +0000

     Disable ucomplex and matrix units for z80-embedded target
    
    git-svn-id: trunk@46909 -

M	packages/rtl-extra/fpmake.pp

******************************************************************************
commit 0bdc1fdea4812db1a728171fe9148a5fe95d2209
Author: florian <florian@freepascal.org>
Date:   Sun Sep 20 18:57:00 2020 +0000

      * do not set nonlocal for inter-procedural labels, this is not needed, they use
        the jmpbuf to reach the target
    
    git-svn-id: trunk@46907 -

M	compiler/nflw.pas
M	compiler/pexpr.pas
M	compiler/pstatmnt.pas

******************************************************************************
commit 0904ea0c3fc4935d25173ed734e7ac16ed283283
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 20 12:43:49 2020 +0000

      * added missing "end." (fixup for r46904)
    
    git-svn-id: trunk@46906 -

M	tests/tbs/tb0676a.pp

******************************************************************************
commit aa75d39ab5e07a783f97247d544f774a67151579
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 20 12:43:45 2020 +0000

      * don't perform "(x=y) or (z=u)" -> "(x xor y) or (z xor u)" optimization
        if z or u may raise exceptions (mantis #37780)
    
    git-svn-id: trunk@46905 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw37780.pp

******************************************************************************
commit 9f42931eeb56a4073864ecb6a1d0d45d11cfb53f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 20 10:29:51 2020 +0000

      * don't print range check warnings when evaluating inlined explicit typecasts
    
    git-svn-id: trunk@46904 -

M	.gitattributes
M	compiler/ncnv.pas
A	tests/tbs/tb0676a.pp

******************************************************************************
commit e83d214e984bd5e8eb4f3d64fe7c78a3dc0f38a8
Author: florian <florian@freepascal.org>
Date:   Sun Sep 20 08:47:00 2020 +0000

      + allow in ISO mode that { ... } and (* ... *) comments are paired, resolves at least partly #37428
    
    git-svn-id: trunk@46903 -

M	compiler/scanner.pas
M	tests/webtbs/tw37428.pp

******************************************************************************
commit 2c372071fd140265dafc10645cabda2080c57e2e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Sep 19 21:20:07 2020 +0000

    * correctly handle static arrays with a lower index <> 0
    + added test
    
    git-svn-id: trunk@46901 -

M	.gitattributes
M	compiler/ncnv.pas
A	tests/test/tarrconstr16.pp

******************************************************************************
commit 449cc8f152991ccd697dd7eb52dec1e03fa5d478
Author: florian <florian@freepascal.org>
Date:   Sat Sep 19 21:06:11 2020 +0000

      * make use of AllocMem in fpc_dynarray_setlength
    
    git-svn-id: trunk@46900 -

M	rtl/inc/dynarr.inc

******************************************************************************
commit 15141124f4462ec01e052f93aac2ae4c679b5c92
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Sep 19 13:54:25 2020 +0000

    * restore ability to cycle with 3.0.4 (at least until 3.2.2 is released) after r46890
    
    git-svn-id: trunk@46895 -

M	rtl/inc/compproc.inc
M	rtl/inc/dynarr.inc

******************************************************************************
commit b596b71130a1b18e08388c0d5853968043e0deb2
Author: florian <florian@freepascal.org>
Date:   Fri Sep 18 19:28:53 2020 +0000

      * patch by Joe care to make fv more 64 Bit save, resolves #37772
    
    git-svn-id: trunk@46893 -

M	packages/fv/src/sysmsg.pas
M	packages/fv/src/views.pas
M	packages/fv/src/w32smsg.inc

******************************************************************************
commit bf1eae7bd67e6fb7d3c29733068083f66f4a8762
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Sep 18 15:00:17 2020 +0000

    * small formatting adjustments for the sake of consistency
    
    git-svn-id: trunk@46892 -

M	compiler/ncnv.pas

******************************************************************************
commit 2ff18e48a0dbc1fa9ba54c0ce9f0bf670ddc7d80
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Sep 18 15:00:15 2020 +0000

    * fix for Mantis #36909: apply patch by Ryan Joseph so that array constructors can be used for static arrays as well.
    + added test
    
    git-svn-id: trunk@46891 -

M	.gitattributes
M	compiler/defcmp.pas
M	compiler/ncnv.pas
A	tests/test/tarrconstr10.pp
A	tests/test/tarrconstr11.pp
A	tests/test/tarrconstr12.pp
A	tests/test/tarrconstr13.pp
A	tests/test/tarrconstr14.pp
A	tests/test/tarrconstr15.pp
A	tests/test/tarrconstr9.pp

******************************************************************************
commit d3e18ccb5eef80f35ccaab8f8551cdbc7acd9f7d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Sep 18 15:00:10 2020 +0000

    * fix for Mantis #37221: apply adjusted patch by Ondrej Pokorny to allow the use of Copy() on open array parameters (the result will be a dynamic array)
    + added test
    
    git-svn-id: trunk@46890 -

M	.gitattributes
M	compiler/ninl.pas
M	rtl/inc/compproc.inc
M	rtl/inc/dynarr.inc
A	tests/test/tarray22.pp

******************************************************************************
commit de180d765636fe651f86a239e98b0ebb5538041f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 17 20:51:25 2020 +0000

    * m68k: fix index register usage in memory references, when the index is 8 or 16 bit wide and unsigned
    
    git-svn-id: trunk@46886 -

M	compiler/m68k/n68kmem.pas

******************************************************************************
commit 60bd9c5ba094da176c97adbe10f61d4ec878ec2e
Author: florian <florian@freepascal.org>
Date:   Thu Sep 17 19:58:55 2020 +0000

      * write a proper error message if types are read/written which are not supported in iso mode, resolves #37763
    
    git-svn-id: trunk@46885 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ninl.pas
A	tests/webtbf/tw37763.pp

******************************************************************************
commit f316121d53dcb540390ca8fcda64a67e53cf0f17
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 16 20:44:44 2020 +0000

      Add handling of extra parameters, using eval if equal sign is found.
      + Add TMP_DIR variable and use it.
      * Only remove temp files if verbose is not set.
    
    git-svn-id: trunk@46883 -

M	rtl/unix/scripts/check_rtl_types.sh

******************************************************************************
commit 2b023c62c5bd7877c890a7701b38fd3275d0af93
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 16 20:40:36 2020 +0000

     Do not set __USE_LARGEFILE64 macro for sparc CPU, as it does not seem to be used for regular linux kernels
    
    git-svn-id: trunk@46882 -

M	rtl/linux/ptypes.inc

******************************************************************************
commit 16bdee8fcb093dee4c57d49bea4b6848892c0b5f
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 16 20:37:04 2020 +0000

     Update revision.inc after commit #46877
    
    git-svn-id: trunk@46881 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 660cfc49e86ae4b141544a526281883538397a49
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 16 12:41:44 2020 +0000

     Add gcc specific options -mabi=32/-mabi=64 for mips CPU
    
    git-svn-id: trunk@46877 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 1a4fdc7313a85c25efdf0279a422dbe26fecd34d
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Sep 15 21:36:01 2020 +0000

      * fix for broken wince compilation after r46863
    
    git-svn-id: trunk@46874 -

M	rtl/win/sysfile.inc

******************************************************************************
commit 288c7e3c9eeea0b079dafe0f73c98c23426eb968
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun Sep 13 22:08:18 2020 +0000

      * Do_IsDevice treats pipes and sockets the same way as character devices
    
    git-svn-id: trunk@46863 -

M	rtl/aix/sysos.inc
M	rtl/beos/sysos.inc
M	rtl/bsd/sysos.inc
M	rtl/emx/sysfile.inc
M	rtl/gba/sysfile.inc
M	rtl/haiku/sysos.inc
M	rtl/linux/sysos.inc
M	rtl/nds/sysfile.inc
M	rtl/os2/sysfile.inc
M	rtl/solaris/sysos.inc
M	rtl/win/sysfile.inc
M	rtl/win16/sysfile.inc

******************************************************************************
commit 2c54477807cf33e8ac18cecb469969a65bdf6797
Author: florian <florian@freepascal.org>
Date:   Sun Sep 13 19:35:09 2020 +0000

      * patch by J. Gareth Moreton: introduce RemoveInstruction and make as much as possible use of RemoveCurrentP, resolves #37399
    
    git-svn-id: trunk@46862 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7f8f733963df9d4afa363f206ee71aa50f619cf7
Author: florian <florian@freepascal.org>
Date:   Sat Sep 12 21:32:11 2020 +0000

      * RiscV32 correctly set operands of div/mod operations, resolves #37743
    
    git-svn-id: trunk@46859 -

M	compiler/riscv32/nrv32mat.pas

******************************************************************************
commit d7fe9914a79453141c419fdfa3e9bac379868fcc
Author: florian <florian@freepascal.org>
Date:   Sat Sep 12 21:23:57 2020 +0000

      + introduce tcgobj.a_loadfpu_reg_intreg
      + make use of it in tcgtypeconvnode.second_nothing
      + Xtensa: implementation of a_tcgcpu.a_loadfpu_intreg_reg and tcgcpu.a_loadfpu_reg_intreg
    
    git-svn-id: trunk@46858 -

M	compiler/cgobj.pas
M	compiler/fpcdefs.inc
M	compiler/hlcg2ll.pas
M	compiler/ncgcnv.pas
M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 2f21f5ae93a99d573bbfca779593100b70db1f5a
Author: yury <jura@cp-lab.com>
Date:   Sat Sep 12 10:13:00 2020 +0000

    * Reverted r46836, since it does not work as expected for yet unknown reason.
    
    git-svn-id: trunk@46856 -

M	compiler/rgobj.pas

******************************************************************************
commit f8b17c410b1e347f39de7d988b5f95336b73a1a4
Author: florian <florian@freepascal.org>
Date:   Fri Sep 11 21:51:48 2020 +0000

      + Xtensa: make use of ABS.S
      + extended test for abs(...) with single tests
    
    git-svn-id: trunk@46852 -

M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/ncpuinl.pas
M	tests/test/units/system/tabs.pp

******************************************************************************
commit d1521e80616f2f52b6c8fa6a1db55f872e3e763c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Sep 11 21:24:59 2020 +0000

    * a classrefdef might also be created with a forwarddef, so handle that correctly
    
    git-svn-id: trunk@46850 -

M	compiler/symdef.pas

******************************************************************************
commit b5abefe03ed357ffdc0e7c69f76827899c9fb87f
Author: yury <jura@cp-lab.com>
Date:   Fri Sep 11 13:32:18 2020 +0000

    * Moved spilling of registers which have the initial memory location and are used only once to a stage after coalescing is done. This produces a better code.
    
    git-svn-id: trunk@46836 -

M	compiler/rgobj.pas

******************************************************************************
commit c06744b62b251146be8ecab4bfb42cc5fcbbc169
Author: yury <jura@cp-lab.com>
Date:   Fri Sep 11 12:36:31 2020 +0000

    * Include stack location of spilled variables in the assembler output.
    
    git-svn-id: trunk@46835 -

M	compiler/rgobj.pas

******************************************************************************
commit 8e74a04dc5fb758057bf1cc3d856d7596123e698
Author: florian <florian@freepascal.org>
Date:   Thu Sep 10 20:53:11 2020 +0000

      * Xtensa: stack size calculation for the call0 abi fixed
    
    git-svn-id: trunk@46833 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupara.pas

******************************************************************************
commit ddf26cb3d2aa757a578531e5f59ba2bef189fdbf
Author: florian <florian@freepascal.org>
Date:   Wed Sep 9 21:08:04 2020 +0000

      * Xtensa: trgcpu.do_spill_op fixed
      * cleanup
    
    git-svn-id: trunk@46820 -

M	compiler/xtensa/cpupi.pas
M	compiler/xtensa/rgcpu.pas

******************************************************************************
commit 27b4f3df60156766fee4f681dac5f3d784de856f
Author: florian <florian@freepascal.org>
Date:   Wed Sep 9 21:08:03 2020 +0000

      * Xtensa: taicpu.spilling_get_operation_type improved
    
    git-svn-id: trunk@46819 -

M	compiler/xtensa/aasmcpu.pas

******************************************************************************
commit 277d98431c0aa3a72664b639fcc02124bf870a14
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Sep 9 15:15:52 2020 +0000

    * linux: use ugetrlimit syscall on m68k for rlimits retrieval. this fixes fpgetrlimit() call, and stack checking on Linux/m68k (tstack.pp test), at least on anything newer than kernel 2.4+ (2001)
    
    git-svn-id: trunk@46811 -

M	rtl/linux/osdefs.inc

******************************************************************************
commit b49aa071ca8e4d2396afee7a85cdf34695a664d8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Sep 9 14:58:45 2020 +0000

    * linux: fix some formatting in ostypes.inc, no functional change
    
    git-svn-id: trunk@46810 -

M	rtl/linux/ostypes.inc

******************************************************************************
commit c8f592d26055bf2ad05afb611fc5bef0522a732e
Author: florian <florian@freepascal.org>
Date:   Tue Sep 8 20:30:59 2020 +0000

      * RiscV32: corrected tcpuparamanager.getcgtempparaloc, resolves #37709
      * cleanup
    
    git-svn-id: trunk@46803 -

M	compiler/riscv32/cpupara.pas

******************************************************************************
commit d34168742e56e3b6e9f38ac2961eec23333f0317
Author: yury <jura@cp-lab.com>
Date:   Tue Sep 8 20:17:50 2020 +0000

    * Fixed r46801 for the case of int64 params with a single paralocation.
    
    git-svn-id: trunk@46802 -

M	compiler/ncgutil.pas

******************************************************************************
commit e159c9296703c2ae67c48efbab431db049467474
Author: yury <jura@cp-lab.com>
Date:   Tue Sep 8 18:50:58 2020 +0000

    * Do not use stack parameter location for spilling if its size is less than the register size for all CPU targets except x86.
    
    git-svn-id: trunk@46801 -

M	compiler/ncgutil.pas

******************************************************************************
commit 93eef547ae2ef3996a290ad16ce73d783f339977
Author: florian <florian@freepascal.org>
Date:   Mon Sep 7 20:28:38 2020 +0000

      * improve call0 calling conventions
    
    git-svn-id: trunk@46797 -

M	compiler/psub.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 60c23daa91f9ed7154c8566e86113aee573e53f7
Author: yury <jura@cp-lab.com>
Date:   Mon Sep 7 12:54:20 2020 +0000

    * Fixed the stack parameters optimization (r46776) for big endian CPUs.
    
    git-svn-id: trunk@46794 -

M	compiler/ncgutil.pas
M	compiler/rgobj.pas

******************************************************************************
commit cdf1f710e58de512d1e3504b5cd61b66cfebc49b
Author: florian <florian@freepascal.org>
Date:   Sun Sep 6 20:23:25 2020 +0000

      + C objects for for xtensa-freertos with call0 abi, build with:
    
          make create_c_objects TEST_CCOMPILER=xtensa-lx106-elf-gcc TEST_ABI=call0 TEST_FPC=fpc TEST_CPU_TARGET=xtensa TEST_OS_TARGET=freertos "TEST_CFLAGS=-O3 -mlongcalls"
    
        using xtensa-lx106-elf-gcc (crosstool-NG crosstool-ng-1.22.0-100-ge567ec7) 5.2.0
    
    git-svn-id: trunk@46790 -

M	.gitattributes
A	tests/test/cg/obj/freertos/xtensa-call0/cpptcl1.o
A	tests/test/cg/obj/freertos/xtensa-call0/cpptcl2.o
A	tests/test/cg/obj/freertos/xtensa-call0/ctest.o
A	tests/test/cg/obj/freertos/xtensa-call0/tcext3.o
A	tests/test/cg/obj/freertos/xtensa-call0/tcext4.o
A	tests/test/cg/obj/freertos/xtensa-call0/tcext5.o
A	tests/test/cg/obj/freertos/xtensa-call0/tcext6.o

******************************************************************************
commit 02df6283998d2b90f4f4ab94c8068f24f3159031
Author: florian <florian@freepascal.org>
Date:   Sun Sep 6 20:23:23 2020 +0000

      * regenerated
    
    git-svn-id: trunk@46789 -

M	tests/Makefile

******************************************************************************
commit 9337b2a3acf2ffdc6a43077a4902e71e7f4f616f
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:32 2020 +0000

      * Xtensa: handle references with offset only properly
    
    git-svn-id: trunk@46784 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 243300c85fb465f5cc250bc3574667ba75dd8b5f
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:31 2020 +0000

      * more ABI compliant parameter passing
    
    git-svn-id: trunk@46783 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit aea85fcd66002e9c80162781f6d9b3458f4c5a75
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:30 2020 +0000

      * Xtensa-freeRTOS: fix linking against libc
    
    git-svn-id: trunk@46782 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 8ef63723407a4467752d2c482d92cae4ec67100f
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:29 2020 +0000

      * Xtensa: tcgcpu.g_concatcopy makes use of loop extensions if available
    
    git-svn-id: trunk@46781 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit 451bb09e8f570a00db9949f7b6e3ed81652a2ec8
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:28 2020 +0000

      * Xtensa: tcgcpu.g_concatcopy uses OC_NE so the branch requires one instruction less
    
    git-svn-id: trunk@46780 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 1edf99c324592b9d220984f35b754ccb8b52eff9
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:28 2020 +0000

      * Xtensa: tcpuunaryminusnode.second_float fixed for double
    
    git-svn-id: trunk@46779 -

M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit 71fcb74e956c0022724c7428c171146994bdf2ef
Author: yury <jura@cp-lab.com>
Date:   Sat Sep 5 18:39:09 2020 +0000

    * Fixed r46776: With -O3 do not "coalesce" spilled nodes if the initial location is set.
    
    git-svn-id: trunk@46777 -

M	compiler/rgobj.pas

******************************************************************************
commit c2dc342c556e5fd9a6db27b7de8f12e193b0fbb0
Author: yury <jura@cp-lab.com>
Date:   Sat Sep 5 18:20:18 2020 +0000

    * Use the initial location of stack parameters as a spilling location if spilling is needed. This leads to the following optimizations:
      - no spill temp is allocated;
      - no load of a stack parameter to a spill temp;
      - if a stack parameter is used only once do not preload it to a register. The parameter can be accessed directly in the stack if the target CPU supports this.
    
    git-svn-id: trunk@46776 -

M	compiler/ncgutil.pas
M	compiler/rgobj.pas

******************************************************************************
commit acef1e22d36eb351e2d9e7bf7b3c8929a894d118
Author: yury <jura@cp-lab.com>
Date:   Sat Sep 5 16:06:41 2020 +0000

    * Improved output of spilling statistics:
      - Do not use count_uses, since weight already represents a usage count of a register.
      - Do not count spills of registers with weight less than 100.
    
    git-svn-id: trunk@46775 -

M	compiler/rgobj.pas

******************************************************************************
commit 23956e9f10e8bad74b4521ae2db58b2d75b9d6d6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 5 12:25:13 2020 +0000

      * prevent quadratic complexity in the size of the inheritance chain when
        comparing objectdefs for equality
    
    git-svn-id: trunk@46774 -

M	compiler/defcmp.pas

******************************************************************************
commit cc315e0ac7d0022197a7b49f4473ab219c3aa6b7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 5 12:25:09 2020 +0000

      * fix tw3930 after r37927
       o "unique" class (and interface) type aliases should actually not exist at
         all except for overload resolution. All the rest (VMT, UUID, RTTI, ...)
         should be taken from the aliased class/interface
       o there is one Delphi-incompatibily left after this change, but it shouldn't
         matter: tw8180 does not compile if you change the declaration to
         "tcl=class(TInterfacedObject,XStr,iinterface)", while Kylix does compile
         that. It doesn't really matter though, because in Kylix this actually
         adds iinterface twice as implemented interface, so there is no point
         in accepting this.
    
    git-svn-id: trunk@46773 -

M	compiler/ncgrtti.pas
M	compiler/ncgvmt.pas
M	compiler/pdecl.pas
M	compiler/symdef.pas
M	compiler/symtable.pas
M	tests/webtbs/tw29367.pp
M	tests/webtbs/tw8180.pp

******************************************************************************
commit 965f759c0df8ec5383a0f0f6fad9b5203d86d99a
Author: florian <florian@freepascal.org>
Date:   Fri Sep 4 20:58:14 2020 +0000

      * Xtensa: arrays are always passed as by reference but still returned in up to 4 registers
    
    git-svn-id: trunk@46770 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit b2177fb50e628d3a1fccde2245428b431940ca4b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Sep 4 15:44:23 2020 +0000

    * fix for Mantis #37650: apply adjusted patch by Ryan Joseph do not range check the length of ShortStrings if their length parameter is based on a generic constant
    + added test
    
    git-svn-id: trunk@46766 -

M	.gitattributes
M	compiler/pexpr.pas
A	tests/webtbs/tw37650.pp

******************************************************************************
commit 9a7e9771677176ee2e84883424ce146a95a4f095
Author: florian <florian@freepascal.org>
Date:   Fri Sep 4 15:37:01 2020 +0000

      * replace tcaldefs.inc by cpudefs.inc
    
    git-svn-id: trunk@46765 -

M	.gitattributes
M	tests/test/cg/cpudefs.inc
D	tests/test/cg/tcaldefs.inc

******************************************************************************
commit 28e2fae09d4580c6df1cf1a3f726c19fbe8cdc91
Author: florian <florian@freepascal.org>
Date:   Fri Sep 4 15:33:29 2020 +0000

      + forgotten file
    
    git-svn-id: trunk@46764 -

M	.gitattributes
A	tests/test/cg/cpudefs.inc

******************************************************************************
commit 03778f9b7f74d53acba2c9368931202b0b543e08
Author: florian <florian@freepascal.org>
Date:   Thu Sep 3 21:02:27 2020 +0000

      * unified settings for CPU "size"
    
    git-svn-id: trunk@46757 -

M	tests/test/cg/tcalcla1.pp
M	tests/test/cg/tcalcst1.pp
M	tests/test/cg/tcalcst2.pp
M	tests/test/cg/tcalcst3.pp
M	tests/test/cg/tcalcst4.pp
M	tests/test/cg/tcalcst5.pp
M	tests/test/cg/tcalcst6.pp
M	tests/test/cg/tcalcst7.pp
M	tests/test/cg/tcalcst8.pp
M	tests/test/cg/tcalfun1.pp
M	tests/test/cg/tcalfun2.pp
M	tests/test/cg/tcalfun3.pp
M	tests/test/cg/tcalfun4.pp
M	tests/test/cg/tcalfun6.pp
M	tests/test/cg/tcalfun7.pp
M	tests/test/cg/tcalfun8.pp
M	tests/test/cg/tcalobj1.pp
M	tests/test/cg/tcalobj2.pp
M	tests/test/cg/tcalobj3.pp
M	tests/test/cg/tcalobj4.pp
M	tests/test/cg/tcalobj6.pp
M	tests/test/cg/tcalobj7.pp
M	tests/test/cg/tcalval1.pp
M	tests/test/cg/tcalval2.pp
M	tests/test/cg/tcalval3.pp
M	tests/test/cg/tcalval4.pp
M	tests/test/cg/tcalval5.pp
M	tests/test/cg/tcalval7.pp
M	tests/test/cg/tcalval8.pp
M	tests/test/cg/tcalvar1.pp
M	tests/test/cg/tcalvar2.pp
M	tests/test/cg/tcalvar3.pp
M	tests/test/cg/tcalvar4.pp
M	tests/test/cg/tcalvar5.pp
M	tests/test/cg/tcalvar6.pp
M	tests/test/cg/tcalvar7.pp
M	tests/test/cg/tcalvar8.pp
M	tests/test/cg/tsubst.pp
M	tests/test/cg/tvec.pp

******************************************************************************
commit 1e38369d06eea6c5e8c7fbda743b6af27d147a62
Author: florian <florian@freepascal.org>
Date:   Wed Sep 2 20:47:53 2020 +0000

      * Xtensa: set expectloc of not nodes correctly
    
    git-svn-id: trunk@46752 -

M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit 1cbdc9cc9aadd23470954741b89771f417014e35
Author: florian <florian@freepascal.org>
Date:   Tue Sep 1 20:32:45 2020 +0000

      * enable initialization of exceptions and threading on FreeRTOS
    
    git-svn-id: trunk@46743 -

M	rtl/freertos/system.pp

******************************************************************************
commit 2dcb31efcea8273af940376a91f35bf8639bc722
Author: florian <florian@freepascal.org>
Date:   Tue Sep 1 20:32:44 2020 +0000

      + dummy implementation for FreeRTOS threading support
    
    git-svn-id: trunk@46742 -

M	rtl/freertos/systhrd.inc

******************************************************************************
commit d5ce344b67a811e9360b47ee0f02cbeeebd44953
Author: florian <florian@freepascal.org>
Date:   Mon Aug 31 21:01:26 2020 +0000

      * stack size estimation again improved
    
    git-svn-id: trunk@46739 -

M	compiler/xtensa/cpupi.pas

******************************************************************************
commit d0c9b4f982beb1bd90eb8f693d4d0ff6b80b92dd
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Aug 31 06:41:38 2020 +0000

    sql parser: identifier can start with the "_" character - test case
    
    git-svn-id: trunk@46738 -

M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 39c8d5c635d21c04fed3cacfe7cfb29a68e2818f
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Aug 31 06:39:02 2020 +0000

    sql parser: identifier can start with the "_" character
    
    git-svn-id: trunk@46737 -

M	packages/fcl-db/src/sql/fpsqlscanner.pp

******************************************************************************
commit 4407670d15bd4110dc758305a4d74923a3710f89
Author: florian <florian@freepascal.org>
Date:   Sun Aug 30 21:32:45 2020 +0000

      * Xtensa: fix operand size and location handling in TCPUAddNode.second_cmp
    
    git-svn-id: trunk@46735 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 6879a16cc33d649b0084668fb59e9775f2f9d966
Author: florian <florian@freepascal.org>
Date:   Sun Aug 30 20:54:00 2020 +0000

      * Xtensa: rewrote parameter handling
      * Xtensa: aggregate types up to 16 bytes are returned in registers
    
    git-svn-id: trunk@46734 -

M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit b36597c76ae267ba6b245209b1bd3e14e6eaff5e
Author: florian <florian@freepascal.org>
Date:   Sun Aug 30 20:53:59 2020 +0000

      * better calculation of estimated stack frame size
    
    git-svn-id: trunk@46733 -

M	compiler/ncal.pas
M	compiler/nld.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 867ed59459168b90f10f42cb7d9b2450347fe61c
Author: florian <florian@freepascal.org>
Date:   Sat Aug 29 20:24:32 2020 +0000

      * Xtensa: various stack handling fixes
    
    git-svn-id: trunk@46732 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 2c00016fdde15638a0737f51c75582409eea4e12
Author: florian <florian@freepascal.org>
Date:   Sat Aug 29 20:24:31 2020 +0000

      + Xtensa: reused constant pool entries if possible
    
    git-svn-id: trunk@46731 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 55e6ffb428b5990d330179053f2547e5812e5a5a
Author: florian <florian@freepascal.org>
Date:   Sat Aug 29 20:24:30 2020 +0000

      + common include file for tcal*.pp tests to define cpusmall
    
    git-svn-id: trunk@46730 -

M	.gitattributes
M	tests/test/cg/tcalcla1.pp
M	tests/test/cg/tcalcst1.pp
M	tests/test/cg/tcalcst2.pp
M	tests/test/cg/tcalcst3.pp
M	tests/test/cg/tcalcst4.pp
M	tests/test/cg/tcalcst5.pp
M	tests/test/cg/tcalcst6.pp
M	tests/test/cg/tcalcst7.pp
M	tests/test/cg/tcalcst8.pp
A	tests/test/cg/tcaldefs.inc
M	tests/test/cg/tcalfun1.pp
M	tests/test/cg/tcalfun2.pp
M	tests/test/cg/tcalfun3.pp
M	tests/test/cg/tcalfun4.pp
M	tests/test/cg/tcalfun6.pp
M	tests/test/cg/tcalfun7.pp
M	tests/test/cg/tcalfun8.pp
M	tests/test/cg/tcalobj1.pp
M	tests/test/cg/tcalobj2.pp
M	tests/test/cg/tcalobj3.pp
M	tests/test/cg/tcalobj4.pp
M	tests/test/cg/tcalobj6.pp
M	tests/test/cg/tcalobj7.pp
M	tests/test/cg/tcalval1.pp
M	tests/test/cg/tcalval2.pp
M	tests/test/cg/tcalval3.pp
M	tests/test/cg/tcalval4.pp
M	tests/test/cg/tcalval5.pp
M	tests/test/cg/tcalval7.pp
M	tests/test/cg/tcalval8.pp
M	tests/test/cg/tcalvar1.pp
M	tests/test/cg/tcalvar2.pp
M	tests/test/cg/tcalvar3.pp
M	tests/test/cg/tcalvar4.pp
M	tests/test/cg/tcalvar5.pp
M	tests/test/cg/tcalvar6.pp
M	tests/test/cg/tcalvar7.pp
M	tests/test/cg/tcalvar8.pp

******************************************************************************
commit 3eb7a130885beda849b90b73e4cb54cc3c92c711
Author: florian <florian@freepascal.org>
Date:   Fri Aug 28 20:18:36 2020 +0000

      + Xtensa: implemented tcpuparamanager.ret_in_param according to API
      * fixed passing of variant parameters
    
    git-svn-id: trunk@46728 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit fd0515344cd7b29f9b3cded698d44cbea3e30ebc
Author: florian <florian@freepascal.org>
Date:   Fri Aug 28 20:18:35 2020 +0000

      * Xtensa: record alignment is upto 8 bytes done
    
    git-svn-id: trunk@46727 -

M	compiler/systems/i_freertos.pas

******************************************************************************
commit 292574f3fc2bd068c68d7fba9425954ca3fa6eb0
Author: florian <florian@freepascal.org>
Date:   Fri Aug 28 20:18:35 2020 +0000

      * Xtensa: fix single<>single
    
    git-svn-id: trunk@46726 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit f4e27dcfb655923b02424008658622cbc36f48ba
Author: florian <florian@freepascal.org>
Date:   Fri Aug 28 20:18:34 2020 +0000

      + created xtensa-freertos object files using gcc xtensa-esp32-elf-gcc (crosstool-NG esp-2019r2) 8.2.0 with:
        make TEST_CCOMPILER=xtensa-esp32-elf-gcc create_c_objects TEST_FPC=fpc TEST_ABI=windowed TEST_OS_TARGET=freertos TEST_CPU_TARGET=xtensa TEST_SUBARCH=lx6 TEST_CFLAGS=-mlongcalls
    
    git-svn-id: trunk@46725 -

M	.gitattributes
A	tests/test/cg/obj/freertos/xtensa-windowed/cpptcl1.o
A	tests/test/cg/obj/freertos/xtensa-windowed/cpptcl2.o
A	tests/test/cg/obj/freertos/xtensa-windowed/ctest.o
A	tests/test/cg/obj/freertos/xtensa-windowed/tcext3.o
A	tests/test/cg/obj/freertos/xtensa-windowed/tcext4.o
A	tests/test/cg/obj/freertos/xtensa-windowed/tcext5.o
A	tests/test/cg/obj/freertos/xtensa-windowed/tcext6.o

******************************************************************************
commit 47d6699a2ee7a439b7bf02c4b53ed1f3638b2d99
Author: florian <florian@freepascal.org>
Date:   Thu Aug 27 21:31:31 2020 +0000

      * Xtensa: some issues with large parameters fixed
    
    git-svn-id: trunk@46720 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit de7cb543e625d9b911dafb6bb2cb003ba2d55449
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 27 20:35:25 2020 +0000

     Move dbugsrv.pp example program from fcl-base/fpmake.pp to fcl-process/fpmake.pp where the source really is
    
    git-svn-id: trunk@46719 -

M	packages/fcl-base/fpmake.pp
M	packages/fcl-process/fpmake.pp

******************************************************************************
commit 250c0750a2ab541cb22a57490ef1c2dab64238f8
Author: florian <florian@freepascal.org>
Date:   Wed Aug 26 21:03:42 2020 +0000

      * Xtensa: several issues with parameter passing of the windowed api fixed
    
    git-svn-id: trunk@46708 -

M	compiler/psub.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas
M	compiler/xtensa/symcpu.pas

******************************************************************************
commit 1041bc5a17a99b5584d67b523442429d5febe323
Author: florian <florian@freepascal.org>
Date:   Wed Aug 26 21:01:38 2020 +0000

      * made test more verbose
    
    git-svn-id: trunk@46707 -

M	tests/test/cg/taddreal1.pp

******************************************************************************
commit f4ded560cca46d7230e612511bf63349ba4ab3a1
Author: florian <florian@freepascal.org>
Date:   Wed Aug 26 21:01:00 2020 +0000

      * Xtensa: OP_NOT fixed
    
    git-svn-id: trunk@46706 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit f30f62231f1231664b155cbff22f37ad60ad78b5
Author: florian <florian@freepascal.org>
Date:   Tue Aug 25 21:39:40 2020 +0000

      * reverted 46417: if a assembler subroutine needs an entry instruction, it should be added explicitly
    
    git-svn-id: trunk@46696 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 6e25a014e636af31e6985d017fa63455312b9a98
Author: florian <florian@freepascal.org>
Date:   Tue Aug 25 21:39:39 2020 +0000

      * Xtensa: force correct location into a register in tcpunotnode.second_boolean
    
    git-svn-id: trunk@46695 -

M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit 3c6c403b7b8b289f64fbb909539e6b4c71e75319
Author: florian <florian@freepascal.org>
Date:   Tue Aug 25 21:39:38 2020 +0000

      * Xtensa-FreeRTOS: use setjmp/longjmp provided by the Xtensa libraries, we
        have to link against them anyways
    
    git-svn-id: trunk@46694 -

M	rtl/xtensa/setjump.inc
M	rtl/xtensa/setjumph.inc

******************************************************************************
commit 5aa3da26f5ed043a0eb93cf4b7bcb9e09b4196d7
Author: florian <florian@freepascal.org>
Date:   Tue Aug 25 21:39:38 2020 +0000

      * fix test for targets with little memory
    
    git-svn-id: trunk@46693 -

M	tests/test/opt/tcse2.pp

******************************************************************************
commit 836a932b9ab9a993bf4c88db06d08e037bec2453
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 25 15:15:51 2020 +0000

     Move z80 specific -Sf options from rtl.cfg to system.cfg, as -Sf options are only accepted when compiliing system unit
    
    git-svn-id: trunk@46691 -

M	rtl/embedded/rtl.cfg
M	rtl/embedded/system.cfg

******************************************************************************
commit d4c9e1f26047eaf2b6a6f339db190d82a93f9975
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 25 13:29:16 2020 +0000

     Replace outdated cgop2string function by tcgsize2str function from cgbase unit to fix EXTDEBUG cycle on powerpc64le-linux
    
    git-svn-id: trunk@46689 -

M	compiler/powerpc64/cgcpu.pas
M	compiler/powerpc64/hlcgcpu.pas
M	compiler/ppcgen/cgppc.pas
M	compiler/riscv/cgrv.pas
M	compiler/riscv64/hlcgcpu.pas

******************************************************************************
commit 46c354ae583e0e983ffa0bca2d46402108c6cc9e
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 25 13:27:53 2020 +0000

     Fix EXTDEBUG code: tai_comment requires use of strpnew function with constant string
    
    git-svn-id: trunk@46688 -

M	compiler/powerpc64/nppcadd.pas

******************************************************************************
commit 03b147eef8abda8567224e3c91f4c17afef584ec
Author: florian <florian@freepascal.org>
Date:   Tue Aug 25 12:45:06 2020 +0000

      * compilation fixed
    
    git-svn-id: trunk@46685 -

M	rtl/freertos/xtensa/esp32.pp

******************************************************************************
commit c73c98d995bb251f0d9b504eb638e6f2d7b5deb2
Author: florian <florian@freepascal.org>
Date:   Mon Aug 24 21:02:09 2020 +0000

      * Xtensa FreeRTOS: unified haltproc
    
    git-svn-id: trunk@46679 -

M	rtl/freertos/xtensa/esp32.pp
M	rtl/freertos/xtensa/esp8266.pp

******************************************************************************
commit 03a0e6e82f4c6616fe6215e8a241b9aba7b00c23
Author: florian <florian@freepascal.org>
Date:   Mon Aug 24 21:02:08 2020 +0000

      * Xtensa: fixed TCPUAddNode.second_cmpsmallset
    
    git-svn-id: trunk@46678 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 3208929e176a2e6664f803ccb6db0fa03b22c246
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 23 21:11:13 2020 +0000

      * add Xcode-11.0 as LLVM target version versin
    
    git-svn-id: trunk@46676 -

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 453bfcd37094c40c7baafdfe477eaa137a3eaa43
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 23 21:11:09 2020 +0000

      * emit the correct declaration for procdefs used to force a procname in LLVM
       o fixes lazarus startup on macOS/AArch64 when compiled with the LLVM cg
    
    git-svn-id: trunk@46675 -

M	compiler/jvm/njvmcal.pas
M	compiler/llvm/nllvmcal.pas
M	compiler/ncal.pas
M	compiler/ncgcal.pas

******************************************************************************
commit 27fbf8c91e97f06d972c43315f2fa9c2fb6d2b88
Author: florian <florian@freepascal.org>
Date:   Sun Aug 23 19:13:19 2020 +0000

      * Xtensa: tcpunotnode.second_boolean fixed
    
    git-svn-id: trunk@46672 -

M	compiler/ncgutil.pas
M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit ea2ae3b8f0a677dbda1288f158eab2e57379b0f4
Author: florian <florian@freepascal.org>
Date:   Sun Aug 23 14:17:01 2020 +0000

      + Xtensa: use extui for and with constants
    
    git-svn-id: trunk@46664 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit ac18c0090a4b12f532378b3860a85d57c3444fbd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 23 11:31:16 2020 +0000

      * non-zero exit code on failure
    
    git-svn-id: trunk@46661 -

M	tests/webtbs/tw37465.pp

******************************************************************************
commit d1d3d7cd089fdf840bae5269fa4655f6c8054884
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 23 11:27:59 2020 +0000

      * never create a regular temp for inline parameters that can be modified by
        the caller (mantis #37465)a
       o in theory, the regular checks for doing so should never trigger, but due
         to compiler-generated nodes (such as calls to fpc_ansistr_unique), they
         could. Internal address nodes can deal with taking the address of the
         function result in this case.
    
    git-svn-id: trunk@46660 -

M	.gitattributes
M	compiler/ncal.pas
A	tests/webtbs/tw37465.pp

******************************************************************************
commit e5a923eb7abe7a6dc063a1c297381d573418be66
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 23 10:26:54 2020 +0000

    * 8086: Proper implementation of: If a far procvar is called, it must be in a memory location. This fixes a hack to emulate CALL reg1:reg2.
    
    git-svn-id: trunk@46641 -

M	compiler/i8086/cgcpu.pas
M	compiler/i8086/hlcgcpu.pas
M	compiler/i8086/n8086cal.pas
M	compiler/ncal.pas

******************************************************************************
commit 04baeb2bcf31735ca563e3806e7c6d4c3fecf4c3
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 23 00:17:40 2020 +0000

    * 8086: Reverted r46557. It must be implemented differently.
    
    git-svn-id: trunk@46561 -

M	compiler/i8086/cgcpu.pas
M	compiler/i8086/hlcgcpu.pas
M	compiler/i8086/n8086cal.pas

******************************************************************************
commit 00db7646c8b9dee96948af82c76d2aba55a13089
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 23:42:12 2020 +0000

    * 8086: Fixed register allocation failure after r46559.
    
    git-svn-id: trunk@46560 -

M	compiler/i8086/n8086cal.pas

******************************************************************************
commit 5ec101d578ec46059cf5a619e3b30ad85d0be7eb
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 23:06:55 2020 +0000

    * 8086: Do not destroy contents of the BX parameter when calling a procvar by ref with a base.
    
    git-svn-id: trunk@46559 -

M	compiler/i8086/n8086cal.pas
M	compiler/x86/nx86cal.pas

******************************************************************************
commit eee67af68444314bc1668862a77548d1c8882628
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 22:17:03 2020 +0000

    * 8086: Fixed using far procvars in a near code memory model and vice versa.
    
    git-svn-id: trunk@46558 -

M	compiler/i8086/hlcgcpu.pas

******************************************************************************
commit 6a3971c9b631c0e8a0f214d27125278dbd6aa6bd
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 22:12:40 2020 +0000

    * 8086: If a far procvar is called, it must be in a memory location. This fixes a hack to emulate CALL reg1:reg2.
    
    git-svn-id: trunk@46557 -

M	compiler/i8086/cgcpu.pas
M	compiler/i8086/hlcgcpu.pas
M	compiler/i8086/n8086cal.pas

******************************************************************************
commit a45f71d0dcf5b8c9605c20f63fa2bbe62ad6c0ce
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 21:28:08 2020 +0000

      * Xtensa: optimize some shifts by constants
    
    git-svn-id: trunk@46556 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit 4dcdaa259a4396078bc00bbe98b7fe2853a4b415
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 20:50:02 2020 +0000

    * 8086: Use CX as a scratch register instead of BX.
    
    git-svn-id: trunk@46554 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 8cc58423174fd272b2890011b5315b2d30f294db
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 20:47:54 2020 +0000

    * Use TExternalAssembler.WriteComments() also by nasm and intel assembler writers.
    
    git-svn-id: trunk@46553 -

M	compiler/x86/agx86int.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit 832c3d89c83841bbf21cea783064b14c6a5ad6d4
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 20:36:26 2020 +0000

      * Xtensa: disable simple random again, committed by accident
    
    git-svn-id: trunk@46552 -

M	rtl/inc/systemh.inc

******************************************************************************
commit 04846345b2c8b7d805869582e9f3b6f96fa124ca
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 20:33:30 2020 +0000

      * Xtensa: more fixes to tcg64fxtensa.a_op64_const_reg_reg and tcg64fxtensa.a_op64_reg_reg_reg
    
    git-svn-id: trunk@46551 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/ncpuadd.pas
M	rtl/inc/systemh.inc

******************************************************************************
commit 6e777d89671eb2d303c33a31645b9529e6848d38
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 19:53:39 2020 +0000

    * ait_comment,ait_regalloc,ait_tempalloc,ait_varloc instructions produce only comments in the external assembler output. Moved handling of these instructions to TExternalAssembler.WriteComments().
      This eliminates code duplication and improves maintainability.
    
    git-svn-id: trunk@46550 -

M	compiler/aggas.pas
M	compiler/assemble.pas
M	compiler/jvm/agjasmin.pas
M	compiler/llvm/agllvm.pas
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 26e2759c272b992021388c1cf0685194f6d45aa3
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 19:38:10 2020 +0000

      * Xtensa: fixed tcg64fxtensa.a_op64_reg_reg_reg for unsigned operations
    
    git-svn-id: trunk@46549 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit eaa7d95a9d1994bff8d476b57ae61e93cb663760
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 19:38:09 2020 +0000

      + Xtensa: implemented TCPUAddNode.second_cmp64bit properly
    
    git-svn-id: trunk@46548 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 15fe9f104786ec06addb735eaa3e4aba863ebcf2
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 19:38:08 2020 +0000

      * cosmetics
    
    git-svn-id: trunk@46547 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit e81920af7bb3c8ec19ab284707c357187a8250ec
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 19:38:07 2020 +0000

      * made test more usefull
    
    git-svn-id: trunk@46546 -

M	tests/test/tint641.pp

******************************************************************************
commit 6f222e276ed1cba81b3a1cfd328b859eb00d2556
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 18:00:25 2020 +0000

      * Xtensa: make use of divide extension if available
    
    git-svn-id: trunk@46545 -

M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit 31cb670b2013c0128101c3b4556891b48b897386
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 17:21:36 2020 +0000

      + Xtensa: make use of muluh/mulsh instructions
    
    git-svn-id: trunk@46544 -

M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 11b601d44cfbcb80f32c6d83c90e678dbabcf711
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 22 15:56:13 2020 +0000

    * TThread.Terminate does not have any platform specific behavior (it should only set FTerminated to true and call TerminatedSet), thus move it to the platform independant part
    Notes:
    - Netware had a ThreadSwitch in there, but that is not really required
    - some platform were missing the setting of FTerminated to True, thus they'll now do that as well
    
    git-svn-id: trunk@46543 -

M	rtl/amicommon/tthread.inc
M	rtl/atari/tthread.inc
M	rtl/beos/tthread.inc
M	rtl/embedded/tthread.inc
M	rtl/freertos/tthread.inc
M	rtl/gba/tthread.inc
M	rtl/go32v2/tthread.inc
M	rtl/macos/tthread.inc
M	rtl/msdos/tthread.inc
M	rtl/nativent/tthread.inc
M	rtl/nds/tthread.inc
M	rtl/netware/tthread.inc
M	rtl/netwlibc/tthread.inc
M	rtl/objpas/classes/classes.inc
M	rtl/os2/tthread.inc
M	rtl/symbian/tthread.inc
M	rtl/unix/tthread.inc
M	rtl/wii/tthread.inc
M	rtl/win/tthread.inc
M	rtl/win16/tthread.inc

******************************************************************************
commit c2c7ac634a3e201575638f6e4452ccc0b1afb28a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 22 13:33:53 2020 +0000

    * fix for Mantis #37616: apply patch by Kai Burghardt to complain about the correct type used by setjmp/longjmp
    
    git-svn-id: trunk@46542 -

M	compiler/psub.pas

******************************************************************************
commit 5ec489c018f207fa13ef58ef1f86a07bfd93fae7
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 10:58:21 2020 +0000

    * ait_varloc instructions are handled and removed by Trgobj.translate_registers() and never left for an assembler.
    
    git-svn-id: trunk@46541 -

M	compiler/aggas.pas
M	compiler/llvm/agllvm.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit 92d5e613b5bc2a33c97153c0a736848b10eb6a37
Author: florian <florian@freepascal.org>
Date:   Fri Aug 21 21:35:50 2020 +0000

      * Xtensa: needs no mul helper, all variants have the MULL instruction
    
    git-svn-id: trunk@46539 -

M	compiler/fpcdefs.inc

******************************************************************************
commit 8a36e63a56821d703a543085ddd8b5de42cdca68
Author: florian <florian@freepascal.org>
Date:   Fri Aug 21 21:15:36 2020 +0000

      + initial implementation of setjmp/longjmp
    
    git-svn-id: trunk@46537 -

M	rtl/xtensa/setjump.inc
M	rtl/xtensa/setjumph.inc

******************************************************************************
commit 1f073818bad405b90da52ca942da5f70db6a1ec4
Author: florian <florian@freepascal.org>
Date:   Fri Aug 21 21:02:01 2020 +0000

      * cleanup ARM remainders
      * locals can have 0 as offset, force a reference in this case
    
    git-svn-id: trunk@46536 -

M	compiler/xtensa/racpugas.pas

******************************************************************************
commit 5801a7431c7f923681ab48ad4f29332ba2fd4d9e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 21 12:37:42 2020 +0000

    * reset idfpath when globals are initialized (needed for the textmode IDE)
    
    git-svn-id: trunk@46535 -

M	compiler/globals.pas

******************************************************************************
commit 213d2905dfc44bdbb83e475efc04aa5de59c5f59
Author: michael <michael@freepascal.org>
Date:   Fri Aug 21 10:44:48 2020 +0000

    * Change some methods from using var to using out (bug ID 37376)
    
    git-svn-id: trunk@46533 -

M	rtl/inc/dynlib.inc
M	rtl/inc/dynlibh.inc
M	rtl/inc/thread.inc
M	rtl/inc/threadh.inc
M	rtl/inc/ustringh.inc
M	rtl/inc/ustrings.inc
M	rtl/inc/variant.inc
M	rtl/inc/varianth.inc

******************************************************************************
commit 85d19af48c004817142f0542782741e0d4a46c3a
Author: pierre <pierre@freepascal.org>
Date:   Fri Aug 21 09:13:59 2020 +0000

       * Remove debug ECHO lines
       * Fix detection of -dFPC_SOFT_FPUX80, as OPT is reset after
         being copied over to LOCALOPT.
       + Add FULL_TARGETS that list all targets concerned by fullcyle and associated targets.
    
    git-svn-id: trunk@46532 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 0881e4fd9827791a508b5ad985e6f8def25f496a
Author: florian <florian@freepascal.org>
Date:   Thu Aug 20 21:29:49 2020 +0000

      * insert literals after the section start which belongs to the current procedure
    
    git-svn-id: trunk@46528 -

M	compiler/xtensa/hlcgcpu.pas

******************************************************************************
commit 7157bac9fddade13cb9325499b12202009d0f7d5
Author: florian <florian@freepascal.org>
Date:   Thu Aug 20 21:29:48 2020 +0000

      * patch by Christo Crause, resolves #37335
        * ESP8266 support for t_freertos.pas
        + -Ff switch to be able to pass the IDF_PATH without using an evironment variable
    
    git-svn-id: trunk@46527 -

M	compiler/globals.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems/t_freertos.pas

******************************************************************************
commit 1ad31dd32d342622dc7b63a28facc251a58ce5e3
Author: florian <florian@freepascal.org>
Date:   Thu Aug 20 21:29:47 2020 +0000

      * reduce number of default libs
    
    git-svn-id: trunk@46526 -

M	rtl/freertos/xtensa/esp8266.pp

******************************************************************************
commit de3a479be3a56a2bcb4f43c778d735b4b95e4d99
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 20:08:10 2020 +0000

    * Added assembler comments about unused parameters.
    
    git-svn-id: trunk@46522 -

M	compiler/ncgcal.pas

******************************************************************************
commit 0a34a090e0f6676bae0ed2afb9570969b37a461b
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 19:59:36 2020 +0000

    x86: It is more optimal to push some register (NR_FRAME_POINTER_REG) instead of a constant value in a_load_undefined_cgpara().
    
    git-svn-id: trunk@46521 -

M	compiler/x86/hlcgx86.pas

******************************************************************************
commit e28fca97299911fbf77142d001c0b905f4337711
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 18:30:09 2020 +0000

    * If parentfp is passed in the stack it can be skipped only if po_delphi_nested_cc is set for the routine.
    
    git-svn-id: trunk@46520 -

M	compiler/ncgcal.pas

******************************************************************************
commit c69090446ae513ade58e3c803a3f1d6092b8e6aa
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 17:39:45 2020 +0000

    * msdos: Fixed AV in the internal linker in some cases when code or data exceeds 64k.
    
    git-svn-id: trunk@46519 -

M	compiler/ogomf.pas

******************************************************************************
commit 75e5afd45b8ad8fae83c2931a7d04e66de893f7f
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 16:59:10 2020 +0000

    * When optimization is off always load unused parentfp to a local location to be debugger friendly.
    
    git-svn-id: trunk@46514 -

M	compiler/ncgutil.pas

******************************************************************************
commit 1002a7c5901cdb185711fc197b4b0c6cee1de91d
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 16:35:27 2020 +0000

    * 8086: Fixed very long section names when $HUGECODE is ON and section based smartlinking is used.
    * Added a utility function TrimStrCRC32().
    
    git-svn-id: trunk@46511 -

M	compiler/fpccrc.pas
M	compiler/ogomf.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit b1ee6f7fdc9bcaa9e249d6e7403e3ee2b5bdc113
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 20 16:01:34 2020 +0000

      Fix error in previous commit
      Try to avoid unneeded steps for fullinstallsymlink
    
    git-svn-id: trunk@46510 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit ac36a214bff45a88a2018584105934233a524b60
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 20 13:17:59 2020 +0000

     Do not set EXCLUDE_80BIT_TARGETS to 1 if OPT variable contains -dFPC_SOFT_FPUX80
    
    git-svn-id: trunk@46507 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 82346563c118fa536cdc0b5472be1f2be0e74c6f
Author: michael <michael@freepascal.org>
Date:   Thu Aug 20 12:06:14 2020 +0000

    * Add StoredAttribute class, bug ID #37602
    
    git-svn-id: trunk@46506 -

M	rtl/inc/objpas.inc
M	rtl/inc/objpash.inc

******************************************************************************
commit 8bc2326b772fb85d3fbd297582a04d9008c34d60
Author: michael <michael@freepascal.org>
Date:   Thu Aug 20 11:53:43 2020 +0000

    * Fix bug #37601: add some attribte definitions
    
    git-svn-id: trunk@46505 -

M	rtl/inc/objpash.inc

******************************************************************************
commit 5d0e1dbe5a148350b5aa041c511a5115a04a5ae0
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 11:20:10 2020 +0000

    * msdos: Fixed section based smartlinking after my recent changes.
    
    git-svn-id: trunk@46504 -

M	compiler/systems/t_msdos.pas

******************************************************************************
commit 9a01bcf3dc185dac2d310d178b62d5e48e608529
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 10:31:56 2020 +0000

    * Changed Integer to Longint in definitions of RTTI structures. It fixes typinfo for 16-bit CPUs.
    
    git-svn-id: trunk@46503 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 120825d1d6976806b5e7ab02e77ef1455598b03c
Author: florian <florian@freepascal.org>
Date:   Wed Aug 19 21:09:44 2020 +0000

      * do not throw an internal error on illegal assembler expressions, resolves #37439
    
    git-svn-id: trunk@46499 -

M	.gitattributes
M	compiler/x86/rax86att.pas
A	tests/webtbf/tw37459.pp

******************************************************************************
commit e200fde888ff418fd79566e42a0b84c9cd2740d9
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 19 11:02:29 2020 +0000

    * Fixed tests for 16-bit CPUs.
    
    git-svn-id: trunk@46494 -

M	tests/test/dumpclass.pp
M	tests/test/dumpmethods.pp

******************************************************************************
commit 1b9927961788a4f4106512a1f5e96f6d35763dce
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 19 10:49:40 2020 +0000

    * msdos: Enabled $HUGECODE for sysutils and classes to overcome 64K per unit code limit.
    
    git-svn-id: trunk@46493 -

M	rtl/msdos/classes.pp
M	rtl/msdos/sysutils.pp

******************************************************************************
commit 9d41a435c2c9524623f4c6002cfcd33f3c0822d4
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 19 10:48:00 2020 +0000

    * tinyheap: Disable inline when FPC_TINYHEAP_HUGE is defined to prevent code bloat.
    
    git-svn-id: trunk@46492 -

M	rtl/inc/tinyheap.inc

******************************************************************************
commit 97eb32e6fd2216cb5e284329b4eb9758720b8a16
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 19 10:27:19 2020 +0000

    * 8086: Also fixed loading a register to a 32-bit ref in case the source register is used as the ref base or index.
    
    git-svn-id: trunk@46491 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit 4873ec73a796b55e7002e8b5971189dd9ce570da
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 19 10:20:47 2020 +0000

    * 8086: Fixed loading a 32-bit ref to a register in case the target register is used as the ref base or index.
    
    git-svn-id: trunk@46490 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit 809db09169a8d95117fb9a3db4e63d62823a99aa
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Aug 19 08:45:00 2020 +0000

    sql parser: support CASE with selector (CASE A WHEN 1 THEN B ELSE C END)
    
    git-svn-id: trunk@46489 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit b267f6fcb3f3e7d7f2e99b10dce495d510863b27
Author: florian <florian@freepascal.org>
Date:   Tue Aug 18 21:10:25 2020 +0000

      * internal error unified
    
    git-svn-id: trunk@46486 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 004ac4d1f4e0d67c811fdc51d3070c0203b0c774
Author: florian <florian@freepascal.org>
Date:   Tue Aug 18 21:10:06 2020 +0000

      * Xtensa: set abi correctly
    
    git-svn-id: trunk@46485 -

M	compiler/options.pas

******************************************************************************
commit 580e9e516970c6788ec04994e130f3192d5f8faf
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 20:02:19 2020 +0000

    * wlib: calculate the record size according to the number of files in the library.
    
    git-svn-id: trunk@46483 -

M	compiler/link.pas

******************************************************************************
commit 9e11f8122f49356bf6f3429c67052d95ddc0fef0
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 12:27:46 2020 +0000

    * Corrected r46481. Use both tcalo_new_section and tcalo_make_dead_strippable flags since only the default implementation implies a new section creation when tcalo_make_dead_strippable is specified.
    
    git-svn-id: trunk@46482 -

M	compiler/aasmcnst.pas

******************************************************************************
commit 17e75004c5fac061abeecb38bd55f136292faba3
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 12:02:20 2020 +0000

    * Allow library based smartlinking of indirect symbol entries.
    
    git-svn-id: trunk@46481 -

M	compiler/aasmcnst.pas

******************************************************************************
commit c75953c12bf0ce476422c8b9ab4964de607bf97b
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 11:36:39 2020 +0000

    * msdos: Implemented library based smartlinking of the dead stripable vectorized lists. It is enabled for the internal linker and wlink. These linkers sort sections by name by default.
    
    git-svn-id: trunk@46480 -

M	compiler/systems/t_msdos.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit 764227193a358e8e5ab83e5a141631a8abfde89a
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 11:31:39 2020 +0000

    * Added on option to implement library based smartlinking of the dead stripable vectorized lists (e.g. resource strings index). By default smartlinking of such lists only supported when the section based smartlinking (tf_smartlink_sections) is enabled for a target.
    
    git-svn-id: trunk@46479 -

M	compiler/aasmcnst.pas
M	compiler/cresstr.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit e4b717c81766d4ee4b614e4627887045a781d771
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 09:52:40 2020 +0000

    * 8086: More fixes for Ofs() handling.
    
    git-svn-id: trunk@46478 -

M	compiler/i8086/n8086cnv.pas
M	compiler/i8086/symcpu.pas

******************************************************************************
commit 2186846ab1d273fdab3ad47a053db8bf3cfb717e
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 09:19:20 2020 +0000

    * 8086: Fixed an internal error for cases like FarPtr2 := FarPointer($12345678) + int16;
    
    git-svn-id: trunk@46477 -

M	compiler/i8086/n8086add.pas

******************************************************************************
commit 075057f929f9a197b4c3abca520edcd61315ed6a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Aug 17 19:45:13 2020 +0000

    * fix for Mantis #37579: mark the 'German' tokens with the characters they represent
    
    git-svn-id: trunk@46475 -

M	compiler/tokens.pas

******************************************************************************
commit 7e8a50452b06928db65533720819a259caa877ef
Author: florian <florian@freepascal.org>
Date:   Mon Aug 17 17:50:43 2020 +0000

      * StackTop must be OS specific (and not CPU specific)
    
    git-svn-id: trunk@46474 -

M	rtl/freertos/system.pp
M	rtl/xtensa/xtensa.inc

******************************************************************************
commit 15d1d00c34f1cd0b913afb83bbd88486a6ca8053
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 17 14:23:27 2020 +0000

    * fixed a typo.
    
    git-svn-id: trunk@46473 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 0b440758eacb6fa3d0f38c13ab0daba7f5d40dc8
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Aug 17 13:56:14 2020 +0000

    sql parser: support "SELECT 'a' 'b'" syntax (MSSQL)
    
    git-svn-id: trunk@46472 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 222f981dd17189cc46d30d248c13d9e50e128797
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 17 13:37:55 2020 +0000

    * 8086: Fixed Ofs() for far routines.
      resultdef of typeconvnode.typecheck_proc_to_procvar() is reused every time you get an address of a proc. So it is forbidden to change the far/near attribute of resultdef - it leads to mess during code generation.
      Instead it is needed to use separate reusable resultdefs with new flags pc_far_address and pc_offset.
    
    git-svn-id: trunk@46470 -

M	compiler/i8086/n8086cnv.pas
M	compiler/symdef.pas

******************************************************************************
commit 6878ffbf041008c0300f263ec901ae645ec0414d
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 17 09:25:45 2020 +0000

    * In the TP mode for 16-bit CPUs uint8+uint8 is extended to sint16+sint16. This is TP compatible.
    
    git-svn-id: trunk@46468 -

M	compiler/nadd.pas
M	tests/test/cpu16/taddint1.pp

******************************************************************************
commit b814c41ea9969abf730e581f393c7e3c6deb2056
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Aug 17 09:24:32 2020 +0000

    sql parser: support functions with identifier path (MSSQL)
    
    git-svn-id: trunk@46467 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 86360152650fffd6720af949cd52579a735badd2
Author: florian <florian@freepascal.org>
Date:   Sun Aug 16 21:48:30 2020 +0000

      + Xtensa: consider also floating point stores in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@46465 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit f9ddc3ac66d587eb8547bc09d33e855db16b033e
Author: florian <florian@freepascal.org>
Date:   Sun Aug 16 21:41:56 2020 +0000

      + Xtensa: L32IMov2L32I optimization
    
    git-svn-id: trunk@46464 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit 66e682dfdd0d61ff6ed172e40df4fbaa8d10e0d8
Author: florian <florian@freepascal.org>
Date:   Sun Aug 16 21:05:15 2020 +0000

      * Xtensa: patch by Christo Crause: add support for windowed ABI stack dump, resolves #37583
    
    git-svn-id: trunk@46463 -

M	rtl/freertos/consoleio.pp
M	rtl/freertos/system.pp
M	rtl/xtensa/xtensa.inc

******************************************************************************
commit 324deca817a97a8513ffe60bda659485b739a734
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 16 17:08:00 2020 +0000

    * wlib: Explicitly specify the smallest possible record align to reduce the size of .a files.
    
    git-svn-id: trunk@46462 -

M	compiler/link.pas
M	compiler/systems.pas

******************************************************************************
commit f72f021da42839f838f8161a5d186becd1f21368
Author: florian <florian@freepascal.org>
Date:   Sun Aug 16 16:26:39 2020 +0000

      + AAarch64: FMovFMov2FMov optimization
    
    git-svn-id: trunk@46461 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit b4139720e60b86e64780e535c74176676ee2b67f
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 16 13:27:56 2020 +0000

    * RTTI: Offset of record fields is defined as SizeInt not ptruint.
    
    git-svn-id: trunk@46460 -

M	compiler/ncgrtti.pas

******************************************************************************
commit a88288bab3803476bfa3e54c432f8cc3ed264b0f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 16 12:46:21 2020 +0000

      - reverted r46457, accidentally committed (breaks -Oooptcse)
    
    git-svn-id: trunk@46459 -

M	compiler/nbas.pas
M	compiler/ncgbas.pas
M	compiler/nutils.pas

******************************************************************************
commit 8d3ef67218bc4c3583177afd75b1f3efb119e703
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 16 12:29:35 2020 +0000

      - disable {$optimization on} setting so the (fp)make settings are used
    
    git-svn-id: trunk@46458 -

M	packages/regexpr/src/regexpr.pas

******************************************************************************
commit f26735fc778f7f1a9ce234c93f1fad5002fa04f2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 16 12:29:31 2020 +0000

      * execute the tempinitcode whent the tempcreate node gets processed rather
        than when the first temprefnode to it gets processed. Solves the issue
        the foreachnodestatic processes the tempinitcode when seeing the
        tempcreatenode and ignores it when seeing temprefnodes, even though
        it may actually be executed/generated for the temprefnode. It's
        impossible to easily process it for the "correct" temprefnode
        (since there may be multiple temprefnodes for the same tempcreatenode)
       o fixes tarray12 for Darwin/i386 and Linux/i386
    
    git-svn-id: trunk@46457 -

M	compiler/nbas.pas
M	compiler/ncgbas.pas
M	compiler/nutils.pas

******************************************************************************
commit 2ab7cceeaae9b79a984bf6b8041f70c207511753
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 16 10:48:10 2020 +0000

    * Added the $F+ switch (forced far calls) for some TP mode tests.
    
    git-svn-id: trunk@46456 -

M	tests/tbs/tb0184.pp
M	tests/tbs/tb0218.pp
M	tests/tbs/tb0251.pp
M	tests/tbs/tb0433.pp
M	tests/test/cg/taddr2.pp
M	tests/test/tprocvar2.pp
M	tests/webtbs/tw2059.pp
M	tests/webtbs/tw2268.pp

******************************************************************************
commit 721e89fafde6662c200a5efc3d67bc5480e4386e
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 16 10:45:45 2020 +0000

    * msdos: Force names of external routines to be all uppercase only in TP mode.
    
    git-svn-id: trunk@46455 -

M	compiler/pdecsub.pas

******************************************************************************
commit 154ada9e86cd4b6b42857d97437caedbd4d0104e
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 16 10:34:23 2020 +0000

    * 8086: enable cs_force_far_calls when m_nested_procvars is enabled.
    * 8086: when the compiler mode switches to a non-TP mode, enable cs_force_far_calls.
    
    git-svn-id: trunk@46454 -

M	compiler/scanner.pas

******************************************************************************
commit 18b8b9c566f597015de7e0c3a03ac98cedc2a6fb
Author: florian <florian@freepascal.org>
Date:   Sat Aug 15 18:29:26 2020 +0000

      * do not apply range test optimization if the variable is a string being compared against a char constants, resolves #37476
    
    git-svn-id: trunk@46453 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbf/tw37476.pp

******************************************************************************
commit cc14f066771b4f7814b8295a2f85e037fc14f6bf
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 15 15:13:08 2020 +0000

      * when a function returns a value in a register, but normally that type
        would never be put in that kind of register by the compiler, store
        it to memory to avoid issues down the line
       o fixes tcalext6 on darwin/i386
    
    git-svn-id: trunk@46449 -

M	compiler/ncgcal.pas

******************************************************************************
commit ad7c3d9a098dd5d354390c3497e95681b2ee0f73
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 15 12:14:45 2020 +0000

      * don't convert lea to add/inc/dec/sub if there's a symbol in the reference
      o fixes make cycle on Darwin/i386
    
    git-svn-id: trunk@46448 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 313790502da4de79b8c7b67c1d5e5df59025e923
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Aug 15 09:07:30 2020 +0000

    * linux-m68k: depend on FPU defines to compile FPU code, instead of CPU68020. also, minor cosmetics
    
    git-svn-id: trunk@46447 -

M	rtl/linux/m68k/sighnd.inc
M	rtl/linux/m68k/sighndh.inc

******************************************************************************
commit bcde18f8797fc1a0b06819ced39907433d367c83
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sat Aug 15 08:26:42 2020 +0000

    sql parser: fallback for all parser keywords to identifiers/functions if they are used in an expression (e.g. LEFT was affected)
    
    git-svn-id: trunk@46446 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 672e59317afd0702cfeeb64aff47a5814f6f7d37
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 19:56:36 2020 +0000

    sql parser: add source position information to element lists
    
    git-svn-id: trunk@46439 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 98036f52be23acb93c458284a3eebcd29da33f28
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 19:23:45 2020 +0000

    sql parser: support SELECT without a FROM clause
    
    git-svn-id: trunk@46438 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit f89650c4706eaa76ad62c5033e6fb0cc7f474a18
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 19:14:37 2020 +0000

    sql parser: fix A*B, A/B and add tests
    
    git-svn-id: trunk@46437 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 5bac4c25e0e34bbaf5aad0e006bad792d240236c
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 18:40:46 2020 +0000

    sql parser: support A.* syntax
    
    git-svn-id: trunk@46436 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 1ba8255af07aa5e3c5a75d487c47b7e97d4a2016
Author: florian <florian@freepascal.org>
Date:   Fri Aug 14 18:10:56 2020 +0000

      * do not try to unroll a loop if previously an error was thrown, resolves #37475
    
    git-svn-id: trunk@46435 -

M	.gitattributes
M	compiler/optloop.pas
A	tests/webtbf/tw37475.pp

******************************************************************************
commit 9fca033ac33faffd4fa4257311decd9b888a3010
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 17:46:38 2020 +0000

    sql parser: unify identifier path code
    
    git-svn-id: trunk@46434 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcgensql.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit f7d14128b53ad2147e50042d1d148e4ae9de62b3
Author: yury <jura@cp-lab.com>
Date:   Fri Aug 14 16:56:13 2020 +0000

    * 8086: Do not force far calls in the TP mode by default. This is TP compatible. Other modes need forced far calls by default in order to compile non-TP code.
    
    git-svn-id: trunk@46433 -

M	compiler/scanner.pas

******************************************************************************
commit 9d3b105fab0d6d66192678520c14c20d9d638357
Author: yury <jura@cp-lab.com>
Date:   Fri Aug 14 16:21:12 2020 +0000

    * msdos: By default external routine names with the pascal calling convention must be all upper case. This is TP and TASM compatible.
    
    git-svn-id: trunk@46432 -

M	compiler/pdecsub.pas

******************************************************************************
commit 631ec771578492fefe448d4f861283f04f1a5521
Author: yury <jura@cp-lab.com>
Date:   Fri Aug 14 16:17:18 2020 +0000

    * 8086: Fixed calling of local routines with the near attribute in the 'far code' memory models.
    
    git-svn-id: trunk@46431 -

M	compiler/i8086/hlcgcpu.pas

******************************************************************************
commit 56613723b9f60c582df39bf0154dd7dccbe6d1b0
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 14:17:54 2020 +0000

    sql parser: fix source position
    
    git-svn-id: trunk@46429 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqlscanner.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 0fb6419edd5cbb83e26043f7f14891938d4da6ca
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 13:48:29 2020 +0000

    sql parser: support CASE expression
    
    git-svn-id: trunk@46428 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqlscanner.pp
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcgensql.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 887de9f27c255dfcba30973cd24b1c98431d6b05
Author: yury <jura@cp-lab.com>
Date:   Fri Aug 14 13:10:12 2020 +0000

    * Fixed nasm writer by adding a new line after the GLOBAL directive.
    
    git-svn-id: trunk@46427 -

M	compiler/x86/agx86nsm.pas

******************************************************************************
commit 6caf046df2e50fdd173502bc7d518e220cddeff5
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 12:35:20 2020 +0000

    sql parser: support LIMIT for FireBird/MSSQL/Postgres/MySQL
    
    git-svn-id: trunk@46426 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqlscanner.pp
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcgensql.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 0ca6707e95661bb73a6517c2bd11f197478ead24
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 10:32:37 2020 +0000

    sql parser: support []-identifiers
    
    git-svn-id: trunk@46424 -

M	packages/fcl-db/src/sql/fpsqlscanner.pp
M	packages/fcl-db/tests/tcsqlscanner.pas

******************************************************************************
commit 67d2c51b8d0cdbeda377a687444a4bea9498eb06
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 10:15:40 2020 +0000

    sql parser: add test for SQL generation of fields with path
    
    git-svn-id: trunk@46422 -

M	packages/fcl-db/tests/tcgensql.pas

******************************************************************************
commit 97ced59af04004398a4a4688c082089a7cf05063
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 10:06:33 2020 +0000

    sql parser: support field with schema
    
    git-svn-id: trunk@46421 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 49f1d08467bd7d5bb8251965de26aa6e148ddc2c
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 09:03:43 2020 +0000

    sql parser: change Functions to Properties for better debugging
    
    git-svn-id: trunk@46420 -

M	packages/fcl-db/src/sql/fpsqlparser.pas

******************************************************************************
commit f368c848a5ca0f82c162eace5278b2b904d9e844
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 09:01:06 2020 +0000

    sql parser: support table with schema
    
    git-svn-id: trunk@46419 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit ac6f74a6a24bfb0cd007bf8745728dbd506c5a04
Author: florian <florian@freepascal.org>
Date:   Thu Aug 13 20:35:11 2020 +0000

      * patch by Christo Crause to make nostackframe with the windowed xtensa abi working, resolves #37550
    
    git-svn-id: trunk@46417 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit aefc1be555590a7dd6aef6a9b625f7ace096651b
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 13 18:48:19 2020 +0000

    * Reverted accidentally committed files.
    
    git-svn-id: trunk@46416 -

M	compiler/aasmdata.pas
M	compiler/ncal.pas
M	compiler/ncgcal.pas
M	compiler/psub.pas

******************************************************************************
commit 7b65f85a0b9c398dea2dd5bac7cd1b6140480950
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 13 18:46:57 2020 +0000

    *  Accidental commit.
    
    git-svn-id: trunk@46415 -

M	compiler/aasmdata.pas
M	compiler/ncal.pas
M	compiler/ncgcal.pas
M	compiler/psub.pas

******************************************************************************
commit 17d583a419b65457783dc7b816297b69309157f0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 13 05:42:41 2020 +0000

    * fix for Mantis #37559: the adjustment of the section type should only be done for internal COFF writers
    
    git-svn-id: trunk@46410 -

M	compiler/ogbase.pas

******************************************************************************
commit dc4637862ff15560c16e5438618e8daf125b627a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 13 05:42:36 2020 +0000

    + add a constant that describes all internal COFF writers (be it PE/COFF or not)
    
    git-svn-id: trunk@46409 -

M	compiler/systems.pas

******************************************************************************
commit fbb8e161faf81e8ed65524beafc204c74eebafb2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 13 05:42:32 2020 +0000

    + add test for already fixed Mantis #37286
    
    git-svn-id: trunk@46408 -

M	.gitattributes
A	tests/webtbs/tw37286.pp

******************************************************************************
commit 43d66a4ac8ce315f8d1bc523c9fa529344947a99
Author: florian <florian@freepascal.org>
Date:   Wed Aug 12 21:15:35 2020 +0000

      * it's usefull to enable the test for all platforms
    
    git-svn-id: trunk@46406 -

M	tests/webtbs/tw37554.pp

******************************************************************************
commit cdd80c131d437af8bb8a435e4b095a34bb21c2cf
Author: florian <florian@freepascal.org>
Date:   Wed Aug 12 21:13:58 2020 +0000

      + forgotten test
    
    git-svn-id: trunk@46405 -

M	.gitattributes
A	tests/webtbs/tw37554.pp

******************************************************************************
commit fab0cf953719bd6a772552ee374c77968cffe928
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Aug 12 19:11:49 2020 +0000

    * regenerate msg*.inc files
    
    git-svn-id: trunk@46403 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 352489c397080a5acab70ec57836256de380dfb0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Aug 12 19:11:45 2020 +0000

    * document -FF option
    
    git-svn-id: trunk@46402 -

M	compiler/msg/errore.msg

******************************************************************************
commit 4faea3a1869969c91c3a17f891f88a24fa1219f3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Aug 12 19:11:34 2020 +0000

    * fix order of options
    
    git-svn-id: trunk@46401 -

M	compiler/msg/errore.msg

******************************************************************************
commit f3541984ee18971ee2bdc8d8580653828d85fdba
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Aug 12 19:08:31 2020 +0000

    * make sure that the resource compiler related globals are reset
    
    git-svn-id: trunk@46399 -

M	compiler/comprsrc.pas

******************************************************************************
commit b88d12c7b9e35798bac97672a92ed9bda401696e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Aug 12 19:08:25 2020 +0000

    + add option -FF to force the use of fpcres as RC compiler
    
    Note: if we merge this to 3.2.x then we can switch to this by default once 3.2.2 is released
    
    git-svn-id: trunk@46398 -

M	compiler/comprsrc.pas
M	compiler/options.pas
M	compiler/rescmn.pas

******************************************************************************
commit 61d44bba17591fa9fdf8eb65f3c1beae4092aef0
Author: florian <florian@freepascal.org>
Date:   Wed Aug 12 19:07:23 2020 +0000

      * allow iso gotos within a procedure
    
    git-svn-id: trunk@46396 -

M	compiler/nflw.pas

******************************************************************************
commit ff34fb16455ed861cd81137997c187b4906e7011
Author: florian <florian@freepascal.org>
Date:   Tue Aug 11 18:17:56 2020 +0000

      * better complexity handling of mul, slash, div, mod
    
    git-svn-id: trunk@46365 -

M	compiler/nutils.pas

******************************************************************************
commit 6dac888ae5f3ff333d12ba8ecb17c124329342b5
Author: florian <florian@freepascal.org>
Date:   Tue Aug 11 12:05:13 2020 +0000

      * 0 is a valid label in iso mode, resolves #37428
    
    git-svn-id: trunk@46362 -

M	.gitattributes
M	compiler/pdecl.pas
M	compiler/pstatmnt.pas
A	tests/webtbs/tw37428.pp

******************************************************************************
commit cfff96f44ce391ecd5cf16bb7c8dec76142cd1b0
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Aug 10 20:42:13 2020 +0000

    FExpand: always uppercase drive letter also in BasePath
    
    git-svn-id: trunk@46353 -

M	rtl/inc/fexpand.inc

******************************************************************************
commit a668814613173d9a682271b4c5a85a5137c83ce3
Author: florian <florian@freepascal.org>
Date:   Mon Aug 10 17:08:46 2020 +0000

      * regenerated
    
    git-svn-id: trunk@46352 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit fb0a0cb65c41e07549813b86cc6b9afb3d1c7430
Author: florian <florian@freepascal.org>
Date:   Mon Aug 10 17:08:45 2020 +0000

      * patch by Kai Burghardt to use https urls, resolves #37522
    
    git-svn-id: trunk@46351 -

M	compiler/msg/errorct.msg
M	compiler/msg/errord.msg
M	compiler/msg/errorda.msg
M	compiler/msg/errordu.msg
M	compiler/msg/errore.msg
M	compiler/msg/errores.msg
M	compiler/msg/errorf.msg
M	compiler/msg/errorfi.msg
M	compiler/msg/errorhe.msg
M	compiler/msg/errorheu.msg
M	compiler/msg/errorid.msg
M	compiler/msg/erroriu.msg
M	compiler/msg/errorn.msg
M	compiler/msg/errorpl.msg
M	compiler/msg/errorpli.msg
M	compiler/msg/errorpt.msg
M	compiler/msg/errorptu.msg
M	compiler/msg/errorr.msg
M	compiler/msg/errorru.msg
M	compiler/msg/errorues.msg

******************************************************************************
commit 2de0be96334891fdf07966fec883e1b9c612fcdf
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Aug 9 21:31:18 2020 +0000

    * attempt to correct bitpacked arrays on big-endian systems after r43186. this fixed tparray13 test on m68k at least
    
    git-svn-id: trunk@46347 -

M	compiler/ngtcon.pas

******************************************************************************
commit 87615458481ea121410a7951a387694af6a65a7b
Author: florian <florian@freepascal.org>
Date:   Sun Aug 9 18:55:46 2020 +0000

      * patch by J. Gareth Moreton: Long-range MOV + MOVS/Z optimisation, resolves #37390
    
    git-svn-id: trunk@46346 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 867786c9539272bbd6be20a4614bbd5fbd0a0a94
Author: florian <florian@freepascal.org>
Date:   Sun Aug 9 18:52:25 2020 +0000

      * update version
      - -Oodfa removed
    
    git-svn-id: trunk@46345 -

M	compiler/pp.lpi

******************************************************************************
commit 4b84de6a72df0b82b9217cb336190203b263055a
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 8 19:23:52 2020 +0000

    * Optimized Handle_I8086_Error by using smaller int types.
    
    git-svn-id: trunk@46335 -

M	rtl/i8086/math.inc

******************************************************************************
commit b3adeaaea9bf9b54a47692c686784f36d7251033
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 8 17:45:41 2020 +0000

      * added test for bug that's already fixed (mantis #37423)
    
    git-svn-id: trunk@46334 -

M	.gitattributes
A	tests/webtbs/tw37423.pp

******************************************************************************
commit f798141d30d284a7471c1c4c5f8f2edb89dfad34
Author: florian <florian@freepascal.org>
Date:   Sat Aug 8 14:48:24 2020 +0000

      * simplified code
    
    git-svn-id: trunk@46333 -

M	compiler/m68k/rgcpu.pas

******************************************************************************
commit 995d2d280a79c02d3889fff62aadedc74874ec4d
Author: florian <florian@freepascal.org>
Date:   Sat Aug 8 14:48:24 2020 +0000

      - no need to call add_move_instruction if data is moved between different register classes
    
    git-svn-id: trunk@46332 -

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit e2bf83b5734772ada599ce9176ec4072bc60f18a
Author: florian <florian@freepascal.org>
Date:   Sat Aug 8 14:48:23 2020 +0000

      * do not spill_replace if the register is used another time in the instruction
    
    git-svn-id: trunk@46331 -

M	compiler/m68k/rgcpu.pas

******************************************************************************
commit d7ba09f5432fed805603c776afb6770daf65bb53
Author: florian <florian@freepascal.org>
Date:   Fri Aug 7 21:43:00 2020 +0000

      * insert type casts when creating new unaryminus nodes during simplification, resolves #37508
    
    git-svn-id: trunk@46309 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw37508.pp

******************************************************************************
commit f20c76d73baf4c534c487b2196b9291de88a3d1d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Aug 7 07:54:26 2020 +0000

    m68k: fixed a long standing issue, where FPU registers would be clamped to single precision during spilling
    
    git-svn-id: trunk@46307 -

M	compiler/m68k/aasmcpu.pas

******************************************************************************
commit bb25c604cf7281bfbf85edae9f90ecf78aaf99cd
Author: florian <florian@freepascal.org>
Date:   Thu Aug 6 20:49:08 2020 +0000

      + optimize a in [a]
    
    git-svn-id: trunk@46300 -

M	compiler/nset.pas

******************************************************************************
commit af1e6fde5c8e7e77a96f43366b0ab6a69b1d0609
Author: florian <florian@freepascal.org>
Date:   Thu Aug 6 20:49:07 2020 +0000

      * setelementn cannot be the root node of a cse domain, resolves #37477
    
    git-svn-id: trunk@46299 -

M	.gitattributes
M	compiler/optcse.pas
A	tests/webtbs/tw37477.pp

******************************************************************************
commit 985220d94c6092336c956ed5dea464eb80c6c0ce
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 6 20:21:13 2020 +0000

    * Added virtual function TObjSection.GetAltName to be able to specify additional section name by descendants.
    * OMF: Use the name of the first global symbol as an addition section name. This name is visible in the linker map file and helps tracking of section references.
    
    git-svn-id: trunk@46298 -

M	compiler/ogbase.pas
M	compiler/ogomf.pas

******************************************************************************
commit fcf085b141dbd7ffb23f79e3bc37f52bc7b7a1ae
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 6 19:04:08 2020 +0000

    * msdos: Include debug info only when it is enabled by options.
    
    git-svn-id: trunk@46297 -

M	compiler/systems/t_msdos.pas

******************************************************************************
commit d9db6809373f3e8ac0a0a0d0123988982dbd661d
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 6 17:57:30 2020 +0000

    * In assembly comments include all used registers by a variable for 8/16 bit CPUs.
    * Do not add comments about unused varlocs.
    
    git-svn-id: trunk@46296 -

M	compiler/rgobj.pas

******************************************************************************
commit 315819692a6a92cd1c22f7a2031a0c0f139acc63
Author: florian <florian@freepascal.org>
Date:   Wed Aug 5 21:30:37 2020 +0000

      - do not call firstpass in tinnode.pass_typecheck as it prevents further optimizations
    
    git-svn-id: trunk@46277 -

M	compiler/nset.pas

******************************************************************************
commit e14a3f17e6d8d6ced42026b3c49e1f6d179e983d
Author: florian <florian@freepascal.org>
Date:   Wed Aug 5 21:15:33 2020 +0000

      * reverted r46220 as it is fixed now properly
    
    git-svn-id: trunk@46276 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw37493.pp

******************************************************************************
commit 28f25b2df0b1422fbcd6ac195a83cfbda40e4d9e
Author: florian <florian@freepascal.org>
Date:   Wed Aug 5 21:15:32 2020 +0000

      * reworked usage of tcgnotnode.handle_locjump
    
    git-svn-id: trunk@46275 -

M	compiler/aarch64/ncpumat.pas
M	compiler/arm/narmmat.pas
M	compiler/avr/navrmat.pas
M	compiler/m68k/n68kmat.pas
M	compiler/mips/ncpumat.pas
M	compiler/ncgmat.pas
M	compiler/powerpc/nppcmat.pas
M	compiler/powerpc64/nppcmat.pas
M	compiler/riscv32/nrv32mat.pas
M	compiler/riscv64/nrv64mat.pas
M	compiler/sparcgen/ncpumat.pas
M	compiler/x86/nx86mat.pas
M	compiler/z80/nz80mat.pas

******************************************************************************
commit ec10ee8218c9247836264bcdfcef44331fed62c5
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 5 17:58:46 2020 +0000

    * Improved generic implementations of fpc_mul_dword, fpc_mul_word, fpc_mul_byte to use less iterations and registers.
    
    git-svn-id: trunk@46269 -

M	rtl/inc/generic.inc

******************************************************************************
commit aa633544f1adf5d8521a99b1e2341168b1611c87
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 5 16:29:07 2020 +0000

    * Added a simple implementation of random. It is TP/Delphi compatible. Enabled it for 8/16 bit CPUs by default.
    
    git-svn-id: trunk@46266 -

M	rtl/inc/system.inc
M	rtl/inc/systemh.inc

******************************************************************************
commit 6f27c2390e8523fdbab3905ebe1cad82d8b340f8
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 10:47:24 2020 +0000

     Disable compilation of most packages for msxdos and amstadcpc OS
    
    git-svn-id: trunk@46247 -

M	packages/bzip2/fpmake.pp
M	packages/chm/fpmake.pp
M	packages/fcl-base/fpmake.pp
M	packages/fcl-db/fpmake.pp
M	packages/fcl-fpcunit/fpmake.pp
M	packages/fcl-image/fpmake.pp
M	packages/fcl-js/fpmake.pp
M	packages/fcl-json/fpmake.pp
M	packages/fcl-net/fpmake.pp
M	packages/fcl-passrc/fpmake.pp
M	packages/fcl-pdf/fpmake.pp
M	packages/fcl-process/fpmake.pp
M	packages/fcl-registry/fpmake.pp
M	packages/fcl-res/fpmake.pp
M	packages/fcl-sdo/fpmake.pp
M	packages/fcl-sound/fpmake.pp
M	packages/fcl-stl/fpmake.pp
M	packages/fcl-xml/fpmake.pp
M	packages/fpmkunit/fpmake.pp
M	packages/fppkg/fpmake.pp
M	packages/hash/fpmake.pp
M	packages/hermes/fpmake.pp
M	packages/libgd/fpmake.pp
M	packages/libtar/fpmake.pp
M	packages/pasjpeg/fpmake.pp
M	packages/paszlib/fpmake.pp
M	packages/regexpr/fpmake.pp
M	packages/rtl-generics/fpmake.pp
M	packages/sdl/fpmake.pp
M	packages/symbolic/fpmake.pp
M	packages/unzip/fpmake.pp
M	packages/webidl/fpmake.pp

******************************************************************************
commit 6ce1b7d272ee3219d7df9719bf79d0d044ef6afd
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 10:46:20 2020 +0000

     Disable native compilation of ihcutil for zxspectrum, msxdos and amstadcpc as it requires fcl-base package
    
    git-svn-id: trunk@46246 -

M	utils/ihxutil/fpmake.pp

******************************************************************************
commit 754374d2eec1e6dfac22fb80f431b420e0f2a5ce
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 09:31:30 2020 +0000

     Add amstradcpc to the list of unsupported OSes base utils
    
    git-svn-id: trunk@46245 -

M	utils/fpmake.pp

******************************************************************************
commit 644678daaad3ae74d7495f7d864a69f835d7fe51
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 09:30:16 2020 +0000

     Add zxspectrum, msxdos and amstradcpc list of unsupported OSes for most utils packages
    
    git-svn-id: trunk@46244 -

M	.gitignore
M	utils/fpcm/fpmake.pp
M	utils/fpcmkcfg/fpmake.pp
M	utils/fpcres/fpmake.pp
M	utils/fpcreslipo/fpmake.pp
M	utils/fpdoc/fpmake.pp
M	utils/fppkg/fpmake.pp
M	utils/fprcp/fpmake.pp
M	utils/h2pas/fpmake.pp
M	utils/importtl/fpmake.pp
M	utils/instantfpc/fpmake.pp
M	utils/json2pas/fpmake.pp
M	utils/pas2fpm/fpmake.pp
M	utils/pas2jni/fpmake.pp
M	utils/pas2ut/fpmake.pp
M	utils/tply/fpmake.pp

******************************************************************************
commit 42866bbde5f48187dcea24520d0f2fa98ee2ce8a
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 09:28:54 2020 +0000

     Change list of supported OSes
    
    git-svn-id: trunk@46243 -

M	utils/unicode/fpmake.pp

******************************************************************************
commit dcdb57027ac01c861ffb550d599f02238fae5499
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 09:20:06 2020 +0000

     Update after commit #46241
    
    git-svn-id: trunk@46242 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 738c11199be19de4806dc6c96299c3154f1ee2fe
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 09:05:14 2020 +0000

     Add amstradcpc OS support for fpcmake and fpmkunit
    
    git-svn-id: trunk@46241 -

M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 86d55055df60fa6c773832076cbdbd29d0e2ec78
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Aug 4 21:12:06 2020 +0000

      * made internalerror unique
    
    git-svn-id: trunk@46236 -

M	compiler/llvm/aasmllvm.pas

******************************************************************************
commit 1d3ed354debe8b6a937517192cce2abeb1dbc347
Author: florian <florian@freepascal.org>
Date:   Tue Aug 4 20:51:52 2020 +0000

      * patch by J. Gareth Moreton: unifies internalerrors, resolves #37471
    
    git-svn-id: trunk@46234 -

M	compiler/x86/rax86int.pas
M	compiler/z80/raz80asm.pas

******************************************************************************
commit 719220e8a4f5b2b30bf8b7261581bf84c72555e7
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 4 20:45:29 2020 +0000

    * For 8/16 bit CPUs and TP mode, disable expansion to a larger integer type for subtract operations on unsigned integers. This is TP7 compatible.
    
    git-svn-id: trunk@46233 -

M	compiler/nadd.pas

******************************************************************************
commit ca40956a3aedc76fe335ff1a8843c58a16320de3
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 4 10:19:49 2020 +0000

    Regenerated all Makefile's
    
    git-svn-id: trunk@46224 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit a2806954ed29a28b47f03bb8e1a356aa518bbe6d
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 4 10:10:44 2020 +0000

     Update after commit #46222
    
    git-svn-id: trunk@46223 -

M	utils/fpcm/revision.inc

******************************************************************************
commit a5997e266fa55a7127445bbefc5269df4dd8fe59
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 4 07:48:24 2020 +0000

     Add powerpc specific call to gcc to get the correct libgcc directory for linux
    
    git-svn-id: trunk@46222 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit fdb1cd38abbeba81032f75edb3df6b05510774e3
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 4 07:45:03 2020 +0000

     Disable limitation of handling of negative shift values, can be enalbed again by setting LIMIT_NEG_SHIFTVALUES macro
    
    git-svn-id: trunk@46221 -

M	compiler/cgobj.pas

******************************************************************************
commit c17ad509e2c3589a781f96da8128eb3f23188806
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Aug 3 21:53:29 2020 +0000

    * fix for Mantis #36775: apply patch by J. Gareth Moreton
    + added tests
    
    git-svn-id: trunk@46220 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw36775.pp
A	tests/webtbs/tw36775a.pp
A	tests/webtbs/tw36775b.pp
A	tests/webtbs/tw36775c.pp

******************************************************************************
commit 055cfc177140e5071a549eb9d59904f57603bf16
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Aug 3 21:53:24 2020 +0000

    * added test for Mantis #36014 which is already fixed (also in 3.2.0)
    
    git-svn-id: trunk@46219 -

M	.gitattributes
A	tests/webtbf/tw36014.pp

******************************************************************************
commit 06a5ec5b5c771a120f864753daeacae98f6bb0a7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Aug 3 20:51:37 2020 +0000

      * fixed peephole optimizer replace lea by add even if the flags were in use
        (patch by J. Gareth Moreton)
    
    git-svn-id: trunk@46213 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3047ce71bc0506c71e21db1725009fbb983ae3cd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Aug 3 20:36:02 2020 +0000

      * fixed LLVM register allocator after r46199
    
    git-svn-id: trunk@46212 -

M	compiler/llvm/rgllvm.pas
M	compiler/rgobj.pas

******************************************************************************
commit 0000682043decf5ac145fb13535c1de0ed570bbf
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 18:52:17 2020 +0000

    * i8086: When a ref points to the 32-bit data, preload the ref base to a temp register to reduce spilling.
    
    git-svn-id: trunk@46204 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit ddea92992347f28a2f9a0043b7743889d3e3e452
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 18:45:38 2020 +0000

    * For 8 and 16 bit CPUs preload the ref base and index to a separate temp register in the generic implementation of a_load64_reg_ref() and a_load64_ref_reg().
      This reduces spilling and produces a better code.
    
    git-svn-id: trunk@46203 -

M	compiler/cg64f32.pas

******************************************************************************
commit e70c8985039c67cc4dba5371dc515db77b3b942d
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 16:51:20 2020 +0000

    * Removed the i8086 specific hack. Since r46199 the register allocator is able to handle the problem code.
    
    git-svn-id: trunk@46200 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit ff820247c3b3ae7ba88bf244127b6a36abb33423
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 16:46:25 2020 +0000

    * Early during register allocation, spill registers which interfere with all usable real registers.
      It is pointless to keep them for further processing. Also it may
      cause endless spilling.
      This can happen when compiling for very constrained CPUs such as
      i8086 where indexed memory access instructions allow only
      few registers as arguments and additionally the calling convention
      provides no general purpose volatile registers.
    
    git-svn-id: trunk@46199 -

M	compiler/rgobj.pas

******************************************************************************
commit 601e05f17f1e82cd60a2b4f863f68b5f44551459
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 16:24:14 2020 +0000

    * Count only usable real registers.
    
    git-svn-id: trunk@46197 -

M	compiler/rgobj.pas

******************************************************************************
commit 0daba072460a9e6d5240b61fb28da62c7483066a
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 16:18:32 2020 +0000

    * Enhanced the debug output of spilling statistics. Now it includes efficiency of the spilling which is based on
      weight and usage count of registers. Range 0-100%. Such statistics are very handy when you modify the register allocator.
    
    
    git-svn-id: trunk@46196 -

M	compiler/rgobj.pas

******************************************************************************
commit 346adf7f556fda4abeb469c173efe806cdb4b7a6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 2 14:39:50 2020 +0000

      * replace explicit (sometimes incomplete) tests with calls to  doshortbooleval()
      * the c-style boolean evaluation of "and" is independent of short-circuit evaluation
        (you always have to consider the complete values in case the first one is <> 0)
    
    git-svn-id: trunk@45990 -

M	compiler/nadd.pas

******************************************************************************
commit 848ec1d2197dfbd696b5c69a8fcb39011ec5ec56
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Aug 2 12:28:46 2020 +0000

    * allow overloads with same result type for external Java classes due to Java supporting covariant return types for interfaces
    
    git-svn-id: trunk@45988 -

M	compiler/pparautl.pas

******************************************************************************
commit 4964f5cf76586871ef5350d2c4d62de6a9156599
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 2 11:50:43 2020 +0000

    * Count the number of interferences with real registers.
    * Do not coalesce registers 'u' and 'v' if 'u' is the last usable real register available for imaginary register 'n' which also interferences with 'v'.
        This prevents endless spilling in some cases for constrained CPUs such as AVR. Resolves issue #37421.
        Also this reduces the number of spilled registers in some cases and even eliminates spilling completely for some simple routines for i386 and AVR.
    * Added a debug output of the number of spilled registers for each routine. This allows to easily compare results after changes in spilling algorithms.
    
    git-svn-id: trunk@45987 -

M	compiler/rgobj.pas

******************************************************************************
commit ef099b20756f61a6c9a9be44f63314907393ff83
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Aug 2 10:25:02 2020 +0000

    * import library function with a name that does not conflict with the functions exported in the interface
    
    git-svn-id: trunk@45986 -

M	rtl/win16/sysdl.inc
M	rtl/win16/winprocsh.inc

******************************************************************************
commit 08949c86bf39b7432bc36bfd13f219aecac21646
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Aug 2 10:24:57 2020 +0000

    + readd Randomize with parameter
    
    git-svn-id: trunk@45985 -

M	rtl/gba/system.pp

******************************************************************************
commit f542ee7b92e90fca148df15f35c50d3040d3fd03
Author: florian <florian@freepascal.org>
Date:   Sat Aug 1 21:11:35 2020 +0000

      * do not throw an internal error if an errorneous type is passed to str, resolves #37462
    
    git-svn-id: trunk@45983 -

M	.gitattributes
M	compiler/ninl.pas
A	tests/webtbf/tw37462.pp

******************************************************************************
commit 208e7fb33721bf96fe9c73abc219aaffd2311eb5
Author: pierre <pierre@freepascal.org>
Date:   Sat Aug 1 20:42:22 2020 +0000

     Add -marm option to gcc call fot arm target to be sure that aarch64 version of gcc complains to stderr if it does not support 32-bit
    
    git-svn-id: trunk@45982 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 107a2e4e854adae9b198c52faf8d461eee253cf9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 1 17:26:39 2020 +0000

    - remove local Random() implementations that weren't exported anyway (LongInt <> Integer inside the System unit)
    
    git-svn-id: trunk@45981 -

M	rtl/embedded/system.pp
M	rtl/freertos/system.pp
M	rtl/gba/system.pp
M	rtl/nds/system.pp
M	rtl/wii/system.pp

******************************************************************************
commit 48cc5250f9c17a1dafa3ecb4ec6b43501d557566
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 1 17:26:34 2020 +0000

    * fpc_geteipasebx and fpc_geteipasecx are used as procedures, not functions, so declare them as such
    
    git-svn-id: trunk@45980 -

M	rtl/i386/i386.inc
M	rtl/linux/i386/si_prc.inc

******************************************************************************
commit 04cbf32b1ba789ff52f5669af195cffddfc39ff3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 1 17:26:29 2020 +0000

    * rename local import of fpc_geteipasebx
    
    git-svn-id: trunk@45979 -

M	rtl/linux/i386/syscall.inc

******************************************************************************
commit 6f661e44d0af94fddc382f5c563e44a53b2bdcee
Author: florian <florian@freepascal.org>
Date:   Fri Jul 31 21:03:35 2020 +0000

      * do not throw an internal error later on in case of a recursive call, if the declaration of the function was faulty, resolves #37460
    
    git-svn-id: trunk@45975 -

M	.gitattributes
M	compiler/x86_64/cpupara.pas
A	tests/webtbf/tw37460.pp

******************************************************************************
commit b62045809d9e996591c2bb9f2fa80e34108f557a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 31 15:55:34 2020 +0000

    * reject overloads if they only differ in the result types (as long as they aren't operator overloads)
    + added tests
    
    git-svn-id: trunk@45973 -

M	.gitattributes
M	compiler/pparautl.pas
A	tests/test/tover5.pp
A	tests/test/tover6.pp
A	tests/test/tover7.pp
A	tests/test/tover8.pp
A	tests/test/tover9.pp

******************************************************************************
commit 42f2e5f8ad0ca44b0d13b98b98c167354645d19f
Author: florian <florian@freepascal.org>
Date:   Thu Jul 30 20:35:34 2020 +0000

      + simplify "x mod -1", resolves #37449
    
    git-svn-id: trunk@45969 -

M	.gitattributes
M	compiler/nmat.pas
A	tests/webtbs/tw37449.pp

******************************************************************************
commit 546a679f4e0114246f934e9d638dd84f64fd9d73
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 30 14:22:05 2020 +0000

     Add -SfPROCESSES for arm cpu, to be able to compile fcl-base package as for xtensa
    
    git-svn-id: trunk@45968 -

M	rtl/freertos/system.cfg

******************************************************************************
commit 93fc5abe8b4d992c6366f9cd957d05fe48af7f86
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 30 14:08:22 2020 +0000

     Use same parameters as in fileutilh.inc for the handle variant of FileSetDate overloaded function
    
    git-svn-id: trunk@45967 -

M	rtl/symbian/sysutils.pp

******************************************************************************
commit 941020af1a9cc9f5136668d1fd03be5aa378c7ea
Author: florian <florian@freepascal.org>
Date:   Wed Jul 29 21:11:46 2020 +0000

      * patch by J. Gareth Moreton: Minor oversight in MovAnd2Mov 3 optimisation, resolves #37442
    
    git-svn-id: trunk@45961 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2d8873d0854df357c28def22214ba55d5f0ad2d9
Author: yury <jura@cp-lab.com>
Date:   Tue Jul 28 23:27:42 2020 +0000

    * Fixed TAOptObj.CollapseZeroDistJump to properly handle delay slots.
    
    git-svn-id: trunk@45874 -

M	compiler/aoptobj.pas

******************************************************************************
commit 2b86651914f674eeeb61d4c9a739a4b0f45a1003
Author: yury <jura@cp-lab.com>
Date:   Tue Jul 28 23:16:21 2020 +0000

    * Re-enabled safe generic jump optimizations for mips.
    
    git-svn-id: trunk@45873 -

M	compiler/aoptobj.pas

******************************************************************************
commit 0b5c50ea413dce745a264bf418f9bc15073bc2e9
Author: florian <florian@freepascal.org>
Date:   Tue Jul 28 20:46:05 2020 +0000

      * Aarch64: set register size correctly for AndStrb2Strb optimization, resolves #37427
    
    git-svn-id: trunk@45872 -

M	.gitattributes
M	compiler/armgen/aoptarm.pas
A	tests/webtbs/tw37427.pp

******************************************************************************
commit cc936710a0818e446e8154999a200a5d41f5e450
Author: yury <jura@cp-lab.com>
Date:   Tue Jul 28 20:08:41 2020 +0000

    * mips: Added support for unaligned load/store. It greatly improves performance and prevents bus errors on systems which do not emulate unaligned memory access.
    
    git-svn-id: trunk@45871 -

M	compiler/mips/cgcpu.pas

******************************************************************************
commit 55c4986c8d14bc058781031f016bacda3a8a4c41
Author: florian <florian@freepascal.org>
Date:   Mon Jul 27 21:00:25 2020 +0000

      * modified patch by J. Gareth Moreton: MovOpMov2Op/Lea2Add/Lea2Sub consolidation, resolves #37422
    
    git-svn-id: trunk@45865 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a1720647670f3e009f0543c741c3dbf46f7e778c
Author: florian <florian@freepascal.org>
Date:   Sun Jul 26 14:41:50 2020 +0000

      * patch by J. Gareth Moreton: fix for incorrect alignment removal, resolves #37420
    
    git-svn-id: trunk@45864 -

M	compiler/aoptobj.pas

******************************************************************************
commit 3db27945981318c9c71a04a585d3dd76f290fc06
Author: florian <florian@freepascal.org>
Date:   Sat Jul 25 21:08:58 2020 +0000

      + add test for #31714 which is already fixed
    
    git-svn-id: trunk@45859 -

M	.gitattributes
A	tests/webtbs/tw31714.pp

******************************************************************************
commit e6b89c98f526394b5b7fbc197a551ab3e8229c2d
Author: yury <jura@cp-lab.com>
Date:   Sat Jul 25 18:29:59 2020 +0000

    * Changed tsuperregisterworklist.get() to always return the last item from the list.
    * Reversed sort order of simplifyworklist so nodes with most interferences will get their colors first.
        Since degree of nodes in simplifyworklist before sorting is always
        less than the number of usable registers this should not trigger spilling
        and should lead to a better register allocation in some cases.
    
      After these changes sysutils.o for i386-win32 is 80 bytes less. :)
    
    git-svn-id: trunk@45857 -

M	compiler/cgbase.pas
M	compiler/rgobj.pas

******************************************************************************
commit 72dc2145e9692cae4667563847612df46e37d73b
Author: yury <jura@cp-lab.com>
Date:   Sat Jul 25 17:13:29 2020 +0000

    * In Delphi mode throw a conversion error when trying to typecast a pointer to a procdef when they use different memory models.
    
    git-svn-id: trunk@45856 -

M	compiler/defcmp.pas

******************************************************************************
commit f6e6b807d5db9adaebd4f17f83b331bed1e09399
Author: florian <florian@freepascal.org>
Date:   Sat Jul 25 16:42:19 2020 +0000

      + optimize <signed> mod <power of 2> for x86-64 as well
    
    git-svn-id: trunk@45854 -

M	compiler/x86/nx86mat.pas

******************************************************************************
commit a5bad32b7c1bfd2b0578d7cb2eaffa71bf4d34ab
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 25 16:11:54 2020 +0000

      - removed no longer used -target $TARGET parameter (triplet is used instead)
    
    git-svn-id: trunk@45853 -

M	compiler/llvm/agllvm.pas

******************************************************************************
commit 28395337766e49f89b58e690ec80b3a140201bdd
Author: yury <jura@cp-lab.com>
Date:   Fri Jul 24 16:45:44 2020 +0000

    * i8086: Enabled the cs_opt_regvar optimization. It works fine now.
    
    git-svn-id: trunk@45847 -

M	compiler/i8086/cpuinfo.pas

******************************************************************************
commit 34a5dfc8856ca177e6cd8848b41ef2200741f508
Author: yury <jura@cp-lab.com>
Date:   Fri Jul 24 16:42:09 2020 +0000

    * i8086: Fixed referencing using BP and SP as base when FAR or HUGE memory model is used.
    
    git-svn-id: trunk@45846 -

M	compiler/i8086/hlcgcpu.pas

******************************************************************************
commit b1b9d1f341feb04d4dc668981e469a0fc864cc62
Author: yury <jura@cp-lab.com>
Date:   Fri Jul 24 16:39:26 2020 +0000

    * i8086: Removed internal error, since global vars can be in registers if used only in pascalmain.
    
    git-svn-id: trunk@45845 -

M	compiler/i8086/n8086ld.pas

******************************************************************************
commit 6edbc9ed7e3453a0ea19d2f64b01d6049f9aeeca
Author: yury <jura@cp-lab.com>
Date:   Fri Jul 24 16:02:13 2020 +0000

    * tinyheap: Early check for very big requested mem sizes in order to prevent overflows and properly report the out of memory error.
    
    git-svn-id: trunk@45844 -

M	rtl/inc/tinyheap.inc

******************************************************************************
commit c455e942e5dd3bccd111e086d798d69b9ed4de10
Author: yury <jura@cp-lab.com>
Date:   Fri Jul 24 14:08:18 2020 +0000

    * Try to avoid spilling of an imm register if it contains a value loaded from an already spilled imm register. It likely leads to an endless loop and the register allocation fails.
        This fixes the register allocation for i8086 when handling registers for very constrained instructions such as "mov ireg1,[ireg2+ireg3]".
        Here ireg2 can be only BX or BP. So in most cases only BX is available. When ireg2 is spilled, its value must be loaded to BX only.
        Coloring of the ireg which holds the spilled value must be as early as possible to be able to assign BX to this ireg.
        This fix should also help register allocation for other constrained/old CPUs.
    
    git-svn-id: trunk@45843 -

M	compiler/rgobj.pas

******************************************************************************
commit 06b1e65864528e48bef61f8adfe47efeedf12da2
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 23 21:34:24 2020 +0000

       + Add a new parameter to GetCompilerInfo function,
       called EmptyIfStdErr, which resets the returned string to
       an empty string if the call generated output to stderr stream.
    
       * Adapt calls to GetCompilerInfo to change above.
       + Add support for other CPUs for linux OS target.
    
    git-svn-id: trunk@45838 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit a258774ba958dc8332d0d0064bf8fd4eedbd9f47
Author: yury <jura@cp-lab.com>
Date:   Thu Jul 23 13:10:50 2020 +0000

    * To check the size of a register(s) corresponding to a variable it is needed to use localloc.size instead of def_cgsize(vardef).
    
    git-svn-id: trunk@45834 -

M	compiler/ncgutil.pas

******************************************************************************
commit 15f411a3328e2f191fdba93b851ed2cc0fe008e1
Author: yury <jura@cp-lab.com>
Date:   Thu Jul 23 12:52:17 2020 +0000

    * Improved r45832.
    
    git-svn-id: trunk@45833 -

M	compiler/rgobj.pas

******************************************************************************
commit 80facfa0bf6b866c9ca14d2222f3631f8f7caa54
Author: yury <jura@cp-lab.com>
Date:   Thu Jul 23 12:45:40 2020 +0000

    * Fixed indentations of the interference graph.
    * Added register names to the interference graph.
    
    git-svn-id: trunk@45832 -

M	compiler/rgobj.pas

******************************************************************************
commit d7122c6338b637f0a4ec5e780764104350a39dff
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Jul 23 11:57:20 2020 +0000

    z80: preserve system ID and linker ID for the Amstrad CPC
    
    git-svn-id: trunk@45831 -

M	compiler/systems.inc
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 9f60f5093d0754474dfb49550a3842dbbcc431f6
Author: pierre <pierre@freepascal.org>
Date:   Wed Jul 22 23:15:03 2020 +0000

     F_GetLk/SetLk have different values for sparc/sparc64
    
    git-svn-id: trunk@45829 -

M	rtl/linux/ostypes.inc
M	tests/tbs/tb0561a.pp
M	tests/tbs/tb0561b.pp

******************************************************************************
commit 6478a727d78ec4d0fda9522f279b1cf3c7184c46
Author: yury <jura@cp-lab.com>
Date:   Wed Jul 22 11:40:21 2020 +0000

    * Fixed the peephole optimization of conditional movs for mips.
    
    git-svn-id: trunk@45826 -

M	compiler/mips/aoptcpu.pas

******************************************************************************
commit 5da913de0ee29c1d4f70569ddb248e996e761e27
Author: florian <florian@freepascal.org>
Date:   Tue Jul 21 20:09:39 2020 +0000

      * float operations can have an exception as a side effect, resolves #37398
    
    git-svn-id: trunk@45824 -

M	.gitattributes
M	compiler/nutils.pas
A	tests/webtbs/tw37398.pp

******************************************************************************
commit adf064cbb490c331528e6ce7b9697a1ea440f984
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 14:24:14 2020 +0000

      New: rtl/inc/genmathh.inc source file, to provide a unique position
      for the interface definition of float64 and float32 records,
      available to all systems if FPUNONE is not defined.
    
      rtl/inc/genmath.inc: Remove float64/float32, as they are now in rtl/inc/genmathh.inc
      rtl/inc/softfpu.pp: Use provided definitions of float32 and float64
      if available (by checking presence of FPC_SYSTEM_HAS_floatXX macro)
    
      rtl/inc/systemh.inc: include genmathh.inc if FPUNONE is not defined.
      rtl/java/jsystemh_types.inc: Likewise.
    
    git-svn-id: trunk@45821 -

M	.gitattributes
M	rtl/inc/genmath.inc
A	rtl/inc/genmathh.inc
M	rtl/inc/softfpu.pp
M	rtl/inc/systemh.inc
M	rtl/java/jsystemh_types.inc

******************************************************************************
commit 2c3792a1aea113b378a88e4acaa54fafb3308e66
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 14:08:24 2020 +0000

     Add list of generated executable to svn:ignore
    
    git-svn-id: trunk@45820 -

M	.gitignore

******************************************************************************
commit 17685fe9ca5a5ff73a86cfcdf0c2306705aaddd2
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 12:43:50 2020 +0000

     Update svn:ignore porperties
    
    git-svn-id: trunk@45819 -

M	.gitignore

******************************************************************************
commit 72654864ff75a0b1455fdfe2e82a2fd40ec7f2f4
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 12:13:36 2020 +0000

     Add missing CPUs for linux libgcc directory retrieval
    
    git-svn-id: trunk@45817 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 57b8f28574087bde2fdca66d5f26e8eecbb2f433
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 05:23:36 2020 +0000

     Avoid overflow errors on z80 CPU by changing local variable type from aint to tcgint
    
    git-svn-id: trunk@45816 -

M	compiler/ncgld.pas
M	compiler/ncnv.pas

******************************************************************************
commit 667a0103573e43d1b650ef56a08a2108f498e434
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 05:22:26 2020 +0000

     Avoid wrong overflow error when using -Criot options
    
    git-svn-id: trunk@45815 -

M	compiler/ogrel.pas

******************************************************************************
commit 14bc6674a6cd8a7974266635487bf09f384d02bf
Author: florian <florian@freepascal.org>
Date:   Mon Jul 20 20:21:44 2020 +0000

    * revert part of r45810 which was accidently committed
    
    git-svn-id: trunk@45813 -

M	compiler/symdef.pas
M	compiler/symsym.pas

******************************************************************************
commit 0c6998bb110a06cc739c3f0657e403aaaf0dc0ab
Author: pierre <pierre@freepascal.org>
Date:   Sun Jul 19 21:21:18 2020 +0000

    Try to fix mipsel-android by making sure P does not point to a freed instruction
    
    git-svn-id: trunk@45812 -

M	compiler/mips/aoptcpu.pas

******************************************************************************
commit 09125e834f81eda0f3cd6aa45d51e1bfb4401ba5
Author: florian <florian@freepascal.org>
Date:   Sun Jul 19 20:50:13 2020 +0000

      + patch by J. Gareth Moreton: SHL-centric peephole optimisations, resolves #37389
    
    git-svn-id: trunk@45811 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d6d92e366675c7d73713b66966af423cd46fdc87
Author: florian <florian@freepascal.org>
Date:   Sun Jul 19 19:54:22 2020 +0000

      * revert part of r44879: flock must use kernel_off_t: off_t breaks e.g. i386
    
    git-svn-id: trunk@45810 -

M	compiler/symdef.pas
M	compiler/symsym.pas
M	rtl/linux/ostypes.inc

******************************************************************************
commit 043c3df292fbea7a70d7c86d70811dbbf00b1bc3
Author: florian <florian@freepascal.org>
Date:   Sat Jul 18 18:32:17 2020 +0000

      * properly handle boolean64 xor boolean64 on i386
    
    git-svn-id: trunk@45804 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 59331c3d3cb4cbe05ecd209ca2c221e598f842da
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jul 17 20:57:24 2020 +0000

      * enable putting records that contain a single field into records on all
        targets (patch by J. Gareth Moreton, mantis #37343)
    
    git-svn-id: trunk@45801 -

M	compiler/optcse.pas
M	compiler/symsym.pas

******************************************************************************
commit 3e9e0a0f7db475f96238ed76722ff083d470ec0a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jul 17 20:57:20 2020 +0000

      * completely disable records containing float fields in registers again, as
        the code generator does not support subsetreg loads of floats
    
    git-svn-id: trunk@45800 -

M	compiler/symdef.pas

******************************************************************************
commit db250b04e05e775542e030bbf3c1fffdd616671c
Author: florian <florian@freepascal.org>
Date:   Fri Jul 17 16:45:52 2020 +0000

      * generate soft float code for arm vfp units which have no double operation support
    
    git-svn-id: trunk@45799 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit bb6d4929d88b68fae8f0eab3c43291aa34badeaf
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 17 15:27:27 2020 +0000

       * Handle R_SUBMMWHOLE in reg_cgsize for R_MMREGISTER type
       * Disable range and overflow checking inside is_continuous_mask function.
    
    git-svn-id: trunk@45798 -

M	compiler/arm/cpubase.pas

******************************************************************************
commit dfdfbf896da044c1e175bb194ae79b189032cfe1
Author: pierre <pierre@freepascal.org>
Date:   Wed Jul 15 08:59:59 2020 +0000

     Fix several warnings about uninitialized local variables
    
    git-svn-id: trunk@45787 -

M	compiler/ogrel.pas
M	compiler/z80/aasmcpu.pas
M	compiler/z80/cgcpu.pas

******************************************************************************
commit 0e9fc31dd7c0a55227f1b360acf1b851d5d9ef3d
Author: pierre <pierre@freepascal.org>
Date:   Wed Jul 15 08:34:18 2020 +0000

     Also check that HP1 is a jump instruction with more than one operand to exit early
    
    git-svn-id: trunk@45786 -

M	compiler/aoptobj.pas

******************************************************************************
commit 13afd5c6c75487336b6ecef0a62cf0220f5e015b
Author: pierre <pierre@freepascal.org>
Date:   Wed Jul 15 08:16:53 2020 +0000

     Do not set value of stoploop to avoid infinite loop
    
    git-svn-id: trunk@45785 -

M	compiler/aoptobj.pas

******************************************************************************
commit 7337515137f87d3ce7e35622250a4d68e2aa37cc
Author: florian <florian@freepascal.org>
Date:   Tue Jul 14 20:34:58 2020 +0000

      + patch by Christo Crause: ESP8266 controller unit for freertos, resolves #37336
    
    git-svn-id: trunk@45784 -

M	.gitattributes
A	rtl/freertos/xtensa/esp8266.pp

******************************************************************************
commit 02fd6f6e54e5e947b20a87591708439e92f1c587
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 14 06:00:23 2020 +0000

      * tcg.a_load_cgparaloc_ref: Always enable SHR instruction for mips/mipsel CPUs
        This is normally only used on big-endian targets, to re-convert records
        of size < OS_INT into values fitting inside the byte size of the record,
        after it was left-shifted to comply with ABI stipulating it but be
        writable as a full-size register into a OS_INT size memory.
    
    git-svn-id: trunk@45783 -

M	compiler/cgobj.pas

******************************************************************************
commit cca536a86a82719d2ffabe7ed1e54c16c92162e6
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 14 05:52:54 2020 +0000

      * TAOptObj.MakeUnconditional: Set as internal error for MIPS cpu:
         MIPS conditional instructions conntain the
         computation of the condition itself, so
         changing the instruction to unconditional
         should never be done.
      * TAOptObj.OptimizeConditionalJump: Return false early if
        the conditional instruction has more than one operand.
    
    git-svn-id: trunk@45782 -

M	compiler/aoptobj.pas

******************************************************************************
commit 8cf26b7a0fd84602757dd7e2bd0dc788f6ed3c4b
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 13 14:40:09 2020 +0000

     Fix conversion between TFPURoundMode and bits of get_fsr according to SPARC-V8 specifications
    
    git-svn-id: trunk@45781 -

M	rtl/sparc/mathu.inc
M	rtl/sparc64/mathu.inc

******************************************************************************
commit 7020490f81b308c24d88dadcdcd21faccee544bd
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 13 14:13:13 2020 +0000

     Put floating point type as first variant of floatXX definitions, to ensure correct alignment
    
    git-svn-id: trunk@45780 -

M	rtl/inc/softfpu.pp

******************************************************************************
commit 834dbf5f802a9a71982749f0c58a65c08da5074e
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 13 13:18:32 2020 +0000

     Also use union with double field to ensure correct alignment for float64 type from genmath.inc source
    
    git-svn-id: trunk@45779 -

M	rtl/inc/genmath.inc

******************************************************************************
commit ac5407268cf8b160aaa714668dba7e2986c695b2
Author: florian <florian@freepascal.org>
Date:   Sun Jul 12 20:46:54 2020 +0000

    * regenerated
    
    git-svn-id: trunk@45778 -

M	compiler/x86/x86mmfirst.inc
M	compiler/x86/x86mmsecond.inc
M	compiler/x86/x86mmtype.inc
M	rtl/i386/cpummprocs.inc
M	rtl/x86_64/cpumminnr.inc
M	rtl/x86_64/cpummprocs.inc

******************************************************************************
commit 166ccc49a108d29c967d0d8e91e5f4e435507b86
Author: florian <florian@freepascal.org>
Date:   Sun Jul 12 20:46:53 2020 +0000

    * scalar operations should take single/double values and not full registers
    
    git-svn-id: trunk@45777 -

M	compiler/x86/x86intr.dat

******************************************************************************
commit 0cb21e83386d432ccaf8a98d56f72258906d1b51
Author: florian <florian@freepascal.org>
Date:   Sat Jul 11 20:31:00 2020 +0000

      + test for last commit
    
    git-svn-id: trunk@45773 -

M	.gitattributes
A	tests/webtbf/tw37303.pp

******************************************************************************
commit fb23834367314528567e4bae71f0299a6ae31c1e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 11 09:51:28 2020 +0000

      * regenerated Makefiles again
    
    git-svn-id: trunk@45766 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 350d2d92f991538432c0b980efff1c04a2c02a2e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jul 10 22:08:30 2020 +0000

      * regenerated Makesfiles
    
    git-svn-id: trunk@45762 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 78e88f4b77d0bae3cc08ba25f75c62b70cf08031
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jul 10 22:02:30 2020 +0000

      * regenerated
    
    git-svn-id: trunk@45761 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 87bf6a4b5680796d37efd0d6779cbd4ffdfbfdb6
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 10 14:15:22 2020 +0000

     Do not use .hidden for systems_wince, as is done for systems_windows
    
    git-svn-id: trunk@45756 -

M	compiler/aggas.pas

******************************************************************************
commit 39f3a72c625daaf370453334f069b170bb7e3d5d
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 10 09:43:15 2020 +0000

    tarmunaryminusnode.pass_1 must call inherited method for system_arm_wince
    
    git-svn-id: trunk@45755 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit a62534d11f455e37605a3796f131c4c036b60cf3
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 10 09:38:27 2020 +0000

     Add z80 to PPC_TARGETS to reove ppcz80 on clean
    
    git-svn-id: trunk@45754 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 7fc94000c4f69d058d50f45eac1640f7f893a8b7
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 10 06:50:10 2020 +0000

     Disable all utils for zxspectrum and msxdos
    
    git-svn-id: trunk@45753 -

M	utils/fpmake.pp

******************************************************************************
commit e67236eb969dd5d0e7ef0f6d859de16e3c69e276
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 10 06:48:49 2020 +0000

     Disable bzip2 package for msxdos (Data element tool large error)
    
    git-svn-id: trunk@45752 -

M	packages/bzip2/fpmake.pp

******************************************************************************
commit 96ac7f29f7ccf21a55fe34dd90b511076b6f706e
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 9 22:51:42 2020 +0000

     Only try to use softfpu functions when fputype is fpu_soft
    
    git-svn-id: trunk@45751 -

M	compiler/arm/narmcnv.pas

******************************************************************************
commit cb41b22fdc575e248db3ef960ad4efd449fda102
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 9 22:50:34 2020 +0000

     Try to fix tarmunaryminusnode.pass_1
    
    git-svn-id: trunk@45750 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit 91149df87f25d472ee905860129da887fde63f5d
Author: florian <florian@freepascal.org>
Date:   Thu Jul 9 20:34:32 2020 +0000

      * patch by Christo Crause: fix volatile registers for call0 abi, resolves #37317
    
    git-svn-id: trunk@45749 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit 59379ab02b290b3dbd6ab457a68db0a0b099d125
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 9 09:54:46 2020 +0000

    Add softfpu feature for z80 cpu
    
    git-svn-id: trunk@45747 -

M	rtl/embedded/system.cfg

******************************************************************************
commit 792eafadef3b817d59d64706b32906f5b33d2ec8
Author: florian <florian@freepascal.org>
Date:   Wed Jul 8 19:45:55 2020 +0000

      * properly calc new src register for OP_XOR
    
    git-svn-id: trunk@45743 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit ed9f39032056bdcb7c1701f4055fb4d2615d8d87
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 7 23:05:43 2020 +0000

     Fix ShowHistory, by avoiding ordering by TR_ID which is not monotoneous anymore
    
    git-svn-id: trunk@45741 -

M	tests/utils/testsuite/utests.pp

******************************************************************************
commit d9d231c87534ecf76b51ee362f8ceb1509a62e19
Author: florian <florian@freepascal.org>
Date:   Tue Jul 7 20:56:19 2020 +0000

      * AAarch64: handle initializations of vector registers with zero properly
    
    git-svn-id: trunk@45740 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit f65f1bd80299a486ea1d396ac25b9381ab6fffdb
Author: florian <florian@freepascal.org>
Date:   Tue Jul 7 20:22:00 2020 +0000

      * fix test to check result properly as pointed out by Bi0T1N in the bug tracker
    
    git-svn-id: trunk@45739 -

M	tests/webtbs/tw37301.pp

******************************************************************************
commit 3655c469825be8d1b8bd81810001049aa0e28771
Author: florian <florian@freepascal.org>
Date:   Mon Jul 6 19:46:19 2020 +0000

      * clean up
    
    git-svn-id: trunk@45735 -

M	compiler/utils/mkarmins.pp

******************************************************************************
commit ec3fe2f99029fcedf165d41049d038a75f8382f8
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 6 13:50:10 2020 +0000

     Fix overflow when value is high(int64) in OptPass1And method
    
    git-svn-id: trunk@45734 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 3caacc529a4b00dacfcf3b75a0ec32305ca79ff1
Author: florian <florian@freepascal.org>
Date:   Sun Jul 5 09:19:14 2020 +0000

      * fix abs() intrinsic optimisation, resolves #37301
    
    git-svn-id: trunk@45732 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw37301.pp

******************************************************************************
commit 5ad02a3799684c950e71879877469b1f1021de1a
Author: florian <florian@freepascal.org>
Date:   Sat Jul 4 21:18:13 2020 +0000

      + Xtensa: more cpu capabilites
      + Xtensa: set cpu for xtensa-linux as call window support is required
    
    git-svn-id: trunk@45731 -

M	compiler/options.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 58dcbab10e05674baaf11635fffaa8fa5b4c45a3
Author: florian <florian@freepascal.org>
Date:   Sat Jul 4 15:03:21 2020 +0000

      * (modified) patch by Michael Ring from the mailing list to fix linking for arm-freertos
    
    git-svn-id: trunk@45730 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 9142ad8950d2e2db6b115cd43b7a9471f1ef227b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Jul 4 06:14:40 2020 +0000

    bump ppudump copyright year
    
    git-svn-id: trunk@45729 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit e73dd883cd4f1efe93cebef228c9b2119b1edf4b
Author: florian <florian@freepascal.org>
Date:   Fri Jul 3 21:12:07 2020 +0000

    + handle OS_128 in mm code
    
    git-svn-id: trunk@45728 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit b72419e2a517b6f89fcfa7dcc9506533b30745c7
Author: florian <florian@freepascal.org>
Date:   Fri Jul 3 21:12:06 2020 +0000

    * regenerated
    
    git-svn-id: trunk@45727 -

M	compiler/Makefile

******************************************************************************
commit 72f6752b1cb6920c6483abe4705252f2eb51275e
Author: florian <florian@freepascal.org>
Date:   Fri Jul 3 21:12:06 2020 +0000

    + add intrdat target
    
    git-svn-id: trunk@45726 -

M	compiler/Makefile.fpc

******************************************************************************
commit 965964d07c0ba60f9e13c5ce1ec577be698d65c2
Author: florian <florian@freepascal.org>
Date:   Fri Jul 3 21:12:05 2020 +0000

    * fix compilation with newer FPC
    
    git-svn-id: trunk@45725 -

M	compiler/utils/mkx86inl.pp

******************************************************************************
commit b7ef93030aa9484a8f1e34196ee1e314bc069817
Author: florian <florian@freepascal.org>
Date:   Thu Jul 2 21:14:43 2020 +0000

      * set mm register subreg properly when cleaning them with xor
    
    git-svn-id: trunk@45721 -

M	compiler/hlcgobj.pas

******************************************************************************
commit f71415a2de5c943fa88eaa51103bc4a2e2ffdf16
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 2 16:06:01 2020 +0000

     Extend ait_ua_elf_const2str to all aitconst_XXX to fix mips/mipsel RTTI generation
    
    git-svn-id: trunk@45719 -

M	compiler/aggas.pas

******************************************************************************
commit 8f91920c9bec7eeea70b2557a3b417aa8d90b58a
Author: florian <florian@freepascal.org>
Date:   Wed Jul 1 20:45:58 2020 +0000

      * use the fpu on suitable x86 targets to copy extended values
    
    git-svn-id: trunk@45718 -

M	compiler/ncgld.pas

******************************************************************************
commit ff295bf3498bb353abaf168a8834a80c33e8268f
Author: florian <florian@freepascal.org>
Date:   Tue Jun 30 20:36:51 2020 +0000

      * delay setting of pd_body and pd_implement till the header of a generic
        procedure is parsed, resolves #37261
    
    git-svn-id: trunk@45717 -

M	.gitattributes
M	compiler/pgenutil.pas
A	tests/webtbs/tw37261.pp

******************************************************************************
commit d41f4c7c4e806156ffbec259a83016fdd598e58e
Author: florian <florian@freepascal.org>
Date:   Mon Jun 29 20:36:54 2020 +0000

      * correctly handle sign/zero extensions for optimization "var3", resolves #37254
    
    git-svn-id: trunk@45713 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw37254.pp

******************************************************************************
commit cab80d121874b3e5ae2a4a7ccb04f2b873284e79
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jun 28 22:23:36 2020 +0000

    amiga-likes: add headers for timer.device/GetSysTime()
    
    git-svn-id: trunk@45712 -

M	.gitattributes
A	rtl/amiga/m68k/timerf.inc
A	rtl/amiga/powerpc/timerf.inc
A	rtl/aros/timerf.inc

******************************************************************************
commit df42716665d467eace97490e4e27a8f927388fe1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jun 28 22:05:05 2020 +0000

    m68k-amiga: added four new exec legacy support functions, these exec calls will be used in some DOS and AThreads rework
    
    git-svn-id: trunk@45711 -

M	rtl/amiga/m68k/legacyexec.inc
M	rtl/amiga/m68k/legacyexech.inc

******************************************************************************
commit c29a0d029b5c22e27b14b4a5f59c9c389d7854bb
Author: florian <florian@freepascal.org>
Date:   Sun Jun 28 20:33:10 2020 +0000

      * reverted some stuff accidently committed in r45704
    
    git-svn-id: trunk@45710 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit eaa2a2006c6c6ad4502c71dfe3f7746b2237589e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 27 22:33:31 2020 +0000

    * fix for Mantis #37272: also allow the empty set for dynamic array parameters; Delphi probably started to allow that together with array constructors.
    + added tests
    
    git-svn-id: trunk@45706 -

M	.gitattributes
M	compiler/defcmp.pas
M	compiler/ncnv.pas
A	tests/webtbf/tw37272b.pp
A	tests/webtbs/tw37272a.pp

******************************************************************************
commit 4bacec0ee36e3f999ed33047be4136fc65aacdf2
Author: florian <florian@freepascal.org>
Date:   Sat Jun 27 19:59:27 2020 +0000

      * building for arm fixed
    
    git-svn-id: trunk@45704 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 225b06e84a29cab4fa183ec914291ecfb74ddd4d
Author: florian <florian@freepascal.org>
Date:   Fri Jun 26 20:16:44 2020 +0000

      * Xtensa: patch by Christo Crause: add IDF_PATH variable, read from the appropriate environment variable, part of #37242
    
    git-svn-id: trunk@45698 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit d62d6af7ec5a5103b53b0430ea07952e36700e8b
Author: florian <florian@freepascal.org>
Date:   Thu Jun 25 20:50:43 2020 +0000

      * Xtensa: patch by Christo Crause: fix controller date for esp8266, part of #37242
    
    git-svn-id: trunk@45696 -

M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit d401639b24ba6635c3dd05718459557c216b7b27
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Jun 25 20:42:47 2020 +0000

    * fix for Mantis #37251: apply patches by Bi0T1N to implement the IsConstValue() intrinsic
    + added tests
    
    git-svn-id: trunk@45695 -

M	.gitattributes
M	compiler/compinnr.pas
M	compiler/ninl.pas
M	compiler/pexpr.pas
M	compiler/psystem.pas
A	tests/test/tisconstvalue1.pp
A	tests/test/tisconstvalue2.pp
A	tests/test/tisconstvalue3.pp
A	tests/test/tisconstvalue4.pp

******************************************************************************
commit d22e24937a30273c189fc6f01406e6c82ffc44a4
Author: florian <florian@freepascal.org>
Date:   Wed Jun 24 20:30:28 2020 +0000

      + Xtensa: patch by Christo Crause: support subarch lx106 in freertos Makefile, part of #37242
    
    git-svn-id: trunk@45691 -

M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc

******************************************************************************
commit caee96399eec1c792b1168b222b809d2b424fb57
Author: florian <florian@freepascal.org>
Date:   Tue Jun 23 20:46:40 2020 +0000

      * patch by Christo Crause: support call0 abi in entry/exit code, part of #37242
    
    git-svn-id: trunk@45685 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit cba109c55d10bf8f95b8cdd88782f109c6e1e7ba
Author: florian <florian@freepascal.org>
Date:   Tue Jun 23 20:44:54 2020 +0000

      + Xtensa: patch by Christo Crause: support call0 abi in init final code part of #37242
    
    git-svn-id: trunk@45684 -

M	compiler/xtensa/ncpuutil.pas

******************************************************************************
commit f94518a9aefd1cd9511a9816cc842e838c7d4266
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Jun 22 20:39:55 2020 +0000

    * fix typo (no code changes)
    
    git-svn-id: trunk@45680 -

M	compiler/symdef.pas

******************************************************************************
commit cb11e2568d5afb2616e29fda4fe6cb2634c1ab40
Author: florian <florian@freepascal.org>
Date:   Mon Jun 22 19:05:13 2020 +0000

      + Xtensa: patch by Christo Crause to add optional MAC16 registers, resolves #37130
    
    git-svn-id: trunk@45679 -

M	.gitattributes
M	compiler/cgbase.pas
M	compiler/x86/aasmcpu.pas
M	compiler/xtensa/rxtensacon.inc
M	compiler/xtensa/rxtensadwa.inc
M	compiler/xtensa/rxtensanor.inc
M	compiler/xtensa/rxtensanum.inc
M	compiler/xtensa/rxtensarni.inc
M	compiler/xtensa/rxtensasri.inc
M	compiler/xtensa/rxtensasta.inc
M	compiler/xtensa/rxtensastd.inc
M	compiler/xtensa/rxtensasup.inc
M	compiler/xtensa/xtensareg.dat
A	tests/webtbs/tw37130.pp

******************************************************************************
commit e41912b07644864a3a685ac339de2085d252706e
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 22 14:13:54 2020 +0000

    * limit the ZX Spectrum programs address space up to $FDFC, because the RTL now
      installs an interrupt handler at $FDFD
    
    git-svn-id: trunk@45678 -

M	compiler/ogrel.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 1ae70c68258dc9c4c85650adea494c8aecb2a3c3
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 22 14:00:33 2020 +0000

    * switch to interrupt mode 2 and install a custom maskable interrupt handler in
      the ZX Spectrum startup code, because the ROM handler requires the IY register
      to always have a specific value, but the FPC code generator uses the IY
      register for various purposes, which causes random crashes and glitches when
      the timer interrupt occurs.
    
    git-svn-id: trunk@45677 -

M	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit e63c03125a8b066638cec8593d96eb8eb38ed3d9
Author: yury <jura@cp-lab.com>
Date:   Sun Jun 21 19:52:14 2020 +0000

    * Reworked tprocdef.is_implemented to fix a bug with the parentfp optimization. The bug was detected when using the llvm backend.
    + Added a test.
    
    git-svn-id: trunk@45675 -

M	.gitattributes
M	compiler/ncal.pas
M	compiler/psub.pas
M	compiler/symdef.pas
A	tests/test/tnest4.pp

******************************************************************************
commit 221d8d84aeeea1c61d689aadc1a13017b9cb5af2
Author: florian <florian@freepascal.org>
Date:   Sun Jun 21 19:16:27 2020 +0000

      * Xtensa: MatchInstruction requires a postfix parameter
    
    git-svn-id: trunk@45674 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit a7c0fa0deffdb9341c31c45bd3f1918faa42bab5
Author: florian <florian@freepascal.org>
Date:   Sun Jun 21 14:51:40 2020 +0000

      o patch for Xtensa by Christo Crause, resolves #37099
        + Added postfix parsing in tattreader.GetToken
        - Removed all postfixed versions of OpCodes from the instruction list
        + Added all missing OpCodes from Xtensa ISA
        * Changed branch OpCode to A_B, similar to ARM
        + Added missing branch condition flags BCI and BSI
        * Updated existing compiler code that referred to the old postfixed instructions
        + Added prefix and postfix handling in TxtensaInstrWriter.WriteInstruction
        * Updated TCPUAddNode.second_addfloat to specify .S postfix
        * Updated tcpuunaryminusnode.second_float to specify .S postfix
        + Implemented prefix and postfix identification in txtensaattreader.is_asmopcode
        * Adapted branch condition extraction to respect postfixes
        * Changed itcpugas to call findreg_by_name_table from raatt.pas (same as issue #0037121, difficult to test these changes without including a fix for the register name search problem)
    
    git-svn-id: trunk@45672 -

M	.gitattributes
M	compiler/raatt.pas
M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/aoptcpub.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpumat.pas
M	compiler/xtensa/racpugas.pas
M	compiler/xtensa/raxtensa.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc
A	tests/webtbs/tw37099.pp

******************************************************************************
commit cc7b6d0b05fd4871c2ba9909d6aac59a74837800
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 21 12:26:55 2020 +0000

      * regenerated message files
    
    git-svn-id: trunk@45671 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit a423bf64027c49e48d69cb365831a7ec15bd628b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 21 12:26:52 2020 +0000

      * fix -Agas-darwin to say Aas-darwin for x86-64, and also add it for i386
        (mantis #37230)
    
    git-svn-id: trunk@45670 -

M	compiler/msg/errore.msg

******************************************************************************
commit 27943baa2f65cb749ff9d0be8c37b4298abc1c60
Author: nickysn <nickysn@gmail.com>
Date:   Sat Jun 20 23:30:50 2020 +0000

    + support z80 in the fpc launcher utility
    
    git-svn-id: trunk@45669 -

M	compiler/utils/fpc.pp

******************************************************************************
commit 78698beaadba891b06eb4e32534e95b6fcd08c91
Author: florian <florian@freepascal.org>
Date:   Sat Jun 20 20:22:21 2020 +0000

      * compilation fixed
    
    git-svn-id: trunk@45668 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 4e1e35aef550f6a05f9307b0d39346f39e3eceee
Author: yury <jura@cp-lab.com>
Date:   Sat Jun 20 18:47:42 2020 +0000

    * Added optimization option cs_opt_unused_para. It is enabled for -O2 and higher. The parentfp optimization is tied to cs_opt_unused_para.
    
    git-svn-id: trunk@45666 -

M	compiler/globtype.pas
M	compiler/paramgr.pas

******************************************************************************
commit 7bffafdf8b0adf60492709c939e24c73a0de0139
Author: yury <jura@cp-lab.com>
Date:   Sat Jun 20 18:34:26 2020 +0000

    * Improved the parentfp optimization to properly handle cases when a nested routine calls other nested routines.
    
    git-svn-id: trunk@45665 -

M	compiler/ncal.pas
M	compiler/ncgcal.pas
M	compiler/nld.pas
M	compiler/nmem.pas
M	compiler/paramgr.pas
M	compiler/procinfo.pas

******************************************************************************
commit c15b6f4516adb7c8e524adc70d7adfd1c1682bc6
Author: yury <jura@cp-lab.com>
Date:   Sat Jun 20 18:28:07 2020 +0000

    * Fixed the parentfp optimization for some cases when nested procvars are used.
    
    git-svn-id: trunk@45664 -

M	.gitattributes
M	compiler/nld.pas
A	tests/test/tnest3.pp

******************************************************************************
commit cc23515927ef60eb3675a5626802cefbce0d7d2b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Jun 20 16:51:15 2020 +0000

    z80: vasm doesn't support the JRJP pseudo instruction, so change it to JP during write
    
    git-svn-id: trunk@45663 -

M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 11fd466394d945f20de98d013acb95b8603437c2
Author: yury <jura@cp-lab.com>
Date:   Sat Jun 20 11:14:43 2020 +0000

    * Optimize parentfp when optimization level 1 and higher to be debugger friendly.
    
    git-svn-id: trunk@45661 -

M	compiler/ncgcal.pas

******************************************************************************
commit a2303bd89994f2997949a6f5e4a6043604cbaa98
Author: florian <florian@freepascal.org>
Date:   Fri Jun 19 19:55:14 2020 +0000

      * fixed copy&paste error of r45658
    
    git-svn-id: trunk@45659 -

M	compiler/ncgutil.pas

******************************************************************************
commit 2e36783d0e4fd89fecdf84623a1dddf32e491109
Author: florian <florian@freepascal.org>
Date:   Thu Jun 18 20:32:55 2020 +0000

      * better check for short boolean evaluation in firstcomplex
    
    git-svn-id: trunk@45658 -

M	compiler/ncgutil.pas

******************************************************************************
commit 8738b4b47f3868d3c795f94743aebe743a1ea49d
Author: florian <florian@freepascal.org>
Date:   Wed Jun 17 20:33:04 2020 +0000

      + might_have_sideeffects checks also if the tempinitcode of a tempref node might have side effects
    
    git-svn-id: trunk@45656 -

M	compiler/nutils.pas

******************************************************************************
commit 62c417c8bfd8a82909eea05dc63c52661b545e67
Author: florian <florian@freepascal.org>
Date:   Mon Jun 15 19:57:39 2020 +0000

      * temporarily fix #37034 by disabling the problematic optimization until the real cause is fixed
    
    git-svn-id: trunk@45655 -

M	.gitattributes
M	compiler/nbas.pas
A	tests/webtbs/tw37034.pp

******************************************************************************
commit c6c996f506797b54228c248a3784265582a4975d
Author: florian <florian@freepascal.org>
Date:   Mon Jun 15 19:50:49 2020 +0000

      * write length/code page when writing the string type
    
    git-svn-id: trunk@45654 -

M	compiler/symdef.pas

******************************************************************************
commit b3817f6d9275f887b48fb10db3400ec2c3a686fc
Author: florian <florian@freepascal.org>
Date:   Sun Jun 14 14:56:48 2020 +0000

      * slash and divn might have an exception as side effect
    
    git-svn-id: trunk@45652 -

M	compiler/nutils.pas

******************************************************************************
commit 33094d263fdfc7c0aba42e6bb9c48d349831207a
Author: florian <florian@freepascal.org>
Date:   Sun Jun 14 14:16:49 2020 +0000

      * Aarch: handle 0 in AndAnd2And and check if the resulting constant
        is really a shifter constant, resolves #37203
    
    git-svn-id: trunk@45651 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit febeef03e4830cc4ecfcda0a5236e6f6b86d483b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 13 18:42:31 2020 +0000

    * for adding procdefs to forwarddefs check for the specialization flag instead of whether it's a full specialization; fixes implicit finalization handlers on x86_64-win64 not being found
    + added tests
    
    git-svn-id: trunk@45646 -

M	.gitattributes
M	compiler/pparautl.pas
A	tests/tbs/tb0673.pp
A	tests/tbs/tb0674.pp
A	tests/tbs/ub0674.pp

******************************************************************************
commit c45c543faaef72817b1e1d9ddc7e774f599b9835
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 13 18:42:21 2020 +0000

    * fix typo (no code changes)
    
    git-svn-id: trunk@45644 -

M	compiler/psub.pas

******************************************************************************
commit 4ec76072b4e4a02cb94cbe38363c12014181d9a9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 13 09:36:18 2020 +0000

    * ensure that the BSS section for MSX-DOS is correctly initialized to 0
    
    git-svn-id: trunk@45642 -

M	compiler/systems/t_msxdos.pas
M	rtl/msxdos/si_prc.pp

******************************************************************************
commit 58eca57feb4528a423fe0406ba0bb4c838c230cb
Author: florian <florian@freepascal.org>
Date:   Fri Jun 12 20:50:45 2020 +0000

      * patch by Christo Crause: embedded heap manager: free small blocks, resolves #37204
    
    git-svn-id: trunk@45641 -

M	rtl/embedded/heapmgr.pp

******************************************************************************
commit b2ed667a86f9a978c6d2eb6dae48e3f1932a86f8
Author: florian <florian@freepascal.org>
Date:   Thu Jun 11 17:19:56 2020 +0000

      * swap fpu stack correctly when moving data into xmm registers
    
    git-svn-id: trunk@45637 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 20f6514d9749d3e3a2323be70188df6eba2858f6
Author: florian <florian@freepascal.org>
Date:   Wed Jun 10 21:05:18 2020 +0000

      * fix compilation for non 64 Bit targets
    
    git-svn-id: trunk@45636 -

M	rtl/inc/text.inc

******************************************************************************
commit 6698f6c56b76c60476a15f20a4135dc8ca030acd
Author: florian <florian@freepascal.org>
Date:   Wed Jun 10 18:53:06 2020 +0000

      * patch by Christo Crause: FreeRTOS: heap manager doesn't free small blocks, resolves #37195
    
    git-svn-id: trunk@45633 -

M	rtl/freertos/heapmgr.pp

******************************************************************************
commit 5f118da6001068537b38bfcdab33319d1a0243a4
Author: florian <florian@freepascal.org>
Date:   Tue Jun 9 20:50:47 2020 +0000

      * optimize a/a and a-a if fast math is on
    
    git-svn-id: trunk@45630 -

M	compiler/nadd.pas

******************************************************************************
commit aafc22bd74cf83c82037e51a1699abb3517cd9f6
Author: florian <florian@freepascal.org>
Date:   Mon Jun 8 20:33:27 2020 +0000

      + optimize real operations with 0 and 1 if fast math is turned on
    
    git-svn-id: trunk@45627 -

M	compiler/nadd.pas
M	tests/webtbs/tw3160a.pp

******************************************************************************
commit de08108b27a2df1bcc945ece1b86292d90874c1d
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 23:28:03 2020 +0000

    + clear the .bss section on startup in the ZX Spectrum RTL
    
    git-svn-id: trunk@45624 -

M	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit 4a78b7e0730278224eb7204c5e94ee557a484e4d
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 23:22:57 2020 +0000

    * fixed stack initialization in the ZX Spectrum startup code
    
    git-svn-id: trunk@45623 -

M	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit 5816a4a9403df29aa77a5ed54e02d4dcde5651d9
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 23:21:42 2020 +0000

    * fixed a bug in the Z80 internal linker when reading symbol offsets from .rel files
    
    git-svn-id: trunk@45622 -

M	compiler/ogrel.pas

******************************************************************************
commit a0e2cd36382e3ad061e54cf9a32804b729e527ba
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 23:07:39 2020 +0000

    * use qword instead of aword for bsssize to avoid 8-bit truncation on Z80
    
    git-svn-id: trunk@45621 -

M	compiler/link.pas

******************************************************************************
commit 47ba80a54525b5ef8662f28282e4ccd73fc7d698
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 23:05:13 2020 +0000

    * the len parameter of TObjData.writebytes changed to TObjSectionOfs to avoid 8-bit truncation on Z80
    
    git-svn-id: trunk@45620 -

M	compiler/ogbase.pas

******************************************************************************
commit dfa736bdcaaa5e466bdf59563601ae2cfae6345c
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 22:17:47 2020 +0000

    + add the _BSSEND section after the _BSS section
    
    git-svn-id: trunk@45619 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 09bd361b484806a5d45865a963d3579b1133e787
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 22:17:10 2020 +0000

    + support the OFFSET directive in the Z80 inline assembler reader
    
    git-svn-id: trunk@45618 -

M	compiler/z80/raz80asm.pas

******************************************************************************
commit c90f78488c5c590a17d05c3880dba5077263c207
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 20:47:37 2020 +0000

    + added the 'AREA' directive support to the Z80 inline assembler, that allows
      you to define custom sections
    
    git-svn-id: trunk@45617 -

M	compiler/ogrel.pas
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas
M	compiler/z80/raz80asm.pas

******************************************************************************
commit 3c9a5ff75846720cdf50f539de81771f20cc1c82
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 20:46:37 2020 +0000

    * update revision.inc
    
    git-svn-id: trunk@45616 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 9710b2cbb406c6fe6bfb66b88fe72906038056d7
Author: florian <florian@freepascal.org>
Date:   Sun Jun 7 20:04:17 2020 +0000

      + some basic stuff for mips64el
    
    git-svn-id: trunk@45614 -

M	.gitattributes
M	compiler/fpcdefs.inc
M	compiler/mips/cgcpu.pas
A	compiler/ppcmips64el.lpi
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit eb6f503badb9d8f5475ad81f1146466090c98b09
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 7 19:09:08 2020 +0000

    * fix O_LARGEFILE for Aarch64, RISC-V 32-bit and RISC-V 64-bit
    
    git-svn-id: trunk@45613 -

M	rtl/linux/ostypes.inc

******************************************************************************
commit d1cb341cfacd61705fe3a2b9e098243faeac85a2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 7 18:22:26 2020 +0000

    * include the Z80 specific intrinsic values
    
    git-svn-id: trunk@45612 -

M	compiler/compinnr.pas

******************************************************************************
commit 95f94bebba8f42a318f10cb342975fded7df8961
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 7 12:25:15 2020 +0000

    * forgot to commit the generated Makefile
    
    git-svn-id: trunk@45609 -

M	.gitattributes
A	rtl/msxdos/Makefile

******************************************************************************
commit ac5093274d32b75bce4cd955862a1a5ea52d3056
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 7 12:25:10 2020 +0000

    + add support for port object on Z80 using the new IN/OUT intrinsics
    
    git-svn-id: trunk@45608 -

M	.gitattributes
M	rtl/msxdos/system.pp
A	rtl/z80/ports.inc
A	rtl/z80/portsh.inc

******************************************************************************
commit c793f4227167b5f2bdb8e27396ae58ff2bad2f70
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 7 12:24:59 2020 +0000

    + add intrinsics for Z80 port IN/OUT
    
    git-svn-id: trunk@45607 -

M	.gitattributes
A	compiler/z80/ccpuinnr.inc
M	compiler/z80/cpunode.pas
A	compiler/z80/nz80inl.pas
M	rtl/z80/cpuh.inc
A	rtl/z80/cpuinnr.inc

******************************************************************************
commit 5678baf887022814ae9a72578adc06654131d9a1
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 04:12:09 2020 +0000

    * update revision.inc
    
    git-svn-id: trunk@45606 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 5f67d830e74a409b9b17d52c7005cb15472342ef
Author: florian <florian@freepascal.org>
Date:   Sat Jun 6 19:21:04 2020 +0000

      * better rules if a 3 op mul operation is tried
    
    git-svn-id: trunk@45605 -

M	compiler/x86/cgx86.pas
M	compiler/x86/nx86add.pas

******************************************************************************
commit 2c053b4f9c15d0cb14be6bf39c5c5aa1143c2a7e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 18:28:44 2020 +0000

    * regenerate msg{txt,idx}.inc after adding MSX-DOS to help text
    
    git-svn-id: trunk@45604 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 3d4ad5b69487e66a162ce2844350f0e57c05470b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 18:28:39 2020 +0000

    + add MSX-DOS to help text for -T
    
    git-svn-id: trunk@45603 -

M	compiler/msg/errore.msg

******************************************************************************
commit 85149ab9a4c96bfe1b9f1defe7fee3b4b6a2c1da
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 18:20:40 2020 +0000

    * change exe extension for MSX-DOS from exe to com
    
    git-svn-id: trunk@45602 -

M	compiler/systems/i_msxdos.pas

******************************************************************************
commit b3ddd4e7863b16b0ce22c239f298f418afa20cac
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:18:48 2020 +0000

    * regenerate Makefiles
    
    git-svn-id: trunk@45601 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit ac8552afc2697be02cc955d42bf0f62ee2ea3a3a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:45 2020 +0000

    + add initial RTL for MSX DOS. Simple programs are already working, but there are apparantly some code generation problems that lead to I/O as well as parameters not working correctly
    
    git-svn-id: trunk@45600 -

M	.gitattributes
M	rtl/Makefile.fpc
A	rtl/msxdos/Makefile.fpc
A	rtl/msxdos/registers.inc
A	rtl/msxdos/rtldefs.inc
A	rtl/msxdos/si_prc.pp
A	rtl/msxdos/sysdir.inc
A	rtl/msxdos/sysfile.inc
A	rtl/msxdos/sysheap.inc
A	rtl/msxdos/sysos.inc
A	rtl/msxdos/sysosh.inc
A	rtl/msxdos/system.pp

******************************************************************************
commit e2d8f7b68fc4ee2c687c2e16497660aeda0f6418
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:35 2020 +0000

    * allow executable/library name to be changed for an intermediate file
    
    git-svn-id: trunk@45599 -

M	compiler/link.pas

******************************************************************************
commit 4cc739899847f1591973d417a576cc50c880fbfa
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:31 2020 +0000

    + add support for Z80 MSX-DOS to fpmake
    
    git-svn-id: trunk@45598 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit a04ec36a611c043b00b32e1165df1debdacdecd0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:27 2020 +0000

    + add support for Z80 MSX-DOS to fpcmake
    
    git-svn-id: trunk@45597 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 921e73ab0ca3d1af0b69d86d165ebf67884c422a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:20 2020 +0000

    + add compiler support for the Z80 MSX-DOS target
    
    git-svn-id: trunk@45596 -

M	.gitattributes
M	compiler/ngenutil.pas
M	compiler/ogrel.pas
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas
A	compiler/systems/i_msxdos.pas
A	compiler/systems/t_msxdos.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas
M	compiler/z80/cputarg.pas

******************************************************************************
commit 1e1c17cb61713093bef48b63540533a7692e6e22
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:14 2020 +0000

    * simplify code: simply raising an exception is enough, it's not necessary to call ShowException and Terminate
    
    git-svn-id: trunk@45595 -

M	utils/ihxutil/ihxutil.lpr

******************************************************************************
commit bf96709e398bba07fec3462e83d60dfdb1dbbef7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:08 2020 +0000

    * with ihx2tzx now also supporting binary output it makes sense to rename it to something more generic
    
    git-svn-id: trunk@45594 -

M	.gitattributes
M	compiler/systems/t_zxspectrum.pas
M	utils/fpmake_add.inc
M	utils/fpmake_proc.inc
R100	utils/ihx2tzx/Makefile	utils/ihxutil/Makefile
R100	utils/ihx2tzx/Makefile.fpc	utils/ihxutil/Makefile.fpc
R076	utils/ihx2tzx/fpmake.pp	utils/ihxutil/fpmake.pp
R100	utils/ihx2tzx/ihxreader.pas	utils/ihxutil/ihxreader.pas
R094	utils/ihx2tzx/ihx2tzx.lpi	utils/ihxutil/ihxutil.lpi
R092	utils/ihx2tzx/ihx2tzx.lpr	utils/ihxutil/ihxutil.lpr
R100	utils/ihx2tzx/tzxwriter.pas	utils/ihxutil/tzxwriter.pas
R100	utils/ihx2tzx/zxbasic.pas	utils/ihxutil/zxbasic.pas

******************************************************************************
commit f095bc59b01f7edce0764dab8c3634c19bbfbb50
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:01 2020 +0000

    + add ability to generate a flat binary file instead of a tape file
    
    git-svn-id: trunk@45593 -

M	utils/ihx2tzx/ihx2tzx.lpr

******************************************************************************
commit 2b7d9c5a1fe1802c3ecd429e6b9f6821865de9a9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:15:57 2020 +0000

    * also handle single character register names (needed on Z80 for example)
    
    git-svn-id: trunk@45592 -

M	compiler/pstatmnt.pas

******************************************************************************
commit b2d6c36e70cf8e5b1f7fd558a70ff67ae41011e5
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:15:53 2020 +0000

    + add support for DEFB and DEFW directives to the internal assembler reader
    
    git-svn-id: trunk@45591 -

M	compiler/z80/raz80asm.pas

******************************************************************************
commit 17d6999726b0a5a77ff029e05c20558a8bb7bf2c
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sat Jun 6 15:44:07 2020 +0000

    Amiga: make the fullscreen video draggable, map Help Key to F20
    
    git-svn-id: trunk@45590 -

M	packages/rtl-console/src/amicommon/keyboard.pp
M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit b776d48367cfbef2debb5c62e383192be8d05ba1
Author: florian <florian@freepascal.org>
Date:   Wed Jun 3 20:29:00 2020 +0000

      + x86: optimziation MovMov2MovMov 2
    
    git-svn-id: trunk@45582 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f5489b567809e6690dd4603154ae0b0b50c0fbec
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 20:09:27 2020 +0000

    + allow specifying the program load address for the ZX Spectrum target via the -WB option
    
    git-svn-id: trunk@45581 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 1263880ef02c11403bb728c7a61bb557faf0138c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 19:37:44 2020 +0000

    - removed the z80_internal_linker build mode from the lazarus project
    
    git-svn-id: trunk@45580 -

M	compiler/ppcz80.lpi

******************************************************************************
commit d1377777be89c2515e6769e8f551257bd6d98d53
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 19:36:41 2020 +0000

    + enabled the ZX Spectrum internal linker
    
    git-svn-id: trunk@45579 -

M	compiler/systems/i_zxspectrum.pas

******************************************************************************
commit 84cd9e129b2cb9a674dd105856a6fd6441ec585a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 19:33:03 2020 +0000

    + ZX Spectrum internal linker: invoke the ihx2tzx to postprocess the ihx file,
      produced by the internal linker (in the future, the code of this utility may
      be integrated into the compiler)
    * changed the exe extension of ZX Spectrum to '.tzx'
    
    git-svn-id: trunk@45578 -

M	compiler/systems/i_zxspectrum.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 12dce172f95e77e67672ea56f25488e3bb42b288
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 17:12:41 2020 +0000

    + implemented TIntelHexExeOutput.DoRelocationFixup
    
    git-svn-id: trunk@45577 -

M	compiler/ogrel.pas

******************************************************************************
commit 3023a9f0e2c82664c26c89c15dd2ca71f7d0c2ae
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 15:39:28 2020 +0000

    - removed the GetCode/Data/BssSize overrides in the ZX Spectrum internal linker,
      since the default implementation, inherited from parent now works
    
    git-svn-id: trunk@45576 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 4b5c8982ff496d89a179061ac28cbd1413776ebd
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 15:35:42 2020 +0000

    + implemented IHX writing in the Z80 internal linker
    
    git-svn-id: trunk@45575 -

M	compiler/ogrel.pas

******************************************************************************
commit a5ab1c03ea466e93f6fb92f4c8da5dec7ed24b1a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 23:13:32 2020 +0000

    * avoid 8-bit truncation of the sizes in the internal linker map
    
    git-svn-id: trunk@45571 -

M	compiler/ogmap.pas

******************************************************************************
commit da2bd5f78908e630cce860ca25fe7da8454ce6fa
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 23:10:31 2020 +0000

    * ImageBase changed to qword to avoid 8-bit truncation in the internal linker map file
    
    git-svn-id: trunk@45570 -

M	compiler/ogmap.pas

******************************************************************************
commit 9c54d753f56bab86b9b451c8f4415cd041357a36
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 23:07:45 2020 +0000

    * ImageBase changed to qword (same type as CurrMemPos) to avoid truncating to 8-bit on Z80
    
    git-svn-id: trunk@45569 -

M	compiler/ogbase.pas

******************************************************************************
commit 4a5a2f5ba2467ffed2bc718cfacd963271af636d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 23:01:07 2020 +0000

    + set IMAGEBASE in the Z80 internal linker script
    
    git-svn-id: trunk@45568 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit b29257fd05f4ef1516360700a89954e2f1b48506
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 22:54:16 2020 +0000

    * avoid setting the oso_Data flag on bss sections
    
    git-svn-id: trunk@45567 -

M	compiler/ogrel.pas

******************************************************************************
commit 996ab2feba4407d20b087817aae89dbb13a659b5
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 22:44:57 2020 +0000

    * renamed some REL sections to follow a similar naming convention
    
    git-svn-id: trunk@45566 -

M	compiler/ogrel.pas
M	compiler/systems/t_zxspectrum.pas
M	compiler/z80/agsdasz80.pas

******************************************************************************
commit 6d3b74f96e86e18a02101971f6d04d77eada3911
Author: florian <florian@freepascal.org>
Date:   Tue Jun 2 20:58:44 2020 +0000

      * extended r45555 to take care of chars as well
    
    git-svn-id: trunk@45565 -

M	compiler/nadd.pas

******************************************************************************
commit 788797d0786e45a34d2715d280fc91ac9a358bbb
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 17:48:06 2020 +0000

    + implemented reading of T and R records
    
    git-svn-id: trunk@45564 -

M	compiler/ogrel.pas

******************************************************************************
commit ad66f17a876853bed249a1fd0727740b352af9b3
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 22:48:51 2020 +0000

    * group T and R records together and call a function (not implemented yet) to handle them in pairs
    
    git-svn-id: trunk@45561 -

M	compiler/ogrel.pas

******************************************************************************
commit a91b42bd8d65dc68ff22ce64af52a5b9358eb3d5
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 22:37:37 2020 +0000

    + add .text, .data and .bss exe sections and define the entry point in the ZX Spectrum internal linker script
    
    git-svn-id: trunk@45560 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 6d3bfccbe3f2fd59bd3ae9247b992c43522ba8a7
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 22:34:10 2020 +0000

    * set MaxMemPos to $FFFF in the Z80 internal linker
    
    git-svn-id: trunk@45559 -

M	compiler/ogrel.pas

******************************************************************************
commit d0beacc35fdf89306b82234e03d99021a5986741
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 22:25:31 2020 +0000

    * return the correct size for files in ar archive. This is required by the REL
      reader, which reads files until the end of file
    
    git-svn-id: trunk@45558 -

M	compiler/owar.pas
M	compiler/owbase.pas

******************************************************************************
commit 3e2cf16d1ffa53d02e375cd9bee14d039100f6fa
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 22:14:01 2020 +0000

    * TRelObjInput.ReadObjData: return success, if file was read correctly
    
    git-svn-id: trunk@45557 -

M	compiler/ogrel.pas

******************************************************************************
commit 0e54ea6babe4b1966ded98127de92435e6cf76f4
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 21:07:21 2020 +0000

    + parse the REL symbol records
    
    git-svn-id: trunk@45556 -

M	compiler/ogrel.pas

******************************************************************************
commit 792cf056eb5a2c82f83b9b81588a46a6e6337c02
Author: florian <florian@freepascal.org>
Date:   Mon Jun 1 20:50:38 2020 +0000

      * a nil node is also a constant pointer node
      + convert (v1=const1) and (v2=const2) into ((v1 xor const1) or (v2 xor const2))=0 if the expressions have no side effects
    
    git-svn-id: trunk@45555 -

M	compiler/nadd.pas
M	compiler/node.pas

******************************************************************************
commit 19a66947bc974b4dd1f42314874c26348717f1c1
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 19:52:25 2020 +0000

    + parse the area records of REL files
    
    git-svn-id: trunk@45554 -

M	compiler/ogrel.pas

******************************************************************************
commit c8337937b374901d58d7aa4b9bd5af7674084a19
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 18:06:15 2020 +0000

    + parse the REL header
    
    git-svn-id: trunk@45553 -

M	compiler/ogrel.pas

******************************************************************************
commit 31b7fd8965f0e707d2411c82dd03a11d96a16493
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 17:29:29 2020 +0000

    + partial implementation of TRelObjInput.ReadObjData
    
    git-svn-id: trunk@45552 -

M	compiler/ogrel.pas

******************************************************************************
commit 8873a199ec1c07867420b46d0637633801194e93
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 15:17:47 2020 +0000

    * buffered text reading functions moved from being local to TRelObjInput.CanReadObjData
      to being class members, so they can be used by ReadObjData as well
    
    git-svn-id: trunk@45551 -

M	compiler/ogrel.pas

******************************************************************************
commit 996eaf16b36c0517a1985b88adceffc75d86efc5
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 14:02:10 2020 +0000

    + override TInternalLinkerZXSpectrum.GetCode/Data/BssSize to avoid access violation error
    
    git-svn-id: trunk@45550 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 7eb782446e41d1c60614af575f74b560320bb325
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 13:54:27 2020 +0000

    + create a linker script for the ZX Spectrum internal linker
    
    git-svn-id: trunk@45549 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 3685b50e752eea9b4b5c234ced112624b15a9b58
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 13:53:28 2020 +0000

    + set cobjdata in TIntelHexExeOutput.create;
    
    git-svn-id: trunk@45548 -

M	compiler/ogrel.pas

******************************************************************************
commit 6104cd321c72d825b6e28c708bc513f8375af515
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 13:14:46 2020 +0000

    + set cobjdata in TRelObjInput.create
    
    git-svn-id: trunk@45547 -

M	compiler/ogrel.pas

******************************************************************************
commit b2714052d1a10ab417ae2eb783b671403c43922f
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 13:10:39 2020 +0000

    + override TInternalLinkerZXSpectrum.InitSysInitUnitName
    
    git-svn-id: trunk@45546 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 42e4d66c5e4891900162f826f868e0a177a82ab1
Author: florian <florian@freepascal.org>
Date:   Sun May 31 21:40:59 2020 +0000

      * AArch64: enable TARMAsmOptimizer.OptPass1And
    
    git-svn-id: trunk@45544 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 8ffd7565466fbda97e7551cea9036314fefcba78
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 31 20:26:07 2020 +0000

    + added 'z80_internal_linker' build mode to the z80 lazarus project
    
    git-svn-id: trunk@45543 -

M	compiler/ppcz80.lpi

******************************************************************************
commit 4a296c9f5dc776d68c1e52443758efc52c5f21f1
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 31 19:39:12 2020 +0000

    * enable the Z80 internal linker (not working yet) if the compiler is compiled with the Z80_INTERNAL_LINKER define
    
    git-svn-id: trunk@45542 -

M	compiler/systems/i_zxspectrum.pas

******************************************************************************
commit 3c8ac8d35697b44a8caf069a925da30ed5aea2b0
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 31 19:30:59 2020 +0000

    - removed the z80_internal_asm build mode, since it's now a feature enabled by default, not hidden behind an ifdef
    
    git-svn-id: trunk@45541 -

M	compiler/ppcz80.lpi

******************************************************************************
commit 11cc085870fb6f58eac5195496f64d9d2d7f5ec3
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 31 17:45:12 2020 +0000

    + implemented TRelObjInput.CanReadObjData
    
    git-svn-id: trunk@45540 -

M	compiler/ogrel.pas

******************************************************************************
commit c5d7e6807cce2042f90ce429335ddf0bb0223144
Author: florian <florian@freepascal.org>
Date:   Sat May 30 20:44:19 2020 +0000

      * ARM: factor out TARMAsmOptimizer.OptPass1And
    
    git-svn-id: trunk@45536 -

M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 0acae47310dc0a6fa2ffaffe21b2544ba869e100
Author: florian <florian@freepascal.org>
Date:   Fri May 29 20:51:04 2020 +0000

      * ARM: get rid of more unneeded sxtb/h uxtb/h instructions
    
    git-svn-id: trunk@45529 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 2353b1adee799a3821832dff63cfda1f4cd30b2e
Author: nickysn <nickysn@gmail.com>
Date:   Fri May 29 18:13:18 2020 +0000

    + started work on the Z80 internal linker
    
    git-svn-id: trunk@45528 -

M	compiler/ogrel.pas
M	compiler/systems.inc
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 1c5d0220fed77c8c84ef6df46535435e264c74fe
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri May 29 13:04:37 2020 +0000

    * enable tests for the Nullable unit
    
    git-svn-id: trunk@45527 -

M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 651f5cb8a1e914c77dfbd99336b2b6d38da558e7
Author: florian <florian@freepascal.org>
Date:   Thu May 28 21:37:05 2020 +0000

      * ARM: (V)LDM do not load from the registers in the reg. set
    
    git-svn-id: trunk@45525 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 3f95fa50efa96180d5c9648b354d280090ba4cea
Author: nickysn <nickysn@gmail.com>
Date:   Thu May 28 21:08:02 2020 +0000

    * use const_align(sizeof(pint)) alignment instead of sizeof(pint) for various
      compiler-generated structures, so they don't waste any extra alignment space
      on 8-bit CPUs like the Z80 and the AVR
    
    git-svn-id: trunk@45524 -

M	compiler/ngenutil.pas

******************************************************************************
commit d88da03e7da8bb0ee227a558db7f18a6cfa83942
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 26 19:52:27 2020 +0000

    * z80: use the JRJP pseudo instruction to generate shorter code (it is
      translated to JR wherever possible, otherwise to JP)
    
    git-svn-id: trunk@45510 -

M	compiler/z80/cgcpu.pas

******************************************************************************
commit c49213c561171e398d76eb7957f8e965cbf2295e
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 22:40:41 2020 +0000

    + Z80: implemented the JRJP pseudo instruction in the Z80 internal asm writer
    
    git-svn-id: trunk@45502 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 0a62e6040b062e7176b404926328281c3355e42a
Author: pierre <pierre@freepascal.org>
Date:   Mon May 25 22:14:13 2020 +0000

     Reorder and complete list of supported CPUs
    
    git-svn-id: trunk@45501 -

M	compiler/pp.pas

******************************************************************************
commit b4de0b2e9c8ddd9dca7af3f7f24bbdd825dfd7e8
Author: florian <florian@freepascal.org>
Date:   Mon May 25 20:38:19 2020 +0000

      * insert fwait after fcompp, resolves #37136
    
    git-svn-id: trunk@45500 -

M	.gitattributes
M	compiler/x86/nx86add.pas
A	tests/webtbs/tw37136.pp

******************************************************************************
commit 41ccebb7371d261c79dc6f05a0e7daf9e9442935
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon May 25 19:07:08 2020 +0000

    * CPU_UNITS needs to be referenced
    
    git-svn-id: trunk@45499 -

M	rtl/win64/Makefile
M	rtl/win64/Makefile.fpc

******************************************************************************
commit 195e7e09180e7187ffc1bf5a83625162651ff051
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 16:29:31 2020 +0000

    * translate jrjp to jp in the sdcc-sdasz80 asm writer
    
    git-svn-id: trunk@45498 -

M	compiler/z80/agsdasz80.pas

******************************************************************************
commit f71b6f341b7ffdc3e6e58cb60f2f8884fd92fd25
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 16:12:06 2020 +0000

    + added JRJP to various instruction lists
    
    git-svn-id: trunk@45497 -

M	compiler/z80/aasmcpu.pas
M	compiler/z80/aoptcpu.pas
M	compiler/z80/aoptcpub.pas
M	compiler/z80/cpubase.pas
M	compiler/z80/raz80asm.pas

******************************************************************************
commit c5d04d1a541555b29b176bc2cb7e96bed089d8af
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 15:53:51 2020 +0000

    + Z80: added the JRJP pseudo instruction
    
    git-svn-id: trunk@45496 -

M	compiler/z80/z80ins.dat
M	compiler/z80/z80nop.inc
M	compiler/z80/z80op.inc
M	compiler/z80/z80stdopnames.inc
M	compiler/z80/z80tab.inc

******************************************************************************
commit 90d7a7f03add5d973d9a30455281ad09662a185e
Author: pierre <pierre@freepascal.org>
Date:   Mon May 25 14:40:08 2020 +0000

     Disable cpu and signals unit for aarch64 CPU
    
    git-svn-id: trunk@45495 -

M	rtl/win64/Makefile
M	rtl/win64/Makefile.fpc

******************************************************************************
commit 362d2b50df8d28dd4f769b6c90a18e23d5edf12d
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 00:32:55 2020 +0000

    + enable the Z80 internal assembler
    
    git-svn-id: trunk@45493 -

M	compiler/systems/i_embed.pas
M	compiler/systems/i_zxspectrum.pas

******************************************************************************
commit 850964f321a46cad5912ceba6a7d682deb144279
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 00:17:29 2020 +0000

    + also write sections with no data in the .rel internal obj writer
    
    git-svn-id: trunk@45492 -

M	compiler/ogrel.pas

******************************************************************************
commit e8af7427bb0ead629eea25ac86556605b1dea252
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 00:16:38 2020 +0000

    * the len parameter of TObjData.alloc changed to TObjSectionOfs
    
    git-svn-id: trunk@45491 -

M	compiler/ogbase.pas

******************************************************************************
commit 36323fe424c1b3e543c4706dacd3754a806e7814
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 24 22:47:54 2020 +0000

    * always use 1-byte section alignment for the rel internal obj writer
    
    git-svn-id: trunk@45490 -

M	compiler/ogrel.pas

******************************************************************************
commit 84a1f614d96a2104f99e3be8b707846462ad0c62
Author: florian <florian@freepascal.org>
Date:   Sun May 24 17:52:09 2020 +0000

      * fix several double ;
    
    git-svn-id: trunk@45488 -

M	compiler/aarch64/racpugas.pas
M	compiler/aasmtai.pas
M	compiler/cgexcept.pas
M	compiler/fmodule.pas
M	compiler/jvm/cpupara.pas
M	compiler/nbas.pas
M	compiler/nset.pas
M	compiler/objcgutl.pas
M	compiler/paramgr.pas
M	compiler/pkgutil.pas
M	compiler/powerpc64/nppcadd.pas
M	compiler/rautils.pas
M	compiler/symtable.pas
M	compiler/utils/ppuutils/ppuout.pp
M	compiler/x86/aasmcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit afb68dbcf35ecfb9a3b5671ae481981423b4e0e5
Author: florian <florian@freepascal.org>
Date:   Sun May 24 17:52:07 2020 +0000

      * factored out OptPass1VPXor
    
    git-svn-id: trunk@45487 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 88c98a57419e0aff7c3ba8b7478cdb119c5e7ccd
Author: florian <florian@freepascal.org>
Date:   Sun May 24 17:52:07 2020 +0000

      * improve copy_avx gencopy mode
    
    git-svn-id: trunk@45486 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 93eb40b05c4157a929a6cf9c4946c0bda6812833
Author: florian <florian@freepascal.org>
Date:   Sun May 24 17:52:06 2020 +0000

      * create vpxor instead of pxor in avx mode
    
    git-svn-id: trunk@45485 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 82a3877126afb9658096f981be0ebe1ac2d18a59
Author: florian <florian@freepascal.org>
Date:   Sun May 24 17:52:05 2020 +0000

      + x86: track use of full ymm registers and generate vzeroupper if needed
    
    git-svn-id: trunk@45484 -

M	compiler/globtype.pas
M	compiler/i386/cgcpu.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit 78381bd1ae37be8526eae9e6979c55c687f71d67
Author: florian <florian@freepascal.org>
Date:   Sun May 24 13:56:42 2020 +0000

      * x86 has to use newalignment as well
    
    git-svn-id: trunk@45483 -

M	compiler/x86/nx86mem.pas

******************************************************************************
commit 3d81c8e51d16f919680b66b71d3fa68a7d66b177
Author: florian <florian@freepascal.org>
Date:   Sun May 24 13:56:41 2020 +0000

      * re-activate copy_mm: using it instead of movs might reduce register pressure
    
    git-svn-id: trunk@45482 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 0bce44e342eeda9f92a915132e88de456b867637
Author: florian <florian@freepascal.org>
Date:   Sat May 23 21:33:14 2020 +0000

      * compilation on i386 fixed
    
    git-svn-id: trunk@45480 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit aa243faab836d9287b124de54ef2fe125d556198
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 23 19:03:14 2020 +0000

      * do not load unused parameters, as their localloc has not been set (and
        there is no point in doing so if it were)
       o fixes compilation of RTL with LLVM/AArch64
    
    git-svn-id: trunk@45478 -

M	compiler/hlcgobj.pas

******************************************************************************
commit 809fb8333433fb37349425d52b026fa43a99d61c
Author: florian <florian@freepascal.org>
Date:   Sat May 23 17:50:14 2020 +0000

      * adapt optimizer to handle push/pop for stack alignment
      * adapt test
    
    git-svn-id: trunk@45477 -

M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas
M	tests/test/tasm23b.pp

******************************************************************************
commit 8f0a3cfce77aee2a6a85f76c1eeb5615d45cd7f9
Author: florian <florian@freepascal.org>
Date:   Sat May 23 17:50:13 2020 +0000

      * x86-64: adjust stack by push/pop if possible
    
    git-svn-id: trunk@45476 -

M	compiler/x86/cgx86.pas
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit d2879f5bb9955434a43b394995c8778927d8dce8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 23 14:42:31 2020 +0000

    tosunits: fixed the palette to be ST only (9 bits) in the example picture, this is a bug in GraphX2 which was used to convert the picture to DEGAS format
    
    git-svn-id: trunk@45475 -

M	packages/tosunits/examples/showpic.inc

******************************************************************************
commit 9f80b11c5db115fa5dbc78fcca872ff3d8ecdca8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 23 14:26:41 2020 +0000

    tosunits: added another example which shows a DEGAS format picture
    
    git-svn-id: trunk@45474 -

M	.gitattributes
A	packages/tosunits/examples/showpic.inc
A	packages/tosunits/examples/showpic.pas
M	packages/tosunits/fpmake.pp

******************************************************************************
commit 6cc818cbe3e70ce85c23f3f6bba6bc22f79909a4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 23 12:13:30 2020 +0000

    m68k: avoid more vlink warnings regarding changed section attributes, when the target system has no write-protected sections
    
    git-svn-id: trunk@45470 -

M	compiler/aggas.pas

******************************************************************************
commit 58af742f3a57c156531c3e46332dd558194c77ef
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 23 11:13:07 2020 +0000

    m68k: atari syscalls might also destroy D2 and A2
    
    git-svn-id: trunk@45469 -

M	compiler/m68k/cpupara.pas

******************************************************************************
commit 60d4363f475b8e429856d51e6a90834cff295895
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 23 02:25:52 2020 +0000

    tosunits: added some more xbios calls
    
    git-svn-id: trunk@45468 -

M	packages/tosunits/src/xbios.pas

******************************************************************************
commit e76f9e5b36e164ef69a4ba68cb10c21520aba710
Author: florian <florian@freepascal.org>
Date:   Fri May 22 20:54:45 2020 +0000

      * patch by Christo Crause: fix register search on xtensa, resolves #37121
    
    git-svn-id: trunk@45467 -

M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/itcpugas.pas

******************************************************************************
commit bc1b1e5d1f2bcb777cb06630abb29cc36b6a5713
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 22 13:11:56 2020 +0000

      * added missing method declarations for AOPowerManager.InnerWakeLock class
    
    git-svn-id: trunk@45466 -

M	rtl/android/jvm/androidr14.inc

******************************************************************************
commit 5be84e807933f3bb545db3502e9787d5e0b271a2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 22 13:11:52 2020 +0000

      * replaced custom packed record with tmethod
    
    git-svn-id: trunk@45465 -

M	compiler/ncnv.pas

******************************************************************************
commit 90c1bf2e12e1f69b049d0bfb394df3652bf27722
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri May 22 12:45:20 2020 +0000

    * add tests\test\unit\types directory to list of tested directories
    
    git-svn-id: trunk@45463 -

M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 4caa471a241bc1bb67d6374bd831e1f58687dc41
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu May 21 10:56:39 2020 +0000

      * implemented a_load_undefined_cgpara for LLVM, fixes LLVM code generator
        after the changes to optimize unused parentfp parameters
    
    git-svn-id: trunk@45456 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 571095773aa21f75755eb19c928568e0edd32ed2
Author: marcus <marcus@idefix.freepascal.org>
Date:   Thu May 21 10:33:17 2020 +0000

    Amiga: optimized video unit drawing
    
    git-svn-id: trunk@45455 -

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 627fcb4354a9027f4008b793050a60e66e482958
Author: yury <jura@cp-lab.com>
Date:   Thu May 21 09:36:40 2020 +0000

    * Do not use the LOC_VOID location to indicate unused parameters.
    * Added the tprocdef.parentfpsym property. Set parentfpsym.varstate to vs_read instead of using the pio_needs_parentfp flag.
    * Replaced tcgcallparanode.push_zero_sized_value_para by tparamanager.has_strict_proc_signature.
    
    git-svn-id: trunk@45454 -

M	compiler/jvm/cpupara.pas
M	compiler/jvm/njvmcal.pas
M	compiler/llvm/llvmpara.pas
M	compiler/llvm/nllvmcal.pas
M	compiler/ncal.pas
M	compiler/ncgcal.pas
M	compiler/ncgmem.pas
M	compiler/ncgnstmm.pas
M	compiler/ncgutil.pas
M	compiler/nmem.pas
M	compiler/paramgr.pas
M	compiler/pparautl.pas
M	compiler/procinfo.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 56632b720c4b0dfe65586504aad09855984e8cdf
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 20 21:21:26 2020 +0000

    + Z80: handle the flags register in TAoptBaseCpu.RegModifiedByInstruction
    
    git-svn-id: trunk@45452 -

M	compiler/z80/aoptcpub.pas

******************************************************************************
commit 88b6bbe6cc9815f45f954e955a2c0d1d69e82c62
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 20 21:02:46 2020 +0000

    * compilation fixed after r45450
    
    git-svn-id: trunk@45451 -

M	compiler/z80/aoptcpub.pas

******************************************************************************
commit cc47a49c81781928ec5a59e127d0040dcce8a855
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 20 20:57:59 2020 +0000

    + Z80: handle all instructions that modify registers, that are not an operand in TAoptBaseCpu.RegModifiedByInstruction
    
    git-svn-id: trunk@45450 -

M	compiler/z80/aoptcpub.pas

******************************************************************************
commit 2507c1ace69387df7feb0d805cb33ec6611089d7
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 20 20:20:10 2020 +0000

    * Reg1ReadDependsOnReg2 moved to TAoptBaseCpu
    * use Reg1ReadDependsOnReg2 in TAoptBaseCpu.RegModifiedByInstruction to handle properly Z80 subregisters
    
    git-svn-id: trunk@45449 -

M	compiler/z80/aoptcpu.pas
M	compiler/z80/aoptcpub.pas

******************************************************************************
commit 4f707c3d7eb52dc9199a7f369436ba964dbb67d8
Author: florian <florian@freepascal.org>
Date:   Wed May 20 20:10:15 2020 +0000

      * patch by Karl-Michael Schindler to update the German help files, resolves #37122
    
    git-svn-id: trunk@45448 -

M	compiler/msg/errord.msg
M	compiler/msg/errordu.msg

******************************************************************************
commit 15baa272fecd73081cb57d776969aedfcf7ba1e3
Author: florian <florian@freepascal.org>
Date:   Tue May 19 20:34:41 2020 +0000

      * exceptions are side effects which must be considered in boolean expressions
    
    git-svn-id: trunk@45441 -

M	compiler/ncgutil.pas

******************************************************************************
commit 9d1c81438706b4f59bc37d7f7905e59617dd48ac
Author: yury <jura@cp-lab.com>
Date:   Tue May 19 14:14:16 2020 +0000

    * Added the thlcgobj.a_load_undefined_cgpara() method to pass an undefined value as a parameter to a routine. The generic version passes the 0/nil value if the parameter's location is not a register.
    * Use a_load_undefined_cgpara() to load values for unused parameters.
    
    git-svn-id: trunk@45439 -

M	compiler/hlcgobj.pas
M	compiler/ncgcal.pas

******************************************************************************
commit 30e61067a0ee062c25830ca4aa5415972a0dc5c2
Author: yury <jura@cp-lab.com>
Date:   Tue May 19 14:09:54 2020 +0000

    * It is needed to mark $parentfp as used for all targets.
    
    git-svn-id: trunk@45438 -

M	compiler/pparautl.pas

******************************************************************************
commit afc568cf93fdfaa09f75eb0ab65d3cbaa2f628f0
Author: yury <jura@cp-lab.com>
Date:   Tue May 19 14:01:19 2020 +0000

    * Fixed the jvm target after r45436.
    
    git-svn-id: trunk@45437 -

M	compiler/ncgnstmm.pas

******************************************************************************
commit 2808873d1bc4e9cfea75304d1e99f39691298657
Author: yury <jura@cp-lab.com>
Date:   Tue May 19 13:17:47 2020 +0000

    * Reworked the optimization of unused $parentfp for nested routines.
      - Do not remove the $parentfp parameter as was done in the previous optimization approach. Instead when $parentfp is unused to the following:
          - On the caller side: Omit passing the value for $parentfp for targets where tcgcallparanode.push_zero_sized_value_para=false (classic CPU targets).
              Pass 0/nil as $parentfp for targets where tcgcallparanode.push_zero_sized_value_para=true;
          - On the callee side: Prevent allocation of registers/resources for $parentfp.
      - When possible keep $parentfp in a register.
      - Set the pio_nested_access flag in tprocinfo.set_needs_parentfp() to properly handle deep nesting levels;
    
    git-svn-id: trunk@45436 -

M	compiler/dbgbase.pas
M	compiler/defcmp.pas
M	compiler/ncgcal.pas
M	compiler/ncgmem.pas
M	compiler/ncgnstmm.pas
M	compiler/ncgutil.pas
M	compiler/nld.pas
M	compiler/nmem.pas
M	compiler/pparautl.pas
M	compiler/procinfo.pas
M	compiler/psub.pas
M	compiler/symdef.pas

******************************************************************************
commit 9b54588d75372d25f022459da9bfe131e7a23795
Author: florian <florian@freepascal.org>
Date:   Mon May 18 21:28:45 2020 +0000

      + PXorPXor2PXor optimization
    
    git-svn-id: trunk@45430 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit edcc14a5ce33716e0e51d37dd4e281c0465ac369
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 17 23:38:23 2020 +0000

    * Z80: JR can be both conditional and uncoditional jump, just like JP
    
    git-svn-id: trunk@45411 -

M	compiler/aoptobj.pas
M	compiler/z80/aoptcpub.pas

******************************************************************************
commit af0ba7be83258ee9f9b21f45fd645abf093953ed
Author: florian <florian@freepascal.org>
Date:   Sun May 17 18:14:48 2020 +0000

      * when auto-inlining is used, do not require that inlining is explicitly turned on
    
    git-svn-id: trunk@45405 -

M	compiler/psub.pas

******************************************************************************
commit 97efb03ae67b7035d31b89984f04ba301198b7da
Author: florian <florian@freepascal.org>
Date:   Sun May 17 17:41:44 2020 +0000

      * call x86 addordinal for non short boolean evaluated boolean nodes
        as this results in better code
    
    git-svn-id: trunk@45404 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit fcf2cd2bea510174b60d78d534d331aa2477b5f9
Author: florian <florian@freepascal.org>
Date:   Sun May 17 17:41:43 2020 +0000

      * boolean or/and nodes might be swapped when they have no side effect, in case
        of short boolean evaluation, firstcomplex is not called so this does not
        hurt short boolean evaluation
    
    git-svn-id: trunk@45403 -

M	compiler/ncgutil.pas

******************************************************************************
commit 13028db5a4418508c42143c2574275f9d2b0f158
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 17 14:38:57 2020 +0000

    - z80: disable regvars, because they don't work
    
    git-svn-id: trunk@45402 -

M	compiler/z80/cpuinfo.pas

******************************************************************************
commit f9672b53a2d4e988e99575a70fd55eb7f9cb8960
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 17 14:05:38 2020 +0000

      - removed old float-to-string and string-to-float conversion code
    
    git-svn-id: trunk@45401 -

M	.gitattributes
M	rtl/fpmake.pp
M	rtl/inc/makefile.inc
M	rtl/inc/readme
D	rtl/inc/real2str.inc
M	rtl/inc/sstrings.inc
M	rtl/inc/systemh.inc
M	rtl/java/jsystemh_types.inc

******************************************************************************
commit b54d9cfecbf88fade10380b310742c78d002dcad
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 17 11:35:42 2020 +0000

    * fixed IsJumpToLabelUncond for the Z80
    
    git-svn-id: trunk@45397 -

M	compiler/aoptobj.pas

******************************************************************************
commit 63af4e173dc10c05c6ace5158732eb1f6bb053dd
Author: nickysn <nickysn@gmail.com>
Date:   Sat May 16 20:33:44 2020 +0000

    + z80: handle all instructions in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@45391 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit 5502d6cc58baeedaa471cbf75ec57509dd3a3c51
Author: nickysn <nickysn@gmail.com>
Date:   Sat May 16 19:58:37 2020 +0000

    + Z80: report the flags usage for all the remaining instructions in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@45390 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit c38efe6d18f2b49a3e6dd58b8a45019543034462
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 16 19:15:52 2020 +0000

    m68k: tabs to spaces and indentation fix, no functional change
    
    git-svn-id: trunk@45389 -

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit d9eddc50fd7d1d3b9becfc1f4706113bb49bcffd
Author: florian <florian@freepascal.org>
Date:   Sat May 16 15:51:48 2020 +0000

      * fix spilling for PAND, POR and PXOR, resolves #37084
    
    git-svn-id: trunk@45388 -

M	compiler/x86/rgx86.pas

******************************************************************************
commit 2c8db3bb9ebf1e76b6a30cf16f3e9ed188018d69
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 16 13:47:18 2020 +0000

    m68k: add support for bitfield instructions as CPU capability
    
    git-svn-id: trunk@45383 -

M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit 6f165b6c01461a821444619b18fd9576813b0b5f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 16 13:31:28 2020 +0000

      * fixed tests
       o fixed use of loop counter after end of loop
       o fixed reliance on old behaviour for int -> real typecasts
    
    git-svn-id: trunk@45379 -

M	tests/test/jvm/test.pp

******************************************************************************
commit f0edd62b88df48c4a4d97f5038bc6e35433f542d
Author: nickysn <nickysn@gmail.com>
Date:   Sat May 16 00:03:54 2020 +0000

    + Z80: report flags register information in TCpuAsmOptimizer.RegLoadedWithNewValue for 16-bit ADD,ADC,SBC,INC and DEC
    
    git-svn-id: trunk@45373 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit b239365479351d525b6cf372e7defea70d486f7f
Author: florian <florian@freepascal.org>
Date:   Fri May 15 21:25:30 2020 +0000

      * improved LeaLea2Lea
    
    git-svn-id: trunk@45372 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 37b607143a8ed79e9cc4e497535970d539cb2933
Author: nickysn <nickysn@gmail.com>
Date:   Thu May 14 22:44:48 2020 +0000

    + handle the flags register bits for many Z80 instructions in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@45366 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit 4559620efaefd84906cb6dff08ae912c662eaf13
Author: florian <florian@freepascal.org>
Date:   Thu May 14 21:16:12 2020 +0000

      * patch by Reynaldo to generate kernel image for the raspi2 embedded port, resolves #27052
    
    git-svn-id: trunk@45365 -

M	compiler/systems/t_embed.pas

******************************************************************************
commit 1df56495b7bc2d97b6506537f34e45f46e19456c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu May 14 15:23:27 2020 +0000

    * fix a typo in a comment. no functional change
    
    git-svn-id: trunk@45364 -

M	compiler/aasmcnst.pas

******************************************************************************
commit a2174753c1a89a039af948b9b7a72142b3fb6324
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed May 13 21:46:29 2020 +0000

      - removed tabstractrecorddef.get_unit_symtable, which did not always return the unit
        symtable (when you had a local recorddef in a procdef)
      * modified tdef.get_top_level_symtable() so you can specify whether you want to
        skip procdefs or not
      * changed tobjectdef.vmt_def() to no longer require a typesym for the tobjectdef
        (based on patch by Blaise)
    
    git-svn-id: trunk@45361 -

M	compiler/symcreat.pas
M	compiler/symdef.pas
M	compiler/symtable.pas
M	compiler/symtype.pas

******************************************************************************
commit 7a60e044e3bec9814d891d1761bea3445eca284f
Author: florian <florian@freepascal.org>
Date:   Wed May 13 20:26:04 2020 +0000

      * simplify constant expressions after re-ordering, resolves #37062
    
    git-svn-id: trunk@45360 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw37062.pp

******************************************************************************
commit a414997a84f1b9099110ce89c77fcab85088c630
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 16:20:48 2020 +0000

     Use 0 instead of 0xffffffff to disable page width
    
    git-svn-id: trunk@45358 -

M	packages/gdbint/src/gdbint.pp

******************************************************************************
commit db0f0be3bad4800fa6a9d1ef4bbcbe08f76aab79
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 15:03:35 2020 +0000

     Use 0 instead of 0xffffffff to disable page width
    
    git-svn-id: trunk@45357 -

M	packages/gdbint/src/gdbcon.pp
M	packages/ide/fpviews.pas

******************************************************************************
commit c77ef7d6dd0d1920ebf0f4b9ca27dccaaa69bb38
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 13:53:15 2020 +0000

     Regenerate all Makefile's after change in utils/fpcm/fpcmake.ini to better support use of i386 compiler on x86_64 machines
    
    git-svn-id: trunk@45356 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihx2tzx/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit ae91ff00b962a9b53ede880aba87de37f70bbae8
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 09:17:11 2020 +0000

     Do not add -Fl$GCCLIBDIR to FPCMAKEOPT as this is now handled by fpcmake
    
    git-svn-id: trunk@45354 -

M	packages/fpmkunit/Makefile.fpc

******************************************************************************
commit 406d17a4b6c75e5cc81dedc1f091ee61b7ce9660
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 09:14:42 2020 +0000

    Update fpcmake.inc and revision.inc after previous commit #45352
    
    git-svn-id: trunk@45353 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/revision.inc

******************************************************************************
commit 5ffc1b81529bf8fa013781e3370ca18069df54b8
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 09:12:19 2020 +0000

     Use GCCLIBDIR variable for FPCMAKEGCCLIBDIR if FPCFPMAKE has same target cpu as CPU_TARGET
    
    git-svn-id: trunk@45352 -

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 3aa253c11d215bde7ff9312c9e5ac7a5287f0818
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 09:10:23 2020 +0000

     Allow system unit to be compiled without RTTI feature
    
    git-svn-id: trunk@45351 -

M	rtl/inc/objpas.inc
M	rtl/inc/rttih.inc
M	rtl/inc/sstrings.inc
M	rtl/inc/systemh.inc
M	rtl/java/jsystemh.inc

******************************************************************************
commit 7dbab3a78f0cefad954346be023db3f0460e407a
Author: florian <florian@freepascal.org>
Date:   Tue May 12 20:43:15 2020 +0000

      * handle OP_XOR for a full mm register correctly in tcgx86.opmm_loc_reg
    
    git-svn-id: trunk@45348 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 4beb4bf8b20a899174a472a7c5a5c52c54f01bc5
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 12 01:58:10 2020 +0000

    + Z80: support the flags subregisters in the registers_interfere function
    
    git-svn-id: trunk@45347 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit c6c834949fd50d42e5b724ba4a5981ea13f9c5c3
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 12 01:47:58 2020 +0000

    + Z80: support all the flags subregisters in super_registers_equal
    
    git-svn-id: trunk@45346 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit fe120269595d5fd1a50660fda2f374f2de341117
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 23:55:23 2020 +0000

    + support the LD instruction in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@45345 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit bb4d7a7a50d593ec2a1676f105c43b0411e90063
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 22:24:20 2020 +0000

    + Z80: implemented TCpuAsmOptimizer.InstructionLoadsFromReg
    
    git-svn-id: trunk@45344 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit 05091cf0dda02c86b90f46a20d1aff82309fa1ca
Author: florian <florian@freepascal.org>
Date:   Mon May 11 21:14:06 2020 +0000

      + MovAndTest2Test optimization
    
    git-svn-id: trunk@45343 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4abc498f2f37d6b789eb3229779f6e716119a479
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 19:17:31 2020 +0000

    + added the Z80 individual flag bits as subregisters
    
    git-svn-id: trunk@45342 -

M	compiler/rgbase.pas
M	compiler/z80/rz80con.inc
M	compiler/z80/rz80dwa.inc
M	compiler/z80/rz80nor.inc
M	compiler/z80/rz80num.inc
M	compiler/z80/rz80rni.inc
M	compiler/z80/rz80sri.inc
M	compiler/z80/rz80sta.inc
M	compiler/z80/rz80std.inc
M	compiler/z80/rz80sup.inc
M	compiler/z80/z80reg.dat

******************************************************************************
commit b98cc1ebfff7b107ae3429844e19a78e1c68bdd1
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 18:03:29 2020 +0000

    + added subregisters for the Z80 flags
    
    git-svn-id: trunk@45341 -

M	compiler/cgbase.pas

******************************************************************************
commit 1f8a9c708efd1f18f40aefe98e2cf3f3393cf07d
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 17:18:00 2020 +0000

    * use RegistersInterfere instead of SuperRegistersEqual in TAoptBase.RegInOp and TAoptBase.RegInRef
    
    git-svn-id: trunk@45340 -

M	compiler/aoptbase.pas

******************************************************************************
commit 531cc0ab0d1b22803a1e5b55a4ba7782f853c375
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 16:00:27 2020 +0000

    + introduced TAOptBase.RegistersInterfere (which might not always be equivalent to SuperRegistersEqual)
    
    git-svn-id: trunk@45339 -

M	compiler/aoptbase.pas

******************************************************************************
commit 4263ff44c1fd7fb1c061a79b6c1d67e24e48120d
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 15:29:42 2020 +0000

    + Z80: added a registers_interfere helper function
    
    git-svn-id: trunk@45338 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit 5947adcd7bdd21d7acee39eafc39266ef4776e93
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 14:21:26 2020 +0000

    + added a correct implementation of TAOptBase.SuperRegistersEqual for the Z80
    
    git-svn-id: trunk@45337 -

M	compiler/aoptbase.pas
M	compiler/z80/cpubase.pas

******************************************************************************
commit 06a728df246871ebdf1dad443f12df695617f425
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 04:23:02 2020 +0000

    + added the alternate Z80 register pairs BC', DE' and HL'
    
    git-svn-id: trunk@45333 -

M	compiler/z80/rz80con.inc
M	compiler/z80/rz80dwa.inc
M	compiler/z80/rz80nor.inc
M	compiler/z80/rz80num.inc
M	compiler/z80/rz80rni.inc
M	compiler/z80/rz80sri.inc
M	compiler/z80/rz80sta.inc
M	compiler/z80/rz80std.inc
M	compiler/z80/rz80sup.inc
M	compiler/z80/z80reg.dat

******************************************************************************
commit 9ce97e6ba58f78ee3132c6a9b4e252506560f055
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 00:55:32 2020 +0000

    + also recognize alternate registers in the Z80 inline asm scanner. This allows
      the "EX AF,AF'" instruction to be accepted and assembled as well.
    
    git-svn-id: trunk@45332 -

M	compiler/z80/raz80asm.pas

******************************************************************************
commit b581751ef339554b63e2556db2643e421829a1be
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 00:46:24 2020 +0000

    - cleaned up some x86-specific code from the Z80 inline asm reader
    
    git-svn-id: trunk@45331 -

M	compiler/z80/raz80asm.pas

******************************************************************************
commit 0fbd418cb739d5cb4dfc4c21ce6e67e7d17dc961
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun May 10 20:46:08 2020 +0000

    * generate CFI data only if we're either using it for exception handling or if debug output is enabled (or should this only be generated for targets that in theory support DWARF exception handling?). This removes unnecessary bloat from e.g. Windows binaries
    
    git-svn-id: trunk@45330 -

M	compiler/cfidwarf.pas

******************************************************************************
commit 2a2ec77b10bf6f25093123f55616c5791bfe9eb1
Author: florian <florian@freepascal.org>
Date:   Sun May 10 19:41:13 2020 +0000

      * improved heuristics for auto-inlining
    
    git-svn-id: trunk@45328 -

M	compiler/psub.pas

******************************************************************************
commit e5e386f94ab4f87880c4358e40dbc31a22e50ea2
Author: florian <florian@freepascal.org>
Date:   Sun May 10 18:41:10 2020 +0000

      * cosmetics
    
    git-svn-id: trunk@45327 -

M	compiler/nadd.pas

******************************************************************************
commit ebcae70d72fc7a381f3cebd8760e3634eadda5cc
Author: florian <florian@freepascal.org>
Date:   Sun May 10 15:25:31 2020 +0000

      * avoid unncessary conversions of constants in 64 bit ints when doing constant folding
    
    git-svn-id: trunk@45326 -

M	compiler/nadd.pas

******************************************************************************
commit 7a6bd84bc055ad95ecee0f3b150090161b8a85f5
Author: florian <florian@freepascal.org>
Date:   Sun May 10 12:52:17 2020 +0000

      * cast only the longint
    
    git-svn-id: trunk@45325 -

M	tests/webtbs/tw36587.pp

******************************************************************************
commit b48c8d8596400544396715cb4a268adc6dfae619
Author: florian <florian@freepascal.org>
Date:   Sun May 10 09:04:13 2020 +0000

      * fixed test for 32 Bit targets
    
    git-svn-id: trunk@45324 -

M	tests/webtbs/tw36587.pp

******************************************************************************
commit 7cda3d9e57c4cab68647b2de91179c13472fadcf
Author: yury <jura@cp-lab.com>
Date:   Sat May 9 21:53:43 2020 +0000

    * Code formatting.
    
    git-svn-id: trunk@45323 -

M	compiler/procinfo.pas
M	compiler/symdef.pas

******************************************************************************
commit 254d0c0e2c7384bb225f8376cb1fce78d4047cd7
Author: yury <jura@cp-lab.com>
Date:   Sat May 9 20:45:00 2020 +0000

    * Do not perform optimization of nested procedures for:
      - targets which use a special struct to access parent's variables;
      - pure assembler procedures (for compatibility with old code).
    
    git-svn-id: trunk@45322 -

M	compiler/psub.pas

******************************************************************************
commit a316229ef67f1c58f6b33996637e888f11cf72cf
Author: yury <jura@cp-lab.com>
Date:   Sat May 9 17:52:17 2020 +0000

    * Always use parentfp for forward-declared nested procedures.
    
    git-svn-id: trunk@45320 -

M	.gitattributes
M	compiler/ncal.pas
M	compiler/symdef.pas
A	tests/test/tnest2.pp

******************************************************************************
commit bdabf674e1c9cae5387bc3abe884fb1b17545c98
Author: florian <florian@freepascal.org>
Date:   Sat May 9 17:36:36 2020 +0000

      * propagate forinline
    
    git-svn-id: trunk@45319 -

M	compiler/nadd.pas

******************************************************************************
commit 8b31df70672bd6e7f949416ac18bff68326ded1c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 9 12:56:19 2020 +0000

    rtl-console: fixed keypressed implementation in the Amiga VidCRT unit
    
    git-svn-id: trunk@45318 -

M	packages/rtl-console/src/amicommon/vidcrt.pp

******************************************************************************
commit bd19575f92a952a6189349c9fef5e17194ad0cde
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 9 10:08:35 2020 +0000

      * fixed -Cl options now showing in the help of an LLVM compiler (and fixed
        them to read -Cl rather than -CL)
    
    git-svn-id: trunk@45316 -

M	compiler/msg/errore.msg
M	compiler/msgtxt.inc

******************************************************************************
commit 04a42bef84f38626ea7fbfb102ac949d1b819e6a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 8 21:06:59 2020 +0000

    m68k: fixed instruction code formatting in the generated include
    
    git-svn-id: trunk@45314 -

M	compiler/m68k/m68ktab.inc
M	compiler/utils/mk68kins.pp

******************************************************************************
commit 6753f869878e39ec6d0a4bfce351861c5f69a462
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 8 12:33:04 2020 +0000

    m68k: migrate the compiler to the new instruction tables and drop the old ones
    
    git-svn-id: trunk@45312 -

M	compiler/m68k/ag68kgas.pas
M	compiler/m68k/cpubase.pas
M	compiler/m68k/itcpugas.pas

******************************************************************************
commit bc9b8af04b6dbecc12d22b592a4e4790e21ee3ff
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 8 12:11:13 2020 +0000

    m68k: add the converted includes, based on m68kins.dat
    
    git-svn-id: trunk@45311 -

M	.gitattributes
A	compiler/m68k/m68knop.inc
A	compiler/m68k/m68kop.inc
A	compiler/m68k/m68kstd.inc
A	compiler/m68k/m68ktab.inc

******************************************************************************
commit d5874b00881a7323897b6d80e9cea2dbfddcf0b6
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 8 12:05:11 2020 +0000

    m68k: added a full instruction table (minus CF MAC/EMAC instructions for now), based on vasm, and the required tool to process it
    
    git-svn-id: trunk@45310 -

M	.gitattributes
A	compiler/m68k/m68kins.dat
A	compiler/utils/mk68kins.pp

******************************************************************************
commit 4d428d945ec6e13053cd96536bb3baad6149c66b
Author: nickysn <nickysn@gmail.com>
Date:   Fri May 8 00:53:05 2020 +0000

    + use ApplyAsmSymbolRestrictions on all symbols in the NASM writer
    
    git-svn-id: trunk@45308 -

M	compiler/x86/agx86nsm.pas

******************************************************************************
commit fc5c35362bf995ea3d9c4c5ed087da508f7fc90e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu May 7 23:30:13 2020 +0000

    m68k: preparations for upcoming full instruction tables, mostly converting code away from using sets of opcodes
    
    git-svn-id: trunk@45307 -

M	compiler/m68k/ag68kgas.pas
M	compiler/m68k/aoptcpu.pas
M	compiler/m68k/cgcpu.pas
M	compiler/m68k/ra68kmot.pas
M	compiler/m68k/rgcpu.pas

******************************************************************************
commit f8e7d0bc097fdae022c6e4e2fc22ee61cbf63ecd
Author: florian <florian@freepascal.org>
Date:   Thu May 7 20:36:09 2020 +0000

      - remove unused files, resolves #37032
    
    git-svn-id: trunk@45306 -

M	.gitattributes
D	compiler/cpid.pas
D	compiler/cwindirs.pp

******************************************************************************
commit 92043c6e209ba987b8326b8abd2ae9b0a5f81b52
Author: nickysn <nickysn@gmail.com>
Date:   Thu May 7 11:51:58 2020 +0000

    * call inherited in tcg64f8086.a_op64_reg_ref for OP_NEG and OP_NOT, because it is handled differently after r45302
    
    git-svn-id: trunk@45305 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit 4f4d8191f00d34702cdc0f9b10ec90bc257fb75c
Author: nickysn <nickysn@gmail.com>
Date:   Thu May 7 03:34:20 2020 +0000

    + generate more optimal code for OP_NOT and OP_NEG in tcg64f8086.a_op64_ref
    
    git-svn-id: trunk@45304 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit 52572e10e92018a165096c9a530b4cb7d4cee936
Author: nickysn <nickysn@gmail.com>
Date:   Thu May 7 02:57:57 2020 +0000

    * i8086 compilation fixed after r45302
    
    git-svn-id: trunk@45303 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit 5aaf863d560f9d6dc88fc511a27bbab06ed96a23
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 21:24:19 2020 +0000

    * only call cg64.a_XXX_loc for LOC_(C)REFERENCE and LOC_(C)REGISTER locations in
      tcginlinenode.second_AndOrXorShiftRot_assign
    
    git-svn-id: trunk@45301 -

M	compiler/ncginl.pas

******************************************************************************
commit 69e89262958c00b6f17d73ab5ca0894b31e87eaf
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 21:09:37 2020 +0000

    * updated revision.inc
    
    git-svn-id: trunk@45300 -

M	utils/fpcm/revision.inc

******************************************************************************
commit ba8cddb546484c10b7513ecf36e22e8cc1ba5591
Author: florian <florian@freepascal.org>
Date:   Wed May 6 20:49:19 2020 +0000

      + Xtensa: Sptr
    
    git-svn-id: trunk@45299 -

M	rtl/xtensa/xtensa.inc

******************************************************************************
commit 56b79257a12806069a13c2b655becbfb2d4c1022
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 20:41:01 2020 +0000

    * fixed fpmake invokation when building an i386-linux snapshot on a x86_64-linux host
    
    git-svn-id: trunk@45298 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihx2tzx/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 40504a6f9de8930c6e308427631af0ab225dcbdb
Author: yury <jura@cp-lab.com>
Date:   Wed May 6 14:43:49 2020 +0000

    * If a nested procedure does not access its parent's frame pointer, optimize it by removing the hidden $parentfp parameter.
    * Improved the tisogoto1.pp test.
    
    git-svn-id: trunk@45292 -

M	compiler/defcmp.pas
M	compiler/nmem.pas
M	compiler/pexpr.pas
M	compiler/procinfo.pas
M	compiler/pstatmnt.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp
M	tests/test/tisogoto1.pp

******************************************************************************
commit c1d124d497149d4ffa1998e9c84d9eeffc04b04a
Author: yury <jura@cp-lab.com>
Date:   Wed May 6 14:18:44 2020 +0000

    * x86: Fixed peephole optimization introduced in r44233. tb0219 and tb0548 tests have failed with -O2 since then.
    * Added variants of the tb0219 and tb0548 tests with forced -O2.
    
    git-svn-id: trunk@45291 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/tbs/tb0219a.pp
A	tests/tbs/tb0548a.pp

******************************************************************************
commit 75ce122d36626cfb3423bbc2a1273bdfba1765f8
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 03:24:15 2020 +0000

    - removed commented out writeln
    
    git-svn-id: trunk@45290 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 616cb382922c96086cdf5f9298f690af5d003429
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 02:52:28 2020 +0000

    * fixed the TRelocDataInt to avoid truncating 16-bit addresses to 8-bit on 8-bit CPUs
    
    git-svn-id: trunk@45289 -

M	compiler/ogbase.pas

******************************************************************************
commit 4aba225c8bf7e64fee347d77557731fce563618f
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 01:57:38 2020 +0000

    + fix for writing absolute relocations in the .rel format
    
    git-svn-id: trunk@45288 -

M	compiler/ogrel.pas

******************************************************************************
commit bface9fd9470d0a8fc68ce8b3d8c98540a7d7038
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 00:44:35 2020 +0000

    - reverted previous commit, since it was incorrect
    
    git-svn-id: trunk@45287 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 0caba1e84df0a72ac4c3fcf71dc688854360d2d0
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 00:38:55 2020 +0000

    + added internal error in taicpu.gencode.WriteNN to catch unhandled asm instructions
    
    git-svn-id: trunk@45286 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 997184778a01718472c29a67e70ceadb32194e47
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 00:22:22 2020 +0000

    + call ApplyAsmSymbolRestrictions for symbols that should be exported from ar files
    
    git-svn-id: trunk@45285 -

M	compiler/ogbase.pas

******************************************************************************
commit 0d402a13419f68233a97b28919abb3dea383333f
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 00:13:10 2020 +0000

    + support signed 8-bit immediate constants in the Z80 internal asm writer as well
    
    git-svn-id: trunk@45284 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 11a7b8592f043c9d4f5bf98379afb1aa9bc7ec49
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 00:10:17 2020 +0000

    + support instructions like BIT, SET and RES in the Z80 internal asm writer
    
    git-svn-id: trunk@45283 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 6764056eff5104edaf5eef1cd8dbdec087ad67ec
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:58:54 2020 +0000

    + support the 'in A,(n)' and 'out (n),A' instrunction in the Z80 internal asm writer
    
    git-svn-id: trunk@45282 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit c81f433795128811d65ee618a1e2b5a17fd8965b
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:49:41 2020 +0000

    + Z80: support conditional JR
    
    git-svn-id: trunk@45281 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit b164f5aa65ade5e2cb8b2a3861bd73cc8fcd3baf
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:42:09 2020 +0000

    + support relative jumps in the Z80 internal asm writer
    
    git-svn-id: trunk@45280 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 0a0935990636b0600c4cd5a606eb145002614414
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:30:44 2020 +0000

    + support the RST instruction in the Z80 internal asm writer
    
    git-svn-id: trunk@45279 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit be26429159dbcab219f1cab5ff4494ca89aa92bd
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:16:07 2020 +0000

    * preserve the actual file size (before aligning it to even bytes), when adding files to .a archives
    
    git-svn-id: trunk@45278 -

M	compiler/owar.pas

******************************************************************************
commit 6422e9a803ed33cc9208a0a375f5671b69f5a524
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:12:52 2020 +0000

    + align files in generated .a files not by #0, but by #10 (Line Feed). This is
      compatible with GNU ar and others, and fixes linking with sdcc-sdld.
    
    git-svn-id: trunk@45277 -

M	compiler/owar.pas

******************************************************************************
commit 381be050a50fa99a05b168145c1b66e66a0c7d74
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:05:37 2020 +0000

    + support creating ar files in the Z80 internal obj writer
    
    git-svn-id: trunk@45276 -

M	compiler/ogrel.pas

******************************************************************************
commit 43686720c3225b2390c413452dece43a9b4f9d39
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 22:45:40 2020 +0000

    + fix for conditional JP in the Z80 internal asm writer
    
    git-svn-id: trunk@45275 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 3e14eddaf6137e2604fe3234da7b4721f9c3bd6b
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 22:42:21 2020 +0000

    + support conditional operations in the Z80 internal asm
    
    git-svn-id: trunk@45274 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 58d6d64fbadceaa81b96543fa2aaa02d88b971be
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 22:30:49 2020 +0000

    + Z80 internal asm: support OT_REF_ADDR16 in taicpu.gencode.WrinteNN
    
    git-svn-id: trunk@45273 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 4fed57adc13e75bc70c1495273cf9caa295c0d07
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 22:18:44 2020 +0000

    + lots of fixes to the Z80 internal asm writer
    
    git-svn-id: trunk@45272 -

M	compiler/ogbase.pas
M	compiler/ogrel.pas
M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 7dc6049de9a13b7d406accf3fb16c649adf2e6a5
Author: yury <jura@cp-lab.com>
Date:   Tue May 5 21:56:34 2020 +0000

    * Release registers which have been used for a function call before adjusting the stack pointer. On i386 this allows to use eax,ecx,edx in POP instructions for stack adjustment.
    
    git-svn-id: trunk@45271 -

M	compiler/ncgcal.pas

******************************************************************************
commit a4695a7015b1a3b218cd15660e276230e5f9e776
Author: florian <florian@freepascal.org>
Date:   Tue May 5 20:41:36 2020 +0000

      * xtensa-embedded: fix setting of the fpu and abi
    
    git-svn-id: trunk@45270 -

M	compiler/options.pas
M	compiler/systems/i_embed.pas
M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit 3ab5acccb175706526b82a53805d2cdb77366d0c
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 20:35:08 2020 +0000

    * the parameter of WriteWord should be word, not byte :)
    
    git-svn-id: trunk@45269 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 5193e8332cd0c3daf4f661a7cde271b13483e2af
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 19:51:44 2020 +0000

    + also write the relocations in the .rel internal obj writer
    
    git-svn-id: trunk@45268 -

M	compiler/ogrel.pas

******************************************************************************
commit f2b924573a2f26c134f2da49277afb8772fc0b37
Author: pierre <pierre@freepascal.org>
Date:   Tue May 5 12:25:18 2020 +0000

     Do not use inherited first_int_to_real when arm FPU_HAS_FPA is in fpu_capabilities
    
    git-svn-id: trunk@45267 -

M	compiler/arm/narmcnv.pas

******************************************************************************
commit df275152c24173a66895698413d767f52602152c
Author: pierre <pierre@freepascal.org>
Date:   Tue May 5 12:21:21 2020 +0000

     Add -Wp option description for riscv32 and xtensa compiler
    
    git-svn-id: trunk@45266 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 1b5ee0d063119990b66b0952d80ccba4f39c1fe7
Author: pierre <pierre@freepascal.org>
Date:   Tue May 5 12:20:21 2020 +0000

      * Put all code adding cs_fp_emulation by default inside one big
        {$ifdef cpufpemu}
      * Add system_arm_freertos and system_xtena_linux to the list
        of systems that automatically add cs_fp_emulation to
        init_settings.moduleswitches.
      + Do not use controller specfic default fputype for xtensa-linux
        target that does not support use of -Wp option to set controller type.
    
    git-svn-id: trunk@45265 -

M	compiler/options.pas

******************************************************************************
commit 0d11b5bf29f896a93e3f3af271b92628f2efb00f
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 03:23:51 2020 +0000

    + added method TRelRelocation.EncodeFlags that encodes the flags to string that can be included in the .rel file
    
    git-svn-id: trunk@45263 -

M	compiler/ogrel.pas

******************************************************************************
commit 03acadaf1ee9e47ae80d8287cdb9d5ea133089a7
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 03:03:02 2020 +0000

    + initialize size and relflags in TRelRelocation
    
    git-svn-id: trunk@45262 -

M	compiler/ogrel.pas

******************************************************************************
commit 732f1d9df6b379ad8548d0b7348abf40b672aa7c
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 01:13:58 2020 +0000

    + added TRelRelocationFlags
    
    git-svn-id: trunk@45261 -

M	compiler/ogrel.pas

******************************************************************************
commit 569c40611687015c57eae7bb15d1b814c6cb70ca
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 00:59:27 2020 +0000

    + introduced the TRelRelocation class
    
    git-svn-id: trunk@45260 -

M	compiler/ogrel.pas

******************************************************************************
commit f1f819516ed91324c3b9680dc7c2cd9f10e3a423
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 00:06:11 2020 +0000

    + write the section data in the .rel internal object writer (relocations aren't written, yet)
    
    git-svn-id: trunk@45259 -

M	compiler/ogrel.pas

******************************************************************************
commit 724676db4315a9a3a5f26bb6e4c05f9c49f80ebf
Author: florian <florian@freepascal.org>
Date:   Mon May 4 19:58:45 2020 +0000

      * Xtensa: patch by Christo Crause: fix addmi/addi handling, resolves #37015
    
    git-svn-id: trunk@45258 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit ab878adfff2f9622574cc7f21fa6c29ad6f953b8
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 4 02:31:19 2020 +0000

    + actually produce relocations in TRelObjData.writeReloc
    
    git-svn-id: trunk@45251 -

M	compiler/ogrel.pas

******************************************************************************
commit 256597be580a279590586176daee4e9335b3140d
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 4 02:17:30 2020 +0000

    + Z80 internal asm: produce correct opcodes for register operands
    
    git-svn-id: trunk@45250 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 90ee079cd15ffbffc9309fd542686680e4606f95
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 4 01:27:44 2020 +0000

    + partial implementation of pass2 asm opcode generation for the Z80 internal asm writer
    
    git-svn-id: trunk@45249 -

M	compiler/ogrel.pas
M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 5d2be4da1cabec726ea95c0e7e5fb465a7f9a9c1
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 4 00:20:50 2020 +0000

    * Z80: match both signed and unsigned 16-bit constants as OT_IMM16 in the asm instab lookup
    
    git-svn-id: trunk@45248 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 27e9dde81a0738042331616aec0d3dc4f50edc43
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 4 00:14:28 2020 +0000

    + implemented pass1 (calcsize) of the instruction encoding for the Z80 internal asm
    
    git-svn-id: trunk@45247 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 23fa725b0127903999c65e5068ff98e745f8354e
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 23:23:24 2020 +0000

    + added the global symbols to the .rel output file
    
    git-svn-id: trunk@45246 -

M	compiler/ogrel.pas

******************************************************************************
commit bba56d627fd799e9d2daefdef6c6f3ad64abe7d0
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 23:16:23 2020 +0000

    + write the areas (sections) in the .rel output
    
    git-svn-id: trunk@45245 -

M	compiler/ogrel.pas

******************************************************************************
commit 92e86e7673c326fa09cc93c9ecc0abc2b05068be
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 23:10:14 2020 +0000

    * the areas global symbols count must be in hex in the .rel format
    
    git-svn-id: trunk@45244 -

M	compiler/ogrel.pas

******************************************************************************
commit 8e23dc99a110b33a6e24ee75e2cd71c4564d6f1e
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 23:00:52 2020 +0000

    + write the .rel file header and the list of external symbols
    
    git-svn-id: trunk@45243 -

M	compiler/ogrel.pas

******************************************************************************
commit 763e0a14fe4b1077e2dc03cb764bc1bed43e72a6
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 22:22:26 2020 +0000

    + override the abstract methods from TObjData.sectionname() and .writereloc(). Only sectionname() is implemented for now.
    
    git-svn-id: trunk@45242 -

M	compiler/ogrel.pas

******************************************************************************
commit 244f1dd83c703b6ed07377cfa50b88d1fb23cfab
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 22:16:21 2020 +0000

    + added class TRelObjData
    
    git-svn-id: trunk@45241 -

M	compiler/ogrel.pas

******************************************************************************
commit 66a72cfb726bdc5370de99c0f6524469f1af218c
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 21:49:03 2020 +0000

    + added build mode that enables the Z80 internal assembler
    
    git-svn-id: trunk@45239 -

M	compiler/ppcz80.lpi

******************************************************************************
commit 8d1660893be11aa243991c52d4dcea7bf4d63a24
Author: florian <florian@freepascal.org>
Date:   Sun May 3 15:18:08 2020 +0000

      * compilation with -Oodfa fixed
    
    git-svn-id: trunk@45234 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 3d2945726a482fb6c824e4feb8005782b40b7b75
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun May 3 15:08:31 2020 +0000

    * handle generic parameters in Ord()
    + added test
    
    git-svn-id: trunk@45232 -

M	.gitattributes
M	compiler/ninl.pas
A	tests/tbs/tb0672.pp

******************************************************************************
commit b6097a0300fbdb8a1d2a18429f3aea0e384b9782
Author: florian <florian@freepascal.org>
Date:   Sun May 3 12:41:17 2020 +0000

      * correctly handle result type of string constant nodes for internally created
        nodes
    
    git-svn-id: trunk@45231 -

M	.gitattributes
M	compiler/ncnv.pas
A	tests/tbs/tb0671.pp

******************************************************************************
commit 187cc46b327903667c670cf6c50a4b524824d892
Author: yury <jura@cp-lab.com>
Date:   Sat May 2 18:19:26 2020 +0000

    * Windows: Do not use CommandLineToArgvW for parsing command line parameters, because it treats \" as an escape sequence for the double quote.
      - Implemented parsing of the command line which is backward compatible.
      - Do not use GetCommandLineA.
    
    git-svn-id: trunk@45227 -

M	rtl/win/sysos.inc
M	rtl/win/syswin.inc

******************************************************************************
commit 3f6ad30b6936bb215d97105bef9824abbaf0412c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 2 13:17:21 2020 +0000

      * don't convert the fpu parameters size from tcgsize -> int -> float_tcgsize
        if not required, to avoid translating OS_C64 into OS_F64 (fix for x86
        test failures after r45205)
    
    git-svn-id: trunk@45221 -

M	compiler/cgbase.pas
M	compiler/cgobj.pas

******************************************************************************
commit de805fddcd15b4eaf9d92764d043d5527c30311b
Author: florian <florian@freepascal.org>
Date:   Sat May 2 12:33:46 2020 +0000

      * properly force the result type after r45217
    
    git-svn-id: trunk@45220 -

M	compiler/nbas.pas

******************************************************************************
commit 4d710518598a90b8debb01d145cb3af298d41377
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sat May 2 09:32:11 2020 +0000

    ppudump: catch exception on illegal datetime (mainly cross compiled units)
    
    git-svn-id: trunk@45219 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit a61e18091a2275940cb7020abe3a0faee9ca03dc
Author: florian <florian@freepascal.org>
Date:   Sat May 2 09:29:36 2020 +0000

      * compilation with -Oodfa fixed
    
    git-svn-id: trunk@45218 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit e3870079b223386c5f71c993b69843a64f5fa44f
Author: florian <florian@freepascal.org>
Date:   Sat May 2 09:01:35 2020 +0000

      * remove tempref mess for simple inlined functions
    
    git-svn-id: trunk@45217 -

M	compiler/nbas.pas
M	compiler/nutils.pas

******************************************************************************
commit aa6209ab513c9c7b00c73a1d84fb3d5cd87cd5df
Author: nickysn <nickysn@gmail.com>
Date:   Sat May 2 02:35:31 2020 +0000

    + added an override of the abstract method TRelObjOutput.writeData (not implemented, yet)
    
    git-svn-id: trunk@45216 -

M	compiler/ogrel.pas

******************************************************************************
commit 950c1d1693007106f9c8449640ce5b91da4019b6
Author: nickysn <nickysn@gmail.com>
Date:   Sat May 2 02:35:03 2020 +0000

    + enable the Z80 internal asm (which doesn't work, yet) if the compiler is compiled with -dZ80_INTERNAL_ASM
    
    git-svn-id: trunk@45215 -

M	compiler/systems/i_embed.pas
M	compiler/systems/i_zxspectrum.pas

******************************************************************************
commit 0794878b41a2bf44dcefb86d202a0b23ca13af64
Author: florian <florian@freepascal.org>
Date:   Fri May 1 20:50:19 2020 +0000

      * allow recursive inlines, meanwhile, there are other means to avoid too deep recursion of inlining
    
    git-svn-id: trunk@45214 -

M	compiler/ncal.pas

******************************************************************************
commit 43e6d84f33a40cd994ea08cf3d02ce617da9d892
Author: florian <florian@freepascal.org>
Date:   Fri May 1 20:50:18 2020 +0000

      * GetCopyAndTypeCheck forces correct type
      * propagate forinline flag through simplify
    
    git-svn-id: trunk@45213 -

M	compiler/nadd.pas

******************************************************************************
commit 871f60ef61e733b32cbd5b4c4baa9be196f33443
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri May 1 13:55:01 2020 +0000

    * increase PPU version so that 3.2.0 correctly ignores 3.3.1 PPUs instead of fatally failing on the extended header entry
    
    git-svn-id: trunk@45209 -

M	compiler/ppu.pas

******************************************************************************
commit 2840e5e1fda6a4d222057f583c6a65cb08a0074d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri May 1 13:11:02 2020 +0000

    * fix for Mantis #36895: the new epoll_pwait was missing the size parameter for the sigmask parameter
    
    git-svn-id: trunk@45208 -

M	rtl/linux/linux.pp

******************************************************************************
commit 722ad1ff7b1f0ba015494a40ed282c606cbc1148
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 1 13:02:48 2020 +0000

      * support floating point parameters split over multiple locations, including
        integer registers, for homogeneous records/arrays on ppc64le (related to
        mantis #36934)
    
    git-svn-id: trunk@45205 -

M	.gitattributes
M	compiler/cgobj.pas
A	tests/webtbs/tw36934b.pp

******************************************************************************
commit 05923af386db5572a68ab13f0b908c8c96e7831a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 1 13:02:45 2020 +0000

      * ppc64le: fix storing homogeneous 64 bit float parameters in case they are
        split over just FPU registers and memory (related to mantis #36934)
    
    git-svn-id: trunk@45204 -

M	.gitattributes
M	compiler/powerpc64/cpupara.pas
A	tests/webtbs/tw36934a.pp

******************************************************************************
commit 89d9679b53d03e369e22b7cf92c9d5ec1dd2cf98
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 1 12:06:43 2020 +0000

    m68k: have an arch-specific second_length implementation, to make sure length() doesn't return its result in an address register
    
    git-svn-id: trunk@45201 -

M	compiler/m68k/n68kinl.pas

******************************************************************************
commit cfe2d94b251692eadb8b6e188be60e5c7aa49efa
Author: florian <florian@freepascal.org>
Date:   Thu Apr 30 19:42:03 2020 +0000

      * fix LLVM after r45177
    
    git-svn-id: trunk@45198 -

M	compiler/ncginl.pas

******************************************************************************
commit 95ced4a7f55ce63bda60c0d3f6e37427650a0df7
Author: marcus <marcus@idefix.freepascal.org>
Date:   Thu Apr 30 19:28:45 2020 +0000

    Amiga: special CRT unit (named vidcrt) based on video unit
    
    git-svn-id: trunk@45197 -

M	.gitattributes
M	packages/rtl-console/fpmake.pp
A	packages/rtl-console/src/amicommon/vidcrt.pp

******************************************************************************
commit c6b0195c5f248a3d2154ccb9ce5dcdf62867e1ea
Author: marcus <marcus@idefix.freepascal.org>
Date:   Thu Apr 30 19:14:51 2020 +0000

    Amiga: keyboard prevent double keys on GetKeyEvent, if called without PollKeyEvent
    
    git-svn-id: trunk@45196 -

M	packages/rtl-console/src/amicommon/keyboard.pp

******************************************************************************
commit c0ffa18ee246fa8079c83e3461aa02a774c21dac
Author: nickysn <nickysn@gmail.com>
Date:   Thu Apr 30 17:31:18 2020 +0000

    + added class TRelObjOutput
    
    git-svn-id: trunk@45195 -

M	compiler/ogrel.pas

******************************************************************************
commit 19c1ecda547a4d1c97887a8479ada467bdd7ae8a
Author: nickysn <nickysn@gmail.com>
Date:   Thu Apr 30 14:27:48 2020 +0000

    + started work on the Z80 internal assembler
    
    git-svn-id: trunk@45191 -

M	.gitattributes
A	compiler/ogrel.pas
M	compiler/systems.inc
M	compiler/z80/cputarg.pas

******************************************************************************
commit 9b1eebd333fe8737fce6ac9b31b2c186e4c0849e
Author: nickysn <nickysn@gmail.com>
Date:   Thu Apr 30 00:17:29 2020 +0000

    + z80: add operand info to the result of taicpu.GetString, this makes the
      compiler produce nicer error messages, when it encounters an invalid
      instruction in inline asm code
    
    git-svn-id: trunk@45187 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 2f4390ac9bb56128deeaa9d0c1a590388db9eb94
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 23:51:23 2020 +0000

    + added Z80 inline asm instruction validation
    
    git-svn-id: trunk@45186 -

M	compiler/ncgbas.pas

******************************************************************************
commit 34112c932c36c7162f866b4460cbc3700bddc92f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 23:45:09 2020 +0000

    + handle OT_IMM8 and OT_IMM16 for getting symbol addresses in taicpu.Matches
    
    git-svn-id: trunk@45185 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit a79d12ae415573a66f6e8f3aa83081f0877d2d2c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 23:39:47 2020 +0000

    + handle OT_RELJMP8 in taicpu.Matches
    
    git-svn-id: trunk@45184 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 4c021c100a496f2ca5e2c1d8bc8a376c7bd94516
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 23:30:43 2020 +0000

    + handle OT_REG8_C_PORT in taicpu.Matches
    
    git-svn-id: trunk@45183 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit a063a538638d32c10ee10e4f5210df43e3f719bc
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 23:23:20 2020 +0000

    + handle OT_IMM_PORT in taicpu.Matches
    
    git-svn-id: trunk@45182 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 552107f577ddee5ac76eb2e8ee6e17cb94b49bb3
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 22:21:40 2020 +0000

    + z80: implemented taicpu.CheckIfValid
    
    git-svn-id: trunk@45181 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit d5b8e49da276f3fde5443de72e5c338fe6283bb5
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 22:12:51 2020 +0000

    + z80: implemented taicpu.FindInsentry
    
    git-svn-id: trunk@45180 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 5e90aa27d5435a07a44f5fbed44b2a5009a5a0ff
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 21:46:42 2020 +0000

    - z80: oops, forgot to delete some code from taicpu.Matches
    
    git-svn-id: trunk@45179 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit e08c7b3642a18d76bfbb16b94224fb17390fe3af
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 21:38:41 2020 +0000

    + z80: added condition checking in taicpu.Matches
    
    git-svn-id: trunk@45178 -

M	compiler/z80/aasmcpu.pas
M	compiler/z80/cpubase.pas

******************************************************************************
commit 9e0337f2483a3b83187e09c55f1de6f66f8a690d
Author: florian <florian@freepascal.org>
Date:   Wed Apr 29 20:01:53 2020 +0000

      * do not use an extra register in tcginlinenode.second_IncDec if not needed
    
    git-svn-id: trunk@45177 -

M	compiler/cg64f32.pas
M	compiler/cgobj.pas
M	compiler/ncginl.pas

******************************************************************************
commit 7f769f024b1772c5b7796b88bf21394a39cac89a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 19:44:57 2020 +0000

    * Z80: fixed code generation for pure assembler routines, that have no parameters, no local variables
      and no 'nostackframe'
    
    git-svn-id: trunk@45176 -

M	compiler/z80/cgcpu.pas

******************************************************************************
commit 365e320119208fc45b355b96d743af7318c16b47
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 16:25:52 2020 +0000

    + partial implementation of taicpu.Matches
    
    git-svn-id: trunk@45175 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 20e2a0eface9ee9e46ca52b173ad1c522402e55c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 16:00:25 2020 +0000

    + added Z80 register AF'
    
    git-svn-id: trunk@45174 -

M	compiler/z80/rz80con.inc
M	compiler/z80/rz80dwa.inc
M	compiler/z80/rz80nor.inc
M	compiler/z80/rz80num.inc
M	compiler/z80/rz80rni.inc
M	compiler/z80/rz80sri.inc
M	compiler/z80/rz80sta.inc
M	compiler/z80/rz80std.inc
M	compiler/z80/rz80sup.inc
M	compiler/z80/z80reg.dat

******************************************************************************
commit 6654faea084f0c50bba9a059f5593769a2be647f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 14:53:21 2020 +0000

    + build an instruction table cache for the Z80
    
    git-svn-id: trunk@45173 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit f8c2d4a6320417c267863bfcb026ca0b3d687702
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 12:19:59 2020 +0000

    * added comment, stating that Z80 has no condition subsets
    
    git-svn-id: trunk@45172 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit cfb28c765471db145c14fd64749770266205c2b2
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 02:00:26 2020 +0000

    * fixed bug, causing the global variable stacksize to be destroyed
    
    git-svn-id: trunk@45171 -

M	compiler/z80/cgcpu.pas

******************************************************************************
commit e60ab7148d010bda30aad8d5e6c9591b5c322ae6
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 01:53:01 2020 +0000

    * fixed compilation with sdld
    
    git-svn-id: trunk@45170 -

M	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit 695a260ff80e53ba01376beb6ec8f0d7076851a2
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 29 01:32:48 2020 +0000

    zxspectrum: added support for linking via vlink, and for pascal sysinit code. also some cleanup in the linker code
    
    git-svn-id: trunk@45169 -

M	compiler/systems.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 5b2426752982777fc1e39b39fe01749990ca8a24
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 01:22:22 2020 +0000

    * reduced the stack margin for stack checking to 64 bytes on the Z80
    
    git-svn-id: trunk@45168 -

M	rtl/inc/system.inc

******************************************************************************
commit 594138141af83d43148e8449d1ed8a876dc0d536
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 29 01:18:37 2020 +0000

    zxspectrum: in the pascal startup code, match start symbol name with the asm startup code
    
    git-svn-id: trunk@45167 -

M	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit 59b90c24ed385555cb8e42b1fa98f105ff9c1d8a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 01:10:52 2020 +0000

    + initialize StackBottom and StackLength in the startup of the ZX Spectrum system unit
    
    git-svn-id: trunk@45166 -

M	rtl/zxspectrum/system.pp

******************************************************************************
commit c20641545042b195962241c5683e89d0980e992b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 28 23:13:29 2020 +0000

    zxspectrum: pascal startup code. this allows the RTL to be built with any assembler
    
    git-svn-id: trunk@45165 -

M	.gitattributes
M	rtl/zxspectrum/Makefile
M	rtl/zxspectrum/Makefile.fpc
A	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit 60c73dd14be996d98af574de4ae98f99e56cdca7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 28 23:10:35 2020 +0000

    z80: fix typo in the previous commit
    
    git-svn-id: trunk@45164 -

M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 04bd105cf5d2446cf6953e424af99437327d2abc
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 28 23:10:03 2020 +0000

    z80: fix global symbols and section attributes in the vasm writer
    
    git-svn-id: trunk@45163 -

M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 50c221670f87d0ee44a000b2bfe47979787f0dba
Author: florian <florian@freepascal.org>
Date:   Tue Apr 28 21:25:42 2020 +0000

      * do not generate moves unncesssarily in tcgloadparentfpnode.pass_generate_code
    
    git-svn-id: trunk@45162 -

M	compiler/ncgmem.pas

******************************************************************************
commit 8aacea88504fda6d66e6026e223ef01a87ac37b6
Author: marcus <marcus@idefix.freepascal.org>
Date:   Tue Apr 28 21:14:44 2020 +0000

    Amiga: Video unit, do not draw Cursor if outside the window (would write over the window border)
    
    git-svn-id: trunk@45161 -

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 86e04ddd5c5dc2024425c268e2132ebfb28798d3
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 19:34:38 2020 +0000

    + enable the sdasz80 lameness check permanently, because the system unit now
      compiles, and it's important to catch other similar errors also
    
    git-svn-id: trunk@45158 -

M	compiler/z80/agsdasz80.pas

******************************************************************************
commit 07a8af33b16ce3e69e7d05630bc6b7071136cee7
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 19:31:11 2020 +0000

    + z80: generate correct code in do_spill_read and do_spill_written for spilling to temp offsets outside the range -128..127
    
    git-svn-id: trunk@45157 -

M	compiler/z80/rgcpu.pas

******************************************************************************
commit 6dbe1368ef95661336b3d81157dc67710f7e0795
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 18:49:50 2020 +0000

    + z80: added range checking for d in the (IX+d) and (IY+d) addressing modes in
      the sdasz80 assembler writer, because sdasz80 silently truncates d to shortint
      which produces broken code and hides bugs in the z80 code generator. The check
      is behind ifdef, because the system unit doesn't compile, when this check is
      enabled, due to bugs that were previously unnoticed. When these bugs are
      fixed, the ifdef will be removed.
    
    git-svn-id: trunk@45156 -

M	compiler/z80/agsdasz80.pas

******************************************************************************
commit 589b2b956fbd6a738073b760f6e7298ba08c9736
Author: marcus <marcus@idefix.freepascal.org>
Date:   Tue Apr 28 18:41:45 2020 +0000

    Fixed LLVM compilation after r45143
    
    git-svn-id: trunk@45155 -

M	compiler/llvm/llvmbase.pas

******************************************************************************
commit a506fe95602b940cb4a5baa3e448d486fb7bddf1
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 28 18:35:53 2020 +0000

     Fix cross-compilation on aarch64-linux using -dFPC_SOFT_FPUX80 option
    
    git-svn-id: trunk@45154 -

M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 573d69c8fe2c62d414757b026140f1afd8bea956
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 15:14:39 2020 +0000

    * unfortunately tf_smartlink_sections is mutually exclusive with
      tf_smartlink_library, and defining both breaks sdasz80, so put this behind
      ifdef Z80_SMARTLINK_SECTIONS
    
    git-svn-id: trunk@45153 -

M	compiler/systems/i_zxspectrum.pas

******************************************************************************
commit 23fc0fe66a9d780615f6cbf78f0fa955070ff426
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 28 01:23:31 2020 +0000

    z80: added quick & dirty vasm assembler support to the target
    
    git-svn-id: trunk@45152 -

M	.gitattributes
M	compiler/systems.inc
M	compiler/systems/i_zxspectrum.pas
A	compiler/z80/agz80vasm.pas
M	compiler/z80/cputarg.pas

******************************************************************************
commit db1ef439b5dee9f0fee101db4ea4a7119fbb1e3b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 28 01:17:29 2020 +0000

    z80: sdasz80 won't do section smartlinking for us, but it's used for the zx spectrum target
    
    git-svn-id: trunk@45151 -

M	compiler/z80/agsdasz80.pas

******************************************************************************
commit 491462fd023245fabbd711538a8fa57de3306bab
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 00:18:49 2020 +0000

    + added another helper for register pairs: register_in
    
    git-svn-id: trunk@45150 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit a5d36e1bc6578d7d0ee6bab5f5defeb71a21c499
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 00:05:53 2020 +0000

    + added Z80 helper functions is_regpair and split_regpair
    
    git-svn-id: trunk@45149 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit fa052f76ee041de1d3978cfa6b2a617af18d8ded
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 27 22:13:36 2020 +0000

    + added empty strings.inc and stringss.inc files
    
    git-svn-id: trunk@45148 -

M	.gitattributes
A	rtl/z80/strings.inc
A	rtl/z80/stringss.inc

******************************************************************************
commit 69c95115f6a9410d7067e624db594f5c5b03e5fe
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 27 22:03:36 2020 +0000

    - removed GetHigh, GetNextReg, GetLastReg, GetOffsetReg and GetOffsetReg64 from cpubase. The methods
      in cg should be used instead, because they do better error checking on the register used.
    
    git-svn-id: trunk@45147 -

M	compiler/z80/cpubase.pas
M	compiler/z80/nz80mem.pas

******************************************************************************
commit f202249711646b4b836cfac5a0e3e95af0bef917
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 27 21:47:46 2020 +0000

    + implemented get_caller_addr and get_caller_frame for the Z80
    
    git-svn-id: trunk@45146 -

M	rtl/z80/z80.inc

******************************************************************************
commit 681067749330af9227ec8771bc0930a15fa9778a
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 27 20:17:45 2020 +0000

    * updated revision.inc
    
    git-svn-id: trunk@45144 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 29d681168a7997875dd5ba06f0aaa7198abc5631
Merge: a084c8829f a857e60dc1
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 27 20:07:54 2020 +0000

    * merged the z80 branch
    
    git-svn-id: trunk@45143 -


******************************************************************************
commit a084c8829f6375f4ce90b68d7502b8b4a1ec6145
Author: florian <florian@freepascal.org>
Date:   Mon Apr 27 19:27:16 2020 +0000

      * patch by J. Gareth Moreton: refactor RemoveCurrentP
    
    git-svn-id: trunk@45142 -

M	compiler/aoptobj.pas
M	compiler/arm/aoptcpu.pas
M	compiler/avr/aoptcpu.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit e7f7927ca9d6db490e75d66abb30d8b71a358e90
Author: florian <florian@freepascal.org>
Date:   Mon Apr 27 19:19:54 2020 +0000

      + initialize variables, so compilation with -O3 works
    
    git-svn-id: trunk@45141 -

M	compiler/pgenutil.pas

******************************************************************************
commit db9a284d60127aab3bda2820b952df53d4e65665
Author: florian <florian@freepascal.org>
Date:   Sun Apr 26 20:54:22 2020 +0000

      * simplify xtensa-linux building
    
    git-svn-id: trunk@45124 -

M	compiler/systems.pas
M	compiler/xtensa/agcpugas.pas

******************************************************************************
commit 1395b2850e61574e905737e4056d22f705664cf0
Author: florian <florian@freepascal.org>
Date:   Sun Apr 26 17:24:30 2020 +0000

      + xtensa-linux support for several packages
    
    git-svn-id: trunk@45119 -

M	packages/libffi/src/ffi.pp
M	packages/rtl-extra/src/linux/unixsock.inc
M	packages/rtl-extra/src/unix/ipc.pp

******************************************************************************
commit 7dfefcb1f6cc31063342cd5e5040f758d2b68b0b
Author: florian <florian@freepascal.org>
Date:   Sun Apr 26 17:24:06 2020 +0000

      * Xtensa: fpc_setjmp dummy
    
    git-svn-id: trunk@45118 -

M	rtl/xtensa/setjump.inc

******************************************************************************
commit 8ef29235c37f5c8bb054f134b8eac6babd4b825d
Author: florian <florian@freepascal.org>
Date:   Sun Apr 26 17:23:24 2020 +0000

      * Xtensa: set source_cpu_string
    
    git-svn-id: trunk@45117 -

M	compiler/version.pas

******************************************************************************
commit 86fa90b400d87c26c3136734d4d5eb408811f83a
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 26 16:47:47 2020 +0000

    amiga: Crt, fixed cursor x and y position
    
    git-svn-id: trunk@45114 -

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit f72a795cc7f2f77d88e0c41056cb7cd4cc996036
Author: florian <florian@freepascal.org>
Date:   Sun Apr 26 13:11:02 2020 +0000

      * fixed SetIsEmpty
    
    git-svn-id: trunk@45094 -

M	compiler/symdef.pas

******************************************************************************
commit 04554d7505569d1dc67bc66f64ed61251ca1c51c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 26 11:46:24 2020 +0000

    * use a more detailed error message if a type is not allowed for a generic constant parameter
    
    git-svn-id: trunk@45092 -

M	compiler/pgenutil.pas

******************************************************************************
commit 287c298f378202ba9e5fa38f30f9d12bf8834366
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 26 11:46:18 2020 +0000

    * regenerate msg{txt,idx}.inc
    
    git-svn-id: trunk@45091 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 258331e91421c438e80c926e79833b1f4845ffe8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 26 11:46:14 2020 +0000

    + add an explicit error message if a type is not supported for a generic constant parameter
    
    git-svn-id: trunk@45090 -

M	compiler/msg/errore.msg

******************************************************************************
commit a46733218725a7650c3422aaf18c2fde35551330
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 26 11:46:10 2020 +0000

    * fix for Mantis #36975: arraydefs are not allowed for generic types (this is only used for type declarations; for specializing constant strings which are char arrays are still allowed)
    + added test
    
    git-svn-id: trunk@45089 -

M	.gitattributes
M	compiler/pgenutil.pas
A	tests/webtbf/tw36975.pp

******************************************************************************
commit 7757306c7885c915de6620ac62ff83cc7db96f1f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 26 11:46:06 2020 +0000

    * destroying constnone constsyms can occur when parsing a generic with a constant parameter that results in an error (e.g. unsupported type)
    
    git-svn-id: trunk@45088 -

M	compiler/symsym.pas

******************************************************************************
commit f5e89ded35caa36d5dbf0aa664c0d26de59a8983
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 26 11:36:42 2020 +0000

      * fix tc_bool_2_int simplification in case pass typecheck runs again, e.g.
        after getting a copy of the node during CSE (fixes taddset4 compilation
        with LLVM after r44712)
    
    git-svn-id: trunk@45087 -

M	compiler/ncnv.pas

******************************************************************************
commit 60345366f254fe85417c2de4e9d0ccf8f2c85d1c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Apr 25 22:12:35 2020 +0000

    * fix for Mantis #35140: apply patch by Ryan Joseph together with some further changes by me to add support for constant parameters in generics
    + added tests
    
    git-svn-id: trunk@45080 -

M	.gitattributes
M	compiler/defcmp.pas
M	compiler/htypechk.pas
M	compiler/ncnv.pas
M	compiler/ncon.pas
M	compiler/nmat.pas
M	compiler/node.pas
M	compiler/nset.pas
M	compiler/pass_1.pas
M	compiler/pdecl.pas
M	compiler/pdecsub.pas
M	compiler/pdecvar.pas
M	compiler/pexpr.pas
M	compiler/pgentype.pas
M	compiler/pgenutil.pas
M	compiler/pparautl.pas
M	compiler/ppu.pas
M	compiler/pstatmnt.pas
M	compiler/ptype.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp
A	tests/test/tgenconst1.pp
A	tests/test/tgenconst10.pp
A	tests/test/tgenconst11.pp
A	tests/test/tgenconst12.pp
A	tests/test/tgenconst13.pp
A	tests/test/tgenconst14.pp
A	tests/test/tgenconst15.pp
A	tests/test/tgenconst16.pp
A	tests/test/tgenconst17.pp
A	tests/test/tgenconst18.pp
A	tests/test/tgenconst19.pp
A	tests/test/tgenconst2.pp
A	tests/test/tgenconst20.pp
A	tests/test/tgenconst21.pp
A	tests/test/tgenconst22.pp
A	tests/test/tgenconst23.pp
A	tests/test/tgenconst24.pp
A	tests/test/tgenconst25.pp
A	tests/test/tgenconst26.pp
A	tests/test/tgenconst27.pp
A	tests/test/tgenconst28.pp
A	tests/test/tgenconst29.pp
A	tests/test/tgenconst3.pp
A	tests/test/tgenconst30.pp
A	tests/test/tgenconst4.pp
A	tests/test/tgenconst5.pp
A	tests/test/tgenconst6.pp
A	tests/test/tgenconst7.pp
A	tests/test/tgenconst8.pp
A	tests/test/tgenconst9.pp

******************************************************************************
commit 951f02d188c6233ff7e08ceb54590e27f07cf1f1
Author: florian <florian@freepascal.org>
Date:   Sat Apr 25 19:35:28 2020 +0000

      * correctly set register size
    
    git-svn-id: trunk@45076 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 687b31575bb459c424e3666df40d36f806bd864a
Author: pierre <pierre@freepascal.org>
Date:   Sat Apr 25 08:14:17 2020 +0000

     Update revision.inc after commit 44920
    
    git-svn-id: trunk@45060 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 670e77864372d4e45300e6cadbb3d860064b7e1a
Author: florian <florian@freepascal.org>
Date:   Fri Apr 24 20:56:56 2020 +0000

      + assembler optimization MovxMov2Movx
    
    git-svn-id: trunk@45057 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 8b71455e3b43235a283b815771ec85060dedfb6e
Author: florian <florian@freepascal.org>
Date:   Thu Apr 23 20:17:28 2020 +0000

      + Xtensa: enable jump optimizer
    
    git-svn-id: trunk@45045 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit 8d95da3feafcffcd7b2bf539bfdf4b90a09c2963
Author: yury <jura@cp-lab.com>
Date:   Thu Apr 23 12:38:42 2020 +0000

    * Windows: Reworked handling of command line arguments to properly support Unicode:
      - Use the CommandLineToArgvW API function to parse the Unicode command line (we can use it since Win9x is not supported anymore).
      - Implemented non-public functions ParamStrA and ParamStrU which are exposed in the objpas and uuchar units to provide correct AnsiString and UnicodeString versions of ParamStr().
      - The cleanup code is moved from InternalExit to the finalization section of the System unit.
    
    git-svn-id: trunk@45037 -

M	rtl/inc/system.inc
M	rtl/inc/uuchar.pp
M	rtl/objpas/objpas.pp
M	rtl/win/sysos.inc
M	rtl/win/syswin.inc
M	rtl/win/syswinh.inc
M	rtl/win32/system.pp
M	rtl/win64/system.pp

******************************************************************************
commit 483837ae5cdf79f77aa935f79598da4c3740caf4
Author: florian <florian@freepascal.org>
Date:   Wed Apr 22 21:03:08 2020 +0000

      + Xtensa: make use of ADDX*
    
    git-svn-id: trunk@45001 -

M	.gitattributes
M	compiler/xtensa/cpunode.pas
A	compiler/xtensa/ncpumem.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 74abe873151caecdd73cb2442631050bee0bb7d3
Author: florian <florian@freepascal.org>
Date:   Wed Apr 22 21:03:06 2020 +0000

      * Xtensa: do SAR by a constant using SRAI
    
    git-svn-id: trunk@45000 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 0f4ddf7b3497938dce9f1ae5b20179e13c78d03d
Author: yury <jura@cp-lab.com>
Date:   Wed Apr 22 09:13:20 2020 +0000

    * Do not report about unimplemented unicodestring manager when HAS_WIDESTRINGMANAGER is defined (on Windows). In such case unimplemented parts are never executed unless you call them directly.
    * Do not assign DefaultGetStandardCodePage when HAS_WIDESTRINGMANAGER is defined (on Windows).
    
    git-svn-id: trunk@44995 -

M	rtl/inc/ustrings.inc

******************************************************************************
commit 2d3cd25fd8d614ba0d95c490371be52f8fe7fccc
Author: florian <florian@freepascal.org>
Date:   Tue Apr 21 20:34:15 2020 +0000

      * patch by Michael Ring: adds license headers to th FreeRTOS files and some renames to make the interrupts cmsis compatible.
    
    git-svn-id: trunk@44973 -

M	rtl/freertos/arm/stm32f103xe.pp
M	rtl/freertos/arm/stm32f401xe.pp
M	rtl/freertos/arm/stm32g071xx.pp

******************************************************************************
commit c3954a0cee3ecd2e77124ea3cb0994dcf61d1852
Author: yury <jura@cp-lab.com>
Date:   Tue Apr 21 18:55:24 2020 +0000

    * Fixed r44960. Also copy a trailing implicit #0 of the original string to the new larger string.
    
    git-svn-id: trunk@44970 -

M	rtl/inc/astrings.inc

******************************************************************************
commit 1e32b96bc230cd044d6c37faeb5a63e55408778a
Author: yury <jura@cp-lab.com>
Date:   Tue Apr 21 14:18:35 2020 +0000

    * Minor improvement. No need to move the terminating null char, since it is written later anyway. Remove a local var.
    
    git-svn-id: trunk@44960 -

M	rtl/inc/astrings.inc

******************************************************************************
commit ef790adc28cbb70befd6571c622a353160c6db47
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 21 13:54:22 2020 +0000

    m68k-amiga: document which legacy support functions are unimplemented and why, and where are they used in the RTL code
    
    git-svn-id: trunk@44959 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit 184d6d61ed2ec9209af5f696626243074ecbee93
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:09:20 2020 +0000

    * regenerate makefiles
    
    git-svn-id: trunk@44958 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 2aa0e508731a84586222db50b8937831ff8eca44
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:07:06 2020 +0000

    * implement dogetcopy for the Aarch64 variant of the tryfinally node
    
    git-svn-id: trunk@44957 -

M	compiler/aarch64/ncpuflw.pas

******************************************************************************
commit 55c1ecedac40f079be9fbf04cdbd1dbcecc7660d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:07:03 2020 +0000

    * set implicitframe for copied tryfinally nodes as well
    
    git-svn-id: trunk@44956 -

M	compiler/nflw.pas

******************************************************************************
commit e01de8098137ca8a8fe9f5d0a95d742d6e8e7eb2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:40 2020 +0000

    * register the DLL scanner for aarch64-win64
    
    git-svn-id: trunk@44950 -

M	compiler/systems/t_win.pas

******************************************************************************
commit 7f4b94e4087a46b3c89dfb8731ddc6a0ba2c015b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:36 2020 +0000

    * generate jump tables into the same section as the code as otherwise we'll get bogus relocations (in case of clang.exe) or a future support for armasm64.exe will reject the relative symbols outright
    
    git-svn-id: trunk@44949 -

M	compiler/aarch64/ncpuset.pas

******************************************************************************
commit b88107fa1d7eca0004f0cdeb149f2cb15b711f13
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:31 2020 +0000

    * due to an apparent bug in the clang assembler for COFF when assembling ADRP instructions we can't use symbols that are offset into their section
    
    git-svn-id: trunk@44948 -

M	compiler/aasmcnst.pas

******************************************************************************
commit 042aae24554402b152750137c37ddd0ba079418b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:28 2020 +0000

    * the clang assembler does not provide support for the SEH directives we need (only the LLVM backend would be able to use them), thus we need to manually convert them to data sections
    
    git-svn-id: trunk@44947 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 531c93a04e58755dff30399d08c243602e404080
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:24 2020 +0000

    * regenerate msg{idx,txt}.inc
    
    git-svn-id: trunk@44946 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 7f0d582a4a46297bf021722e993cd40fdd121997
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:20 2020 +0000

    + add Win64 target to help text
    
    git-svn-id: trunk@44945 -

M	compiler/msg/errore.msg

******************************************************************************
commit 6143b8b54d03b8af9704d64fb25223629f0baa6a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:16 2020 +0000

    + add an error message if the size of a function is invalid (in case of aarch64-win64: not a multiple of 4, the instruction size)
    
    git-svn-id: trunk@44944 -

M	compiler/msg/errore.msg

******************************************************************************
commit ada6d8ce5e1dcc4c5a86f63348fbe1c50be3c8a7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:13 2020 +0000

    * the .pdata section currently only needs to be always included for arm-wince (at least until we have full SEH support there as well)
    
    git-svn-id: trunk@44943 -

M	compiler/ogcoff.pas

******************************************************************************
commit 96c52ef16d0848d46da5c47e5981d09cca082d94
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:09 2020 +0000

    + implement a main_wrapper for the default exception handler for aarch64-win64
    
    git-svn-id: trunk@44942 -

M	rtl/win64/system.pp

******************************************************************************
commit 2b59000d563d6177edf02ad3d6bdc73afbbeafba
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:05 2020 +0000

    + implement compiler support for SEH on Win64
    
    Note: due to the way we access variables in a nested function (which in this case includes exception filters) we can not extract the finally handlers and call them (like we do on i386 and x86_64, but instead we duplicate the finally code)
    
    git-svn-id: trunk@44941 -

M	.gitattributes
M	compiler/aarch64/cgcpu.pas
M	compiler/aarch64/cpunode.pas
M	compiler/aarch64/cpupi.pas
A	compiler/aarch64/ncpuflw.pas
M	compiler/aarch64/racpugas.pas
M	compiler/aasmtai.pas
M	compiler/ogcoff.pas
M	compiler/psub.pas
M	compiler/x86_64/win64unw.pas

******************************************************************************
commit 4e06d66d7fb98e634e4e86a1d43f3856da429fec
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:59 2020 +0000

    + implement RTL functionality for SEH for aarch64-win64
    
    git-svn-id: trunk@44940 -

M	rtl/win64/seh64.inc
M	rtl/win64/system.pp

******************************************************************************
commit bfa5bf80e20e47101e4253f920895acb098436b4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:55 2020 +0000

    * inside the Win64 system unit convert FPC_USE_WIN64_SEH to a SYSTEM_USE_WIN_SEH
    
    git-svn-id: trunk@44939 -

M	rtl/win64/seh64.inc
M	rtl/win64/system.pp

******************************************************************************
commit 5c898fe795be88b59ae3c650abe9d5981a9dcead
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:51 2020 +0000

    * enable is_prefetch only for x86 code
    
    git-svn-id: trunk@44938 -

M	rtl/win64/system.pp

******************************************************************************
commit c152796bf3a25f2a9fbc9fdd67f0d1cdb31dbca4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:46 2020 +0000

    * rename RunErrorCodex64 to a more appropriate RunErrorCodeSEH
    
    git-svn-id: trunk@44937 -

M	rtl/win64/seh64.inc

******************************************************************************
commit 25c6f3a667b24d7d9f9f165e0a5eb6b37dadb357
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:43 2020 +0000

    * the prefetch bug handling is specific to x86_64
    
    git-svn-id: trunk@44936 -

M	rtl/win64/seh64.inc

******************************************************************************
commit f3c377f8d1e689d70f39e831701ab243162030c2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:39 2020 +0000

    * use accessor functions to work with the TContext record
    
    git-svn-id: trunk@44935 -

M	rtl/win64/seh64.inc

******************************************************************************
commit fed17122f85f08ee9bd0ce89ce3fdd2860e35eac
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:35 2020 +0000

    * as a variant for SEH exception filters we allow them to be *duplicated* instead of being extracted; this can be done unconditionally as for extracted ones their code is set to Nil after they're done and thus won't be picked up by generate_code_exceptionfilters
    
    git-svn-id: trunk@44934 -

M	compiler/psub.pas

******************************************************************************
commit f150fc6b7cdf797f9cbbd436ab40ba388f4328bf
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:25 2020 +0000

    * at least clang can savely generate relocatable readonly sections, so use "r" for aarch64-win64
    
    git-svn-id: trunk@44931 -

M	compiler/aggas.pas

******************************************************************************
commit 329710f5730f6aa9baabab10992a50435b29a390
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:21 2020 +0000

    * use COFF sectionattrs for aarch64-win64 as well
    
    git-svn-id: trunk@44930 -

M	compiler/aggas.pas

******************************************************************************
commit 3f40e00392b6701dffd95c5aa1cd38a9a4cf9297
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:18 2020 +0000

    * the clang assembler for COFF requires at least an "r" to generate a readonly section
    
    git-svn-id: trunk@44929 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 3f62c5f5ef62b791b22aadf5059041619e88a5a2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:14 2020 +0000

    + introduce a virtual method for writing the section flags
    
    git-svn-id: trunk@44928 -

M	compiler/aggas.pas

******************************************************************************
commit b5a4f8837cb7abec3818eaaaa304ae2a4c2a17d0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:10 2020 +0000

    * rename the local sectionflags and sectionprogbits variables to the more clear usesectionflags and usesectionprogbits
    
    git-svn-id: trunk@44927 -

M	compiler/aggas.pas

******************************************************************************
commit 61358b1eaad0f8b5e605d58983b43c1864a38da0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:06 2020 +0000

    * it's rather useless that sectiontype2options is virtual as we can't use a class type, not to mention that the classes doing the overriding are for the internal assemblers/linkers, but we need it also for external
      Thus we move the functionality of the overloads to the basemethod and remove the virtual directive; maybe we'll find a better solution in the future...
    
    git-svn-id: trunk@44926 -

M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogomf.pas

******************************************************************************
commit 0cc592e9eea8cd2d1943adb20db14fc32d5a64e4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:02 2020 +0000

    - remove sectiontype2options overload for mach-O, because the relevant sections have the correct flags in the base method already
    
    git-svn-id: trunk@44925 -

M	compiler/ogmacho.pas

******************************************************************************
commit 12ef0668970c478becd1661e2825d0d0aa2cad3e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:59 2020 +0000

    + add functionality to store a node tree's required temp nodes and their flag upon entering the tree
    
    git-svn-id: trunk@44924 -

M	compiler/psub.pas

******************************************************************************
commit 41b17115895bc992f9c34aa8385be55f4079c75e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:55 2020 +0000

    * disable CPU and Signals units for Windows on AArch64 for now
    
    git-svn-id: trunk@44923 -

M	rtl/win64/buildrtl.pp

******************************************************************************
commit 1972b05cc8840e95d01ee332d4c931226f1e8f3f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:52 2020 +0000

    * store and restore the 8087 control world only on x86 systems
    
    git-svn-id: trunk@44922 -

M	rtl/win/sysutils.pp

******************************************************************************
commit c474b95dfcb780807fbc982182cabe6a586e05f1
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:49 2020 +0000

    * disable some x86_64 specific assembly routines
    
    git-svn-id: trunk@44921 -

M	rtl/win64/system.pp

******************************************************************************
commit 79a4409587318b836abf829fc01bcfb2a6364638
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:45 2020 +0000

    * enable AArch64 for Win64 in fpmkunit and fpcmake
    
    git-svn-id: trunk@44920 -

M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 613a6e796a30c0e4ee4e926b92f7d5ad8213e817
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:41 2020 +0000

    * Windows on AArch64 requires some DllCharacteristics in the header to be always set
    
    git-svn-id: trunk@44919 -

M	compiler/ogcoff.pas

******************************************************************************
commit 40633835dcaa2206cf041bb5abca51accb39b1b7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:37 2020 +0000

    * Windows on Aarch64 requires a relocation section
    
    git-svn-id: trunk@44918 -

M	compiler/pmodules.pas

******************************************************************************
commit 3b1d5794e9c7b06e2c8ce9f11610b479d3a55132
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:34 2020 +0000

    * Windows on AArch64 does not support ProgBits either
    
    git-svn-id: trunk@44917 -

M	compiler/aggas.pas

******************************************************************************
commit a6f1c04f22723ea2da0c5938240f74fe87552aeb
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:31 2020 +0000

    * Windows does not support a GOT, so rely on page relative addressing
    
    git-svn-id: trunk@44916 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit dfde4def62ef9798084f4ea4a8ccd2963b9e354b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:27 2020 +0000

    + add a GAS compatible variant of the Clang assembler (currently used for Aarch64-Win64 as no GNU AS exists for that target, yet)
    
    git-svn-id: trunk@44915 -

M	compiler/aarch64/agcpugas.pas
M	compiler/systems.inc

******************************************************************************
commit 3af74d2fd2a9a431d0b0b966b03d2fa07cc0e59a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:22 2020 +0000

    + implement initial compiler support for Win64 on Aarch64
    
    git-svn-id: trunk@44914 -

M	compiler/aarch64/cputarg.pas
M	compiler/gendef.pas
M	compiler/ogcoff.pas
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/systems/i_win.pas
M	compiler/systems/t_win.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 5b941e3cea65f1bc58bc2189d6eb371b3c3441d4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:15 2020 +0000

    + implement relocations for Aarch64 for the internal COFF linker
    
    git-svn-id: trunk@44913 -

M	compiler/ogbase.pas
M	compiler/ogcoff.pas

******************************************************************************
commit 3e29742fd9b4d483b0cb3c7bd1b0417e6fddbad6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:10 2020 +0000

    * for PE+ specific checks use a constant in systems.pas instead of an explicit list (easier to extend this way)
    
    git-svn-id: trunk@44912 -

M	compiler/aasmtai.pas
M	compiler/assemble.pas
M	compiler/ogcoff.pas
M	compiler/systems.pas
M	compiler/systems/t_win.pas

******************************************************************************
commit 6630f47ab492f1860723e58ee36496b94a8f9f32
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 21 03:01:17 2020 +0000

    m68k-amiga: implemented LockDosList, UnlockDosList, and NextDosEntry helpers for legacy support
    
    git-svn-id: trunk@44907 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit b4ff93c9fed1d9a54bf4a58f9f24b42779488589
Author: florian <florian@freepascal.org>
Date:   Mon Apr 20 20:08:19 2020 +0000

      + forgotten files added
    
    git-svn-id: trunk@44889 -

M	.gitattributes
A	rtl/freertos/arm/cortexm0.pp
A	rtl/freertos/arm/cortexm0_start.inc
A	rtl/freertos/arm/cortexm3.pp
A	rtl/freertos/arm/cortexm3_start.inc
A	rtl/freertos/arm/cortexm4.pp
A	rtl/freertos/arm/cortexm4f_start.inc
A	rtl/freertos/arm/cortexm7.pp
A	rtl/freertos/arm/stm32f103xe.pp
A	rtl/freertos/arm/stm32f401xe.pp
A	rtl/freertos/arm/stm32g071xx.pp

******************************************************************************
commit 068f0d2ec8ee953998eebf578bcb27d821be4dac
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Apr 20 18:42:30 2020 +0000

    * fix for Mantis #36935: apply patch by J. Gareth Moreton to fix a typo in cs_opt_remove_empty_proc
    
    git-svn-id: trunk@44888 -

M	compiler/globtype.pas
M	compiler/ncal.pas
M	compiler/ncgvmt.pas
M	compiler/psub.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit cd6de6a4cae00d2a5f9b09cc62947f94f6724445
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 20 13:58:47 2020 +0000

    Regenerate all Makefiles
    
    git-svn-id: trunk@44882 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 3f9e6aa6b9655f8e5310ead9fec42b59a78da003
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 20 13:57:26 2020 +0000

    Add handling of sparc64-linux and pass -m32/-m64 to $CROSSGCC call
    
    git-svn-id: trunk@44881 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 4d25558519f9662785c16ef3717f11e1716c1617
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 20 09:50:07 2020 +0000

      * Use off_t type for l_start and l_end fields instead of kernel_off_t
      + Distinguish rlim_t type depending on fs32bit macro being set or not.
    
    git-svn-id: trunk@44879 -

M	rtl/linux/ostypes.inc

******************************************************************************
commit 4888c379c433c51d7dfa68adff8d69d785cff9a0
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 20 09:37:55 2020 +0000

     Use same field type and name as in /ust/include/sys/stat.h
    
    git-svn-id: trunk@44878 -

M	rtl/linux/powerpc/stat.inc
M	rtl/linux/powerpc64/stat.inc

******************************************************************************
commit 4b5f37c2a7c9b2e808e9e56243988bddf789f337
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 19 21:48:58 2020 +0000

     Correctly update after commit 44871
    
    git-svn-id: trunk@44876 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 57809eb922c2d9e6dbca04fdc54d3c020905df88
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 19 21:40:40 2020 +0000

     Add several missing -T options in help
    
    git-svn-id: trunk@44875 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit a76c0db9dd55ecd4e81116fdc1779dc110376cc2
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 19 21:09:08 2020 +0000

     Update after commit 44790
    
    git-svn-id: trunk@44872 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 8ac8c79a71abc78e50e5fa2206c93ff1a555f144
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 20:59:52 2020 +0000

      + initial support for arm-freertos largely based on patch by Michael Ring
    
    git-svn-id: trunk@44871 -

M	compiler/aggas.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cpuelf.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/cputarg.pas
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/systems/i_freertos.pas
M	compiler/systems/t_embed.pas
M	compiler/systems/t_freertos.pas
M	compiler/utils/ppuutils/ppudump.pp
M	rtl/freertos/Makefile.fpc
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini
M	utils/fpcm/fpcmmain.pp
M	utils/fpcm/revision.inc

******************************************************************************
commit 0750fdf4102f004b0363c871b3acbb9e359158dd
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 20:59:50 2020 +0000

      * xtensa-freertos requires also SUBARCH being set
    
    git-svn-id: trunk@44870 -

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit be50c77f342dab9fa790edf5597594c665dd97e8
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 19:22:05 2020 +0000

      * regenerated
    
    git-svn-id: trunk@44867 -

M	compiler/utils/Makefile

******************************************************************************
commit c96a3cc9d1584825f4b8d56fa8b52a1140a2ee67
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 19:07:43 2020 +0000

      + take care of OPTNEW when building utils
    
    git-svn-id: trunk@44866 -

M	compiler/utils/Makefile
M	compiler/utils/Makefile.fpc

******************************************************************************
commit 6636f3f0dc44be5d9f4f4cc17dd5a66c2c634274
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 19 17:34:22 2020 +0000

      * updated after changes
    
    git-svn-id: trunk@44862 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 26ec913725764af0ac22e21135a965c5ed8b502e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 19 17:33:47 2020 +0000

      * regenerated makefiles
    
    git-svn-id: trunk@44861 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit f81dac4f6fa55f58becce7099648024b861bec99
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 19 17:33:18 2020 +0000

      - remove ld.so.conf parsing from makefiles: this was probably done because we
        used to completely replace the default linker script under Linux (which
        also includes search directories), and it's wrong in case of
        cross-compiling
    
    git-svn-id: trunk@44860 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 0df2c867ca2411939925f9c2639742c4ec7a6b72
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 19 16:02:39 2020 +0000

     Set 'default' target to freertos in rtl/freertos directory
    
    git-svn-id: trunk@44858 -

M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc

******************************************************************************
commit 14d46bccba450eb00fda58f7be532e5438eebbcd
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 15:52:41 2020 +0000

      * Xtensa: make use of extui for shifting with constant values >=16
    
    git-svn-id: trunk@44856 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 7eff3adbcb31ad65fa42aa2ea461e569fa947995
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 13:28:42 2020 +0000

      * adapted xtensa-freertos to work with the currently stable ESP-IDF 4.0, partially based on a patch by Michael Ring
    
    git-svn-id: trunk@44850 -

M	compiler/systems/t_freertos.pas
M	rtl/freertos/xtensa/esp32.pp

******************************************************************************
commit 5882e2935c970056d5c4dc83d15c068e91c16abe
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 13:28:41 2020 +0000

      * do all make targets in parallel, no issues found yet
    
    git-svn-id: trunk@44849 -

M	Makefile
M	Makefile.fpc
M	packages/Makefile
M	packages/Makefile.fpc

******************************************************************************
commit 8cc76b4b338805f53bfb57c62b1c434612817d7d
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 11:24:46 2020 +0000

      * regenerated
    
    git-svn-id: trunk@44844 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 1643fc52106c05039db71882b3762db3240d8069
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 11:22:55 2020 +0000

      + xtensa-embedded: patch by Christo Crause to check and support SUBARCH
    
    git-svn-id: trunk@44843 -

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit db19900eb1c6a4b8580f03fd57506a2592b80314
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 11:04:31 2020 +0000

      * TARMAsmOptimizer.RemoveSuperfluousMove should not mess with PC
    
    git-svn-id: trunk@44842 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit c2df0f23006ec371479ce58e37e5f1c86878db31
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 08:41:32 2020 +0000

      * Xtensa: handle localsize > 32760
    
    git-svn-id: trunk@44840 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 7b2bd0b91766036ea7a58a8b5600b10523c5e52d
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 08:41:31 2020 +0000

      * Xtensa: generate better code for adding/subtracting 16 bit constants
    
    git-svn-id: trunk@44839 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 702e63e59f821d2dbbdc2ca9ac21ef4846959fdf
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 08:41:30 2020 +0000

      * build more units for FreeRTOS
    
    git-svn-id: trunk@44838 -

M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc
M	rtl/freertos/system.cfg

******************************************************************************
commit 2edec13a0f2be3066ae9e6796ea7811b60971a56
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 07:37:45 2020 +0000

      * use j.l in external wrappers, this is not save yet as A15 might contain
        an argument: externals need to be called with call4 if they use all
        parameter registers, this needs to be implemented
    
    git-svn-id: trunk@44837 -

M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit a49a7763079fc5df0be15ec3fa932015ccbbe69b
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 07:36:13 2020 +0000

      * go through cg to generate jumps, so the right jump is generated always
    
    git-svn-id: trunk@44836 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 099faf2d2babda25febee94149772fa936244b2e
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 21:48:25 2020 +0000

      * factored out and improved TARMAsmOptimizer.RedundantMovProcess
      + AArch64: use TARMAsmOptimizer.RedundantMovProcess
    
    git-svn-id: trunk@44799 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit d7623be563119810e3182b78e08d2c6a9a6809f0
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 20:39:38 2020 +0000

      * FreeRTOS: do not try to build native utils
    
    git-svn-id: trunk@44798 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit 9211e6cf936ecc789a8d31691bb288bbaed634d0
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 20:39:37 2020 +0000

      * FreeRTOS: try not to build native binaries
    
    git-svn-id: trunk@44797 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 3ec0437d5fddb885c204ed9be2abbacee1b3346b
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 20:39:37 2020 +0000

      * Xtensa: dummy overflow checking
    
    git-svn-id: trunk@44796 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 6ccb8b83dae165f9c48b9db693d7cdec6dbf1ab6
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 17:58:45 2020 +0000

      + AArch64: TCpuAsmOptimizer.OptPass1Mov
    
    git-svn-id: trunk@44795 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 2b3d7dd42cddd513b70d4f7ddb61e2f7766cdb37
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 17:58:44 2020 +0000

      * bail out early if possible
    
    git-svn-id: trunk@44794 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 4b59bcb0ca289e88f97d84afd1dd37502c48daa5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 18 16:08:25 2020 +0000

      * regenerated makefiles
    
    git-svn-id: trunk@44793 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcm/revision.inc
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit d098600c67613ad067bb964b70e8be97c5f11efc
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 18 16:07:56 2020 +0000

      * updated after changes to fpcmake.ini/inc
    
    git-svn-id: trunk@44792 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 723430ac34811b2a6177c65c0f9067e4d529fbf4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 18 15:44:57 2020 +0000

      * support building the IDE with the LLVM code generator
    
    git-svn-id: trunk@44791 -

M	packages/Makefile.fpc
M	packages/ide/Makefile.fpc
M	packages/ide/fpmake.pp

******************************************************************************
commit 218ca87a3f71509d27b3f77374046adb87db6a10
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 18 15:44:53 2020 +0000

      * always add the libgcc search directory under Linux, as it is required for
        both the LLVM code generator and SEH support (it does _not_ force linking
        libgcc, just adds the search directory so it can be found in case it's
        required)
    
    git-svn-id: trunk@44790 -

M	packages/fpmkunit/Makefile.fpc
M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit ea2e516b4e7b560e9af7d2b0c6c61488a0ba7b93
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 18 15:44:42 2020 +0000

      + -ib parameter to print the code generator backend type: FPC or LLVM
      * some cleanups related to -i printing
    
    git-svn-id: trunk@44787 -

M	compiler/fpcdefs.inc
M	compiler/globals.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas

******************************************************************************
commit 7125cb505c0e428110713679df6ac681bab49a0a
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 15:17:29 2020 +0000

      + AAarch64: assembler optimization Bl2B
    
    git-svn-id: trunk@44785 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 3a76f9f477ae96a04700f8db2a66913830df3dfc
Author: pierre <pierre@freepascal.org>
Date:   Sat Apr 18 09:53:24 2020 +0000

      * Fix compilation of gdbint unit for go32v2, should resolve bug report 36923.
        Replace cint type by longint (as gdbint unit does not use ctypes unit).
    
    git-svn-id: trunk@44774 -

M	packages/gdbint/src/gdbint.pp

******************************************************************************
commit 5a07298ea516c581c06c1ce1b784fc3a6201159f
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 09:38:10 2020 +0000

      + AAarch64: FOpFMov2FOp assembler optimization
    
    git-svn-id: trunk@44773 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 56ad37133e6225e2a4bf8dd07e9bfb19e0805489
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 17 23:09:16 2020 +0000

    m68k-amiga: hack to avoid a linker (vlink) warning about merging sections with different flags together. Amiga doesn't support true read only sections anyway
    
    git-svn-id: trunk@44757 -

M	compiler/aggas.pas
M	compiler/m68k/ag68kvasm.pas

******************************************************************************
commit 001057b52ec0a30b4ab3a7c5888b11de9e8aff87
Author: florian <florian@freepascal.org>
Date:   Fri Apr 17 21:02:35 2020 +0000

      * re-added assembler optimization accidently removed in r44738 as noted by margers on the mailing list
    
    git-svn-id: trunk@44751 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 09b6bed27cdd337014ae0f8dc85957647236a8eb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 17 17:12:23 2020 +0000

    m68k-amiga: implemented CreateNewProc for legacy support, means AThreads now works on OS v1.2+
    
    git-svn-id: trunk@44748 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit 4f16473baad47661a858c77d100d8070af688941
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 17 14:44:16 2020 +0000

    * fix typo
    
    git-svn-id: trunk@44747 -

M	compiler/scanner.pas

******************************************************************************
commit f5fc806c9d2cc3c880ff98e92f33f764747e6713
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 17 14:44:11 2020 +0000

    * fix comment
    
    git-svn-id: trunk@44745 -

M	compiler/sparc64/tgcpu.pas

******************************************************************************
commit 1bd66a605ce4bbec1143c5e50afc2ec9e78a1d59
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 17 00:15:30 2020 +0000

    amicommon: only include exec helpers when compiling for v2.0 in athreads
    
    git-svn-id: trunk@44743 -

M	rtl/amicommon/athreads.pp

******************************************************************************
commit db0deab026eaae27b8d70662dfba25be86bc440b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 17 00:14:42 2020 +0000

    amicommon: instead of a runtime check, check for OS2.0+ features at compile time in DOS
    
    git-svn-id: trunk@44742 -

M	rtl/amicommon/dos.pp

******************************************************************************
commit 024ab0a8541406375fe10c9f8668c78667fda1b4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 17 00:13:56 2020 +0000

    amicommon: only include exec extensions when complied for v2.0
    
    git-svn-id: trunk@44741 -

M	rtl/amicommon/sysos.inc

******************************************************************************
commit 9176efbab4ef437703b08d88958ab3506accaca0
Author: florian <florian@freepascal.org>
Date:   Thu Apr 16 21:19:14 2020 +0000

      * factored out TARMAsmOptimizer.OptPass1SXTH
      * AArch64: use TARMAsmOptimizer.OptPass1SXTH
    
    git-svn-id: trunk@44739 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 19a9d4c4acb2d5dbe4bb14756517d3e3d85d79be
Author: florian <florian@freepascal.org>
Date:   Thu Apr 16 21:19:13 2020 +0000

      * factored out TARMAsmOptimizer.OptPass1SXTB
      * AArch64: use TARMAsmOptimizer.OptPass1SXTB
    
    git-svn-id: trunk@44738 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 7172397077ad2126b5d59b985ee1f266d65663c3
Author: florian <florian@freepascal.org>
Date:   Thu Apr 16 21:19:12 2020 +0000

      * factored out TARMAsmOptimizer.OptPass1UXTH
      * AArch64: use TARMAsmOptimizer.OptPass1UXTH
    
    git-svn-id: trunk@44737 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 4f14f0f4e53ccaa8f37830d0bd614b66c604c69e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 16 20:59:08 2020 +0000

    m68k-amiga: startup code to print a console message and quit, when the OS is known to be too old for the RTL
    
    git-svn-id: trunk@44736 -

M	rtl/amiga/m68k/si_prc.pp

******************************************************************************
commit c577e290d13b2b1dd2c03ed0db8d607fc28088e7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 16 20:51:57 2020 +0000

    m68k-amiga: enable certain legacy exec support functions only when compiling for OS v2.0
    
    git-svn-id: trunk@44735 -

M	rtl/amiga/m68k/legacyexec.inc
M	rtl/amiga/m68k/legacyexech.inc

******************************************************************************
commit 2f8fe76bed57a0d037c9851210d3c034a51dd01d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 16 20:50:14 2020 +0000

    m68k-amiga: have an AMIGA prefix in OS_MINVERSION public constant, add OS 2.0 support, make sure we open v39 by default as it is needed by memory pool functions
    
    git-svn-id: trunk@44734 -

M	rtl/amiga/system.pp

******************************************************************************
commit 36e4db15bcb41e1a5a207868bb9e9f59e461f66e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 16 20:42:31 2020 +0000

    m68k-amiga: make it possible to disable functions newer than OS 2.0 (v37+)
    
    git-svn-id: trunk@44733 -

M	rtl/amiga/m68k/doslibf.inc
M	rtl/amiga/m68k/execf.inc

******************************************************************************
commit 73b563b3679e0771fe3d0f546da7695b9f911e1f
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 15 20:47:04 2020 +0000

     Avoid invalid typecast in tarmunaryminusnode.pass_1 method
    
    git-svn-id: trunk@44726 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit 9bcff94e9e7674ca6b87f6aa45b5748aabd65dd3
Author: florian <florian@freepascal.org>
Date:   Wed Apr 15 20:21:29 2020 +0000

      * factored out TARMAsmOptimizer.OptPass1UXTB
      * several other routines being very similar for ARM and AAarch64 moved to aoptarm
    
    git-svn-id: trunk@44725 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/aarch64/cpubase.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit c4b66c89f7c08409f0c7d82869e473ccd84fd8c6
Author: florian <florian@freepascal.org>
Date:   Tue Apr 14 20:52:27 2020 +0000

      * check for stup instead of stp
    
    git-svn-id: trunk@44722 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 2276caae243820b7dc60a7b7feff79b908d96c08
Author: florian <florian@freepascal.org>
Date:   Mon Apr 13 21:01:01 2020 +0000

      + common assembler optimizer base class for arm and aarch64
    
    git-svn-id: trunk@44720 -

M	.gitattributes
M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
A	compiler/armgen/aoptarm.pas

******************************************************************************
commit 3022927a6f73b6a74eba24ba6f941b1e78096037
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 13 20:56:44 2020 +0000

     Handle all existing possible values for init_settings.fputype to set Tag_FP_Arch .eabi_attribute
    
    git-svn-id: trunk@44719 -

M	compiler/arm/narmutil.pas

******************************************************************************
commit 3dff78621cbf792076eed72a35848b4f572c5d9a
Author: florian <florian@freepascal.org>
Date:   Mon Apr 13 18:04:34 2020 +0000

      * Aarch64: UTX/STX instructions include now the postfix, so it is the same as for ARM
    
    git-svn-id: trunk@44718 -

M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc
M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 2bae2a451c4dd4571b3ad81be202253050fb447b
Author: florian <florian@freepascal.org>
Date:   Mon Apr 13 17:29:09 2020 +0000

      * load 0 into unaligned memory in a simpler way
    
    git-svn-id: trunk@44717 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 7c2c8581b7d3543cf28d8fe6c917f09f190d7835
Author: florian <florian@freepascal.org>
Date:   Mon Apr 13 17:27:46 2020 +0000

      * get rid of fpu_vfp_first/last hack
    
    git-svn-id: trunk@44716 -

M	compiler/arm/cpuinfo.pas
M	compiler/arm/narmcal.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/narminl.pas

******************************************************************************
commit 3d4cc7c2f663e3a4363c4f16fdface50f50ead8f
Author: florian <florian@freepascal.org>
Date:   Mon Apr 13 13:09:15 2020 +0000

      * fixes compilation on WinCE
    
    git-svn-id: trunk@44715 -

M	compiler/arm/narmcnv.pas

******************************************************************************
commit 458a6000e7c0665adcd9e55e7b09351fcbeb47e9
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 20:50:40 2020 +0000

      + arm: optimize sxth/sxtb
    
    git-svn-id: trunk@44713 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 4d73a9e637ba7ecb7abd2c849e5683dbe33ada67
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 20:50:39 2020 +0000

      * simplify tc_bool_2_int
    
    git-svn-id: trunk@44712 -

M	compiler/ncnv.pas

******************************************************************************
commit 8b95fb8377a8c05c378186f6876c057a95145e34
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 12 20:47:35 2020 +0000

    Morphos: Fixed compilation after r44709
    
    git-svn-id: trunk@44711 -

M	rtl/amicommon/dos.pp

******************************************************************************
commit 3f579c10a4da61a89014c28bcfd99909b97cc382
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 12 18:44:51 2020 +0000

    Amiga: do not try to read pr_LocalVars when running on 1.x
    
    git-svn-id: trunk@44709 -

M	rtl/amicommon/dos.pp

******************************************************************************
commit 280d5057e86a037c6baea33323b3b4bf9a387c3a
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 12 18:21:35 2020 +0000

    Amiga: simple SystemTagList() implementation for old Amigas including basic tag list handling (GetEnv works now)
    
    git-svn-id: trunk@44708 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit d772a42375334be095f5bdfa06b601163695b9d1
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 18:05:50 2020 +0000

      * arm: more fixes for fpu_fpv4_sp_d16
      * take care of FPUARM_HAS_VFP_DOUBLE
      * use FPUARM_HAS_VFP_EXTENSION instead of checking fpu_vfp_first and ...last
    
    git-svn-id: trunk@44707 -

M	compiler/arm/agarmgas.pas
M	compiler/arm/cpupara.pas
M	compiler/arm/narmadd.pas
M	compiler/arm/narmcon.pas
M	compiler/symdef.pas

******************************************************************************
commit 9d7261a60bb2e6c13ba096eecf630933a779a43d
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 18:05:49 2020 +0000

      * make eabihf/eabi changeable at compilation time
    
    git-svn-id: trunk@44706 -

M	compiler/systems.pas
M	compiler/systems/t_linux.pas

******************************************************************************
commit dcf08c1d4d934712519c3d5a0b7002e5cd73f09b
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 12 17:16:27 2020 +0000

    Amiga: very basic first implementation of MatchFirst/Next/End for old Amiga Versions
    
    git-svn-id: trunk@44705 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit acf58acf4109d35d1207100396b81a61a9acd0d3
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 12 15:17:00 2020 +0000

    Amiga: Implementation of Amiga2Date and Date2Amiga for older Amiga Versions
    
    git-svn-id: trunk@44704 -

M	rtl/amiga/m68k/legacyutil.inc

******************************************************************************
commit 38c32bcada3d600fccd74eb60a1961f0dbc200aa
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 14:24:56 2020 +0000

      * reorganized arm cpu flags
    
    git-svn-id: trunk@44703 -

M	compiler/arm/cpuinfo.pas
M	compiler/arm/narmadd.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/narminl.pas
M	compiler/arm/narmmat.pas

******************************************************************************
commit 497ff94cb096fb436b9916b60120b7c235d01d85
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 14:24:56 2020 +0000

      + fpu_fpv4_sp_d32
      * some fixes to make fpv4-sp-d32 work
    
    git-svn-id: trunk@44702 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/narmutil.pas

******************************************************************************
commit 71784254ab5cda0144cc92d0909533fff965163b
Author: michael <michael@freepascal.org>
Date:   Sun Apr 12 10:52:24 2020 +0000

    * Use exepath on all platforms
    
    git-svn-id: trunk@44700 -

M	compiler/globals.pas

******************************************************************************
commit 39fa96579079493b11e2c94e2dba6c924bceb13f
Author: michael <michael@freepascal.org>
Date:   Sun Apr 12 10:51:14 2020 +0000

    * Use exepath on all platforms
    
    git-svn-id: trunk@44699 -

M	compiler/globals.pas

******************************************************************************
commit 02ed51ea2541071642818c72552216d88aeda71c
Author: michael <michael@freepascal.org>
Date:   Sun Apr 12 09:32:03 2020 +0000

    * Do not expand FPCBINDIR on darwin
    
    git-svn-id: trunk@44698 -

M	compiler/globals.pas

******************************************************************************
commit f3560004cf486d89cb97dd144337c825d7ac0346
Author: michael <michael@freepascal.org>
Date:   Sun Apr 12 07:56:01 2020 +0000

    * Add FPCBINDIR macro for paths
    
    git-svn-id: trunk@44697 -

M	compiler/globals.pas

******************************************************************************
commit 4141df7fe6b1eabd4727d02d7d025c4a62cc0d64
Author: florian <florian@freepascal.org>
Date:   Sat Apr 11 14:58:58 2020 +0000

      * Xtensa: patch by Christo Crause to handle the sign extension architecture option, resolves #36885
    
    git-svn-id: trunk@44689 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit f2d45a0e9d7d46e4d86ccb2b3bb66c610a8cadbb
Author: florian <florian@freepascal.org>
Date:   Sat Apr 11 13:18:47 2020 +0000

      * Xtensa: fix expectloc of taddnode
    
    git-svn-id: trunk@44688 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit b352449eac03cc090900bfa8f06b097b88e80a91
Author: florian <florian@freepascal.org>
Date:   Sat Apr 11 13:18:47 2020 +0000

      * Xtensa: fix flag handling: B0 is considered as default flags
    
    git-svn-id: trunk@44687 -

M	compiler/hlcgobj.pas
M	compiler/ncgutil.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 75fe6c23a5242eddfd19537e00200bf425cfdcbc
Author: florian <florian@freepascal.org>
Date:   Sat Apr 11 13:18:46 2020 +0000

      * FreeRTOS: adapated packages to build
    
    git-svn-id: trunk@44686 -

M	packages/libgd/fpmake.pp
M	packages/rtl-extra/fpmake.pp
M	packages/rtl-objpas/fpmake.pp
M	packages/rtl-unicode/fpmake.pp
M	packages/sdl/fpmake.pp

******************************************************************************
commit 301acdf54b9052314eae5ec755bcf23539db46af
Author: florian <florian@freepascal.org>
Date:   Sat Apr 11 13:18:45 2020 +0000

      * dependencies fixes
    
    git-svn-id: trunk@44685 -

M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc

******************************************************************************
commit 5bab6201d578cf0d5f8901d5c08a8802f3839902
Author: florian <florian@freepascal.org>
Date:   Fri Apr 10 19:42:14 2020 +0000

      * rebuild Makefiles
    
    git-svn-id: trunk@44679 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 093e227edb4839157cad181ea1ca84af6ff73132
Author: florian <florian@freepascal.org>
Date:   Fri Apr 10 19:41:46 2020 +0000

      * Xtensa: register numbers fixed
    
    git-svn-id: trunk@44678 -

M	compiler/xtensa/rxtensacon.inc
M	compiler/xtensa/rxtensanum.inc
M	compiler/xtensa/rxtensarni.inc
M	compiler/xtensa/rxtensasup.inc
M	compiler/xtensa/xtensareg.dat

******************************************************************************
commit b9cc9f2e8ae08632866645ac8e885cdc2008188f
Author: florian <florian@freepascal.org>
Date:   Fri Apr 10 19:41:46 2020 +0000

      * Xtensa: fixes spilling
    
    git-svn-id: trunk@44677 -

M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/rgcpu.pas

******************************************************************************
commit 1cebf9f183e1a4c457b1e50ac0432ce9b26780e1
Author: florian <florian@freepascal.org>
Date:   Fri Apr 10 19:41:45 2020 +0000

      + freertos
    
    git-svn-id: trunk@44676 -

M	rtl/Makefile.fpc

******************************************************************************
commit afe8a7596ac8fdd3aa32e3460e7623d7dfc72a50
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 10 09:26:00 2020 +0000

    arm-linux: enable epoll_pwait syscall number. this fixes the ARM Linux build after r44666
    
    git-svn-id: trunk@44675 -

M	rtl/linux/arm/sysnr.inc

******************************************************************************
commit 9753dd964b78619828120f868b6ad78c9679a45d
Author: florian <florian@freepascal.org>
Date:   Thu Apr 9 20:37:36 2020 +0000

      * Xtensa: properly align maxpushedparasize
    
    git-svn-id: trunk@44663 -

M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 2a0eeb41dfe764055b37f0680eff6977088fa7c7
Author: florian <florian@freepascal.org>
Date:   Thu Apr 9 20:37:35 2020 +0000

      * Xtensa: fix reg_cgsize
    
    git-svn-id: trunk@44662 -

M	compiler/xtensa/cpubase.pas

******************************************************************************
commit b7374401fd1c7390bf675877e56e3b386492fb14
Author: florian <florian@freepascal.org>
Date:   Wed Apr 8 20:42:40 2020 +0000

    * fix taicpu.is_same_reg_move
    
    git-svn-id: trunk@44647 -

M	compiler/xtensa/aasmcpu.pas

******************************************************************************
commit d3b09aeeb9b7bd224e2009719feb2a6a706f509d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 8 08:32:41 2020 +0000

    amunits: add amicube to the examples to compile
    
    git-svn-id: trunk@44642 -

M	packages/amunits/fpmake.pp

******************************************************************************
commit 1dd914ffc8989cafc9415682a178a900249ca091
Author: florian <florian@freepascal.org>
Date:   Tue Apr 7 21:01:07 2020 +0000

    + initial xtensa-linux rtl
    
    git-svn-id: trunk@44636 -

M	.gitattributes
M	compiler/systems.pas
M	rtl/linux/bunxsysc.inc
M	rtl/linux/linux.pp
M	rtl/linux/osdefs.inc
M	rtl/linux/ossysc.inc
M	rtl/linux/ostypes.inc
M	rtl/linux/system.pp
M	rtl/linux/termios.inc
A	rtl/linux/xtensa/bsyscall.inc
A	rtl/linux/xtensa/si_c.inc
A	rtl/linux/xtensa/si_dll.inc
A	rtl/linux/xtensa/si_prc.inc
A	rtl/linux/xtensa/sighnd.inc
A	rtl/linux/xtensa/syscall.inc
A	rtl/linux/xtensa/sysnr.inc

******************************************************************************
commit e08d8bba82aaa9ce9e00fdb4eaff6e7d65c12e45
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Apr 7 09:59:32 2020 +0000

    TCustomBufDataset: set PacketRecords to 1 only on a UniDirectional dataset
    
    git-svn-id: trunk@44633 -

M	packages/fcl-db/src/base/bufdataset.pas

******************************************************************************
commit b599574a162f804f7bc1f68aafd525928242d020
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 6 22:34:46 2020 +0000

    m68k-amiga: create the heap memory pool with MEMF_ANY, rather than MEMF_FAST. this will finally allow FPC compiled executables to start on chipmem-only machines.
    
    git-svn-id: trunk@44624 -

M	rtl/amiga/system.pp

******************************************************************************
commit f99fbafabccaac7dd1cf69debc8c983973c14a1f
Author: florian <florian@freepascal.org>
Date:   Mon Apr 6 20:44:33 2020 +0000

      + initial thlcgxtensa.g_intf_wrapper
    
    git-svn-id: trunk@44622 -

M	compiler/xtensa/hlcgcpu.pas

******************************************************************************
commit 759803f2689c544947533e29231cd63e42f6bf9e
Author: florian <florian@freepascal.org>
Date:   Mon Apr 6 20:44:32 2020 +0000

      * improve assembler reader
    
    git-svn-id: trunk@44621 -

M	compiler/xtensa/racpugas.pas

******************************************************************************
commit 2e23e2b0fd526e37e53a5ed07821159fd9a8822f
Author: florian <florian@freepascal.org>
Date:   Mon Apr 6 20:44:32 2020 +0000

      + optimize SUB for small constants using ADDI
    
    git-svn-id: trunk@44620 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 04f3784af5fd1c73d88a00ece5bc26566313fc2e
Author: florian <florian@freepascal.org>
Date:   Mon Apr 6 20:44:31 2020 +0000

      * better setting of expectloc
    
    git-svn-id: trunk@44619 -

M	compiler/ncnv.pas
M	compiler/nmat.pas

******************************************************************************
commit 6a6ef1c8c1a9c468efa24f5bad043c1836509b5f
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 6 06:44:20 2020 +0000

    Update revision.inc after commit #44544
    
    git-svn-id: trunk@44618 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 9dd0a1f3b59c01b9901688cb77c93a86e33abc24
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 6 06:43:05 2020 +0000

     Fix ppudump after addition of system_xtensa_linux target
    
    git-svn-id: trunk@44617 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 79f74bf8cbc84baf1776c08713b3659103d86541
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 21:12:15 2020 +0000

      + xtensa-linux added to systems_linux
    
    git-svn-id: trunk@44614 -

M	compiler/systems.pas

******************************************************************************
commit 4836ff29bd6df688f05ed8f1047cb43f54ba7231
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 21:12:14 2020 +0000

      + more instructions
    
    git-svn-id: trunk@44613 -

M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 460369405ecbc3200eeaf38350bf8b2e082fd34f
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 21:12:13 2020 +0000

      + xtensa-linux: OS specific system unit header files
    
    git-svn-id: trunk@44612 -

M	.gitattributes
A	rtl/linux/xtensa/sighndh.inc
A	rtl/linux/xtensa/stat.inc
A	rtl/linux/xtensa/syscallh.inc

******************************************************************************
commit e8fabb752a5bb2506421e911497b1cc0aaaf9969
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 21:12:12 2020 +0000

      + basic xtensa-linux support in the compiler
    
    git-svn-id: trunk@44611 -

M	compiler/systems.inc
M	compiler/systems/i_linux.pas
M	compiler/systems/t_linux.pas
M	compiler/xtensa/cputarg.pas

******************************************************************************
commit eee2e9f950fd49954fb68db74f47a6d92f4d15b7
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 21:12:12 2020 +0000

      * commented test
    
    git-svn-id: trunk@44610 -

M	tests/webtbs/tw14315b.pp

******************************************************************************
commit 2f5d51436e4edfe944a9e5b276b564f63688f3b1
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 16:26:11 2020 +0000

      + with the randseed set as in the test, the test fails on x86_64-linux, added so it won't be forgotten
    
    git-svn-id: trunk@44599 -

M	.gitattributes
A	tests/webtbs/tw14315b.pp

******************************************************************************
commit e32027c8d34b432b3c154aae97b6c51803d34830
Author: florian <florian@freepascal.org>
Date:   Sat Apr 4 20:04:01 2020 +0000

      + add missing semicolon, resolves #36868
    
    git-svn-id: trunk@44578 -

M	rtl/linux/linux.pp

******************************************************************************
commit 0ff034216a946c540dfd170fb611834ae9f66bb0
Author: florian <florian@freepascal.org>
Date:   Sat Apr 4 20:01:13 2020 +0000

    + xtensa-linux support for the rtl makefile
    
    git-svn-id: trunk@44577 -

M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc

******************************************************************************
commit 086c897981c05bee5a0d47737877823cfa590c03
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 13:24:29 2020 +0000

    amicommon: m68k-amiga legacy support
    
    git-svn-id: trunk@44566 -

M	rtl/amicommon/athreads.pp
M	rtl/amicommon/dos.pp
M	rtl/amicommon/sysfile.inc
M	rtl/amicommon/sysos.inc
M	rtl/amicommon/sysutils.pp

******************************************************************************
commit 8816a0b601383633d690c3cd51b2b9a4d6374441
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 13:22:46 2020 +0000

    m68k-amiga: startup code now uses legacyexech, instead of explicitly declaring legacy support functions it needs
    
    git-svn-id: trunk@44565 -

M	rtl/amiga/m68k/si_prc.pp

******************************************************************************
commit 8d690546f306ce23f32322d8c20ab3e630cc2eb0
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 13:21:54 2020 +0000

    m68k-amiga: make all legacy support functions have a public name, and supply headers for them (will be utilized by athreads, dos, and sysutils units)
    
    git-svn-id: trunk@44564 -

M	.gitattributes
M	rtl/amiga/m68k/legacydos.inc
A	rtl/amiga/m68k/legacydosh.inc
M	rtl/amiga/m68k/legacyexec.inc
A	rtl/amiga/m68k/legacyexech.inc
M	rtl/amiga/m68k/legacyutil.inc
A	rtl/amiga/m68k/legacyutilh.inc

******************************************************************************
commit 632353a8086a6aea4f41062028e2076ba678fec4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 12:53:00 2020 +0000

    m68k-amiga: prepare the startup code and system unit for legacy support
    
    git-svn-id: trunk@44563 -

M	rtl/amiga/m68k/si_prc.pp
M	rtl/amiga/system.pp

******************************************************************************
commit e0fe8bd17510e16653c8a27547335b692978b91d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 12:40:55 2020 +0000

    m68k-amiga: implemented functions required for basic parameter handling in legacydos
    
    git-svn-id: trunk@44561 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit f5becf9ac60e6da9d9f3e323b69b89a800b6d5f0
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 12:39:55 2020 +0000

    m68k-amiga: implemented StackSwap and DeletePool in legacyexec support, also declare public name for a few functions, so the startup code can hook into them
    
    git-svn-id: trunk@44560 -

M	rtl/amiga/m68k/legacyexec.inc

******************************************************************************
commit 96a368fdf94976f59bac41f4da6c222a2833ea16
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:40:36 2020 +0000

      * building on non-x86/non-xtensa fixed
    
    git-svn-id: trunk@44551 -

M	compiler/symdef.pas

******************************************************************************
commit 3705f95b925b46ea38a795c81425d06de6e2fc5a
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:27 2020 +0000

      * compilation fixed
    
    git-svn-id: trunk@44545 -

M	compiler/defutil.pas
M	compiler/ncgutil.pas

******************************************************************************
commit 6c6a16a15445cc5cd9343d31f8634eaba9e013e7
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:26 2020 +0000

      + xtensa-linux
    
    git-svn-id: trunk@44544 -

M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit af8202be3d829691ed8fde03d521581c8a61820e
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:26 2020 +0000

      * compilation for non-Xtensa targets fixed
    
    git-svn-id: trunk@44543 -

M	compiler/defutil.pas
M	compiler/nadd.pas

******************************************************************************
commit fc98a0db4f917852568e8c777bb229ed7f2e53ff
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:25 2020 +0000

      * cosmetics
    
    git-svn-id: trunk@44542 -

M	compiler/nld.pas

******************************************************************************
commit c1c201f93c721dda2fca9058649b51ec53df9757
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:24 2020 +0000

      * Xtensa: fix passing of floating point parameters
    
    git-svn-id: trunk@44541 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit 66cbee5e31091693cef12ba3c533ffea59e0c549
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:24 2020 +0000

      * factor out first_addfloat_soft
    
    git-svn-id: trunk@44540 -

M	compiler/nadd.pas

******************************************************************************
commit fa4cbc89a5256a5964460afe6a105e1390599a17
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:23 2020 +0000

      + Xtensa: hard float support, i.e. make use of floating point extension if available
    
    git-svn-id: trunk@44539 -

M	compiler/defutil.pas
M	compiler/nld.pas
M	compiler/symdef.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpucnv.pas
M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit ba3de67f3bbe7c6fb7dd93a4c7dca28358ada964
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:22 2020 +0000

      + Xtensa: the boolean extension is used as flags
    
    git-svn-id: trunk@44538 -

M	compiler/fpcdefs.inc
M	compiler/ncgcnv.pas
M	compiler/ncgutil.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpubase.pas

******************************************************************************
commit d5de84c6c52ce7403f6ea17e9330a1cf7d5e4032
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 2 21:21:44 2020 +0000

      * use typenames in more cases in the generated LLVM IR (results in smaller
        IR in textual form)
    
    git-svn-id: trunk@44518 -

M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmtype.pas

******************************************************************************
commit afd0ae44eecd5252eae6dab8a34b0d4dc97722f2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 2 21:21:40 2020 +0000

      * use tprocvardef.getreusableprocaddr also for non-address-only copies of
        proc(var)defs
    
    git-svn-id: trunk@44517 -

M	compiler/llvm/nllvmcnv.pas
M	compiler/llvm/nllvmld.pas
M	compiler/llvm/nllvmutil.pas
M	compiler/ncgcnv.pas
M	compiler/ncnv.pas

******************************************************************************
commit 4ba19f5418bb0dc18ff708c2ad73e7cee160fc5d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 2 21:21:36 2020 +0000

      * add support for creating non-address-only procvars to
        cprocvar.getreusableprocaddr()
    
    git-svn-id: trunk@44516 -

M	compiler/aasmcnst.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/nllvmld.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/ncgcal.pas
M	compiler/ncgld.pas
M	compiler/ncgrtti.pas
M	compiler/ncgvmt.pas
M	compiler/ngtcon.pas
M	compiler/nobj.pas
M	compiler/symdef.pas

******************************************************************************
commit b033ccbddb9c6ce1b486cd21493e07b6949b02ce
Author: florian <florian@freepascal.org>
Date:   Thu Apr 2 20:04:03 2020 +0000

      * cleanup
    
    git-svn-id: trunk@44515 -

M	compiler/arm/narmcnv.pas

******************************************************************************
commit 44d9498effae13337ae677dcf2c59e52e6ec2f4e
Author: florian <florian@freepascal.org>
Date:   Thu Apr 2 20:04:02 2020 +0000

      * cosmetics
    
    git-svn-id: trunk@44514 -

M	compiler/psystem.pas

******************************************************************************
commit ba9e9305566658b3153f311fc09ce20eca55ab47
Author: florian <florian@freepascal.org>
Date:   Wed Apr 1 20:08:23 2020 +0000

      * Xtensa: set fpu type dependending on the controller
    
    git-svn-id: trunk@44495 -

M	compiler/options.pas

******************************************************************************
commit c2cf21d176a9a6db501940d2cd7931f1c651aa0d
Author: florian <florian@freepascal.org>
Date:   Wed Apr 1 20:08:22 2020 +0000

      + Xtensa: boolean registers * Xtensa: register numbers of floating point registers corrected
    
    git-svn-id: trunk@44494 -

M	compiler/xtensa/rxtensacon.inc
M	compiler/xtensa/rxtensadwa.inc
M	compiler/xtensa/rxtensanor.inc
M	compiler/xtensa/rxtensanum.inc
M	compiler/xtensa/rxtensarni.inc
M	compiler/xtensa/rxtensasri.inc
M	compiler/xtensa/rxtensasta.inc
M	compiler/xtensa/rxtensastd.inc
M	compiler/xtensa/rxtensasup.inc
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc
M	compiler/xtensa/xtensareg.dat

******************************************************************************
commit 1e0640c9e99f3c498d3ce4cb726589fac9662093
Author: florian <florian@freepascal.org>
Date:   Wed Apr 1 20:08:21 2020 +0000

      * Xtensa: FreeRTOS uses windowed calling convention
    
    git-svn-id: trunk@44493 -

M	compiler/systems/i_freertos.pas

******************************************************************************
commit b41c8342c859189350928b08def09ccee5318ea5
Author: florian <florian@freepascal.org>
Date:   Wed Apr 1 20:08:20 2020 +0000

      * Xtensa: reduce stack usage
    
    git-svn-id: trunk@44492 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 48617611500cd54cb7f8fa6b32f3ba665251815b
Author: pierre <pierre@freepascal.org>
Date:   Tue Mar 31 20:49:17 2020 +0000

      Try to fix problems for more recent GDB versions.
      Move GDB_NEW_UI macro def. to GDB_VER_GE_712
      Add GDB_INTERP_LOOKUP_HAS_UI and GDB_HAS_SAVED_COMMAND_LINE_BUT_NO_SIZE
      to same GDB_VER_GE_712.
      Use stdio_filopen to create gdb_stdout and gdb_stderr
      if GDB_HAS_GET_STDIN macro is set.
    
    git-svn-id: trunk@44471 -

M	packages/gdbint/src/gdbint.pp

******************************************************************************
commit 625e847e56f1cc40973fb0c5d6f5d014d5fb24c2
Author: joost <joost@cnoc.nl>
Date:   Tue Mar 31 20:15:08 2020 +0000

     * Do not try to resolve dependencies for packages that not meet the target
    
    git-svn-id: trunk@44470 -

M	packages/fppkg/src/pkgcommands.pp
M	packages/fppkg/src/pkgmessages.pp

******************************************************************************
commit 81887a2eb3fcc7f8e23a71a70483a175c1c1526e
Author: joost <joost@cnoc.nl>
Date:   Tue Mar 31 20:09:46 2020 +0000

     * Debug-writeln removed
    
    git-svn-id: trunk@44469 -

M	packages/fppkg/src/pkgfpmake.pp

******************************************************************************
commit a96a43d0d8933118e0f8d6224dd21747d9316769
Author: florian <florian@freepascal.org>
Date:   Tue Mar 31 19:33:12 2020 +0000

      * Xtensa: spilling for bigger offsets fixed
    
    git-svn-id: trunk@44464 -

M	compiler/xtensa/rgcpu.pas

******************************************************************************
commit 5ef1ede0a4f4f63e977d0e71103602c25f8ff579
Author: florian <florian@freepascal.org>
Date:   Tue Mar 31 19:33:11 2020 +0000

      * xtensa-freertos: enable softfloat for now
    
    git-svn-id: trunk@44463 -

M	compiler/options.pas

******************************************************************************
commit e147e191ca2aa54fdab540a8076f047a5e36bcac
Author: florian <florian@freepascal.org>
Date:   Tue Mar 31 19:33:11 2020 +0000

      * ESP32: set flash size to a resonable value (assumes external flash for now)
    
    git-svn-id: trunk@44462 -

M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit aab0884182ec68f679c454fcea27fcdee30df7d5
Author: florian <florian@freepascal.org>
Date:   Tue Mar 31 19:33:10 2020 +0000

      + Xtensa: generate all helper files to fpc can successfully compile a single program
    
    git-svn-id: trunk@44461 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 7ee874fba158020461e2cff0fcc20df6c8760946
Author: joost <joost@cnoc.nl>
Date:   Mon Mar 30 20:54:26 2020 +0000

     * Missing include-file added to fpmake-archive
    
    git-svn-id: trunk@44442 -

M	packages/x11/fpmake.pp

******************************************************************************
commit 314b8999aa9e96440feefa15167f235a00f61267
Author: florian <florian@freepascal.org>
Date:   Mon Mar 30 20:42:56 2020 +0000

      + Xtensa: add linklib statements, better _halt procedure
    
    git-svn-id: trunk@44441 -

M	rtl/freertos/xtensa/esp32.pp

******************************************************************************
commit 8e929b2879b133c1d49f9054d3a9ed5a0c7e1c39
Author: florian <florian@freepascal.org>
Date:   Mon Mar 30 20:42:56 2020 +0000

      * make TLinkerInfo fields ansistrings as xtensa-freertos needs long command lines
    
    git-svn-id: trunk@44440 -

M	compiler/link.pas

******************************************************************************
commit 3135effee3b9b61ccf624547eb4c6f9a22ad99ee
Author: florian <florian@freepascal.org>
Date:   Mon Mar 30 20:42:55 2020 +0000

      * Xtensa: returning of 32 Bit values fixes
    
    git-svn-id: trunk@44439 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit 26db93d78cbf7656e49d700b123a33d10b5adea1
Author: florian <florian@freepascal.org>
Date:   Mon Mar 30 20:42:55 2020 +0000

      * Xtensa: shift operations fixed
    
    git-svn-id: trunk@44438 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 79974a96713d98fd78bf838755c31fc44f2d0a48
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Mar 30 19:58:49 2020 +0000

      + -XlS<x> option to specify a suffix for externally called LLVM utilities,
        e.g. -XlS-7 to call clang-7 instead of clang)
      * IMPORTANT: changed the -CL llvm code generation options to -Cl, for
        consistency with the new -Xl option (-XL was already taken)
    
    git-svn-id: trunk@44436 -

M	compiler/assemble.pas
M	compiler/globals.pas
M	compiler/llvm/agllvm.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.pas

******************************************************************************
commit 923c891b3704b831a5eb60fd8bb8ec1f8ca6e737
Author: joost <joost@cnoc.nl>
Date:   Mon Mar 30 18:01:29 2020 +0000

     * Missing include-file added to fpmake-archive
    
    git-svn-id: trunk@44433 -

M	packages/fcl-report/fpmake.pp

******************************************************************************
commit b96109727c01f496061c4a77d65e0f50e8498eb0
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 30 03:06:23 2020 +0000

    m68k-amiga: initial work on some support functions to allow the RTL to be compiled for AmigaOS 1.x
    
    git-svn-id: trunk@44427 -

M	.gitattributes
A	rtl/amiga/m68k/legacydos.inc
A	rtl/amiga/m68k/legacyexec.inc
A	rtl/amiga/m68k/legacyutil.inc

******************************************************************************
commit c7136b59c78e0ae3eb9d4a69dfbe6e9e6bcc9eac
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 30 01:47:57 2020 +0000

    amiga: no packed records in doslibd.inc and timerd.inc, use packrecords 2 insead,  this improves code generated for plain 68000
    
    git-svn-id: trunk@44420 -

M	rtl/amiga/doslibd.inc
M	rtl/amiga/timerd.inc

******************************************************************************
commit 3031a4da319316e6c7ac59a74071920a22f39e05
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 30 00:40:20 2020 +0000

    amiga-m68k: minimal tweaks and formatting to the dos unit
    
    git-svn-id: trunk@44416 -

M	rtl/amicommon/dos.pp

******************************************************************************
commit 375cc2b44343b143fef34d06aeec506708a59d22
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Mar 29 19:20:03 2020 +0000

      * allow FPC 3.2.0 as bootstrap version
    
    git-svn-id: trunk@44408 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit c5fec35652b970712b35bf4fbcd9c6793cc62647
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:14:22 2020 +0000

      * updated
    
    git-svn-id: trunk@44406 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 1f00875f8c0c8abbc0ee7d7af98b8282a4556f8f
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:48 2020 +0000

      * fix ppudump after addition of freertos-xtensa
    
    git-svn-id: trunk@44405 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 0d41d86dd29e5a5c73692e4acc841013809d55fa
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:47 2020 +0000

      * Xtensa: use generic tcpuparamanager.getcgtempparaloc
    
    git-svn-id: trunk@44404 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit b51f3d6e534a178ae60fb26454e49686553620f9
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:47 2020 +0000

      * Xtensa: fix TCPUAddNode.second_cmp
    
    git-svn-id: trunk@44403 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 0a40d927cb5a9e7ddc2889dcedfa6980c6a7c9a6
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:46 2020 +0000

      * Xtensa: fix tcgcpu.a_cmp_reg_reg_label
    
    git-svn-id: trunk@44402 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit b787efb7fd4c1dcc169f3ef38e4aee09d426df3f
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:46 2020 +0000

      * Xtensa: tcgcpu.g_concatcopy fixed: keep registers alive
    
    git-svn-id: trunk@44401 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 391512546e73c8ac7687b1a6f7db65aa491447b1
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:45 2020 +0000

      + initial FreeRTOS RTL support, largely based on the Embedded target, limited to Xtensa so far
    
    git-svn-id: trunk@44400 -

M	.gitattributes
M	compiler/ngenutil.pas
M	compiler/options.pas
M	compiler/pmodules.pas
M	compiler/systems.inc
M	compiler/systems.pas
A	compiler/systems/i_freertos.pas
A	compiler/systems/t_freertos.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/cputarg.pas
A	rtl/freertos/Makefile
A	rtl/freertos/Makefile.fpc
A	rtl/freertos/check.inc
A	rtl/freertos/classes.pp
A	rtl/freertos/consoleio.pp
A	rtl/freertos/dos.pp
A	rtl/freertos/heapmgr.pp
A	rtl/freertos/rtldefs.inc
A	rtl/freertos/sysdir.inc
A	rtl/freertos/sysfile.inc
A	rtl/freertos/sysheap.inc
A	rtl/freertos/sysos.inc
A	rtl/freertos/sysosh.inc
A	rtl/freertos/system.cfg
A	rtl/freertos/system.pp
A	rtl/freertos/systhrd.inc
A	rtl/freertos/sysutils.pp
A	rtl/freertos/tthread.inc
A	rtl/freertos/xtensa/esp32.pp
M	rtl/inc/heaph.inc
M	rtl/inc/systemh.inc
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit f6b6622569df6f875adf47636f1496a9ef8799d9
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:41 2020 +0000

      + git support
    
    git-svn-id: trunk@44399 -

M	utils/fpcm/get_revision.sh

******************************************************************************
commit c8307d402283288be0859c18336a8a7446f3c765
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Mar 29 14:52:49 2020 +0000

      * use getpagesize function instead of reading external variables to restore
        ability to compile against SDKs < OS X 10.9 (mantis #36653)
    
    git-svn-id: trunk@44396 -

M	rtl/darwin/sysmach.inc

******************************************************************************
commit ef13f52ba8a7ce3f947faa520389cbe3858dba5c
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:47 2020 +0000

      + add FreeRTOS as new OS target
    
    git-svn-id: trunk@44386 -

M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit a9a85711d51c890f453df4212ae866a911432458
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:47 2020 +0000

      * Xtensa: fix tcpunotnode.second_boolean
    
    git-svn-id: trunk@44385 -

M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit d1bbfe4cf75aca2bf00ec1cb1df43c5259fac736
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:46 2020 +0000

      + Xtensa: implemented tcputypeconvnode.second_int_to_bool
    
    git-svn-id: trunk@44384 -

M	compiler/xtensa/ncpucnv.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 8fd53df3cd8aff0fb6875649a9d00c9dc5c3fa68
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:45 2020 +0000

      * Xtensa: system_xtensa_embedded is an embedded system
    
    git-svn-id: trunk@44383 -

M	compiler/systems.pas

******************************************************************************
commit f51a893d1dc17579e99157bc5e8c8b91e9b38825
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:45 2020 +0000

      * Xtensa: align literals properly
    
    git-svn-id: trunk@44382 -

M	compiler/xtensa/hlcgcpu.pas

******************************************************************************
commit db71a9428ac5ceb25078f792019137fe560f91d1
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:44 2020 +0000

      * Xtensa: proper code generation for unit initialization
    
    git-svn-id: trunk@44381 -

M	compiler/xtensa/ncpuutil.pas

******************************************************************************
commit 41e554067a781db64def61fdce3d952d1290f8ec
Author: pierre <pierre@freepascal.org>
Date:   Sat Mar 28 13:13:04 2020 +0000

     Fix handling of parameters with size below the size of a full register
    
    git-svn-id: trunk@44380 -

M	compiler/cgobj.pas

******************************************************************************
commit 17298086cafacbb5bd61f75d8860441415fbb984
Author: florian <florian@freepascal.org>
Date:   Fri Mar 27 22:14:18 2020 +0000

      * Xtensa: improved handling of calling conventions
    
    git-svn-id: trunk@44379 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit 0290f364cc73f8d43bb80de8b94cf942393c8f60
Author: florian <florian@freepascal.org>
Date:   Fri Mar 27 22:14:18 2020 +0000

      * Xtensa: parameter passing for the windowed abi
    
    git-svn-id: trunk@44378 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit e858343c38650d828b410d1a655116ca54cdc981
Author: florian <florian@freepascal.org>
Date:   Fri Mar 27 22:14:17 2020 +0000

      * Xtensa: no scheduler yet but loops can be unrolled
    
    git-svn-id: trunk@44377 -

M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit 28154cebd19d30ae4f3f0219cfc3496bcecb0a22
Author: florian <florian@freepascal.org>
Date:   Fri Mar 27 22:14:17 2020 +0000

      * Xtensa: fix txtensanodeutils.insert_init_final_table for the windowed abi
    
    git-svn-id: trunk@44376 -

M	compiler/xtensa/ncpuutil.pas

******************************************************************************
commit 523ebb42cfd9705ef1cc6b4614e3ccb610eb7a87
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Mar 27 21:26:39 2020 +0000

      * fix LLVM backend compilation (mantis #36833)
    
    git-svn-id: trunk@44374 -

M	compiler/llvm/llvmbase.pas

******************************************************************************
commit 1aad73217cc17f4e41e222ffe127ed55446c1317
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Mar 27 04:31:10 2020 +0000

    m68k-amiga: add some defines, to disable part of OS headersin the RTL when compiling for OS1.x. this is to aid the implementation of future AmigaOS 1.x support
    
    git-svn-id: trunk@44372 -

M	rtl/amiga/m68k/doslibf.inc
M	rtl/amiga/m68k/execf.inc
M	rtl/amiga/m68k/utilf.inc

******************************************************************************
commit c239ae9414d743ba417b15abcd3f4b638abdf5a8
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:41 2020 +0000

      * Xtensa: generate long calls
    
    git-svn-id: trunk@44371 -

M	compiler/xtensa/agcpugas.pas

******************************************************************************
commit d7126bd42cd8a697998355c31feadc86312414f4
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:41 2020 +0000

      + Xtensa: initial support of the windowed abi
    
    git-svn-id: trunk@44370 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 7e4ee79e65eae2721b5b2785a9fd3eda878bd7d6
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:40 2020 +0000

      * Xtensa: more fixes for load_reg/ref_reg/ref
    
    git-svn-id: trunk@44369 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 47f6af4416d8ef3d46b315a80fcfd9c9f8e5c574
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:40 2020 +0000

      * Xtensa: improve tcgcpu.fixref
    
    git-svn-id: trunk@44368 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 5631acc401d8f2149e0a8d50732aa5e0ca49d152
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:39 2020 +0000

      * Xtensa: fix load_reg/ref_reg/ref
    
    git-svn-id: trunk@44367 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit f976083e7fce1a1b274667ee4ab6a2142321ff99
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:38 2020 +0000

      * Xtensa: set correct frame pointer register
    
    git-svn-id: trunk@44366 -

M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 639f1c476f25339367367195da4c04e7ebccd05f
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:05 2020 +0000

      + Xtensa: tcpuinlinenode.second_abs_long
    
    git-svn-id: trunk@44364 -

M	.gitattributes
M	compiler/xtensa/cpunode.pas
A	compiler/xtensa/ncpuinl.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 2a957e77bf1b7c61414c3f18f41240510f135c37
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:04 2020 +0000

      + Xtensa: initial implementation of tcgcpu.g_proc_entry
    
    git-svn-id: trunk@44363 -

M	compiler/systems/i_embed.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 705218fef11b511c23a0e5b024555332e4a5988e
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:04 2020 +0000

      + Xtensa: tcg64fxtensa.a_op64_const_reg
    
    git-svn-id: trunk@44362 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 65be647bbd03d92d01302af29576a070ca82dec0
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:03 2020 +0000

      + Xtensa: initial tcg64fxtensa.a_op64_const_reg_reg, still room for improvements
    
    git-svn-id: trunk@44361 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 819e2638bb490c73b4f73473238aa5eb239e5e83
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:03 2020 +0000

      + Xtensa: tcgcpu.maybeadjustresult
    
    git-svn-id: trunk@44360 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit aa2907cffa51957375f70b19a613b72769ae153b
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:02 2020 +0000

      * Xtensa: cleanup dummy code
    
    git-svn-id: trunk@44359 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 662f069a219cbe2c73d727086623964634800f93
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Tue Mar 24 19:42:37 2020 +0000

    xtensa: Add 64bit arithmetic operations.
    
    git-svn-id: trunk@44358 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 470cc8eb1c05f2769aca541105070c4f5031da28
Author: florian <florian@freepascal.org>
Date:   Tue Mar 24 19:42:37 2020 +0000

      + Xtensa: make use of slli and srli
    
    git-svn-id: trunk@44357 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 222cad35a9915a39ed2f83e44106b1c35a05976a
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Tue Mar 24 19:42:36 2020 +0000

    Add immediate/zero comparisons.
    
    git-svn-id: trunk@44356 -

M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 2146ca3616be92349bd106477daa15a6b95a17e6
Author: florian <florian@freepascal.org>
Date:   Tue Mar 24 19:42:35 2020 +0000

      * Xtensa: shifting fixed
    
    git-svn-id: trunk@44355 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 014785833f1cdfae202ceaf2f33b45408ee10849
Author: florian <florian@freepascal.org>
Date:   Tue Mar 24 19:42:34 2020 +0000

      + Xtensa: initial tcg64fxtensa.a_op64_reg_reg_reg
    
    git-svn-id: trunk@44354 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 8c9c1d9798636e75e24410f8d18cd1de9a75e566
Author: florian <florian@freepascal.org>
Date:   Tue Mar 24 19:42:34 2020 +0000

      + Xtensa: implemented tcg64fxtensa.a_op64_reg_reg
    
    git-svn-id: trunk@44353 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 2a8f2f3662e15b66ea1364d057d011e08de8728c
Author: florian <florian@freepascal.org>
Date:   Tue Mar 24 19:42:33 2020 +0000

      * Xtense: prettify assembler output
    
    git-svn-id: trunk@44352 -

M	compiler/xtensa/agcpugas.pas

******************************************************************************
commit fb2e262027c88fcd40a1f79cfc70401bdb9919ef
Author: florian <florian@freepascal.org>
Date:   Mon Mar 23 20:54:57 2020 +0000

      * Xtensa: cleanup unused stuff
      + Xtense: updated conditions
    
    git-svn-id: trunk@44351 -

M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/ncpucnv.pas
M	compiler/xtensa/ncpumat.pas
M	compiler/xtensa/racpugas.pas

******************************************************************************
commit b1759d9e9181b23b5298849c2bb9ee2b0389656a
Author: florian <florian@freepascal.org>
Date:   Mon Mar 23 20:54:57 2020 +0000

      + Xtensa: tcgcpu.g_concatcopy
    
    git-svn-id: trunk@44350 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 46e8cb3e49219d01e61279455fdc6778b64cd954
Author: florian <florian@freepascal.org>
Date:   Mon Mar 23 20:54:56 2020 +0000

      + Xtensa: make use of ADDI
    
    git-svn-id: trunk@44349 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 2c689fa57253e3940cce0c90aeb41dea25eda155
Author: florian <florian@freepascal.org>
Date:   Mon Mar 23 20:54:55 2020 +0000

      + Xtensa: tcgcpu.a_op_const_reg_reg
    
    git-svn-id: trunk@44348 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit e34a7596596e71081050fad9fa6ea77f55606930
Author: florian <florian@freepascal.org>
Date:   Mon Mar 23 20:54:55 2020 +0000

      + Xtensa: mathu.inc using only the softfloat unit provided mechanisms
    
    git-svn-id: trunk@44347 -

M	.gitattributes
A	rtl/xtensa/mathu.inc

******************************************************************************
commit a48d40e08e38b691207c557589767a1e9e84c368
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 23 01:15:41 2020 +0000

    amicommon: cleaned up the voodoo padding magic and packed record from the DOS unit SearchRec. This structure is entirely platform specific, ancient code might have accessed it from assembly, but it's no longer the case.
    
    git-svn-id: trunk@44345 -

M	rtl/amicommon/dos.pp

******************************************************************************
commit 65330f346d46debdc53afc0d8723eef18422453a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 23 01:13:13 2020 +0000

    amicommon: make sure to reset packrecords to default after OS structure inclusion
    
    git-svn-id: trunk@44344 -

M	rtl/amicommon/sysos.inc

******************************************************************************
commit cd76003b4dc9a82cba7b8cf82fd771d7a5eb41fe
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 23 00:05:52 2020 +0000

    amiga: remove packed from RTL OS record/structure definitions, use PACKRECORDS 2 instead. this allows much better code to be generated for a plain 68000 RTL
    
    git-svn-id: trunk@44343 -

M	rtl/amiga/m68k/execd.inc
M	rtl/amiga/m68k/utild1.inc
M	rtl/amiga/m68k/utild2.inc

******************************************************************************
commit 637ede68793715269928afd0f0b174249b73fb86
Author: florian <florian@freepascal.org>
Date:   Sun Mar 22 13:17:10 2020 +0000

    + Xtensa: tcgcpu.a_op_const_reg_reg
    
    git-svn-id: trunk@44340 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit a156a9246badc08990c28fda1b74b6dc4426de23
Author: florian <florian@freepascal.org>
Date:   Sun Mar 22 13:17:09 2020 +0000

    + Xtensa: tcgcpu.a_op_const_reg
    
    git-svn-id: trunk@44339 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 5fa7bbfb9be0ba2b9c0b1d434c985daaba887c93
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Mar 22 13:17:08 2020 +0000

    esp8266: Make startup code compile.
    
    git-svn-id: trunk@44338 -

M	rtl/embedded/xtensa/esp8266.pp

******************************************************************************
commit b449829a40d30c6a3de0a3cede92062c561d0dd6
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Mar 22 13:17:08 2020 +0000

    ncpuadd: Fix handling of signs in comparisons
    
    git-svn-id: trunk@44337 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 5438bd66689a1d50683d9e1740a85c7b81d3624e
Author: florian <florian@freepascal.org>
Date:   Sun Mar 22 13:17:07 2020 +0000

    + Xtensa: tcgcpu.a_op_reg_reg
    
    git-svn-id: trunk@44336 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit cfa9935c15439996735e322741979c4394545a64
Author: florian <florian@freepascal.org>
Date:   Sun Mar 22 13:17:06 2020 +0000

    + Xtensa: tcgcpu.a_load_reg_ref
    
    git-svn-id: trunk@44335 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 678ca16d951ac865d47b2218af3ce8de81e86aa6
Author: florian <florian@freepascal.org>
Date:   Sun Mar 22 13:17:05 2020 +0000

    + Xtensa: tcgcpu.a_load_ref_reg
    
    git-svn-id: trunk@44334 -

M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 43dc4c7ea08093298ee0facc3c3bf9660a5faef1
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 20:59:59 2020 +0000

      * regenerated Makefiles
    
    git-svn-id: trunk@44333 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 3189e4245d158f1a9ccabfc44fbe5fa55be2d2a8
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Mar 21 20:59:33 2020 +0000

    makefiles: Add support for xtensa-embedded target.
    
    git-svn-id: trunk@44332 -

M	.gitattributes
M	Makefile.fpc
M	compiler/Makefile.fpc
M	compiler/utils/fpc.pp
M	rtl/embedded/Makefile.fpc
A	rtl/embedded/xtensa/esp8266.pp

******************************************************************************
commit 30a4f667c171a8a352952bb008f7f7fc7e91284c
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Mar 21 20:59:32 2020 +0000

    tgobj: Change direction of stack.
    
    git-svn-id: trunk@44331 -

M	compiler/tgobj.pas

******************************************************************************
commit bcbdc4ad92c91d8544741bc36dd48f0f7fab9671
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Mar 21 20:59:31 2020 +0000

    xtensa: Add preliminary support for comparisons
    
    git-svn-id: trunk@44330 -

M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpumat.pas
M	compiler/xtensa/xtensaatt.inc

******************************************************************************
commit 77f5abac667cd81758ef39f889cf5107b920904f
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Mar 21 20:48:04 2020 +0000

    cgcpu: Implement a_cmp_reg_reg_label
    
    git-svn-id: trunk@44329 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit ad99285fec1def7dd295c799935a8082f95a4715
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 20:48:03 2020 +0000

    + Xtensa: CALL0 abi started
    
    git-svn-id: trunk@44328 -

M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit d0106d08b9602633c00c758c36aef8a3068cbf5e
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 12:49:48 2020 +0000

    + Xtensa: a_loadaddr_ref_reg implemented
    
    git-svn-id: trunk@44326 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 0d2db1a11c35a88e2c24705550768792acea5f61
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 12:49:47 2020 +0000

    * Xtensa: initial controller types
    
    git-svn-id: trunk@44325 -

M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit 729425447f65fd44cd5a47a4379dd807a8cb8130
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 12:49:46 2020 +0000

    + Xtensa: basic operations for Xtensa implemented
    
    git-svn-id: trunk@44324 -

M	.gitattributes
M	compiler/systems/t_embed.pas
M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/cpunode.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas
M	compiler/xtensa/hlcgcpu.pas
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpucnv.pas
A	compiler/xtensa/ncpuutil.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 73c68236b6a7943b8f5207a78e58483bf96a2737
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 12:49:45 2020 +0000

    * Xtensa: completed compiler skeleton
    
    git-svn-id: trunk@44323 -

M	.gitattributes
M	compiler/fpcdefs.inc
M	compiler/options.pas
M	compiler/psystem.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpunode.pas
A	compiler/xtensa/ncpuadd.pas
A	compiler/xtensa/ncpucnv.pas
A	compiler/xtensa/ncpumat.pas
M	compiler/xtensa/racpugas.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 28c0a47a953a21813de4ef29172d0257641de238
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 12:49:43 2020 +0000

    + Xtensa: completed rtl skeleton
    
    git-svn-id: trunk@44322 -

M	.gitattributes
M	rtl/embedded/system.cfg
M	rtl/embedded/system.pp
M	rtl/inc/systemh.inc
A	rtl/xtensa/int64p.inc
A	rtl/xtensa/strings.inc
A	rtl/xtensa/stringss.inc
M	rtl/xtensa/xtensa.inc

******************************************************************************
commit cb308bf5015c9640de99c80ce6ec9d3ba6d94952
Author: pierre <pierre@freepascal.org>
Date:   Sat Mar 21 07:15:53 2020 +0000

     Update revision.inc after commit #44319
    
    git-svn-id: trunk@44321 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 83a6efd75995f6da1f5993a608550ef4ae12b1b9
Author: florian <florian@freepascal.org>
Date:   Fri Mar 20 22:35:43 2020 +0000

      + Xtensa: RTL skeleton
    
    git-svn-id: trunk@44320 -

M	.gitattributes
M	rtl/embedded/Makefile
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc
A	rtl/xtensa/cpuh.inc
A	rtl/xtensa/makefile.cpu
A	rtl/xtensa/math.inc
A	rtl/xtensa/set.inc
A	rtl/xtensa/setjump.inc
A	rtl/xtensa/setjumph.inc
A	rtl/xtensa/xtensa.inc

******************************************************************************
commit 34d1b90921c78fe89be27ec77cd3e61087063c06
Author: florian <florian@freepascal.org>
Date:   Fri Mar 20 22:34:35 2020 +0000

      + Xtensa: support in the build utilities
    
    git-svn-id: trunk@44319 -

M	compiler/entfile.pas
M	compiler/utils/ppuutils/ppudump.pp
M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 9e40d536cbf5d42a95ba8c69a15b64b5b2b25e78
Author: florian <florian@freepascal.org>
Date:   Fri Mar 20 22:34:33 2020 +0000

      + Xtensa: initial skeleton completed
      + xtensa-embedded support in the compiler
    
    git-svn-id: trunk@44318 -

M	.gitattributes
M	compiler/fpcdefs.inc
M	compiler/globals.pas
M	compiler/options.pas
M	compiler/pp.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/systems/i_embed.pas
M	compiler/systems/t_embed.pas
A	compiler/xtensa/aasmcpu.pas
A	compiler/xtensa/agcpugas.pas
A	compiler/xtensa/aoptcpu.pas
A	compiler/xtensa/aoptcpub.pas
A	compiler/xtensa/cgcpu.pas
A	compiler/xtensa/cpubase.pas
A	compiler/xtensa/cpuinfo.pas
A	compiler/xtensa/cpunode.pas
A	compiler/xtensa/cpupara.pas
A	compiler/xtensa/cpupi.pas
A	compiler/xtensa/cputarg.pas
A	compiler/xtensa/hlcgcpu.pas
A	compiler/xtensa/itcpugas.pas
A	compiler/xtensa/racpugas.pas
A	compiler/xtensa/raxtensa.pas
A	compiler/xtensa/rgcpu.pas
A	compiler/xtensa/symcpu.pas
A	compiler/xtensa/xtensaatt.inc
A	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 27349661e08faf0d35056945bb9f845bdd4c7030
Author: florian <florian@freepascal.org>
Date:   Fri Mar 20 22:34:30 2020 +0000

      + Xtensa: lazarus project
    
    git-svn-id: trunk@44317 -

M	.gitattributes
A	compiler/ppcxtensa.lpi

******************************************************************************
commit 08c12ca4392fdf66b007ef89f4d391ad35a64b8c
Author: florian <florian@freepascal.org>
Date:   Fri Mar 20 22:34:29 2020 +0000

      + Xtensa: register information
    
    git-svn-id: trunk@44316 -

M	.gitattributes
A	compiler/utils/mkxtensareg.pp
A	compiler/xtensa/rxtensacon.inc
A	compiler/xtensa/rxtensadwa.inc
A	compiler/xtensa/rxtensanor.inc
A	compiler/xtensa/rxtensanum.inc
A	compiler/xtensa/rxtensarni.inc
A	compiler/xtensa/rxtensasri.inc
A	compiler/xtensa/rxtensasta.inc
A	compiler/xtensa/rxtensastd.inc
A	compiler/xtensa/rxtensasup.inc
A	compiler/xtensa/xtensareg.dat

******************************************************************************
commit 47b5d0b92edf48e9dc7580137262bf2b60076412
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Mar 18 00:44:49 2020 +0000

    atari: added the fpwidestring unit to the RTL build
    
    git-svn-id: trunk@44310 -

M	rtl/atari/Makefile
M	rtl/atari/Makefile.fpc
M	rtl/atari/buildrtl.pp

******************************************************************************
commit fb76f529ee7a4c5a590cfb5b38054579bd46f6b1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Mar 18 00:32:48 2020 +0000

    amiga-likes: add fpwidestring unit to the RTL build
    
    git-svn-id: trunk@44309 -

M	rtl/amiga/Makefile
M	rtl/amiga/Makefile.fpc
M	rtl/amiga/buildrtl.pp
M	rtl/aros/Makefile
M	rtl/aros/Makefile.fpc
M	rtl/aros/buildrtl.pp
M	rtl/morphos/Makefile
M	rtl/morphos/Makefile.fpc
M	rtl/morphos/buildrtl.pp

******************************************************************************
commit 7b4ef925f0502e4627d3a7a4bcfa8846be89852c
Author: marco <marco@freepascal.org>
Date:   Sun Mar 8 16:37:30 2020 +0000

     * attempt at crt1 translation to get freebsd 12 running.
    
    git-svn-id: trunk@44289 -

M	.gitattributes
A	rtl/freebsd/csucommon/ignore_init.inc
M	rtl/freebsd/si_crt.pp
M	rtl/freebsd/si_intf.inc
A	rtl/freebsd/x86_64/reloc.inc
M	rtl/freebsd/x86_64/si_c.inc

******************************************************************************
commit db267dcb6335a1c84f3b28e05b250d0abdf59818
Author: joost <joost@cnoc.nl>
Date:   Sun Mar 8 15:11:31 2020 +0000

     * Parse the keywords in fppkg-repositories
    
    git-svn-id: trunk@44288 -

M	packages/fppkg/src/fpxmlrep.pp

******************************************************************************
commit aca97274189a9511dcb3ceb878b2984138b71f62
Author: florian <florian@freepascal.org>
Date:   Sun Mar 8 14:30:59 2020 +0000

      + OptimizeForLoop: convert for-loops into zero-based backward for-loops if possible, for most architectures, this results in simpler code
    
    git-svn-id: trunk@44287 -

M	compiler/nflw.pas
M	compiler/optloop.pas
M	compiler/psub.pas

******************************************************************************
commit b1feaa9458eeb5ddb4b162d273a027503fecf815
Author: michael <michael@freepascal.org>
Date:   Sun Mar 8 13:55:29 2020 +0000

    * Allow to get/set config items
    
    git-svn-id: trunk@44286 -

M	utils/fppkg/fppkg.pp

******************************************************************************
commit 96a712f7ff35dc5ea1e148bff113c3b347c1785e
Author: marco <marco@freepascal.org>
Date:   Sat Mar 7 17:59:05 2020 +0000

     * add FreebSD to weaklinking targets.
    
    git-svn-id: trunk@44283 -

M	compiler/systems.pas

******************************************************************************
commit a880367b37004dc22aae426c0da8618c941d1fe3
Author: michael <michael@freepascal.org>
Date:   Sat Mar 7 11:40:32 2020 +0000

    * Show message about creating fppkg/conf.d directory
    
    git-svn-id: trunk@44279 -

M	compiler/utils/samplecfg

******************************************************************************
commit c20b27ede9fed9798af41af9fac56b3785ac6cb0
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Fri Mar 6 21:34:22 2020 +0000

    Add most SSE instructions as intrinsics.
    
    git-svn-id: trunk@44274 -

M	compiler/ninl.pas
M	compiler/utils/mkx86inl.pp
M	compiler/x86/cx86mminnr.inc
M	compiler/x86/x86intr.dat
M	compiler/x86/x86mmfirst.inc
M	compiler/x86/x86mmsecond.inc
M	compiler/x86/x86mmtype.inc
M	rtl/i386/cpumminnr.inc
M	rtl/i386/cpummprocs.inc
M	rtl/x86_64/cpuinnr.inc
M	rtl/x86_64/cpumminnr.inc
M	rtl/x86_64/cpummprocs.inc

******************************************************************************
commit 135a88c888e24e3c4559af7fae7d2f25a668f7be
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Fri Mar 6 17:19:51 2020 +0000

    movhlps/movlhps only take xmm registers.
    Handle spilling of SSE registers.
    
    git-svn-id: trunk@44272 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rgx86.pas

******************************************************************************
commit 6cac8cc77bd6f36cc5f312dc7e932108ba5f467c
Author: florian <florian@freepascal.org>
Date:   Fri Mar 6 16:16:38 2020 +0000

    * fix Peephole Optimization: Cmpcc2Testcc - condition AE/NB/NC/NO --> Always optimization
    
    git-svn-id: trunk@44271 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f8339a43eaa2808fe22ca13192c92b5c8c200300
Author: florian <florian@freepascal.org>
Date:   Fri Mar 6 16:16:37 2020 +0000

    * do not do full boolean evaluation on LOC_FLAGS
    
    git-svn-id: trunk@44270 -

M	compiler/nadd.pas

******************************************************************************
commit 424c8a0ac0edc9a8cdffdb62687fd1a750727172
Author: florian <florian@freepascal.org>
Date:   Fri Mar 6 16:16:36 2020 +0000

    * simple record accesses have not side effects
    
    git-svn-id: trunk@44269 -

M	compiler/nutils.pas

******************************************************************************
commit 8f0376c888e2b8626f37b8c8ce00a704df869ba0
Author: florian <florian@freepascal.org>
Date:   Fri Mar 6 15:47:18 2020 +0000

    + JccAdd2SetccAdd optimization
      * take care of C_C/C_NC in JccAdd/Inc/Dec2(Cmc)Adc/Sbb
    
    git-svn-id: trunk@44268 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit bc3131688af996b30fe4acc2e2b55d953ab70f8b
Author: florian <florian@freepascal.org>
Date:   Fri Mar 6 10:10:58 2020 +0000

      * fix precedence of IS operator, resolves #35909
    
    git-svn-id: trunk@44266 -

M	.gitattributes
M	compiler/tokens.pas
M	packages/fcl-report/src/fpreport.pp
A	tests/webtbf/tw35909.pp

******************************************************************************
commit cea772308039d52e7dcac66ab46c1fdec607e67c
Author: florian <florian@freepascal.org>
Date:   Thu Mar 5 21:49:36 2020 +0000

    * more use of RemoveCurrentP(p)
    
    git-svn-id: trunk@44264 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9819df6fe16de513a6c253b313cbd00ce4b3b11c
Author: florian <florian@freepascal.org>
Date:   Tue Mar 3 21:29:52 2020 +0000

    * calculate complexity of an rtti node correctly
    
    git-svn-id: trunk@44261 -

M	compiler/nutils.pas

******************************************************************************
commit f42b0bf6f556d1c8c9ab2bf04a5c170d62b44b8d
Author: florian <florian@freepascal.org>
Date:   Sun Mar 1 21:21:18 2020 +0000

      * fixed JccAdd/Inc/Dec2*Adc/Sbb optimizations
    
    git-svn-id: trunk@44254 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 34be9e464331921895f19699348ef7c663dd7e05
Author: florian <florian@freepascal.org>
Date:   Sun Mar 1 09:37:09 2020 +0000

      * CallRet2* optimization may not misalign the stack, reported by C Western on fpc-devel
    
    git-svn-id: trunk@44253 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit ac974c9ab7418908c996b52499240a88ffa210f7
Author: florian <florian@freepascal.org>
Date:   Sat Feb 29 21:15:15 2020 +0000

      * improve is_loop_invariant for load nodes
    
    git-svn-id: trunk@44252 -

M	compiler/optloop.pas

******************************************************************************
commit 507fc9c1ff58a7b97b3739016838cf06f35f956f
Author: florian <florian@freepascal.org>
Date:   Fri Feb 28 20:42:54 2020 +0000

    + take care of addn and subn in is_loop_invariant
    
    git-svn-id: trunk@44251 -

M	compiler/optloop.pas

******************************************************************************
commit 8003f675c5786198a1a7087060c05debf4920b07
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Feb 28 16:29:14 2020 +0000

    + add test for already fixed Mantis #24283
    
    git-svn-id: trunk@44249 -

M	.gitattributes
A	tests/webtbs/tw24283.pp

******************************************************************************
commit 80c0fc3c9268c59a07747f7ae88a106097c2a2c8
Author: florian <florian@freepascal.org>
Date:   Wed Feb 26 20:59:35 2020 +0000

      * several fixes to get better reg. allocations in the arm assembler optimizer
    
    git-svn-id: trunk@44245 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 62129db44cb6ccf173a6c2e34c6c1a29760c9479
Author: florian <florian@freepascal.org>
Date:   Tue Feb 25 21:28:53 2020 +0000

      * ARM: look further ahead when optimizing mov rX, yyyy
      * ARM: fix Mov0 and MovMLA2MUL optimizations
    
    git-svn-id: trunk@44244 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 9132b54b3b9ad8817fbc5bf20ede4ad947c193bb
Author: florian <florian@freepascal.org>
Date:   Tue Feb 25 21:28:52 2020 +0000

      + ARM: MovMLA2MUL optimization
    
    git-svn-id: trunk@44243 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 684ef3008fcb26dc1318e6807d78e72942d9ae4c
Author: florian <florian@freepascal.org>
Date:   Mon Feb 24 21:10:55 2020 +0000

      * ARM: optimize mov rX,#0 .... mul/mla/umull ...,rX,...
    
    git-svn-id: trunk@44242 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 9bdfbc24731d670ecda14897eca0add4786871a1
Author: florian <florian@freepascal.org>
Date:   Sun Feb 23 21:47:47 2020 +0000

      + GetNextInstructionUsingRegTrackingUse
      * better MovAnd2Mov optimization
      + TOptsToCheck to track expensive optimizations, needs more work
    
    git-svn-id: trunk@44241 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a3573599718aad825241c4926833270091ba8b52
Author: florian <florian@freepascal.org>
Date:   Sun Feb 23 21:21:40 2020 +0000

      * LeaCallLeaRet2Jmp is done in TX86AsmOptimizer.PostPeepholeOptLea
    
    git-svn-id: trunk@44240 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c7b19e2fc96f01219e4664895b13a5d86ae7e120
Author: florian <florian@freepascal.org>
Date:   Sun Feb 23 18:24:31 2020 +0000

      * track used register better: if a deallocation is moved/removed, the used register may not be removed from the current register used register set
    
    git-svn-id: trunk@44239 -

M	compiler/aopt.pas

******************************************************************************
commit af1a4c06c53b7486965fa31c8bc6ce7a3dcd16f1
Author: florian <florian@freepascal.org>
Date:   Sun Feb 23 10:41:18 2020 +0000

      * fixed generic round(...) for large values based on a comment by Alexander Hofmann on fpc-devel
      * extended test
    
    git-svn-id: trunk@44235 -

M	rtl/inc/genmath.inc
M	tests/test/units/system/tround.pp

******************************************************************************
commit 2acc6337d817d6e041281c4e0393ef7fde833adb
Author: florian <florian@freepascal.org>
Date:   Sat Feb 22 22:38:36 2020 +0000

      * debug statement removed
    
    git-svn-id: trunk@44234 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4dff373feffed88c558076962dc7a9e9729033e2
Author: florian <florian@freepascal.org>
Date:   Sat Feb 22 18:37:38 2020 +0000

      * (modified) patch by J. Gareth Moreton: processor-aware MOVZX optimisation cleanup, resolves #36687
    
    git-svn-id: trunk@44233 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/test/cg/tcnvint3a.pp
A	tests/test/cg/tcnvint3c.pp

******************************************************************************
commit c146aecc0112091e382e8c709026076038783409
Author: florian <florian@freepascal.org>
Date:   Fri Feb 21 20:35:27 2020 +0000

      * throw an error if the forward interface type and the actual interface type do not match, resolves #36720
    
    git-svn-id: trunk@44230 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecl.pas
A	tests/webtbf/tw36720.pp
A	tests/webtbf/uw36720a.pp
A	tests/webtbf/uw36720b.pp

******************************************************************************
commit 66aa2e1416e53e42ce5593ea5c71e244fd3dbb4e
Author: florian <florian@freepascal.org>
Date:   Thu Feb 20 20:51:46 2020 +0000

      * fixed tests for architectures with FPC_COMP_IS_INT64 defined
    
    git-svn-id: trunk@44222 -

M	tests/tbs/tb0621.pp
M	tests/test/units/fpcunit/testcomps.pp

******************************************************************************
commit 49f789b92aed40ddeb16aa91b95fcff61b386982
Author: florian <florian@freepascal.org>
Date:   Wed Feb 19 21:12:23 2020 +0000

      * reverted accidently committed changes again
    
    git-svn-id: trunk@44218 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit bb6028a27516192fdc8e0629389ca57524f4a030
Author: florian <florian@freepascal.org>
Date:   Wed Feb 19 21:10:20 2020 +0000

      * AArch64: the PIC code needs also more registers, so use the same ifdefs as arm and sparc
    
    git-svn-id: trunk@44217 -

M	tests/webtbs/tw2242.pp

******************************************************************************
commit 95e8992e2f2605f96187d057a5adb23b5109f163
Author: florian <florian@freepascal.org>
Date:   Wed Feb 19 21:10:19 2020 +0000

      + AArch64: profiler support for aarch64-linux
    
    git-svn-id: trunk@44216 -

M	compiler/aarch64/cgcpu.pas
M	compiler/options.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 346118187b41859b88ba7c4b196493a809fd54f6
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 19 15:33:11 2020 +0000

    Fix linking error, in which libc.so.6 is not found on aarch64-linux when libdl.so is loaded, by adding appropriate directory
    
    git-svn-id: trunk@44215 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit 200de64085083dcf64a836a18dfc5a8cbf31386e
Author: florian <florian@freepascal.org>
Date:   Tue Feb 18 21:37:06 2020 +0000

      * aarch64 suffers also from the limited tan precision of the softfpu
    
    git-svn-id: trunk@44212 -

M	tests/test/units/math/ttrig1.pp

******************************************************************************
commit 22146776564c2b1032ef00534b3982347cd1ee25
Author: florian <florian@freepascal.org>
Date:   Mon Feb 17 20:36:35 2020 +0000

      * tests need -CE
    
    git-svn-id: trunk@44206 -

M	tests/test/tsafecall3.pp
M	tests/test/tsafecall4.pp

******************************************************************************
commit 3099e10f41016534a49548a5fe82e93ce6e90138
Author: florian <florian@freepascal.org>
Date:   Mon Feb 17 20:12:53 2020 +0000

      * revert accidently committed code
    
    git-svn-id: trunk@44205 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e50c4f6373933812d8fe57ceaf4ceab1c963cb32
Author: florian <florian@freepascal.org>
Date:   Mon Feb 17 20:11:32 2020 +0000

      + AAarch64: optimize divisions by constant
    
    git-svn-id: trunk@44204 -

M	compiler/aarch64/ncpumat.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 93521ae8e87b79fde427bba35db6dfc8cef108c0
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 20:14:28 2020 +0000

      * fold also pointer additions/subtractions
    
    git-svn-id: trunk@44199 -

M	compiler/nadd.pas

******************************************************************************
commit 17158c3587ef077eade579f1414b5ac98f89ed47
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 20:14:28 2020 +0000

      * mmap2 expects that offset is divided by 4096
    
    git-svn-id: trunk@44198 -

M	rtl/linux/ossysc.inc

******************************************************************************
commit 27e89e07a359c9f5388dbff82bcd169823553154
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 20:14:27 2020 +0000

      * in case a 32x32 -> 64 multiplication is converted into shl, the type casts need to be restored
    
    git-svn-id: trunk@44197 -

M	compiler/nadd.pas

******************************************************************************
commit 9989d408fd2e010dffc655e492d7882d9a52449e
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 20:14:26 2020 +0000

      * AArch64 and i386: omit exit stackframe, same as r44191 for x86-64
    
    git-svn-id: trunk@44196 -

M	compiler/aarch64/cgcpu.pas
M	compiler/i386/cgcpu.pas

******************************************************************************
commit 3188dc18d41b540d6241e9ea20e918e217e55277
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 16 16:58:25 2020 +0000

      * fixed tdel1/2 tests again for AArch64/LLVM
    
    git-svn-id: trunk@44195 -

M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmpara.pas
M	compiler/pparautl.pas
M	compiler/symconst.pas

******************************************************************************
commit 88836b467e591b57523bfdd06590dd6f58977d7d
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 16:43:26 2020 +0000

      * (V)MOVA*(V)MOVS*2(V)MOVS* 1 optimization
    
    git-svn-id: trunk@44194 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 42324235bd7b9a00acae016699cb4f9c7e46177e
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 13:15:12 2020 +0000

      + CallRet2Call optimization
    
    git-svn-id: trunk@44192 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit ef3155c2eff240ffc64af5b713b545e5a0ea9b74
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 13:06:19 2020 +0000

      * there is no exit stackframe needed if a subroutine never returns
    
    git-svn-id: trunk@44191 -

M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit 2ad3c6dd97d08494ba0406b59868a5fd1198cbb9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Feb 16 09:53:37 2020 +0000

    * fix global generic functions with constraints in mode Delphi by handling implementations with defines outside of parse_generic_parameters
    + added tests
    
    git-svn-id: trunk@44189 -

M	.gitattributes
M	compiler/pdecsub.pas
M	compiler/pparautl.pas
A	tests/test/tgenfunc20.pp
A	tests/test/tgenfunc21.pp
A	tests/test/tgenfunc22.pp

******************************************************************************
commit 892454ff17bf5a12d3b7543c71ce149b9cab8f8a
Author: florian <florian@freepascal.org>
Date:   Sat Feb 15 20:53:40 2020 +0000

      * patch by J. Gareth Moreton: optimize MOVSXD as well, resolves #36700
    
    git-svn-id: trunk@44185 -

M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit e350264db18d5ddfe8458caf6a88ec687c3ce4e4
Author: florian <florian@freepascal.org>
Date:   Sat Feb 15 18:27:22 2020 +0000

      + propagate constants across call nodes
    
    git-svn-id: trunk@44184 -

M	compiler/optconstprop.pas

******************************************************************************
commit a0ed685036ab33651b4ec86569e2e8dbac33f527
Author: joost <joost@cnoc.nl>
Date:   Sat Feb 15 17:24:15 2020 +0000

     * Fixed the assignment of licenses of packages
    
    git-svn-id: trunk@44183 -

M	packages/fppkg/src/fprepos.pp

******************************************************************************
commit 3947922fea2604edcb2a4af366332cea338c5907
Author: florian <florian@freepascal.org>
Date:   Sat Feb 15 13:53:16 2020 +0000

      * set nf_* correctly when an inc/dec node is converted into an add/sub node
      * do not firstpass during dead store removal as it disturbes the for each calls
    
    git-svn-id: trunk@44180 -

M	compiler/ninl.pas
M	compiler/optdeadstore.pas

******************************************************************************
commit 013491c69f6068b74240153c95bcb50be5da21fa
Author: florian <florian@freepascal.org>
Date:   Fri Feb 14 21:27:16 2020 +0000

      * make maxpushedparasize a SizeInt: it must store an address size and not an alu value
    
    git-svn-id: trunk@44176 -

M	compiler/procinfo.pas

******************************************************************************
commit b7afb2431c1fc7bb7e29a965503dffd9e95aec00
Author: florian <florian@freepascal.org>
Date:   Fri Feb 14 20:56:55 2020 +0000

      * do not allow constraints in headers of procedure implementations in delphi mode, resolves #36584
      * better error message if a constraint is found at a wrong location
    
    git-svn-id: trunk@44174 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecsub.pas
M	compiler/pgenutil.pas
A	tests/webtbf/tw36584.pp

******************************************************************************
commit 20698bb36f16566f16a52d7c2c4965d6b1131512
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Feb 14 16:49:04 2020 +0000

    * regenerate msg*.inc after last commit
    
    git-svn-id: trunk@44171 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 147559349b257db80d94aba077a3bef23409f581
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Feb 14 16:48:58 2020 +0000

    * fix for Mantis #36652: gracefully handle the error if one tries to implement a method of a type from another unit
    + added test
    
    git-svn-id: trunk@44170 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/pparautl.pas
M	compiler/psub.pas
A	tests/webtbf/tw36652.pp
A	tests/webtbf/uw36652.pp

******************************************************************************
commit fc42953814ac01124fa964dda48de4d30e2208d9
Author: yury <jura@cp-lab.com>
Date:   Fri Feb 14 10:37:14 2020 +0000

    * Disabled range and overflow checks for the tw36587 test, since overflows are intended there.
    
    git-svn-id: trunk@44168 -

M	tests/webtbs/tw36587.pp

******************************************************************************
commit 3279e6335112c042ef8f723eb1476175bbf5e48d
Author: florian <florian@freepascal.org>
Date:   Thu Feb 13 20:53:39 2020 +0000

      * patch by J. Gareth Moreton: cleanup TX86AsmOptimizer.OptPass2MOV after DeepMov changes, second part of #36670
    
    git-svn-id: trunk@44166 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 251b18b9661df41aa9de94df5f0fec334d3323f0
Author: florian <florian@freepascal.org>
Date:   Thu Feb 13 20:34:27 2020 +0000

      * do not fold constants if the resulttypes do not match, improved fix for #tw26587
    
    git-svn-id: trunk@44165 -

M	compiler/nadd.pas

******************************************************************************
commit 3a5eb0ec59725106d89f21b1086f22851dcbd1fb
Author: florian <florian@freepascal.org>
Date:   Thu Feb 13 20:20:10 2020 +0000

      * patch by J. Gareth Moreton: cleanup TX86AsmOptimizer.OptPass1MOV after DeepMov changes, first part of #36670
    
    git-svn-id: trunk@44164 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f632e2e7be71448f812fe80f5dfadc8aed22dc8a
Author: florian <florian@freepascal.org>
Date:   Wed Feb 12 20:23:06 2020 +0000

      * simplified TX86AsmOptimizer.OptPass1Movx
    
    git-svn-id: trunk@44162 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 21565c22849db95277d35ae21b17298adaf0d285
Author: florian <florian@freepascal.org>
Date:   Wed Feb 12 19:26:52 2020 +0000

      * fixed Mov2Movz optimization
    
    git-svn-id: trunk@44161 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 533777000a214cc4a04dfb83503cbf1391e31702
Author: joost <joost@cnoc.nl>
Date:   Tue Feb 11 21:36:26 2020 +0000

     * Disable building the IDE on Darwin by default
    
    git-svn-id: trunk@44154 -

M	packages/ide/fpmake.pp

******************************************************************************
commit c6350e2903d5d431fb53e4a5ad5d5f2e9fa9e9f3
Author: florian <florian@freepascal.org>
Date:   Tue Feb 11 20:56:20 2020 +0000

      * patch by J. Gareth Moreton: processor-aware MOVZX optimisation cleanup, part one of #36687
    
    git-svn-id: trunk@44153 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 79bbc20f29632c65b4aba5f51503738cb6088b70
Author: joost <joost@cnoc.nl>
Date:   Tue Feb 11 19:31:35 2020 +0000

     * FPMake-option NoIDE added
    
    git-svn-id: trunk@44152 -

M	fpmake.pp
M	packages/fpmake.pp
M	packages/ide/fpmake.pp

******************************************************************************
commit 39c48f0d0156f562e8e286003d5504baed62ea5a
Author: yury <jura@cp-lab.com>
Date:   Tue Feb 11 12:49:12 2020 +0000

    * Fixed r43577 for cases when the size of the new result of a simplified node after typecheckpass is smaller than the size of the original node's result. This caused internal errors or invalid assembly in some cases. Issue #36587.
    
    git-svn-id: trunk@44151 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw36587.pp

******************************************************************************
commit e7d2c93ca7c764c4a7f9764a06f9ba390a76dda1
Author: florian <florian@freepascal.org>
Date:   Mon Feb 10 20:48:45 2020 +0000

      * patch by J. Gareth Moreton: deadstore removal improvement, resolves #36669
    
    git-svn-id: trunk@44147 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 40a60591430e4639b7786a1f0a3c34451bf73bbb
Author: pierre <pierre@freepascal.org>
Date:   Mon Feb 10 09:37:53 2020 +0000

     Modify code to avoid error when compiling with -CriotR option
    
    git-svn-id: trunk@44145 -

M	compiler/rgobj.pas

******************************************************************************
commit 991ce83a2b5a329abdf175905196cf1032993743
Author: florian <florian@freepascal.org>
Date:   Sun Feb 9 20:57:59 2020 +0000

      * patch by J. Gareth Moreton: conditional Jump Inversion stoploop variable, resolves #36680
    
    git-svn-id: trunk@44144 -

M	compiler/aoptobj.pas

******************************************************************************
commit 12d015a9356bfe9511bbb24c05d2a9cad9385e0b
Author: florian <florian@freepascal.org>
Date:   Sun Feb 9 17:39:50 2020 +0000

      * patch by J. Gareth Moreton: CMOV extensions: frame/stack pointer relative references are always valid, resolves #36675
    
    git-svn-id: trunk@44141 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3de193467d7d304aa1c0f3072af2a54f690eb821
Author: florian <florian@freepascal.org>
Date:   Thu Feb 6 20:24:59 2020 +0000

      * reverted r44119
    
    git-svn-id: trunk@44123 -

M	compiler/hlcgobj.pas

******************************************************************************
commit 8de6066b95d54e3c3daf2e5ca79b8e79d424f546
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Wed Feb 5 22:37:43 2020 +0000

      + added possibility to list supported modeswitches using -im and documented it in help pages
    
    git-svn-id: trunk@44120 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit 38d0a9af48bf9668da9b831a5c7248cc002242ee
Author: florian <florian@freepascal.org>
Date:   Wed Feb 5 20:33:32 2020 +0000

      * Makefile fixed
    
    git-svn-id: trunk@44118 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit 6b9d3ead7a3c196651d09b8b6c12d8fadb556022
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 5 17:21:18 2020 +0000

     Add '.built.on.$(SOURCESUFFIX)' for snapshots generated on another target using singlezipinstall
    
    git-svn-id: trunk@44117 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit 37106166f1c5a0ee6d26fae990c5bde21a15ea78
Author: pierre <pierre@freepascal.org>
Date:   Tue Feb 4 22:54:52 2020 +0000

     Replace assembler instruction 'xorl' by 'xor' in Intel mode
    
    git-svn-id: trunk@44116 -

M	rtl/emx/sysutils.pp

******************************************************************************
commit f4702ee139ed24007942b9b463974d3958fa1bef
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Feb 4 22:28:23 2020 +0000

      * added information about -M allowing to specify modeswitches
    
    git-svn-id: trunk@44115 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 9ce1d0e50960f60cb7f395f7a1d546077d182a7f
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Feb 4 22:04:34 2020 +0000

      * fix for TAbstractSearchRec.Time type change
    
    git-svn-id: trunk@44113 -

M	rtl/emx/sysutils.pp
M	rtl/os2/sysutils.pp

******************************************************************************
commit de213ba258297b7c28e2745da2f18bc2e0b5d6aa
Author: florian <florian@freepascal.org>
Date:   Mon Feb 3 20:16:33 2020 +0000

      - test removed as it cannot work on all variants of currency support
    
    git-svn-id: trunk@44107 -

M	.gitattributes
D	tests/webtbs/tw36179.pp

******************************************************************************
commit bbcbd4eae1c0e63afe7bee64469decb6d789118f
Author: florian <florian@freepascal.org>
Date:   Sun Feb 2 19:49:47 2020 +0000

      * patch by J. Gareth Moreton, avoid illegal MovAdd2Lea and MovSub2Lea optimziations, resolves #36630
    
    git-svn-id: trunk@44101 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b777dc21d70691a94c36cf921b428ddbcd36db2b
Author: florian <florian@freepascal.org>
Date:   Sun Feb 2 15:20:28 2020 +0000

      * fix PowerPC compilation
    
    git-svn-id: trunk@44097 -

M	compiler/parabase.pas

******************************************************************************
commit 679c4454c476583f1b28d179ceb8d54759aa63f8
Author: florian <florian@freepascal.org>
Date:   Sun Feb 2 14:30:45 2020 +0000

    * fixes copying of tcgpara
    
    git-svn-id: trunk@44095 -

M	compiler/parabase.pas

******************************************************************************
commit 1993c5d1efb6811791df0d7d78472e383874eabf
Author: florian <florian@freepascal.org>
Date:   Sun Feb 2 14:30:44 2020 +0000

    * cosmetics
    
    git-svn-id: trunk@44094 -

M	compiler/ncal.pas

******************************************************************************
commit e7f5b89c2c7cf856951f65c7698f6d2a351852c7
Author: joost <joost@cnoc.nl>
Date:   Sun Feb 2 11:06:14 2020 +0000

     * Avoid doing a syscall with a nil parameter in fileexists
    
    git-svn-id: trunk@44090 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit 0af71da9cc956f8d70c81ab5dd7c3e8484af90dd
Author: florian <florian@freepascal.org>
Date:   Sat Feb 1 22:31:12 2020 +0000

      * armhf/armel aligns sections to 16 byte, so allow a maximum c alignment of 16
    
    git-svn-id: trunk@44087 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit 2ea35e55b199904b69341b46a3f25fcb29557f54
Author: florian <florian@freepascal.org>
Date:   Sat Feb 1 21:31:56 2020 +0000

      * patch by J. Gareth Moreton: x86 "OptPass1MOV" improvements - Part 2, resolves #36608
    
    git-svn-id: trunk@44086 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5a87855b062c5cc8d0bbae3311d82eae2e099ec5
Author: florian <florian@freepascal.org>
Date:   Sat Feb 1 20:30:15 2020 +0000

      + might_have_sideeffects takes care of vo_volatile now (it is not exposed yet)
    
    git-svn-id: trunk@44085 -

M	compiler/nutils.pas

******************************************************************************
commit 77b54f501f0d1d6a45b8b3f11f4f6fec1260a4c3
Author: florian <florian@freepascal.org>
Date:   Sat Feb 1 18:02:17 2020 +0000

      * when optimizing boolean expressions, might_have_sideeffects is only relevant if the expression would be optimized away
    
    git-svn-id: trunk@44084 -

M	compiler/nadd.pas

******************************************************************************
commit d479069f8c045b26678dce30fd8a14cefde3b611
Author: florian <florian@freepascal.org>
Date:   Sat Feb 1 18:00:38 2020 +0000

      * might_have_sideeffects takes care of absolute
    
    git-svn-id: trunk@44083 -

M	.gitattributes
M	compiler/nutils.pas
A	tests/test/tabsvr6.pp
A	tests/test/tabsvr7.pp

******************************************************************************
commit 6b47d9d9ed74d375c3c17b38ec215ac0cfedb90c
Author: florian <florian@freepascal.org>
Date:   Fri Jan 31 21:58:49 2020 +0000

      * safecall support is meanwhile generic, so enabled for all linux targets
    
    git-svn-id: trunk@44076 -

M	compiler/fpcdefs.inc
M	compiler/powerpc/cpuinfo.pas
M	compiler/powerpc64/cpuinfo.pas
M	compiler/systems/i_linux.pas

******************************************************************************
commit 8f707903df96a5132592aeeb8d84e88f045fc5f6
Author: florian <florian@freepascal.org>
Date:   Fri Jan 31 21:27:46 2020 +0000

      * test fixed
    
    git-svn-id: trunk@44075 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit 7bcdc2b37fb9f3e81657e2e06e5b56502b629fc2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Jan 30 21:46:11 2020 +0000

    * implement interface thunk for RISC V 32- and 64-bit
    
    git-svn-id: trunk@44071 -

M	packages/rtl-objpas/src/inc/rtti.pp

******************************************************************************
commit d9f4c85d2e042f4cb41f868d51c7675923d25388
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:21 2020 +0000

      * llvm sometimes uses the AArch64 framepointer register as a regvar in the
        main routine (because it can never return) -> attempt to guard against
        invalid accesses in get_caller_addr
    
    git-svn-id: trunk@44066 -

M	rtl/aarch64/aarch64.inc

******************************************************************************
commit 254b85c352c92f8e8f7d4bc1acf10f5faedbbe51
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:17 2020 +0000

      + new pio_inline_forbidden flag to indicate that while parsing the
        implementation the compiler determined the routine must never be
        inlined
       o difference with po_noinline: can also be set in the implementation
       o difference with pio_inline_not_possible: it indicates that e.g.
         LLVM must not inline the routine either
    
    git-svn-id: trunk@44065 -

M	compiler/llvm/agllvm.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit b625afe8001b7508a131d683108a2e1a7550667a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:14 2020 +0000

      * never inline routines that call get_frame (otherwise get_frame would return
        the frame of the caller rather than of the current routine, which could
        cause e.g. stackframes to be missed in RTL helpers that are known to be
        only called from run time error routines)
    
    git-svn-id: trunk@44064 -

M	compiler/globtype.pas
M	compiler/ninl.pas
M	compiler/psub.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 08f9ec98e597e7afe9848fff43fe06608900002b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:10 2020 +0000

      * use same Windows platform name as clang
    
    git-svn-id: trunk@44063 -

M	compiler/llvm/llvmbase.pas

******************************************************************************
commit 592df7fa5905081b23eba908345cff67fe584679
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:07 2020 +0000

      * disable cs_opt_regvar on all platforms when compiled for LLVM (LLVM does
        that itself, our LLVM code generator can't handle it, and if it did then
        afterwards we would have to spill 90% of those register variables again
        to make them SSA)
    
    git-svn-id: trunk@44062 -

M	compiler/aarch64/cpuinfo.pas
M	compiler/arm/cpuinfo.pas
M	compiler/avr/cpuinfo.pas
M	compiler/i386/cpuinfo.pas
M	compiler/i8086/cpuinfo.pas
M	compiler/m68k/cpuinfo.pas
M	compiler/mips/cpuinfo.pas
M	compiler/powerpc/cpuinfo.pas
M	compiler/powerpc64/cpuinfo.pas
M	compiler/riscv32/cpuinfo.pas
M	compiler/riscv64/cpuinfo.pas
M	compiler/sparc64/cpuinfo.pas

******************************************************************************
commit df6516c29f348078c0f86034544445eedca59103
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:03 2020 +0000

      * fix internalerror if adding the object info for LLVM requires creating new defs
    
    git-svn-id: trunk@44061 -

M	compiler/llvm/nllvmutil.pas

******************************************************************************
commit 43c83b3ae60ade6916303a524f058febeeb683ad
Author: florian <florian@freepascal.org>
Date:   Wed Jan 29 21:35:26 2020 +0000

      * improve LeaLea2Lea optimization
    
    git-svn-id: trunk@44058 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 871136d4f2beb86ee8056278c6d9b7cae070c8ff
Author: florian <florian@freepascal.org>
Date:   Wed Jan 29 21:35:25 2020 +0000

      * first couple of improvements propose by Stefan Kanthak at https://skanthak.homepage.t-online.de/division.html#fpc
    
    git-svn-id: trunk@44057 -

M	rtl/inc/flt_core.inc

******************************************************************************
commit 45ffa40b71d623e404c72413e935e1b0ef97389e
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 28 19:09:42 2020 +0000

    * Removed inline since it is not supported with open array parameters.
    
    git-svn-id: trunk@44054 -

M	compiler/entfile.pas

******************************************************************************
commit 1b3a3a7983c3553e38b1a2bf1fb3166053435b66
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 28 18:45:33 2020 +0000

    * Removed lot of unused local vars. It is useful to turn on the notes in options. :)
    
    git-svn-id: trunk@44053 -

M	compiler/aasmcnst.pas
M	compiler/aoptobj.pas
M	compiler/cutils.pas
M	compiler/dbgstabx.pas
M	compiler/hlcgobj.pas
M	compiler/i386/aoptcpu.pas
M	compiler/i386/n386flw.pas
M	compiler/link.pas
M	compiler/mips/cpugas.pas
M	compiler/ncgmem.pas
M	compiler/ncgrtti.pas
M	compiler/pgenutil.pas
M	compiler/powerpc/agppcmpw.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc/nppcmat.pas
M	compiler/powerpc/rappcgas.pas
M	compiler/ppcgen/agppcgas.pas
M	compiler/ppcgen/cgppc.pas
M	compiler/ppcgen/ngppccnv.pas
M	compiler/psabiehpi.pas
M	compiler/symtable.pas
M	compiler/systems/t_beos.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86int.pas

******************************************************************************
commit 4a756a2d30b395b5d1038e3220da45c012336e96
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 28 17:50:20 2020 +0000

    * r42239 broke the tw13948b test for aarch64. Fixed this and improved the test.
    
    git-svn-id: trunk@44052 -

M	compiler/ncgmem.pas
M	tests/webtbs/tw13948b.pp

******************************************************************************
commit 1486ab7c708eaa3f901a49adc7a2cc42a1081d2c
Author: florian <florian@freepascal.org>
Date:   Mon Jan 27 22:27:22 2020 +0000

      * do not throw a warning about unreachable code if the responsible node was generated internally
    
    git-svn-id: trunk@44051 -

M	compiler/nflw.pas

******************************************************************************
commit 405b01f11684c9b9bf5119884a66e1ab00ca1950
Author: yury <jura@cp-lab.com>
Date:   Mon Jan 27 18:12:16 2020 +0000

    * Skip the test for android.
    
    git-svn-id: trunk@44050 -

M	tests/webtbs/tw15203.pp

******************************************************************************
commit 797795e2854990cd5abb987a721e9a13bef0945d
Author: yury <jura@cp-lab.com>
Date:   Mon Jan 27 17:50:35 2020 +0000

    * Skip the test for aarch64.
    
    git-svn-id: trunk@44049 -

M	tests/tbf/tb0110.pp

******************************************************************************
commit 3a31391c3975aaedd95a50adebb3f4339e476073
Author: yury <jura@cp-lab.com>
Date:   Mon Jan 27 17:37:26 2020 +0000

    * tests: When cross-testing, if possible, use the "ppc" native compiler to build fpmake. It solves PPU incompatibility errors.
    
    git-svn-id: trunk@44048 -

M	tests/tstunits/Makefile
M	tests/tstunits/Makefile.fpc

******************************************************************************
commit 56d64b007f7eee75266dca41fc570e9286ee6e61
Author: florian <florian@freepascal.org>
Date:   Sun Jan 26 20:13:18 2020 +0000

    + in some language modes the loop counter is undefined after the loop by language definition
    
    git-svn-id: trunk@44043 -

M	compiler/pstatmnt.pas

******************************************************************************
commit 3c18dee6945d3cc2d8d59fd7909bfb1db1cc3061
Author: florian <florian@freepascal.org>
Date:   Sun Jan 26 20:13:18 2020 +0000

    * take care of for loop counter read after loop
    
    git-svn-id: trunk@44042 -

M	compiler/optdfa.pas

******************************************************************************
commit 22197641b883bf4ad288141feb49caa0a53962a0
Author: florian <florian@freepascal.org>
Date:   Sun Jan 26 20:13:17 2020 +0000

      * last commit fixing calculation of do_loopvar_at_end was not complete,
        hopefully finally fixed
    
    git-svn-id: trunk@44041 -

M	compiler/nflw.pas

******************************************************************************
commit 74272975afea5cb9681b5e23c6d5df3e94e59021
Author: florian <florian@freepascal.org>
Date:   Sun Jan 26 15:35:03 2020 +0000

      * do_loopvar_at_end is not possible if the loop counter would overflow with
        the last iteration
    
    git-svn-id: trunk@44039 -

M	compiler/nflw.pas

******************************************************************************
commit 5aaf68b088871755f67b94959d5a2c52adbf7d7a
Author: florian <florian@freepascal.org>
Date:   Sat Jan 25 14:59:28 2020 +0000

      * fix compilation of arm-embedded, resolves #36626
    
    git-svn-id: trunk@44034 -

M	rtl/embedded/sysutils.pp

******************************************************************************
commit 3cd4168ab3412952166fe730cf6594fdc3c05fae
Author: florian <florian@freepascal.org>
Date:   Sat Jan 25 14:14:41 2020 +0000

      + introduce TOSTimestamp
    
    git-svn-id: trunk@44033 -

M	rtl/aix/sysosh.inc
M	rtl/amicommon/sysosh.inc
M	rtl/atari/sysosh.inc
M	rtl/beos/sysosh.inc
M	rtl/bsd/sysosh.inc
M	rtl/embedded/sysosh.inc
M	rtl/emx/sysosh.inc
M	rtl/gba/sysosh.inc
M	rtl/go32v2/sysosh.inc
M	rtl/haiku/sysosh.inc
M	rtl/java/sysosh.inc
M	rtl/linux/sysosh.inc
M	rtl/macos/sysosh.inc
M	rtl/msdos/sysosh.inc
M	rtl/nativent/sysosh.inc
M	rtl/nds/sysosh.inc
M	rtl/netware/sysosh.inc
M	rtl/netwlibc/sysosh.inc
M	rtl/os2/sysosh.inc
M	rtl/palmos/sysosh.inc
M	rtl/solaris/sysosh.inc
M	rtl/symbian/sysosh.inc
M	rtl/watcom/sysosh.inc
M	rtl/wii/sysosh.inc
M	rtl/win/sysosh.inc
M	rtl/win16/sysosh.inc

******************************************************************************
commit 6c71fd461daf8161fce6e1d4242a1e8b33f21271
Author: florian <florian@freepascal.org>
Date:   Fri Jan 24 21:39:07 2020 +0000

      * avoid internalerror for dec/inc(...,v) with v>high(int64), resolves #35298
    
    git-svn-id: trunk@44031 -

M	.gitattributes
M	compiler/ncginl.pas
A	tests/webtbs/tw35298.pp

******************************************************************************
commit 993144b91b468ebfe0cb0b2cfdbe93b8022e748b
Author: florian <florian@freepascal.org>
Date:   Fri Jan 24 21:10:17 2020 +0000

      * patch by J. Gareth Moreton: x86 SUB and LEA optimisations, resolves #36622
    
    git-svn-id: trunk@44030 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit a807e185912a5ab61e3bbfcb7358e442256562ac
Author: florian <florian@freepascal.org>
Date:   Fri Jan 24 20:41:11 2020 +0000

      * patch by J. Gareth Moreton: x86 CMP/TEST/Jcc optimisations, resolves #36624
    
    git-svn-id: trunk@44029 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d87a5cc9fb3dea2cda54a06bfc4fabee195c446a
Author: florian <florian@freepascal.org>
Date:   Thu Jan 23 21:32:09 2020 +0000

      * take care of m_duplicate_names when checking for duplicate locals, resolves #33221
    
    git-svn-id: trunk@44028 -

M	.gitattributes
M	compiler/symtable.pas
A	tests/webtbs/tw33221.pp

******************************************************************************
commit 7b4292c94e380e85aca13f6644419227f3f7034a
Author: florian <florian@freepascal.org>
Date:   Thu Jan 23 21:14:49 2020 +0000

      * patch by Robert Roland to support the RaspberryPi 2 as a bare metal embedded target, resolves #35236
    
    git-svn-id: trunk@44027 -

M	.gitattributes
M	compiler/arm/cpuinfo.pas
M	compiler/systems/t_embed.pas
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
A	rtl/embedded/arm/raspi2.pp

******************************************************************************
commit 90a40ab9ca5f0dbd344b28110a5fbe31a86fcdf5
Author: florian <florian@freepascal.org>
Date:   Thu Jan 23 20:56:56 2020 +0000

      * fix for #32352: a unit does not need to be re-deref'ed if it just had been recompiled
    
    git-svn-id: trunk@44026 -

M	compiler/fppu.pas

******************************************************************************
commit 8dc8647c7ba4e26968e197ad27f5b84edfe2cd1d
Author: florian <florian@freepascal.org>
Date:   Thu Jan 23 20:47:55 2020 +0000

      * WinCE compilation fixed
    
    git-svn-id: trunk@44025 -

M	rtl/wince/sysutils.pp

******************************************************************************
commit df28fdcbf8b4ab20479d264ddf92b0737d5585f0
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 23 15:03:20 2020 +0000

     Pass old value of OPT to FPCMAKEOPT
    
    git-svn-id: trunk@44023 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit f2618cb6a4565f0a0817b2458777181aec3a5579
Author: florian <florian@freepascal.org>
Date:   Wed Jan 22 19:06:26 2020 +0000

      * compilation on atari fixed
    
    git-svn-id: trunk@44019 -

M	rtl/atari/sysutils.pp

******************************************************************************
commit e790cb067d34662b642b715f4e1c73dada2120c8
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Wed Jan 22 12:14:47 2020 +0000

      * fix of FileSetDate after int64 changes (r44010 and r44013)
    
    git-svn-id: trunk@44018 -

M	rtl/emx/sysutils.pp
M	rtl/go32v2/sysutils.pp
M	rtl/msdos/sysutils.pp
M	rtl/os2/sysutils.pp
M	rtl/watcom/sysutils.pp
M	rtl/win16/sysutils.pp

******************************************************************************
commit a16f332fbb9b83dd0d9ba5b53b5ba7d4b94381a4
Author: marco <marco@freepascal.org>
Date:   Wed Jan 22 12:07:49 2020 +0000

     * some quick fixes for Win32 with temp variables for some places where the int64 changes breaks.
    
    git-svn-id: trunk@44017 -

M	rtl/win/sysutils.pp

******************************************************************************
commit 69956cd97a3178add5b81947079f8c13b8755b37
Author: florian <florian@freepascal.org>
Date:   Tue Jan 21 21:50:37 2020 +0000

      * fix compilation on several OSes after r44010
    
    git-svn-id: trunk@44013 -

M	rtl/amicommon/sysutils.pp
M	rtl/atari/sysutils.pp
M	rtl/embedded/sysutils.pp
M	rtl/emx/sysutils.pp
M	rtl/gba/sysutils.pp
M	rtl/go32v2/sysutils.pp
M	rtl/macos/sysutils.pp
M	rtl/msdos/sysutils.pp
M	rtl/nativent/sysutils.pp
M	rtl/nds/sysutils.pp
M	rtl/netware/sysutils.pp
M	rtl/netware/tests/test.pas
M	rtl/netwlibc/sysutils.pp
M	rtl/objpas/sysutils/filutil.inc
M	rtl/os2/sysutils.pp
M	rtl/symbian/sysutils.pp
M	rtl/watcom/sysutils.pp
M	rtl/wii/sysutils.pp
M	rtl/win/sysutils.pp
M	rtl/win16/sysutils.pp
M	rtl/wince/sysutils.pp

******************************************************************************
commit 9a42625cfb4b042284bc2b789bd4d3f65ecc5522
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jan 21 21:30:10 2020 +0000

    * also allow by-value open array parameters for the tail recursion optimization
    * adjusted test
    
    git-svn-id: trunk@44012 -

M	compiler/opttail.pas
M	tests/tbs/tb0667.pp

******************************************************************************
commit 4fc02d3d09b3ee04f0576ed25b5318c6690295d5
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jan 21 21:29:56 2020 +0000

    * enable tail recursion optimization also for const and constref open arrays
    + added test
    
    git-svn-id: trunk@44011 -

M	.gitattributes
M	compiler/opttail.pas
A	tests/tbs/tb0667.pp

******************************************************************************
commit 01302bc47dd4a9c3cba94ccc738d103cc43120af
Author: florian <florian@freepascal.org>
Date:   Tue Jan 21 20:59:20 2020 +0000

      * subroutines working with an OS dependend time stamp use an int64 now, so the 2038 problem
        on unixes can be tackled
    
    git-svn-id: trunk@44010 -

M	.gitattributes
M	rtl/amicommon/sysutils.pp
M	rtl/atari/sysutils.pp
M	rtl/embedded/sysutils.pp
M	rtl/emx/sysutils.pp
M	rtl/gba/sysutils.pp
M	rtl/go32v2/sysutils.pp
M	rtl/macos/sysutils.pp
M	rtl/msdos/sysutils.pp
M	rtl/nativent/sysutils.pp
M	rtl/nds/sysutils.pp
M	rtl/netware/sysutils.pp
M	rtl/netware/tests/test.pas
M	rtl/netwlibc/sysutils.pp
M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/objpas/sysutils/sysutils.inc
M	rtl/os2/sysutils.pp
M	rtl/symbian/sysutils.pp
M	rtl/unix/sysutils.pp
M	rtl/unix/unixutil.pp
M	rtl/watcom/sysutils.pp
M	rtl/wii/sysutils.pp
M	rtl/win/sysutils.pp
M	rtl/win16/sysutils.pp
M	rtl/wince/sysutils.pp
M	tests/Makefile
M	tests/Makefile.fpc
A	tests/test/units/dateutil/tunitdt1.pp
A	tests/test/units/unixutil/tepoch1.pp

******************************************************************************
commit fc44c2d4c965d246fc7915dd0212679d9a27d77a
Author: florian <florian@freepascal.org>
Date:   Mon Jan 20 21:56:39 2020 +0000

      + insert alignments after break/goto/exit/continue jmp instructions, if it is
        superfluous, the assembler optimizer will take care of it
    
    git-svn-id: trunk@44007 -

M	compiler/ncgflw.pas

******************************************************************************
commit 16152cf948f30f16e1e185626dad97e298c843bd
Author: florian <florian@freepascal.org>
Date:   Sun Jan 19 20:11:05 2020 +0000

      * patch by J. Gareth Moreton: get rid of another pass through the assembler list by integrating OptReferences
        into the post optimizer pass
    
    git-svn-id: trunk@44001 -

M	compiler/i386/aoptcpu.pas
M	compiler/i8086/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 069e040e49c79b8ce1f8b73d85e02a05df6126b2
Author: florian <florian@freepascal.org>
Date:   Sun Jan 19 18:21:12 2020 +0000

      * do for-loop unrolling after for-loop simplification, resolves #36589
    
    git-svn-id: trunk@43999 -

M	.gitattributes
M	compiler/nflw.pas
A	tests/webtbs/tw36589.pp

******************************************************************************
commit 799ea31a5f228ca212c94de2284d7910f3592e4b
Author: florian <florian@freepascal.org>
Date:   Sun Jan 19 18:04:59 2020 +0000

      * AVR: due to recent fixes, EXCLUDE_COMPLEX_PROCS is not needed anymore
    
    git-svn-id: trunk@43997 -

M	rtl/embedded/system.pp

******************************************************************************
commit 4b4e316af02a968f27147123b189b04a9931ba79
Author: florian <florian@freepascal.org>
Date:   Sun Jan 19 15:55:20 2020 +0000

      * compilation fixed
    
    git-svn-id: trunk@43981 -

M	compiler/avr/ccpuinnr.inc

******************************************************************************
commit 48236401e002fef040b402ecc37844edaa13984d
Author: florian <florian@freepascal.org>
Date:   Sat Jan 18 21:51:27 2020 +0000

      * voidcodepointertype => voidpointertype as suggested by Pierre
    
    git-svn-id: trunk@43976 -

M	compiler/opttail.pas

******************************************************************************
commit 22ab6dd329e69675fb1a213e2860c743539e7082
Author: florian <florian@freepascal.org>
Date:   Sat Jan 18 11:37:57 2020 +0000

      * disabled mm procs again, they are not usable yet neither supposed to be
        used
    
    git-svn-id: trunk@43968 -

M	rtl/i386/cpuh.inc
M	rtl/x86_64/cpuh.inc

******************************************************************************
commit 81848157808ef123a1cb244b71d366abeee39aa7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 18 11:22:24 2020 +0000

    * ensure that the new mm related procs are only used for 3.3.1 and newer as 3.2 and older don't support the corresponding SSE types
    
    git-svn-id: trunk@43967 -

M	rtl/i386/cpuh.inc
M	rtl/x86_64/cpuh.inc

******************************************************************************
commit b3c579f49c891b155f6b89539ad22bd12630555f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 18 11:22:20 2020 +0000

    * ensure that the includes for the new mm related files are indeed enabled
    
    git-svn-id: trunk@43966 -

M	rtl/x86_64/cpuh.inc
M	rtl/x86_64/cpuinnr.inc

******************************************************************************
commit 70a836c4a21104120f9f993710fb08e9525f97ca
Author: florian <florian@freepascal.org>
Date:   Tue Jan 14 21:52:39 2020 +0000

      * first part of merging parts of Jeppe's intrinsics patch, mainly r31135
        is merged by this commit with a lot of adaptions
    
    git-svn-id: trunk@43949 -

M	.gitattributes
M	compiler/Makefile
M	compiler/Makefile.fpc
M	compiler/cgbase.pas
M	compiler/compinnr.pas
M	compiler/defutil.pas
M	compiler/ncginl.pas
M	compiler/ncgutil.pas
M	compiler/ninl.pas
M	compiler/psystem.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
A	compiler/utils/mkx86inl.pp
M	compiler/x86/cgx86.pas
M	compiler/x86/cx86innr.inc
A	compiler/x86/cx86mminnr.inc
M	compiler/x86/nx86inl.pas
A	compiler/x86/x86intr.dat
A	compiler/x86/x86mmfirst.inc
A	compiler/x86/x86mmsecond.inc
A	compiler/x86/x86mmtype.inc
M	rtl/i386/cpuh.inc
M	rtl/i386/cpuinnr.inc
A	rtl/i386/cpumminnr.inc
A	rtl/i386/cpummprocs.inc
M	rtl/inc/innr.inc
M	rtl/inc/systemh.inc
M	rtl/x86_64/cpuh.inc
M	rtl/x86_64/cpuinnr.inc
A	rtl/x86_64/cpumminnr.inc
A	rtl/x86_64/cpummprocs.inc

******************************************************************************
commit 2678522db552a5d377fedb1aea4983cb97ddf324
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Jan 13 22:54:26 2020 +0000

    - RISC-V: Add controller types for common RV32 MCUs.
    - Adds initial controller units for these MCUs.
    
    Code contributed by Michael Ring
    
    git-svn-id: trunk@43935 -

M	.gitattributes
M	compiler/riscv/agrvgas.pas
M	compiler/riscv32/cpuinfo.pas
M	compiler/systems/t_embed.pas
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
A	rtl/embedded/riscv32/fe310g000.pp
A	rtl/embedded/riscv32/fe310g002.pp
A	rtl/embedded/riscv32/gd32vf103xx.pp
A	rtl/embedded/riscv32/riscv32_start.inc

******************************************************************************
commit 02c3f328a21d35ba3d4ba62150761a33d5dc4cac
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Jan 13 22:49:23 2020 +0000

    - RISC-V: Share optimizations between 32 and 64-bit.
    
    git-svn-id: trunk@43934 -

M	.gitattributes
A	compiler/riscv/aoptcpurv.pas
M	compiler/riscv32/aoptcpu.pas
M	compiler/riscv32/cgcpu.pas
M	compiler/riscv32/cpubase.pas
M	compiler/riscv64/aoptcpu.pas

******************************************************************************
commit 7cfb87b325aa1b0300734c04f338395e8d0e56c6
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Jan 13 22:42:39 2020 +0000

    - Handle jump optimizations on RISC-V
    
    git-svn-id: trunk@43933 -

M	compiler/aoptobj.pas

******************************************************************************
commit 931d4dcfeea91a734cbbbb4ff28beabf8b9bda34
Author: florian <florian@freepascal.org>
Date:   Mon Jan 13 21:20:03 2020 +0000

      * ensure the rtl and the packages for embedded compile with features exceptions and classes disabled
    
    git-svn-id: trunk@43931 -

M	compiler/psub.pas
M	packages/rtl-extra/src/inc/sortalgs.pp
M	rtl/inc/objpash.inc
M	rtl/inc/rtti.inc
M	rtl/inc/sortbase.pp
M	rtl/inc/systemh.inc

******************************************************************************
commit 34fecf90f34c9cc9f6fad91ba024ec9cda3a0a36
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Jan 13 12:36:35 2020 +0000

    SysUtils: add ExpandFileName with a BasePath overload
    
    git-svn-id: trunk@43928 -

M	rtl/inc/fexpand.inc
M	rtl/objpas/sysutils/fina.inc
M	rtl/objpas/sysutils/finah.inc

******************************************************************************
commit 5a1e6c2e914f5fefc3e5dcb848b5c3a5182b63bd
Author: florian <florian@freepascal.org>
Date:   Sun Jan 12 12:00:44 2020 +0000

      * compilation on i386 fixed
    
    git-svn-id: trunk@43920 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2b70c64d09d8d58476034e1cee01b30d96c19e3b
Author: florian <florian@freepascal.org>
Date:   Sun Jan 12 10:33:21 2020 +0000

      * patch by J. Gareth Moreton: Some cleaning up of OptPass2JMP and OptPass2MOV, resolves #36553
    
    git-svn-id: trunk@43919 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 124c64152d256c1e62a1f13103c2bf5cafb33155
Author: florian <florian@freepascal.org>
Date:   Sun Jan 12 09:20:01 2020 +0000

      * patch by J. Gareth Moreton: EAX -> EDX:EAX sign extension shortcuts, and MOVSX shortcuts for AX register, part 2 of #36551
    
    git-svn-id: trunk@43918 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 236c11ef71f341e9038730cd56a2c732670fbb45
Author: florian <florian@freepascal.org>
Date:   Sun Jan 12 09:20:00 2020 +0000

      * patch by J. Gareth Moreton: EAX -> EDX:EAX sign extension shortcuts, and MOVSX shortcuts for AX register, part 1 of #36551
    
    git-svn-id: trunk@43917 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 007df5d0face645c15ba7ccb1a851d93c795cd44
Author: florian <florian@freepascal.org>
Date:   Sat Jan 11 21:15:19 2020 +0000

      * fix for #36554
    
    git-svn-id: trunk@43913 -

M	.gitattributes
M	compiler/pstatmnt.pas
A	tests/webtbf/tw36554.pp

******************************************************************************
commit aabd7c721783ea8db3983568e75918d5b8b6db2f
Author: florian <florian@freepascal.org>
Date:   Sat Jan 11 20:37:05 2020 +0000

      * more fixes for loop strength reduction
    
    git-svn-id: trunk@43912 -

M	compiler/optloop.pas
M	compiler/optutils.pas

******************************************************************************
commit a9a711763f0f41b97f806beaa2509ad77ebd7542
Author: florian <florian@freepascal.org>
Date:   Sat Jan 11 16:08:46 2020 +0000

      * some fixes to loop strength reduction
    
    git-svn-id: trunk@43911 -

M	compiler/optloop.pas

******************************************************************************
commit 2f2b378c0346142566dba0f71a25248b651ee9a3
Author: florian <florian@freepascal.org>
Date:   Sat Jan 11 16:08:45 2020 +0000

      * moved conversion of for into while loops in a separate pass, so node optimizations on the node tree can be
        carried out without losing information from for loops
    
    git-svn-id: trunk@43910 -

M	compiler/nflw.pas
M	compiler/optdfa.pas
M	compiler/psub.pas

******************************************************************************
commit 3b39ec84e46f32eba0d2d328391f7b67595f8e9a
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 10 22:58:34 2020 +0000

     Examine all exception bits in m68k fpsr register to decide which into which run time error it is converted
    
    git-svn-id: trunk@43909 -

M	rtl/linux/m68k/sighnd.inc

******************************************************************************
commit 90d2982977b802d664d3f9f2d5028693d894ceba
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 10 22:56:03 2020 +0000

     Wipe out any pre-existing exception on SetExceptionMask call for m68k cpu
    
    git-svn-id: trunk@43908 -

M	rtl/m68k/mathu.inc

******************************************************************************
commit 6f87a572affeb8d5a21d9085e986d98933abb22d
Author: florian <florian@freepascal.org>
Date:   Fri Jan 10 21:47:20 2020 +0000

    * factored out tcgprocinfo.OptimizeNodeTree
    
    git-svn-id: trunk@43907 -

M	compiler/psub.pas

******************************************************************************
commit f424ae392999b995c51a205eb14a183add9d38ac
Author: florian <florian@freepascal.org>
Date:   Fri Jan 10 21:34:30 2020 +0000

    - cleanup comment
    
    git-svn-id: trunk@43906 -

M	compiler/nflw.pas

******************************************************************************
commit 30e186be784e320264a7b422e52d8541f58131fd
Author: florian <florian@freepascal.org>
Date:   Fri Jan 10 21:34:30 2020 +0000

    * renamed sum -> defsum to avoid confusion with usesum
    
    git-svn-id: trunk@43905 -

M	compiler/optutils.pas

******************************************************************************
commit b5659df4251fdacdd80697632708689cdb64f8a5
Author: florian <florian@freepascal.org>
Date:   Fri Jan 10 21:34:29 2020 +0000

    + CalcUseSum: calculates a sum of all use sets of the current node and its children
    
    git-svn-id: trunk@43904 -

M	compiler/optbase.pas
M	compiler/optutils.pas

******************************************************************************
commit 3335104da26fd1750f200cbdcbd815a56856b217
Author: florian <florian@freepascal.org>
Date:   Thu Jan 9 20:35:37 2020 +0000

      * get paramstr(0) only if really needed
    
    git-svn-id: trunk@43898 -

M	rtl/linux/system.pp

******************************************************************************
commit 3eb14dd72264b06f2ec8f8278e2ac785ae232bc5
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 9 14:38:58 2020 +0000

    Avoid using <> for floating point values, check that abs of difference is small instead (fixes m68k 'pseudo-failure')
    
    git-svn-id: trunk@43896 -

M	tests/test/cg/taddcurr.pp

******************************************************************************
commit 6929da66a87b0185fe1f2d3762a189ed5b44fbf2
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 8 23:09:21 2020 +0000

      + Enable FPU exception handling for m68k processor
    
    git-svn-id: trunk@43894 -

M	rtl/linux/system.pp

******************************************************************************
commit d8298c9f14ffe98e06a766597f8af54c81ead38a
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 8 23:08:30 2020 +0000

     Try to correctly handle m68k exceptions bits inside SetExceptionMask function
    
    git-svn-id: trunk@43893 -

M	rtl/m68k/mathu.inc

******************************************************************************
commit 11287f018fbf940beed20d4e1c0c09f9b872a006
Author: florian <florian@freepascal.org>
Date:   Tue Jan 7 21:46:07 2020 +0000

      * explicitly emit a sub instruction in tx86inlinenode.second_high, resolves #36530
    
    git-svn-id: trunk@43888 -

M	compiler/x86/nx86inl.pas

******************************************************************************
commit 7a3a4244d105e3b32d79b52b692eccc62b362bb2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:23 2020 +0000

      * accept locals replaced by symbols in inline assembly by the LLVM code
        generator in the AArch64 assembler writer
    
    git-svn-id: trunk@43887 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 3abdec9c953d6bded0f7200e4392c65a61caea5a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:20 2020 +0000

      * LLVM/AArch64: don't perform the parameter location extension workarounds
        for LLVM, as that results in LLVM assuming exactly the opposite of
        what's intended (namely that the extended locations contain valid
        rather than invalid bits)
    
    git-svn-id: trunk@43886 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 31ef82b9c6f18e699ee8a9fae53dc5c257456119
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:17 2020 +0000

      * constrained sitofp is not yet supported in LLVM for all targets
    
    git-svn-id: trunk@43885 -

M	.gitattributes
A	compiler/llvm/llvmfeatures.pas
M	compiler/llvm/llvminfo.pas
M	compiler/llvm/nllvmcnv.pas

******************************************************************************
commit 9462d6b1eace21998fcc832fdfd343479ffe4ab0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:13 2020 +0000

      * handle non-smallset sets in registers in LLVM like arrays and records
    
    git-svn-id: trunk@43884 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit a75247d9b0f072cd37310da1d3a47822efbc77a7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:10 2020 +0000

      * AArch64: fixed parameter defs for smallsets passed in registers whose size
        is not a power of two
    
    git-svn-id: trunk@43883 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 32be078ab8c2c1c7930d48b5b2f8552178f2066c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:06 2020 +0000

      * fixed for targets where currency is implemented via int64 after r43829
    
    git-svn-id: trunk@43882 -

M	compiler/llvm/nllvmcnv.pas

******************************************************************************
commit 404c6e0c15075a88a0128327e2d9dfa4449a0593
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 20:59:25 2020 +0000

    + forgotten file
    
    git-svn-id: trunk@43879 -

M	.gitattributes
A	compiler/cepiktimer.pas

******************************************************************************
commit 872c22842ec17ffd691eb365dd4d956687f4ed7c
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 20:59:24 2020 +0000

    * do prefetching correctly
      * more prefetching inserted
      * unnecessary/wrong UpdateUsedRegs removed
    
    git-svn-id: trunk@43878 -

M	compiler/aopt.pas
M	compiler/aoptbase.pas
M	compiler/aoptobj.pas
M	compiler/cclasses.pas

******************************************************************************
commit 3dd6a8e24e228aa6a8883508f4eade692e088726
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 19:53:43 2020 +0000

      * add forgotten exits, fixes r43874
    
    git-svn-id: trunk@43877 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 92671c9b85c7320c80d6ded7727718ea94047e41
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 17:05:48 2020 +0000

      o patch by J. Gareth Moreton:
        * applies some optimisations to OptPass1MOV. Repeated checks to the "GetNextInstruction_p Boolean"
          variable are factored out, since all of the optimisations bar the first one require a
          succeeding instruction.
    
    git-svn-id: trunk@43875 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9b68c7a5f5f0da2e43119f5845b60923b09ad801
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 17:05:47 2020 +0000

      * fix X86AsmOptimizer.RegModifiedByInstruction for VMOVSS/VMOVSD/IMUL
    
    git-svn-id: trunk@43874 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6612bb44347f5b978356417125a92a715900236b
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 14:58:06 2020 +0000

      * proper naming
    
    git-svn-id: trunk@43871 -

M	.gitattributes
R100	compiler/cprofile.pp	compiler/cprofile.pas

******************************************************************************
commit ae0ebd1e9326f2c863b23eadc2f0a24b1c007960
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 14:48:38 2020 +0000

      * missing part of last commit
    
    git-svn-id: trunk@43870 -

M	compiler/cprofile.pp

******************************************************************************
commit 6371d5f26d849975c0a6400fe46c153327603796
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 14:46:32 2020 +0000

    + infrastructure to profile different stages of the compiler
    
    git-svn-id: trunk@43869 -

M	.gitattributes
M	compiler/aopt.pas
A	compiler/cprofile.pp

******************************************************************************
commit 11784cb76af3bdd83a034ed09d524eac48b39e02
Author: joost <joost@cnoc.nl>
Date:   Sun Jan 5 23:20:52 2020 +0000

     * Fixed safecall on win32 with -Ooregvar by making sure that $safecallresult
       is never stored in a register.
    
    git-svn-id: trunk@43868 -

M	compiler/pparautl.pas

******************************************************************************
commit fca4d3315bd3dce1f2013d66e2652bd157c60de7
Author: florian <florian@freepascal.org>
Date:   Sun Jan 5 17:47:23 2020 +0000

      * let the operation do the type conversion for x87 floating point operations
    
    git-svn-id: trunk@43867 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 76e7833a201b8de2b67028606dd45fd0ad972e79
Author: florian <florian@freepascal.org>
Date:   Sun Jan 5 15:43:04 2020 +0000

      * avoid invalid type cast
    
    git-svn-id: trunk@43865 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d3f3f81e1627ca65878c1539e0dcad32de5eb382
Author: florian <florian@freepascal.org>
Date:   Sun Jan 5 15:43:03 2020 +0000

      * fixes TX86AsmOptimizer.OptPass1_V_MOVAP after r43855
    
    git-svn-id: trunk@43864 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 22cb46fca9876d6e199beffd0a68e2e642b8dcb1
Author: florian <florian@freepascal.org>
Date:   Sun Jan 5 15:43:02 2020 +0000

      * cleanup
    
    git-svn-id: trunk@43863 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f659e91a95f761b311814797f885eeb445ad1dc0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jan 5 13:15:10 2020 +0000

      * fixed LLVM compilation after r43860
    
    git-svn-id: trunk@43862 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit a34ae2261a45f4843fcf8f257b1a162b962ce88f
Author: florian <florian@freepascal.org>
Date:   Sat Jan 4 22:19:15 2020 +0000

      * copy fpu parameters using fld/fst onto the stack
    
    git-svn-id: trunk@43861 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit b7c6e01b03ac1d8fcedf2cfe6d150b83f83cef4a
Author: florian <florian@freepascal.org>
Date:   Sat Jan 4 21:54:53 2020 +0000

      * cleaning up tcgsize: it makes no sense to declare every combination and type
        the different vector types must be either handled in the high level cg or
        by using the shuffle parameter
    
    git-svn-id: trunk@43860 -

M	compiler/cgbase.pas
M	compiler/cgobj.pas
M	compiler/defutil.pas
M	compiler/hlcgobj.pas
M	compiler/m68k/cpubase.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/cpubase.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit 73c6cab0961f0bffe52aa6d81985f56d08e2d654
Author: florian <florian@freepascal.org>
Date:   Sat Jan 4 14:24:28 2020 +0000

      + MovMovMov2XChg optimization by J. Gareth Moreton
    
    git-svn-id: trunk@43858 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3c16324f8065a20e737028144cc624f6d1834bf5
Author: florian <florian@freepascal.org>
Date:   Fri Jan 3 22:23:49 2020 +0000

      * x86: avoid to put variables into registers if they are handled by the x87-FPU
    
    git-svn-id: trunk@43856 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 7da6bac960893bfb3d690258f0fc11472c0aa1ec
Author: florian <florian@freepascal.org>
Date:   Fri Jan 3 22:23:07 2020 +0000

      * look further forward in TX86AsmOptimizer.OptPass1_V_MOVAP
    
    git-svn-id: trunk@43855 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 451afd6e45d61fcbe6236803fb12eda7693355d0
Author: florian <florian@freepascal.org>
Date:   Fri Jan 3 19:15:12 2020 +0000

      * triggered by #36505, removed CmpJxxDecJmp2SubJcc optimization as it was wrong anyways
    
    git-svn-id: trunk@43852 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1201cc024ed4f14903cdd59e26a458985f8621fd
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Fri Jan 3 17:03:38 2020 +0000

    * Add riscv-embedded to targets that don't support non-constant leb128's.
    
    git-svn-id: trunk@43851 -

M	compiler/dbgdwarf.pas

******************************************************************************
commit a79b8a145f10dbbbacfb2ca5cc892b139177733b
Author: florian <florian@freepascal.org>
Date:   Fri Jan 3 12:27:46 2020 +0000

      * manually added statx syscall numbers for android
    
    git-svn-id: trunk@43850 -

M	rtl/android/aarch64/sysnr.inc
M	rtl/android/arm/sysnr.inc
M	rtl/android/i386/sysnr.inc
M	rtl/android/mips64/sysnr.inc
M	rtl/android/mipsel/sysnr.inc
M	rtl/android/x86_64/sysnr.inc

******************************************************************************
commit 49d4371784932a3b17ebfffee6e3c5b819d1209f
Author: florian <florian@freepascal.org>
Date:   Fri Jan 3 10:44:57 2020 +0000

      * duplicate syscall number removed, resolves #36508
    
    git-svn-id: trunk@43849 -

M	rtl/linux/sparcgen/sysnr.inc

******************************************************************************
commit ebd674d40e107e4e8f093b4e28e067beea068312
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Jan 2 19:14:18 2020 +0000

      * fixed TAOptBase.SkipEntryExitMarker() not initialising out parameter in
        all cases (patch by J. Gareth Moreton, mantis #36372)
    
    git-svn-id: trunk@43843 -

M	compiler/aoptbase.pas

******************************************************************************
commit 295041e5236ce156e30e5f41bf395f01f9e1f598
Author: florian <florian@freepascal.org>
Date:   Thu Jan 2 11:08:40 2020 +0000

      * updated linux syscall numbers
    
    git-svn-id: trunk@43835 -

M	rtl/linux/arm/sysnr.inc
M	rtl/linux/i386/sysnr.inc
M	rtl/linux/m68k/sysnr.inc
M	rtl/linux/mips/sysnr.inc
M	rtl/linux/powerpc/sysnr.inc
M	rtl/linux/sparcgen/sysnr.inc
M	rtl/linux/sysnr-gen.inc
M	rtl/linux/x86_64/sysnr.inc

******************************************************************************
commit e1d9be897a01c86262f7d39cf1a4a136d694bf9d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 1 19:19:15 2020 +0000

      * fixed (harmless) wrong typecast
    
    git-svn-id: trunk@43834 -

M	compiler/nutils.pas

******************************************************************************
commit 044d9467820ad2c79dc6200d8e36848303fc4993
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 1 19:19:12 2020 +0000

      * fixed missing sign extension when adding a signed integer variable with
        size < sizeof(pointer) to a pointer for LLVM (fixes tfmtbcd)
    
    git-svn-id: trunk@43833 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit ec0d98156cdfa010b029c88075d56e414db885fb
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 1 19:19:08 2020 +0000

      * use maytrap instead of strict FP exception behaviour in LLVM, so constant
        propagation is still allowed
    
    git-svn-id: trunk@43832 -

M	compiler/llvm/aasmllvmmetadata.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/nllvmadd.pas
M	compiler/llvm/nllvminl.pas

******************************************************************************
commit 1f5efe2a95174c9a72f3f4e7884dce0d3cad441d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 31 18:05:54 2019 +0000

      * support for constrained sitofp/uitofp with (the upcoming) LLVM 10.0
        (fixes most of test/units/math/troundm, although there's still an LLVM
         optimizer/code generation bug that breaks some qword -> double
         conversions)
    
    git-svn-id: trunk@43829 -

M	compiler/llvm/aasmllvmmetadata.pas
M	compiler/llvm/llvminfo.pas
M	compiler/llvm/nllvmcnv.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 9b53ed53e3ebaec026ed20aef53cc4856a76d55a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 31 18:05:50 2019 +0000

      * the llvm.experimental.constrained.fpext intrinsic doesn't have a rounding
        mode parameter
    
    git-svn-id: trunk@43828 -

M	compiler/llvm/hlcgllvm.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit d409548842031d600e52fc3871ff71bf0f830512
Author: florian <florian@freepascal.org>
Date:   Tue Dec 31 13:28:03 2019 +0000

    -- Zusammenführen von r31198 in ».«:
    C    compiler/arm/aasmcpu.pas
    U    compiler/arm/aoptcpu.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r31198 in ».«:
     U   .
    
    git-svn-id: trunk@43825 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/aoptcpu.pas

******************************************************************************
commit f6c16323fafbb73c37f0df3a80252ad65fd46e82
Author: florian <florian@freepascal.org>
Date:   Mon Dec 30 22:43:10 2019 +0000

      * unified loadnf_load_self_pointer into loadnf_load_addr
      + var parameters are now allowed when doing tail recursion optimziation, resolves #32811
    
    git-svn-id: trunk@43824 -

M	.gitattributes
M	compiler/nld.pas
M	compiler/nutils.pas
M	compiler/opttail.pas
A	tests/webtbs/tw32811.pp

******************************************************************************
commit 6fc79c7ed04c57dcb67a64c126ee960fccc7370d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 16:36:57 2019 +0000

      * set default target iOS/iPhoneSim version to 9.0 so we no longer depend
        on crt.o existing, which is not shipped with the current SDKs anymore
    
    git-svn-id: trunk@43822 -

M	compiler/options.pas

******************************************************************************
commit 3885ce98ac05b1372ecd5b8895ba323d925cd34e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:05:17 2019 +0000

      * fix LLVM code generator after r43808
        o share the high/length code for LLVM rather than duplicating it, since
          LLVM will optimize away the minor inefficiencies
        o removed temp reference in the old code, as it was useless (it doesn't
          prevent spilling to get to an SSA representation since the same
          register is written at least twice in all cases)
    
    git-svn-id: trunk@43821 -

M	compiler/llvm/nllvminl.pas

******************************************************************************
commit a6a17efa42d9de2a1206311b536b5de0487e6a67
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:05:13 2019 +0000

      * use LLVM constrained fpext/fptrunc intrinsics when fastmath is not enabled
        for accurate exception behaviour
    
    git-svn-id: trunk@43820 -

M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvminfo.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 797077855ee7ac488a555b7ba65c615fdb077359
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:05:09 2019 +0000

      * use constrained LLVM fp intrinsics for add/sub/mul/slash/fma/sqrt
        operations when fastmath is not enabled
    
    git-svn-id: trunk@43819 -

M	compiler/llvm/nllvmadd.pas
M	compiler/llvm/nllvminl.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit b355ba3d39870b671be98a13cfe64a571a4daf1c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:05:06 2019 +0000

      * record whether a function uses fastmath, and define the function as
        strictfp if it doesn't (so LLVM doesn't perform transformations that can
        change the fp/exception behaviour)
    
    git-svn-id: trunk@43818 -

M	compiler/llvm/agllvm.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 67dbd0cdb3aa69292536a0343c718b4f90872ace
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:05:02 2019 +0000

      * support nf_internal to ignore currency conversion adjustments also on
        platforms that implement currency using a floating point type
    
    git-svn-id: trunk@43817 -

M	compiler/llvm/nllvmcnv.pas
M	compiler/ncnv.pas

******************************************************************************
commit 9bd33f7a45d5f62d7be937a3c3e17e8b7dbe8abc
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:04:57 2019 +0000

      + support for LLVM metadata constant string parameters
       o they are implemented as a new metadata register class, whereby the
         subregister indicates the metadata type (currently always a string)
         and the superregister is an index in the metadata array (which
         contains the strings). LLVM metadata can only be passed as parameters
         to intrinsics in bitcode, so moves of metadata into other registers
         triggers internal errors and when moving them into parameters, we
         replace the parameter's register with the metadata register (and look
         up the corresponding string when writing out the bitcode)
    
    git-svn-id: trunk@43816 -

M	compiler/aarch64/aasmcpu.pas
M	compiler/cgbase.pas
M	compiler/fmodule.pas
M	compiler/llvm/aasmllvmmetadata.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmpara.pas
M	compiler/llvm/nllvmcon.pas
M	compiler/psystem.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit f7a052f8846f8fb76723de3d13f04d2514efdee3
Author: florian <florian@freepascal.org>
Date:   Sat Dec 28 21:38:38 2019 +0000

      + inline high(<dyn. array>), resolves #28536
    
    git-svn-id: trunk@43808 -

M	compiler/ncginl.pas
M	compiler/ninl.pas
M	compiler/x86/nx86inl.pas

******************************************************************************
commit 9bd7401ce9ac4d02501c0638c85ae1623392cb64
Author: florian <florian@freepascal.org>
Date:   Sat Dec 28 18:18:41 2019 +0000

      * comment fixed
    
    git-svn-id: trunk@43805 -

M	compiler/htypechk.pas

******************************************************************************
commit 00859420abe2f23c644087fbc9c319c0389c2e3a
Author: florian <florian@freepascal.org>
Date:   Sat Dec 28 17:59:23 2019 +0000

      * correctly handle reading of class/object pointers in combination with @, resolves #26326
    
    git-svn-id: trunk@43804 -

M	.gitattributes
M	compiler/htypechk.pas
M	compiler/nmem.pas
A	tests/webtbs/tw26326.pp

******************************************************************************
commit 94d222ba69e59cd4b1ae254b6bd31d6e10660a8d
Author: florian <florian@freepascal.org>
Date:   Thu Dec 26 21:10:34 2019 +0000

      + test for #26791, meanwhile fixed
    
    git-svn-id: trunk@43797 -

M	.gitattributes
A	tests/webtbs/tw26791.pp

******************************************************************************
commit ccf409c8a08876dd9ba7f10bf966134ab129506a
Author: florian <florian@freepascal.org>
Date:   Wed Dec 25 22:11:31 2019 +0000

      * use 64 bit code page in tppcshlshrnode.pass_generate_code for all 64 bit types,
        resolves #33582
    
    git-svn-id: trunk@43795 -

M	compiler/powerpc/nppcmat.pas

******************************************************************************
commit 051b9840a54206a5d6748e67b294db13aacdefc8
Author: florian <florian@freepascal.org>
Date:   Wed Dec 25 18:09:30 2019 +0000

      * write a proper error message if <int>/<int> is encountered while no
        floating point support is available, resolves #32006
    
    git-svn-id: trunk@43794 -

M	compiler/nadd.pas

******************************************************************************
commit fd0012deff5ef06a302cbd81762c3bb4085d36f7
Author: florian <florian@freepascal.org>
Date:   Wed Dec 25 17:10:14 2019 +0000

      * when copying goto nodes take care if the label node is part of the copied tree
        or not, resolves #35820
    
    git-svn-id: trunk@43793 -

M	.gitattributes
M	compiler/nflw.pas
M	compiler/node.pas
A	tests/webtbs/tw35820.pp

******************************************************************************
commit f59eae4f81228d9a7f06952dd15349c8f96e5162
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 25 15:23:28 2019 +0000

    * correctly handle local reference in the RISC V assembler readers (both 32 and 64 bit)
    
    git-svn-id: trunk@43790 -

M	compiler/riscv32/rarv32gas.pas
M	compiler/riscv64/rarv64gas.pas

******************************************************************************
commit 4ad7d552a1057da1ae1f7ce316b6e55411774f18
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 25 15:23:25 2019 +0000

    * increase support for multilib binutils for RISC V by passing the correct ABI to the linker
    
    git-svn-id: trunk@43789 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit 114c27fb4e921df3808ea748e3c6fab528d9b26f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 25 15:23:21 2019 +0000

    * increase support for multilib binutils for RISC V by passing the ABI to the assembler
    
    git-svn-id: trunk@43788 -

M	compiler/riscv/agrvgas.pas

******************************************************************************
commit 1a9e246c29df8ab0b38ecfe715917c361366d8cd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:44 2019 +0000

      * added is_normal_fieldvarsym() helper and use it
       o fixes several places where there was a check whether something is a
         fieldvarsym, but not whether it's an instance rather than a class field
    
    git-svn-id: trunk@43786 -

M	compiler/aasmcnst.pas
M	compiler/arm/cpupara.pas
M	compiler/armgen/armpara.pas
M	compiler/browcol.pas
M	compiler/dbgstabs.pas
M	compiler/htypechk.pas
M	compiler/ncgrtti.pas
M	compiler/powerpc64/symcpu.pas
M	compiler/symtable.pas
M	compiler/symutil.pas
M	compiler/x86/rax86int.pas
M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 6d51c69dbe8e5a256704400b57764aeff2200248
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:40 2019 +0000

      * fixed writing of calling convention for function declarations/definitions
        in LLVM
    
    git-svn-id: trunk@43785 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit b89487e7217f9e9c534ae10e24e80d86705f0a77
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:37 2019 +0000

      * fix paraloc def for vectors with vectorcall calling convention (was a single
        element instead of a vector)
    
    git-svn-id: trunk@43784 -

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 96dfe3d03a8ce36de71970fe02610be8eb384389
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:34 2019 +0000

      * LLVM support for writing vector types
    
    git-svn-id: trunk@43783 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit f5833dc0482b39432519552050f9d9af6594b02a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:31 2019 +0000

      * support for marking arraydefs as vectors
    
    git-svn-id: trunk@43782 -

M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 1e3f72403eddd7eebe95ad4ee956c4d3863df9ce
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:25 2019 +0000

      * renamed getintparaloc to getcgtempparaloc
        o it can be used for more than integer parameters
    
    git-svn-id: trunk@43781 -

M	compiler/aarch64/cgcpu.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpupara.pas
M	compiler/avr/cgcpu.pas
M	compiler/cgexcept.pas
M	compiler/hlcgobj.pas
M	compiler/i8086/cpupara.pas
M	compiler/i8086/n8086ld.pas
M	compiler/i8086/n8086mem.pas
M	compiler/jvm/cpupara.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmpara.pas
M	compiler/llvm/llvmpi.pas
M	compiler/llvm/tgllvm.pas
M	compiler/m68k/cgcpu.pas
M	compiler/mips/cgcpu.pas
M	compiler/ncgcal.pas
M	compiler/ncgflw.pas
M	compiler/ncgld.pas
M	compiler/ncgmat.pas
M	compiler/ncgmem.pas
M	compiler/paramgr.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc64/cpupara.pas
M	compiler/ppcgen/cgppc.pas
M	compiler/psabiehpi.pas
M	compiler/riscv32/cgcpu.pas
M	compiler/riscv32/cpupara.pas
M	compiler/riscv64/cgcpu.pas
M	compiler/riscv64/cpupara.pas
M	compiler/sparcgen/cgsparc.pas
M	compiler/x86/nx86ld.pas
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit a20209e691bfe1196e52d533feef12c74cb0fdb1
Author: florian <florian@freepascal.org>
Date:   Tue Dec 24 16:14:30 2019 +0000

      + tf_init_final_units_by_calls
      * arm-embedded generates direct calls for unit init/final now as well
    
    git-svn-id: trunk@43771 -

M	compiler/arm/narmutil.pas
M	compiler/hlcgobj.pas
M	compiler/options.pas
M	compiler/systems.pas
M	compiler/systems/i_embed.pas
M	rtl/inc/system.inc

******************************************************************************
commit e332c17bbd89f3a6223798afee6c837a370dc9bf
Author: florian <florian@freepascal.org>
Date:   Tue Dec 24 16:14:30 2019 +0000

      * some inconsistency regarding FPC_NONE usage fixed
    
    git-svn-id: trunk@43770 -

M	rtl/arm/thumb.inc
M	rtl/inc/systemh.inc

******************************************************************************
commit ef878794025437980c7094b25a71e898bd36dca8
Author: florian <florian@freepascal.org>
Date:   Tue Dec 24 16:14:28 2019 +0000

      * common naming for fpu_none string
    
    git-svn-id: trunk@43768 -

M	compiler/arm/cpuinfo.pas
M	compiler/i386/cpuinfo.pas
M	compiler/i8086/cpuinfo.pas
M	compiler/mips/cpuinfo.pas
M	compiler/powerpc64/cpuinfo.pas
M	compiler/riscv64/cpuinfo.pas
M	compiler/sparc/cpuinfo.pas
M	compiler/sparc64/cpuinfo.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit cbec738829ee9bcb2e7bdb879d439121a06c1e41
Author: florian <florian@freepascal.org>
Date:   Mon Dec 23 23:07:26 2019 +0000

      * last commit was not complete/earlier version committed
    
    git-svn-id: trunk@43767 -

M	compiler/nset.pas

******************************************************************************
commit abb79553d293bbf36d93cb3f3349860deaae0560
Author: florian <florian@freepascal.org>
Date:   Mon Dec 23 22:42:53 2019 +0000

      * optimize case statements with a single branch into if statements (ord const only)
    
    git-svn-id: trunk@43766 -

M	compiler/nset.pas

******************************************************************************
commit cb44d7d4e2e6a9445e466f1df2ea659da12e727f
Author: florian <florian@freepascal.org>
Date:   Mon Dec 23 21:52:06 2019 +0000

      * some cleanup
    
    git-svn-id: trunk@43765 -

M	compiler/ccharset.pas
M	compiler/widestr.pas

******************************************************************************
commit 4de6b3e6b9aa3af34516ac8ece2fd8187bd17955
Author: florian <florian@freepascal.org>
Date:   Mon Dec 23 21:44:50 2019 +0000

      * do not crash when an unsupported code page is encountered, resolves #35581
    
    git-svn-id: trunk@43764 -

M	.gitattributes
M	compiler/ncon.pas
A	tests/webtbf/tw35581.pp

******************************************************************************
commit 8b24033e93b3cc381cd27a137149ca5cd870ebba
Author: florian <florian@freepascal.org>
Date:   Sun Dec 22 23:39:44 2019 +0000

      * last fix was most likely not complete
    
    git-svn-id: trunk@43712 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 0dabe496019e970e657cc95f3c34d45ddc3fe4ef
Author: florian <florian@freepascal.org>
Date:   Sun Dec 22 23:34:22 2019 +0000

      * fix building on non-unix/windows targets
    
    git-svn-id: trunk@43711 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 99680eb88c425cd71edf808d6084fa51a636696c
Author: florian <florian@freepascal.org>
Date:   Sun Dec 22 22:51:53 2019 +0000

      * patch by Anton Kavalenka: heaptrc: Improve tracing by printing actual
        module name (ether EXE or DLL), resolves #36130
    
    git-svn-id: trunk@43710 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 2f374a37b7ad878b277916d0fe7c4d410328e207
Author: florian <florian@freepascal.org>
Date:   Sun Dec 22 22:06:26 2019 +0000

      * patch by Bart Broersma to allow to declare "LongInt = AnsiString" comparison
        operator in non-macpas modes, resolves #29460
    
    git-svn-id: trunk@43709 -

M	.gitattributes
M	compiler/htypechk.pas
A	tests/webtbs/tw29460.pp

******************************************************************************
commit b8b5d8410868bae9efc28c1692b0bf18757ea049
Author: florian <florian@freepascal.org>
Date:   Sun Dec 22 20:41:48 2019 +0000

      * missing +')' added
    
    git-svn-id: trunk@43707 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 8465710329a692ef64b2d88295b9d532c0dd577a
Author: florian <florian@freepascal.org>
Date:   Sat Dec 21 16:20:10 2019 +0000

    + make use of mulx instruction, if available
    
    git-svn-id: trunk@43706 -

M	compiler/i386/n386add.pas

******************************************************************************
commit 30927039a6f2cf056aa57b69534cd90a70576581
Author: florian <florian@freepascal.org>
Date:   Sat Dec 21 16:20:09 2019 +0000

    + MULX instruction
    * change information for RORX corrected
    
    git-svn-id: trunk@43705 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 0149d26adb6aa25b60d995fc88b8dccfc0f29880
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Dec 20 16:44:54 2019 +0000

    * in PeepHoleOptPass1Cpu when an instruction contains a segment, don't replace the current instruction with the next, cause then we get an infinite loop when compiling on Win32 with -dTEST_WIN32_SEH -O4
    
    git-svn-id: trunk@43704 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 1779011ab4dfc7e883f49a837d311bdb59fc789e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Dec 20 16:44:52 2019 +0000

    * fix typo in comment
    
    git-svn-id: trunk@43703 -

M	compiler/symtable.pas

******************************************************************************
commit 33fa211b8497b5f8d3b9511e4c29ef8d888873e5
Author: florian <florian@freepascal.org>
Date:   Tue Dec 17 21:54:47 2019 +0000

      + x86-64: assembler implementation for u128_div_u64_to_u64 for SysV ABI
      * reminder => remainder (thanks to Stefan Kanthak for pointing it out)
    
    git-svn-id: trunk@43695 -

M	rtl/inc/flt_core.inc
M	rtl/x86_64/x86_64.inc

******************************************************************************
commit 5f2410b87106781c786808f3ed3e3b38b574fe13
Author: florian <florian@freepascal.org>
Date:   Mon Dec 16 21:15:57 2019 +0000

      * patch by J. Gareth Moreton to fix an ie 2018061400 on darwin
    
    git-svn-id: trunk@43694 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 0f57151d36944e190dae33e2299cd838e048ed9b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 14 17:15:27 2019 +0000

      + recognise LLVM 9.0 (no changes needed compared to LLVM 8.0)
    
    git-svn-id: trunk@43686 -

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 707f7225314f14f046fc0036b8580d7a2e44133d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Dec 14 16:45:42 2019 +0000

    * regenerate msg*.inc files after adding a new error message related to C blocks
    
    git-svn-id: trunk@43685 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit c477816100404a063cfd386cb9ba4feb1e33585a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 14 14:59:05 2019 +0000

      - removed LLVM support for clang < 7.0 and Xcode < 10.0: those versions
        contain various bugs and can't even complete "make all", so there is no
        point in keeping them
       o changed default LLVM target version to 7.0
    
    git-svn-id: trunk@43682 -

M	compiler/globals.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/llvminfo.pas

******************************************************************************
commit a352a12bb42e507cac1645106bce2daa671335ec
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 14 14:11:12 2019 +0000

      * use value_real rather than value_curency when writing currency
        realconstnodes (fixes tcurrency1, tw33439 and tw36179 with LLVM)
       o we need to load the fpu representation of the currency values,
         not the scaled currency value
    
    git-svn-id: trunk@43681 -

M	compiler/llvm/nllvmcon.pas

******************************************************************************
commit 22ce9006ab7f5913237f44a5e4b6e088d7211957
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 11 22:43:03 2019 +0000

    * fix number of last parser_* message entry
    
    git-svn-id: trunk@43677 -

M	compiler/msg/errore.msg

******************************************************************************
commit 36e32ee607b644e0f2f4d963b0916b75e501e606
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 11 22:43:00 2019 +0000

    * more correct method names (based on patch by Blaise.ru)
    
    git-svn-id: trunk@43676 -

M	compiler/nobj.pas

******************************************************************************
commit 46a366d6ae0dc38d606a849e2b34ba3462d28feb
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 11 22:42:56 2019 +0000

    * clear up file comment (based on patch by Blaise.ru)
    
    git-svn-id: trunk@43675 -

M	compiler/nobj.pas

******************************************************************************
commit bf5d75e5944cba197baf85a76cee434f3cd33b20
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 11 22:42:53 2019 +0000

    * move the common sequence to build a VMT for an objectdef into a separate procedure (based on a patch by Blaise.ru)
    
    git-svn-id: trunk@43674 -

M	compiler/jvm/pjvm.pas
M	compiler/nobj.pas
M	compiler/pdecl.pas
M	compiler/pgenutil.pas

******************************************************************************
commit a6354741e6e9d4338ed9b51afce5b14842df51df
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 11 22:42:48 2019 +0000

    * TVMTBuilder.build_interface_mappings does not need to be public (based on patch by Blaise.ru)
    
    git-svn-id: trunk@43673 -

M	compiler/nobj.pas

******************************************************************************
commit 8c2aa326833e7f287a2059547cfd7fa5af59c130
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 11 17:14:27 2019 +0000

      * Remove duplicate ibextraheader handling.
      * Move SymAnsiStr boolean setting inside parseextraheader function.
      * Only accept same CurrentPPULongVersion in parseextraheader function.
    
    git-svn-id: trunk@43672 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit f62fd437b1c432d46c0db85c1162f623ace1444b
Author: florian <florian@freepascal.org>
Date:   Tue Dec 10 21:31:42 2019 +0000

      * patch by J. Gareth Moreton: improve test and benchmark, resolves #35633
    
    git-svn-id: trunk@43671 -

M	.gitattributes
M	tests/bench/bcase.pp
M	tests/test/tcase49.pp

******************************************************************************
commit ef7e4f6f62fdf6ab920f3185dcc3006791a249e0
Author: florian <florian@freepascal.org>
Date:   Mon Dec 9 22:00:45 2019 +0000

      * fix J. Gareth Moreton to resolve #36389
    
    git-svn-id: trunk@43670 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw36389.pp

******************************************************************************
commit 599e2df71f6368e913e29822de9f7547ed5b103c
Author: florian <florian@freepascal.org>
Date:   Mon Dec 9 20:58:31 2019 +0000

      o patch by J. Gareth Moreton, resolves r36371:
        * This patch makes some minor improvements to the cross-platform code that deals with jump optimisations.
          More specifically, it attempts to do more in a single pass which has the nice side-effect of
          fixing a couple of minor mistakes (in some situations, it would erroneously remove an alignment entry).
          - Most improvements are with dealing with Jcc/JMP pairs and their equivalents on other platforms, by
          collapsing label clusters and stripping dead code as soon as it has enough information to do so, and being
          more intelligent before calling Continue to see if another optimisation can be performed in the same sitting.
    
          - RemoveDeadCodeAfterJump is now a function that returns True if a jump was found among the dead code,
          thus allowing the ability to flag the peephole optimizer for another iteration of Pass 1 - the
          destination label may have appeared earlier in the code and become dead as a result of the removal
          of the jump, thus opening up new optimisations with instructions that sat either side of the label.
    
          - Preliminary tests show that it does sometimes reduce the number of passes required to optimise a subroutine
          under -O3.
    
    git-svn-id: trunk@43668 -

M	compiler/aoptobj.pas

******************************************************************************
commit 2a315df80c0dcea764dd602e5152812b1cc56e12
Author: florian <florian@freepascal.org>
Date:   Sun Dec 8 22:22:17 2019 +0000

      * check in CheckLive* if a register allocator is initialized for a certain register type
    
    git-svn-id: trunk@43665 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit ac6e4f59c65e551801d0a6acf0f5d86fcbfd370b
Author: florian <florian@freepascal.org>
Date:   Thu Dec 5 20:46:50 2019 +0000

      * better error recovery, resolves #36397
    
    git-svn-id: trunk@43653 -

M	.gitattributes
M	compiler/pexpr.pas
A	tests/webtbf/tw36397.pp

******************************************************************************
commit f2818bfe7afa76d1a3a7e006e2065c51d1330788
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Dec 2 22:29:29 2019 +0000

    * apply patch by Blaise.ru to remove last remnants of VMT regeneration which is no longer needed/used
    
    git-svn-id: trunk@43628 -

M	compiler/nobj.pas
M	compiler/symdef.pas

******************************************************************************
commit 3ced30f8168409baba430b02bd843f31de329c78
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Dec 2 06:59:05 2019 +0000

    * apply (adjusted) patch by Blaise.ru: vmtentries is always created since 2008, so treat it as such (also fixes a memory leak in tobjectdef.getcopy)
    
    git-svn-id: trunk@43626 -

M	compiler/ncgvmt.pas
M	compiler/nobj.pas
M	compiler/symdef.pas

******************************************************************************
commit ea7525392644e484d6fa0c6315f0a28c2c496408
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Dec 2 06:58:59 2019 +0000

    * initialize the defid in trecorddef.create_global_internal as unique_id_str needs it
    
    git-svn-id: trunk@43625 -

M	compiler/symdef.pas

******************************************************************************
commit 80a4a01f12de35c02a443d59af55d7ab75da6e88
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Dec 2 06:58:47 2019 +0000

    + add a method to tdef to initialize the defid from within a constructor
    
    git-svn-id: trunk@43624 -

M	compiler/symtype.pas

******************************************************************************
commit b8a78b135c3dacbaaafc1475c1dc9ac75fe5f155
Author: florian <florian@freepascal.org>
Date:   Sun Dec 1 22:15:48 2019 +0000

      * simplified and improved TX86AsmOptimizer.RegModifiedByInstruction
    
    git-svn-id: trunk@43623 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f2a8b8ad6a7943aff36bf84bd3cdc8c75f086027
Author: florian <florian@freepascal.org>
Date:   Sat Nov 30 20:37:55 2019 +0000

      * adapt register if the size of the paraloc and the register differ, resolves #34409
    
    git-svn-id: trunk@43617 -

M	.gitattributes
M	compiler/ncgbas.pas
A	tests/webtbs/tw34409.pp

******************************************************************************
commit 06c1a17d1312c1ed5d2daa3fa1bfca294c6b959d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Nov 30 17:40:27 2019 +0000

    * use tdef.unique_id_str to generate the unique internal name for anonymous record defs as using the count of the deflist is no longer correct
    
    git-svn-id: trunk@43616 -

M	compiler/symdef.pas

******************************************************************************
commit 4e4f55ac0e34fc39db0c76306aa4a1f8b0029c0e
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 29 23:28:05 2019 +0000

     Comparison nodes are always in LOC_REGISTER, never in LOC_JUMP for riscv32 or riscv64 CPUs
    
    git-svn-id: trunk@43614 -

M	compiler/riscv/nrvadd.pas

******************************************************************************
commit 92b0ea7d02b6573a4641d1431e08675fbe0b3eeb
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 29 23:26:45 2019 +0000

     Add  explicit smallint typecast to first marameter of SarSmallint call to avoid range check errors
    
    git-svn-id: trunk@43613 -

M	compiler/riscv/cgrv.pas
M	compiler/riscv/rgcpu.pas
M	compiler/riscv64/cgcpu.pas

******************************************************************************
commit d8f1aacd785f7d10f6aa9d86e861c3ea5d71c668
Author: florian <florian@freepascal.org>
Date:   Fri Nov 29 22:13:17 2019 +0000

      * better error recovery, resolves #36377
    
    git-svn-id: trunk@43612 -

M	.gitattributes
M	compiler/ptype.pas
A	tests/webtbf/tw36377.pp

******************************************************************************
commit 4525edd9f7949c1a8b72662e9a8c77b46f917171
Author: florian <florian@freepascal.org>
Date:   Fri Nov 29 21:57:53 2019 +0000

      * patch by J. Gareth Moreton:  x86 implementation of RegModifiedByInstruction, resolves #36376
    
    git-svn-id: trunk@43611 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3889529e4508035a61e270ba60ebf4b5ade11d02
Author: florian <florian@freepascal.org>
Date:   Fri Nov 29 21:06:12 2019 +0000

      * unified internalerror, resolves #36378
    
    git-svn-id: trunk@43610 -

M	compiler/hlcgobj.pas

******************************************************************************
commit fb33da5f412e0bfc3f36d73cc2ba0d1dc0b24000
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 29 10:31:31 2019 +0000

     Change parameter type to tcgint for is_imm12 and is_lui_imm functions to avoid range check errors
    
    git-svn-id: trunk@43609 -

M	compiler/riscv32/cpubase.pas
M	compiler/riscv64/cpubase.pas

******************************************************************************
commit 7405ae275803c25325ad0581ab3b3275c43a1010
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 28 22:34:04 2019 +0000

     Fix trv32notnode, by using same code as for riscv64 CPU
    
    git-svn-id: trunk@43607 -

M	compiler/riscv32/nrv32mat.pas

******************************************************************************
commit a9bb9f7310e0db16b56d31c1770b901bac8dd813
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 27 22:56:35 2019 +0000

     Add '.module nomips16' at assembly entry for mips/mipsel unless -a5 option is used
    
    git-svn-id: trunk@43600 -

M	compiler/mips/cpugas.pas

******************************************************************************
commit ba73f7376f07cc32f8ab20187909bde68e348fd0
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 27 22:54:47 2019 +0000

     Also accept -a5 for older binutils for mips and mpisel cpus
    
    git-svn-id: trunk@43599 -

M	compiler/options.pas

******************************************************************************
commit 7000d82dcdcb5e061628c521d4139a8bf43ec8e8
Author: florian <florian@freepascal.org>
Date:   Tue Nov 26 22:09:34 2019 +0000

      * do not convert cmp 0,... into test ...,... before the post pass of the peephole optimizer
        as this conversion might result in missing further optimizer opportunities
    
    git-svn-id: trunk@43596 -

M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas

******************************************************************************
commit 7e6eeebdf01d8b666c5005383b5e087647953216
Author: florian <florian@freepascal.org>
Date:   Tue Nov 26 22:09:33 2019 +0000

      o patch by J. Gareth Moreton, seeks to improve maintainability, safety and efficiency
        in the peephole optimizer by slightly modifying some function headers based
        on their intended purpose, resolves #36353
        * Non-virtual methods and class methods that don't need to access any fields from
          the current object are now static methods, thus removing the hidden "Self"
          parameter and reducing overhead. This includes a large number of
          frequently-used functions such as SkipEntryExitMarker and SuperRegistersEqual.
        * GetNextInstruction, GetLastInstruction, SkipEntryExitMarker and
          SkipLabels have had their 'var' parameter changed to an 'out' parameter because
          they shouldn't depend on its input value. This will cause the compiler to throw warnings
          if you start using the value without initialising it first, and may open up optimisation
          opportunities in the future (e.g. storing written values in a temporary register
          and only writing it to the actual variable when the routine exits).
    
    git-svn-id: trunk@43595 -

M	compiler/aoptbase.pas
M	compiler/aoptobj.pas
M	compiler/aoptutils.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit cf0716123c0f1feb9e5fc84e9831a8d6ea22fe9d
Author: florian <florian@freepascal.org>
Date:   Tue Nov 26 19:39:04 2019 +0000

      * avoid overflow error
    
    git-svn-id: trunk@43593 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit af107ca8fee33355e8c35fab6fc5ba5290bd3ebc
Author: florian <florian@freepascal.org>
Date:   Mon Nov 25 21:15:41 2019 +0000

      o patch by J. Gareth Moreton, resolves #36355
        + This patch serves to extend the JMP -> RET optimisation in OptPass2JMP by also doing the same
          for JMP -> MOV/RET, since there are often cases where the result (e.g. EAX) is set just
          prior to the function exiting.
        * RemoveDeadCodeAfterJump will now drop out if it detects SEH information -
          this stops exception information from being stripped if it is called on the final RET instruction.
    
    git-svn-id: trunk@43592 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit fb4b1cbf35264749d6c4dab1e3050d6cb9237620
Author: florian <florian@freepascal.org>
Date:   Mon Nov 25 20:58:20 2019 +0000

      * warn only in delphi mode if an explicit enumeration value exceeds the range, relaxes r43191
    
    git-svn-id: trunk@43590 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ptype.pas
M	tests/webtbf/tw34633.pp
A	tests/webtbs/tw34633a.pp

******************************************************************************
commit 97eefb6ac3dfc18b920dd73366ace4334670fa0b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Nov 25 20:28:29 2019 +0000

    - the error recovery handling is no longer required
    
    git-svn-id: trunk@43588 -

M	compiler/pgenutil.pas

******************************************************************************
commit 5b71ba2a9bc65a6acd50edbecaff5a1caaa5e24f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Nov 25 20:28:26 2019 +0000

    * treat a missing genericdef with no symname set as an internal error
    
    git-svn-id: trunk@43587 -

M	compiler/pgenutil.pas

******************************************************************************
commit 0802edb7101071b56a56ea62bf6acd2e0425ffc1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Nov 25 07:55:57 2019 +0000

      * fix Linux/i386 and Win32 after r43578
    
    git-svn-id: trunk@43583 -

M	compiler/i386/n386flw.pas
M	compiler/ncgutil.pas

******************************************************************************
commit ec227bb75942e940502ac23d58370fdb6a7f640a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Nov 24 21:26:22 2019 +0000

      * fixed safecall for non-LLVM after r43578
    
    git-svn-id: trunk@43580 -

M	compiler/hlcgobj.pas

******************************************************************************
commit c6116258fdfa92ba483a20da200c968f7611888b
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 20:26:02 2019 +0000

      o patch by J. Gareth Moreton:
        * adds an extra optimisation to "PostPeepholeOptMov" in compiler/x86/aoptx86.pas:
          If the instruction "MOV REG, -1" (Intel notation) is found, where REG is either
          a 32- or 64-bit register, it is changed to "OR REG, -1" instead.
          The effect is the same and takes exactly the same speed to execute, but the encoding is much smaller.
          As it cause false data dependencies, it is only applied in -Os mode
    
          For 16-bit registers, only AX is optimised this way because it has its own encoding for OR that takes fewer bytes.
    
    git-svn-id: trunk@43579 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e775ecdc439186d8d2491925c11835b8fe2f082f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Nov 24 20:23:22 2019 +0000

      * cleaned up safecall support: use a hidden localvarsym instead of result
        register hacking
       o this also allowed fixing/adding safecall support for LLVM
    
    git-svn-id: trunk@43578 -

M	compiler/hlcgobj.pas
M	compiler/i386/n386flw.pas
M	compiler/jvm/symcpu.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/ncgcal.pas
M	compiler/ncgflw.pas
M	compiler/ncgutil.pas
M	compiler/nflw.pas
M	compiler/ngenutil.pas
M	compiler/paramgr.pas
M	compiler/pparautl.pas
M	compiler/symdef.pas

******************************************************************************
commit acdff47554beb7135ab55f2de0957024970760fc
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 20:21:33 2019 +0000

      + optimize integer expressions like 2*x*4; which were not found by the node simplifier yet
    
    git-svn-id: trunk@43577 -

M	compiler/nadd.pas

******************************************************************************
commit 94b728005d2dc935ffa03fea63af09f10c5d57bb
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 19:51:04 2019 +0000

      * more RemoveCurrentP usage
    
    git-svn-id: trunk@43576 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9e307f5c3a408a44d0caefc8feeb86c1b23c003f
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 19:50:27 2019 +0000

      - removed code not used for years
    
    git-svn-id: trunk@43575 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit d444f750f9d58cd751f5d567e4e14d40f14aea10
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 16:33:50 2019 +0000

      * factored out TX86AsmOptimizer.OptPass1Cmp
      * fixed it
      * activated it for x86-64
    
    git-svn-id: trunk@43574 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit dea1855126c0c5ba379d386253cc03808735bd30
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 16:12:02 2019 +0000

      o patch by J. Gareth Moreton, resolves #36352:
        * The supplied patch cleans up some vestigial code from the i386 peephole
          optimizer that has since been superseded by the jump optimisations over
          at #36271.
        * The PrePeepholeOptsCPU method has had a minor restructuring to better
          handle the rare case where InsContainsSegRef() returns True and
          p becomes something that is no longer an instruction (it ultimately
          removes a conditonal check and some overhead from repeated function calls).
    
    git-svn-id: trunk@43573 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 39f4b97ea54f64ee9b91db074e4242b1b155f2d8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Nov 24 00:04:35 2019 +0000

    + add test for a problem reported by Michael van Canneyt which is fixed by the previous revision
    
    git-svn-id: trunk@43569 -

M	.gitattributes
A	tests/tbs/tb0664.pp

******************************************************************************
commit c882828fd06dccda4ad6914fa4b71c5f3708f5fb
Author: pierre <pierre@freepascal.org>
Date:   Sat Nov 23 22:44:30 2019 +0000

     Minimalist change to avoid Invalid Typecast error on class when compiled with '-CriotR -O2' for i386-go32v2 target
    
    git-svn-id: trunk@43565 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 8ea92a8280cb2ce9e847a618edfc2c65cd1ed6b8
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 22 21:29:19 2019 +0000

     Use correct macro to for 64-bit riscv CPU
    
    git-svn-id: trunk@43561 -

M	compiler/riscv/nrvadd.pas

******************************************************************************
commit 0f462077769536525b247465937637a22857f1b6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Nov 22 21:11:56 2019 +0000

      * fixed (harmless) range error when expanding ~
    
    git-svn-id: trunk@43559 -

M	rtl/inc/fexpand.inc

******************************************************************************
commit 17c422c3f24137f2db2d1ffeb80664c85aa70602
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 22 09:10:32 2019 +0000

         Patch by Gareth Moreton.
       * TAOptObj.CollapseZeroDistJump: Change hp1 to local variable,
         initialized as p.next, to avoid problems of dangling pointers
         revealed by use of "-CriotR -O2" compilation arguments.
    
    git-svn-id: trunk@43554 -

M	compiler/aoptobj.pas

******************************************************************************
commit 3e9bfedbc44836e69263eee77dc88c9b888f75f6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:21 2019 +0000

    * ensure that the required functions are referenced for Win32 SEH for packages as well
    
    git-svn-id: trunk@43552 -

M	compiler/i386/n386flw.pas

******************************************************************************
commit 40c11baaaca151271e95ba91ea6973de369f5bb0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:18 2019 +0000

    * use a different name for the packages' entry point and use _DLLMainCRTStartup as an alias to avoid problems with the C-prefix
    
    git-svn-id: trunk@43551 -

M	compiler/pmodules.pas

******************************************************************************
commit bb3b1b06a735f552b0861973710a6dfcad99ed98
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:15 2019 +0000

    * fix condition for including a unit's object files or not when compiling with packages
    
    git-svn-id: trunk@43550 -

M	compiler/pmodules.pas

******************************************************************************
commit 2a1d26cc905b54f2880fb3f2c51c32a300f32bbe
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:11 2019 +0000

    * use translateable error messages for undefined symbols and also report in which object file the symbol was first found
    
    git-svn-id: trunk@43549 -

M	compiler/ogbase.pas

******************************************************************************
commit 1e66b2464a29125b2ff9570e4af8f453574cb409
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:08 2019 +0000

    * regenerate msg*.inc files after adding new error messages for undefined symbols
    
    git-svn-id: trunk@43548 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit f28ac2bfc6424e5eeb9c3acfbf5df4fcd8a6e6b0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:04 2019 +0000

    + add error messages for undefined symbols (both with a known object file and without)
    
    git-svn-id: trunk@43547 -

M	compiler/msg/errore.msg

******************************************************************************
commit cd7e3f354b0c0658929aa8ad3648df80a0b9a0f0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:01 2019 +0000

    + add a description for the link_e_comdat_selection_differs message
    
    git-svn-id: trunk@43546 -

M	compiler/msg/errore.msg

******************************************************************************
commit 4b3ce0c02359b0596f8099beecb18b6804a7bc3c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:57 2019 +0000

    * the symbol of the interface wrapper function needs to be considered as referenced as well
    
    git-svn-id: trunk@43545 -

M	compiler/nobj.pas

******************************************************************************
commit 0a915e883ef0479aaca0db5ae9b68c2f17ecff34
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:53 2019 +0000

    * keep track of static symbols that a global function references, as those must now be exported from a dynamic package as well if the function can potentially be inlined
    
    git-svn-id: trunk@43544 -

M	compiler/htypechk.pas
M	compiler/ncal.pas
M	compiler/ncnv.pas
M	compiler/nflw.pas
M	compiler/pkgutil.pas
M	compiler/procinfo.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/symtable.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 2e259ee3cc5d72202d207b5d6775974f791bc4d8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:48 2019 +0000

    * the VMT of the exception class needs to be referenced indirectly
    
    git-svn-id: trunk@43543 -

M	compiler/i386/n386flw.pas
M	compiler/x86_64/nx64flw.pas
M	rtl/win/syswin.inc

******************************************************************************
commit a041f899d358832ce9e08d2111c4f26143ae8cb8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:43 2019 +0000

    * when creating the static field of a generic, insert it into the generic instead of the global symtable as it isn't really used anyway
    
    git-svn-id: trunk@43542 -

M	compiler/symcreat.pas

******************************************************************************
commit 06fc84037ce1b08f1e26f4e571fe6f8270f1f4f1
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:40 2019 +0000

    * ensure that generic symbols are not tried to be exported
    
    git-svn-id: trunk@43541 -

M	compiler/pkgutil.pas

******************************************************************************
commit da1312698b9f05bf26fdc7ab73aed647849b06a8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:36 2019 +0000

    * correctly check for the system unit
    
    git-svn-id: trunk@43540 -

M	compiler/ncgld.pas

******************************************************************************
commit 6151f7af29ffb7a09cca8e6d49d0fce3eb564c46
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:33 2019 +0000

    * check the localswitches of the node instead of the global ones
    
    git-svn-id: trunk@43539 -

M	compiler/ncgld.pas

******************************************************************************
commit 6f584333e57f4eeda948203e5e2cace032ede931
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:29 2019 +0000

    * symbols called by g_call might need to be imported from dynamic packages as well
    
    git-svn-id: trunk@43538 -

M	compiler/cgobj.pas

******************************************************************************
commit 85637ad5fad7b0df35d26453779b00726966b164
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:26 2019 +0000

    * register constant symbols
    
    git-svn-id: trunk@43537 -

M	compiler/pdecl.pas

******************************************************************************
commit f4d96906c2363c66ff50f2b9e526d64c37ccd819
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:22 2019 +0000

    * reference FPC_ABSMASK_SINGLE/-DOUBLE using the indirect symbol if required for dynamic packages
    
    git-svn-id: trunk@43536 -

M	compiler/x86/nx86inl.pas

******************************************************************************
commit f13200d68b54786abd242bb1b0de2f1851386add
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:19 2019 +0000

    * restore localswitch settings after the initialization and finalization code was generated
    
    git-svn-id: trunk@43535 -

M	compiler/psub.pas

******************************************************************************
commit 276f5bdef86a1a6edb28d0fdd58685365eb357f4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:16 2019 +0000

    * ensure that nothing assembly related is generated for generics when a typed constant (this also includes local variable initializations) are parsed
    
    git-svn-id: trunk@43534 -

M	compiler/ptconst.pas

******************************************************************************
commit 04984e9af9c5105b0ebffa308b2b8f97d72872a8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:12 2019 +0000

    * also generate indirect symbols for AB_PRIVATE_EXTERN symbols as these might be used from a unit in another package due to inlining
    
    git-svn-id: trunk@43533 -

M	compiler/aasmdef.pas

******************************************************************************
commit f5caa9940ba8869791a45ac22bbcaa461282b9b6
Author: florian <florian@freepascal.org>
Date:   Thu Nov 21 20:19:49 2019 +0000

      * make use of RemoveCurrentP
    
    git-svn-id: trunk@43532 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 61bf55e0fe5ca647824e11ad1254691af65c52f6
Author: florian <florian@freepascal.org>
Date:   Thu Nov 21 19:58:48 2019 +0000

      * define renamed
    
    git-svn-id: trunk@43531 -

M	compiler/aoptobj.pas

******************************************************************************
commit bfb4b885cadeb195c7c404c95cd6720b14e9455a
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 21 10:52:27 2019 +0000

     Add riscv32 mathu inculde file, redirecting to ../riscv64/mathu.inc file (this file seems to have no 64-bit specific code)
    
    git-svn-id: trunk@43530 -

M	.gitattributes
A	rtl/riscv32/mathu.inc

******************************************************************************
commit ff415ba39c27148c52edca43e145b46d4cd4ebfa
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 21 10:00:20 2019 +0000

     Fixes by Gareth Moreton for problems exposed by use of -CriotR option
    
    git-svn-id: trunk@43529 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9bd19b050b3b5edce7d6d1cb98c6ec87528e3620
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 23:04:33 2019 +0000

     Also use syscall_nr_fstatat for FpStat function for riscv32 cpu
    
    git-svn-id: trunk@43528 -

M	rtl/linux/ossysc.inc

******************************************************************************
commit b990c59693cc47cd9a306f528b2fe2b78d8ad41b
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:57:49 2019 +0000

       + riscv32 cpu: Use SYSINIT_UNITS instead of LOADERS
       * mips/mipsel cpus: pass -xgot on to AS call for LOADERS,
         if OPT contains -ao-xgot.
    
    git-svn-id: trunk@43527 -

M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc

******************************************************************************
commit 0e0407ad5793e54afd1046b9933ce1299f17027a
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:51:03 2019 +0000

     Add si_XXX.inc files, pointing to riscv64 counterparts
    
    git-svn-id: trunk@43526 -

M	.gitattributes
A	rtl/linux/riscv32/si_c.inc
A	rtl/linux/riscv32/si_dll.inc
A	rtl/linux/riscv32/si_prc.inc

******************************************************************************
commit 23111a71ea4316d6b32fe0fc8b0fca1c5960fa97
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:48:47 2019 +0000

    Add missing and needed syscall_nr_XXX
    
    git-svn-id: trunk@43525 -

M	rtl/linux/riscv32/sysnr.inc

******************************************************************************
commit e8b9d8442e43d3e84d2b9b35cb739ac765e48f7e
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:48:06 2019 +0000

     Replace obsolete scall by ecall instruction
    
    git-svn-id: trunk@43524 -

M	rtl/linux/riscv32/syscall.inc

******************************************************************************
commit 247f80abfba336b27c28186d9f5fb14abfedfd25
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:46:31 2019 +0000

    prepare source to also support riscv32 code
    
    git-svn-id: trunk@43523 -

M	rtl/linux/riscv64/si_prc.inc

******************************************************************************
commit a61a0cce4c96ba0173533319b973a48ebf0e53e8
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:44:30 2019 +0000

     Use same entered_paren local variable as 64-bit counterpart and fix register names
    
    git-svn-id: trunk@43522 -

M	compiler/riscv32/rarv32gas.pas

******************************************************************************
commit 6248a127cab04750c174f58514f492b759bc7553
Author: florian <florian@freepascal.org>
Date:   Wed Nov 20 22:12:28 2019 +0000

       * write assembler optimizer messages into output file if DEBUG_AOPTOBJ is set
    
    git-svn-id: trunk@43521 -

M	compiler/aoptobj.pas

******************************************************************************
commit 40c54e9d37736815438e236c15df0c996b3d16c4
Author: florian <florian@freepascal.org>
Date:   Wed Nov 20 22:12:27 2019 +0000

      * do not generate conditional jump with full references
      + more assembler optimizer output
    
    git-svn-id: trunk@43520 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit da54d0e8f7efb83515a85c84b49c9311001f777f
Author: florian <florian@freepascal.org>
Date:   Wed Nov 20 22:12:27 2019 +0000

      + patch by J. Gareth Moreton: new method TAOptObj.CanDoJumpOpts and arm specific implementation
    
    git-svn-id: trunk@43519 -

M	compiler/aoptobj.pas
M	compiler/arm/aoptcpu.pas

******************************************************************************
commit f505822ab5f7702187fcbca8fa5511236fb581e1
Author: florian <florian@freepascal.org>
Date:   Wed Nov 20 22:12:26 2019 +0000

      o patch by J. Gareth Moreton:
        * fix jump optimizer for MIPS(EL).
        + New method called "MakeUnconditional" introduced that can do platform-specific changes
    
    git-svn-id: trunk@43518 -

M	compiler/aoptobj.pas
M	compiler/mips/aoptcpu.pas

******************************************************************************
commit 7eb0be61273e009d716df175d8c321dea5230859
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 19 22:47:39 2019 +0000

     Fix invalid typecast revealed by -CriotR by changing order of terms in boolean expression
    
    git-svn-id: trunk@43515 -

M	compiler/nutils.pas

******************************************************************************
commit 91f3f022fe4d75b8fd44c115e5863039d09829f7
Author: florian <florian@freepascal.org>
Date:   Sun Nov 17 14:48:45 2019 +0000

      * MM registers which might not be changed can be still used in 3 op mathematical operations as source
    
    git-svn-id: trunk@43509 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 3de38c489457a05fcc8a933446cafe5d9bbf01e2
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 17:18:04 2019 +0000

      * naming of tests fixed
    
    git-svn-id: trunk@43502 -

M	.gitattributes
R100	tests/tbs/tb205.pp	tests/tbs/tb0661.pp
R100	tests/tbs/tb610.pp	tests/tbs/tb0662.pp
R100	tests/tbs/tb613.pp	tests/tbs/tb0663.pp

******************************************************************************
commit 60b329659445aebbc9468dd6e28a4e33124afedb
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 17:16:16 2019 +0000

      * relax conditions in tcallnode.optimize_funcret_assignment, resolves #36279
    
    git-svn-id: trunk@43501 -

M	.gitattributes
M	compiler/ncal.pas
A	tests/tbs/tb0660.pp

******************************************************************************
commit 52cc02aa3b9b9b4987a724423789e415c1727fdd
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 17:16:15 2019 +0000

      * values passed to const parameters are not limited to registers and constants
    
    git-svn-id: trunk@43500 -

M	compiler/ncgcal.pas

******************************************************************************
commit 851accbb4b332cc720d4723075d8ba42bfd0d3ad
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 14:07:59 2019 +0000

      * cse adjusted
    
    git-svn-id: trunk@43496 -

M	compiler/nutils.pas
M	compiler/optcse.pas

******************************************************************************
commit 13ab35e3efa733623f0af62b3f21757b4de8e481
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 14:07:32 2019 +0000

      * fix usage of ppumove generated shared libraries
    
    git-svn-id: trunk@43495 -

M	compiler/pmodules.pas

******************************************************************************
commit f5d5e84649a1f85334edbd986351dd8d161dda33
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 14:04:46 2019 +0000

      * more libunits
    
    git-svn-id: trunk@43494 -

M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc

******************************************************************************
commit a969097a8098a6f34d6d0797c9d0de39d9fa2d85
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 14:04:02 2019 +0000

      * optimization Move removed 4 fixed
    
    git-svn-id: trunk@43493 -

M	compiler/mips/aoptcpu.pas

******************************************************************************
commit 18c5881e602212be0532ac220412e01d4228c497
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 11:04:28 2019 +0000

      * update sharedlibs variable
    
    git-svn-id: trunk@43488 -

M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc

******************************************************************************
commit 798a1b62192d72ad565d4cd642df9c4c0d9d1664
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 11:03:53 2019 +0000

      * -P option for ppumove
    
    git-svn-id: trunk@43487 -

M	compiler/utils/ppumove.pp
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit d4f0658c0273c43dc0e36ad62c9aa6935096808b
Author: florian <florian@freepascal.org>
Date:   Fri Nov 15 20:50:17 2019 +0000

      * disable condition jump optimization on MIPS for now for the time being
    
    git-svn-id: trunk@43486 -

M	compiler/aoptobj.pas

******************************************************************************
commit a09e40945caeeb55c4ec2b0e68efe2a4bcbefc03
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 15 14:47:02 2019 +0000

    Regenerate all Makefile's after commit #43472
    
    git-svn-id: trunk@43478 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 11b1d1e6ddbdd9d04559e1b10798923715407fee
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 15 14:30:49 2019 +0000

    Updated after commit 43472
    
    git-svn-id: trunk@43476 -

M	utils/fpcm/revision.inc

******************************************************************************
commit fbaf67e3f07bf64a25650d55db5c673e1ccdee33
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 15 14:29:26 2019 +0000

    Regenerated after commit 43472
    
    git-svn-id: trunk@43475 -

M	utils/fpcm/fpcmake.inc

******************************************************************************
commit 3238a07a5495f45960548ba0c31c62af1264226a
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 15 14:07:15 2019 +0000

    Use delayed rules variables containing lists of files when the list can be modified by other Makefile targets generated in between
    
    git-svn-id: trunk@43472 -

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit bf24882c33b971c1bb31effdfc865ec6d67eb692
Author: florian <florian@freepascal.org>
Date:   Thu Nov 14 21:38:21 2019 +0000

      * patch by J. Gareth Moreton: fix building for armv6m after r43441
    
    git-svn-id: trunk@43466 -

M	compiler/aoptobj.pas

******************************************************************************
commit 87b3b089d6e5cf75078b21dd4a389b4609e2ea04
Author: florian <florian@freepascal.org>
Date:   Thu Nov 14 21:26:48 2019 +0000

      * i386: more clean up of TCPUAsmOPtimizer.PeepHoleOptPass1Cpu
    
    git-svn-id: trunk@43465 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 632f13c47a1208c1f3ea5d05f880aacbad14bc70
Author: florian <florian@freepascal.org>
Date:   Thu Nov 14 21:14:01 2019 +0000

      * i386 does not use anymore its own assembler optimizer loops
    
    git-svn-id: trunk@43464 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 0ab0eefae0d359b976d1db4ec81ef5f3709d853e
Author: florian <florian@freepascal.org>
Date:   Thu Nov 14 21:14:00 2019 +0000

      + separate JUMP_DEBUG define
    
    git-svn-id: trunk@43463 -

M	compiler/aoptobj.pas

******************************************************************************
commit d82335bf9a833519e0b140c666e7851f6afdf226
Author: florian <florian@freepascal.org>
Date:   Wed Nov 13 21:13:05 2019 +0000

      * do not remove cfi_endproc after jmps
    
    git-svn-id: trunk@43462 -

M	compiler/aoptobj.pas

******************************************************************************
commit e1433adc2e40670f50d53cbb7b20616728923478
Author: florian <florian@freepascal.org>
Date:   Wed Nov 13 20:47:42 2019 +0000

      * check in the internal assembler for references with incorrect use of RIP
      + test
    
    git-svn-id: trunk@43461 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/aasmcpu.pas
A	tests/tbf/tb0271.pp

******************************************************************************
commit 6bed497c7c3cba3bde7cf91a4544c67e90b041a3
Author: florian <florian@freepascal.org>
Date:   Wed Nov 13 20:47:40 2019 +0000

      * be carefully with references using RIP when doing LeaOp2Op optimizations
    
    git-svn-id: trunk@43460 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9b3447a6a4cd9babd4b870b4f903bd58e918fd74
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 13 16:59:26 2019 +0000

     Fix ppudump after commit #43450
    
    git-svn-id: trunk@43458 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit ae6b204c9492b9e7b369239b91af6a77fe998c60
Author: florian <florian@freepascal.org>
Date:   Tue Nov 12 22:10:01 2019 +0000

      + added comments for LeaOp2Op
    
    git-svn-id: trunk@43457 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7ee0ad4d639e5a93e73056c343e792b7b03e6d1b
Author: florian <florian@freepascal.org>
Date:   Tue Nov 12 22:04:23 2019 +0000

      + LeaOp2Op optimization
      * replaced some manual removels of p by RemoveCurrentP calls
    
    git-svn-id: trunk@43456 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5c0a5b73c7cfade35d402e59bca06c8a6167a3f1
Author: florian <florian@freepascal.org>
Date:   Tue Nov 12 20:03:19 2019 +0000

      * patch by J. Gareth Moreton: fix compilation with debug info after r43441 and friends, resolves #36299
    
    git-svn-id: trunk@43455 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1d6e719e381c3a58254f3fa6cdf2021e630d0871
Author: florian <florian@freepascal.org>
Date:   Mon Nov 11 22:08:17 2019 +0000

      * improve ShlAddLeaSubIncDec2Lea to take care of foldable LEAs
    
    git-svn-id: trunk@43453 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 83a11c2a7daa26276316ce7cd2fccc7682532213
Author: florian <florian@freepascal.org>
Date:   Mon Nov 11 21:29:13 2019 +0000

      * patch by J. Gareth Moreton to clean up TX86AsmOptimizer.OptPass2Jcc, resolves #36295
    
    git-svn-id: trunk@43452 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2f914ee2d89b64e629fa93132bd1ff126322b223
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Nov 11 09:26:51 2019 +0000

      * packed tabstractvarsym.addr_taken/different_scope fields into a set
    
    git-svn-id: trunk@43450 -

M	compiler/ppu.pas
M	compiler/symconst.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 5f3050961f57c1ecc58565e6434ad93ec44e14ef
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 21:45:57 2019 +0000

      * load left properly into a register in tx86addnode.second_addordinal, resolves #36287
    
    git-svn-id: trunk@43449 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 9d0389aa53e2d49955f37707250b016cf07da1b3
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 21:22:33 2019 +0000

      + readded accidently deleted file
    
    git-svn-id: trunk@43448 -

M	.gitattributes
A	tests/webtbs/tw32219.pp

******************************************************************************
commit 7464c880034a94a76aa06cefa0b1c4133d8969f0
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 21:09:06 2019 +0000

      * fix and improve MovImul2Imul: we cannot insert the move target into imul if the imul is 64 bit and the mov 32 bit as
        we cannot ensure that the upper 32 bits of the move target are really clear
    
    git-svn-id: trunk@43447 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4b455600b8a6c98158383c01cbe818a3d80df6d1
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 18:23:50 2019 +0000

      * swapped decrefs and StripLabelFast as proposed by Gareth on the mailing list
    
    git-svn-id: trunk@43445 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7747c5fc27e6e23247c4d200e3d9fd4c060b9770
Merge: e1e8986462 47bb71efc4
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 16:44:34 2019 +0000

    -- Zusammenführen von r43307 bis r43443 in ».«:
    D    tests/webtbs/tw32219.pp
    U    compiler/i386/i386att.inc
    U    compiler/i386/i386atts.inc
    U    compiler/i386/i386int.inc
    U    compiler/i386/i386nop.inc
    U    compiler/i386/i386op.inc
    U    compiler/i386/i386prop.inc
    U    compiler/i386/i386tab.inc
    U    compiler/i8086/i8086att.inc
    U    compiler/i8086/i8086atts.inc
    U    compiler/i8086/i8086int.inc
    U    compiler/i8086/i8086nop.inc
    U    compiler/i8086/i8086op.inc
    U    compiler/i8086/i8086prop.inc
    U    compiler/i8086/i8086tab.inc
    U    compiler/x86/x86ins.dat
    U    compiler/x86_64/x8664ats.inc
    U    compiler/x86_64/x8664att.inc
    U    compiler/x86_64/x8664int.inc
    U    compiler/x86_64/x8664nop.inc
    U    compiler/x86_64/x8664op.inc
    U    compiler/x86_64/x8664pro.inc
    U    compiler/x86_64/x8664tab.inc
    U    tests/utils/avx/avxopcodes.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r42706 bis r43443 in ».«:
     U   .
    
    git-svn-id: trunk@43444 -

MM	.gitattributes

******************************************************************************
commit e1e89864620fe33d035b7987c470847d87b808be
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 16:11:40 2019 +0000

      * patch by J. Gareth Moreton, issue #36271, part 3: support for the other architectures
    
    git-svn-id: trunk@43441 -

M	compiler/aarch64/cpubase.pas
M	compiler/arm/cpubase.pas
M	compiler/avr/cpubase.pas
M	compiler/m68k/cpubase.pas
M	compiler/mips/cpubase.pas
M	compiler/powerpc/cpubase.pas
M	compiler/powerpc64/cpubase.pas
M	compiler/riscv32/cpubase.pas
M	compiler/riscv64/cpubase.pas
M	compiler/sparcgen/cpubase.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit 2d295a381642e32edbbc08e206453d9251753d53
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 16:11:39 2019 +0000

      * patch by J. Gareth Moreton, issue #36271, part 2: x86 specific rework of the jump optimizer
    
    git-svn-id: trunk@43440 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 47dcc5b05b7d41ceadf0a7b10a5f6867ff110df2
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 16:11:38 2019 +0000

      * patch by J. Gareth Moreton, issue #36271, part 1: general rework of the jump optimizer
    
    git-svn-id: trunk@43439 -

M	compiler/aoptobj.pas

******************************************************************************
commit 88a8871c622794893012bb90c75253245a945d35
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 21:58:31 2019 +0000

      * read more types of references properly
    
    git-svn-id: trunk@43433 -

M	compiler/mips/racpugas.pas

******************************************************************************
commit 79dfd9fb51a82eda8f6469a6236a78e7ba6f7f6a
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 21:58:30 2019 +0000

      + MIPS: take care of setnoat
    
    git-svn-id: trunk@43432 -

M	compiler/mips/cgcpu.pas
M	compiler/mips/cpupi.pas

******************************************************************************
commit 8b89a5cc5109c15a716a1826096258caf8b36997
Author: michael <michael@freepascal.org>
Date:   Sat Nov 9 18:56:14 2019 +0000

    * Remove testsuite again
    
    git-svn-id: trunk@43431 -

M	.gitattributes
D	rtl/test/docompile.sh
D	rtl/test/punit.cfg
D	rtl/test/punit.pp
D	rtl/test/testpunit.pp
D	rtl/test/testpunit2.pp
D	rtl/test/testpunit3.pp
D	rtl/test/testrtl.lpi
D	rtl/test/testrtl.pp
D	rtl/test/tohelper.inc
D	rtl/test/unittest.cfg
D	rtl/test/utastrcmp.pp
D	rtl/test/utbytesof.pp
D	rtl/test/utclasses.pp
D	rtl/test/utdfexp.pp
D	rtl/test/utdirex.pp
D	rtl/test/utdos.pp
D	rtl/test/utencoding.pp
D	rtl/test/utencodingerr.pp
D	rtl/test/utenv.pp
D	rtl/test/utexec.pp
D	rtl/test/utexpfncase.pp
D	rtl/test/utextractquote.pp
D	rtl/test/utfattr.pp
D	rtl/test/utfexpand.pp
D	rtl/test/utffirst.pp
D	rtl/test/utfile.pp
D	rtl/test/utfile1.pp
D	rtl/test/utfile2.pp
D	rtl/test/utfilename.pp
D	rtl/test/utfloattostr.pp
D	rtl/test/utformat.pp
D	rtl/test/utfsearch.pp
D	rtl/test/utmath.pp
D	rtl/test/utrtl.pp
D	rtl/test/utrwsync.pp
D	rtl/test/utscanf.pp
D	rtl/test/utstrcmp.pp
D	rtl/test/utstrcopy.pp
D	rtl/test/utstringbuild.pp
D	rtl/test/utstringhelp.pp
D	rtl/test/utstrings1.pp
D	rtl/test/utstrtobool.pp
D	rtl/test/utstrtotime.pp
D	rtl/test/utsyshelpers.pp
D	rtl/test/utsysutils.pp
D	rtl/test/uttypinfo.pp
D	rtl/test/utunifile.pp
D	rtl/test/utuplow.pp
D	rtl/test/utustringbuild.pp
D	rtl/test/utverify.pp
D	rtl/test/utwstrcmp.pp

******************************************************************************
commit 99ce957111b021c5739d96df65ebb11fb274e71e
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 18:32:36 2019 +0000

      * fixed default value for progbits
    
    git-svn-id: trunk@43430 -

M	compiler/ogbase.pas

******************************************************************************
commit 137f392c66a298d58a03c3ca336470e5a5274efa
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 18:29:14 2019 +0000

      * parameters declared as out must be initialized
    
    git-svn-id: trunk@43429 -

M	compiler/ogbase.pas

******************************************************************************
commit 40bbb28fd2b877cb94ce03b5b0ffc5f45760a83e
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 18:28:30 2019 +0000

      * do not write section flags/progbits for .data, .rodata .data.norel as the compiler will ignore them anyways and warn about it
    
    git-svn-id: trunk@43428 -

M	compiler/aggas.pas

******************************************************************************
commit f20e6ff323dce8717477f7d1cac6e70ce0c07b73
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 16:58:58 2019 +0000

      * update generic linker script
    
    git-svn-id: trunk@43426 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit 1c3b41eb543d85cd8497c89942062ca54430d489
Author: michael <michael@freepascal.org>
Date:   Sat Nov 9 13:39:14 2019 +0000

    * Testsuite in punit format
    
    git-svn-id: trunk@43425 -

M	.gitattributes
A	rtl/test/docompile.sh
A	rtl/test/punit.cfg
A	rtl/test/punit.pp
A	rtl/test/testpunit.pp
A	rtl/test/testpunit2.pp
A	rtl/test/testpunit3.pp
A	rtl/test/testrtl.lpi
A	rtl/test/testrtl.pp
A	rtl/test/tohelper.inc
A	rtl/test/unittest.cfg
A	rtl/test/utastrcmp.pp
A	rtl/test/utbytesof.pp
A	rtl/test/utclasses.pp
A	rtl/test/utdfexp.pp
A	rtl/test/utdirex.pp
A	rtl/test/utdos.pp
A	rtl/test/utencoding.pp
A	rtl/test/utencodingerr.pp
A	rtl/test/utenv.pp
A	rtl/test/utexec.pp
A	rtl/test/utexpfncase.pp
A	rtl/test/utextractquote.pp
A	rtl/test/utfattr.pp
A	rtl/test/utfexpand.pp
A	rtl/test/utffirst.pp
A	rtl/test/utfile.pp
A	rtl/test/utfile1.pp
A	rtl/test/utfile2.pp
A	rtl/test/utfilename.pp
A	rtl/test/utfloattostr.pp
A	rtl/test/utformat.pp
A	rtl/test/utfsearch.pp
A	rtl/test/utmath.pp
A	rtl/test/utrtl.pp
A	rtl/test/utrwsync.pp
A	rtl/test/utscanf.pp
A	rtl/test/utstrcmp.pp
A	rtl/test/utstrcopy.pp
A	rtl/test/utstringbuild.pp
A	rtl/test/utstringhelp.pp
A	rtl/test/utstrings1.pp
A	rtl/test/utstrtobool.pp
A	rtl/test/utstrtotime.pp
A	rtl/test/utsyshelpers.pp
A	rtl/test/utsysutils.pp
A	rtl/test/uttypinfo.pp
A	rtl/test/utunifile.pp
A	rtl/test/utuplow.pp
A	rtl/test/utustringbuild.pp
A	rtl/test/utverify.pp
A	rtl/test/utwstrcmp.pp

******************************************************************************
commit d813edef7239c683355be089ff9b089599bb3c4b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Nov 8 22:34:07 2019 +0000

    * also advance the error code in the case of success
    
    git-svn-id: trunk@43419 -

M	tests/test/trtti17.pp

******************************************************************************
commit 9a9cd15ec4427bd0e78d3e4048663afe71b30fe1
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Nov 8 21:29:26 2019 +0000

    TInterfacedObject.Destroy: fix case for correct auto-completion
    
    git-svn-id: trunk@43418 -

M	rtl/inc/objpas.inc
M	rtl/inc/objpash.inc

******************************************************************************
commit d275e7a7e658debe32497a50c5e49d61d154b294
Author: florian <florian@freepascal.org>
Date:   Thu Nov 7 21:12:47 2019 +0000

      * removed accidently committed debug statement
    
    git-svn-id: trunk@43413 -

M	compiler/cgobj.pas

******************************************************************************
commit c8f746b88170196adb878a3166e566be1189dc35
Author: florian <florian@freepascal.org>
Date:   Thu Nov 7 21:08:08 2019 +0000

      * do not allocate an extra register for some integer operations if not needed
    
    git-svn-id: trunk@43412 -

M	compiler/cgobj.pas
M	compiler/x86/nx86add.pas

******************************************************************************
commit 490f057aa11a32e1322e842343deab8d809c47a2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 6 21:50:23 2019 +0000

      * replaced the arrays in the generic set helpers with arrays of 32 bytes
        instead of high(cardinal), so LLVM doesn't get tricked into massively
        unrolling and parallelising those loops
    
    git-svn-id: trunk@43408 -

M	rtl/inc/genset.inc

******************************************************************************
commit ac1e0f96bdf26510682788eaa26a813cbb80a7ba
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 6 21:50:19 2019 +0000

      * replaced tentryfile.get/putsmall/normalset() with a common tget/putset
        that expects an open array of byte, and use it for all sets
       o since all sets need to be typecasted to an array type of the appropriate
         size, we'll get a compilation error in case this needs to be done and
         that also tells us at the same time that the ppu version will need to
         be increased
      * enabled {$packset 1} for the compiler, as this is now safe with the above
        changes
    
    git-svn-id: trunk@43407 -

M	compiler/aasmtai.pas
M	compiler/entfile.pas
M	compiler/fpcdefs.inc
M	compiler/fppu.pas
M	compiler/nbas.pas
M	compiler/ncal.pas
M	compiler/ncnv.pas
M	compiler/ncon.pas
M	compiler/nflw.pas
M	compiler/nld.pas
M	compiler/nmem.pas
M	compiler/node.pas
M	compiler/ppu.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtable.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit fff3b67b7e3f2f7e820ab782d40d680f50d18539
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 5 10:37:19 2019 +0000

     Remove ALLOW_WARNINGS=1 for m68k compiler
    
    git-svn-id: trunk@43392 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 7d12e8cc6dfff734632d92f9f6a8ca824a7c6cba
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 5 10:00:48 2019 +0000

     Avoid warnings for m68k compiler
    
    git-svn-id: trunk@43391 -

M	compiler/m68k/aoptcpu.pas
M	compiler/m68k/aoptcpub.pas
M	compiler/m68k/cgcpu.pas
M	compiler/m68k/cpupara.pas
M	compiler/m68k/n68kadd.pas
M	compiler/m68k/ra68kmot.pas
M	compiler/m68k/rgcpu.pas
M	compiler/options.pas
M	compiler/systems/t_atari.pas

******************************************************************************
commit d3c5bd2a3e513df586faa6b0c0e2555399d556b7
Author: florian <florian@freepascal.org>
Date:   Sun Nov 3 17:33:26 2019 +0000

      * test for tw36212
    
    git-svn-id: trunk@43385 -

M	.gitattributes
A	tests/webtbs/tw36212.pp

******************************************************************************
commit c6659d62f8e3abde41849bf6d6a550542c7ad3bb
Author: florian <florian@freepascal.org>
Date:   Sun Nov 3 17:13:59 2019 +0000

      * do not join register deallocations/allocations as it makes no use and causes later on trouble in
        the assembler optimizer as register allocations are not correct, resolves #33565
    
    git-svn-id: trunk@43384 -

M	.gitattributes
M	compiler/rgobj.pas
A	tests/webtbs/tw33565.pp

******************************************************************************
commit b8f186dab2e09afc589407a2f1a0dd2db2cb2d89
Author: florian <florian@freepascal.org>
Date:   Sun Nov 3 14:42:02 2019 +0000

      * reverted r43366
    
    git-svn-id: trunk@43382 -

M	.gitattributes
M	rtl/objpas/math.pp
D	tests/webtbs/tw36161.pp

******************************************************************************
commit 20a47afe13d37f5d4f77c65f3437b4849f5eca48
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 22:37:31 2019 +0000

      * more aggressive LeaCallLeaRet2Jmp
    
    git-svn-id: trunk@43373 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 1fc7667b3bc86cb83ffce20cace69ceb679a269c
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 22:37:30 2019 +0000

      + LeaCallLeaRet2Jmp
    
    git-svn-id: trunk@43372 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6842c5784d5a6b21584bf26428a01457c21c60d0
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 22:37:29 2019 +0000

      * CallRet2Jmp works with PIC
    
    git-svn-id: trunk@43371 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3487c34ed9a2c87128c39bab5a5dcd336e5ef66f
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 18:48:23 2019 +0000

      * unified TX86AsmOptimizer.OptPass1MOVAP and TX86AsmOptimizer.OptPass1VMOVAP
    
    git-svn-id: trunk@43370 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit f9530437c2fd229250b3ffc48c0536df3456c192
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 18:34:53 2019 +0000

      * fix i386 building
    
    git-svn-id: trunk@43369 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c3ef42b164cfdee2dc5dfaa5b2bbb7790799fcbc
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 18:09:11 2019 +0000

      * allow cmov with memory reference if it is a pure symbol or a rip relative symbol: as the symbol is
        allocated within the image of the program, this should never cause a seg. fault, so it is save
        to use cmov with it
    
    git-svn-id: trunk@43368 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5ead23513d29a185a71dfa0fc3f5314e4fc7aad5
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 16:21:43 2019 +0000

    * more overloads for Math.Min/Max, resolves #36161
    
    git-svn-id: trunk@43366 -

M	.gitattributes
M	rtl/objpas/math.pp
A	tests/webtbs/tw36161.pp

******************************************************************************
commit ccb169b0f1b3214c6b09b3bd89492e2ce0626fa1
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Nov 2 12:36:30 2019 +0000

    * correctly handle PE COMDAT sections: like for the Comdat groups in ELF files the unused symbols need to be converted to externals so that relocations are handled correctly
    
    git-svn-id: trunk@43359 -

M	compiler/ogbase.pas

******************************************************************************
commit c6a08cdc6e57c5dff6b586c40ad9fefe8c2f2a5b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Nov 2 12:36:26 2019 +0000

    + add a Flush method to TExeMap which is useful when debugging internal errors or crashes where the exemap instance has not yet been destroyed
    
    git-svn-id: trunk@43358 -

M	compiler/ogmap.pas

******************************************************************************
commit ae04e5d7f0c2527677b7c4ce6be2c235a4635c82
Author: florian <florian@freepascal.org>
Date:   Fri Nov 1 18:39:18 2019 +0000

      * avr: apply LdiOp2Opi optimization also to and and sub
    
    git-svn-id: trunk@43352 -

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 828e961f3d0191c6f20c930d667c0eb9718cf3a4
Author: florian <florian@freepascal.org>
Date:   Fri Nov 1 18:39:17 2019 +0000

      * remove unused constants
    
    git-svn-id: trunk@43351 -

M	rtl/inc/generic.inc

******************************************************************************
commit fdeaacac21cfa72ea0148158fa8da9aa67035881
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Nov 1 15:02:31 2019 +0000

    * fix for Mantis #36223: when parsing a helper type its extendeddef might be Nil
    + added test
    
    git-svn-id: trunk@43346 -

M	.gitattributes
M	compiler/symtable.pas
A	tests/webtbf/tw36223.pp

******************************************************************************
commit f481587bee170e0545df260fccc9c653740e1513
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Nov 1 13:27:29 2019 +0000

    * fix compilation on PE/COFF based systems with GNU AS as there the progbits are not supported
    
    git-svn-id: trunk@43345 -

M	compiler/aggas.pas

******************************************************************************
commit e19eff13324011b667e4d1b85cc521b8eecb8eff
Author: florian <florian@freepascal.org>
Date:   Fri Nov 1 09:52:37 2019 +0000

      * also type casts to booleans benefit if unneeded type widenings are removed
    
    git-svn-id: trunk@43344 -

M	compiler/ncnv.pas

******************************************************************************
commit cb67577002b81669c34ab1edda2df068058b2334
Author: florian <florian@freepascal.org>
Date:   Thu Oct 31 21:29:41 2019 +0000

      * fix length(<dyn. type>)=0 optimization, resolves #36215
    
    git-svn-id: trunk@43343 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw36215.pp

******************************************************************************
commit 172a4a999bfa8f9d0429bc2e41fe363a778d8821
Author: florian <florian@freepascal.org>
Date:   Wed Oct 30 22:39:13 2019 +0000

      + MovMov2Mov 6 and MovMov2Mov 7 optimization
    
    git-svn-id: trunk@43339 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2bcf1b7f59ff83ec538c91fde1805dcd5db27348
Author: florian <florian@freepascal.org>
Date:   Wed Oct 30 20:07:28 2019 +0000

      * fptime works now usefully on unix systems
      + support -n <number> to run the command <number> times
      + display average runtime when -n is passed
    
    git-svn-id: trunk@43338 -

M	tests/utils/fptime.pp

******************************************************************************
commit 59d300fc6ed13237ccaa37bd2478fd07b1588a25
Author: florian <florian@freepascal.org>
Date:   Wed Oct 30 20:07:27 2019 +0000

      * optimize TAOptBase.SuperRegistersEqual
    
    git-svn-id: trunk@43337 -

M	compiler/aoptbase.pas

******************************************************************************
commit cfec7251954e78c5e2353a6f842bd269582f5d96
Author: florian <florian@freepascal.org>
Date:   Wed Oct 30 20:07:26 2019 +0000

    * clean up TX86AsmOptimizer.OptPass1MOV
    
    git-svn-id: trunk@43336 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b7f58dd8c8eacbbfe8aaf8632b6617228ded7485
Author: florian <florian@freepascal.org>
Date:   Sun Oct 27 16:53:26 2019 +0000

      * load nodes for variables in registers do not generated instructions, so their complexity is zero
    
    git-svn-id: trunk@43319 -

M	compiler/nutils.pas

******************************************************************************
commit 31e5b2d9a4e1874058b586667429956b61a46101
Author: florian <florian@freepascal.org>
Date:   Sun Oct 27 12:40:08 2019 +0000

      * more precise estimation of subscript node complexity
    
    git-svn-id: trunk@43314 -

M	compiler/nutils.pas

******************************************************************************
commit 421b06affe2d3f2a3ab174fb60934feb9e7c11d3
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Oct 26 22:24:00 2019 +0000

    morphos: in SDK 3.14, the binutils is finally upgraded to 2.32 (from 2.9.1), which makes section smartlinking working with binutils, and also has finally properly working stabs relocations for lineinfo, etc. so it's the default again both cross and native compilations
    
    git-svn-id: trunk@43313 -

M	compiler/options.pas
M	compiler/systems/i_morph.pas

******************************************************************************
commit cc703a9c59d1ff69db1349257be86eb7b0cbeb16
Author: florian <florian@freepascal.org>
Date:   Sat Oct 26 08:37:20 2019 +0000

      + include -Avasm into the help screen
    
    git-svn-id: trunk@43311 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 2d2015144653ffdf597df5a9f24e78a1d11941b0
Author: pierre <pierre@freepascal.org>
Date:   Thu Oct 24 15:28:47 2019 +0000

     Change parent class of trv32aatreader to trvattreader
    
    git-svn-id: trunk@43309 -

M	compiler/riscv32/rarv32gas.pas

******************************************************************************
commit 7e5bf5a9fbc07b8e2459545411ff41499679687b
Author: pierre <pierre@freepascal.org>
Date:   Thu Oct 24 07:03:14 2019 +0000

     Fix compilation error for i8086 cpu target
    
    git-svn-id: trunk@43308 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit fa9c7a92c78fc257294bfe2c9e7d92dfdb69be18
Merge: 5bfebeea4e 99d44ce40e
Author: florian <florian@freepascal.org>
Date:   Wed Oct 23 18:17:50 2019 +0000

    -- Zusammenführen von r42725 bis r43306 in ».«:
    A    tests/webtbs/tw32219.pp
    U    tests/utils/avx/avxopcodes.pas
    U    tests/utils/avx/asmtestgenerator.pas
    U    compiler/i386/i386tab.inc
    U    compiler/i386/i386nop.inc
    U    compiler/i8086/i8086tab.inc
    U    compiler/i8086/i8086nop.inc
    U    compiler/x86_64/x8664tab.inc
    U    compiler/x86_64/x8664nop.inc
    U    compiler/x86/aasmcpu.pas
    U    compiler/x86/x86ins.dat
    U    compiler/x86/rax86.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r42706 bis r43306 in ».«:
     U   .
    
    git-svn-id: trunk@43307 -

MM	.gitattributes
MM	compiler/x86/aasmcpu.pas

******************************************************************************
commit 9dcd897ce630bf5d3e9b94f9e47b5c9c26726db8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Oct 21 19:42:19 2019 +0000

    * fix for Mantis #36196: free a property's attributes when the property is destroyed
    + added test
    
    git-svn-id: trunk@43299 -

M	.gitattributes
M	packages/rtl-objpas/src/inc/rtti.pp
A	tests/webtbs/tw36196.pp

******************************************************************************
commit 6f74dd42079e2df27a5a5a38fe3c7fe2f47ee5cb
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Oct 21 19:42:15 2019 +0000

    * fix memory leak of tcustomattr13
    
    git-svn-id: trunk@43298 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit cb9f569906d356aad9005ae1f22966c3182d4452
Author: nickysn <nickysn@gmail.com>
Date:   Mon Oct 21 13:14:58 2019 +0000

    * fixed i8086 compilation after r43265
    
    git-svn-id: trunk@43289 -

M	compiler/ogomf.pas

******************************************************************************
commit ee3258c0daaa60b9cf3c12e06317bb17ae886c0c
Author: florian <florian@freepascal.org>
Date:   Sun Oct 20 21:10:56 2019 +0000

      * optimizing length(<dyn. type>)=0 is not possible for jvm
    
    git-svn-id: trunk@43280 -

M	compiler/nadd.pas

******************************************************************************
commit e3c6ef21d101b8f95dd6d410eba8990ec9e88845
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 20 14:14:09 2019 +0000

      * fixed compilation for Darwin and AIX after addition of section attributes
    
    git-svn-id: trunk@43273 -

M	compiler/aggas.pas

******************************************************************************
commit e80eee5da54e32313333c2ca1f6dea016bb95c27
Author: florian <florian@freepascal.org>
Date:   Sun Oct 20 13:03:45 2019 +0000

    * generate better code for length(<dyn. type>)=0, resolves #36060
    
    git-svn-id: trunk@43272 -

M	compiler/nadd.pas
M	compiler/nutils.pas

******************************************************************************
commit e251c8e2ab3909dae2b91253044e8be67a00f6fc
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 19 15:41:41 2019 +0000

    * fix for Mantis #36174: correctly initialize secprocbits and secflags given the section type
    
    git-svn-id: trunk@43267 -

M	compiler/aasmtai.pas

******************************************************************************
commit 7f8800eeb15ef2db9dbe43b91db194b0e0d0e53f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 19 15:41:37 2019 +0000

    + add a method to TObjData to retrieve the TSectionProcBits and TSectionFlags values for a given section type
    
    git-svn-id: trunk@43266 -

M	compiler/ogbase.pas

******************************************************************************
commit e5de269664c7029770bb2e4092cd28a9a31545cf
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 19 15:41:33 2019 +0000

    * change TObjData.sectiontype2options to a class function so that it can be called without an instance of TObjData
    
    git-svn-id: trunk@43265 -

M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogmacho.pas
M	compiler/ogomf.pas

******************************************************************************
commit af8783e8d2d8312897ac6406b2ac30af9b6c609a
Author: florian <florian@freepascal.org>
Date:   Thu Oct 17 20:55:39 2019 +0000

      * i386: with a fixed stack, exception handling does not need a frame pointer
    
    git-svn-id: trunk@43218 -

M	compiler/psub.pas

******************************************************************************
commit 84ebe96d41c2fbcbccbcc2573bb7783e18bcaf68
Author: pierre <pierre@freepascal.org>
Date:   Tue Oct 15 15:04:32 2019 +0000

     Define FPC_IS_SYSTEM at start of all system.pp source
    
    git-svn-id: trunk@43203 -

M	rtl/atari/system.pp
M	rtl/go32v2/system.pp
M	rtl/macos/system.pp
M	rtl/msdos/system.pp
M	rtl/nativent/system.pp
M	rtl/netware/system.pp
M	rtl/netwlibc/system.pp
M	rtl/palmos/system.pp
M	rtl/qnx/system.pp
M	rtl/symbian/system.pp
M	rtl/watcom/system.pp
M	rtl/win16/system.pp
M	rtl/win32/system.pp
M	rtl/win64/system.pp

******************************************************************************
commit 362e6232c329951d351782ab5cc0be89eae7e357
Author: pierre <pierre@freepascal.org>
Date:   Tue Oct 15 08:03:39 2019 +0000

     Fix compilation for wince target after restriction of enum value to longint range
    
    git-svn-id: trunk@43200 -

M	rtl/wince/wininc/struct.inc

******************************************************************************
commit 9d765af6932467e439c8c850f43be86bb40f0ed9
Author: pierre <pierre@freepascal.org>
Date:   Mon Oct 14 16:04:02 2019 +0000

     Fix parsing error in GNU linker script, KEEP needs braces
    
    git-svn-id: trunk@43197 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit 88648248ec2a1eb3cf9af867fc586943332d0523
Author: florian <florian@freepascal.org>
Date:   Sun Oct 13 20:23:01 2019 +0000

      * fix random(<int64>) for 32 Bit CPUs
    
    git-svn-id: trunk@43194 -

M	rtl/inc/system.inc

******************************************************************************
commit e02321029fbe2c7c62e12ec475dcc3f03e135340
Author: florian <florian@freepascal.org>
Date:   Sun Oct 13 20:11:55 2019 +0000

      * test fixed for i386
    
    git-svn-id: trunk@43193 -

M	tests/webtbs/tw35953.pp

******************************************************************************
commit 626ef4ae0ccd379e74fc660f914e5524952e6c7f
Author: florian <florian@freepascal.org>
Date:   Sun Oct 13 15:48:21 2019 +0000

      * give an error if an explicit enumeration valid exceeds the valid range, resolves #34633
    
    git-svn-id: trunk@43191 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ptype.pas
A	tests/webtbf/tw34633.pp

******************************************************************************
commit 33c4a5dda713b26acaf35da6ec913ebde848f54b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 13 11:11:28 2019 +0000

      * don't try to bitpack arrays of non-ordinals (mantis #36157)
    
    git-svn-id: trunk@43187 -

M	.gitattributes
M	compiler/ngtcon.pas
A	tests/webtbs/tw36157.pp

******************************************************************************
commit bdcda8660eaa0f02365a9000a55c7ad8ac3becf9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 13 07:37:42 2019 +0000

      * fix Dwarf 3 array location broken in r43171 (fix by Martin Friebe,
        mantis #36144)
    
    git-svn-id: trunk@43181 -

M	compiler/dbgdwarf.pas

******************************************************************************
commit 5573bee314cc43d3eab0cb29ebfacd0898f7b453
Author: florian <florian@freepascal.org>
Date:   Sat Oct 12 21:56:18 2019 +0000

    + makefiles use -Sew, so added to the project as well
      * updated for new format
    
    git-svn-id: trunk@43179 -

M	compiler/ppcarm.lpi

******************************************************************************
commit 533a1138857ba2ff5daff90e569c521483f2eae5
Author: florian <florian@freepascal.org>
Date:   Sat Oct 12 21:51:15 2019 +0000

      + LeaCallLeaRet2Jmp optimization
    
    git-svn-id: trunk@43178 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 00c2fd40055ff5ee214326de04c594231b9a095e
Author: florian <florian@freepascal.org>
Date:   Sat Oct 12 21:51:14 2019 +0000

      + x86: LeaLea2Lea optimization
    
    git-svn-id: trunk@43177 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 67fc9a7853918631155a509ebca0983100e613e6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 12 21:39:48 2019 +0000

      * fixed peephole opitimizer removing some infinite loops (mantis #36139)
    
    git-svn-id: trunk@43175 -

M	compiler/aoptobj.pas

******************************************************************************
commit 6c29ecbd1cd0e51977fba16d6ebb09ba32f4e520
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 12 12:25:07 2019 +0000

      * moved array stride back to array entry (mantis #36144)
    
    git-svn-id: trunk@43171 -

M	compiler/dbgdwarf.pas

******************************************************************************
commit c189af0e3d8e1c5293e9b3f0aa11092cd262d976
Author: florian <florian@freepascal.org>
Date:   Thu Oct 10 20:31:31 2019 +0000

      * improved software floating point exception handling in the rtl
    
    git-svn-id: trunk@43163 -

M	rtl/arm/arm.inc
M	rtl/arm/mathu.inc
M	rtl/arm/thumb.inc
M	rtl/inc/genmath.inc
M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 29bdbdba95bf5785005d668aadeebf3033d3e29e
Author: florian <florian@freepascal.org>
Date:   Thu Oct 10 20:31:30 2019 +0000

      * reduce amount of software floating point exception checking, VSTR, VMOV, VLDR do not raise those
    
    git-svn-id: trunk@43162 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit e0041a8244b79abd964007b694f78a8e15bda682
Author: florian <florian@freepascal.org>
Date:   Wed Oct 9 19:26:59 2019 +0000

      * compilation of x86 and PowerPC fixed
    
    git-svn-id: trunk@43158 -

M	compiler/omfbase.pas
M	compiler/powerpc/agppcmpw.pas
M	compiler/ppcgen/agppcgas.pas
M	compiler/x86/agx86int.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit 245b58c249b4b29ffc54e6c1e50a1474cc84f7b1
Author: florian <florian@freepascal.org>
Date:   Wed Oct 9 17:45:40 2019 +0000

    + support for arm attributes
      * abi notes fixed
    
    git-svn-id: trunk@43157 -

M	.gitattributes
M	compiler/aasmbase.pas
M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/cpunode.pas
A	compiler/arm/narmutil.pas
M	compiler/assemble.pas
M	compiler/elfbase.pas
M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogelf.pas
M	compiler/psabiehpi.pas
M	compiler/raatt.pas
M	rtl/linux/arm/abitag.inc

******************************************************************************
commit c6d8bd73f7343b8fa6ae514e6187786542468b4c
Author: michael <michael@freepascal.org>
Date:   Wed Oct 9 07:13:37 2019 +0000

    * Patch from Serge Anvarov with some optimizations (bug ID 36143)
    
    git-svn-id: trunk@43155 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/lists.inc

******************************************************************************
commit 35e11cd6d4df412a4a193e63b09fda3c9ba910f3
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:32 2019 +0000

    * several linux targets switches from stabs to dwarf
    
    git-svn-id: trunk@43135 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit 8ecdb2e9ca9b32f1334f237612411e7e17e5d1e6
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:31 2019 +0000

    + dwarf support for tls threadvars
    
    git-svn-id: trunk@43134 -

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/cpuelf.pas
M	compiler/assemble.pas
M	compiler/dbgdwarf.pas
M	compiler/i386/cpuelf.pas
M	compiler/ogbase.pas
M	compiler/x86_64/cpuelf.pas

******************************************************************************
commit df4ec9e8e3b59f70b37bb762f50d37725c22bda6
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:30 2019 +0000

    * arm-linux uses dwarf debug info by default
    
    git-svn-id: trunk@43133 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit a2d3522812a74b2715191f9d447407582fda6951
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:29 2019 +0000

    * general-dynamic -> global-dynamic
    
    git-svn-id: trunk@43132 -

M	Makefile
M	Makefile.fpc
M	compiler/arm/aoptcpu.pas
M	compiler/arm/narmld.pas
M	compiler/globtype.pas
M	compiler/i386/cpupi.pas
M	compiler/options.pas
M	compiler/x86/nx86ld.pas

******************************************************************************
commit 7ee889d4ecebcdd72887fc65961bd4a362db0dcf
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:28 2019 +0000

    * it must be decided in allocate_tls_register if a tls register is allocated
    
    git-svn-id: trunk@43131 -

M	compiler/psub.pas

******************************************************************************
commit c0372f80e00913d849ff6dbcf3387e664c74a6ec
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:27 2019 +0000

    * with section threadvars, heap relocation is not needed
    
    git-svn-id: trunk@43130 -

M	rtl/inc/heap.inc

******************************************************************************
commit b7dd63094fd75b6cb8e04498806eb0d98f2709b1
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:26 2019 +0000

    * arm uses the same approach as i386: during the final build of the rtl and the packages, the general dynamic tls model is selected
    
    git-svn-id: trunk@43129 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit 16163b74ec9daf00f87075afea385e54f9813e5b
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:26 2019 +0000

    + support for the gnu2 general-dynamic tls model on arm, use it instead of the gnu one as the gnu2 one can be relaxed (access optimizations by the linker)
      + support pic relocations in the internal assembler writer
    
    git-svn-id: trunk@43128 -

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpuelf.pas
M	compiler/arm/narmld.pas
M	compiler/assemble.pas
M	compiler/cgbase.pas
M	compiler/ogbase.pas

******************************************************************************
commit abb9401011e6985631b99c28b49a8c1053b6d886
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:24 2019 +0000

    + tls models tlsm_general_dynamic and tlsm_local_exec for arm
    
    git-svn-id: trunk@43127 -

M	compiler/arm/narmld.pas

******************************************************************************
commit c3f4ad39a3d93a445a490b963ca1015d416db6cc
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:24 2019 +0000

    * it must be decided in g_maybe_tls_init if a tls is loaded
    
    git-svn-id: trunk@43126 -

M	compiler/psub.pas

******************************************************************************
commit 988dce14c7499b599e7a707a88941c43a822a931
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:23 2019 +0000

    * cosmetics
    
    git-svn-id: trunk@43125 -

M	compiler/x86_64/cpuelf.pas

******************************************************************************
commit cffc69ec1d0fd94be0ec1ab6f54302b1d3158371
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:22 2019 +0000

    + support pi_needs_tls
    
    git-svn-id: trunk@43124 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 03dfc615dc450f38fae15cd06188dcd56b877616
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:21 2019 +0000

    + new relocations for arm tls
    
    git-svn-id: trunk@43123 -

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/aasmcpu.pas
M	compiler/arm/cgcpu.pas
M	compiler/assemble.pas
M	compiler/cgbase.pas
M	compiler/ogbase.pas

******************************************************************************
commit 03f7ef4c6336182ebd5a053f8d962438abefc644
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:20 2019 +0000

    * renamed tls model switches and symbols to match gcc
    
    git-svn-id: trunk@43122 -

M	Makefile
M	Makefile.fpc
M	compiler/arm/cpuelf.pas
M	compiler/globtype.pas
M	compiler/i386/cpupi.pas
M	compiler/options.pas
M	compiler/x86/nx86ld.pas

******************************************************************************
commit 3ae1b04d09a165e164e3697391125710604f5124
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 5 09:42:52 2019 +0000

    * disable the use of C-operators inside the compiler's sources
    
    git-svn-id: trunk@43120 -

M	compiler/fpcdefs.inc

******************************************************************************
commit 79bdee3278415121dd1c7521cc4457c8ad3a8f25
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 5 09:42:49 2019 +0000

    * finally implement tdynamicarray.equal so that exact match comdat sections work as well
    
    git-svn-id: trunk@43119 -

M	compiler/cclasses.pas

******************************************************************************
commit 7f0675d937af5822442aef9d69134a97fc98390b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Oct 4 11:28:10 2019 +0000

    netbsd: updated to link against the right setlocale function. the renaming from __setlocale_mb_len_max_32 to __setlocale50 occured in NetBSD include/locale.h in rev 1.17, which was in 2010, and shipped in NetBSD 6 in 2012.
    
    git-svn-id: trunk@43118 -

M	rtl/unix/cwstring.pp

******************************************************************************
commit 49026e126182c2fa2dbdf4941e6d6d14b3b24c9b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 29 10:29:57 2019 +0000

      * add "readonly" attribute for constant pointer parameters on LLVM
    
    git-svn-id: trunk@43089 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit b99323bb193977646957bb6ac6529e0288c0f963
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 29 10:29:54 2019 +0000

      * fix LLVM compilation after r43076
    
    git-svn-id: trunk@43088 -

M	compiler/llvm/nllvmutil.pas

******************************************************************************
commit 9f97e18aa2b77f213edc0336385de1577d2b75bc
Author: florian <florian@freepascal.org>
Date:   Thu Sep 26 20:47:40 2019 +0000

      * test properly (with fno-exceptions) compiled
    
    git-svn-id: trunk@43083 -

M	tests/test/cg/obj/linux/x86_64/cpptcl1.o

******************************************************************************
commit 78373569547165695255cc67117a8134bcf3f296
Author: florian <florian@freepascal.org>
Date:   Thu Sep 26 20:33:12 2019 +0000

      + extra test to test remap functionality with -gh
    
    git-svn-id: trunk@43082 -

M	.gitattributes
A	tests/test/theap2gh.pp

******************************************************************************
commit 3949be69898e3a724509357a28617376e8a339f4
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:07 2019 +0000

    * be able to set an AT_* for datablocks
    * set AT_TLS if needed
    
    git-svn-id: trunk@43076 -

M	compiler/aasmtai.pas
M	compiler/i8086/n8086util.pas
M	compiler/ngenutil.pas
M	compiler/raatt.pas

******************************************************************************
commit 11319353fd0d5275bdb7a36d1ccce97cc0524099
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:06 2019 +0000

    * loading a got depends only on the fact if a got is needed and not if pic shall be generated
    
    git-svn-id: trunk@43075 -

M	compiler/i386/cpupi.pas
M	compiler/i8086/cgcpu.pas
M	compiler/psub.pas

******************************************************************************
commit 9e8bc7c93574678628b613fff8319b541f1cac21
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:06 2019 +0000

    * the general section threadvar model needs a got but pic is not required
    
    git-svn-id: trunk@43074 -

M	compiler/x86/nx86ld.pas

******************************************************************************
commit 4064c5f39befe1f71d70992b9e3e02eff8f7fffd
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:05 2019 +0000

    * section thread vars need to be access with the symbol type AT_TLS
    
    git-svn-id: trunk@43073 -

M	compiler/ncgld.pas

******************************************************************************
commit c652cd629acfb86e787765e3d1c4e88b5b1f32b1
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:04 2019 +0000

    * the final build of packages and rtl are compiled with the general tls model on i386 as they could be used in dyn. libraries.
        This does not hurt much as the linker optimized the threadvar access if possible
    
    git-svn-id: trunk@43072 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit d8e2db269197b6adbbfb23103d3a7a28b193163d
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:04 2019 +0000

    + command line switch -CV to select the threadvar model for section threadvars
    
    git-svn-id: trunk@43071 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit 56d91b4ca79540828c8af3950d6187cc210d17a2
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:03 2019 +0000

    + support tls threadvars with the internal assembler
    
    git-svn-id: trunk@43070 -

M	compiler/i386/cpuelf.pas
M	compiler/ogbase.pas
M	compiler/ogelf.pas
M	compiler/x86/aasmcpu.pas
M	rtl/linux/i386/si_prc.inc

******************************************************************************
commit f6667a5143147f88a862a703d1baf1cd922dd885
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:01 2019 +0000

    * we have to use __tls_get_addr from the dyn. linker lib else tls on programs with pure pascal dyn. libraries fail
    
    git-svn-id: trunk@43069 -

M	compiler/systems/t_linux.pas
M	rtl/linux/x86_64/si_prc.inc

******************************************************************************
commit 5ed2475c85809555242f34b9b39b05e4be58bebb
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:01 2019 +0000

    * InitThread variant without parameters as user threads normally cannot know the max. stack size
    
    git-svn-id: trunk@43068 -

M	rtl/inc/thread.inc

******************************************************************************
commit 14b7eaa46f2d80ec8db5efbd5fb71d4469002504
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:18:59 2019 +0000

    + x86-64: implemented support for relocation needed by tls threadvars in the binary elf writer
    
    git-svn-id: trunk@43067 -

M	compiler/ogbase.pas
M	compiler/ogelf.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86_64/cpuelf.pas

******************************************************************************
commit ee22dbe5898ef29cfe1c773e6f751ede99cf544f
Author: pierre <pierre@freepascal.org>
Date:   Tue Sep 24 12:44:01 2019 +0000

     Handle change of memory base address after call to SysTryResizeMem
    
    git-svn-id: trunk@43062 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit bd1d6f335db93b5e5912e4b60966a254e07c212a
Author: florian <florian@freepascal.org>
Date:   Sun Sep 22 15:27:51 2019 +0000

    * if we load a got depends only if one is needed, not if PIC is generated as this could be also caused by tls support
    
    git-svn-id: trunk@43055 -

M	compiler/i386/cgcpu.pas

******************************************************************************
commit 02deb7d954b37850bdd92822433cca41d27c102c
Author: florian <florian@freepascal.org>
Date:   Sun Sep 22 15:27:50 2019 +0000

    * try to avoid to use pic based calls
    
    git-svn-id: trunk@43054 -

M	compiler/ncgcal.pas

******************************************************************************
commit e4c275a3499437e6aa2671f468a0c0c0f4515786
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Sep 21 14:36:16 2019 +0000

    * extend test so that it also covers the SetToString/StringToSet variants take/return Integer arguments
    
    git-svn-id: trunk@43047 -

M	tests/test/trtti20.pp

******************************************************************************
commit ad8de624b8c45761a7fd0b9e3b1be18e503d0e59
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Sep 21 14:36:13 2019 +0000

    * make halt codes unique
    
    git-svn-id: trunk@43046 -

M	tests/webtbs/tw8660.pp

******************************************************************************
commit eb71d11b9914dc9b448e7d1a18603da807947c67
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 20 13:48:30 2019 +0000

    m68k: also handle OS_64 register sizes in cgsize2subreg
    
    git-svn-id: trunk@43045 -

M	compiler/m68k/cpubase.pas

******************************************************************************
commit 435b57bdb120166870537cbe299aaaf8b86820b8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 20 11:37:18 2019 +0000

    m68k: allow vecnode to use word size index registers
    
    git-svn-id: trunk@43044 -

M	compiler/m68k/n68kmem.pas

******************************************************************************
commit 19a69640883fbc5a0c0d607863a6a85673d6f8c6
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 20 11:35:35 2019 +0000

    m68k: add subregisters. on 68k, these are not as universal as on x86 and work differently, but the compiler needs this infrastructure to do 16bit math (which is a massive improvement on '000) or word-size indexes on CPUs which support it
    
    git-svn-id: trunk@43043 -

M	.gitattributes
M	compiler/m68k/ag68kgas.pas
M	compiler/m68k/cpubase.pas
M	compiler/m68k/itcpugas.pas
M	compiler/m68k/m68kreg.dat
M	compiler/m68k/r68kcon.inc
M	compiler/m68k/r68kgas.inc
A	compiler/m68k/r68kgasf.inc
M	compiler/m68k/r68kgri.inc
M	compiler/m68k/r68knor.inc
M	compiler/m68k/r68knum.inc
M	compiler/m68k/r68krni.inc
M	compiler/m68k/r68ksri.inc
M	compiler/m68k/r68ksta.inc
M	compiler/m68k/r68kstd.inc
A	compiler/m68k/r68kstdf.inc
M	compiler/m68k/r68ksup.inc
M	compiler/utils/mk68kreg.pp

******************************************************************************
commit eb3a470f456c12ed78c52e9584db5bc8b87581de
Author: pierre <pierre@freepascal.org>
Date:   Tue Sep 17 21:06:18 2019 +0000

      * assemble.pas (TInternalAssembler.TreePass0): Avoid range/overflow check error.
        (TInternalAssembler.TreePass2): Check that objsymend and objsym are in same section
        and avoid range/overflow check error.
    
    git-svn-id: trunk@43028 -

M	compiler/assemble.pas

******************************************************************************
commit 0fa70759a20202281c390ba48b8b46d7eee37d14
Author: pierre <pierre@freepascal.org>
Date:   Mon Sep 16 14:50:43 2019 +0000

       * cutils.pas (size_2_align): Move to..
         globals.pas (size_2_align): ...here.
         Change parameter type to asizeuint to avoid overflows.
         (var_align_size, const_align_size): Also change parameter type to asizeuint.
         i386/cpupara.pas, i8086/cpupara.pas, x86_64/cpupara.pas: Add globals
         to implementation uses clause because of size_2_align move.
    
    git-svn-id: trunk@43022 -

M	compiler/cutils.pas
M	compiler/globals.pas
M	compiler/i386/cpupara.pas
M	compiler/i8086/cpupara.pas
M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 9678542ba611d2c0a511eeaa844d760879903910
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 15 20:43:12 2019 +0000

      + add "thunk" attribute for stubs/thunks and emit it for LLVM
       - also removed wrong "noreturn" attribute for interface thunks generated
         for high level code generator targets
    
    git-svn-id: trunk@43018 -

M	compiler/llvm/agllvm.pas
M	compiler/ncgvmt.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit ff2d71869966b8f39c8a0772e108b766283ec936
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 15 20:43:09 2019 +0000

      * fixed occasional rounding error with currency constants on the LLVM targets
        (fixes test/tcustomattr13.pp)
    
    git-svn-id: trunk@43017 -

M	compiler/llvm/nllvmcon.pas

******************************************************************************
commit 13902c1c7abebeec9688d3b554554ea36775535b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 15 17:26:21 2019 +0000

      * fixed compilation for __ARM_EABI_UNWINDER__ with -dexcdebug
    
    git-svn-id: trunk@43015 -

M	rtl/inc/psabieh.inc

******************************************************************************
commit bd35c02257c37ef18d28df181583205ce126fa69
Author: florian <florian@freepascal.org>
Date:   Sun Sep 15 17:17:30 2019 +0000

    * cosmetics: indention
    
    git-svn-id: trunk@43010 -

M	rtl/linux/i386/si_prc.inc

******************************************************************************
commit 9e7cf37cd6aa8d01ed7ba2c3765877631505ccd4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 15 16:18:14 2019 +0000

      * changed resulttype and firstpass processing from recursion into loop, based
        on patch/idea by J. Gareth Moreton (as part of his patch in #35857)
    
    git-svn-id: trunk@43004 -

M	compiler/pass_1.pas

******************************************************************************
commit 617cc6984ba080be830cad11f3f18bd0e717532d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 14 17:30:53 2019 +0000

      * call DoUnhandledException instead of RunError(217) when the the psabi eh
        unwinder returns an error (this is usually because there is no outer
        exception catching frame anymore -> unhandled exception) (based on patch by
        Cyrax, mantis #35751)
    
    git-svn-id: trunk@42999 -

M	rtl/inc/psabieh.inc

******************************************************************************
commit d14fd51d0b2f47c2059215a388a512a5c7d6b37f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 14 17:22:23 2019 +0000

      * fix potential crash with copied goto nodes on nestedparentfp platforms
       o as described in the comment for the tgotonode.labsym field, it will
         be null for copied gotonodes
    
    git-svn-id: trunk@42997 -

M	compiler/ncgnstfl.pas

******************************************************************************
commit 9b70c7623dd5abe9501d427e31f68c2970fa335c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 14 07:30:38 2019 +0000

      * initialise local variable to prevent random failures
    
    git-svn-id: trunk@42992 -

M	tests/tbs/tb0068.pp

******************************************************************************
commit ef6dde6de305cff538f8cdd0bc4dca13c5574f4f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Sep 13 19:06:40 2019 +0000

      * fixed loading the address of a copied labelnode in a loadnode
        (mantis #35877)
    
    git-svn-id: trunk@42987 -

M	.gitattributes
M	compiler/nld.pas
A	tests/test/units/rtl-generics/tw35877.pp

******************************************************************************
commit e3e23df7e208a0c72832b3528ed99446410e8dce
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Sep 13 19:06:34 2019 +0000

      * document how tgotonode/tlabelnode copying works
    
    git-svn-id: trunk@42986 -

M	compiler/nflw.pas

******************************************************************************
commit fa2e751f9f0787cc827c7cead21f3b36f12d9b3f
Author: florian <florian@freepascal.org>
Date:   Tue Sep 10 18:46:56 2019 +0000

    + AArch64: implementation of taarch64casenode.genlinearlist
    
    git-svn-id: trunk@42973 -

M	compiler/aarch64/ncpuset.pas

******************************************************************************
commit 58eef0a5aac53db1d7d5d7bed2515a535522e6f0
Author: florian <florian@freepascal.org>
Date:   Mon Sep 9 20:59:55 2019 +0000

    + AAarch64: TCpuAsmOptimizer.OptPass1Shift makes use of RemoveSuperfluousMove
    
    git-svn-id: trunk@42971 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit cdafe680c2353d46fd1f00549e158a4c5f2fa8b0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Sep 9 18:33:37 2019 +0000

      * different definitions for the same Objective-C class (can happen with
        external class declarations) need a type conversion in LLVM (because
        they're represented by different LLVM types)
    
    git-svn-id: trunk@42970 -

M	compiler/llvm/nllvmcnv.pas

******************************************************************************
commit dcf4e4cb2c04adbd4bb299b389913c84ed56d0fd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Sep 9 18:33:33 2019 +0000

      * support taking the address of labels defined in assembler blocks in the
        LLVM code genrator (for the rtti unit's thunk hacking)
    
    git-svn-id: trunk@42969 -

M	compiler/aasmbase.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/rautils.pas

******************************************************************************
commit aea0f3e667034d0aa878888bc0ff3d870a25fd2c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Sep 9 07:47:34 2019 +0000

    m68k: build fix (premature commits are the root of all evil too)
    
    git-svn-id: trunk@42966 -

M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit d25820b83050c192461c02da3803cb16a066d2e1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 8 22:43:34 2019 +0000

    m68k: added CPUM68K_HAS_BYTEWORDMATH and CPUM68K_HAS_INDEXWORD capabilities
    
    git-svn-id: trunk@42964 -

M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit ce9e1a3419a525d024fc4f9ad5af6c261cd44f7b
Author: florian <florian@freepascal.org>
Date:   Sun Sep 8 20:53:43 2019 +0000

    + AArch64: FoldShiftProcess fixed
    
    git-svn-id: trunk@42963 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit c3c3e99c6426da68c901d4a2314133b6e32d7df1
Author: florian <florian@freepascal.org>
Date:   Sun Sep 8 20:53:43 2019 +0000

    + AArch64: implemented TCpuAsmOptimizer.OptPass1Data
    
    git-svn-id: trunk@42962 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit cc49d256ea2bd7324b054a63a5f4051dce2ed135
Author: florian <florian@freepascal.org>
Date:   Sun Sep 8 20:53:41 2019 +0000

    + AArch64: CMPB.E/NE2CBNZ/CBZ optimization
    
    git-svn-id: trunk@42960 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 353fc13257104a006558df876a8a2eaf61424ab0
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 8 13:55:19 2019 +0000

    m68k: cleanup of the ancient mess from cgsize2subreg
    
    git-svn-id: trunk@42949 -

M	compiler/m68k/cpubase.pas

******************************************************************************
commit fa1203029f8885b25e9324e3c811d6e9b9f1058f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 8 13:37:22 2019 +0000

    m68k: use cpu_capabilities when deciding to inject scaling into a ref. also allow scaling in more cases.
    
    git-svn-id: trunk@42947 -

M	compiler/m68k/n68kmem.pas

******************************************************************************
commit 50fe8f70f5095a318683cfd9435c5a8d56ed95b5
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 8 13:34:39 2019 +0000

    m68k: make sure we're not trying to allocate a subregister for float paras when R_SUBWHOLE <> R_SUBNONE
    
    git-svn-id: trunk@42946 -

M	compiler/m68k/cpupara.pas

******************************************************************************
commit 16fc8c8d9a05fc4f94c0e489892f0e82ad530e76
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 8 09:21:17 2019 +0000

    m68k: added some handling for the explicit precision FPU instructions in the spilling and optimizer. fixed a_fsabs and a_fdabs names
    
    git-svn-id: trunk@42943 -

M	compiler/m68k/aasmcpu.pas
M	compiler/m68k/aoptcpu.pas
M	compiler/m68k/cpubase.pas

******************************************************************************
commit 5d9771d141a145cf168ad7570c99226c3611ad9f
Author: pierre <pierre@freepascal.org>
Date:   Sat Sep 7 21:14:12 2019 +0000

     Suppress range check/invalid typecast errors when compiling with -CriotR option
    
    git-svn-id: trunk@42942 -

M	compiler/symdef.pas

******************************************************************************
commit fd1d2271750c608100173ad89aa88cb9517cc211
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 6 07:56:06 2019 +0000

    m68k: more refactoring for fpu_capabilities instead of hardwired fpu types. 68040 and 68060 fpu types should now work
    
    git-svn-id: trunk@42929 -

M	compiler/m68k/n68kadd.pas

******************************************************************************
commit db2875cebaf152bf1dc77e3517039a77743b5b6c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 6 07:25:45 2019 +0000

    m68k: added the remaining instructions with explicit rounding precision. fixed fsflmul to be fsglmul (this is also typo in the original 68k PRM)
    
    git-svn-id: trunk@42928 -

M	compiler/m68k/cpubase.pas
M	compiler/m68k/itcpugas.pas

******************************************************************************
commit 2a87b885b1c4d20f94f85a4467daae794188b473
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 5 21:51:36 2019 +0000

    m68k: added the most important FPU instructions with explicit rounding precision (eg. FSADD/FDADD)
    
    git-svn-id: trunk@42927 -

M	compiler/m68k/cpubase.pas
M	compiler/m68k/itcpugas.pas

******************************************************************************
commit 5eee29e5d1fd7b11f97871235f722b8d3aee391a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 5 21:49:27 2019 +0000

    m68k: refactor some code to not fail when the tasmop set will be bigger than 256 elements
    
    git-svn-id: trunk@42926 -

M	compiler/m68k/ag68kgas.pas
M	compiler/m68k/cpubase.pas
M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit de095c4631c4ab452e02f0efe665b4d5ce1adfb8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 5 21:43:51 2019 +0000

    m68k: refactoring to use fpu_capabilities at more places instead of hardwiring certain fpu types
    
    git-svn-id: trunk@42925 -

M	compiler/m68k/cgcpu.pas
M	compiler/m68k/n68kinl.pas

******************************************************************************
commit 0c6f7321bfec374bf9542a1e664911fff8e893d7
Author: florian <florian@freepascal.org>
Date:   Thu Sep 5 20:15:56 2019 +0000

    + AArch64: FoldShiftProcess optimization
    
    git-svn-id: trunk@42924 -

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/aoptcpu.pas
M	compiler/aarch64/cpubase.pas
M	compiler/aarch64/racpugas.pas

******************************************************************************
commit 36286441b245ba19b1deb984879e173fc7de8c33
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 5 19:32:57 2019 +0000

    m68k: try to optimize realconst operands into B/W/L sized integer operands. these are shorter to encode - which almost always means faster on m68k
    
    git-svn-id: trunk@42923 -

M	compiler/m68k/aoptcpu.pas

******************************************************************************
commit a019536cd5630612bb81e87cf98d665456076d7c
Author: florian <florian@freepascal.org>
Date:   Wed Sep 4 20:45:24 2019 +0000

    * avoid that -0.0 is handled by the eor optimization
    
    git-svn-id: trunk@42921 -

M	compiler/aarch64/ncpucon.pas

******************************************************************************
commit ed688aceee660abed27f84b18fa64e5d4af56fd9
Author: florian <florian@freepascal.org>
Date:   Wed Sep 4 20:45:23 2019 +0000

    * remove packed from tdynarray, it is not needed and especially 64 bit CPUs which require proper aligment, suffer from it
    
    git-svn-id: trunk@42920 -

M	rtl/inc/dynarr.inc

******************************************************************************
commit 8ffb72ddd0ff843e830641aed26fd6c6bdc126c2
Author: florian <florian@freepascal.org>
Date:   Wed Sep 4 16:36:54 2019 +0000

    * another missing part of r42916 ...
    
    git-svn-id: trunk@42919 -

M	.gitattributes
A	compiler/aarch64/ncpucon.pas

******************************************************************************
commit 69786ffe73a1247e34ceaceadde679a03e0e0d51
Author: florian <florian@freepascal.org>
Date:   Tue Sep 3 21:07:33 2019 +0000

    somehow committing went wrong, second part of last commit:
    + AArch64: support for vX.8b/vX.16b register names
    + support for more than 256 registers in the register dat files
    - removed totherregisterset
    + AArch64: use vmov to load immediates if possible
    + AArch64: use eor to clear mm registers
    
    git-svn-id: trunk@42917 -

M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc
M	compiler/aarch64/a64reg.dat
M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cpubase.pas
M	compiler/aarch64/cpunode.pas
M	compiler/aarch64/ra64con.inc
M	compiler/aarch64/ra64dwa.inc
M	compiler/aarch64/ra64nor.inc
M	compiler/aarch64/ra64num.inc
M	compiler/aarch64/ra64rni.inc
M	compiler/aarch64/ra64sri.inc
M	compiler/aarch64/ra64sta.inc
M	compiler/aarch64/ra64std.inc
M	compiler/aarch64/ra64sup.inc
M	compiler/arm/cpubase.pas
M	compiler/avr/cpubase.pas
M	compiler/cgbase.pas
M	compiler/jvm/cpubase.pas
M	compiler/m68k/cpubase.pas
M	compiler/mips/cpubase.pas
M	compiler/powerpc/cpubase.pas
M	compiler/powerpc64/cpubase.pas
M	compiler/rgbase.pas
M	compiler/riscv32/cpubase.pas
M	compiler/riscv64/cpubase.pas
M	compiler/sparcgen/cpubase.pas
M	compiler/utils/mka64reg.pp
M	compiler/x86/cpubase.pas

******************************************************************************
commit a5a87fa84c08342e41d177168c616519ff01430a
Author: florian <florian@freepascal.org>
Date:   Tue Sep 3 20:59:13 2019 +0000

    + AArch64: support for vX.8b/vX.16b register names
    + support for more than 256 registers in the register dat files
    - removed totherregisterset
    + AArch64: use vmov to load immediates if possible
    + AArch64: use eor to clear mm registers
    + small command line tool for quick creating of vfp register list in a64reg.dat
    
    git-svn-id: trunk@42916 -

M	.gitattributes
A	compiler/utils/gena64vfp.pp

******************************************************************************
commit 9c00a8b616c42979f807b6aa818fd50b4e724ae9
Author: florian <florian@freepascal.org>
Date:   Sat Aug 31 19:37:17 2019 +0000

    + FMA support for aaarch64
    
    git-svn-id: trunk@42885 -

M	.gitattributes
M	compiler/aarch64/ncpuadd.pas
M	compiler/aarch64/ncpuinl.pas
A	tests/test/tfma1a64.pp

******************************************************************************
commit 0b2a53f4b04f5c1ba03bab84dcafd217f0234d88
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 28 11:54:48 2019 +0000

     TGDBMI_TupleOrListValue: exdend to parse a Tuple or List
    
    git-svn-id: trunk@42863 -

M	packages/ide/gdbmiwrap.pas

******************************************************************************
commit 03a1fef0cffdecc6913b585e74f367f69318a76d
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 28 11:53:04 2019 +0000

     Cope in TGDBInterface.WaitForProgramStop with absent frame
    
    git-svn-id: trunk@42862 -

M	packages/ide/gdbmiint.pas

******************************************************************************
commit c0212353d9766674574534c5a4daf95056d9aa16
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 26 20:18:57 2019 +0000

    Remove useless code (P.OSes was set again below)
    
    git-svn-id: trunk@42841 -

M	utils/fpdoc/fpmake.pp

******************************************************************************
commit fd20dc1086b02fe2dab270a5fe77afb548d4bbba
Author: florian <florian@freepascal.org>
Date:   Mon Aug 26 19:31:48 2019 +0000

    * support unique copies of currencies which are handles by torddef, resolves #36013
    
    git-svn-id: trunk@42837 -

M	.gitattributes
M	compiler/defcmp.pas
A	tests/webtbs/tw36013.pp

******************************************************************************
commit d29f44e1c730ca21c4a283925ec1241a096bf9c4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Aug 25 12:12:15 2019 +0000

    m68k: rework of the inline nodes to use fpu_capabilities. added fast path for round/trunc (enabled for fastmath only)
    
    git-svn-id: trunk@42814 -

M	compiler/m68k/n68kcnv.pas
M	compiler/m68k/n68kinl.pas

******************************************************************************
commit 7e1607e095b2c271a636993186e26a5d32fbf06f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 24 23:08:36 2019 +0000

    * correct alignment for the property table
    
    git-svn-id: trunk@42808 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 2dc771b7baba950cc451ff4c1c4cdae9c770cd23
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 24 23:08:33 2019 +0000

    * TClassData also needs alignment dummies
    
    git-svn-id: trunk@42807 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 91ba1214d262265c80898e16748a68fad3875694
Author: michael <michael@freepascal.org>
Date:   Sat Aug 24 10:46:51 2019 +0000

    * Allow context when sorting lists (patch from Ondrej Pokorny, bug ID #0035962)
    
    git-svn-id: trunk@42798 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/lists.inc

******************************************************************************
commit 00a418f589341d6ed9f3ba4ee80f6e6d552aa541
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 23 21:57:17 2019 +0000

    * also correctly align the pointer for the record elements inside FPC_COPY
    
    git-svn-id: trunk@42781 -

M	rtl/inc/rtti.inc

******************************************************************************
commit 5e4c51056338e42ff6877b09cbbe990c27a2527e
Author: pierre <pierre@freepascal.org>
Date:   Fri Aug 23 15:55:54 2019 +0000

     Ensure that fpmake_proc.inc and fpmake_add.inc source files are integrated into source zips for packages and utils
    
    git-svn-id: trunk@42779 -

M	packages/fpmake.pp
M	utils/fpmake.pp

******************************************************************************
commit e7bf200fcb59edad3661047c902635a476fd6fb6
Author: pierre <pierre@freepascal.org>
Date:   Fri Aug 23 15:13:10 2019 +0000

     Disable explicit list of supported OSes
    
    git-svn-id: trunk@42778 -

M	utils/fpcres/fpmake.pp

******************************************************************************
commit deaeac82d0841366ed1ab02ae80e96222c3ee238
Author: pierre <pierre@freepascal.org>
Date:   Fri Aug 23 15:11:36 2019 +0000

     Add package desciption and remove limitation to darwin and iphonesim systems only
    
    git-svn-id: trunk@42777 -

M	utils/fpcreslipo/fpmake.pp

******************************************************************************
commit 33f6adfab6658afd26b1738bfc9b7b69bb9890a7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 23 14:59:13 2019 +0000

    * fix for Mantis #35982: free created attributes once the type is freed
    + added test
    
    git-svn-id: trunk@42773 -

M	.gitattributes
M	packages/rtl-objpas/src/inc/rtti.pp
A	tests/webtbs/tw35982.pp

******************************************************************************
commit 707e05d131eae05c11007aa6cd58a64baf73e938
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 22 20:45:48 2019 +0000

    * check for CPUM68k instead of M68K; the latter should only be defined when building the compiler, so I wonder how that ever worked...
    
    git-svn-id: trunk@42765 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 0c464605483132ac901f4004aa69a8d33555b671
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 22 20:45:45 2019 +0000

    * m68k has slightly different alignment requirements, so that aligntoptr might result in incorrect addresses for a record's element entries, thus we introduce a separate AlignTypeData function that handles this correctly
    
    git-svn-id: trunk@42764 -

M	rtl/inc/rtti.inc
M	rtl/inc/system.inc

******************************************************************************
commit 3662afe93b6a35f38d1c7fc50945c14fded32d59
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Aug 22 15:38:08 2019 +0000

    m68k: added more cpu capabilities. changed the CG at a few places to actually use them
    
    git-svn-id: trunk@42763 -

M	compiler/m68k/cgcpu.pas
M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit 162a62d4ce596c967180bd87877cb3393b83c309
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 21 08:58:09 2019 +0000

     Update after commit 42749
    
    git-svn-id: trunk@42753 -

M	utils/fpcm/revision.inc

******************************************************************************
commit e45ad64d41bd3f2e8505042ea588a4e6fdb2bae6
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 21 07:23:51 2019 +0000

       * Revert changes to tarray15.pp
       * Modify treadonlydata.pp to not use dynamic array.
       + Add test treadonlydata2.pp that should fail at compile time.
    
    git-svn-id: trunk@42752 -

M	.gitattributes
M	tests/test/tarray15.pp
M	tests/test/treadonlydata.pp
A	tests/test/treadonlydata2.pp

******************************************************************************
commit 9b0893e6aee0028ad29f5e741d676736aaedf336
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 20 16:07:59 2019 +0000

    Add generated Makefile which was not on svn yet
    
    git-svn-id: trunk@42751 -

M	.gitattributes
A	packages/libndsfpc/examples/graphics/grit/Makefile

******************************************************************************
commit 5ed7bd35df9ff16f85ee06e12f2ebc6694c00fc1
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 20 15:58:10 2019 +0000

     Update all trunk/fpcsrc Makefile's after commit 42749
    
    git-svn-id: trunk@42750 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit a652f9e3041b2e4de8ce2f6d62974bdeb124a3d0
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 20 15:40:49 2019 +0000

       Adapt fpc_clean and fpc_cleanall targets
       to handle link.res ans script.res vairants with ProcessID.
       Also remove *$(FULL_TARGET).fpm file for fpc_clean
       and *.fpm for fpc_cleanall target.
    
    git-svn-id: trunk@42749 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit e8ae49012860a2031a52ce2d8ea071c2939f8dc9
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 20 14:25:32 2019 +0000

     sparc32 bit needs SA_SIGINFO
    
    git-svn-id: trunk@42748 -

M	rtl/linux/ossysc.inc

******************************************************************************
commit c406d0121eef5cc8546cca9eec41f680f5ba3f5a
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 20 14:15:06 2019 +0000

     Move test for read-only data to new separate test source treadonlydata.pp
    
    git-svn-id: trunk@42747 -

M	.gitattributes
M	tests/test/tarray15.pp
A	tests/test/treadonlydata.pp

******************************************************************************
commit 94e22f1262e2a692cf1a39f1e6c47af351ed436d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 20 13:49:43 2019 +0000

    + added a getter for the NewExeSegmentFlags property, that returns the
      nesfHasRelocationData flag according to whether the Relocations list is
      non-empty
    
    git-svn-id: trunk@42746 -

M	compiler/ogomf.pas

******************************************************************************
commit e7d590724ac8b26537fa90051f065a86d86bb443
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 20 11:42:07 2019 +0000

    + added and implemented the TNewExeRelocationList class
    
    git-svn-id: trunk@42744 -

M	compiler/ogomf.pas

******************************************************************************
commit 6f2b027e511472be397dde845f1703f8f44afe14
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 19 20:23:31 2019 +0000

     Avoid range check error for functions returning THandle type by using unusedhandle system constant
    
    git-svn-id: trunk@42742 -

M	rtl/msdos/sysutils.pp

******************************************************************************
commit 8fd0a27875abb2636a1388876f590a3a56d83b56
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 19 20:22:22 2019 +0000

     Avoid range check error for avr/i8086 CPU by changing local variable dist type to asizeuint
    
    git-svn-id: trunk@42741 -

M	compiler/ncgset.pas

******************************************************************************
commit 4936358beebea71d5f20ee4673549db61dc60b5d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Aug 19 15:07:22 2019 +0000

    m68k: fpu capabilities support
    
    git-svn-id: trunk@42739 -

M	compiler/fpcdefs.inc
M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit 27a4a3d44688074a431e652ce9cd97410a1156e2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 18 15:55:11 2019 +0000

      * added error checking to the test
    
    git-svn-id: trunk@42730 -

M	tests/test/theap2.pp

******************************************************************************
commit 693e72ade31fda191fac405b81dd5f28afc6e47a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 18 15:55:07 2019 +0000

      * Darwin now uses Mach VM calls for memory allocation instead of mmap/munmap
      + added sysrealloc support for Darwin (Darwin does not have mremap)
    
    git-svn-id: trunk@42729 -

M	.gitattributes
M	rtl/bsd/sysos.inc
M	rtl/bsd/system.pp
A	rtl/darwin/sysmach.inc
M	rtl/unix/sysheap.inc

******************************************************************************
commit 14a7429e19059bad9c62c2d2e0fabb544db17e56
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 18 15:55:03 2019 +0000

      * factored out inlinenode check whether it may have a side effect
       o also added register assert as having a side-effect (if asserts are
         enabled)
    
    git-svn-id: trunk@42728 -

M	compiler/ninl.pas
M	compiler/nutils.pas

******************************************************************************
commit 5d1d9858d1fc68fddd69f5c7d940f84ff79282b4
Author: florian <florian@freepascal.org>
Date:   Sun Aug 18 12:09:03 2019 +0000

    + VMovVMov2VMov optimization
    
    git-svn-id: trunk@42727 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 3d5ab366e1d6d2df5ec2c6edf3a870df2a0213f0
Author: florian <florian@freepascal.org>
Date:   Sun Aug 18 11:28:39 2019 +0000

    * fix RemoveSuperfluousVMov if the VMov destination reg is an integer register, resolved #35978
    
    git-svn-id: trunk@42726 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 4f38f12815c7cd5b02c1dc987dccc248dc442450
Merge: 9230ae5aab a5e158f8d6
Author: florian <florian@freepascal.org>
Date:   Sun Aug 18 11:18:41 2019 +0000

    -- Zusammenführen von r42706 bis r42724 in ».«:
    U    tests/utils/avx/avxopcodes.pas
    U    compiler/x86/aasmcpu.pas
    U    compiler/x86/rax86.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r42706 bis r42724 in ».«:
     U   .
    
    git-svn-id: trunk@42725 -


******************************************************************************
commit 9230ae5aab60d4e085da647271f2e77779862251
Author: florian <florian@freepascal.org>
Date:   Sat Aug 17 16:14:22 2019 +0000

    o overhaul-base.patch by J. Gareth Moreton, base for further patches
      + some inline directives added
      + some functions exported from units
    
    git-svn-id: trunk@42722 -

M	compiler/aopt.pas
M	compiler/aoptbase.pas
M	compiler/aoptobj.pas
M	compiler/aoptutils.pas

******************************************************************************
commit f0213a2c46a9fd1ea047da6c8f54b78823ef9c71
Author: florian <florian@freepascal.org>
Date:   Fri Aug 16 20:47:37 2019 +0000

    + make use of the mremap syscall of linux to re-allocate large memory blocks faster
    
    git-svn-id: trunk@42713 -

M	.gitattributes
M	rtl/inc/heap.inc
M	rtl/linux/ossysc.inc
M	rtl/unix/sysheap.inc
A	tests/test/theap2.pp

******************************************************************************
commit 970ce7f24325e13a153816d8612fec071e1e674b
Author: pierre <pierre@freepascal.org>
Date:   Fri Aug 16 16:31:08 2019 +0000

     Avoid error with -CR option in tobjectdef.vmt_def method
    
    git-svn-id: trunk@42711 -

M	compiler/symdef.pas

******************************************************************************
commit ba203c0564691f1637798193368a292f14b9765a
Author: florian <florian@freepascal.org>
Date:   Fri Aug 16 11:35:03 2019 +0000

    + x86 makes use of fpu_capabilities
    * moved CPUX86_HAS_AVXUNIT to FPUX86_HAS_AVXUNIT
    + mm register allocator can be initialized with 32 mm registers of AVX512
    
    git-svn-id: trunk@42707 -

M	compiler/fpcdefs.inc
M	compiler/i386/cpuinfo.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/cpubase.pas
M	compiler/x86_64/cgcpu.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 0e79bd2c70f21ad1df82353e163a6014c0dcdfe6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 15 14:33:03 2019 +0000

    + add a test that ensures that the introduction of fullscale array constructors didn't mess with array constructors passed to an open array of Variant
    
    git-svn-id: trunk@42701 -

M	.gitattributes
A	tests/test/tarray21.pp

******************************************************************************
commit 663040a666d46d3c47d40c70dd2a36ded405e854
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 15 14:32:57 2019 +0000

    * ensure that aprocdef is initialized to Nil to catch problems with compare_defs_ext() easier
    
    git-svn-id: trunk@42699 -

M	compiler/ncnv.pas

******************************************************************************
commit 10af6fe2fb5cc09e2573c81f3e51eb4ecb01aaf7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 15 13:29:19 2019 +0000

    * fix for Mantis #35965: correct alignment also for the class info used to retrieve the unit name
    + added test
    
    git-svn-id: trunk@42697 -

M	.gitattributes
M	rtl/inc/objpas.inc
A	tests/webtbs/tw35965.pp

******************************************************************************
commit 03cd0cce594750e9b0b1e032fe5f65032b654798
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Aug 15 10:32:36 2019 +0000

      * change result of pi function from ansistring into dynamic array, so we
        generate unique calls every time we write to it
      * replace calls to high(ansistring/dynarray) in the inner body of the pi
        function with a variable that gets assigned once
      -> the FPC version is now just as fast as the C version
    
    git-svn-id: trunk@42695 -

M	tests/bench/pi.pp

******************************************************************************
commit 45847da69310f4b42a005119be640012399c961b
Author: florian <florian@freepascal.org>
Date:   Thu Aug 15 09:37:50 2019 +0000

    * fix building for targets with no vfp support
    
    git-svn-id: trunk@42693 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit f82cc96cb939da4edee6680f28b0331ddc490b20
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 14 23:00:35 2019 +0000

     Check that inserttypeconv really change node type to ttypeconvnode before setting convtype field (should fix taddbool.pp bytebool failure on powerpc)
    
    git-svn-id: trunk@42692 -

M	compiler/nadd.pas

******************************************************************************
commit 81fba52adbb01bd7265cc598200456d2367f5167
Author: nickysn <nickysn@gmail.com>
Date:   Wed Aug 14 15:10:22 2019 +0000

    + added constant NewExeRelocationRecordSize
    
    git-svn-id: trunk@42691 -

M	compiler/ogomf.pas

******************************************************************************
commit 71df2911da2124b7bd69428bda51dd6964e51c5d
Author: nickysn <nickysn@gmail.com>
Date:   Wed Aug 14 02:19:26 2019 +0000

    * fixed compilation with -Sew
    
    git-svn-id: trunk@42687 -

M	compiler/ogomf.pas

******************************************************************************
commit 0224d632f1fb094078200318febb294e828ceeec
Author: nickysn <nickysn@gmail.com>
Date:   Wed Aug 14 02:14:02 2019 +0000

    + added and implemented method TNewExeRelocation.EncodeTo
    
    git-svn-id: trunk@42686 -

M	compiler/ogomf.pas

******************************************************************************
commit 3a1ecd4f167c06645577d18c1ffde5374b8ff445
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 22:12:53 2019 +0000

    * fix tarminlinenode.first_sqrt_real
    
    git-svn-id: trunk@42685 -

M	compiler/arm/narminl.pas

******************************************************************************
commit 0a0397c9f5c30e67ab1a94e4db4b5cde8288b92b
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 22:12:52 2019 +0000

    * forgotten part of previous commit: fix BccB2Cond optimization on arm
    
    git-svn-id: trunk@42684 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit ba0768b6a6156b8c57274978ec072111b419ed6d
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 22:12:52 2019 +0000

    * building with -Cfvfpv2 hopefully fixed
    
    git-svn-id: trunk@42683 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 867df5362c21a89e6aef76d32f6f6a717d80c9e3
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 22:12:51 2019 +0000

    + basic Neon support in the assembler writer
    + make use of VEOR if possible to clear VFP registers
    
    git-svn-id: trunk@42682 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/armatt.inc
M	compiler/arm/armatts.inc
M	compiler/arm/armins.dat
M	compiler/arm/armnop.inc
M	compiler/arm/armop.inc
M	compiler/arm/armtab.inc
M	compiler/arm/cgcpu.pas

******************************************************************************
commit c418d63c16021b2bcc97e6c5e621acb6945445c6
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 22:12:49 2019 +0000

    + create defines with FPU capabilites
    + make use of FPU capability defines in the rtl
    
    git-svn-id: trunk@42681 -

M	compiler/arm/cpuinfo.pas
M	compiler/fpcdefs.inc
M	compiler/options.pas
M	rtl/arm/arm.inc
M	rtl/arm/math.inc
M	rtl/arm/mathu.inc

******************************************************************************
commit 85edf1c1ebd0fcd58ec25d8f083ab5345d531bd0
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 18:41:15 2019 +0000

    * reworked arm vfp capability handling to use fpu_capabilites
    
    git-svn-id: trunk@42679 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/cpupi.pas
M	compiler/arm/narmadd.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/narminl.pas
M	compiler/arm/narmmat.pas
M	compiler/options.pas
M	compiler/symdef.pas

******************************************************************************
commit 5d8078f6662f7dd4d24cc5c20696a5be1cbacab9
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 13 14:59:55 2019 +0000

    + added class, representing a NewExe relocation entry
    
    git-svn-id: trunk@42677 -

M	compiler/ogomf.pas

******************************************************************************
commit fd70fcace6f414013a726b5f45df78e91459befc
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 10:07:30 2019 +0000

    * fix BccB2Cond optimization on arm
    
    git-svn-id: trunk@42676 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 46b4f911753672e5044af4db7468f3ffa02d25db
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 09:45:13 2019 +0000

    * compilation on i386-linux fixed
    
    git-svn-id: trunk@42675 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 413beee9ae1bfed7219fdfd1249a123fab87aa71
Merge: 416c974d3f ad791e8e34
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 08:54:47 2019 +0000

    -- Zusammenführen von r42652 bis r42673 in ».«:
    U    compiler/x86/aasmcpu.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r42652 bis r42673 in ».«:
     U   .
    
    git-svn-id: trunk@42674 -

MM	compiler/x86/aasmcpu.pas

******************************************************************************
commit f23f3a4c5e194d651d180f28beb810848419f716
Author: florian <florian@freepascal.org>
Date:   Mon Aug 12 21:25:30 2019 +0000

      * enable TCpuAsmOptimizer.RemoveSuperfluousVMov for VLDR
      * fixed TCpuAsmOptimizer.RemoveSuperfluousVMov to be actually applied
    
    git-svn-id: trunk@42668 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 58bbbadc16877e99d24515f7e05920c47854eac7
Author: florian <florian@freepascal.org>
Date:   Mon Aug 12 20:30:18 2019 +0000

    * fix return registers for hfa's containing singles
    
    git-svn-id: trunk@42666 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 5a379cc256b6e89d1031584bf2d49b1ccbc82c1f
Author: florian <florian@freepascal.org>
Date:   Mon Aug 12 20:29:03 2019 +0000

    * fix detection of floating point constants for arm
    
    git-svn-id: trunk@42665 -

M	compiler/arm/cpubase.pas

******************************************************************************
commit 5edc520468a3b2594d7ddd6795a2d806f01d9ed6
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 12 16:04:07 2019 +0000

    + fill SizeInFile properly in the NewExe segment table
    
    git-svn-id: trunk@42662 -

M	compiler/ogomf.pas

******************************************************************************
commit 6398c42a3831550ff98de4f629f474bab796c086
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 12 15:47:08 2019 +0000

    + fill MinAllocSize in the NewExe segment table
    
    git-svn-id: trunk@42661 -

M	compiler/ogomf.pas

******************************************************************************
commit 31431d99ab5a655837445adf2fc2339d25a1ab98
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 12 14:24:01 2019 +0000

    * limit the heapsize to 65520 bytes on win16 (the $M directive in win16 only
      sets the size of the "local heap", which is limited to a single segment. The
      actual heap in the large memory model is the "global heap", which doesn't have
      a set limit, but grows with the memory allocated)
    
    git-svn-id: trunk@42660 -

M	compiler/scandir.pas

******************************************************************************
commit ae953214eea3c5b8dff0255eb02167bc7cbef58d
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 12 12:58:16 2019 +0000

    * fixed quoting of the "description" wlink option on Windows
    
    git-svn-id: trunk@42659 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 24e3d95fe018bc7f6b9604d008b471855c09023a
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 12 12:51:37 2019 +0000

    - don't create a heap segment for win16
    
    git-svn-id: trunk@42658 -

M	compiler/i8086/n8086util.pas
M	compiler/ogomf.pas

******************************************************************************
commit 8015bfb5a08f3dad271472b11da7cbf3b2f87515
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 12 12:17:00 2019 +0000

     Fix arm specific failure in tw12048
    
    git-svn-id: trunk@42657 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 5947143d8fd2a02ed2b0d164eb4ad5434c335f88
Author: florian <florian@freepascal.org>
Date:   Mon Aug 12 10:46:19 2019 +0000

      * intel asm reader: try to read avx512 extensions only if the instruction supports them
      * cleanup
    
    git-svn-id: trunk@42656 -

M	.gitattributes
M	compiler/scanner.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86int.pas
A	tests/webtbs/tw35953.pp

******************************************************************************
commit 4c9a0403f4c79d12055bd04f67d9f52cebce3a6c
Author: florian <florian@freepascal.org>
Date:   Sun Aug 11 19:35:34 2019 +0000

    * compilation on i386 fixed
    
    git-svn-id: trunk@42655 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit 7f8dc75604598da1d48340c5c46f471a5102e9f9
Merge: fc46b6c57c 70a2b0b260
Author: florian <florian@freepascal.org>
Date:   Sun Aug 11 17:29:30 2019 +0000

    -- Zusammenführen der Unterschiede zwischen Projektarchiv-URLs in ».«:
    U    compiler/i8086/r8086int.inc
    U    compiler/i8086/r8086nor.inc
    U    compiler/i8086/r8086rni.inc
    U    compiler/i8086/r8086std.inc
    U    compiler/i386/i386prop.inc
    U    compiler/i386/i386att.inc
    U    compiler/i386/i386atts.inc
    U    compiler/i386/i386int.inc
    U    compiler/i8086/i8086int.inc
    U    compiler/i8086/i8086op.inc
    U    compiler/i8086/r8086dwrf.inc
    U    compiler/i8086/r8086ari.inc
    U    compiler/i8086/r8086con.inc
    U    compiler/i8086/r8086nasm.inc
    U    compiler/i8086/r8086num.inc
    U    compiler/i8086/r8086stab.inc
    U    compiler/i386/i386nop.inc
    U    compiler/i386/i386op.inc
    U    compiler/i386/i386tab.inc
    U    compiler/i386/r386ot.inc
    U    compiler/i386/r386ari.inc
    U    compiler/i386/r386att.inc
    U    compiler/i386/r386con.inc
    U    compiler/i386/r386dwrf.inc
    U    compiler/i386/r386int.inc
    U    compiler/i386/r386iri.inc
    U    compiler/i386/r386nasm.inc
    U    compiler/i386/r386nor.inc
    U    compiler/i386/r386nri.inc
    U    compiler/i386/r386num.inc
    U    compiler/i386/r386rni.inc
    U    compiler/i386/r386sri.inc
    U    compiler/i386/r386stab.inc
    U    compiler/i386/r386std.inc
    U    compiler/i8086/i8086prop.inc
    U    compiler/i8086/i8086att.inc
    U    compiler/i8086/i8086atts.inc
    U    compiler/i8086/i8086nop.inc
    U    compiler/i8086/i8086tab.inc
    U    compiler/i8086/r8086ot.inc
    U    compiler/i8086/r8086att.inc
    U    compiler/i8086/r8086iri.inc
    U    compiler/i8086/r8086nri.inc
    U    compiler/i8086/r8086sri.inc
    U    compiler/x86/agx86int.pas
    U    compiler/x86/rax86int.pas
    U    compiler/x86/aasmcpu.pas
    U    compiler/x86/rax86.pas
    U    compiler/x86/x86ins.dat
    U    compiler/x86/agx86att.pas
    U    compiler/x86/cpubase.pas
     U   packages/rtl-objpas/src/inc/rtti.pp
     U   packages/rtl-objpas/tests/tests.rtti.pas
     U   rtl
    U    compiler/x86_64/x8664att.inc
    U    compiler/x86_64/x8664tab.inc
    U    compiler/x86_64/r8664con.inc
    U    compiler/x86_64/r8664nasm.inc
    U    compiler/x86_64/r8664sri.inc
    U    compiler/aasmtai.pas
    U    compiler/scanner.pas
    U    tests/utils/avx/readme.txt
    U    compiler/x86_64/x8664ats.inc
    U    compiler/x86_64/x8664op.inc
    U    compiler/x86_64/r8664att.inc
    U    compiler/x86_64/r8664iri.inc
    U    compiler/x86_64/r8664rni.inc
    U    compiler/pp.lpi
    U    compiler/msgtxt.inc
    U    compiler/ppcx64.lpi
    U    compiler/x86_64/x8664pro.inc
    U    compiler/x86_64/x8664nop.inc
    U    compiler/x86_64/r8664ari.inc
    U    compiler/x86_64/r8664int.inc
    U    compiler/x86_64/r8664num.inc
    U    compiler/x86_64/r8664std.inc
    U    compiler/msgidx.inc
    U    compiler/utils/mkx86ins.pp
    U    compiler/x86/x86reg.dat
    D    compiler/x86/cx86innr.inc
    U    compiler/x86_64/x8664int.inc
    U    compiler/x86_64/r8664ot.inc
    U    compiler/x86_64/r8664dwrf.inc
    U    compiler/x86_64/r8664nor.inc
    U    compiler/x86_64/r8664stab.inc
    U    compiler/msg/errore.msg
    U    compiler/utils/mkx86reg.pp
    U    tests/utils/avx/asmtestgenerator.pas
    U    tests/utils/avx/options.pas
    U    tests/utils/avx/avxtestgenerator.pp
    U    tests/test/units/character/tissurrogatepair2.pp
    U    tests/test/units/character/tissurrogatepair.pp
    U    tests/utils/avx/avxopcodes.pas
     U   .
    -- Aufzeichnung der Informationen für Zusammenführung zwischen Projektarchiv-URLs in ».«:
     U   .
     U   packages/rtl-objpas/src/inc/rtti.pp
     U   packages/rtl-objpas/tests/tests.rtti.pas
     U   rtl
    
    git-svn-id: trunk@42654 -

MM	compiler/x86/cpubase.pas
MM	compiler/x86/rax86.pas
MM	compiler/x86/rax86int.pas
MM	compiler/x86/x86reg.dat

******************************************************************************
commit fc46b6c57c2444fd5a87915e683ba725f1a10c9f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Aug 11 17:26:44 2019 +0000

    * apply patch by Blaise.ru to pass the record name for an internal record more efficiently
    
    git-svn-id: trunk@42653 -

M	compiler/symdef.pas

******************************************************************************
commit 955ebf2f098c47de6e3209fe55469965c79542f6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Aug 11 17:26:35 2019 +0000

    * applied patch by Blaise.ru to reduce code duplication in trecorddef.create_global_internal()
    
    git-svn-id: trunk@42652 -

M	compiler/symdef.pas

******************************************************************************
commit d69cf3a440201fe5ff83b55f8c3332236319d0e1
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 12:42:28 2019 +0000

    + pass the ParmCount parameter from the ExpDef OMF record to the NewExe entry
      point
    
    git-svn-id: trunk@42641 -

M	compiler/ogomf.pas

******************************************************************************
commit 141f2403d367ec874aea7f192e8b9e1d003b96a3
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 02:34:24 2019 +0000

    + added system_i8086_win16 to the supported targets of the i8086 omf internal
      assembler/object writer
    
    git-svn-id: trunk@42639 -

M	compiler/ogomf.pas

******************************************************************************
commit 817ec5e6f284e61546c133fb7000f780c3c7d7bb
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 02:11:25 2019 +0000

    + allow creating win16 dlls with the wlink external linker as well
    
    git-svn-id: trunk@42638 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit cc7e623802c1dd79578718708f0a54647263fda9
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 01:54:59 2019 +0000

    + enable the IsDll flag in the NewExe header when creating dlls with the
      internal linker. Also make a SINGLEDATA (instead of MULTIPLEDATA) executable
      and entry points in this case.
    
    git-svn-id: trunk@42637 -

M	compiler/ogomf.pas

******************************************************************************
commit 4cd8193c7975bb1a03ae2f9fe36d043462a5a38a
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 01:53:29 2019 +0000

    + enable the ISSHAREDLIBRARY option for the win16 internal linker when creating a dll
    
    git-svn-id: trunk@42636 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 2b767c4f8bdf972d3413db62b76de03b5ba59a7d
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:55:17 2019 +0000

    + also copy ResidentName in TOmfObjData.AddExportSymbol
    
    git-svn-id: trunk@42635 -

M	compiler/ogomf.pas

******************************************************************************
commit f40736438cf33894a6a7b408da788d889959f699
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:29:33 2019 +0000

    + add all exported by name symbols to the resident or the nonresident name table
    
    git-svn-id: trunk@42634 -

M	compiler/ogomf.pas

******************************************************************************
commit 238c9e576ced17809f6587d9114414adeaeb4329
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:18:06 2019 +0000

    + pass the description option to wlink to set the module description string when
      using the external linker on the win16 target
    
    git-svn-id: trunk@42633 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit b7a4965ac31cdd9584e980ce3082e8a63924e0a4
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:11:45 2019 +0000

    - suppress the warning that the $D directive is not supported on i8086-win16
    
    git-svn-id: trunk@42632 -

M	compiler/scandir.pas

******************************************************************************
commit 90a164bcdac5e814327c161d2ce7dcd9e4a3c725
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:11:12 2019 +0000

    + write the module description as the first entry to the nonresident names table
    
    git-svn-id: trunk@42631 -

M	compiler/ogomf.pas

******************************************************************************
commit 7bb6b525b1183a4155ebe3c51c1aefe84a2a5f78
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:03:51 2019 +0000

    + also write the nonresident name table
    
    git-svn-id: trunk@42630 -

M	compiler/ogomf.pas

******************************************************************************
commit d1d2f6b7017a3ece17383831dabf9835bee88900
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 23:57:00 2019 +0000

    * the resident table entry/table classes renamed "export table", because the
      same classes can be used both for the resident and nonresident tables (they
      share the same structure)
    
    git-svn-id: trunk@42629 -

M	compiler/ogomf.pas

******************************************************************************
commit 9f0f31a1e91daf920f45121f11e569328377011c
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 23:50:59 2019 +0000

    + write the entry table to the NewExe file
    
    git-svn-id: trunk@42628 -

M	compiler/ogomf.pas

******************************************************************************
commit 2d77a2c10478d1aa2d65520c5f0b4022e4280fcd
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 23:15:07 2019 +0000

    + add entry points to the entry table for all exported NewExe symbols
    
    git-svn-id: trunk@42627 -

M	compiler/ogomf.pas

******************************************************************************
commit 8f3aa926781ca9fa06f43c8394d53864a6498b0c
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 23:01:34 2019 +0000

    + added class TNewExeEntryPoint and methods/properties to TNewExeEntryTable to
      make it hold a list of entry points
    
    git-svn-id: trunk@42626 -

M	compiler/ogomf.pas

******************************************************************************
commit 3da4cf0792d73fae6a0dad36f2f58fe6f02a72e2
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 22:15:36 2019 +0000

    + assign ordinals to all exported symbols
    
    git-svn-id: trunk@42625 -

M	compiler/ogomf.pas

******************************************************************************
commit 99b1283e2ec3b51085bdec70f7d60f02bdd98d27
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 20:38:31 2019 +0000

    + implemented TOmfObjData.AddExportSymbol - the exported symbols are recorded in
      the newly introduced TOmfObjData.ExportedSymbolList
    
    git-svn-id: trunk@42622 -

M	compiler/ogomf.pas

******************************************************************************
commit 4b54cbea1e5de056d503cd1c195d1759c0b3c474
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 17:08:11 2019 +0000

    + parse ExpDef OMF records and delegate them to a new method
      TOmfObjData.AddExportSymbol (not implemented yet)
    
    git-svn-id: trunk@42621 -

M	compiler/ogomf.pas

******************************************************************************
commit 262cecf5285899bf64f3be1511692f34aeab7dc2
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 16:47:37 2019 +0000

    + added class for writing the NewExe entry table - not fully implemented yet
    
    git-svn-id: trunk@42620 -

M	compiler/ogomf.pas

******************************************************************************
commit bd168fc5520871b9b53601659a92f68568a31276
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 16:09:51 2019 +0000

    + fill the NewExe entry table offset
    
    git-svn-id: trunk@42619 -

M	compiler/ogomf.pas

******************************************************************************
commit 7e78fc1d7faec4d9263b3551e0c3efe55fe5553d
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 15:03:22 2019 +0000

    * strip the '.dll' extension from the library name when creating import
      libraries as well. This ensures that NewExe binaries, created by the external
      linker don't have the '.dll' extension in them.
    
    git-svn-id: trunk@42618 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 7038d18d5025accdbf95d3b6f8ddea4025542b06
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 14:51:35 2019 +0000

    * fixed wrong typecast in TNewExeImportedNameTable.GetSize
    
    git-svn-id: trunk@42617 -

M	compiler/ogomf.pas

******************************************************************************
commit 8dea445ffe45d8630f7835058cbf8283cd6e7e93
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 14:50:26 2019 +0000

    + fill the NewExe module reference table
    
    git-svn-id: trunk@42616 -

M	compiler/ogomf.pas

******************************************************************************
commit 1f2354752ccda1d531faef430b0094daf6c66869
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 14:27:11 2019 +0000

    * when reading ImpDef records, add '.dll' to the libname if it has no extension,
      in order to be consistent with externals, declared in pascal files. The '.dll'
      extension will be stripped later, when generating the NewExe file.
    
    git-svn-id: trunk@42615 -

M	compiler/ogomf.pas

******************************************************************************
commit dd9c76eeecbc3f607c7f9973e66732a6fd61f0b0
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 14:19:41 2019 +0000

    * strip the '.dll' extension from the library names before adding them to the
      NewExe imported name table
    
    git-svn-id: trunk@42614 -

M	compiler/ogomf.pas

******************************************************************************
commit deefeb1ca0cbd905cc9e677eca59c8e6c9f60022
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 13:49:36 2019 +0000

    + calculate the table offset of each string in the NewExe imported name table
    
    git-svn-id: trunk@42613 -

M	compiler/ogomf.pas

******************************************************************************
commit d24cfcb31c283c66bb67c2d57e6be8d6e1fba971
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 13:35:53 2019 +0000

    * small optimization in TNewExeOutput.FillImportedNameTable - only add the
      library name once, instead of trying to add it (which causes a look up) for
      every imported symbol
    
    git-svn-id: trunk@42612 -

M	compiler/ogomf.pas

******************************************************************************
commit d5a18f03a857c623cadf41ba2e26bcb32d9f93b1
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 13:32:57 2019 +0000

    + fill and write the NewExe imported name table
    
    git-svn-id: trunk@42611 -

M	compiler/ogomf.pas

******************************************************************************
commit 1736950d58bbc94bcdba43bf1e79848c1bce1c24
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 8 21:37:14 2019 +0000

    + added property that determines the resident name table size in bytes and use
      it to fill the offset to the start of the module reference table in NewExe
      files
    
    git-svn-id: trunk@42607 -

M	compiler/ogomf.pas

******************************************************************************
commit 251a93456ec25acccaca2cbbaee7a09ff608163b
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 8 21:28:58 2019 +0000

    + added constructor to TNewExeResidentNameTableEntry that allows you to
      initialize this entry's ordinal number
    
    git-svn-id: trunk@42606 -

M	compiler/ogomf.pas

******************************************************************************
commit 35a4f96100870dd1de78141caf90c03477ad8758
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 8 15:28:11 2019 +0000

    + create the resident name table in the NewExe file writer
    
    git-svn-id: trunk@42605 -

M	compiler/ogomf.pas

******************************************************************************
commit 3b08c6b0ea1c7d2a960bde6e004ee8f0d59b786a
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 8 14:38:25 2019 +0000

    + write the resource table (empty for now) to NewExe files
    
    git-svn-id: trunk@42604 -

M	compiler/ogomf.pas

******************************************************************************
commit 008c1436d808d779dc129b38155ca2c5d7d68f23
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 8 14:10:21 2019 +0000

     Fix bug report 35937 by simple assembly code change and add test
    
    git-svn-id: trunk@42603 -

M	.gitattributes
M	rtl/powerpc/powerpc.inc
M	rtl/powerpc64/powerpc64.inc
A	tests/webtbs/tw35937.pp

******************************************************************************
commit 70b2904c48d6075c895a9d901481474cb2712346
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 8 06:26:40 2019 +0000

     * Issue file change before line and column change in token writes to allow for better display in ppudump utility
    
    git-svn-id: trunk@42601 -

M	compiler/scanner.pas

******************************************************************************
commit 6d2a7a1b27c85a67ea35210900d5e5e27d8ba9d4
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 8 06:24:47 2019 +0000

     Fix change_endian code to read double and single float data
    
    git-svn-id: trunk@42600 -

M	compiler/entfile.pas

******************************************************************************
commit 90bab63e513c3db6a75d67bef0e76304935a1b63
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Aug 7 09:04:57 2019 +0000

    m68k/vasm: remove bits of Linux support. this combination has never really been tested or supported, and got broken recently. m68k-elf-linux has good enough GNU binutils anyway
    
    git-svn-id: trunk@42597 -

M	compiler/m68k/ag68kvasm.pas

******************************************************************************
commit 0c4d02ff9cc3ca0c9055a6e594c983b10edc3902
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 6 13:08:27 2019 +0000

    + detect heap sections and fill the local heap size in the NewExe header
    
    git-svn-id: trunk@42595 -

M	compiler/ogomf.pas

******************************************************************************
commit 321e4d5837f7747c6ac08b58e3e760321df6b655
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 6 00:44:00 2019 +0000

    * convert the internal name from IMPDEF records to upper case if the
      CaseSensitiveSymbols option is off
    
    git-svn-id: trunk@42590 -

M	compiler/ogomf.pas

******************************************************************************
commit 295daf4a7fca682f9a043bf284f75c0661f9b53a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 6 00:40:43 2019 +0000

    + recognize stack segments and fill the total stack size in the NewExe header
    
    git-svn-id: trunk@42589 -

M	compiler/ogomf.pas

******************************************************************************
commit a86623b97a80ed644ae83cc62f285bf0cde3aa43
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 6 00:23:31 2019 +0000

    + initialize the flags for the code and data segments in the NewExe header
    
    git-svn-id: trunk@42588 -

M	compiler/ogomf.pas

******************************************************************************
commit 7132973847c3bd55518db8fbfcb2e410430f7150
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 5 17:08:18 2019 +0000

    + added the missing NewExe segment attributes as properties to the
      TNewExeSection class and create the NewExe segment table into the .exe file.
      Not all of the properties are initialized yet, though.
    
    git-svn-id: trunk@42587 -

M	compiler/ogomf.pas

******************************************************************************
commit c74007b580d15a6578c4fe5e7421b2afca8b80da
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 5 13:33:12 2019 +0000

     Revert wrong part in commit 42580:  reinstate 'override FPC=' for cycle targets
    
    git-svn-id: trunk@42585 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit d7c24c05d0ee92c575f4bee58429b8bf31eeb114
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 5 13:30:01 2019 +0000

    + fill the segment table start offset in the NewExe header
    
    git-svn-id: trunk@42584 -

M	compiler/ogomf.pas

******************************************************************************
commit 5a3883b1ab9f38bdc9f7ac82b62e8f0d87c93c74
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 5 08:50:37 2019 +0000

     Fix internal error by using same code to set checkoverflow variable as in powerpc/nppcadd unit
    
    git-svn-id: trunk@42581 -

M	compiler/powerpc64/nppcadd.pas

******************************************************************************
commit d6c5a1799ced537479b012392478218b5aa59ef6
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 5 06:47:51 2019 +0000

    Avoid range check error when compiled -Criot option
    
    git-svn-id: trunk@42579 -

M	packages/bzip2/src/bzip2stream.pp

******************************************************************************
commit 6b9f2114f1910ec9137c1ac06b5db161d04f7a14
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 3 13:52:46 2019 +0000

      * test from mantis #35897, already fixed
    
    git-svn-id: trunk@42575 -

M	.gitattributes
A	tests/webtbs/tw35897.pp

******************************************************************************
commit 46afcbb362df8f808307a213e72ecea43c4c6634
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 3 13:47:27 2019 +0000

      * an incomplete case statement is not an error in ISO Pascal (mantis #35910)
      * give a compile-time error in ISO/Extended Pascal if the compiler can prove
        the case selector value is not handled, and a warning in other modes
        (mantis #35915)
       o trigger the case node simplification at the end of the case node typecheck
         pass, like for other nodes
    
    git-svn-id: trunk@42574 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/nset.pas
M	tests/test/tcasecov1.pp
M	tests/test/tcasecov3.pp
A	tests/test/tcasecov3a.pp
A	tests/test/tcasecov3b.pp
A	tests/test/tcasecov3c.pp
A	tests/test/tcasecov3d.pp
A	tests/test/tcasecov3e.pp
M	tests/test/tcasecov4.pp
M	tests/test/tcasecov5.pp
M	tests/test/tcasecov6.pp
M	tests/test/tcasecov7.pp
M	tests/test/tcasecov8.pp
M	tests/test/tcasecov9.pp

******************************************************************************
commit ce598c15ec5ce27ccaab373a292f250fe0cc8d78
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 3 12:19:50 2019 +0000

      * factored out the conditions under which add nodes need to perform
        overflow checks
       o in particular ensure that cpu-specific overrides don't perform overflow
         checks when nf_internal is set
    
    git-svn-id: trunk@42573 -

M	.gitattributes
M	compiler/arm/narmadd.pas
M	compiler/i386/n386add.pas
M	compiler/i8086/n8086add.pas
M	compiler/m68k/n68kadd.pas
M	compiler/mips/ncpuadd.pas
M	compiler/ncgadd.pas
M	compiler/powerpc/nppcadd.pas
M	compiler/powerpc64/nppcadd.pas
M	compiler/sparcgen/ncpuadd.pas
M	compiler/x86/nx86add.pas
M	compiler/x86_64/nx64add.pas
A	tests/tbs/tb0658.pp

******************************************************************************
commit c70f2c63cd9f0675a11031cd63d7ea707f3defd6
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 3 01:04:32 2019 +0000

    + set the initial SS:SP in the NewExe header
    
    git-svn-id: trunk@42572 -

M	compiler/ogomf.pas

******************************************************************************
commit dbafff24fe5f38889834288c7b2b0dd6d1bf148d
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 3 00:59:02 2019 +0000

    + fill the program entry point address in the NewExe header
    
    git-svn-id: trunk@42571 -

M	compiler/ogomf.pas

******************************************************************************
commit 901dde5fa58392d77b49bd648be0c72b475ac287
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 3 00:42:56 2019 +0000

    + fill the auto data segment number in the NewExe header
    
    git-svn-id: trunk@42570 -

M	compiler/ogomf.pas

******************************************************************************
commit 34b3af7e9249c80bfd29928b6e85d722426084f9
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 23:22:59 2019 +0000

    * reset CurrMemPos after each NewExeSection to ensure each segment starts at 0 offset
    
    git-svn-id: trunk@42569 -

M	compiler/ogomf.pas

******************************************************************************
commit 868030b3fecc84668396e5536b7211d389ff65e0
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 23:01:39 2019 +0000

    + adapted TOmfObjSection.MemPosStr to output segment:offset for NewExe executables
    
    git-svn-id: trunk@42568 -

M	compiler/ogomf.pas

******************************************************************************
commit 2c176be2fd61a5da4520b9ba74e6d4de0e4e3a4a
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 22:47:44 2019 +0000

    + adapted TOmfObjSymbol.AddressStr to show correct segment:offset for NewExe files as well
    
    git-svn-id: trunk@42567 -

M	compiler/ogomf.pas

******************************************************************************
commit b739d79f9ba4e096c35dc3da134db47f75867fee
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 16:53:16 2019 +0000

    * combine the data, bss, stack and heap into the same NewExe segment
    
    git-svn-id: trunk@42566 -

M	compiler/ogomf.pas
M	compiler/systems/t_win16.pas

******************************************************************************
commit 1258439767d790a3cff8e567ea283340123e0063
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 16:14:54 2019 +0000

    + added an TNewExeSection.MemPosStr override that outputs a segment:offset string
    
    git-svn-id: trunk@42565 -

M	compiler/ogomf.pas

******************************************************************************
commit 3ebcef32ba62ad3f66c33e983b6c6b62b516bb31
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 16:05:37 2019 +0000

    + introduced TExeSection.MemPosStr - a virtual method for converting the
      section's memory position to string for the linker map file. This can be
      overriden e.g. for segmented exe formats.
    
    git-svn-id: trunk@42564 -

M	compiler/ogbase.pas
M	compiler/ogmap.pas

******************************************************************************
commit 8e436e6335f79785ccd5b4629882877fd13d49b7
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 14:47:19 2019 +0000

    + add a segment number (MemBasePos) to TNewExeSection
    
    git-svn-id: trunk@42563 -

M	compiler/ogomf.pas

******************************************************************************
commit 30e7406be3f112c3cff5bbbd88073ad8db08893b
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 14:32:40 2019 +0000

    * override MemPos_Start for the NewExe exe output and perform the whole MemPos
      stage inside of it, because the linker script contains only dummy section
      names and thus none of the sections get their MemPos set, while using the
      default implementation
    
    git-svn-id: trunk@42562 -

M	compiler/ogomf.pas

******************************************************************************
commit c32ddf42ebaa64e8cc136c8aa3ec88110efadad3
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 14:20:02 2019 +0000

    * create NewExe sections, corresponding to 64kb segments
    
    git-svn-id: trunk@42561 -

M	compiler/ogomf.pas

******************************************************************************
commit 6952ab5baf2bb78e2edd6fc8439348838c39f617
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 2 14:07:17 2019 +0000

    * fix for Mantis #35918: don't set the mangledname for the attribute's constructor function; let the compiler do its job instead
    
    git-svn-id: trunk@42560 -

M	.gitattributes
M	compiler/symcreat.pas
A	tests/webtbs/tw35918.pp
A	tests/webtbs/uw35918a.pp
A	tests/webtbs/uw35918b.pp
A	tests/webtbs/uw35918c.pp

******************************************************************************
commit 7809930b08765742aa3bb1ee307850e5a86cb0ff
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 2 13:16:14 2019 +0000

    * fix for Mantis #35903: apply patch by J. Gareth Moreton to update the copyright year to 2019
    
    git-svn-id: trunk@42558 -

M	compiler/msg/errorct.msg
M	compiler/msg/errord.msg
M	compiler/msg/errorda.msg
M	compiler/msg/errordu.msg
M	compiler/msg/errore.msg
M	compiler/msg/errores.msg
M	compiler/msg/errorf.msg
M	compiler/msg/errorfi.msg
M	compiler/msg/errorhe.msg
M	compiler/msg/errorheu.msg
M	compiler/msg/errorid.msg
M	compiler/msg/erroriu.msg
M	compiler/msg/errorn.msg
M	compiler/msg/errorpl.msg
M	compiler/msg/errorpli.msg
M	compiler/msg/errorpt.msg
M	compiler/msg/errorptu.msg
M	compiler/msg/errorr.msg
M	compiler/msg/errorru.msg
M	compiler/msg/errorues.msg
M	compiler/msgtxt.inc

******************************************************************************
commit 83afeb2e9374c4db290c5669598663211c86cc10
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 1 16:49:08 2019 +0000

    + added dummy overrides for TInternalLinkerWin16.GetCodeSize, .GetDataSize and
      .GetBssSize, because the default ones crash
    
    git-svn-id: trunk@42554 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 5d01d53a962a8dea8af3a4a0ccf6b2901165cfe4
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 1 16:44:46 2019 +0000

    * don't crash in TOmfObjSection.MemPosStr if MZExeUnifiedLogicalSegment isn't set
    
    git-svn-id: trunk@42553 -

M	compiler/ogomf.pas

******************************************************************************
commit 93a08aaebd6f9dbd709c700d092e2cc8aa06d895
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 1 16:43:39 2019 +0000

    + write the NewExe header in TNewExeOutput.writeData
    
    git-svn-id: trunk@42552 -

M	compiler/ogomf.pas

******************************************************************************
commit d10fb705e4c39ab8c4ddd6140e6f86166dd01725
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 1 15:52:19 2019 +0000

    + added an TNewExeOutput.Order_ObjSectionList override and sort obj sections by
      class name first, then by name, then by initial order
    
    git-svn-id: trunk@42551 -

M	compiler/ogomf.pas

******************************************************************************
commit b768673e96abdee86b807a52842d65184e373bf9
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 1 14:59:52 2019 +0000

     Also recompile rtl using FPCFPMAKE before bootstrapping in fpmkunit directory (helps for cross-compilation)
    
    git-svn-id: trunk@42550 -

M	packages/Makefile
M	packages/Makefile.fpc

******************************************************************************
commit d6d3e171ceabb0e194e8ecd5de51b6cfdc1922a3
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 1 14:46:56 2019 +0000

     Try to fix alignment issues in RTTI code for 64-bit targets which require proper alignment
    
    git-svn-id: trunk@42549 -

M	rtl/inc/rtti.inc

******************************************************************************
commit 2c4c34ef9b2da6a74ff850053573de7c160a9acf
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 15:09:02 2019 +0000

    + split the win16 executable into sections
    
    git-svn-id: trunk@42547 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 05c420fad517d77502e023c720e69428a03f5cab
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 13:47:14 2019 +0000

    + create a TNewExeSection class
    
    git-svn-id: trunk@42546 -

M	compiler/ogomf.pas

******************************************************************************
commit 83861799ae140cb032cba70e7ad3b98f92304f09
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 13:32:43 2019 +0000

    + also add and resolve import symbols coming from OMF object modules
    
    git-svn-id: trunk@42545 -

M	compiler/ogomf.pas

******************************************************************************
commit d77a8fb5f46c450921938937ac1cb0f9a7a0a75b
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 01:19:51 2019 +0000

    + call TOmfObjData.AddImportSymbol for every ImpDef record read from an object file
    
    git-svn-id: trunk@42543 -

M	compiler/ogomf.pas

******************************************************************************
commit fcb6072fae11123300b6418ccdccfbc794319be8
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 01:12:00 2019 +0000

    + added method TOmfObjData.AddImportSymbol, which adds symbols, imported from an
      external dll to TOmfObjData.ImportLibraryList (similar to
      TInternalLinker.AddImportSymbol)
    
    git-svn-id: trunk@42542 -

M	compiler/ogomf.pas

******************************************************************************
commit d2371f4176f73f22415c21cac3177752b7d27024
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 01:05:53 2019 +0000

    + added an ImportLibraryList property to TOmfObjData
    
    git-svn-id: trunk@42541 -

M	compiler/ogomf.pas

******************************************************************************
commit 99f92ce5dda2fee4170b359c5163060986b4ea78
Author: florian <florian@freepascal.org>
Date:   Tue Jul 30 21:04:32 2019 +0000

    * insert FPC_THROWFPUEXCEPTION call into the correct assembler list
    
    git-svn-id: trunk@42540 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 26acc8fb2a6f634ae80c2a15ecd7f95a8684ba3c
Author: florian <florian@freepascal.org>
Date:   Tue Jul 30 21:04:31 2019 +0000

    * make stack non executable on arm-linux
    
    git-svn-id: trunk@42539 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit bdd4b6691ed2d4348719fc6c756a2f29136109a6
Author: florian <florian@freepascal.org>
Date:   Tue Jul 30 21:04:30 2019 +0000

    * fix test for arm
    
    git-svn-id: trunk@42538 -

M	tests/webtbs/tw11563.pp

******************************************************************************
commit 9560d63e428923764dd1c099fa1fe0ccf8f81158
Author: florian <florian@freepascal.org>
Date:   Tue Jul 30 21:04:29 2019 +0000

    * test needs exception checking
    
    git-svn-id: trunk@42537 -

M	tests/webtbs/tw3157.pp

******************************************************************************
commit 46bac33a2d1bf06dd8fd27742ce4751cb0c12232
Author: florian <florian@freepascal.org>
Date:   Tue Jul 30 21:04:28 2019 +0000

    + fpu_capabilities for arm
    * some code converted to use fpu_capabilities
    
    git-svn-id: trunk@42536 -

M	compiler/arm/cgcpu.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/cpupara.pas
M	compiler/arm/narmcal.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/narmcon.pas
M	compiler/arm/narminl.pas

******************************************************************************
commit 2b6ee838f9745f266b22e73abbcf22def8b11864
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jul 30 16:34:41 2019 +0000

    + implemented TNewExeOutput.GenerateLibraryImports, based on the ogcoff implementation
    
    git-svn-id: trunk@42535 -

M	compiler/ogomf.pas

******************************************************************************
commit 99af7f2781df0ba8475f99d20acef464fda91c96
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jul 30 15:27:44 2019 +0000

    * set sharedlibext for win16 to '.dll'
    
    git-svn-id: trunk@42533 -

M	compiler/systems/i_win16.pas

******************************************************************************
commit 3ef319c0b059d8f085fe4f0df8501a49712d2f08
Author: florian <florian@freepascal.org>
Date:   Sun Jul 28 21:06:37 2019 +0000

    * compilation of tests on 32 bit targets fixed, using while loops so keeping the type sizes
    
    git-svn-id: trunk@42526 -

M	tests/webtbs/tw35878.pp
M	tests/webtbs/tw35878a.pp

******************************************************************************
commit 811d39d9954060e2eccf78147f95db4345d44db5
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jul 28 19:50:33 2019 +0000

    * correctly align the stream on targets that require proper alignment
    
    git-svn-id: trunk@42522 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit 0b3418e9787ee6953820f6ae07c5e7b21559ccca
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jul 28 19:50:30 2019 +0000

    * use the size of the generated anonymous record instead of the manual tracked size so that any padding is picked up as well
    
    git-svn-id: trunk@42521 -

M	compiler/ncgrtti.pas

******************************************************************************
commit 8fc5c9edb288168bc986a9480cfc1e2e3c45ceb3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jul 28 19:26:51 2019 +0000

    * fix compilation of tests on 32-bit systems (doesn't (shouldn't?) change their behavior)
    
    git-svn-id: trunk@42520 -

M	tests/webtbs/tw35878.pp
M	tests/webtbs/tw35878a.pp

******************************************************************************
commit 1a67ffdd22de1d5e5ebe07a328db8806d9831ebb
Author: florian <florian@freepascal.org>
Date:   Sun Jul 28 12:43:15 2019 +0000

    * fix alignment of ParamList
    * fix test for architectures using aligned rtti
    
    git-svn-id: trunk@42516 -

M	rtl/objpas/typinfo.pp
M	tests/webtbs/tw12038.pp

******************************************************************************
commit b0683edfcb6596528a75ff44a21b81f1367630d8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 28 12:03:46 2019 +0000

      * simplified random(int64) code
    
    git-svn-id: trunk@42513 -

M	rtl/inc/system.inc

******************************************************************************
commit 3fb7c19482c482119c37b99a09589b155fc5fee1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 28 12:03:40 2019 +0000

      - removed tests as modern Delphi versions behave differently (mantis #35886)
    
    git-svn-id: trunk@42512 -

M	.gitattributes
D	tests/webtbf/tw4778a.pp
D	tests/webtbs/tw4778.pp

******************************************************************************
commit 789f28877190ef79df431a76d5ec95fffc0a9e43
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 28 11:14:58 2019 +0000

      * fixed distribution of random(int64) based on patch by Pangea
        (mantis #35878)
    
    git-svn-id: trunk@42508 -

M	.gitattributes
M	rtl/inc/system.inc
A	tests/webtbs/tw35878.pp
A	tests/webtbs/tw35878a.pp

******************************************************************************
commit 1da43f67d40dd92ea2fb1cfa327d6088fa838aa7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 28 11:14:54 2019 +0000

      * (non-ancient) Delphi versions that accept explicit ordinal -> floating
        point typecasts behave the same as FPC (convert the value) rather than
        as Turbo Pascal (reinterpret the bit pattern) (mantis #35886)
    
    git-svn-id: trunk@42507 -

M	.gitattributes
M	compiler/defcmp.pas
A	tests/webtbs/tw35886.pp

******************************************************************************
commit db83612b2c220def234fdf6f78acd565fcc483d1
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jul 26 14:19:33 2019 +0000

    + enable the win16 internal linker if the compiler is compiled with the
      WIN16_INTERNAL_LINKER define. Since the win16 internal linker isn't completed
      yet, this define is not enabled by default.
    
    git-svn-id: trunk@42498 -

M	compiler/systems/i_win16.pas

******************************************************************************
commit 67bf76c50e40f7a039429835e97bec38f37515d1
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Thu Jul 25 12:49:55 2019 +0000

    - Fix overflow checking in software multiplication routines. Overflow checking should also be enabled for the unsigned multiplications.
    - Call FPC_Overflow instead of multiple calls to save on size.
    
    git-svn-id: trunk@42491 -

M	rtl/inc/generic.inc

******************************************************************************
commit 5313f6e9af42d97848ece601fc8ce3a18de4ef73
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Jul 24 20:32:22 2019 +0000

    * fix Currency comparison... again...
    
    git-svn-id: trunk@42490 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit 797e336222fd5fd1dc4f5da49131381a3174068c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Jul 24 20:32:17 2019 +0000

    * fix writing of floating point attribute parameters
    
    git-svn-id: trunk@42489 -

M	compiler/ncon.pas

******************************************************************************
commit 4c338b1f70c86f29d90f6af2e44f749401e88315
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jul 23 20:53:54 2019 +0000

    * generate correctly aligned string RTTI, fixes trtti7 on ARM
    
    git-svn-id: trunk@42488 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas

******************************************************************************
commit 0c27ea83bea2f8afc7541d7d8206396c13b1f8ef
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jul 23 20:53:50 2019 +0000

    * we halt if the currency values are *not* equal, not if they're equal... m(
    
    git-svn-id: trunk@42487 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit 73acb4d1c134f218af71d06adbf3a980202647d0
Author: florian <florian@freepascal.org>
Date:   Tue Jul 23 19:59:34 2019 +0000

    * fixes TInterfaceRawData to match TTypeData
    
    git-svn-id: trunk@42486 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit a3a39e164040751afc38637a02a5624063048be0
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jul 23 11:57:20 2019 +0000

    * i8086 compilation fix after changeset 42390
    
    git-svn-id: trunk@42485 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 6eafee72d78b5785512f113ff1330a9ccb572646
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Jul 22 12:06:26 2019 +0000

      - fixed check for determining whether requesting the size of an array is
        an invalid operation after r42479, as regular arrays can have high=-1
        (mantis #35874, already checked by trange3)
    
    git-svn-id: trunk@42482 -

M	compiler/symdef.pas

******************************************************************************
commit 18dfdb423e18ff7a16f90699fbd840230e438bc4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Jul 22 12:06:22 2019 +0000

      * don't apply user-specified constant alignments to RTTI data
    
    git-svn-id: trunk@42481 -

M	compiler/ncgrtti.pas

******************************************************************************
commit a60ab40237581e8ea583b159308438cd62554d3f
Author: florian <florian@freepascal.org>
Date:   Sun Jul 21 14:17:27 2019 +0000

    * handle records with managed fields correctly after attribute merge fixes
    
    git-svn-id: trunk@42480 -

M	rtl/inc/rtti.inc

******************************************************************************
commit aac8559a8d55b1d594ce91258d8cb66a7a3d0877
Author: florian <florian@freepascal.org>
Date:   Sun Jul 21 12:25:55 2019 +0000

    * some runtime errors fixed, if compiled with -CrR
    
    git-svn-id: trunk@42479 -

M	compiler/cfidwarf.pas
M	compiler/pdecl.pas
M	compiler/symdef.pas

******************************************************************************
commit 83611b83cc9b24d1db270e1d545536c651f97ffd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 21 11:07:02 2019 +0000

      * reverted r42463, the internalerrors were caused by a bug in the LLVM typed
        constant builder
    
    git-svn-id: trunk@42478 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas

******************************************************************************
commit e7fbebfef57f0cc75dc85cfa4ca85571e9ae6f99
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 21 11:06:54 2019 +0000

      * fixed field alignment when reusing an anonymous recorddef for LLVM and
        the LLVM layout of an instance does not match the original one
        (e.g. because it contains procdefs of procedures with different
         signatures)
    
    git-svn-id: trunk@42477 -

M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 217ae6e4bbd0c927967c8d5d2effcb9f621ea89e
Author: florian <florian@freepascal.org>
Date:   Sun Jul 21 08:28:29 2019 +0000

    * more fixes to rtti after attribute branch merging
    
    git-svn-id: trunk@42476 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas
M	rtl/inc/dynarr.inc
M	rtl/inc/rtti.inc
M	rtl/inc/rttidecl.inc
M	rtl/objpas/typinfo.pp

******************************************************************************
commit e97a2cb03e21d32bd274d378a49a00acf9295a0c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 20 20:03:38 2019 +0000

    * tests with Delphi showed that an attribute class must explicitely declare a parameterless constructor if it should be used, cause TCustomAttribute.Create is private
    Note: this also means that TCustomAttribute itself can not be used as an attribute
    * adjusted existing tests
    + added test
    
    git-svn-id: trunk@42471 -

M	.gitattributes
M	rtl/inc/objpas.inc
M	rtl/inc/objpash.inc
M	tests/test/tcustomattr10.pp
M	tests/test/tcustomattr11.pp
M	tests/test/tcustomattr17.pp
M	tests/test/tcustomattr18.pp
A	tests/test/tcustomattr22.pp
M	tests/test/tcustomattr9.pp
M	tests/test/ucustomattr14a.pp

******************************************************************************
commit c282f21b1b4f9eb8403654abc51bef8956baaccc
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 20 19:46:03 2019 +0000

    * don't bother finding the correct constructor if the attribute isn't a TCustomAttribute descendant anyway; simply skip the parameters in that case
    + added tests
    
    git-svn-id: trunk@42470 -

M	.gitattributes
M	compiler/pdecl.pas
A	tests/test/tcustomattr20.pp
A	tests/test/tcustomattr21.pp

******************************************************************************
commit 6cde8ab4cb9e41c81b04c310b6f0da5afed26e41
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 20 19:45:59 2019 +0000

    * fix for Mantis #35866: parse_paras does not check whether the expressions are really constant, so check that manually
    + added test
    
    git-svn-id: trunk@42469 -

M	.gitattributes
M	compiler/pdecl.pas
A	tests/webtbf/tw35866.pp

******************************************************************************
commit 145f4299b49a634827a46f3ab1c8a8762c5be06c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 20 12:08:59 2019 +0000

      * search dynamic string data record in correct symtable in
        tllvmtai_typedconstbuilder.emit_string_offset
       o fixes LLVM internalerror 2014080406 for test/tcustomattr14
    
    git-svn-id: trunk@42464 -

M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 12e63d8a2cf992f49656895e45b6c79b752546d1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 20 12:08:55 2019 +0000

      * don't reuse defs for attribute lists or individual attributes with parameters, as
        they don't have a constant size
       o fixes LLVM internalerror 2015122402 for test/tcustomattr{12,13,19}
    
    git-svn-id: trunk@42463 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas

******************************************************************************
commit 900fd35f4abd574488c8c85d8a62874814ea2a3b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 19 15:58:42 2019 +0000

    * increase PPU version now that all generic procdefs store their local symtables
    
    git-svn-id: trunk@42460 -

M	compiler/ppu.pas

******************************************************************************
commit 43b5dbf6136f053f082c975c8e8d5cb1610ea750
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 19 15:55:28 2019 +0000

    * fix for Mantis #23071: also store local symtable in the PPU if the procdef is generic as we need it to resolve genericdefs to nested types
    
    git-svn-id: trunk@42459 -

M	.gitattributes
M	compiler/symdef.pas
A	tests/webtbs/tw23071.pp
A	tests/webtbs/uw23071.pp

******************************************************************************
commit 4d6844e731e2d65760ec0441cec83e6ba097e169
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 19 15:55:25 2019 +0000

    * fix test on systems where Currency is calculated using floating point types
    
    git-svn-id: trunk@42458 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit 48b8110e38b6b08a393e9a947b1b439746802ae7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 19 11:52:51 2019 +0000

    * disable UCS4String if dynamic arrays are disabled
    
    git-svn-id: trunk@42455 -

M	rtl/inc/systemh.inc
M	rtl/inc/ustringh.inc
M	rtl/inc/ustrings.inc

******************************************************************************
commit f04afdd5eae60b2ff1d7a1bc46bad34ca54b19d4
Author: florian <florian@freepascal.org>
Date:   Sun Jul 14 21:40:29 2019 +0000

    * compilation fixed
    
    git-svn-id: trunk@42449 -

M	compiler/ncgrtti.pas

******************************************************************************
commit 3206ac35084ab844a20ed8d97a58048cd0b6e7dd
Author: florian <florian@freepascal.org>
Date:   Sun Jul 14 21:29:30 2019 +0000

    * properly align rtti for orddefs
    
    git-svn-id: trunk@42448 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas

******************************************************************************
commit d8903ce6b3af3cb3fc5bcfa48ae2823c1fc2c57c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 14 19:24:32 2019 +0000

      - removed maxcrecordalign parameter/field from recordsymtables, as this value
        cannot be modified in the settings (so we can directly use the one from
        current_settings)
    
    git-svn-id: trunk@42447 -

M	compiler/aasmcnst.pas
M	compiler/cresstr.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmpi.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/llvm/nllvmutil.pas
M	compiler/ncal.pas
M	compiler/ncgrtti.pas
M	compiler/ncgvmt.pas
M	compiler/ngenutil.pas
M	compiler/nobj.pas
M	compiler/objcgutl.pas
M	compiler/pdecvar.pas
M	compiler/pgenutil.pas
M	compiler/pparautl.pas
M	compiler/psystem.pas
M	compiler/ptype.pas
M	compiler/symdef.pas
M	compiler/symtable.pas

******************************************************************************
commit c932dfaf7058a61875276af4a7a9100c2addf1fa
Author: florian <florian@freepascal.org>
Date:   Sun Jul 14 17:45:55 2019 +0000

    * first bunch of fixes for rtti for arm after attribute commits, fixes mostly alignment issues
    
    git-svn-id: trunk@42446 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas
M	rtl/inc/sstrings.inc

******************************************************************************
commit c0da39a35dae71be2248f6ac817ba76eaaf8ade7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 13 14:38:24 2019 +0000

    * Tenum_typedata needs to include the Common record as well
    
    git-svn-id: trunk@42438 -

M	rtl/inc/sstrings.inc

******************************************************************************
commit 55dfb59631a5e666c3d6e527aebad5086aeb359a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 13 14:38:20 2019 +0000

    * TRttiDataCommon is required outside of the RTTI and DynArray include files as well
    
    git-svn-id: trunk@42437 -

M	rtl/inc/system.inc

******************************************************************************
commit 04a50733ad9ab91ff3710e9ca24881c15439bccd
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 13 09:37:44 2019 +0000

    * get rid of the scanner message for attributes for real this time (sometimes I *really* hate Git -.-)
    
    git-svn-id: trunk@42413 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecobj.pas

******************************************************************************
commit 4d6b8a6c45c5fcd9a7120754358cf94d1a8a42fd
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Jul 13 07:34:07 2019 +0000

    fixed the messy state of messages after recent custom attributes merge. fixed a typo, fixed double definition of message 3350, restored a message that was removed but still used, so the build passes at least.
    
    git-svn-id: trunk@42412 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/psub.pas

******************************************************************************
commit 6db674cd024f9d81069aa1e019afa101e693af38
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:22 2019 +0000

    * regenerate msg*.inc files
    
    git-svn-id: trunk@42411 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit b7a8dd9479f550b99b902cf61a719bd3da44f0c1
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:17 2019 +0000

    * adjust error message when attributes are unbound
    
    git-svn-id: trunk@42410 -

M	compiler/msg/errore.msg
M	compiler/pdecl.pas

******************************************************************************
commit 87458a065c54d01aa6d0013299c55d1b99d67f80
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:14 2019 +0000

    * allow use of multiple, comma separated attributes as Delphi allows that as well
    + added test
    
    git-svn-id: trunk@42409 -

M	.gitattributes
M	compiler/pdecl.pas
A	tests/test/tcustomattr19.pp

******************************************************************************
commit 6d0c470a40bb3a58f2f0b2473c597d0c39a4ee7c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:10 2019 +0000

    * check for unbound attributes inside classes (currently they are only allowed for published properties)
    Note: no tests yet as sooner or later most will be dropped once extended RTTI is added
    
    git-svn-id: trunk@42408 -

M	compiler/pdecobj.pas

******************************************************************************
commit 98b1b04951f82c981675a16c2c462287ec5b699c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:07 2019 +0000

    * free unbound attributes
    
    git-svn-id: trunk@42407 -

M	compiler/pdecl.pas

******************************************************************************
commit 90bec938f6ecafc9ce36bd3fc53a73bacb0bb20a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:04 2019 +0000

    * don't free the constructor call in trtti_attribute_list as that is already freed in the destructor of trtti_attribute
    
    git-svn-id: trunk@42406 -

M	compiler/symdef.pas

******************************************************************************
commit 404b465c33823efb0294fdc75cfb8da79928e749
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:00 2019 +0000

    * allow custom attributes for all type declarations that are not a simple alias
    + added tests
    
    git-svn-id: trunk@42405 -

M	.gitattributes
M	compiler/pdecl.pas
A	tests/test/tcustomattr17.pp
A	tests/test/tcustomattr18.pp

******************************************************************************
commit 80ebb98431397073b582bab01c14a1555f3eb015
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:57 2019 +0000

    * correct identation (no code changes)
    
    git-svn-id: trunk@42404 -

M	compiler/pdecl.pas

******************************************************************************
commit 9dbd1551310b08d5255d948106ac4d65508b9844
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:54 2019 +0000

    * use two empty lines between method definitions (no code changes)
    
    git-svn-id: trunk@42403 -

M	compiler/symdef.pas

******************************************************************************
commit a72553eea27cc4a8ca0c96456e439e283d9ef972
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:50 2019 +0000

    * disable [...] syntax for procedure directives if modeswitch "prefixed attributes" is enabled; they conflict otherwise and it's not easily resolveable
    + added test
    
    git-svn-id: trunk@42402 -

M	.gitattributes
M	compiler/pdecsub.pas
A	tests/test/tcustomattr15.pp
A	tests/test/tcustomattr16.pp

******************************************************************************
commit b945e66e2807410180709dd0b967e1ebe6cd912a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:46 2019 +0000

    * store attribute information in PPU; this is less important for the compiler, but more for e.g. Lazarus when dealing with binary only units
    * increase ppu version
    + added test
    * adjust ppudump to handle attributes as well
    ToDo: output parameter nodes as well
    
    git-svn-id: trunk@42401 -

M	.gitattributes
M	compiler/ppu.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppuout.pp
A	tests/test/tcustomattr14.pp
A	tests/test/ucustomattr14a.pp
A	tests/test/ucustomattr14b.pp

******************************************************************************
commit 8ce4f9606dbbae08b8cd9c7060ff6021943489dc
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:41 2019 +0000

    * explicitely store the procdef of the picked constructor of the attribute
    
    git-svn-id: trunk@42400 -

M	compiler/pdecl.pas
M	compiler/symdef.pas

******************************************************************************
commit dfb9fffcf917260a6479ce75da4b87b733d1b4e2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:38 2019 +0000

    + add functions for syms and defs and write sub entries of the sym/def to PPU and loads them again
    
    git-svn-id: trunk@42399 -

M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtable.pas

******************************************************************************
commit 352ff5f82ad07bbd07430a1c433d1c417b9f78b2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:34 2019 +0000

    - symbolname field is no longer required
    
    git-svn-id: trunk@42398 -

M	compiler/symdef.pas

******************************************************************************
commit 3a02393584b6b7e4e4ce5a4ff12353f78fa38b0d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:31 2019 +0000

    - remove functionality to get the code block when parsing again (let's open this pandora's box only when really needed...)
    
    git-svn-id: trunk@42397 -

M	compiler/psub.pas

******************************************************************************
commit a64a8f8debb219661633a1121082bb882d8ccadd
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:28 2019 +0000

    - remove code to create an attribute using a synthetic function
    
    git-svn-id: trunk@42396 -

M	compiler/pdecl.pas
M	compiler/symconst.pas
M	compiler/symcreat.pas
M	compiler/symtable.pas

******************************************************************************
commit 402728239f070c34402db4a5f8f39c98788f95c9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:24 2019 +0000

    * trtti_attribute_list.bind already checks whether the dangling attribute list is assigned or not
    
    git-svn-id: trunk@42395 -

M	compiler/pdecl.pas
M	compiler/pdecobj.pas

******************************************************************************
commit ced3885dbb54688ca8e0ad3692949eb4fc108b9e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:20 2019 +0000

    * generate construction function for the attributes used in a unit using a more straight forward approach
    ToDo: "collect" attributes of same type and same argument list and generate constructor only once for them
    
    git-svn-id: trunk@42394 -

M	compiler/fmodule.pas
M	compiler/ncgrtti.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/pmodules.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas

******************************************************************************
commit 0b63e89ba290a4df67893b01019c3614f8cb8f1e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:15 2019 +0000

    * make the reference to the TCustomAttribute type global
    
    git-svn-id: trunk@42393 -

M	compiler/pdecl.pas
M	compiler/symdef.pas
M	compiler/symtable.pas

******************************************************************************
commit d9d2515ada949fa0c8993ec3ff6579a08624a865
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:11 2019 +0000

    * move binding of a dangling attribute list to a sym's/def's attribute list to a class procedure of trtti_attribute_list
    
    git-svn-id: trunk@42392 -

M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/symdef.pas

******************************************************************************
commit 5cea37425532e2ca502bdebe2acb19db22a31db9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:08 2019 +0000

    * add a remark that's going to be important once extended RTTI is supported (Delphi programs crash if an attribute's constructor is used that does not have any extended RTTI)
    
    git-svn-id: trunk@42391 -

M	compiler/pdecl.pas

******************************************************************************
commit 71fa4d1fe2a5eaee061fb71fb2045bb5fff2db1b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:05 2019 +0000

    * the RTTI of an attribute not only consists of the creation function, but also of the attribute's type, a pointer to the constructor and a data blob containing the constant parameters
    + added test
    
    git-svn-id: trunk@42390 -

M	.gitattributes
M	compiler/ncgrtti.pas
M	compiler/symconst.pas
M	rtl/objpas/typinfo.pp
A	tests/test/tcustomattr13.pp

******************************************************************************
commit 55d5bdc98d787c733b84b9381a992d67f27d9cf4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:01 2019 +0000

    + add methods for the const nodes to directly emit their constant data to a constant builder
    Note: reduce code duplication, especially for the tsetconstnode (with its descendant tcgsetconstnode)
    
    git-svn-id: trunk@42389 -

M	compiler/ncon.pas

******************************************************************************
commit f9cda608fa3b891ceec7d21cad66ef75bd4735dd
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:57 2019 +0000

    * take a copy of the constructor assignment node (and free it together with the attribute)
    
    git-svn-id: trunk@42388 -

M	compiler/symcreat.pas
M	compiler/symdef.pas

******************************************************************************
commit d31dd4ac7b6a7f2543c130bb10d927e8688be5ad
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:52 2019 +0000

    * better check for a valid call node
    
    git-svn-id: trunk@42387 -

M	compiler/pdecl.pas

******************************************************************************
commit 8cd1f1973bfcf432f87e5df74beb23cd45b03c93
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:48 2019 +0000

    - remove unneeded local variable
    
    git-svn-id: trunk@42386 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit affa9f9d9ca31c0e28cb61b084617ae4b3d6875c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:44 2019 +0000

    * to be on the safe side: don't include AttributeTable fields when cycling
    
    git-svn-id: trunk@42385 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 99914b427931330a22b9fe9210ea44acc6ee8101
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:41 2019 +0000

    * instead of collecting the raw parameters we need to collect the parameters as passed to the call as there might be type conversions involved
    
    git-svn-id: trunk@42384 -

M	compiler/pdecl.pas

******************************************************************************
commit b5e6c0b98d2c04b0d6ba105a9c52a65eea00609d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:38 2019 +0000

    * ensure that any potentially created constructor call is freed if the attribute is not bound to a def or sym
    
    git-svn-id: trunk@42383 -

M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/symdef.pas

******************************************************************************
commit 0e04d9b4def9447c67da46cfc22b8157d44b34bc
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:34 2019 +0000

    * store the parameter nodes in the attribute object as well (we need to write them to the RTTI as well as store them in the PPU)
    
    git-svn-id: trunk@42382 -

M	compiler/pdecl.pas
M	compiler/symdef.pas

******************************************************************************
commit 3a20178d96463df72b4357fad69838b87d0a5825
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:31 2019 +0000

    * fix code formatting (no code changes)
    
    git-svn-id: trunk@42381 -

M	compiler/symdef.pas

******************************************************************************
commit c2146482247ffa831e0dfe7dbb3285ecc8859228
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:28 2019 +0000

    + add a test for overloaded attribute constructors
    
    git-svn-id: trunk@42380 -

M	.gitattributes
A	tests/test/tcustomattr12.pp

******************************************************************************
commit db37146f128563ea196aa00b118dbc9376e53f48
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:24 2019 +0000

    * rework code for parsing attributes to only allow constant expressions; Delphi only allows those as well and better we don't open *that* pandora's box just yet
    
    git-svn-id: trunk@42379 -

M	compiler/pdecl.pas

******************************************************************************
commit ab2fa724ecddafea7950d8998665d02ec5af3354
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:20 2019 +0000

    * fix code formatting (no code changes)
    
    git-svn-id: trunk@42378 -

M	compiler/pdecl.pas

******************************************************************************
commit 62c137a6d801c5cdc3a2b9f20ea8731836523279
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:16 2019 +0000

    * check that we indeed have a type node and nothing else
    * with a type node it's not necessary to check whether it's typedef is assigned
    
    git-svn-id: trunk@42377 -

M	compiler/pdecl.pas

******************************************************************************
commit f1715ff337103b83ce632e92ea9425b308269fa2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:13 2019 +0000

    * fix code formatting (no code changes)
    
    git-svn-id: trunk@42376 -

M	compiler/pdecl.pas

******************************************************************************
commit 3ad24c9db8725f6b53e3f3250807ac850a7769a7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:09 2019 +0000

    * as attributes can be part of any type they are best suited in a common part of TTypeData
    
    git-svn-id: trunk@42375 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas
M	rtl/inc/dynarr.inc
M	rtl/inc/objpas.inc
M	rtl/inc/rttidecl.inc
M	rtl/inc/system.inc
M	rtl/objpas/typinfo.pp

******************************************************************************
commit a1b556d2118d91a235a1ed365bf88ada086237d4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:05 2019 +0000

    * considering that at least in theory every symbol and every def can carry RTTI attributes (Delphi only supports property and field symbols), move the rtti_attribute_list to tstoredsym/tstoreddef
    
    git-svn-id: trunk@42374 -

M	compiler/symdef.pas
M	compiler/symsym.pas

******************************************************************************
commit de15025a4760b8abda8b57606c426d958c00c37a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:02 2019 +0000

    * streamline retrieval of attributes (both in TypInfo and RTTI units)
    
    git-svn-id: trunk@42373 -

M	packages/rtl-objpas/src/inc/rtti.pp
M	rtl/objpas/typinfo.pp

******************************************************************************
commit 5532ac3355218e18463313bcb2f9460a5f3de957
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:58 2019 +0000

    * fix test
    
    git-svn-id: trunk@42372 -

M	tests/test/tcustomattr6.pp

******************************************************************************
commit e060a43d70c9ce31b6134a5e374c907fc74706d4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:55 2019 +0000

    * rename TAttributeData to the more appropriate TAttributeTable
    
    git-svn-id: trunk@42371 -

M	packages/rtl-objpas/src/inc/rtti.pp
M	rtl/objpas/typinfo.pp
M	tests/test/tcustomattr1.pp
M	tests/test/tcustomattr10.pp
M	tests/test/tcustomattr11.pp
M	tests/test/tcustomattr4.pp
M	tests/test/tcustomattr9.pp

******************************************************************************
commit c17dafc2f932c23033c990232e776f374b19cc81
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:51 2019 +0000

    * fix TClassData by including the AttributeTable at the right location
    
    git-svn-id: trunk@42370 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit e296b26e9ed25051d1d70504c7270f2f649f5d81
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:47 2019 +0000

    - remove unit info and related code again as that will be handled similar, but differently with dynamic packages
    
    git-svn-id: trunk@42369 -

M	compiler/fmodule.pas
M	compiler/ncgrtti.pas
M	compiler/ngenutil.pas
M	compiler/options.pas
M	compiler/pdecl.pas
M	compiler/pmodules.pas
M	rtl/inc/objpas.inc
M	rtl/objpas/typinfo.pp

******************************************************************************
commit ee940c8270c8fbdd585cdcd548930e1a6872ab55
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:42 2019 +0000

    * always write a class' reference to the attribute table, even if the unit does not have attributes
    
    git-svn-id: trunk@42368 -

M	compiler/ncgrtti.pas
M	rtl/objpas/typinfo.pp

******************************************************************************
commit 788d976f3a2d89bbf59721280c4d6dc193f6624b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:39 2019 +0000

    * use a Word instead of a Byte for the attribute index (after all the compiler writes a Word to the count field)
    
    git-svn-id: trunk@42367 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 5153a288dc63937a3b79d305f72cab94e5ab99e3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:33 2019 +0000

    * it's more correct for GetPropAttribute to return a TCustomAttribute instead of a TObject
    
    git-svn-id: trunk@42366 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit d137e06ade00a851a5370367243c11fcc79043ea
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:29 2019 +0000

    * instead of embedding the attributes inside the class' and property's type data only store a reference to a table of attributes
    
    git-svn-id: trunk@42365 -

M	compiler/ncgrtti.pas
M	packages/rtl-objpas/src/inc/rtti.pp
M	rtl/objpas/typinfo.pp

******************************************************************************
commit 38fad4b5cf28dc828e72c473183d0e1134492a27
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:25 2019 +0000

    * also check for invalid attribute data in tests
    
    git-svn-id: trunk@42364 -

M	tests/test/tcustomattr1.pp
M	tests/test/tcustomattr10.pp
M	tests/test/tcustomattr4.pp
M	tests/test/tcustomattr9.pp

******************************************************************************
commit ba413bcdfcafdd5ad69be04685808df1b836608c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:21 2019 +0000

    * fix typo
    
    git-svn-id: trunk@42363 -

M	compiler/pdecl.pas
M	compiler/pdecobj.pas

******************************************************************************
commit 24c4b90343c76d18eb4fb3ae3d85000d03c321e6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:18 2019 +0000

    * instead of declaring another type with a 'attribute' suffix, *search* for another type with a 'ATTRIBUTE' suffix (Delphi allows declaring both a TFoo and TFooAttribute in the same unit)
    + added test
    
    git-svn-id: trunk@42362 -

M	.gitattributes
M	compiler/globals.pas
M	compiler/pbase.pas
M	compiler/pdecl.pas
M	compiler/pexpr.pas
A	tests/test/tcustomattr11.pp

******************************************************************************
commit 869664c6dacec44c2e05e9b3418fd8929e7dab41
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:12 2019 +0000

    * rename custom attributes related tests to something more sensible
    
    git-svn-id: trunk@42361 -

M	.gitattributes
R095	tests/test/tclassattribute1.pp	tests/test/tcustomattr1.pp
R095	tests/test/tclassattribute10.pp	tests/test/tcustomattr10.pp
R091	tests/test/tclassattribute2.pp	tests/test/tcustomattr2.pp
R090	tests/test/tclassattribute3.pp	tests/test/tcustomattr3.pp
R096	tests/test/tclassattribute4.pp	tests/test/tcustomattr4.pp
R094	tests/test/tclassattribute5.pp	tests/test/tcustomattr5.pp
R096	tests/test/tclassattribute6.pp	tests/test/tcustomattr6.pp
R094	tests/test/tclassattribute7.pp	tests/test/tcustomattr7.pp
R094	tests/test/tclassattribute8.pp	tests/test/tcustomattr8.pp
R094	tests/test/tclassattribute9.pp	tests/test/tcustomattr9.pp

******************************************************************************
commit ed5f19e7e388356d644a695c16c8c520811099fc
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:05 2019 +0000

    * change boolean parameters for try_consume_unitsym to a set
    
    git-svn-id: trunk@42360 -

M	compiler/pbase.pas
M	compiler/pexpr.pas
M	compiler/pstatmnt.pas
M	compiler/ptype.pas

******************************************************************************
commit 39bab2dbcc3961a59542c60abd70ad73930087a1
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:00 2019 +0000

    * rename trtti_attributesdef to trtti_attributes_list
    
    git-svn-id: trunk@42359 -

M	compiler/ncgrtti.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/ptype.pas
M	compiler/symdef.pas
M	compiler/symsym.pas

******************************************************************************
commit 84848df18d3b351fec0651a9873128553e84e522
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:04:56 2019 +0000

    Reintegration of Custom Attributes branch by Joost van der Sluis with patches reworked by Svetozar Belic [patch 3/3]
    
    Added FPC_REQUIRES_PROPER_ALIGNMENT to TUnitInfo definition. Added FPC_HAS_EXTENDED_RTTI define.
    
    git-svn-id: trunk@42358 -

M	compiler/ngenutil.pas
M	compiler/options.pas
M	rtl/objpas/typinfo.pp

******************************************************************************
commit f91e38d1bd3ba024ff15a4db488e2bd2d69f9bcf
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:04:53 2019 +0000

    Reintegration of Custom Attributes branch by Joost van der Sluis with patches reworked by Svetozar Belic [patch 2/3]
    
    Regenerated compiler/msgidx.inc and compiler/msgtxt.inc.
    
    git-svn-id: trunk@42357 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit b2932393df279c6856cb7fbc12a389fac3de060e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:04:48 2019 +0000

    Reintegration of Custom Attributes branch by Joost van der Sluis with patches reworked by Svetozar Belic [patch 1/3]
    
    Implemented attributes for class types and properties (based on work by Joost van der Sluis). Added TCustomAttribute - a base class for attributes. Added TUnitInfo record to RTTI. It contains the unit name and unit options (for now only a flag which specifies if the unit contains attributes). Added several tests for attributes.
    
    git-svn-id: trunk@42356 -

M	.gitattributes
M	compiler/fmodule.pas
M	compiler/globals.pas
M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/ncgrtti.pas
M	compiler/ngenutil.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/pmodules.pas
M	compiler/psub.pas
M	compiler/ptype.pas
M	compiler/symconst.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtable.pas
M	packages/rtl-objpas/src/inc/rtti.pp
M	rtl/inc/objpas.inc
M	rtl/inc/objpash.inc
M	rtl/objpas/typinfo.pp
A	tests/test/tclassattribute1.pp
A	tests/test/tclassattribute10.pp
A	tests/test/tclassattribute2.pp
A	tests/test/tclassattribute3.pp
A	tests/test/tclassattribute4.pp
A	tests/test/tclassattribute5.pp
A	tests/test/tclassattribute6.pp
A	tests/test/tclassattribute7.pp
A	tests/test/tclassattribute8.pp
A	tests/test/tclassattribute9.pp

******************************************************************************
commit 1607e15e48c59efa646b0cd8ab7a9cc3e50f976d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 16:25:30 2019 +0000

    * ensure that the toString constant is used instead of TObject's ToString method
    
    git-svn-id: trunk@42352 -

M	tests/test/units/fpcunit/tctparser.pp

******************************************************************************
commit 0a94f8fc085580d97717c8a8f2e19a9a53a44aaf
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jul 9 12:31:11 2019 +0000

    + parse the IMPDEF record in TOmfObjInput.ReadImpDef
    
    git-svn-id: trunk@42346 -

M	compiler/ogomf.pas

******************************************************************************
commit 7f772683cb0c265dd3c8f84d5e2ee38c73e24b74
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 7 21:33:51 2019 +0000

      * fix tobjectdef.vmt_def to search in the correct symtable
      * always register vmt defs (so they get written to the ppu) in case of llvm,
        because it may need this def in case a method from a class defined in the
        implementation of unit gets called from an inlined routine that gets
        inlined in another unit (normally that vmt def would not get written to
        the ppu file, as it can't be referenced from the interface and it's also
        not necessarily directly referenced from the inline routine's nodes)
        (fixes sdo_dataobject compilation with LLVM after enabling cross-unit
         inlining of methods accessing static symbol table symbols)
    
    git-svn-id: trunk@42342 -

M	compiler/nobj.pas
M	compiler/symdef.pas

******************************************************************************
commit e56b58c2b05124558bc3c0d18ef1d1c48e9b6d01
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 7 21:33:47 2019 +0000

      * factored out checks whether a procdef's symbol needs to be global, and
        the generation of the procdef's asmsymbols
       o also removed unnecessary definition of procdef alias symbols for Darwin
         (they are already defined in ncgutil.alloc_proc_symbol)
    
    git-svn-id: trunk@42341 -

M	compiler/aasmdata.pas
M	compiler/hlcgobj.pas
M	compiler/ncgutil.pas
M	compiler/psub.pas
M	compiler/symdef.pas

******************************************************************************
commit 3fee990218b4648ab020d85f783959b1d8fb0dd4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 7 21:33:43 2019 +0000

      * on Mach-O, PECOFF and ELF platforms, write local symbols as hidden/
        private_extern (or plain global in case of PECOFF, as the effect is
        the same there): visible across object files, but they become local
        when linked into a binary/library. This enables cross-unit inlining
        of functions accessig implementation-only symbols.
    
    git-svn-id: trunk@42340 -

M	compiler/aarch64/hlcgcpu.pas
M	compiler/aasmbase.pas
M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/hlcgcpu.pas
M	compiler/elfbase.pas
M	compiler/hlcgobj.pas
M	compiler/i386/hlcgcpu.pas
M	compiler/i8086/hlcgcpu.pas
M	compiler/llvm/nllvmutil.pas
M	compiler/m68k/hlcgcpu.pas
M	compiler/mips/hlcgcpu.pas
M	compiler/ncal.pas
M	compiler/ncgutil.pas
M	compiler/ngenutil.pas
M	compiler/ngtcon.pas
M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogelf.pas
M	compiler/ppcgen/hlcgppc.pas
M	compiler/psub.pas
M	compiler/riscv/hlcgrv.pas
M	compiler/sparcgen/hlcgcpu.pas
M	compiler/systems.pas
M	compiler/systems/i_android.pas
M	compiler/systems/i_aros.pas
M	compiler/systems/i_bsd.pas
M	compiler/systems/i_haiku.pas
M	compiler/systems/i_linux.pas
M	compiler/systems/i_nativent.pas
M	compiler/systems/i_sunos.pas
M	compiler/systems/i_win.pas
M	compiler/x86/agx86nsm.pas
M	compiler/x86_64/hlcgcpu.pas

******************************************************************************
commit 449a14dddf92a0a45d0e810ba01d482ea5f27b9d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 7 21:33:39 2019 +0000

      - disabled ogmacho, as it can no longer deal with the assembly we generate
    
    git-svn-id: trunk@42339 -

M	compiler/i386/cputarg.pas

******************************************************************************
commit 0f57327bff922d389dd7534cfcf29027efebc7a8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 7 21:33:36 2019 +0000

      * maybereplacewithtemp/maybereplacewithtempref: also create a temp in case
        of possible side effects
    
    git-svn-id: trunk@42338 -

M	compiler/nbas.pas

******************************************************************************
commit a1a17447ff3d95d0145d4113ad563f7360480a88
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Jul 7 11:32:27 2019 +0000

    - Fix bug in 64bit softfloat double negation.
    - Clean up handling of CPU/FPU type handling in RISCV.
    - Do more fixes to get RISCV32 working.
    - Fix most soft multiplication handling for generic RISCV code. Still missing a few.
    - Add RISCV embedded targets.
    
    git-svn-id: trunk@42335 -

M	compiler/globals.pas
M	compiler/ncgmat.pas
M	compiler/options.pas
M	compiler/riscv/agrvgas.pas
M	compiler/riscv/nrvadd.pas
M	compiler/riscv/nrvinl.pas
M	compiler/riscv32/cpuinfo.pas
M	compiler/riscv32/cpupara.pas
M	compiler/riscv32/nrv32mat.pas
M	compiler/riscv64/cpuinfo.pas
M	compiler/systems/i_embed.pas
M	compiler/systems/t_embed.pas

******************************************************************************
commit e53cb61b1122262554c744b8a9a5e10f11bdc870
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Jul 7 11:24:44 2019 +0000

    Add support for softfloat in RISCV RTL.
    
    git-svn-id: trunk@42334 -

M	rtl/riscv64/mathu.inc
M	rtl/riscv64/riscv64.inc

******************************************************************************
commit 9c77e87dd0dcb7a59ac1b899fbb8e2d565204f34
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Jul 6 17:04:51 2019 +0000

    Fix types on embedded RTL.
    Optimize consoleio for size on AVR.
    Add support for RISC-V.
    Regenerated makefile
    
    git-svn-id: trunk@42333 -

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
M	rtl/embedded/consoleio.pp
M	rtl/embedded/sysfile.inc
M	rtl/embedded/sysosh.inc
M	rtl/embedded/system.cfg
M	rtl/embedded/sysutils.pp

******************************************************************************
commit 40082100e1f688f755fd6726e01162fbf2af3c6c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 6 09:57:32 2019 +0000

      * fixed range test optimization for signed types and enabled it for them
    
    git-svn-id: trunk@42332 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw34385a.pp

******************************************************************************
commit 433f07c407ae63042733d51ea4ca3348fb3e97d3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 5 15:30:53 2019 +0000

    * forgot to commit tests in r42329
    
    git-svn-id: trunk@42330 -

M	.gitattributes
A	tests/webtbs/tw35670a.pp
A	tests/webtbs/tw35670b.pp

******************************************************************************
commit 67cf63049d4f37852306f5be9681093c5e760f41
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 1 19:42:48 2019 +0000

    Commit patch submitted in bug report #35787 by Gareth Moreton
    
    git-svn-id: trunk@42318 -

M	compiler/node.pas
M	compiler/psub.pas

******************************************************************************
commit b9649d17a59522fc9f069b8707b18c111dc73a88
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 1 17:34:08 2019 +0000

     Commit modified file after commit #42260
    
    git-svn-id: trunk@42317 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 56acdd3a11576ff9473ac42b59dad47ee2f6ecc6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 30 17:19:31 2019 +0000

      * fixed compilation with -dTest_Double_checksum_write
    
    git-svn-id: trunk@42314 -

M	compiler/fppu.pas

******************************************************************************
commit 40f6a4ea3c36aae0b4da2e3185b533826286b089
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 30 16:24:48 2019 +0000

      - removed remnants of old ppu file support (ppudump does not support any
        other ppu version than the current one anyway)
    
    git-svn-id: trunk@42313 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit cc9f8b7f5685e205695165386f3d262b0c02132f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 30 16:24:44 2019 +0000

      * record in ppu flag whether or not symbols are ansistrings, and use that
        flag in ppudump rather than hardcoding targets (it's also the case for
        LLVM)
    
    git-svn-id: trunk@42312 -

M	compiler/fppu.pas
M	compiler/globtype.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 789f13eb247ab4a811112b430d294a4bf70b9c44
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 30 15:23:36 2019 +0000

      * LLVM-specific support for popcnt
    
    git-svn-id: trunk@42311 -

M	compiler/llvm/nllvminl.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 0a91fcb44fb7cb51476ccc0ad2bd833d1f5af8c0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 29 16:27:18 2019 +0000

      * LLVM-specific support for bsr*/bsf*
    
    git-svn-id: trunk@42309 -

M	compiler/llvm/nllvminl.pas
M	compiler/nbas.pas
M	compiler/ninl.pas
M	compiler/options.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 6b97c712f69b190f2a9139d829fe5741d4430c3d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 29 16:27:14 2019 +0000

      * volatile syms should never be regable
    
    git-svn-id: trunk@42308 -

M	compiler/symsym.pas

******************************************************************************
commit 98f55b1d8605ab1e5828d3a710df8c6e1afdad18
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 29 16:27:10 2019 +0000

      * also register symbols referenced from assembler via asolutevarsyms
    
    git-svn-id: trunk@42307 -

M	compiler/rautils.pas

******************************************************************************
commit c425c51963854f592da4b9dbccef198959619cd6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 29 12:17:49 2019 +0000

      * simplify and optimize generated LLVM code for case statements
    
    git-svn-id: trunk@42305 -

M	.gitattributes
M	compiler/llvm/llvmnode.pas
A	compiler/llvm/nllvmset.pas

******************************************************************************
commit 982a870b15184d033e72efb19b743947c43a8db8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jun 28 13:30:35 2019 +0000

    * remaining fix for Mantis #35346: add "inline" directives to various methods of tentryfile
    
    git-svn-id: trunk@42304 -

M	compiler/entfile.pas

******************************************************************************
commit a57899323426c8e1d5cd5ae6bc1100464c1f1ae7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jun 28 13:30:33 2019 +0000

    * partial fix for Mantis #35346: more "inline" directives for TCStream and TCMemoryStream methods
    
    git-svn-id: trunk@42303 -

M	compiler/cstreams.pas

******************************************************************************
commit 7ef3d39d93b8a07c88d5359e7d40bf46cecb6614
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Jun 27 19:20:45 2019 +0000

      * one more disable location of DoPipe in case not on a Unix platform
        (mantis #35743)
    
    git-svn-id: trunk@42302 -

M	compiler/assemble.pas

******************************************************************************
commit 243c967967070429195b93b0cb51d2b406badb4d
Author: pierre <pierre@freepascal.org>
Date:   Sat Jun 22 14:08:47 2019 +0000

      Commit of new debug feature implemented by J. Gareth Moreton
      Allows compilation of compiler using -dDEBUG_NODE_XML
      which will generate a NAME-node-dump.xml file for each
      unit, program or library compiled,
      containing a XML description of the nodes handled during
      compilation of the unit, program or library.
    
    git-svn-id: trunk@42271 -

M	compiler/finput.pas
M	compiler/i8086/n8086con.pas
M	compiler/nbas.pas
M	compiler/ncal.pas
M	compiler/ncnv.pas
M	compiler/ncon.pas
M	compiler/nflw.pas
M	compiler/ninl.pas
M	compiler/nld.pas
M	compiler/nmem.pas
M	compiler/node.pas
M	compiler/nset.pas
M	compiler/pmodules.pas
M	compiler/psub.pas

******************************************************************************
commit fb387da807808444d289240bc5f55b66dc379e23
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 22 13:31:02 2019 +0000

      * use variables of correct size with movd (test checks whether movd only
        reads 32 bit even when destination is xmm register) (mantis #35701,
        as noted by J. Gareth Moreton)
    
    git-svn-id: trunk@42268 -

M	tests/webtbs/tw13294.pp

******************************************************************************
commit ee1be45df9e25993bc8c8289e7b8bd814064197a
Merge: b9c16b98d1 b08b6a17bd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jun 21 16:56:44 2019 +0000

      * reintegrated debug_eh branch
       o the LLVM compiler is now functional for Darwin/x86-64, and also (but less
         tested) for Linux/x86-64, Linux/AArch64 and Linux/ARMHF. See
         https://wiki.freepascal.org/LLVM for details and the current state
       o Dwarf-eh-based "zero-cost" exceptions are available with the regular
         code generators for Linux/x86-64 and Linux/i386 if the compiler is
         compiled with -dpsabieh
    
    git-svn-id: trunk@42260 -


******************************************************************************
commit d6174499b1fdc948c28db191080da7f144c93d15
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jun 18 19:16:33 2019 +0000

      * disable array and record regvars for all cpuhighleveltarget platforms
    
    git-svn-id: trunk@42246 -

M	compiler/symdef.pas

******************************************************************************
commit 25878f9eb2e6859a2b9a64639a8f3fff25a6ff7c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jun 17 20:19:48 2019 +0000

    put #ifdef TARGETOS / #endif around the gcclib section, otherwise the various host paths can cause a hard to debug mess during crosscompiling in some cases
    
    git-svn-id: trunk@42243 -

M	utils/fpcmkcfg/fpcmkcfg.pp

******************************************************************************
commit 5d4af28c0ff54f1b7d6d97f35a55074865612445
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 17 01:53:38 2019 +0000

    + implemented TOmfRecord_COMENT_IMPDEF.DecodeFrom
    
    git-svn-id: trunk@42242 -

M	compiler/omfbase.pas

******************************************************************************
commit d80dc03ccbaae1a432356148b88f20a36a9ed72b
Author: florian <florian@freepascal.org>
Date:   Sun Jun 16 21:43:46 2019 +0000

    * building on powerpc and arm fixed
    
    git-svn-id: trunk@42241 -

M	compiler/ncgmem.pas

******************************************************************************
commit 749c4d4e4724910f52059874df8d6fb12111a6d3
Author: florian <florian@freepascal.org>
Date:   Sun Jun 16 21:29:48 2019 +0000

    + keep (certain) arrays in registers if they are used with constants indices only
    
    git-svn-id: trunk@42239 -

M	compiler/defutil.pas
M	compiler/hlcgobj.pas
M	compiler/ncgmem.pas
M	compiler/ncnv.pas
M	compiler/nmem.pas
M	compiler/symdef.pas

******************************************************************************
commit fbbf1f4f1cf29d23bdc337dcc7064e5e69aa3218
Author: nickysn <nickysn@gmail.com>
Date:   Sat Jun 15 22:14:09 2019 +0000

    + Implemented TOmfRecord_COMENT_EXPDEF.DecodeFrom
    
    git-svn-id: trunk@42238 -

M	compiler/omfbase.pas

******************************************************************************
commit cbf95aebf44616969cd12b1f3f3a984b1d9f7295
Author: nickysn <nickysn@gmail.com>
Date:   Sat Jun 15 00:30:07 2019 +0000

    + introduced the TOmfRecord_COMENT_EXPDEF class. Use that to generate export
      libraries instead of generating the magic string directly.
    
    git-svn-id: trunk@42237 -

M	compiler/omfbase.pas
M	compiler/systems/t_win16.pas

******************************************************************************
commit eea3eb1a8ec754748b565690cb590f5c0292da74
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 23:50:48 2019 +0000

    + introduced the TOmfRecord_COMENT_IMPDEF class. Use it to encode the IMPDEF
      records instead of encoding them directly.
    
    git-svn-id: trunk@42236 -

M	compiler/ogomf.pas
M	compiler/omfbase.pas

******************************************************************************
commit 85684eb66d671df344c3395aa97ccd3ef591a137
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 23:26:37 2019 +0000

    + introduced the TOmfRecord_COMENT_Subtype abstract class
    
    git-svn-id: trunk@42235 -

M	compiler/omfbase.pas

******************************************************************************
commit 9fe80d741686ccd0e1ad78be9af35c82de80a4f1
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 23:11:25 2019 +0000

    + use the new CC_OmfExtension_IMPDEF constant instead of the direct magic value
      when writing IMPDEF records
    
    git-svn-id: trunk@42234 -

M	compiler/ogomf.pas

******************************************************************************
commit 4f3a5cfd1ee6cdf21242bb730c2aef6c1744610a
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 23:10:38 2019 +0000

    + use the new CC_OmfExtension_EXPDEF constant instead of the direct magic value
      when writing export libraries
    
    git-svn-id: trunk@42233 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 0db19546efc81de7638ea76bb323d00b1b8ea20e
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 23:06:58 2019 +0000

    + dispatch the IMPDEF and EXPDEF records to the newly introduced ReadImpDef and
      ReadExpDef methods (not implemented yet)
    
    git-svn-id: trunk@42232 -

M	compiler/ogomf.pas

******************************************************************************
commit cdd2ba1a4deadb65f70f19db565c8136f6722885
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 22:59:50 2019 +0000

    + added constants for the known CC_OmfExtension record subtypes (IMPDEF and
      EXPDEF are the ones we care about - they are used in win16 dll import and
      export libraries)
    
    git-svn-id: trunk@42231 -

M	compiler/omfbase.pas

******************************************************************************
commit fe49522e6fbccf6fda941da340818b23e29dc1c1
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 22:40:11 2019 +0000

    + register a win16 dll scanner. Not functional yet.
    
    git-svn-id: trunk@42230 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 1f3d5e88653a37b06dd3de08d68b2083a323fc31
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 22:24:19 2019 +0000

    - remove the tiny memory model code from TInternalLinkerWin16.DefaultLinkScript,
      because the Win16 target doesn't support the tiny memory model
    
    git-svn-id: trunk@42229 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 9eaa46f7919d676acae31c785f8eb35b00138a1e
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 22:20:51 2019 +0000

    + implement TInternalLinkerWin16.DefaultLinkScript by copying the MS-DOS
      implementation (not correct, but a good starting point)
    
    git-svn-id: trunk@42228 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit db1903f45d6757f3d18799002df426b66fa4a0d6
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 16:42:45 2019 +0000

    + added a win16 internal linker class. Not functional yet.
    
    git-svn-id: trunk@42226 -

M	compiler/systems.inc
M	compiler/systems/t_win16.pas

******************************************************************************
commit d3c3f2742c87a5dbd6360e5e8f4cbfc0d72dadce
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 16:23:23 2019 +0000

    + added class TNewExeOutput. Not functional yet.
    
    git-svn-id: trunk@42225 -

M	compiler/ogomf.pas

******************************************************************************
commit 7871ccd0546ee221079bb9f5c173d6d3eee4b23e
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 15:51:25 2019 +0000

    + initialize some defaults in the TNewExeHeader constructor
    
    git-svn-id: trunk@42224 -

M	compiler/ogomf.pas

******************************************************************************
commit 1474db42e45589fd8ee3f4a060e7efccacb4e7c7
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 14:16:22 2019 +0000

    + added class TNewExeHeader that encapsulates a NewExe header and allows writing it to a file
    
    git-svn-id: trunk@42223 -

M	compiler/ogomf.pas

******************************************************************************
commit a9b015911dda052989f7c64a5604314a4cdc07b1
Author: Legolas <legolas@idefix.freepascal.org>
Date:   Wed Jun 12 16:35:25 2019 +0000

    * Updated Wii port to libogc 1.8.22
    
    git-svn-id: trunk@42216 -

M	compiler/systems/t_wii.pas
M	packages/libogcfpc/src/network.pp
M	packages/libogcfpc/src/ogc/arqmgr.inc
M	packages/libogcfpc/src/ogc/cast.inc
M	packages/libogcfpc/src/ogc/dsp.inc
M	packages/libogcfpc/src/ogc/gx.inc
M	packages/libogcfpc/src/ogc/isfs.inc
M	packages/libogcfpc/src/ogc/lwp_watchdog.inc
M	packages/libogcfpc/src/ogc/si.inc
M	packages/libogcfpc/src/ogc/system.inc
M	packages/libogcfpc/src/ogc/usbstorage.inc
M	packages/libogcfpc/src/ogcsys.inc
M	packages/libogcfpc/src/sdcard/card_io.inc

******************************************************************************
commit 73c88619293407e62f358e0442389fb3cc10a87f
Author: florian <florian@freepascal.org>
Date:   Tue Jun 11 20:03:47 2019 +0000

    * suppress warning for targets without MM registers
    
    git-svn-id: trunk@42214 -

M	compiler/hlcg2ll.pas

******************************************************************************
commit dec03b5ac7d43c9462d930f53a61a6e1514b5b08
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 11 15:51:40 2019 +0000

    + added the asmmodes_x86_att set constant - similar to asmmode_x86_intel, but for AT&T asm syntax
    
    git-svn-id: trunk@42212 -

M	compiler/systems.pas

******************************************************************************
commit 697f2fcf755fa92f67644acd88b1c1827c2ad8cd
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 16:19:06 2019 +0000

    * prettify the "Use of -offset(%esp), access may cause a crash or value may be
      lost" warning by showing the exact register used (esp or rsp) and using the
      asm syntax (Intel or AT&T) used originally in the code
    
    git-svn-id: trunk@42211 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/rax86.pas

******************************************************************************
commit d2b3da1f145484472d9ab905805715dd55a8575a
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 15:58:16 2019 +0000

    + add asmmode_standard to the asmmodes_x86_intel set on i8086, because i8086 defaults to intel syntax
    
    git-svn-id: trunk@42210 -

M	compiler/systems.pas

******************************************************************************
commit ce8ec3ab5d5d8458b16c2e19e2650ec16822e542
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 15:44:19 2019 +0000

    + introduced the asmmodes_x86_intel constant set
    
    git-svn-id: trunk@42209 -

M	compiler/systems.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit 4f2ab3fb1130a34460f5a2c5c0fa8db24d8f036c
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 15:26:46 2019 +0000

    * prettify the "Use of -offset(%ebp) is not recommended for local variable
      access" warning by showing the exact register used (bp, ebp or rbp) and using
      the original asm syntax
    
    git-svn-id: trunk@42208 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/rax86.pas

******************************************************************************
commit 1e07606cbfb0166728c305cd73d35d28a3d9ccfe
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 15:08:46 2019 +0000

    * prettify the "Use of +offset(%ebp) is not compatible with regcall convention"
      and "Use of +offset(%ebp) for parameters invalid here" warning messages by
      showing the exact register used (bp, ebp or rbp) and using the original asm
      syntax (Intel: [EBP+offset]; AT&T: +offset(%ebp) )
    
    git-svn-id: trunk@42207 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/rax86.pas

******************************************************************************
commit 2487fa76056397bdca5711c3360bfb27f0620b4c
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 13:06:58 2019 +0000

    + added set TNewExeSegmentFlags
    
    git-svn-id: trunk@42203 -

M	compiler/ogomf.pas

******************************************************************************
commit 7c02f2b5314b4527db41eba28860ac5e121779bd
Author: Legolas <legolas@idefix.freepascal.org>
Date:   Mon Jun 10 06:39:46 2019 +0000

    * Nintendo DS port updated to libnds ver.1.7.3
    
    git-svn-id: trunk@42202 -

M	.gitattributes
M	compiler/systems/t_nds.pas
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/audio_modes.pp
M	packages/libndsfpc/examples/audio/maxmod/reverb/reverb.pp
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/song_events_example.pp
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/song_events_example2.pp
M	packages/libndsfpc/examples/audio/maxmod/streaming/streaming.pp
M	packages/libndsfpc/examples/audio/micrecord/micrecord.pp
M	packages/libndsfpc/examples/card/eeprom/eeprom.pp
M	packages/libndsfpc/examples/ds_motion/dsMotion.pp
M	packages/libndsfpc/examples/dswifi/ap_search/apSearch.pp
M	packages/libndsfpc/examples/dswifi/autoconnect/autoconnect.pp
M	packages/libndsfpc/examples/dswifi/httpget/httpget.pp
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/libfatdir.pp
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/3DBothScreens.pp
M	packages/libndsfpc/examples/graphics/3D/BoxTest/BoxTest.pp
M	packages/libndsfpc/examples/graphics/3D/Display_List/DisplayList.pp
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/DisplayList2.pp
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/EnvMapping.pp
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/MixedText3D.pp
M	packages/libndsfpc/examples/graphics/3D/Ortho/Ortho.pp
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/PalettedCube.pp
M	packages/libndsfpc/examples/graphics/3D/Picking/Picking.pp
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/SimpleQuad.pp
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/SimpleTri.pp
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/TexturedCube.pp
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/TexturedQuad.pp
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/ToonShading.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/lesson01.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/lesson02.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/lesson03.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/lesson04.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/lesson05.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/lesson06.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/lesson07.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/lesson08.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/lesson09.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/lesson10.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/lesson10b.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/lesson11.pp
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/BackgroundAllInOne.pp
M	packages/libndsfpc/examples/graphics/Makefile.fpc
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/AnsiConsole.pp
M	packages/libndsfpc/examples/graphics/Printing/console_windows/ConsoleWindows.pp
M	packages/libndsfpc/examples/graphics/Printing/custom_font/CustomFont.pp
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/printBothScreens.pp
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/RotscaleText.pp
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/AllocationTest.pp
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/BitmapSprites.pp
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/FireAndSprites.pp
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/data/ball.pcx
A	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
A	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile.fpc
A	packages/libndsfpc/examples/graphics/grit/256colorTilemap/gfx/tilemap.grit
A	packages/libndsfpc/examples/graphics/grit/256colorTilemap/gfx/tilemap.png
A	packages/libndsfpc/examples/graphics/grit/256colorTilemap/tilemap_256_color.pp
A	packages/libndsfpc/examples/graphics/grit/Makefile.fpc
M	packages/libndsfpc/examples/hello_world/helloWorld.pp
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile.fpc
M	packages/libndsfpc/src/dswifi/inc/dswifi9.inc
M	packages/libndsfpc/src/fat/fat.inc
M	packages/libndsfpc/src/fat/gbfs.pp
A	packages/libndsfpc/src/nds/arm7/aes.inc
M	packages/libndsfpc/src/nds/arm7/audio.inc
M	packages/libndsfpc/src/nds/arm7/clock.inc
A	packages/libndsfpc/src/nds/arm7/codec.inc
M	packages/libndsfpc/src/nds/arm7/sdmmc.inc
M	packages/libndsfpc/src/nds/arm7/touch.inc
A	packages/libndsfpc/src/nds/arm9/cache_asm.inc
M	packages/libndsfpc/src/nds/arm9/dldi.inc
A	packages/libndsfpc/src/nds/arm9/dldi_asm.inc
M	packages/libndsfpc/src/nds/arm9/guitarGrip.inc
M	packages/libndsfpc/src/nds/arm9/math.inc
A	packages/libndsfpc/src/nds/arm9/nand.inc
M	packages/libndsfpc/src/nds/arm9/sassert.inc
M	packages/libndsfpc/src/nds/arm9/sprite.inc
M	packages/libndsfpc/src/nds/arm9/video.inc
M	packages/libndsfpc/src/nds/card.inc
M	packages/libndsfpc/src/nds/disc_io.inc
M	packages/libndsfpc/src/nds/dma.inc
M	packages/libndsfpc/src/nds/fifocommon.inc
M	packages/libndsfpc/src/nds/fifomessages.inc
M	packages/libndsfpc/src/nds/interrupts.inc
M	packages/libndsfpc/src/nds/libversion.inc
M	packages/libndsfpc/src/nds/memory.inc
M	packages/libndsfpc/src/nds/ndsinclude.inc
M	packages/libndsfpc/src/nds/ndstypes.inc
M	packages/libndsfpc/src/nds/registers_alt.inc
A	packages/libndsfpc/src/nds/rsa.inc
A	packages/libndsfpc/src/nds/sha1.inc
M	packages/libndsfpc/src/nds/system.inc
M	packages/libndsfpc/src/nds7.pp
M	packages/libndsfpc/src/nds9.pp
M	rtl/nds/cprt07.as
M	rtl/nds/cprt09.as
M	rtl/nds/prt07.as
M	rtl/nds/prt09.as
M	rtl/nds/system.pp

******************************************************************************
commit 4239742b35471d8c36d1dca9c2bec527d66c12de
Author: Legolas <legolas@idefix.freepascal.org>
Date:   Sun Jun 9 22:27:16 2019 +0000

     * GBA port updated
    
    git-svn-id: trunk@42201 -

M	compiler/systems/t_gba.pas
M	packages/libgbafpc/Makefile.fpc.fpcmake
M	packages/libgbafpc/src/gba/gba_sound.inc
M	rtl/gba/cprt0.as
M	rtl/gba/prt0.as

******************************************************************************
commit fe99252a9b71bac16570c95e54f4165312d12fce
Author: florian <florian@freepascal.org>
Date:   Sun Jun 9 20:08:09 2019 +0000

    * lazarus version update
    
    git-svn-id: trunk@42198 -

M	compiler/pp.lpi

******************************************************************************
commit 17c48694a50b69e1f8ae9f10b878a5057ab4b02a
Author: florian <florian@freepascal.org>
Date:   Sun Jun 9 20:05:21 2019 +0000

    * fix bootstrapping with 3.0.x and -O3
    
    git-svn-id: trunk@42197 -

M	compiler/fpcdefs.inc

******************************************************************************
commit 1dee4c41dd487adbc3eef94ac974f069deefcb6e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jun 7 18:17:55 2019 +0000

      - removed "cmp 0/1, pasbool1" optimization for llvm because this discards
        the upper 7 bits of the boolean, while other platforms take it into
        account (even though they're technically always required to be 0, and
        the value is undefined if they're not)
    
    git-svn-id: trunk@42189 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 465e8a99e00aef67489c91014f6bf2dcd67b4545
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 7 14:15:07 2019 +0000

    + added type TNewExeAdditionalHeaderFlags
    
    git-svn-id: trunk@42188 -

M	compiler/ogomf.pas

******************************************************************************
commit ded3dec22af8e83e1338569ca7cbe6daad23d3f6
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 7 13:09:35 2019 +0000

    + added enum TNewExeTargetOS
    
    git-svn-id: trunk@42187 -

M	compiler/ogomf.pas

******************************************************************************
commit 4dbccce43c24eea0f0e9d97e66ba84ce45a40e6b
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jun 6 16:00:29 2019 +0000

    + added TNewExeHeaderFlags type, describing the flags in the header of win16 executables
    
    git-svn-id: trunk@42179 -

M	compiler/ogomf.pas

******************************************************************************
commit 8e5e8774171802b15e395877621b2c5d13174890
Author: pierre <pierre@freepascal.org>
Date:   Wed Jun 5 12:00:53 2019 +0000

     Fix compilation with release 3.0.4 ppcarm
    
    git-svn-id: trunk@42175 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 750567f8e36edb9af45221299f76d2e33b1ac8bc
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Jun 3 22:10:49 2019 +0000

    Added T2 form of LDR/STR for SP relative forms.
    
    git-svn-id: trunk@42169 -

M	compiler/arm/armins.dat
M	compiler/arm/armnop.inc
M	compiler/arm/armtab.inc

******************************************************************************
commit eab079c7bd9d93bc3f02309e9ada641a7c43c60d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 2 20:04:06 2019 +0000

      * fixed cbool "and" with full boolean evaluation, and cbool "xor"
        (mantis #35272)
    
    git-svn-id: trunk@42167 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw35272.pp

******************************************************************************
commit dc681a75ecdd001fe5f3ce6d245f3c83651e35e5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 2 18:33:01 2019 +0000

      * properly return from the signal handler on ARM/Linux instead of calling
        HandleErrorAddrFrame directly (fixes psabieh exception handling, and
        generally is cleaner)
    
    git-svn-id: trunk@42166 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 322a717c446f4cc3e53966e908790a87cb309d2c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 2 18:32:58 2019 +0000

      * support for handling subsetrefs with bitlen > AIntBits in a_load_subsetref_reg() and
        a_load_const/reg_subsetref() (needed for handling 32 bit platforms using a purely
        high level code generator like LLVM's, and may also improve the situation for
        16 bit platforms)
       o can probably be optimized to split them into parts that cover partial word loads
         and complete word loads (to reduce useless merging)
    
    git-svn-id: trunk@42165 -

M	compiler/hlcgobj.pas

******************************************************************************
commit cba4aeaca5dcbed78c85b804ed7a5bded119446f
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Jun 1 20:30:09 2019 +0000

    Fix division of constants on ARM thumb without long multiplication.
    
    git-svn-id: trunk@42158 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit 9313ddea78051cc7ec69710462dc2e880080a1ed
Author: marco <marco@freepascal.org>
Date:   Fri May 31 10:32:49 2019 +0000

     * fix mantis 035656
    
    git-svn-id: trunk@42146 -

M	compiler/symdef.pas

******************************************************************************
commit 353da84b74e1622d006906c6c93be5fe3ca57b3b
Author: olivier <olivier.coursiere@laposte.net>
Date:   Fri May 31 10:10:05 2019 +0000

    + Added test object files for x86_64-haiku.
    
    git-svn-id: trunk@42145 -

M	.gitattributes
A	tests/test/cg/obj/haiku/x86_64/cpptcl1.o
A	tests/test/cg/obj/haiku/x86_64/cpptcl2.o
A	tests/test/cg/obj/haiku/x86_64/ctest.o
A	tests/test/cg/obj/haiku/x86_64/tcext3.o
A	tests/test/cg/obj/haiku/x86_64/tcext4.o
A	tests/test/cg/obj/haiku/x86_64/tcext5.o
A	tests/test/cg/obj/haiku/x86_64/tcext6.o
M	tests/test/cg/obj/readme.txt

******************************************************************************
commit 77658b925bef93b5ae127e686acf63cae731b234
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 25 12:31:32 2019 +0000

      * disable regular array -> dynamic array type coversion support unless
        {$modeswitch arraytodynarray} is active (mantis #35576)
       o changed compiler to compile without this modeswitch
       o added the modeswitch to a test that depends on it
    
    git-svn-id: trunk@42118 -

M	compiler/aarch64/cpupara.pas
M	compiler/arm/cpupara.pas
M	compiler/defcmp.pas
M	compiler/globtype.pas
M	compiler/i386/cpupara.pas
M	compiler/i8086/cpupara.pas
M	compiler/jvm/cpupara.pas
M	compiler/m68k/cpupara.pas
M	compiler/mips/cpupara.pas
M	compiler/paramgr.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc64/cpupara.pas
M	compiler/x86_64/cpupara.pas
M	tests/webtbs/tw2983.pp

******************************************************************************
commit 41f36233ea4d3366f988ec1b6eee3ec8a9024991
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue May 21 06:24:12 2019 +0000

      * more fpc_lib_exit change compilation fixes
    
    git-svn-id: trunk@42112 -

M	rtl/android/sysandroid.inc
M	rtl/wince/system.pp

******************************************************************************
commit dd418f24b594340b84eac3805f906c7dc97e2b7e
Author: pierre <pierre@freepascal.org>
Date:   Mon May 20 12:48:12 2019 +0000

     Add DEBUG_PPU conditional code to be able to debug ppu changes (only useful for debugging purposes)
    
    git-svn-id: trunk@42110 -

M	compiler/entfile.pas
M	compiler/ppu.pas

******************************************************************************
commit 669e705b544c32ad0cbe00973b7bf669fde04cf4
Author: pierre <pierre@freepascal.org>
Date:   Mon May 20 09:35:28 2019 +0000

     Change lib_exit to fpc_lib_exit in missed sources (to fix breakages after commit #42104)
    
    git-svn-id: trunk@42109 -

M	rtl/android/sysandroid.inc
M	rtl/java/jsystem.inc
M	rtl/wince/system.pp

******************************************************************************
commit 23428dbf4c62c3e6d23546f6322a79f68bf606af
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:51 2019 +0000

      * replaced non-breaking space with space (patch by J. Gareth Moreton,
        mantis #35602)
    
    git-svn-id: trunk@42105 -

M	tests/test/opt/tdfa19.pp

******************************************************************************
commit aad87820e687fd71d0c8f87b559b8f4b367df657
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:47 2019 +0000

      * abstracted registration of library init/fini routines (to be able to add
        LLVM support)
    
    git-svn-id: trunk@42104 -

M	compiler/ngenutil.pas
M	compiler/pmodules.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp
M	rtl/inc/compproc.inc
M	rtl/inc/system.inc

******************************************************************************
commit a418dc6c912099c870db748c09be7bd87bfe199a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:42 2019 +0000

      * made the fields array parameter of llvmgettemprecorddef "const", as it
        doesn't get modified and hence doesn't need to be copied
    
    git-svn-id: trunk@42103 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit 15532e5277d103c78bdaddfa11bf1fd40deecde8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:38 2019 +0000

      * disabled low-level hack test for LLVM
    
    git-svn-id: trunk@42102 -

M	tests/tbs/tb0508.pp

******************************************************************************
commit 4c34b7b67d9869f889d9b62a30cf2bfe1231d6ae
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:34 2019 +0000

      * fixed memory leak
    
    git-svn-id: trunk@42101 -

M	compiler/pexpr.pas

******************************************************************************
commit eb0f02348d240a2f68c662d83ab0cba140954b4d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:29 2019 +0000

      * fixed loading parent frame pointer for nested procvars on targets that
        that use explicit parentfp structs (fixes webtbs/tw17379 for llvm)
    
    git-svn-id: trunk@42100 -

M	compiler/ncgld.pas
M	tests/webtbs/tw17379.pp

******************************************************************************
commit 47812c8a3d5e4689d16d577507214929af857ff4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 18 18:41:38 2019 +0000

      * don't double-define function aliases for Darwin defined via ".set" directive
    
    git-svn-id: trunk@42095 -

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/hlcgobj.pas

******************************************************************************
commit 8ec3cd6390b6da0f42cb4cf79fe910c04dc9dd5d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 18 18:41:33 2019 +0000

      * append rather than insert the alias symbols for the program/procedure
        initialisation/finalisation routines
       o this ensures the procdef's mangled name and its first symbol match,
         which is required for Darwin when generating debug information and
         using ".set" directives to define alias symbols, because a symbol
         defined via ".set" cannot be used in a data relocations (and the DWARF
         debug generator uses the default mangled name, which used to correspond
         to the alias symbol due to the "insert" instead of "append")
    
    git-svn-id: trunk@42094 -

M	compiler/pmodules.pas

******************************************************************************
commit c330f5080cbd36d4ff747dcb4f382063f5e57dfd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 18 18:41:29 2019 +0000

      * replaced fpcunit custom code to obtaining a caller site with a call to
        CaptureBacktrace (prevents crashes when compiled with LLVM backend,
        and is generally more robust)
    
    git-svn-id: trunk@42093 -

M	packages/fcl-fpcunit/src/fpcunit.pp

******************************************************************************
commit 332679e28aabacc973453b31ba062f4141e919d9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 18 12:29:35 2019 +0000

      * updated German message files (patch by Karl-Michael Schindler,
        mantis #35559)
    
    git-svn-id: trunk@42092 -

M	compiler/msg/errord.msg
M	compiler/msg/errordu.msg

******************************************************************************
commit 7e51c5e8561c905ef0041a993ce933093da43798
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 18 12:01:41 2019 +0000

      * DFA now takes case-completeness into account (mantis #35598)
    
    git-svn-id: trunk@42091 -

M	.gitattributes
M	compiler/optdfa.pas
A	tests/test/opt/tdfa19.pp
A	tests/test/opt/tdfa20.pp

******************************************************************************
commit 2ff391c25c763d3aa585160c5643293571a37e29
Author: pierre <pierre@freepascal.org>
Date:   Fri May 17 06:39:57 2019 +0000

     Fix arm-aros rtl compilation
    
    git-svn-id: trunk@42090 -

M	compiler/arm/aasmcpu.pas

******************************************************************************
commit c0f064a35ceb3a847e6f976ba8879bd288bd2cd8
Author: pierre <pierre@freepascal.org>
Date:   Thu May 16 12:42:39 2019 +0000

     Remove two warnings about missing case (others are still present in ppudump.pp source)
    
    git-svn-id: trunk@42085 -

M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppuout.pp

******************************************************************************
commit 902ef73c7c5112bf522e69501e74121be8d2f5e8
Author: pierre <pierre@freepascal.org>
Date:   Thu May 16 08:24:45 2019 +0000

     Allways use local pt variable to ameliorate readability of code
    
    git-svn-id: trunk@42082 -

M	rtl/inc/system.inc

******************************************************************************
commit c8129c52284769ca11e459b405caca11c4f93acc
Author: pierre <pierre@freepascal.org>
Date:   Thu May 16 08:21:09 2019 +0000

     Disable 64-bit version of CPU_SOURCE is 32-bit
    
    git-svn-id: trunk@42081 -

M	rtl/unix/scripts/check_rtl_types.sh

******************************************************************************
commit ad6897ffd87d759c5140bd4c4f7de76c2d8898b9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue May 14 19:19:19 2019 +0000

      * fixed Darwin/AArch64 flt/int-div-by-zero error codes (fix for 42045, as
        noted by AlexeyT)
    
    git-svn-id: trunk@42064 -

M	rtl/darwin/aarch64/sighnd.inc

******************************************************************************
commit cf9596421bab9d2feb295e2bdbf013195a8061fb
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue May 14 19:19:14 2019 +0000

      * fixed crashes on platforms using parentfpstructs with generic routines
        that contain nested functions (when specialised, procedures don't have
        the main function of the unit/program as parent procinfo)
    
    git-svn-id: trunk@42063 -

M	compiler/ncgnstld.pas
M	compiler/ncgnstmm.pas
M	compiler/symdef.pas

******************************************************************************
commit b291d17fc5e3b53ce4e8cc5f37d6f9717a9f2288
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon May 13 20:30:28 2019 +0000

      * fix overflow errors in case coverage code
    
    git-svn-id: trunk@42059 -

M	compiler/nset.pas

******************************************************************************
commit e4385d1b194ba1704a6e361f7f07cf5cc29eafdb
Author: michael <michael@freepascal.org>
Date:   Mon May 13 20:15:00 2019 +0000

    * Fix bug ID #35576
    
    git-svn-id: trunk@42057 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit dc592a888fd69ab284ed8996f18733bdbefe68fc
Author: michael <michael@freepascal.org>
Date:   Mon May 13 11:47:46 2019 +0000

    * Make explicit that Integer is 32-bit
    
    git-svn-id: trunk@42056 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit 883d1f2a792ddc42403ca08d7a5202ba1f1333e1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 21:08:42 2019 +0000

      - removed test that shortstring is aligned to a multiple of pointer size,
        as the compiler does not guarantee any such thing
    
    git-svn-id: trunk@42053 -

M	tests/test/talign2.pp

******************************************************************************
commit 0227c55b5394997da79ac041b183ebc2afc7605f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 21:08:39 2019 +0000

      - removed explicit linking of ptest.o, as that happens already automatically
        due to the "uses ptest" and breaks LTO (then both ptest.o and ptest.bc
        get linked, resulting in duplicate symbols)
    
    git-svn-id: trunk@42052 -

M	tests/test/cg/tcalpext.pp

******************************************************************************
commit fdccb0d62fc1145356a31c16d8e340d6f4130ae5
Author: michael <michael@freepascal.org>
Date:   Sun May 12 15:36:04 2019 +0000

    * FIx compilation with 3.0.4
    
    git-svn-id: trunk@42049 -

M	rtl/objpas/classes/streams.inc

******************************************************************************
commit 58f1a8513b9c748e7c9bb752bfd70eff22c0a36c
Author: michael <michael@freepascal.org>
Date:   Sun May 12 15:33:26 2019 +0000

    * FIx compilation for platforms that do not have extended
    
    git-svn-id: trunk@42048 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit ba1b4b1c920a86bf7f8c6fe8777026e0092a9651
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 14:29:11 2019 +0000

      + support for verifying whether a case statements handles all possibilities
        (based on patch by Martok)
       o enabled by default in ISO and Extended Pascal: compile-time error if not
         the case in ISO mode, warning and run-time error in Extended Pascal mode
       o warning enabled by default in all other modes for boolean, enumeration and
         subrange integer types with ranges different from the default ones
         (i.e., different from 0..255, -128..127, 0..65536, etc)
       o warnings for all ordinal types can be enabled in all modes with
         -CC
    
    git-svn-id: trunk@42047 -

M	.gitattributes
M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ncgset.pas
M	compiler/nset.pas
M	compiler/options.pas
M	compiler/optutils.pas
M	compiler/scandir.pas
M	compiler/scanner.pas
M	compiler/x86/nx86set.pas
M	compiler/x86_64/nx64set.pas
A	tests/test/tcasecov1.pp
A	tests/test/tcasecov2.pp
A	tests/test/tcasecov3.pp
A	tests/test/tcasecov4.pp
A	tests/test/tcasecov5.pp
A	tests/test/tcasecov6.pp
A	tests/test/tcasecov7.pp
A	tests/test/tcasecov8.pp
A	tests/test/tcasecov9.pp

******************************************************************************
commit 281b3ad276d8b66085fde25139123a574ef06afd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 14:29:03 2019 +0000

      * fix case completeness and unreachable code warnings in compiler that would
        be introduced by the next commit
    
    git-svn-id: trunk@42046 -

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/aoptcpu.pas
M	compiler/aarch64/aoptcpub.pas
M	compiler/aarch64/cgcpu.pas
M	compiler/aarch64/cpupara.pas
M	compiler/aarch64/racpu.pas
M	compiler/aarch64/racpugas.pas
M	compiler/aarch64/rgcpu.pas
M	compiler/aasmsym.pas
M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/aopt.pas
M	compiler/aoptobj.pas
M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/aoptcpu.pas
M	compiler/arm/aoptcpub.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpubase.pas
M	compiler/arm/cpuelf.pas
M	compiler/arm/cpupara.pas
M	compiler/arm/cpupi.pas
M	compiler/arm/narmadd.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/raarmgas.pas
M	compiler/arm/rgcpu.pas
M	compiler/assemble.pas
M	compiler/cfidwarf.pas
M	compiler/cgobj.pas
M	compiler/dbgbase.pas
M	compiler/dbgcodeview.pas
M	compiler/dbgdwarf.pas
M	compiler/dbgstabs.pas
M	compiler/dbgstabx.pas
M	compiler/defcmp.pas
M	compiler/defutil.pas
M	compiler/fppu.pas
M	compiler/gendef.pas
M	compiler/hlcg2ll.pas
M	compiler/hlcgobj.pas
M	compiler/htypechk.pas
M	compiler/i386/aoptcpu.pas
M	compiler/i386/cgcpu.pas
M	compiler/i386/cpuelf.pas
M	compiler/i386/cpupara.pas
M	compiler/i386/n386add.pas
M	compiler/i8086/aoptcpu.pas
M	compiler/i8086/cgcpu.pas
M	compiler/i8086/cpupara.pas
M	compiler/i8086/n8086add.pas
M	compiler/i8086/symcpu.pas
M	compiler/jvm/agjasmin.pas
M	compiler/jvm/aoptcpu.pas
M	compiler/jvm/cpupara.pas
M	compiler/jvm/dbgjasm.pas
M	compiler/jvm/hlcgcpu.pas
M	compiler/jvm/jvmdef.pas
M	compiler/jvm/njvmcnv.pas
M	compiler/jvm/njvmcon.pas
M	compiler/jvm/njvminl.pas
M	compiler/jvm/rgcpu.pas
M	compiler/jvm/tgcpu.pas
M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmtype.pas
M	compiler/llvm/nllvmbas.pas
M	compiler/llvm/nllvmld.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/llvm/rgllvm.pas
M	compiler/mips/aasmcpu.pas
M	compiler/mips/aoptcpu.pas
M	compiler/mips/cgcpu.pas
M	compiler/mips/cpubase.pas
M	compiler/mips/cpuelf.pas
M	compiler/mips/cpupara.pas
M	compiler/mips/hlcgcpu.pas
M	compiler/mips/itcpugas.pas
M	compiler/mips/ncpuadd.pas
M	compiler/mips/ncpuld.pas
M	compiler/nadd.pas
M	compiler/nbas.pas
M	compiler/ncal.pas
M	compiler/ncgbas.pas
M	compiler/ncgcal.pas
M	compiler/ncgcnv.pas
M	compiler/ncgcon.pas
M	compiler/ncgld.pas
M	compiler/ncgmem.pas
M	compiler/ncgnstld.pas
M	compiler/ncgrtti.pas
M	compiler/ncgset.pas
M	compiler/ncgutil.pas
M	compiler/ncgvmt.pas
M	compiler/ncnv.pas
M	compiler/ncon.pas
M	compiler/ngenutil.pas
M	compiler/ngtcon.pas
M	compiler/ninl.pas
M	compiler/nmat.pas
M	compiler/nmem.pas
M	compiler/nopt.pas
M	compiler/nset.pas
M	compiler/nutils.pas
M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogelf.pas
M	compiler/ogmacho.pas
M	compiler/ogomf.pas
M	compiler/omfbase.pas
M	compiler/optdfa.pas
M	compiler/options.pas
M	compiler/optloop.pas
M	compiler/opttail.pas
M	compiler/optutils.pas
M	compiler/optvirt.pas
M	compiler/parabase.pas
M	compiler/paramgr.pas
M	compiler/parser.pas
M	compiler/pbase.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pdecvar.pas
M	compiler/pexports.pas
M	compiler/pexpr.pas
M	compiler/pgenutil.pas
M	compiler/pkgutil.pas
M	compiler/powerpc/agppcmpw.pas
M	compiler/powerpc/aoptcpu.pas
M	compiler/powerpc/cgcpu.pas
M	compiler/powerpc/cpubase.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc/nppcadd.pas
M	compiler/powerpc/nppcmat.pas
M	compiler/powerpc/rappcgas.pas
M	compiler/powerpc64/cgcpu.pas
M	compiler/powerpc64/cpubase.pas
M	compiler/powerpc64/cpupara.pas
M	compiler/powerpc64/nppcadd.pas
M	compiler/powerpc64/rappcgas.pas
M	compiler/pparautl.pas
M	compiler/ppcgen/aasmcpu.pas
M	compiler/ppcgen/agppcgas.pas
M	compiler/ppcgen/cgppc.pas
M	compiler/ppcgen/ngppcadd.pas
M	compiler/psub.pas
M	compiler/ptype.pas
M	compiler/rautils.pas
M	compiler/rgobj.pas
M	compiler/riscv/aasmcpu.pas
M	compiler/riscv/agrvgas.pas
M	compiler/riscv32/aoptcpu.pas
M	compiler/riscv32/cpubase.pas
M	compiler/riscv32/cpupara.pas
M	compiler/riscv32/cpupi.pas
M	compiler/riscv32/nrv32cnv.pas
M	compiler/riscv32/rarv32gas.pas
M	compiler/riscv64/aoptcpu.pas
M	compiler/riscv64/cgcpu.pas
M	compiler/riscv64/cpubase.pas
M	compiler/riscv64/cpupara.pas
M	compiler/riscv64/cpupi.pas
M	compiler/riscv64/rarv64gas.pas
M	compiler/scanner.pas
M	compiler/sparc/cgcpu.pas
M	compiler/sparc/cpupara.pas
M	compiler/sparc64/cpugas.pas
M	compiler/sparc64/cpupara.pas
M	compiler/sparcgen/aoptcpu.pas
M	compiler/sparcgen/cgsparc.pas
M	compiler/sparcgen/cpugas.pas
M	compiler/sparcgen/itcpugas.pas
M	compiler/sparcgen/rgcpu.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtable.pas
M	compiler/symtype.pas
M	compiler/symutil.pas
M	compiler/systems/t_amiga.pas
M	compiler/systems/t_bsd.pas
M	compiler/systems/t_embed.pas
M	compiler/systems/t_macos.pas
M	compiler/systems/t_nds.pas
M	compiler/systems/t_win.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/agx86att.pas
M	compiler/x86/agx86int.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/cpubase.pas
M	compiler/x86/nx86add.pas
M	compiler/x86/nx86cnv.pas
M	compiler/x86/nx86ld.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86/nx86mem.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86att.pas
M	compiler/x86/rax86int.pas
M	compiler/x86/rgx86.pas
M	compiler/x86/symx86.pas
M	compiler/x86_64/aoptcpu.pas
M	compiler/x86_64/cpuelf.pas
M	compiler/x86_64/cpupara.pas
M	compiler/x86_64/nx64flw.pas
M	compiler/x86_64/win64unw.pas

******************************************************************************
commit 5c20481c7b0e0521e0747df6355b969dfee293ba
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 14:28:55 2019 +0000

      * fixed floating point div-by-zero RTE code on Darwin (208 instead of 200,
        fixes webtbs/tw32671)
    
    git-svn-id: trunk@42045 -

M	rtl/darwin/aarch64/sighnd.inc
M	rtl/darwin/arm/sighnd.inc
M	rtl/darwin/ppcgen/ppchnd.inc
M	rtl/darwin/x86/x86hnd.inc

******************************************************************************
commit f76cde1c4c5a6bee8562d5b754dec8e9e99d84d4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 14:28:52 2019 +0000

      * set correct fileinfo for statements_til_end() block
    
    git-svn-id: trunk@42044 -

M	compiler/pstatmnt.pas

******************************************************************************
commit 60efc9e81c1624e3d206082cdd0a658e45f22ba4
Author: michael <michael@freepascal.org>
Date:   Sun May 12 10:09:16 2019 +0000

    * Add Read/Write(Buffer) TBytes, ReadData/WriteData, ReadBufferData/WriteBufferData to be Delphi compatible
    
    git-svn-id: trunk@42042 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit 5a5b47fa24520aa9275ceca1d20a36ff3b39485c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri May 10 14:04:45 2019 +0000

    + add support for MultiHelpers modeswitch by Ryan Joseph for Mantis #35159
    + added tests
    
    git-svn-id: trunk@42026 -

M	.gitattributes
M	compiler/globtype.pas
M	compiler/htypechk.pas
M	compiler/symtable.pas
A	tests/test/tmshlp1.pp
A	tests/test/tmshlp10.pp
A	tests/test/tmshlp11.pp
A	tests/test/tmshlp12.pp
A	tests/test/tmshlp13.pp
A	tests/test/tmshlp14.pp
A	tests/test/tmshlp15.pp
A	tests/test/tmshlp16.pp
A	tests/test/tmshlp2.pp
A	tests/test/tmshlp3.pp
A	tests/test/tmshlp4.pp
A	tests/test/tmshlp5.pp
A	tests/test/tmshlp6.pp
A	tests/test/tmshlp7.pp
A	tests/test/tmshlp8.pp
A	tests/test/tmshlp9.pp
A	tests/test/umshlp1.pp
A	tests/test/umshlp15a.pp
A	tests/test/umshlp15b.pp

******************************************************************************
commit ebf2e277ab910631196dff8d58aba207ce7b0da3
Author: pierre <pierre@freepascal.org>
Date:   Tue May 7 11:26:44 2019 +0000

     Update syscall number for sparc and sparc64 based on results from unix/scripts/check_sys.sh
    
    git-svn-id: trunk@42019 -

M	rtl/linux/sparcgen/sysnr.inc

******************************************************************************
commit a7a67f3d3c8443304eb268ee78d46d502c1049d0
Author: pierre <pierre@freepascal.org>
Date:   Tue May 7 08:13:38 2019 +0000

      * Improve handling of command line args setting variables (did not work if it contained spaces)
      + Group all recognized macros into list_defines in preproc.awk file
      + Convert Pascal style hexadecimal constants into C style
    
    git-svn-id: trunk@42018 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 0a3a35152d74441c8b221e9f19a906a1a091396f
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 22:07:49 2019 +0000

     Also remove -m32 option for arm native GNU C compiler
    
    git-svn-id: trunk@42017 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit fae45b20752f63b270c3d270b0f7588067344802
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 21:13:42 2019 +0000

    Add first linux RTL compliance test file t_linux.h2paschk
    
    git-svn-id: trunk@42016 -

M	.gitattributes
A	rtl/linux/t_linux.h2paschk

******************************************************************************
commit 12647c348e57e0a0fe5826705d6e1c2b049e2fe1
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 21:10:12 2019 +0000

     Add script to use h2paschk on t_OS.h2paschk file for rtl tests for system header compliance
    
    git-svn-id: trunk@42015 -

M	.gitattributes
A	rtl/unix/scripts/check_rtl_types.sh

******************************************************************************
commit cb4b085a99c726875ec848162770185a00f388c6
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 21:08:47 2019 +0000

      * Also allow '-' in include file names
      + Add os_cpu and cpu_source variables
      * Cope with aarch64 GNU C compiler that does not support -m64 option
      + Add support for arm test on aarch64 machine
      * Better accept expressions instead of constants in C #define
    
    git-svn-id: trunk@42014 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 1e4442f1fa25431480c9b1f4194589b04b5fd28c
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 13:25:56 2019 +0000

     Add more system header constants
    
    git-svn-id: trunk@42010 -

M	rtl/openbsd/t_openbsd.h2paschk

******************************************************************************
commit 1d9220d2702a27e90cd6cddf2eb65561c3fb0161
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 10:17:10 2019 +0000

     Use %X instead of %x for C hexadecimal constants as Free Pascal hexstr uses uppercase characters A to F for values 10 to 15
    
    git-svn-id: trunk@42007 -

M	utils/h2pas/h2paschk.pas

******************************************************************************
commit b4baf9b49c9cb02cedb212fa9b444489ec9ba097
Author: pierre <pierre@freepascal.org>
Date:   Sat May 4 12:41:46 2019 +0000

     Link against libstdc++ and libc to avoid linking error for openbsd OS
    
    git-svn-id: trunk@41982 -

M	tests/test/cg/tcppcl2.pp

******************************************************************************
commit e7e96f98b2d4664f0561037ed7d465cf4c9d9cf3
Author: pierre <pierre@freepascal.org>
Date:   Sat May 4 12:38:23 2019 +0000

    Link against libc to avoid __guard_local not found symbol failure at link time for OpenBSD target
    
    git-svn-id: trunk@41981 -

M	tests/test/cg/tcalext6.pp

******************************************************************************
commit 079d616978f27a05004218d3fd6724ef05b5e4e0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu May 2 19:40:00 2019 +0000

      * fixed double free in LLVM code generator after r41963
    
    git-svn-id: trunk@41976 -

M	compiler/aasmcnst.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 97a144ea6abfc4deecba0e10786e17519e1c6ce6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu May 2 19:39:56 2019 +0000

      - removed ttypedconstkind parameter from tai_simpletypedconst constructor,
        as it always has to be tck_simple anyway
    
    git-svn-id: trunk@41975 -

M	compiler/aasmcnst.pas
M	compiler/llvm/llvmtype.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit ce1ba76ce55abc849746a0eacfafc4a479f517e1
Author: pierre <pierre@freepascal.org>
Date:   Thu May 2 12:57:51 2019 +0000

     Add st_ctime_nsec field for stat powerpc record
    
    git-svn-id: trunk@41972 -

M	rtl/linux/powerpc/stat.inc

******************************************************************************
commit 0690df17331c2e8ca9e28f52a47bc9592cdeb5e9
Author: pierre <pierre@freepascal.org>
Date:   Thu May 2 12:56:56 2019 +0000

     Update syscall numbers for powerpc-linux and powerpc64-linux
    
    git-svn-id: trunk@41971 -

M	rtl/linux/powerpc/sysnr.inc

******************************************************************************
commit 0100c4abf8df357f5c58e9d70d8b35233e994c51
Author: pierre <pierre@freepascal.org>
Date:   Thu May 2 12:55:51 2019 +0000

     More improvements to script testing syscall numbers
    
    git-svn-id: trunk@41970 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 5f4a0c7af7b8f605338728aa0274ad1f877e2a75
Author: pierre <pierre@freepascal.org>
Date:   Wed May 1 22:00:06 2019 +0000

      * freebsd and openbsd also use sys/syscall.h header
      + Add AWK parser to removed parts of source not concerning current CPU
        (only handles CPUXXX like CPUI386)
    
    git-svn-id: trunk@41969 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 429bd929e8f1f3ec59c9be42b2d1321593a66842
Author: pierre <pierre@freepascal.org>
Date:   Wed May 1 16:04:38 2019 +0000

    Update dev_t, ino_t and nlink_t types to cunit64
    
    git-svn-id: trunk@41968 -

M	rtl/freebsd/ptypes.inc

******************************************************************************
commit 5fb61dc3862846a378934540fc62fa3f975ce343
Author: pierre <pierre@freepascal.org>
Date:   Wed May 1 15:59:52 2019 +0000

     FreeBSD fixes for stat and dirent records
    
    git-svn-id: trunk@41967 -

M	rtl/bsd/ostypes.inc

******************************************************************************
commit 5c7adf9af382ee5919ebfb7c806cab3d520977dd
Author: pierre <pierre@freepascal.org>
Date:   Wed May 1 14:49:14 2019 +0000

    Add simple types and some constants
    
    git-svn-id: trunk@41965 -

M	rtl/openbsd/t_openbsd.h2paschk

******************************************************************************
commit 8988a5e028080ac37c20c06bf8d0cfc134cdeb7e
Author: pierre <pierre@freepascal.org>
Date:   Wed May 1 14:46:23 2019 +0000

      + Add handling of simple types and constants
      + Add ReadID helper procedure inside ProcessH2PasChk method
    
    git-svn-id: trunk@41964 -

M	utils/h2pas/h2paschk.pas

******************************************************************************
commit 213b87fe91453fbca07dacff506b7687e42494e1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Apr 30 19:36:46 2019 +0000

      * optimized and simplified tai_aggregatetypedconst destruction
    
    git-svn-id: trunk@41963 -

M	compiler/aasmcnst.pas

******************************************************************************
commit 819752c334f6784a55b1ce151a8a0e11ccf87c7e
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 29 14:19:16 2019 +0000

    Avoid warnings when -v0 is used by using $push/$pop
    
    git-svn-id: trunk@41960 -

M	rtl/inc/dos.inc
M	rtl/inc/fexpand.inc
M	rtl/inc/ustrings.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit b365fdd4786d21482b7e3a5483cd399f50b35e89
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 29 09:09:41 2019 +0000

     Fix compilation of testsuite program
    
    git-svn-id: trunk@41959 -

M	tests/utils/testsuite/utests.pp

******************************************************************************
commit 587397253df55fbf19c82129e8413a13d8bf7bca
Author: michael <michael@freepascal.org>
Date:   Sun Apr 28 09:26:52 2019 +0000

    * Patch from Serge Anvarov (bug ID 35102) to reduce code duplication
    
    git-svn-id: trunk@41952 -

M	packages/fcl-registry/src/winreg.inc

******************************************************************************
commit 639adc314f4660859264f647b2b5172847265dcf
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 25 13:04:39 2019 +0000

    Eliminate wrong line (bug report 35441)
    
    git-svn-id: trunk@41934 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 66401652fd19e7156d2fbed807d6d8ab5fb7708d
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 25 06:23:37 2019 +0000

       * Update syscall list for i386 and x86_64 cpus,
         based on values found on gcc121 machine,
         CentOS Linux release 7.6.1810 (Core)
       * Commented out values not accepted by GNU C compiler.
         For i386: madvise1(219), security(223),set_zone_reclaim(251)
         New last number: 382(pkey_free).
         For x86_64: 331(pkey_free).
    
    git-svn-id: trunk@41929 -

M	rtl/linux/i386/sysnr.inc
M	rtl/linux/x86_64/sysnr.inc

******************************************************************************
commit a83bc6263903a51c789545d381bfd86e3ae9f1d9
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 25 06:10:43 2019 +0000

      Improve syscall number testing script:
      + Add support for parameters:
        -v sets verbose variable to 1
        VAR=value gets evaluated.
      * moves to rtl/$os if called at diferent level.
      + check if there is a incude directive in sysnr.inc file.
      + Add compilation of C source code with the C variant of the syscall number.
      + Support 32 and 64-bit version of C compilation for systems
        allowing 32 and 64-bit executable (like x86_64-linux).
      + Add 'preprocessing' using AWK to test {$ifdef CPUXXX} macro.
      + Add summary at end of script.
      * Rename check_syscall_number to check_c_syscall_from_fpc_rtl
      * Rename check_syscall_number_reverse to check_c_syscall_in_fpc_rtl
      * Try to remove most intermediate files.
      + Generate add_missing_syscalls.inc file if numbers are missing.
    
    git-svn-id: trunk@41928 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 55aeac44f0c462bb66b0025884316dd13ce033dd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Apr 22 15:16:33 2019 +0000

      * micro-optimization for tentryfile.getbyte() (based on patch by
        J. Gareth Moreton, mantis #35406)
    
    git-svn-id: trunk@41924 -

M	compiler/entfile.pas

******************************************************************************
commit 8d19bb12a2326177304ca963f406dc9a90961cd4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 21 10:07:42 2019 +0000

      * moved sleb/uleb128 helpers to cutils and use SarInt64() intrinsic (based on
        patch by J. Gareth Moreton, mantis #35327)
    
    git-svn-id: trunk@41917 -

M	compiler/aasmbase.pas
M	compiler/cutils.pas

******************************************************************************
commit 33d57ac646240541aaaed7307758d44eb93ebc7c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 20 18:18:07 2019 +0000

      * replaced TCmdStrListItem getter function with a property
    
    git-svn-id: trunk@41906 -

M	compiler/cclasses.pas

******************************************************************************
commit 6f411d6355156913f10c37aa700e1559a1a498c2
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 16 22:03:40 2019 +0000

     Avoid C 64-bit compiler warnings by using %lu instead of %u for sizeof and offsetof
    
    git-svn-id: trunk@41888 -

M	utils/h2pas/h2paschk.pas

******************************************************************************
commit d9c109a4dd3e17405a567f2ebd657723dd86d259
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 16 16:45:54 2019 +0000

    + added h2paschk structure checker files for the DirectDraw and DirectInput
      header translations, used by PTCPas.
    
    git-svn-id: trunk@41887 -

M	.gitattributes
A	packages/ptc/src/win32/directx/t_ddraw.h2paschk
A	packages/ptc/src/win32/directx/t_dinput.h2paschk

******************************************************************************
commit b9ddddf9b153fa5178118319c4d245d20d24bdb3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Apr 16 16:11:54 2019 +0000

      * use ".set" for aliasing global symbols on Darwin, instead of declaring
        symbols after each other
       o removed the .reference hack that was used previously
    
    git-svn-id: trunk@41885 -

M	compiler/hlcgobj.pas

******************************************************************************
commit e008785152df10d7ac99ff2a162190d2f39a72f0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Apr 16 16:11:50 2019 +0000

      * insert the hidden parameters for objectdef methods after resolving
        overrides but before generating the VMT, so that these hidden parameters
        are part of the procdefs stored in the VMT (fixes some LLVM type errors
        after r41716)
    
    git-svn-id: trunk@41884 -

M	compiler/jvm/pjvm.pas
M	compiler/nobj.pas
M	compiler/pdecl.pas
M	compiler/pgenutil.pas

******************************************************************************
commit 8ff0aaa36918970b7eaa0bdfbfa320afa564ad20
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 16 15:10:40 2019 +0000

     Avoid arithmetic overflow inside heaptrc unit on this test
    
    git-svn-id: trunk@41883 -

M	tests/webtbs/tw17430.pp

******************************************************************************
commit 7b3e027dc8fdf8f4b188c8df7af23ac9b2c1d4e4
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 16 15:05:13 2019 +0000

     Move update of fields counting allocated memory to after SysGetMem call
    
    git-svn-id: trunk@41882 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 44beea91b5b4b6a43d55a215cc7281e042f91cdf
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Apr 15 21:52:55 2019 +0000

    - Fix UTX* optimizations that didn't consider the optional ROR parameter.
    
    git-svn-id: trunk@41880 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 924b4c6f10917bdb65e4ff14f20c17211e72cc62
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 15 15:02:24 2019 +0000

    + more structures added to the openbsd structure checker file: utimbuf, flock,
      tms, timezone, rusage, TRLimit and iovec
    
    git-svn-id: trunk@41877 -

M	rtl/openbsd/t_openbsd.h2paschk

******************************************************************************
commit f6e13c50a91459873d9da21f14ad9e1eebf9a7ca
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 15 14:33:33 2019 +0000

    + added pollfd to the openbsd structure checker file
    
    git-svn-id: trunk@41875 -

M	rtl/openbsd/t_openbsd.h2paschk

******************************************************************************
commit 9b7cbb0e0b99bb2697e93057853c1cfdd1c99599
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 15 14:22:44 2019 +0000

    + added OpenBSD RTL structure checker description file for use with the h2paschk
      tool. Currently only checks the stat and dirent structures, but more will be
      added in the future.
    
    git-svn-id: trunk@41874 -

M	.gitattributes
A	rtl/openbsd/t_openbsd.h2paschk

******************************************************************************
commit 53542b7c5ec57aac80fa55eb4efc9c85fdf33129
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Apr 14 23:36:08 2019 +0000

    - Port RISC-V64 startup code to native inline routines.
    
    git-svn-id: trunk@41871 -

M	.gitattributes
M	compiler/systems.pas
M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
D	rtl/linux/riscv64/cprt0.as
D	rtl/linux/riscv64/dllprt0.as
D	rtl/linux/riscv64/gprt0.as
D	rtl/linux/riscv64/prt0.as
A	rtl/linux/riscv64/si_c.inc
A	rtl/linux/riscv64/si_dll.inc
A	rtl/linux/riscv64/si_prc.inc

******************************************************************************
commit 2b78a8fd3dec629d91b9fb74a01d06d904384117
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Apr 14 20:51:29 2019 +0000

    - Add support for .option directive in riscv assembler.
    - Use addiw when adjusting U32 to S32
    
    git-svn-id: trunk@41870 -

M	.gitattributes
M	compiler/aasmtai.pas
M	compiler/assemble.pas
M	compiler/fpcdefs.inc
A	compiler/riscv/rarvgas.pas
M	compiler/riscv64/cgcpu.pas
M	compiler/riscv64/rarv64gas.pas

******************************************************************************
commit 349bb2ff38a56baf6960a0196326aafbb1aff9a5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 13 15:12:09 2019 +0000

      * check CurrentPPULongVersion in ppumove
    
    git-svn-id: trunk@41866 -

M	compiler/utils/ppumove.pp

******************************************************************************
commit 927fbc4387efbde9bf4865e9e304385026e4ba39
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 13 14:58:15 2019 +0000

      * documented usage of ppuversion and ppulongversion
    
    git-svn-id: trunk@41865 -

M	compiler/ppu.pas

******************************************************************************
commit b9e3a0692cea695c2fc7a65dd5826aa36d0e0d56
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 10 17:15:40 2019 +0000

    + added h2paschk.pas to the makefiles
    
    git-svn-id: trunk@41859 -

M	utils/h2pas/fpmake.pp

******************************************************************************
commit 47b8bf5924b835920fbf3d2f27137437c3c056de
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 10 17:06:17 2019 +0000

    + added the initial implementation of my C structure checker code generator
      tool, named h2paschk. This is currently a separate tool, that requires a
      manually crafted input file with a special syntax (example is included as a
      comment in the source code), that contains descriptions of all the records
      that need to be checked, but it is planned to add support to h2pas to generate
      these files automatically, since this would be very useful.
    
    git-svn-id: trunk@41858 -

M	.gitattributes
A	utils/h2pas/h2paschk.pas

******************************************************************************
commit 61cd2e219d7e185a293ace5a5592d7019d3f1a05
Author: michael <michael@freepascal.org>
Date:   Wed Apr 10 09:18:01 2019 +0000

    * Patch from Serge Anvarov to use local time for keyinfo (bug ID 35100)
    
    git-svn-id: trunk@41855 -

M	packages/fcl-registry/src/winreg.inc

******************************************************************************
commit 1b0b81f714555cc0726f3679ddfbcd55c7279db4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 7 17:10:49 2019 +0000

      * hopefully fix fpu emulation ppu header flag check after r41846
    
    git-svn-id: trunk@41847 -

M	compiler/fppu.pas

******************************************************************************
commit 0b61b5d4cfd624402797619075436c57e0da3be9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 6 21:28:43 2019 +0000

      * added extra header to ppu inside a subsection, so we won't run into
        trouble when the ppu version hits 255
      * also moved several ppu flags to a set inside that section
    
    git-svn-id: trunk@41846 -

M	compiler/cresstr.pas
M	compiler/dbgdwarf.pas
M	compiler/dbgstabs.pas
M	compiler/entfile.pas
M	compiler/fmodule.pas
M	compiler/fpcp.pas
M	compiler/fppu.pas
M	compiler/globtype.pas
M	compiler/jvm/njvmutil.pas
M	compiler/link.pas
M	compiler/ngenutil.pas
M	compiler/pcp.pas
M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pexports.pas
M	compiler/pexpr.pas
M	compiler/pkgutil.pas
M	compiler/pmodules.pas
M	compiler/ppu.pas
M	compiler/scandir.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppuout.pp

******************************************************************************
commit 478b918386951fa9115d1b7206c83af732dff257
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 3 07:17:40 2019 +0000

      + Add variables to use gppc386 utils more easily:
        Use DEBUG_CYCLE=1 to generate cycle using gppcXX at each stage,
        i.e. running ppcXX through gdbpas, using utils/gppc386.pp source,
        compiled and copied to gppcXX.
      + Add other DEBUG_XXX varialbes, allowing to use gppcXX binary
        at a specific level in cycle.
        if DEBUG_PPXX is set, PPXXPREFIX variable will be set to 'g'
        leading to the use of g$(PPXX) compiler, which will run $(ppXX)
        compiler through gdbpas.
    
    
    git-svn-id: trunk@41822 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 6bfaec84eb4bb98b0244eef228210f5aae6eb471
Author: michael <michael@freepascal.org>
Date:   Mon Apr 1 17:15:00 2019 +0000

    * Test for deletekey
    
    git-svn-id: trunk@41817 -

M	packages/fcl-registry/tests/testbasics.pp

******************************************************************************
commit 6c7da3cca4233131377b81368f07a7c2cef85cc4
Author: michael <michael@freepascal.org>
Date:   Mon Apr 1 17:06:56 2019 +0000

    * Patch from Bart Broersma to fix deleting non-empty key (bug ID 0035132)
    
    git-svn-id: trunk@41816 -

M	packages/fcl-registry/src/xmlreg.pp

******************************************************************************
commit 1c8a1407f5388f8d18c31162e71017c873db0d89
Author: michael <michael@freepascal.org>
Date:   Mon Apr 1 16:54:53 2019 +0000

    * Added unicode sample using unicodestring
    
    git-svn-id: trunk@41814 -

M	.gitattributes
A	packages/fcl-registry/examples/testunicode.lpi
A	packages/fcl-registry/examples/testunicode2.lpi
A	packages/fcl-registry/examples/testunicode2.pas

******************************************************************************
commit cddc52a69fa7c3b75b7d3d3d94974670f69efe7d
Author: michael <michael@freepascal.org>
Date:   Mon Apr 1 16:51:39 2019 +0000

    * Remove unused variable
    
    git-svn-id: trunk@41812 -

M	packages/fcl-registry/tests/tcxmlreg.pp

******************************************************************************
commit 17aa8da99f5fe4049cb9050522830c9798630f36
Author: michael <michael@freepascal.org>
Date:   Mon Apr 1 16:46:48 2019 +0000

    * Patch from Bart Broersma to implement Int64 support in xmlreg (bug ID 35227)
    
    git-svn-id: trunk@41810 -

M	packages/fcl-registry/src/xmlreg.pp
M	packages/fcl-registry/src/xregreg.inc

******************************************************************************
commit 2c1639003c50bb82167036f7372eff8100863a42
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 18 13:21:58 2019 +0000

    * reinstate the internalerror removed in r41730 for i386, as that was a valid condition to verify
    
    git-svn-id: trunk@41731 -

M	compiler/i386/cpupara.pas

******************************************************************************
commit 5358851f84b9fb9af41df6290decea1c5ec7610e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 18 01:19:18 2019 +0000

    * clean up some things regarding explicit paraloc handling. this should fix m68k-amiga and powerpc-morphos builds after r41716
    
    git-svn-id: trunk@41730 -

M	compiler/i386/cpupara.pas
M	compiler/m68k/cpupara.pas
M	compiler/pdecsub.pas
M	compiler/powerpc/cpupara.pas
M	compiler/riscv32/cpupara.pas

******************************************************************************
commit 1bb8bd471ae32a1db840b975616fe17e9653ac2c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Mar 17 15:22:06 2019 +0000

      * fix msgtxt array size if the text size is an exact multiple of 240
    
    git-svn-id: trunk@41725 -

M	compiler/utils/msg2inc.pp

******************************************************************************
commit bde560dac290929dbdf0c8df20a9c7e1f4dec727
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Mar 17 15:20:22 2019 +0000

      * also accept {$elsif} after {$if(n)def} (mantis #34858)
    
    git-svn-id: trunk@41724 -

M	.gitattributes
M	compiler/scanner.pas
A	tests/webtbs/tw34858.pp

******************************************************************************
commit 74fed2a4cd6aca8fc399ac0c39953d07fb766ef0
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 17 14:45:03 2019 +0000

    Regenerate Makefile's after fpcmake change in commit #41721
    
    git-svn-id: trunk@41723 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit d78dbd5d5920bb7279937138fb529bfd05f44b6b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 16 20:01:57 2019 +0000

      + test from mantis #35224 (already works)
    
    git-svn-id: trunk@41718 -

M	.gitattributes
A	tests/webtbs/tw35224.pp

******************************************************************************
commit fd42c3fb01e0339a63de0f26f69fca8bf4e1b819
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 16 19:14:17 2019 +0000

      * only enable tw35187 for Windows and Linux, since it uses syscalls under unix
        (which are not supported on all unix targets; feel free to re-enable for
         specific unix targets if the test has been verified to compile there)
       o also fixed placement of dotest directives: they have to come before any
         part of the program code
    
    git-svn-id: trunk@41717 -

M	tests/webtbs/tw35187.pp

******************************************************************************
commit ed2ae508d090338a706418fdf740bc219b614776
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 16 19:14:14 2019 +0000

      * only add hidden parameters for objectdef methods after generating the vmt,
        so that they take into account inherited calling conventions (mantis #35233)
       o don't needlessly calculate the paraloc info when generating a JVM mangled
         name
    
    git-svn-id: trunk@41716 -

M	.gitattributes
M	compiler/jvm/jvmdef.pas
M	compiler/jvm/pjvm.pas
M	compiler/jvm/symcpu.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pdecvar.pas
M	compiler/pgenutil.pas
M	compiler/pparautl.pas
M	compiler/ptype.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas
A	tests/webtbs/tw35233.pp

******************************************************************************
commit d65737393352eabc8aff52f9c7b6545d09c578c8
Author: florian <florian@freepascal.org>
Date:   Sun Mar 10 10:48:50 2019 +0000

    * patch by J. Gareth Moreton which avoids that the optimizer causes reads of invalid memory, resolves #35187
    
    git-svn-id: trunk@41667 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw35187.pp

******************************************************************************
commit b0535d8d0fda36ec637e31343fabe552e8cce954
Author: yury <jura@cp-lab.com>
Date:   Thu Mar 7 10:36:05 2019 +0000

    * ppudump: Fixed a warning regarding text clipping.
    
    git-svn-id: trunk@41628 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 973741c9197c2b3217ba10f5058b7a2c3377d1d6
Author: pierre <pierre@freepascal.org>
Date:   Tue Mar 5 22:01:09 2019 +0000

     Fix tmoddiv4.pp test failure with -O1 option for powerpc64 as suggested by Jonas
    
    git-svn-id: trunk@41610 -

M	compiler/powerpc64/nppcmat.pas

******************************************************************************
commit a7d45c0ca012f8d0ea1632bc509f5e31112aab1e
Author: pierre <pierre@freepascal.org>
Date:   Mon Mar 4 21:53:22 2019 +0000

      Commit patch submitted by J. Gareth Moreton in bug report 35180
    
    git-svn-id: trunk@41589 -

M	tests/test/cg/tmoddiv4.pp

******************************************************************************
commit 62cef8eb2b66c464df6ae66827e090476bffb657
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 2 09:37:49 2019 +0000

      * initialize function result for variadic functions (fixup for r41420)
    
    git-svn-id: trunk@41544 -

M	compiler/sparcgen/sppara.pas

******************************************************************************
commit f78e2072a193a49660ff8cd07273cb6c45b03779
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Feb 28 20:45:34 2019 +0000

      * fix for r41416: 64 bit values on 32 bit platforms can of course also be
        passed in memory
    
    git-svn-id: trunk@41526 -

M	compiler/hlcg2ll.pas

******************************************************************************
commit 075e3da334bfc9788c2de0fde5eea479afe9616f
Author: florian <florian@freepascal.org>
Date:   Wed Feb 27 22:13:54 2019 +0000

    * better alignment values
    
    git-svn-id: trunk@41521 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit c7834af3545959d7c104078eefb568243cc71876
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Feb 25 21:02:14 2019 +0000

      * track va_uses_float_reg also for varargs functions without varargs
        parameters (see e.g. https://gcc.gnu.org/bugzilla/show_bug.cgi?id=23070 )
    
    git-svn-id: trunk@41472 -

M	compiler/powerpc/cpupara.pas
M	compiler/powerpc64/cpupara.pas

******************************************************************************
commit a04e4971fc3ef9b3bf5adf3dbc2a3b97de28b287
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 15:48:41 2019 +0000

    * i386: Do not request GOT for every function call. GOT is requested only for external calls in thlcgcpu.a_call_name(). Local calls are always PC relative.
    
    git-svn-id: trunk@41464 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 039aee956804015b1a6c3b07c203a4bf3bbcc49e
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 15:05:26 2019 +0000

    * i386 PIC: Do not force EBX as a GOT register if tf_section_threadvars is not set. Actually forcing EBX here is a bad idea anyway.
    
    git-svn-id: trunk@41463 -

M	compiler/i386/cpupi.pas

******************************************************************************
commit 4da16992df594235915d715c8bc83f53e87a1f56
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 14:43:46 2019 +0000

    * i386: Minor PIC initialization improvement if the GOT register is forced to EBX.
    
    git-svn-id: trunk@41462 -

M	compiler/i386/cgcpu.pas

******************************************************************************
commit e5c2d13671435042f61ac84d9634dea94f00af57
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 13:35:40 2019 +0000

    * Do not set pi_needs_got in current_procinfo.flags at the node level, since the GOT usage can only be estimated there. Instead set the pi_needs_got flag at places where the GOT register is accessed during the code generation. This eliminates generation of the unneeded initialization of the GOT register and fixes linker errors when the _GLOBAL_OFFSET_TABLE_ symbol is referenced but no actual GOT references are present.
    
    git-svn-id: trunk@41460 -

M	compiler/i386/cgcpu.pas
M	compiler/i386/hlcgcpu.pas
M	compiler/nbas.pas
M	compiler/ncal.pas
M	compiler/ncgrtti.pas
M	compiler/ncnv.pas
M	compiler/ncon.pas
M	compiler/nflw.pas
M	compiler/nld.pas
M	compiler/nmem.pas
M	compiler/psub.pas
M	compiler/x86/nx86ld.pas
M	compiler/x86/nx86set.pas

******************************************************************************
commit 9f88cae771bc3bc99e02047cb1719aefc64480d2
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 11:27:54 2019 +0000

    * Removed inline, since inherited is not supported.
    
    git-svn-id: trunk@41458 -

M	compiler/cclasses.pas

******************************************************************************
commit a277a5f8db6a078f981748c1f73b8cb43ff36f83
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 11:22:49 2019 +0000

    * Removed unused local vars.
    
    git-svn-id: trunk@41457 -

M	compiler/arm/narmld.pas
M	compiler/i386/aoptcpu.pas
M	compiler/pdecvar.pas
M	compiler/rgobj.pas

******************************************************************************
commit 57ee0dd00afa7c2fc0eda107222e45ef257b1f0a
Author: pierre <pierre@freepascal.org>
Date:   Sun Feb 24 22:20:35 2019 +0000

     Fix fullcycle/fullinstall by adding missing armgen directory -Fu option if PPC_TARGET is armeb
    
    git-svn-id: trunk@41455 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 7c4e7d6bd3d7df2117ee4a76929746ab68079fc9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:59:03 2019 +0000

      * support OS_32/OS_64 in cgsize2subreg for ARM MM registers to handle
        records passed in MM registers
    
    git-svn-id: trunk@41449 -

M	compiler/arm/cpubase.pas

******************************************************************************
commit 08791712d710acf57282b09f0846b1c8d27b9c5b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:59:00 2019 +0000

      * also specify the byval alignment at the callee side
    
    git-svn-id: trunk@41448 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit bead1f81802eaf2f58a58bc4181e29575080d492
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:57 2019 +0000

      * properly set 8 byte parameter alignment for first parameter on ARM if
        applicable
    
    git-svn-id: trunk@41447 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 607126346997c1c34a825017a7c00d68c4cf72ed
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:54 2019 +0000

      * use ` instead of ^ as replacement character in LLVM asmnodes, as ^ can
        appear in ARM inline assembly
    
    git-svn-id: trunk@41446 -

M	compiler/llvm/agllvm.pas
M	compiler/llvm/nllvmbas.pas

******************************************************************************
commit a87a7270d5fa1ea935e2a5e0fd411061e3215263
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:51 2019 +0000

      * remove double "nocapture" attributes
      * also add "noalias nocapture" to sret parameters
    
    git-svn-id: trunk@41445 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit e829596750b6e556b5104bf2308be97cb4b1db98
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:47 2019 +0000

      * type left-over parts of parameters as arrays of "stack slot alignment" if
        they're an exact multiple of the ialignment size on LLVM. This prevents
        both overalignment (e.g. remainder of 8 individual bytes on ARM
        would be aligned to 8 bytes instead of 4 if typed as int64) and
        underalignment (e.g. 32 bytes remainder of a record that needs to be
        aligned to 8 bytes would be aligned to 1 or 4 bytes if types as
        array of resp. bytes or longints)
    
    git-svn-id: trunk@41444 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit bc77aad3d935e43807cbf349ad3b355508a961ee
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:44 2019 +0000

      * give an error when trying to call through to a C varargs routine with a
        high level code generator
       o we cannot create a high-level stub in that case
    
    git-svn-id: trunk@41443 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/psub.pas

******************************************************************************
commit a51c06f90760b864d865b1956eb754062cf77857
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:40 2019 +0000

      * place the "external" directives in the interface instead of in the
        implementation, because we don't support "external" in the implementation
        for C varargs functions for LLVM (can't generate a stub for them)
       o having "external" in the implementation also causes useless overhead
         with code generators that do support this
    
    git-svn-id: trunk@41442 -

M	packages/lua/src/lua.pas
M	packages/lua/src/lualib.pas

******************************************************************************
commit 38a7f7c9756100e5777b9337aa0823709a46ed96
Author: florian <florian@freepascal.org>
Date:   Sun Feb 24 09:54:05 2019 +0000

    * casing fixed
    
    git-svn-id: trunk@41428 -

M	tests/bench/bansi1.inc

******************************************************************************
commit 4e5f48a25ed461106a250314f5210f160aee1199
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 23 15:42:48 2019 +0000

      * add support for HFA parameter passing for ARM hardfloat
        (fixes test/cg/tcalext6)
    
    git-svn-id: trunk@41421 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 8b9e90dc7a9c45eb6d0458daec566d8064e1ef52
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 23 15:42:45 2019 +0000

      * keep track of whether a routine has a C-style variadic parameter in the
        procoptions even when it's through an array-of-const parameter
      * always call create_varargs_paraloc_info() instead of create_paraloc_info()
        in the former case, even when no varargs parameters are specified (because
        on some platforms even some non-variadic parameters need to be passed
        differently, such as on ARM with gnueabihf)
    
    git-svn-id: trunk@41420 -

M	compiler/aarch64/cpupara.pas
M	compiler/arm/cpupara.pas
M	compiler/avr/cpupara.pas
M	compiler/defutil.pas
M	compiler/i386/cpupara.pas
M	compiler/i8086/cpupara.pas
M	compiler/jvm/cpupara.pas
M	compiler/m68k/cpupara.pas
M	compiler/mips/cpupara.pas
M	compiler/ncal.pas
M	compiler/paramgr.pas
M	compiler/pdecsub.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc64/cpupara.pas
M	compiler/riscv32/cpupara.pas
M	compiler/riscv64/cpupara.pas
M	compiler/sparcgen/sppara.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 1a559f5c608c31d1b5e11e99076f5b8b9da19dc2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 23 15:42:39 2019 +0000

      * move the homogenous float aggregate determination function to a common
        unit for ARM and AArch64
    
    git-svn-id: trunk@41419 -

M	.gitattributes
M	compiler/Makefile
M	compiler/Makefile.fpc
M	compiler/aarch64/cpupara.pas
M	compiler/arm/cpupara.pas
A	compiler/armgen/armpara.pas
M	compiler/ppcaarch64.lpi
M	compiler/ppcarm.lpi
M	packages/ide/fpmake.pp

******************************************************************************
commit 1a564de6e6b90d9d8acc1cafa7ce6fbd1a873abc
Author: pierre <pierre@freepascal.org>
Date:   Sat Feb 23 15:37:39 2019 +0000

     Add testing of use of variable of class
    
    git-svn-id: trunk@41417 -

M	tests/test/units/classes/tmakeobjinst.pp

******************************************************************************
commit af36913469cc49f412cb38dabfe52400bce229f9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 23 15:08:29 2019 +0000

      * don't use cg64.a_load64_loc_cgpara() for 64 bit records passed in
        non-integer registers
    
    git-svn-id: trunk@41416 -

M	compiler/hlcg2ll.pas

******************************************************************************
commit 382d5060a04504cacc56a365f02100a65108ad19
Author: yury <jura@cp-lab.com>
Date:   Fri Feb 22 17:59:54 2019 +0000

    * aarch64: According to ARM64 ABI, function's arguments and the result are not required to be sign/zero extended to a full register size. Obey this rule for all targets except iOS where sign/zero extension is required.
    
    git-svn-id: trunk@41412 -

M	.gitattributes
M	compiler/aarch64/cpupara.pas
A	tests/test/taarch64abi.pp

******************************************************************************
commit 3a43ffd57bc989d3e5facb1edfefc49cbc0f18d8
Author: yury <jura@cp-lab.com>
Date:   Wed Feb 20 20:06:32 2019 +0000

    * arm: Include pi_needs_got to current_procinfo.flags when the GOT register is accessed. It forces proper initialization of the GOT register at the beginning of a procedure. This fixes storing of a double constant to a field in a packed record and other rare copy operations when PIC is enabled.
    
    git-svn-id: trunk@41405 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 3e8c7f66b71cf633a74971b60150d67690b43959
Author: yury <jura@cp-lab.com>
Date:   Wed Feb 20 20:00:06 2019 +0000

    * arm: Fixed crash while loading double constants with PIC enabled. This is the regression after r41129. The crash has occurred due to usage of a rare code path. It will be fixed in the next commit.
    
    git-svn-id: trunk@41404 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit fa4596a08f2027787c19db2978208781828760de
Author: yury <jura@cp-lab.com>
Date:   Wed Feb 20 10:24:48 2019 +0000

    * ppudump: Fixed warnings with -O3.
    
    git-svn-id: trunk@41394 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 9a3ddf650c1c150039b2f63fd84300eaa4f1ac81
Author: yury <jura@cp-lab.com>
Date:   Wed Feb 20 10:13:18 2019 +0000

    * ppudump: Use buffered write when outputting to json or xml. It improves the output speed a lot.
    
    git-svn-id: trunk@41393 -

M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppujson.pp
M	compiler/utils/ppuutils/ppuout.pp
M	compiler/utils/ppuutils/ppuxml.pp

******************************************************************************
commit e3546cf5af9cb17fd98cba5fa50f54ad16e14c9e
Author: florian <florian@freepascal.org>
Date:   Fri Feb 15 18:57:20 2019 +0000

    * properly quote pathes for objcopy calls, resolves #35072
    
    git-svn-id: trunk@41324 -

M	compiler/systems/t_embed.pas

******************************************************************************
commit fe47db32be35d0de7ee99d09e0fc6f51c0bac52e
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 14 16:14:02 2019 +0000

    + added asm optimized version of fpc_pwidechar_length for i8086
    
    git-svn-id: trunk@41317 -

M	rtl/i8086/i8086.inc

******************************************************************************
commit 5db8d6bd5eca39bd1205cf3b355a953d219fb9bc
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 14 12:18:51 2019 +0000

    * optimize the i8086 backwards move by using movsw instead of movsb in the Move
      and MoveData procedures
    
    git-svn-id: trunk@41316 -

M	rtl/i8086/i8086.inc

******************************************************************************
commit 4f573b50adbd33a2b3d9daacc86cefe5edb68b48
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 12 16:31:16 2019 +0000

    * access the Default8087CW global variable directly from within inline asm,
      instead of copying it to a local var first, since the concern about PIC code
      (this asm code started out as a copy of the i386 rtl code) doesn't exist on
      the i8086, since there's no such thing as PIC code on the i8086
    
    git-svn-id: trunk@41311 -

M	rtl/i8086/i8086.inc
M	rtl/msdos/system.pp

******************************************************************************
commit d4e059bd41b62841560790c0051c9c437243cad5
Author: pierre <pierre@freepascal.org>
Date:   Tue Feb 12 07:19:04 2019 +0000

     Fix bug report #35065 using provided patch by J. Gareth Moreton
    
    git-svn-id: trunk@41310 -

M	compiler/aasmtai.pas

******************************************************************************
commit b0ca862f32e037665167254d944838daf518ffdb
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 8 15:34:29 2019 +0000

    + implemented IntroSort (hybrid between QuickSort and HeapSort) in unit SortAlgs
    
    git-svn-id: trunk@41258 -

M	packages/rtl-extra/src/inc/sortalgs.pp
M	tests/test/units/sortalgs/tsortalgs1.pp

******************************************************************************
commit ff90e7622aaf4ac14695f30fa799b1faafeab558
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 7 15:45:13 2019 +0000

    + added .Sort overloads, that specify an algorithm and use the sortbase defined
      algorithms for sorting TList, TFPList and TStringList when FPC_TESTGENERICS is
      defined as well. Unfortunately, I couldn't test it, because the RTL doesn't
      compile with FPC_TESTGENERICS, due to errors, completely unrelated to the
      sortbase changes.
    
    git-svn-id: trunk@41248 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/lists.inc
M	rtl/objpas/classes/stringl.inc

******************************************************************************
commit 8b17af1f8995e8bd2c8ec3c522fca851e8622d1e
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 7 14:41:33 2019 +0000

    + added test for unit sortalgs, that tests the heapsort and randomized quicksort algorithms
    
    git-svn-id: trunk@41247 -

M	.gitattributes
M	tests/Makefile
M	tests/Makefile.fpc
A	tests/test/units/sortalgs/tsortalgs1.pp

******************************************************************************
commit 4d8dcfc42e965e3f5688b26f066c80512dfd7ee2
Author: pierre <pierre@freepascal.org>
Date:   Thu Feb 7 10:46:41 2019 +0000

     Fix compilation on targets without Random: add $ifdef FPC_HAS_FEATURE_RANDOM
    
    git-svn-id: trunk@41245 -

M	packages/rtl-extra/src/inc/sortalgs.pp

******************************************************************************
commit 1c64f4c7512b4d84f1f628472e837f4fb935ce90
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 6 18:26:05 2019 +0000

    * some formatting changes to avoid very large lines in the source code
    
    git-svn-id: trunk@41242 -

M	packages/rtl-extra/src/inc/sortalgs.pp
M	rtl/inc/sortbase.pp

******************************************************************************
commit 00a67caa40dd518bf5476e6847257be9cc36a400
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 6 18:05:48 2019 +0000

    * select the middle element in the default quicksort implementation in a way
      that doesn't generate arithmetic overflow for very large arrays
    
    git-svn-id: trunk@41241 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit e467d2387d64c175b6e09d38f15812ff41255673
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 6 15:51:54 2019 +0000

     Add sortbase unit to global units list, as it can be compiled for all CPUs
    
    git-svn-id: trunk@41240 -

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc

******************************************************************************
commit 52b4fc039c6e064b9720e16b34546bc7e18f4d71
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 6 14:20:40 2019 +0000

    + added randomized quicksort to unit sortalgs
    
    git-svn-id: trunk@41237 -

M	packages/rtl-extra/src/inc/sortalgs.pp

******************************************************************************
commit f4718831ca31f2c332ba0d22301220f417b08114
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 6 12:22:08 2019 +0000

    * fixed quicksort comment about memory use - our implementation uses O(log n) stack, not O(n log n)
    
    git-svn-id: trunk@41236 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit c728a1204a62846be24a5cfda23c61ce3eecb91a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 18:25:27 2019 +0000

    + added additional notes in the comments for HeapSort
    
    git-svn-id: trunk@41233 -

M	packages/rtl-extra/src/inc/sortalgs.pp

******************************************************************************
commit f32748a8e7ae82084a5c0837a97f7da67af078b2
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 18:02:48 2019 +0000

    + added comment with information about QuickSort and its specific implementation in unit SortBase
    
    git-svn-id: trunk@41232 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit eca60a0a89cb5b5afb264471aa561ab0afef57ff
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 17:32:28 2019 +0000

    * partition elements equal to the pivot on both sides of the pivot, since that
      leads to much better performance when sorting lots of repeating elements
    
    git-svn-id: trunk@41231 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit bea9961d2d1a3962d5d3553422fb2eed94289234
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 16:20:56 2019 +0000

    * use SizeUInt instead of longint for the array indices in the quicksort
      implementations. This:
      1) allows sorting arrays with >4G elements on 64-bit systems
      2) allows sorting arrays with up to 4G (>2G) elements on 32-bit systems
      3) uses 16-bit instead of the less efficient 32-bit indices on 16-bit and
         8-bit platforms
    
    git-svn-id: trunk@41230 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit f5f25f7ae6312448bf71a500685761d660efbcad
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 16:00:42 2019 +0000

    * use a more robust QuickSort implementation, that is guaranteed to never loop
      forever and never access index out of bounds elements from the array when
      being passed an incorrect comparison function. The resulting sort order is
      still undefined in this case, though.
    
    git-svn-id: trunk@41229 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit de80621e1e97e67b79a3cd3e58ff24a3eec93ed4
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 12:14:09 2019 +0000

    * use a try..finally block to protect against memory leaks if the comparison
    callback function raises an exception in QuickSort_ItemList_Context
    
    git-svn-id: trunk@41228 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 26486bbaeac7aae4316d7b5f11c6a9bbeb424933
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 4 15:32:41 2019 +0000

    + keep track of the pivot index in all quicksort implementations. No functional changes,
      but will be used to prevent overlap in the divided subregions and also infinite loops
      in case of an incorrect compare function.
    
    git-svn-id: trunk@41222 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit ec45f0069a9f29c767cc632291c89b1a5a2aa774
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 4 14:34:13 2019 +0000

    + added unit SortAlgs to rtl-extra. It implements extra sorting algorithms
      that can be used in place of the default QuickSort implementation from unit
      SortBase. Currently, only HeapSort is implemented, but others will be added
      in the future.
    
    git-svn-id: trunk@41219 -

M	.gitattributes
M	packages/rtl-extra/fpmake.pp
A	packages/rtl-extra/src/inc/sortalgs.pp

******************************************************************************
commit 13ce27cc1d4a7b148e4236d1a9c2d7d0d2f04071
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:01:13 2019 +0000

      * fixed the default external assembler for llvm when using -s
    
    git-svn-id: trunk@41207 -

M	compiler/options.pas

******************************************************************************
commit 1abea6451c7faeb0754df984102edb34066df709
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:01:08 2019 +0000

      * fixed thlcgobj.g_rangecheck() for cpuhighleveltarget when targetting a
        cpu32bitalu
    
    git-svn-id: trunk@41206 -

M	compiler/hlcgobj.pas

******************************************************************************
commit 7af95cbf063d4634f3e566419cca85ae6823b16c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:01:02 2019 +0000

      * LLVM does not support 128 bits arithmetic on 32 bit platforms, which we
        need for overflow checking -> use RTL built-ins
    
    git-svn-id: trunk@41205 -

M	compiler/nadd.pas

******************************************************************************
commit 353be907c76801e05832396087c5b653b301d7d7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:57 2019 +0000

      * update the stack alignment field of parameters when doing so for paralocs
    
    git-svn-id: trunk@41204 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 7a65e1f393fb3ef10fb4ac15865703a39123a8a7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:51 2019 +0000

      * fixed ARM paraloc defs (for LLVM)
    
    git-svn-id: trunk@41203 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit da0deae9aee929f3ccda08afdff56bc931a19e52
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:46 2019 +0000

      * removed unnecessary replacements of the paraloc def with arraydefs on ARM
    
    git-svn-id: trunk@41202 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 8c362eac67df688f6c1fc7361f0d5c06a78c02ab
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:41 2019 +0000

      * always emit UAL when using LLVM (clang does not and will not support
        pre-UAL)
    
    git-svn-id: trunk@41201 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit ab51e8637c2a8879c3745dba029b57590c279630
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:36 2019 +0000

      * set default Mac OS X target version to 10.6 for LLVM (earlier versions did
        not include libunwind in libSystem, causing linking errors when compiling
        on later versions)
    
    git-svn-id: trunk@41200 -

M	compiler/options.pas

******************************************************************************
commit f9668f8c037b6202cd558fc173ca1c4256a1c6e0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:28 2019 +0000

      * let de LLVM parameter manager merge multiple paralocs used to represent a
        single ordinal, as such splitting is handled by LLVM itself (and handling
        such split locations is currently not supported by our LLVM code generator)
    
    git-svn-id: trunk@41199 -

M	compiler/llvm/llvmpara.pas

******************************************************************************
commit 503ea604f33b5a7dd72d7a6417f9a38774f19263
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:17 2019 +0000

      + nolinline modifier to specify that a routine must never be inlined
    
    git-svn-id: trunk@41198 -

M	compiler/llvm/agllvm.pas
M	compiler/pdecsub.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/symsym.pas
M	compiler/tokens.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 1d7ff66602c6ae042c39b6ac4ec5864056ba1386
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 3 19:49:35 2019 +0000

    + added .Sort() overloads with a SortingAlgorithm parameter to TFPGList,
      TFPGObjectList, TFPGInterfacedObjectList and TFPSMap
    
    git-svn-id: trunk@41196 -

M	rtl/objpas/fgl.pp

******************************************************************************
commit 5c4af27a7ae30d89923b197105b9268913252951
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 3 19:16:48 2019 +0000

    + added test for the sortbase unit
    
    git-svn-id: trunk@41195 -

M	.gitattributes
M	tests/Makefile
M	tests/Makefile.fpc
A	tests/test/units/sortbase/tsortbase.pp

******************************************************************************
commit d86da195707736005cbd7815d803bdf3440f8aee
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 3 17:00:21 2019 +0000

    * use the sort algorithm from sortbase for TStringList
    
    git-svn-id: trunk@41194 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/stringl.inc

******************************************************************************
commit ea340b94816f65b6a170293073b31de9b566a6ea
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 3 16:34:05 2019 +0000

    * fixed bug in QuickSort_ItemList_CustomItemExchanger_Context and
      QuickSort_ItemList_Context and which can cause wrong sort results, due to not
      taking into account that the pivot can be moved by the swap operation
    
    git-svn-id: trunk@41191 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit cb5a1ed72784f8ded30149be51920d312f8ff80b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Feb 3 02:06:32 2019 +0000

    build/install fixes for the new sortbase unit for amiga, atari, aros and morphos
    
    git-svn-id: trunk@41183 -

M	rtl/amiga/Makefile
M	rtl/amiga/Makefile.fpc
M	rtl/amiga/buildrtl.pp
M	rtl/aros/buildrtl.pp
M	rtl/atari/buildrtl.pp
M	rtl/morphos/buildrtl.pp

******************************************************************************
commit c7d8bd966646f98d9a5dca9a6a6e3583aed13cc8
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 3 00:33:43 2019 +0000

    + added a sort algorithm interface that accepts a custom callback function for
      exchanging two elements. This is required for TStringList.Sort (and is the
      most generic form for a sort algorithm interface that I can think of).
    
    git-svn-id: trunk@41182 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 2a0eb54fd5579a1cdc721ae604ba8d1b16b392f2
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 23:56:24 2019 +0000

    + added a simple test that tests TList.Sort
    
    git-svn-id: trunk@41181 -

M	.gitattributes
A	tests/test/units/classes/ttlist.pp

******************************************************************************
commit 178217821c41221aefafb166224859f8f789c08f
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 23:22:09 2019 +0000

    + added sortbase as a dependency to unit fgl in the makefiles
    
    git-svn-id: trunk@41180 -

M	rtl/aix/Makefile
M	rtl/aix/Makefile.fpc
M	rtl/android/Makefile
M	rtl/android/Makefile.fpc
M	rtl/beos/Makefile
M	rtl/beos/Makefile.fpc
M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc
M	rtl/dragonfly/Makefile
M	rtl/dragonfly/Makefile.fpc
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
M	rtl/emx/Makefile
M	rtl/emx/Makefile.fpc
M	rtl/freebsd/Makefile
M	rtl/freebsd/Makefile.fpc
M	rtl/gba/Makefile
M	rtl/gba/Makefile.fpc
M	rtl/go32v2/Makefile
M	rtl/go32v2/Makefile.fpc
M	rtl/haiku/Makefile
M	rtl/haiku/Makefile.fpc
M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
M	rtl/msdos/Makefile
M	rtl/msdos/Makefile.fpc
M	rtl/nds/Makefile
M	rtl/nds/Makefile.fpc
M	rtl/netbsd/Makefile
M	rtl/netbsd/Makefile.fpc
M	rtl/netware/Makefile
M	rtl/netware/Makefile.fpc
M	rtl/netwlibc/Makefile
M	rtl/netwlibc/Makefile.fpc
M	rtl/openbsd/Makefile
M	rtl/openbsd/Makefile.fpc
M	rtl/os2/Makefile
M	rtl/os2/Makefile.fpc
M	rtl/solaris/Makefile
M	rtl/solaris/Makefile.fpc
M	rtl/symbian/Makefile
M	rtl/symbian/Makefile.fpc
M	rtl/watcom/Makefile
M	rtl/watcom/Makefile.fpc
M	rtl/wii/Makefile
M	rtl/wii/Makefile.fpc
M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc
M	rtl/wince/Makefile
M	rtl/wince/Makefile.fpc

******************************************************************************
commit ad677070f41593a6f8bda86e5840c2006cc17c5e
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 23:08:25 2019 +0000

    * hook TFPSList.QuickSort to also call the default sorting algorithm from sortbase
    
    git-svn-id: trunk@41179 -

M	rtl/objpas/fgl.pp

******************************************************************************
commit 59a75ea42955ea59c6765c4d856062df8dbc83c1
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 22:58:52 2019 +0000

    * use Inc() and Dec() instead of v:=v+1
    
    git-svn-id: trunk@41178 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 63f9afa6bd0fb9741e951166239717f2727a2875
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 22:52:08 2019 +0000

    * fixed TFPList.Sort. Scary news: turns out we don't have any tests for
      TFPList.Sort or TList.Sort... :(
    
    git-svn-id: trunk@41177 -

M	rtl/objpas/classes/lists.inc

******************************************************************************
commit 4ea42ab6d23c4e56f47f91cd0a0caac0891dc842
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 22:49:39 2019 +0000

    * use the sortbase sorting algorithm in fgl as well
    
    git-svn-id: trunk@41176 -

M	rtl/objpas/fgl.pp

******************************************************************************
commit 4082b8c7fcd6705ad1ba4ee02f4dad2c179fb8cb
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 21:21:07 2019 +0000

    + added and implemented QuickSort_ItemList_Context
    
    git-svn-id: trunk@41175 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 7f44f2535ec808acb333415e9c395eee742f52b8
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 21:08:30 2019 +0000

    * the Compare parameter renamed Comparer for consistency
    
    git-svn-id: trunk@41174 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 8cf5779297f990693e1511eda3280655501d634b
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 21:07:27 2019 +0000

    * the first parameter of QuickSort_PtrList_NoContext renamed ItemPtrs for
      consistency with the other similar procedures
    
    git-svn-id: trunk@41173 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit a2a0ed53b235492d0141759705b6043ed9077774
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 21:05:02 2019 +0000

    * the type of the ItemCount parameter changed from PtrUInt to SizeUInt
    
    git-svn-id: trunk@41172 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 848890e54be05d7f5ae18b98757ea21d656f4366
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 21:03:10 2019 +0000

    + added the TItemListSorter_NoContext and TItemListSorter_Context procedure
      types to sortbase. No implementation for them yet. They will allow sorting
      an array with elements of arbitrary size (e.g. array of records).
    
    git-svn-id: trunk@41171 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 25f6da706626b6c6a09a8c9286f1e949e44ca501
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 20:56:59 2019 +0000

    * added PtrList to the names of the current sort algorithm callback functions and
      types, to indicate they sort a list of pointers
    
    git-svn-id: trunk@41170 -

M	rtl/inc/sortbase.pp
M	rtl/objpas/classes/lists.inc

******************************************************************************
commit e8dc54c768639c9c99b599850e8b2eee67a4ad37
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 20:31:16 2019 +0000

    + added TList.Sort overload with a sorting algorithm parameter
    
    git-svn-id: trunk@41169 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/lists.inc

******************************************************************************
commit c24d525b9f1f1cd221c2f5e73b5fb6f147b2224c
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 20:22:07 2019 +0000

    * compilation fixes for many platforms after r41167
    
    git-svn-id: trunk@41168 -

M	rtl/amicommon/classes.pp
M	rtl/atari/classes.pp
M	rtl/beos/classes.pp
M	rtl/embedded/classes.pp
M	rtl/gba/classes.pp
M	rtl/go32v2/classes.pp
M	rtl/haiku/classes.pp
M	rtl/msdos/classes.pp
M	rtl/nativent/classes.pp
M	rtl/nds/classes.pp
M	rtl/netware/classes.pp
M	rtl/netwlibc/classes.pp
M	rtl/os2/classes.pp
M	rtl/symbian/classes.pp
M	rtl/watcom/classes.pp
M	rtl/wii/classes.pp
M	rtl/win16/classes.pp
M	rtl/win32/classes.pp
M	rtl/win64/classes.pp
M	rtl/wince/classes.pp

******************************************************************************
commit 248fd313f8b5e37a8bb8a38bf92d8d1ec2fa1a5e
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 20:06:50 2019 +0000

    + introduced unit SortBase, which implements the foundation for pluggable
      sorting algorithms. A default QuickSort implementation is provided by the
      unit. Other units can be added, to provide other sorting algorithms (e.g.
      HeapSort, MergeSort, IntroSort, etc.)
    * TList and TFPList updated to use the current default sorting algorithm defined
      in SortBase for their .Sort method.
    
    git-svn-id: trunk@41167 -

M	.gitattributes
M	rtl/aix/Makefile
M	rtl/aix/Makefile.fpc
M	rtl/android/Makefile
M	rtl/android/Makefile.fpc
M	rtl/aros/Makefile
M	rtl/aros/Makefile.fpc
M	rtl/atari/Makefile
M	rtl/atari/Makefile.fpc
M	rtl/beos/Makefile
M	rtl/beos/Makefile.fpc
M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc
M	rtl/dragonfly/Makefile
M	rtl/dragonfly/Makefile.fpc
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
M	rtl/emx/Makefile
M	rtl/emx/Makefile.fpc
M	rtl/freebsd/Makefile
M	rtl/freebsd/Makefile.fpc
M	rtl/gba/Makefile
M	rtl/gba/Makefile.fpc
M	rtl/go32v2/Makefile
M	rtl/go32v2/Makefile.fpc
M	rtl/haiku/Makefile
M	rtl/haiku/Makefile.fpc
A	rtl/inc/sortbase.pp
M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
M	rtl/morphos/Makefile
M	rtl/morphos/Makefile.fpc
M	rtl/msdos/Makefile
M	rtl/msdos/Makefile.fpc
M	rtl/nds/Makefile
M	rtl/nds/Makefile.fpc
M	rtl/netbsd/Makefile
M	rtl/netbsd/Makefile.fpc
M	rtl/netware/Makefile
M	rtl/netware/Makefile.fpc
M	rtl/netwlibc/Makefile
M	rtl/netwlibc/Makefile.fpc
M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/lists.inc
M	rtl/openbsd/Makefile
M	rtl/openbsd/Makefile.fpc
M	rtl/os2/Makefile
M	rtl/os2/Makefile.fpc
M	rtl/solaris/Makefile
M	rtl/solaris/Makefile.fpc
M	rtl/symbian/Makefile
M	rtl/symbian/Makefile.fpc
M	rtl/unix/classes.pp
M	rtl/watcom/Makefile
M	rtl/watcom/Makefile.fpc
M	rtl/wii/Makefile
M	rtl/wii/Makefile.fpc
M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc
M	rtl/win32/Makefile
M	rtl/win32/Makefile.fpc
M	rtl/win64/Makefile
M	rtl/win64/Makefile.fpc
M	rtl/wince/Makefile
M	rtl/wince/Makefile.fpc

******************************************************************************
commit 6c87b89e45184fc5deda0c5af0e4ad9bd476776b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Jan 30 10:48:27 2019 +0000

    atari: fpc now searches for the compiler with .ttp extension, as that's the default on Atari
    
    git-svn-id: trunk@41141 -

M	compiler/utils/fpc.pp

******************************************************************************
commit 2b6076a719f4671b7bb838bb3ba8bba19f1018d2
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 22:06:32 2019 +0000

    * compilation fixed
    
    git-svn-id: trunk@41139 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit e52cf555ab862662622817397df755cce1466621
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 29 21:39:26 2019 +0000

      * fix loading of constants in registers in the LLVM CG if the constant
        does not fit in ptrsinttype
    
    git-svn-id: trunk@41138 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 2d01fe76f6debe1369ae3a345fed259282e0cc10
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 29 21:39:23 2019 +0000

      * initialse the cgpara for the C-style varargs on ARM (needed for LLVM)
    
    git-svn-id: trunk@41137 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 9c3e9e80a3e9aea5136c0adfc5bc8b41b3fa689e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 29 21:39:16 2019 +0000

      * fixed type correctness of and simplified the threadvar loading size
        optimisation
    
    git-svn-id: trunk@41135 -

M	compiler/ncgld.pas
******************************************************************************
commit 4869d0ace9883ec2e0a4aa9bcf0cb63070df81e9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 29 21:39:12 2019 +0000

      * perform extension of parameters to 32 bit for Darwin in the paraloc instead
        of in the cgpara (cgpara should always correspond to the real parameter)
    
    git-svn-id: trunk@41134 -

M	compiler/i386/cpupara.pas

******************************************************************************
commit 04d295f1865d6c011d131ea4ccfb7dd1928ca758
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 29 21:39:09 2019 +0000

      * first step towards supporting 32 bit targets with the LLVM code generator:
        use the generic code in more cases when cpuhighleveltarget is defined
    
    git-svn-id: trunk@41133 -

M	compiler/cgutils.pas
M	compiler/fpcdefs.inc
M	compiler/hlcg2ll.pas
M	compiler/hlcgobj.pas
M	compiler/nadd.pas
M	compiler/ncgadd.pas
M	compiler/ncgbas.pas
M	compiler/ncgcal.pas
M	compiler/ncgcnv.pas
M	compiler/ncgcon.pas
M	compiler/ncginl.pas
M	compiler/ncgld.pas
M	compiler/ncgmat.pas
M	compiler/ncgset.pas
M	compiler/ncgutil.pas
M	compiler/ninl.pas
M	compiler/nmat.pas
M	compiler/parabase.pas

******************************************************************************
commit 2f40f818907756d1dc844bf3a5c9899986a3aeaf
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:40:41 2019 +0000

    + sanity check
    
    git-svn-id: trunk@41131 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit afd4599d26c0462c59d0e9ce9fae76a47c6d333f
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:40:40 2019 +0000

    * correctly handle LDRD in TAoptBaseCpu.RegModifiedByInstruction
    
    git-svn-id: trunk@41130 -

M	compiler/arm/aoptcpub.pas

******************************************************************************
commit acbf7d15c494c68b0f8209ccb0d041c8dba351f6
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:40:39 2019 +0000

    * do not load always the references into a register in g_concatcopy
    
    git-svn-id: trunk@41129 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 4db5478acc409c6070e38152b0d24b7693c4df9d
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:38:51 2019 +0000

    + support msr regf,reg32 on arm in the internal assembler
    
    git-svn-id: trunk@41128 -

M	compiler/arm/armins.dat
M	compiler/arm/armnop.inc
M	compiler/arm/armtab.inc

******************************************************************************
commit a186f484427dd09971c4b5c335b3a7e807eee796
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:17:47 2019 +0000

    * cosmetics
    
    git-svn-id: trunk@41127 -

M	compiler/arm/narmld.pas
M	compiler/arm/raarmgas.pas

******************************************************************************
commit 6c888949992e530b72e641603d5200b2d3f57b9b
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:16:12 2019 +0000

    * do not call the internal assembler if -s is passed
    
    git-svn-id: trunk@41126 -

M	compiler/options.pas

******************************************************************************
commit d1878fe5b21ed2cf39dfb22c5197d02aee2a49ec
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Jan 29 05:02:18 2019 +0000

    morphos: support section GC with GNU LD as well
    
    git-svn-id: trunk@41105 -

M	compiler/systems/t_morph.pas

******************************************************************************
commit 9906211f3b1d9dd39b16506483a33d3aa541750a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 13:19:26 2019 +0000

    amiga: enable building of heaptrc unit, enable building lineinfo and exeinfo for OS4/PowerPC
    
    git-svn-id: trunk@41096 -

M	rtl/amiga/Makefile
M	rtl/amiga/Makefile.fpc
M	rtl/amiga/buildrtl.pp

******************************************************************************
commit c3607e0059f95a96bcb5f291a1d94f14737367fc
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 13:11:55 2019 +0000

    aros: only build lineinfo for i386 for now. FPC on x86_64 doesn't support stabs at all and the Amiga-specific lineinfo unit has no ARM support
    
    git-svn-id: trunk@41095 -

M	rtl/aros/Makefile
M	rtl/aros/Makefile.fpc
M	rtl/aros/buildrtl.pp

******************************************************************************
commit 6d279fdbb9c0fca0dc02dfd8d17301fd782f6b41
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 12:45:19 2019 +0000

    amicommon/lineinfo: fixed copy-paste error in PowerPC codepath
    
    git-svn-id: trunk@41094 -

M	rtl/amicommon/lineinfo.pp

******************************************************************************
commit 40630653b7b9ef8b793bc01a72c2d38f2d0ed37f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 06:01:54 2019 +0000

    aros: fixed lineinfo to build from amicommon
    
    git-svn-id: trunk@41093 -

M	rtl/aros/Makefile
M	rtl/aros/Makefile.fpc

******************************************************************************
commit 22c87afdd1dfd31c8fc5261d26b83563c60bedcb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 06:00:41 2019 +0000

    amicommon/lineinfo: added support for i386 relocatable binaries with .rel.stab section, as used on AROS-i386 for example
    
    git-svn-id: trunk@41092 -

M	rtl/amicommon/lineinfo.pp

******************************************************************************
commit db055c8f0ce18c07a7263291942ee76a724234ab
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 05:29:31 2019 +0000

    amicommon: moved MorphOS-specific lineinfo to amicommon, for upcoming AROS and OS4 support
    
    git-svn-id: trunk@41091 -

M	.gitattributes
R100	rtl/morphos/lineinfo.pp	rtl/amicommon/lineinfo.pp

******************************************************************************
commit d1a097f6c376b8a9b9ef9dcedc91a35d046ebd2a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 05:07:51 2019 +0000

    morphos: do not read beyond end of the .rela.stabs section. do not try to relocate stabs entries, if opening the stabs was unsuccessful
    
    git-svn-id: trunk@41090 -

M	rtl/morphos/lineinfo.pp

******************************************************************************
commit 7bc03f2590d15a2e4882056c8b4d41521a950aa4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 04:18:50 2019 +0000

    reverted accidental commit to text.inc
    
    git-svn-id: trunk@41089 -

M	rtl/inc/text.inc

******************************************************************************
commit c85f7cfc261b20cf50c1e88418ce5f5722727c68
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 04:16:44 2019 +0000

    aros/amigaos4: enabled ELF32/64 and GetModuleAddr() in exeinfo, based on the MorphOS versionexeinfo.pp
    
    git-svn-id: trunk@41088 -

M	rtl/inc/exeinfo.pp
M	rtl/inc/text.inc

******************************************************************************
commit 597a23d278f2c870dbf0a5d7fadb83908b365ce0
Author: florian <florian@freepascal.org>
Date:   Sun Jan 27 09:37:25 2019 +0000

    + tls support for x86_64-linux (not yet enabled by default)
    
    git-svn-id: trunk@41081 -

M	compiler/cgbase.pas
M	compiler/systems/i_linux.pas
M	compiler/x86/agx86att.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/nx86ld.pas
M	compiler/x86_64/cpunode.pas
M	rtl/linux/si_impl.inc
M	rtl/linux/system.pp
M	rtl/linux/x86_64/si_prc.inc

******************************************************************************
commit c7bb028d35b0db4355ebbb7d97cfa3962db938a7
Author: florian <florian@freepascal.org>
Date:   Thu Jan 24 20:10:29 2019 +0000

    * factored out OptPass1FLD, used bx x86-64 now as well
    - removed unused function
    
    git-svn-id: trunk@41061 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 6cb6517411066233d517a2d97d1e0dbdaa1255f3
Author: florian <florian@freepascal.org>
Date:   Thu Jan 24 19:53:51 2019 +0000

    * better recognization of procedure exit code
    
    git-svn-id: trunk@41060 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 24f6cc0da52e0c9f0c5285c7961e5b66b6c88891
Author: florian <florian@freepascal.org>
Date:   Thu Jan 24 19:38:32 2019 +0000

    * factored out OptPass1FSTP, used by x86-64 now as well
    
    git-svn-id: trunk@41059 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit cfd0790f89641b4c7b98a24314448ea5ce6543df
Author: florian <florian@freepascal.org>
Date:   Wed Jan 23 21:02:14 2019 +0000

    * avoid assembler errors for the MovOpMov2MovOp optimziation in case the size of the instruction
      gets changed and the first one contains a constant, resolves #34933
    
    git-svn-id: trunk@41021 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 8d3d5276d74979c670c7571d10d698ba09e5c9e4
Author: florian <florian@freepascal.org>
Date:   Tue Jan 22 21:58:05 2019 +0000

    * open arrays and arrays of consts might be only stack tainting if they are passed by value
    
    git-svn-id: trunk@41008 -

M	compiler/symdef.pas

******************************************************************************
commit 4fb7b5d3ffe403756478930a33574f41d05af580
Author: florian <florian@freepascal.org>
Date:   Mon Jan 21 21:57:07 2019 +0000

    * fix MovOpMov2MovOp optimization if no -Cpcoreavx2 is used
    
    git-svn-id: trunk@40979 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4f0da5fcc3d4c0dc053cd88b1b00775b22eac668
Author: florian <florian@freepascal.org>
Date:   Sun Jan 20 18:50:12 2019 +0000

    + patch by Marģers to support the x86 assembler instructions blsi, blsr, blsmsk, adcx, adox, movbe, pclmulqdq, resolves #34815 and #34799
    + avxopcodes tests also movbe and pclmulqdq
    
    git-svn-id: trunk@40951 -

M	compiler/i386/i386att.inc
M	compiler/i386/i386atts.inc
M	compiler/i386/i386int.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386op.inc
M	compiler/i386/i386prop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086att.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086int.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086op.inc
M	compiler/i8086/i8086prop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664att.inc
M	compiler/x86_64/x8664int.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664op.inc
M	compiler/x86_64/x8664pro.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 8c66e9a2eb763a9dfa37e35c7e31dac32e7fd7c2
Author: florian <florian@freepascal.org>
Date:   Sun Jan 20 18:50:10 2019 +0000

    + support for 16 bit registers
    
    git-svn-id: trunk@40950 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit fc7ecf32065f1671421518f111f51c9eabe008c9
Author: florian <florian@freepascal.org>
Date:   Sun Jan 20 18:50:09 2019 +0000

    * usage example for linux
    
    git-svn-id: trunk@40949 -

M	tests/utils/avx/readme.txt

******************************************************************************
commit 75a89d21159b3c4106596993f938b77e43ee048d
Author: florian <florian@freepascal.org>
Date:   Sun Jan 20 17:00:43 2019 +0000

    * fix and enable MovOpMov2MovOp optimization on x86-64
    
    git-svn-id: trunk@40941 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 94d7a02fae1d06a40fc9313f7e42323f97d577c7
Author: florian <florian@freepascal.org>
Date:   Sun Jan 20 14:16:38 2019 +0000

    * modified patch by Gareth Moreton to pool TmpUsedRegs in the assembler optimizers, resolves #34679
    
    git-svn-id: trunk@40938 -

M	compiler/aopt.pas
M	compiler/aoptobj.pas
M	compiler/arm/aoptcpu.pas
M	compiler/avr/aoptcpu.pas
M	compiler/sparcgen/aoptcpu.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 925531b99c1ffcb99a838a3991005eee827bfa9b
Author: florian <florian@freepascal.org>
Date:   Sat Jan 19 21:23:36 2019 +0000

    * constrained generics are also compatible with formaldefs, resolves #34893
    
    git-svn-id: trunk@40921 -

M	.gitattributes
M	compiler/defcmp.pas
A	tests/webtbs/tw34893.pp

******************************************************************************
commit 6c82b2d1daacf29cabe1d6c22be050f12cfa3303
Author: florian <florian@freepascal.org>
Date:   Sat Jan 19 19:37:48 2019 +0000

    * -tls-dialect is not a as option, removed it, resolves #34901
    
    git-svn-id: trunk@40920 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit fd1a09a254edd18eaa752fc34d7aa13424992974
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 14 11:47:54 2019 +0000

    morphos/lineinfo: updated the address adjustment comment added in r40857, no functional change
    
    git-svn-id: trunk@40860 -

M	rtl/morphos/lineinfo.pp

******************************************************************************
commit b3ad384547fc2f8fb35b5ce7b1e73274f13c389d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 14 07:22:41 2019 +0000

    morphos: fixed stabs line number parsing, and off-by-one line issue with backtraces. i think this should be a generic fix and can be backported to the global lineinfo
    
    git-svn-id: trunk@40857 -

M	rtl/morphos/lineinfo.pp

******************************************************************************
commit 56f0a71466be36f158e239238517287a47e59335
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jan 13 16:23:18 2019 +0000

    heaptrc: empty the array for the call trace, otherwise the trace dump code will just dump the rest of the array as well, on systems where the heap is not initialized to zero, or if the memory area has been re-used
    
    git-svn-id: trunk@40856 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 4d1ff152c4019ba3dccc64a1480d4d98b7be6e56
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jan 13 13:27:45 2019 +0000

    morphos: include the new lineinfo in the build
    
    git-svn-id: trunk@40855 -

M	rtl/morphos/Makefile
M	rtl/morphos/Makefile.fpc
M	rtl/morphos/buildrtl.pp

******************************************************************************
commit a527a40d12188f698526bd4827654b95e7da5d48
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jan 13 13:16:01 2019 +0000

    morphos: add a custom lineinfo unit, prepared to parse stabs relocations in ELF relocatable objects, also featuring stronger address validation, and showing offsets in the executable instead of absolute addresses
    
    git-svn-id: trunk@40854 -

M	.gitattributes
A	rtl/morphos/lineinfo.pp

******************************************************************************
commit 644c47e1213118690d78d593a1c217335215fb1b
Author: florian <florian@freepascal.org>
Date:   Sun Jan 13 10:32:00 2019 +0000

    * when deciding about the case code generation in case of size optimization, the number of labels is relevant, not the covered range, resolves #34818
    
    git-svn-id: trunk@40851 -

M	.gitattributes
M	compiler/ncgset.pas
A	tests/webtbs/tw34818.pp

******************************************************************************
commit b223d1c3048a22c1d2bdb3e8d933414e2843a737
Author: florian <florian@freepascal.org>
Date:   Sat Jan 12 14:44:54 2019 +0000

    * modified patch by Gareth Moreton to make ie unique, resolves #34849
    
    git-svn-id: trunk@40849 -

M	compiler/x86/cpubase.pas

******************************************************************************
commit 1b16ff3629c51a305b9808e751456f7eff1a5df8
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 10 14:40:05 2019 +0000

     Change default debugging format for x86_64-haiku to dwarf-2, as stabs is normally disabled on 64-bit systems
    
    git-svn-id: trunk@40835 -

M	compiler/systems/i_haiku.pas

******************************************************************************
commit 193df0204ae176fff24978cb00539cf7481a1245
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 9 22:43:56 2019 +0000

     Add x86_64-haiku target to some Makefile's
    
    git-svn-id: trunk@40820 -

M	packages/gnutls/Makefile
M	rtl/embedded/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile

******************************************************************************
commit 3a52fdf997f14b935f95b057925f1234a51dc629
Author: pierre <pierre@freepascal.org>
Date:   Mon Jan 7 21:41:18 2019 +0000

     Add FPC_SYSTEM_EXIT_NO_RETURN macro for embedded target
    
    git-svn-id: trunk@40801 -

M	rtl/embedded/system.pp
M	rtl/inc/system.inc

******************************************************************************
commit 51e68eb302c8f7fbaf95a04162bf79e3c6de3161
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jan 6 20:35:56 2019 +0000

      * fixed several places where the interface crc could change:
       o unsetting po_inline while parsing the implementation for various reasons
         (interprocedural goto/label, accessing a local in a parent frame,
          having nested procedures)
       o instead handle this via the pio_inline_not_possible flag
       o noreturn can no longer be specified only in the implementation
    
    git-svn-id: trunk@40789 -

M	compiler/nflw.pas
M	compiler/nld.pas
M	compiler/pexpr.pas
M	compiler/pparautl.pas
M	compiler/pstatmnt.pas
M	compiler/psub.pas
M	compiler/rautils.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 078d8e9d2abc188f4844b28b9f168fa6ec1bd6cc
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jan 6 14:08:35 2019 +0000

    tarray15: the conditions added in r40779 should be or, instead of and (thanks Pierre)
    
    git-svn-id: trunk@40784 -

M	tests/test/tarray15.pp

******************************************************************************
commit cae98304f830a4f9e9f7cc5f33de1d3edb250af7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jan 6 10:50:02 2019 +0000

    tarray15: no rodata support on a bunch of m68k platforms
    
    git-svn-id: trunk@40779 -

M	tests/test/tarray15.pp

******************************************************************************
commit 5182dc37af6f5df1e6fb2e0f08e6bd0c702fd033
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Jan 4 03:18:42 2019 +0000

    haiku-x86_64: regenerated all Makefiles, take 2
    
    git-svn-id: trunk@40758 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 59aef99f5222f572b06408bb7a95c39e0b00a495
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Jan 4 03:17:19 2019 +0000

    haiku-x86_64: regenerated all Makefiles
    
    git-svn-id: trunk@40757 -

M	tests/Makefile

******************************************************************************
commit 1d7486748a27010e304589d415c961435d3e0812
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Jan 4 01:35:36 2019 +0000

    tabs to spaces cleanup. no functional change
    
    git-svn-id: trunk@40752 -

M	compiler/aasmtai.pas

******************************************************************************
commit 3a8f25348b57a50f4e26ddca28c721046d8612a1
Author: florian <florian@freepascal.org>
Date:   Thu Jan 3 20:55:25 2019 +0000

    * set default abi to eabi5 on arm
    
    git-svn-id: trunk@40751 -

M	packages/fcl-res/src/elfconsts.pp
M	packages/fcl-res/src/elfsubwriter.inc

******************************************************************************
commit 10ab893de389cd0dc689ee4b038fd07487f5b0c5
Author: florian <florian@freepascal.org>
Date:   Thu Jan 3 17:38:27 2019 +0000

    * improved explanation for warning 9034
    
    git-svn-id: trunk@40749 -

M	compiler/msg/errore.msg

******************************************************************************
commit 2ba239ea6d1474f2a6699f725480bbebfecfa005
Author: florian <florian@freepascal.org>
Date:   Wed Jan 2 16:14:18 2019 +0000

    * more robust fix of #27543
    
    git-svn-id: trunk@40746 -

M	compiler/pstatmnt.pas

******************************************************************************
commit e7c4fccf41056a5695f6aaf39c4b12df95af44a2
Author: florian <florian@freepascal.org>
Date:   Tue Jan 1 23:16:07 2019 +0000

    * patch by Simon Ameis: adds mcu STM32F091* to compiler unit t_embed.pas; thus internal error 200902011 is not raised anymore, resolves #34570
    
    git-svn-id: trunk@40742 -

M	compiler/systems/t_embed.pas

******************************************************************************
commit a72a12eef6133dacfa6d0a93ca8de63a71e92da7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 1 16:55:41 2019 +0000

      * don't emit 0-sized parameters for LLVM: clang doesn't either, and some
        LLVM backends (like the AArch64 one) trigger internal errors when
        encountering them
    
    git-svn-id: trunk@40736 -

M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/parabase.pas

******************************************************************************
commit 4d03f3a65e9da5a7d9bd71c0b9d0a1090cd4bea0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 1 16:22:31 2019 +0000

      * fixed LLVM memory leaks
    
    git-svn-id: trunk@40732 -

M	compiler/aasmcnst.pas
M	compiler/hlcgobj.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/ncgmat.pas
M	compiler/symcreat.pas

******************************************************************************
commit 22365a1f5700b924faf970f2c9a36e99c0f3d709
Author: florian <florian@freepascal.org>
Date:   Tue Jan 1 16:16:54 2019 +0000

    + test for #27543 which is fixed meanwhile
    
    git-svn-id: trunk@40731 -

M	.gitattributes
A	tests/webtbf/tw27543.pp

******************************************************************************
commit a2cee252e85a2e04b1e13a04d48060a3d8135889
Author: florian <florian@freepascal.org>
Date:   Tue Jan 1 01:11:13 2019 +0000

    * when optimizing range checks in case nodes, unsigned comparisions must be used, resolves #34782
    
    git-svn-id: trunk@40721 -

M	compiler/ncgset.pas
M	compiler/x86/nx86set.pas

******************************************************************************
commit 1641585655db9a22030745cf709105cdc3ac3dce
Author: florian <florian@freepascal.org>
Date:   Sun Dec 30 22:21:03 2018 +0000

    * updated bcase.pp benchmark by Gareth Moreton, now used also as test
    
    git-svn-id: trunk@40710 -

M	.gitattributes
M	tests/bench/bcase.pp
A	tests/test/tcase49.pp

******************************************************************************
commit bd4b7a6bc420196d0e846b5f058033101219c2cd
Author: florian <florian@freepascal.org>
Date:   Sat Dec 29 21:53:52 2018 +0000

    * more case fixes
    
    git-svn-id: trunk@40706 -

M	compiler/ncgset.pas
M	compiler/x86/nx86set.pas

******************************************************************************
commit f6e32ae90e7aa852390174ebb5b8aca0392bcf25
Author: florian <florian@freepascal.org>
Date:   Fri Dec 28 20:56:43 2018 +0000

    * (modified) path by Gareth Moreton to fix case handling
    
    git-svn-id: trunk@40686 -

M	compiler/ncgset.pas
M	compiler/x86/nx86set.pas

******************************************************************************
commit df598f186829a7074edfe4c4024c89e07abb2668
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 28 19:01:11 2018 +0000

      * update alignment values for Darwin
    
    git-svn-id: trunk@40684 -

M	compiler/systems/i_bsd.pas

******************************************************************************
commit dee105654693cf7a8da064d3a2530d9436b07fdf
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 28 13:22:50 2018 +0000

      * fixed wrong change of jumpalignmax from 10 to 16 in previous commit
       o renamed jumpalignmax and coalescealignmax to jumpalignskipmax/
         coalescealignskipmax to better reflex the meaning of these setting
         (and the difference in meaning to e.g. constalignmax)
    
    git-svn-id: trunk@40682 -

M	compiler/globals.pas
M	compiler/ncgflw.pas
M	compiler/scanner.pas
M	compiler/systems.pas
M	compiler/systems/i_aix.pas
M	compiler/systems/i_amiga.pas
M	compiler/systems/i_android.pas
M	compiler/systems/i_aros.pas
M	compiler/systems/i_atari.pas
M	compiler/systems/i_beos.pas
M	compiler/systems/i_bsd.pas
M	compiler/systems/i_embed.pas
M	compiler/systems/i_emx.pas
M	compiler/systems/i_gba.pas
M	compiler/systems/i_go32v2.pas
M	compiler/systems/i_haiku.pas
M	compiler/systems/i_jvm.pas
M	compiler/systems/i_linux.pas
M	compiler/systems/i_macos.pas
M	compiler/systems/i_morph.pas
M	compiler/systems/i_msdos.pas
M	compiler/systems/i_nativent.pas
M	compiler/systems/i_nds.pas
M	compiler/systems/i_nwl.pas
M	compiler/systems/i_nwm.pas
M	compiler/systems/i_os2.pas
M	compiler/systems/i_palmos.pas
M	compiler/systems/i_sunos.pas
M	compiler/systems/i_symbian.pas
M	compiler/systems/i_watcom.pas
M	compiler/systems/i_wdosx.pas
M	compiler/systems/i_wii.pas
M	compiler/systems/i_win.pas
M	compiler/systems/i_win16.pas

******************************************************************************
commit 9a797b9f494d723f8b8b2286fc5db0338f63d98e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 28 12:06:46 2018 +0000

      * changed maxjumpalign:10 to 16
      * changed (max)jumalign for Darwin/x86_64 from 0 to 16
    
    git-svn-id: trunk@40681 -

M	compiler/systems/i_bsd.pas
M	compiler/systems/i_linux.pas
M	compiler/systems/i_win.pas

******************************************************************************
commit 9c03c298567dabc027818e995fef06682e91a226
Author: florian <florian@freepascal.org>
Date:   Thu Dec 27 23:14:38 2018 +0000

    * not all targets support the tls-model switch, use it only if section thread vars are used
    
    git-svn-id: trunk@40680 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit ce81e509075e2a186a2d9d854d1bddb891cea6f9
Author: florian <florian@freepascal.org>
Date:   Thu Dec 27 22:07:30 2018 +0000

    * better code alignment for x86_64-win64 and x86_64-linux
    
    git-svn-id: trunk@40679 -

M	compiler/systems/i_linux.pas
M	compiler/systems/i_win.pas

******************************************************************************
commit a7c347fe567eead26455fa6be3c579a227673362
Author: florian <florian@freepascal.org>
Date:   Thu Dec 27 20:54:14 2018 +0000

    * pass used tls model to the assembler
    
    git-svn-id: trunk@40677 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit 7f5c2fa3aae4273980635a703db4fc4c8fa828c4
Author: florian <florian@freepascal.org>
Date:   Thu Dec 27 18:31:55 2018 +0000

    * (modified) patch by Gareth Moreton: Speed improvement in case blocks, resolves #0034762
    This patch improves the compiler where "case" statements are concerned, using jump tables more often and creating more efficient machine code in some situations:
      * If a case block only contains one branch (not including the else block), the initial range check is removed, since this becomes wasted effort.
      * If the else block is empty, the else label is set to the end label - though this doesn't decrease the code size, it takes a bit of strain off the peephole optimizer.
      * On -O2 and above, some node analysis is now done on the branch labels. Most of the time this just redirects it to the end
        label for empty blocks, but if the block contains a goto statement, it will redirect it to its destination instead,
        thus increasing performance by not having multiple jumps (this won't get picked up by the peephole optimiser if the label addresses are in a jump table).
      * Some checks now use what I call the 'true count' rather than the 'label count'. The true count includes each
        individual value in a range - for example, 0..2 counts as 3. This increases the chance that a jump table will be
        utilised in situations where it is more efficient than a linear list.
      * For jump tables, if the case block almost covers the entire range (32 entries or fewer from full coverage),
        the initial range check is removed and the gaps included in the jump table (pointing to the else label).
    
    git-svn-id: trunk@40676 -

M	.gitattributes
M	compiler/ncgset.pas
M	compiler/nset.pas
M	compiler/x86/nx86set.pas
M	compiler/x86_64/nx64set.pas
A	tests/bench/bcase.pp

******************************************************************************
commit acfa2088efb90c4eb3b58e18f9261ab113287938
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 25 17:52:56 2018 +0000

      + test for previous commit
    
    git-svn-id: trunk@40646 -

M	.gitattributes
A	tests/test/tb0266.pp

******************************************************************************
commit b840db72284ec707b22636aff5d36d84ad95a228
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 25 15:36:28 2018 +0000

      * addition to r40631: also force inline self parameters that are already in
        a temp into a new temp for LLVM, so their type gets updated
    
    git-svn-id: trunk@40642 -

M	compiler/ncal.pas

******************************************************************************
commit f7549785407c1ac00df6addbf3c7346ef877debf
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 25 15:36:24 2018 +0000

      * handle constructor function results that have been migrated to the
        parentfpstruct the same as regular function results (see r32687)
    
    git-svn-id: trunk@40641 -

M	compiler/hlcgobj.pas
M	compiler/jvm/symcpu.pas
M	compiler/nflw.pas
M	compiler/ngenutil.pas
M	compiler/symdef.pas

******************************************************************************
commit 70cadc76948864526b147e46052605cc7a69377b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:21:40 2018 +0000

      * fixed string constant length when going from utf-8 to single-byte code page
        (mantis #33666, patch by engkin)
    
    git-svn-id: trunk@40637 -

M	.gitattributes
M	compiler/ncon.pas
A	tests/webtbs/tw33666.pp

******************************************************************************
commit c9a7afe053a4feca5188dfaa57d2e42075eb48b9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:10:09 2018 +0000

      * in constructors, free the temp holding self only after loading the function
        result, as self is the function result there (follow up to 40501)
    
    git-svn-id: trunk@40635 -

M	compiler/ncgutil.pas

******************************************************************************
commit f3d831b480dabc787b9126e3929c7fcb387a309b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:09:58 2018 +0000

      * fixed result cgsize of LLVM's second_nothing type conversion node (new
        size instead of original size, which can be different in case of going
        from void to something else)
    
    git-svn-id: trunk@40632 -

M	compiler/llvm/nllvmcnv.pas

******************************************************************************
commit eb769e3859d33f1c93f4870d97be243718de50f5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:09:55 2018 +0000

      * force pointer-based self parameters of inlined routines in temps for LLVM
        to ensure that their type gets updated
    
    git-svn-id: trunk@40631 -

M	compiler/llvm/nllvmcal.pas
M	compiler/ncal.pas

******************************************************************************
commit dd290884306f9746c1a60a6b85f137d58bcfc759
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:09:48 2018 +0000

      * simplify all type conversions for formal constants even for LLVM and JVM
        (since these happen at compile time and don't result in generated code,
         they never need extra type conversions in the code)
    
    git-svn-id: trunk@40629 -

M	compiler/llvm/nllvmcnv.pas
M	compiler/ncnv.pas

******************************************************************************
commit b1b559f2838fdbedfd399789c2a34405d0e74f91
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:09:45 2018 +0000

      * fixed used resulttype of char-to-shortstring typeconversion in case the
        shortstring type is smaler than 255 chars
    
    git-svn-id: trunk@40628 -

M	compiler/ncgcnv.pas

******************************************************************************
commit f87304f5caf5f9e3afb96d339d12f90fe5dd9772
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 21 20:57:22 2018 +0000

      * fixed LLVM code generator not taking into account constalignmin/max
        settings for typed constants
    
    git-svn-id: trunk@40605 -

M	compiler/aasmcnst.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 4f72edcdd59d7976e26aace0e6c0a393b6c4186c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 21 20:57:19 2018 +0000

      + LLVM support for the FMA intrinsics
    
    git-svn-id: trunk@40604 -

M	compiler/llvm/nllvminl.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 1cc995b471f0e708abb9113064877d9a01a1d477
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 21 20:57:16 2018 +0000

      * use ccallnode.createintern() instead of
        ccallcnode.createinternfromunit('SYSTEM')
    
    git-svn-id: trunk@40603 -

M	compiler/llvm/nllvminl.pas

******************************************************************************
commit c55ffa8cc7574d94b38c7b5f7e7d41cb467e4578
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 21 20:57:12 2018 +0000

      * fixed <> comparisons with NaNs (use LLVM "unordered" comparison: succeed
        if either operand is a NaN)
    
    git-svn-id: trunk@40602 -

M	compiler/llvm/nllvmadd.pas

******************************************************************************
commit 430ec7bbe4b33b69ca4cf6a200a8a7a031449adb
Author: pierre <pierre@freepascal.org>
Date:   Thu Dec 20 22:39:40 2018 +0000

     Try to ix compilation failures in units/fpcunit directory
    
    git-svn-id: trunk@40601 -

M	tests/test/units/fpcunit/tcbucketlist.pp
M	tests/test/units/fpcunit/tccompstreaming.pp
M	tests/test/units/fpcunit/tctparser.pp
M	tests/test/units/fpcunit/testcomps.pp

******************************************************************************
commit e9e5b05caa1e653a0086bd5191b11351059e994c
Author: pierre <pierre@freepascal.org>
Date:   Thu Dec 20 21:30:44 2018 +0000

     Remove Unicode $180E (Mongolian Vowel Separator), as it is not anymore a whitespace character
    
    git-svn-id: trunk@40600 -

M	tests/test/units/character/tiswhitespace.pp

******************************************************************************
commit 3b4011760a1dde45618b9b48529c5827d4eb8849
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Dec 20 21:22:44 2018 +0000

      * cleaned up blockaddress instruction (add type rather than hardcoding it
        in the assembler writer)
      * fixed taking the address of a label in a typed const for llvm (fixes
        tbs/tb0468a)
    
    git-svn-id: trunk@40599 -

M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/nllvmld.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit c6bb85eae998ed42c242a3d5d7e24c2bf3231460
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Dec 20 21:22:40 2018 +0000

      * support for compiling the objects unit methods that expect local procedure/
        function pointers using {$modeswitch nestedprocvars} functionality, activate
        this for LLVM and also activate that modeswitch for a test that uses this
       o also convert the IDE units to use this functionality
       o requires extra typecasts because implicit type conversions from
         procvar(p: psometype) to procvar(p: pointer) are not supported; on the
         plus side, even those type conversions are checked for validity
       o note: requires {$modeswitch nestedprocvars} in all programs/units
         that rely on this functionality
    
    git-svn-id: trunk@40598 -

M	compiler/browcol.pas
M	packages/fv/src/app.pas
M	packages/fv/src/platform.inc
M	packages/fv/src/tabs.pas
M	packages/fv/src/views.pas
M	packages/ide/fpcodcmp.pas
M	packages/ide/fpcodtmp.pas
M	packages/ide/fpcompil.pas
M	packages/ide/fpdebug.pas
M	packages/ide/fphelp.pas
M	packages/ide/fpide.pas
M	packages/ide/fpini.pas
M	packages/ide/fpmfile.inc
M	packages/ide/fpmsrch.inc
M	packages/ide/fpmwnd.inc
M	packages/ide/fpswitch.pas
M	packages/ide/fpsymbol.pas
M	packages/ide/fptools.pas
M	packages/ide/fpviews.pas
M	packages/ide/globdir.inc
M	packages/ide/wcedit.pas
M	packages/ide/weditor.pas
M	packages/ide/whelp.pas
M	packages/ide/whtmlhlp.pas
M	packages/ide/whtmlscn.pas
M	packages/ide/wini.pas
M	packages/ide/wnghelp.pas
M	packages/ide/wresourc.pas
M	packages/ide/wutils.pas
M	packages/ide/wwinhelp.pas
M	packages/rtl-extra/src/inc/objects.pp
M	tests/tbs/tb0268.pp

******************************************************************************
commit 7cc7268635512a76eb3f3473e6ddfc454ecc2294
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:59:58 2018 +0000

      * fixed dynamic array constants for non-Darwin LLVM platforms
    
    git-svn-id: trunk@40578 -

M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 2330164ee2e700dd8e651d7018d2836bd722afed
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:41 2018 +0000

      + internal sqrt support for LLVM (faster on all platforms, necessary on
        platforms that don't have RTL support for it, as the the generic
        fpc_sqrt_real just calls runerror)
    
    git-svn-id: trunk@40575 -

M	compiler/llvm/nllvminl.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 8845f4d1ce390679902873a611f9cf0e04e5b185
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:38 2018 +0000

      * fixed type consistency in handler for array parameters on platforms where
        these have to be passed on the caller side (i.e., AArch64)
    
    git-svn-id: trunk@40574 -

M	compiler/ncal.pas

******************************************************************************
commit ac8411f3cf29f0361ee963ef0d08d84ff85a723d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:35 2018 +0000

      * pass dynamic array parameters of cdecl routines by value on AArch64
        (like on onther platforms)
       o it was passed by reference as a side effect of the fact arrays in C are
         pointers, but a dynamic array already is a pointer
    
    git-svn-id: trunk@40573 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit e69b4d2d9a9e1aba83c40a2b92ecda28c4625b44
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:31 2018 +0000

      * replaced some stray cpointerdef.create() calls with cpointerdef.getreusable()
    
    git-svn-id: trunk@40572 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 95171a1e2281d494c706108394bc0e695dfc1461
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:28 2018 +0000

      * initialise cgpara with valid data for the C-style "array of const" para
        (necessary for the LLVM backend)
    
    git-svn-id: trunk@40571 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 820d2f7135d7160dc85370c27758e2f1f6f3eee6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:24 2018 +0000

      * support OS_32/OS_64 in AArch64 cgsize2subreg() for MM registers (can happen
        for records with floating point fields with the LLVM code generator)
    
    git-svn-id: trunk@40570 -

M	compiler/aarch64/cpubase.pas

******************************************************************************
commit 93e39fb0cd4f769d46de1db0c6ae9b7898b7bcd3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:21 2018 +0000

      * only coerce the type of the leftover bytes of a record if the location
        size doesn't match the number of remaining bytes
       o prevents a second "single" field of a record getting interpreted as a
         "cardinal"
    
    git-svn-id: trunk@40569 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit ff002e266434a261eb65df57b1b9e2241cd1ee0f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:18 2018 +0000

      * set paralocations correctly for LLVM/AArch (must be register-type instead
        of parameter-type based)
    
    git-svn-id: trunk@40568 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 6b58185bda1b6d467f423d50a326857c5712f2a0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:15 2018 +0000

      * fixed shifval for big endian (bits instead of bytes)
    
    git-svn-id: trunk@40567 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 6e453a1477d6525becb22e90764547e63601385d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:12 2018 +0000

      * fixed paraloc def when changing the size to OS_32
    
    git-svn-id: trunk@40566 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 97bc58d2488f10ba7ae2590a029d41d60bbc7245
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:09 2018 +0000

      * fixed bug that caused the "sret" argument attribute to never be used (and
        a guaranteed internalerror on AArch64/llvm)
    
    git-svn-id: trunk@40565 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit 0846456ce47fe90a0140100e58ccfe0081059774
Author: pierre <pierre@freepascal.org>
Date:   Sat Dec 15 21:06:01 2018 +0000

     * Skip all surrogate values in for loops from low(word) to high(word)
    
    git-svn-id: trunk@40560 -

M	tests/test/units/character/tgetnumericvalue.pp
M	tests/test/units/character/tgetnumericvalue2.pp
M	tests/test/units/character/tgetnumericvalue3.pp
M	tests/test/units/character/tgetunicodecategoriesurro.pp
M	tests/test/units/character/tiscontrol.pp
M	tests/test/units/character/tiscontrol2.pp
M	tests/test/units/character/tiscontrol3.pp
M	tests/test/units/character/tisdigit.pp
M	tests/test/units/character/tisdigit2.pp
M	tests/test/units/character/tisdigit3.pp
M	tests/test/units/character/tishighsurrogate.pp
M	tests/test/units/character/tisletter.pp
M	tests/test/units/character/tisletterordigit.pp
M	tests/test/units/character/tislowsurrogate.pp
M	tests/test/units/character/tisnumber.pp
M	tests/test/units/character/tisnumber2.pp
M	tests/test/units/character/tispunctuation.pp
M	tests/test/units/character/tisseparator.pp
M	tests/test/units/character/tissurrogate.pp
M	tests/test/units/character/tissurrogatepair.pp
M	tests/test/units/character/tissurrogatepair2.pp
M	tests/test/units/character/tissymbol.pp
M	tests/test/units/character/tisupper.pp
M	tests/test/units/character/tiswhitespace.pp
M	tests/test/units/character/tlowercase.pp
M	tests/test/units/character/tlowercase2.pp
M	tests/test/units/character/ttolower.pp
M	tests/test/units/character/ttolower2.pp
M	tests/test/units/character/ttolower3.pp
M	tests/test/units/character/ttoupper.pp
M	tests/test/units/character/ttoupper2.pp
M	tests/test/units/character/ttoupper3.pp

******************************************************************************
commit 0fafe640c5aad6f12ef98aaa12b56933833593ea
Author: pierre <pierre@freepascal.org>
Date:   Fri Dec 14 09:51:45 2018 +0000

     Change tstringlistexchange test code to give different error values and check that sort is done properly instead of requiring a given number of exchanges
    
    git-svn-id: trunk@40547 -

M	tests/test/units/classes/tstringlistexchange.pp

******************************************************************************
commit bf7af550c82cd19d404e0b46a494cdac12064190
Author: pierre <pierre@freepascal.org>
Date:   Fri Dec 14 09:32:01 2018 +0000

     Add mode objfpc to units/character/tutf32convert test
    
    git-svn-id: trunk@40546 -

M	tests/test/units/character/tutf32convert.pp

******************************************************************************
commit 99528f97740d688aaf92963d6de291ad4f9635d4
Author: nickysn <nickysn@gmail.com>
Date:   Thu Dec 13 16:00:23 2018 +0000

    + added all the missing test/units/* subdirectories: classes character dateutil fpcunit softfpu variants
    
    git-svn-id: trunk@40538 -

M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 32a51d7b6247b9d0a65a031f49beb5f42c69cadd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 8 15:31:54 2018 +0000

      * add nocapture and dereferenceable/dereferenceable_or_null decorators to
        parameters for llvm where appropriate
    
    git-svn-id: trunk@40503 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit 51502874aff7417cdd9050b3d0e24af48aebe176
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 8 15:31:51 2018 +0000

      * emit temp lifetime information for llvm
       o also allow freeing temps in the middle of a routine for llvm (we won't
         reuse them, but it results in better lifetime information)
    
    git-svn-id: trunk@40502 -

M	compiler/llvm/tgllvm.pas
M	compiler/tgobj.pas

******************************************************************************
commit 3b7efb5123d3f0de813c8963ddbd0c8e027af90e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 8 15:31:48 2018 +0000

      * only free the temp holding the function result after we've loaded it into
        the function return register (so we won't load from an already freed
        temp once we emit lifetime info for temps on LLVM)
    
    git-svn-id: trunk@40501 -

M	compiler/hlcgobj.pas
M	compiler/ncgutil.pas

******************************************************************************
commit 14f3676b2acdc1192c1183ef0765e36c01936107
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 8 15:31:45 2018 +0000

      + llvm_lifetime_start/llvm_lifetime_end intrinsic declarations
    
    git-svn-id: trunk@40500 -

M	rtl/inc/llvmintr.inc

******************************************************************************
commit 09d6b1129d3ec5541fd69c36d2380561a28192bd
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Dec 7 00:03:14 2018 +0000

    tosunits: added a few more VDI functions
    
    git-svn-id: trunk@40485 -

M	packages/tosunits/src/vdi.pas

******************************************************************************
commit 32121de8aea0dfd64109f73696ed7530285fdbe1
Author: florian <florian@freepascal.org>
Date:   Tue Dec 4 21:25:48 2018 +0000

    * do not call InitTLS when a compiler is used which does not include the abi tag section
    
    git-svn-id: trunk@40468 -

M	rtl/linux/i386/si_prc.inc

******************************************************************************
commit 8846041b2358ad39ae0872417ba5b6ca3b24e8a7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 4 19:53:23 2018 +0000

      * use volatile() to prevent wrong optimizations by llvm
    
    git-svn-id: trunk@40466 -

M	tests/test/tmt1.pp

******************************************************************************
commit 122d0d36d61c25a5a879591b2923e1f904896de1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 4 19:53:20 2018 +0000

      + volatile() expression that marks an expression as volatile
      * disable matching volatile references in the assembler optimisers, so they
        can't be removed (more conservative than needed, but better than removing
        too many)
       o the CSE optimiser will ignore them by default, because they're an unknown
         inline node for it
      * also removed no longer used fpc_in_move_x and fpc_in_fillchar_x inline node
        identifiers from rtl/inc/innr.inc, and placed fpc_in_unaligned_x at the
        right place
    
    git-svn-id: trunk@40465 -

M	compiler/aoptobj.pas
M	compiler/arm/aoptcpu.pas
M	compiler/avr/aoptcpu.pas
M	compiler/compinnr.pas
M	compiler/m68k/aoptcpu.pas
M	compiler/ncginl.pas
M	compiler/ninl.pas
M	compiler/nutils.pas
M	compiler/pexpr.pas
M	compiler/psystem.pas
M	compiler/x86/aoptx86.pas
M	rtl/inc/innr.inc

******************************************************************************
commit b7da7cd654a752872057bd48ac17628665750aa1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 4 19:53:16 2018 +0000

      * ensure the generic version of tcgshlshrnode gets used for llvm
    
    git-svn-id: trunk@40464 -

M	compiler/llvm/nllvmmat.pas

******************************************************************************
commit 2109612fa3bbc7feffcae2c52a7661e65eed250a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 4 19:53:13 2018 +0000

      - disable cs_opt_use_load_modify_store because for llvm because it is
        apparently buggy as far as type information is concerned, and it also
        results in tons of spilling
    
    git-svn-id: trunk@40463 -

M	compiler/globtype.pas

******************************************************************************
commit eeadf618b8320fc653e66ff4b24b58017c10c607
Author: florian <florian@freepascal.org>
Date:   Sun Dec 2 22:56:12 2018 +0000

    + abi tag for i386
    * arm abi tag moved into pascal file
    
    git-svn-id: trunk@40454 -

M	.gitattributes
M	compiler/raatt.pas
A	rtl/linux/arm/abitag.inc
M	rtl/linux/arm/cprt0.as
M	rtl/linux/arm/gprt0.as
M	rtl/linux/arm/prt0.as
M	rtl/linux/arm/ucprt0.as
A	rtl/linux/i386/abitag.inc
M	rtl/linux/system.pp

******************************************************************************
commit 6629e72d795b94e237dea897f8526617d6c5160d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Dec 2 18:54:04 2018 +0000

    m68k: reinstate the inc/dec tempregister type hack again in an isolated way (it was removed in r40385, as it was breaking llvm target)
    
    git-svn-id: trunk@40453 -

M	compiler/m68k/n68kinl.pas
M	compiler/ncginl.pas

******************************************************************************
commit 90557f2e6203427f135eecf9f56ae8eaab5c1ced
Author: florian <florian@freepascal.org>
Date:   Sun Dec 2 14:49:24 2018 +0000

    * properly calcualte aligncount as proposed by Jeppe, should resolve #33323
    
    git-svn-id: trunk@40449 -

M	rtl/inc/generic.inc

******************************************************************************
commit 31ae109a317d480dec469a000603d82f58d813b7
Author: florian <florian@freepascal.org>
Date:   Sun Dec 2 08:49:03 2018 +0000

    * properly initialize phdr and phnum
    
    git-svn-id: trunk@40448 -

M	rtl/linux/system.pp

******************************************************************************
commit 67fe756642367b1a224c6dbaa05026fe61096bc1
Author: pierre <pierre@freepascal.org>
Date:   Sat Dec 1 16:18:58 2018 +0000

     Regenerate msgid and msgtxt include files after commit 40422
    
    git-svn-id: trunk@40425 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit b60cbf33296d21e8d207e6949dbb39717d0b2f25
Author: marco <marco@freepascal.org>
Date:   Fri Nov 30 11:21:50 2018 +0000

     * systematically capitalize first word of errormsg/sentence, patch by J. Gareth Moreton, mantis 34618
    
    git-svn-id: trunk@40422 -

M	compiler/msg/errore.msg

******************************************************************************
commit 758a8dd34a5dd016c6cc4447d609ddb1d6541556
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Nov 29 23:21:15 2018 +0000

      * fixed dwarf debug info after r40398 (mantis #34622)
    
    git-svn-id: trunk@40421 -

M	compiler/dbgdwarf.pas

******************************************************************************
commit 50ab607676f8a7eb9abd6e499dde5362d32bbdaf
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Nov 29 20:57:08 2018 +0000

      + customint torddef type to create arbitraty bit-width integers
       o use this to handle non-power-of-two-sized parameters for llvm
       o no general support in the parser/code generator, so don't expose
    
    git-svn-id: trunk@40398 -

M	compiler/defcmp.pas
M	compiler/defutil.pas
M	compiler/htypechk.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/ncgrtti.pas
M	compiler/psystem.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 026d06cffbaf1658379a61f657415acd3f43e2c8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 28 19:23:31 2018 +0000

      - reverted r39188, as this hack removes the type correctness of the
        instructions, which breaks the llvm code generator. Put such hacks
        in CPU-specific overrides
    
    git-svn-id: trunk@40385 -

M	compiler/ncginl.pas

******************************************************************************
commit 97b40dc16daccea9a2ae62cff12366c3aa197c39
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 28 19:23:25 2018 +0000

      * fixed dynamic array constants for llvm
    
    git-svn-id: trunk@40383 -

M	compiler/aasmcnst.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/ngtcon.pas

******************************************************************************
commit 413a3599c1c35857c5be27e9c61721aa072524c9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 28 19:23:22 2018 +0000

      * thlcgobj.g_unreachable() dummy implementation + llvm override
    
    git-svn-id: trunk@40382 -

M	compiler/hlcgobj.pas
M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 20fea3607cce1b6c0284c7b4c3c75594589cea99
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Nov 26 22:30:05 2018 +0000

      * pass volatility information to llvm.memcpy
    
    git-svn-id: trunk@40376 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit c43cae9231a40132bb9c3f446463152edcc472cc
Author: florian <florian@freepascal.org>
Date:   Wed Nov 21 21:22:54 2018 +0000

    * disable MovOpMov2MovOp optimization on x86-64 for now as it seems to break
    
    git-svn-id: trunk@40361 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 477d7be6515dc3e5e3ab5e01f63828d62caecfab
Author: florian <florian@freepascal.org>
Date:   Wed Nov 21 19:19:24 2018 +0000

    * building on i386-linux fixed
    
    git-svn-id: trunk@40360 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit ac37a54d794ec134ac49fe81710ba0b45b774831
Author: florian <florian@freepascal.org>
Date:   Tue Nov 20 22:20:43 2018 +0000

    + MovOpMov2MovOp optimization
    
    git-svn-id: trunk@40359 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b96a8aee616b2437cb5c5b8c8e2d5851a11f56f1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 20 19:25:06 2018 +0000

      * don't generate tempsfinalize nodes in except filter procdefs, as that would
        finalize the parent's temps twice (fix for r40345, mantis #34574)
    
    git-svn-id: trunk@40357 -

M	compiler/psub.pas

******************************************************************************
commit ccb8e8656020dd8b550dffddf6d2807bc7b8a2d4
Author: florian <florian@freepascal.org>
Date:   Sun Nov 18 14:16:20 2018 +0000

    * fixes arm
    
    git-svn-id: trunk@40350 -

M	compiler/rgobj.pas

******************************************************************************
commit ea69a5b372db2e43190cc502392b965f76290de1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Nov 18 11:07:28 2018 +0000

      * finalizetemps nodes should never be considered equal and have side effects
    
    git-svn-id: trunk@40348 -

M	compiler/nbas.pas
M	compiler/nutils.pas

******************************************************************************
commit 9d56387e7fadbea2e45f49738abc2e376379004f
Author: florian <florian@freepascal.org>
Date:   Sun Nov 18 10:11:13 2018 +0000

    + new spilling heuristics which takes care of the usage weigth of a register,
      not yet activated, can be selected by passing SPILLING_NEW when compiling the compiler
    
    git-svn-id: trunk@40346 -

M	compiler/rgobj.pas

******************************************************************************
commit 3b9f5a5e96f6871b119fa5dd6b68d64ac6bed3cd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Nov 17 22:38:36 2018 +0000

      * moved finalization of code generator temps to a node, so it can be getcopy'd
        (needed for LLVM, where we need two copies of the finally code: one in case
         an exception occurs, and one in case none is raised)
       o also first finalize parameters and only then code generator temps, since
         in theory the former could create more of the latter
    
    git-svn-id: trunk@40345 -

M	compiler/hlcgobj.pas
M	compiler/i386/n386flw.pas
M	compiler/nbas.pas
M	compiler/ncgbas.pas
M	compiler/node.pas
M	compiler/nutils.pas
M	compiler/pass_2.pas
M	compiler/psub.pas
M	compiler/x86_64/nx64flw.pas

******************************************************************************
commit d1361ca6edf25dd49e7184b4312b3ed050a575fd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Nov 17 22:38:31 2018 +0000

      * fixed adjustments of lower/upper bounds in range test optimization in case
        of strictly smaller/greater comparisons (mantis #34385)
    
    git-svn-id: trunk@40344 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw34385.pp

******************************************************************************
commit cefb38b6054db7f9978ed12b95c4c6a13cfebe16
Author: florian <florian@freepascal.org>
Date:   Sat Nov 17 15:08:24 2018 +0000

    * better alignment of while loop heads
    
    git-svn-id: trunk@40340 -

M	compiler/ncgflw.pas

******************************************************************************
commit ae8304f65776c3bbccbe89f6eb2981462ca96e52
Author: florian <florian@freepascal.org>
Date:   Sat Nov 17 15:08:23 2018 +0000

    * set nf_write flag properly for vec. nodes of types with implicit dereferencing
    
    git-svn-id: trunk@40339 -

M	compiler/nld.pas
M	compiler/nmem.pas

******************************************************************************
commit 08d6ca72604e14563234849c61ecb13f071fb5f6
Author: florian <florian@freepascal.org>
Date:   Sat Nov 17 15:08:22 2018 +0000

    * better alignment on 386-linux
    
    git-svn-id: trunk@40338 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit 6dbde11f5a46550784eb4d288b765c4339cf3c4c
Author: florian <florian@freepascal.org>
Date:   Sat Nov 17 15:08:22 2018 +0000

    * three operand shl for shifting by 2, 4 or 8 can be simulated by lea
    
    git-svn-id: trunk@40337 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 23570bed33014b272064e963180c76184ed51d1c
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 16 13:26:56 2018 +0000

     Use same parameter type for update_reference_offset override
    
    git-svn-id: trunk@40325 -

M	compiler/llvm/nllvmmem.pas

******************************************************************************
commit 11851d274c8c040067b6e61577f2b1d7cd7052b6
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 16 10:24:27 2018 +0000

     Fix riscv32 compilation error introduced in last commit
    
    git-svn-id: trunk@40323 -

M	compiler/riscv/nrvadd.pas

******************************************************************************
commit 095bd6da7d845178545634c74cb3ee4b7b31bc17
Author: florian <florian@freepascal.org>
Date:   Thu Nov 15 20:07:56 2018 +0000

    * do not re-used gottpoff symbols as they are PC-relative
    
    git-svn-id: trunk@40321 -

M	compiler/arm/aasmcpu.pas

******************************************************************************
commit 7c92412c74ca66345a3f5284e07596c3a138f078
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 15 16:57:57 2018 +0000

     Avoid overflow error in riscv code generator
    
    git-svn-id: trunk@40318 -

M	compiler/riscv/nrvadd.pas

******************************************************************************
commit 6a6ea6729f4d4fd60791e504fd15e72b1342dfb5
Author: florian <florian@freepascal.org>
Date:   Wed Nov 14 18:05:35 2018 +0000

    * i8086 compiler fixed, resolves #34552
    
    git-svn-id: trunk@40316 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 04debba9dea61e81e1b75f3d2254439cd374bebf
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 13 11:11:49 2018 +0000

     Fix arm-android compilation by prepending syscall_nr_ prefix also to __ARM_NR_XXX arm specific linux syscalls
    
    git-svn-id: trunk@40300 -

M	rtl/linux/arm/sysnr.inc
M	rtl/linux/system.pp

******************************************************************************
commit c45806c84f088e194a9900fa2f1fd8dacfcf02ee
Author: florian <florian@freepascal.org>
Date:   Sun Nov 11 17:32:21 2018 +0000

    * made test more verbose
    
    git-svn-id: trunk@40283 -

M	tests/webtbs/tw13628b.pp

******************************************************************************
commit e8ebc00b3b863f7072014f469f0f1096225f34ad
Author: florian <florian@freepascal.org>
Date:   Sun Nov 11 17:32:21 2018 +0000

    * redundant code removed, work is meanwhile done by aasmcpu.optimize_ref
    
    git-svn-id: trunk@40282 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 72416edcc465a6f9a9fea43c4219566750fb8db8
Author: florian <florian@freepascal.org>
Date:   Sun Nov 11 17:32:20 2018 +0000

    + support for tlsm_general on i386-linux
    
    git-svn-id: trunk@40281 -

M	compiler/i386/aoptcpu.pas
M	compiler/i386/cpupi.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/agx86att.pas
M	compiler/x86/nx86ld.pas
M	rtl/inc/system.inc
M	rtl/inc/threadh.inc
M	rtl/linux/i386/si_prc.inc
M	rtl/linux/system.pp
M	rtl/unix/cthreads.pp

******************************************************************************
commit a40335de34e27666392983943ce18b4c672c4003
Author: florian <florian@freepascal.org>
Date:   Thu Nov 8 19:57:30 2018 +0000

    * non-linux arm targets fixed
    
    git-svn-id: trunk@40276 -

M	compiler/psub.pas

******************************************************************************
commit e157939b4102eb0b52d0b93e05ba2f1f2021edfd
Author: florian <florian@freepascal.org>
Date:   Thu Nov 8 18:45:16 2018 +0000

    * compilation on x86-64 and i8086 fixed
    
    git-svn-id: trunk@40275 -

M	compiler/x86/agx86att.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/nx86ld.pas

******************************************************************************
commit 4d2d26c3183165ae27d2ced87d124f9d7bcc5f2c
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:04 2018 +0000

    * define renamed into tls_threadvars
    
    git-svn-id: trunk@40274 -

M	compiler/systems/i_bsd.pas
M	compiler/systems/i_linux.pas

******************************************************************************
commit 95acf20544191f4c0d1432b4e4a1fe7db323c05e
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:03 2018 +0000

    * address output updated
    
    git-svn-id: trunk@40273 -

M	tests/webtbs/tw3467.pp

******************************************************************************
commit 063415fa72d9b7e83e5f7fe814845eff10f94374
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:02 2018 +0000

    + i386-linux support for tls-based threadvars
    
    git-svn-id: trunk@40272 -

M	compiler/cgbase.pas
M	compiler/x86/agx86att.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/nx86ld.pas
M	rtl/linux/i386/si_prc.inc
M	rtl/linux/system.pp

******************************************************************************
commit 0d50a63c7de23aea457bbbf9a979dd64870e5a4e
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:01 2018 +0000

    + tsettings.tlsmodel
    
    git-svn-id: trunk@40271 -

M	compiler/globals.pas
M	compiler/globtype.pas
M	compiler/options.pas
M	compiler/scanner.pas

******************************************************************************
commit 9c041afc7c11e9d47a1f866e09881237f0817a71
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:01 2018 +0000

    * disable generic threadvar handling if section thread vars are available
    
    git-svn-id: trunk@40270 -

M	rtl/inc/threadvr.inc
M	rtl/unix/cthreads.pp

******************************************************************************
commit c37c485eb78f7e827cf5b66578935fe32080de5e
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:00 2018 +0000

    + check if initialization/finalization code uses implicitly thread vars
    
    git-svn-id: trunk@40269 -

M	compiler/psub.pas

******************************************************************************
commit e949276d9d91fa49e88f014bbb97b8cbf0ea39cd
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:02:59 2018 +0000

    * basic implementation for pure pascal programs to allocate tls space
    
    git-svn-id: trunk@40268 -

M	rtl/linux/arm/prt0.as
M	rtl/linux/arm/syscall.inc
M	rtl/linux/system.pp

******************************************************************************
commit 9f16c34329410b03b01ae0f66c67e2f90c07b864
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:02:58 2018 +0000

    + initial work for tls-based threadvar support on arm-linux
    
    git-svn-id: trunk@40267 -

M	.gitattributes
M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/aoptcpu.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpunode.pas
M	compiler/arm/cpupi.pas
A	compiler/arm/narmld.pas
M	compiler/cgbase.pas
M	compiler/cgobj.pas
M	compiler/globtype.pas
M	compiler/ncgld.pas
M	compiler/nld.pas
M	compiler/procinfo.pas
M	compiler/psub.pas
M	compiler/systems/i_linux.pas
M	compiler/utils/ppuutils/ppudump.pp
M	rtl/arm/arm.inc

******************************************************************************
commit 5c5dc2ed500be380ad85a1eac08c08536f9d1b4a
Author: yury <jura@cp-lab.com>
Date:   Wed Nov 7 12:57:23 2018 +0000

    * Changed verbosity of ""???" not yet supported inside inline procedure/function" to note to be consistent with note "Call to subroutine "?" marked as inline is not inlined".
    
    git-svn-id: trunk@40255 -

M	compiler/msg/errorct.msg
M	compiler/msg/errord.msg
M	compiler/msg/errorda.msg
M	compiler/msg/errordu.msg
M	compiler/msg/errore.msg
M	compiler/msg/errores.msg
M	compiler/msg/errorf.msg
M	compiler/msg/errorfi.msg
M	compiler/msg/errorhe.msg
M	compiler/msg/errorheu.msg
M	compiler/msg/errorid.msg
M	compiler/msg/erroriu.msg
M	compiler/msg/errorn.msg
M	compiler/msg/errorpl.msg
M	compiler/msg/errorpli.msg
M	compiler/msg/errorpt.msg
M	compiler/msg/errorptu.msg
M	compiler/msg/errorr.msg
M	compiler/msg/errorru.msg
M	compiler/msg/errorues.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/psub.pas

******************************************************************************
commit dd6039716512f6679aacf46e24a5313673a3eaef
Author: yury <jura@cp-lab.com>
Date:   Wed Nov 7 12:20:30 2018 +0000

    + Added the pio_inline_not_possible flag to timplprocoption. It is set if a function can't be inline (contains an assembler block, etc). When calling such functions, no note "Call to subroutine "?" marked as inline is not inlined" is emitted.
    
    git-svn-id: trunk@40254 -

M	compiler/ncal.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit b11588693015a51d2cb70f4be4cca08cd3e4ffc5
Author: yury <jura@cp-lab.com>
Date:   Tue Nov 6 10:21:06 2018 +0000

    * po_inline can't be removed from procoptions when the interface part is already parsed. It changes the interface's CRC and causes other units to recompile.
    
    git-svn-id: trunk@40238 -

M	compiler/psub.pas

******************************************************************************
commit 5f1933eecf874f23c756a3544621c0d26ad7737e
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:46:09 2018 +0000

    * Addition to r40225: Forgot to remove inline in the implementation.
    
    git-svn-id: trunk@40227 -

M	compiler/machoutils.pas

******************************************************************************
commit f5ce7c572b7488e7b53763d88cef4a8e9451b891
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:37:01 2018 +0000

    * Removed inline for Unix2AmigaPath since it is not necessary and can't be inlined anyway due to ansistring conversion.
    
    git-svn-id: trunk@40226 -

M	compiler/cfileutl.pas

******************************************************************************
commit a7642b70c14ce826822d39f691b70adfce0a03ac
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:35:23 2018 +0000

    * Removed inline for functions which access private variables and can't be inlined from outside.
    
    git-svn-id: trunk@40225 -

M	compiler/machoutils.pas

******************************************************************************
commit c2c942374d35ac90b5af802a805082f596a19275
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:33:39 2018 +0000

    * Removed inline for methods which are too big.
    
    git-svn-id: trunk@40224 -

M	compiler/symdef.pas

******************************************************************************
commit 95d18cd0525963be91fd1e6fc43864c7cde6cab9
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:18:27 2018 +0000

    * If a function can't be inline (contains an assembler block, etc) remove the po_inline flag from its procoptions.
    
    git-svn-id: trunk@40223 -

M	compiler/psub.pas

******************************************************************************
commit 8fba43609d2e6a3a8fc65690f06ffda024d36752
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:00:51 2018 +0000

    + Added overloaded version of stringdup() for ansistring to allow stringdup to be inlined.
    
    git-svn-id: trunk@40221 -

M	compiler/cutils.pas

******************************************************************************
commit c9a7503bbb0728fcde9decb9201bd6a519ce2587
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 13:59:59 2018 +0000

    * Rearranged the code to place implementation of inline methods before their usage within this unit.
    
    git-svn-id: trunk@40220 -

M	compiler/cclasses.pas

******************************************************************************
commit 0a3c94bc72b244d10cc16c59d2656d31dd58e34e
Author: yury <jura@cp-lab.com>
Date:   Sun Nov 4 19:50:09 2018 +0000

    * Moved inline methods to the beginning in order to allow them to be actually inlined in this unit.
    
    git-svn-id: trunk@40219 -

M	compiler/ncgrtti.pas

******************************************************************************
commit 0e546d47ca72794e9d3edfd3f15435fc09d9cfa4
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 2 23:18:54 2018 +0000

     Fix 3 operand version of MatchOpType
    
    git-svn-id: trunk@40196 -

M	compiler/aoptutils.pas

******************************************************************************
commit 9b0ff05ee812e389651a5f0be280ca7837af3dc7
Author: florian <florian@freepascal.org>
Date:   Fri Nov 2 21:32:29 2018 +0000

    - get rid of MaxOps, it is redundant with max_operands
    * MatchOpType with three operands is only available of max_operands>2
    
    git-svn-id: trunk@40190 -

M	compiler/aarch64/aoptcpub.pas
M	compiler/aoptobj.pas
M	compiler/aoptutils.pas
M	compiler/arm/aoptcpub.pas
M	compiler/avr/aoptcpub.pas
M	compiler/i386/aoptcpub.pas
M	compiler/i8086/aoptcpub.pas
M	compiler/jvm/aoptcpub.pas
M	compiler/m68k/aoptcpub.pas
M	compiler/mips/aoptcpub.pas
M	compiler/powerpc/aoptcpub.pas
M	compiler/powerpc64/aoptcpub.pas
M	compiler/riscv32/aoptcpub.pas
M	compiler/riscv64/aoptcpub.pas
M	compiler/sparcgen/aoptcpub.pas
M	compiler/x86_64/aoptcpub.pas

******************************************************************************
commit a19528efa1145e2403104931dcd153515c215810
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 19:22:46 2018 +0000

    * Fixed warnings.
    
    git-svn-id: trunk@40188 -

M	rtl/inc/generic.inc
M	rtl/inc/ustrings.inc

******************************************************************************
commit 78a26e53f800e319dda7ccf6d95f76b7586544a0
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 19:04:52 2018 +0000

    * Fixed warnings.
    
    git-svn-id: trunk@40187 -

M	rtl/android/sysandroid.inc
M	rtl/linux/system.pp

******************************************************************************
commit a077e0dd90cba0fa1e388ea2101abf66f6d394b3
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 19:04:26 2018 +0000

    * Fixed comparison.
    
    git-svn-id: trunk@40186 -

M	rtl/inc/system.inc

******************************************************************************
commit 30d64cec68371f819a3460aba3d9776770d08977
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 18:51:19 2018 +0000

    * Removed unused local vars.
    
    git-svn-id: trunk@40185 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit a0262525085fe0ea885f8571d336a366c4c750cc
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 18:47:34 2018 +0000

    * Commented out unused "size" local var.
    
    git-svn-id: trunk@40184 -

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 4357caaad882705021c49bab78882f65fe52a612
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 18:44:29 2018 +0000

    * Removed unused local vars.
    
    git-svn-id: trunk@40183 -

M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/aoptcpu.pas
M	compiler/aarch64/cgcpu.pas
M	compiler/aarch64/ncpucnv.pas
M	compiler/aarch64/ncpuinl.pas
M	compiler/aarch64/racpugas.pas
M	compiler/aasmcnst.pas
M	compiler/i386/aoptcpu.pas
M	compiler/nadd.pas
M	compiler/ncgrtti.pas
M	compiler/ninl.pas
M	compiler/ogbase.pas
M	compiler/options.pas
M	compiler/pdecsub.pas
M	compiler/psub.pas
M	compiler/rgobj.pas
M	compiler/symdef.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/agx86int.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/nx86inl.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86/nx86set.pas
M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 2dc64e5fae911dbf7cd67233c39eb6b919aeedad
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 18:21:26 2018 +0000

    * Reverted r40181 because the "not inlined" notes are issued not due to access to private fields, but due to string conversion. It need to be fixed by overloaded versions of some methods.
    
    git-svn-id: trunk@40182 -

M	compiler/cclasses.pas

******************************************************************************
commit fa2d82f8795c06a3964e462d5ba55ad16df5e06e
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 16:55:33 2018 +0000

    * Removed 'inline' from public methods of TFPObjectList and TFPHashObjectList since they use private fields and can not be inlined when called from other units.
    
    git-svn-id: trunk@40181 -

M	compiler/cclasses.pas

******************************************************************************
commit 2a9ce2ed6cc1cbdb8623cccfbf19e4981fa793d5
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 1 23:04:18 2018 +0000

     Disable three operand overload of MatchOpType for avr and jvm targets, which only have 2 operands max
    
    git-svn-id: trunk@40170 -

M	compiler/aoptutils.pas

******************************************************************************
commit 59d5d6ec9536d2e2181d1407448835c5b64614fe
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:20 2018 +0000

    + factored out TX86AsmOptimizer.PrePeepholeOptIMUL, used now by x86-64 and i386
    * generalized and simplified the code
    
    git-svn-id: trunk@40162 -

M	compiler/aoptutils.pas
M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 47c9bca7f23ab952ff0fe35ddf5aed3935de2613
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:19 2018 +0000

    * number of cycles slightly increased for better measurements
    
    git-svn-id: trunk@40161 -

M	tests/bench/drystone.pas

******************************************************************************
commit 2a016889de1ba62b9791ff68ac039843a4ab899b
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:18 2018 +0000

    * skip align directives after unconditional jumps
    
    git-svn-id: trunk@40160 -

M	compiler/aoptobj.pas
M	compiler/i386/aoptcpu.pas

******************************************************************************
commit a092da723abb7caca19994e66e60288060bf0c79
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:17 2018 +0000

    + new fields for more precise control of alignment
    + support of new alignment control values for GNU AS writer
    + support of new alignment control values for binary writer
    * better alignment settings on i386-win32
    * improved inserted align directives for if nodes
    
    git-svn-id: trunk@40159 -

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/assemble.pas
M	compiler/globals.pas
M	compiler/ncgflw.pas
M	compiler/options.pas
M	compiler/scanner.pas
M	compiler/systems.pas
M	compiler/systems/i_aix.pas
M	compiler/systems/i_amiga.pas
M	compiler/systems/i_android.pas
M	compiler/systems/i_aros.pas
M	compiler/systems/i_atari.pas
M	compiler/systems/i_beos.pas
M	compiler/systems/i_bsd.pas
M	compiler/systems/i_embed.pas
M	compiler/systems/i_emx.pas
M	compiler/systems/i_gba.pas
M	compiler/systems/i_go32v2.pas
M	compiler/systems/i_haiku.pas
M	compiler/systems/i_jvm.pas
M	compiler/systems/i_linux.pas
M	compiler/systems/i_macos.pas
M	compiler/systems/i_morph.pas
M	compiler/systems/i_msdos.pas
M	compiler/systems/i_nativent.pas
M	compiler/systems/i_nds.pas
M	compiler/systems/i_nwl.pas
M	compiler/systems/i_nwm.pas
M	compiler/systems/i_os2.pas
M	compiler/systems/i_palmos.pas
M	compiler/systems/i_sunos.pas
M	compiler/systems/i_symbian.pas
M	compiler/systems/i_watcom.pas
M	compiler/systems/i_wdosx.pas
M	compiler/systems/i_wii.pas
M	compiler/systems/i_win.pas
M	compiler/systems/i_win16.pas

******************************************************************************
commit 64e8557180e68379b17d2d1a32b584c57893ffbf
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:15 2018 +0000

    + introduce tai_align_abstract.create_max which limits the maximal number of bytes being inserted for alignment
    
    git-svn-id: trunk@40158 -

M	compiler/aasmtai.pas

******************************************************************************
commit cdce68451adb2285d3333a059f6003e1b32d55d7
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:15 2018 +0000

    - x86 align does not use a register anymore, code removed
    
    git-svn-id: trunk@40157 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 011968e74b105e7fba13f10d1bf0c35931feff0b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Nov 1 20:39:41 2018 +0000

      * replaced "is" test with faster field value test
    
    git-svn-id: trunk@40156 -

M	compiler/ncal.pas

******************************************************************************
commit cd209cea53e17ec7056a7b414a976ce61b236636
Author: florian <florian@freepascal.org>
Date:   Mon Oct 29 19:16:14 2018 +0000

    * fix test for windows
    
    git-svn-id: trunk@40091 -

M	tests/webtbs/tw34442.pp

******************************************************************************
commit 18a45d94a36cd61afd82e4313142190af31a74cb
Author: florian <florian@freepascal.org>
Date:   Sun Oct 28 16:21:06 2018 +0000

    * version update
    
    git-svn-id: trunk@40068 -

M	compiler/ppcppc.lpi

******************************************************************************
commit bf4eda478d267055cabd7621ffb48ad59be4553b
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 27 18:13:33 2018 +0000

    * SetExecutionWeight(): Set execution weight also for nodes with special handling. Minor code cleanup/improvements.
    * Restore previous execution weight before exiting secondpass().
    * It all improves register allocation for variables inside loops in some cases.
    
    git-svn-id: trunk@40059 -

M	compiler/optutils.pas
M	compiler/pass_2.pas

******************************************************************************
commit 2b459b30d20db31236b4fe1695865faa9f2976fe
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 27 11:32:22 2018 +0000

    * Optimized generic implementations of tcg.a_op_const_ref() and tcg.a_op_reg_ref() for PIC and CPUs which need 2 or more instructions to load a symbol's value by reference.
      First the symbol's address is taken and then it is used to load the value and also store the result. It eliminates extra calculation of the symbol's address needed to store the result.
      x86 and other CPUs which can handle refs ops directly or more efficiently already have overloaded versions of these methods and are not affected by this change.
    
    git-svn-id: trunk@40050 -

M	compiler/cgobj.pas

******************************************************************************
commit 112fb4613b0e0f014f12bc29da7ed2dcbe99a1d1
Author: florian <florian@freepascal.org>
Date:   Wed Oct 24 17:38:51 2018 +0000

    * take care of the fact that x and w registers overlap when carrying out the Str/LdrAdd/Sub2Str/Ldr Postindex optimization
    
    git-svn-id: trunk@40023 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 0a5e6d29cb32b42dd488fd5b0c9f377e138f5d63
Author: florian <florian@freepascal.org>
Date:   Tue Oct 23 20:41:27 2018 +0000

    + implement assembler optimization Str/LdrAdd/Sub2Str/Ldr Postindex done
    
    git-svn-id: trunk@40017 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/aarch64/cpubase.pas

******************************************************************************
commit 379c2fe821cbbba289662d2db0acdafde41d29b8
Author: florian <florian@freepascal.org>
Date:   Mon Oct 22 21:27:36 2018 +0000

    * cleanup debug code
    
    git-svn-id: trunk@40016 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit f27fee55662aef795e91eb821cf76e7ee6c4c6cc
Author: florian <florian@freepascal.org>
Date:   Mon Oct 22 21:23:48 2018 +0000

    + make use of the BFI instruction in tcgaarch64.a_load_ref_reg_unaligned
    
    git-svn-id: trunk@40015 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 33463c86983c8db5cb3a903921f8acbd600099a2
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 20:50:21 2018 +0000

    * moved align helper so it actually gets inlined
    
    git-svn-id: trunk@40011 -

M	rtl/inc/generic.inc

******************************************************************************
commit 88589fb99d4b12450a982445d52c9590a5893a31
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 14:52:21 2018 +0000

    * make install shall not make assumptions about FPC, if one was provided
    
    git-svn-id: trunk@40007 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 02e03cbd860dbbc9b32385d2a1132d3f6ee6c4d7
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 13:35:44 2018 +0000

    * use the built compiler to install files, so the version is set correctly
    
    git-svn-id: trunk@40006 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 6521918269eb70102aba2c4c5dcf03645b53a766
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 13:16:57 2018 +0000

    * fullinstall builds (and installs) utils now only once
    
    git-svn-id: trunk@40005 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit af7dfbc970145b96fb3b1da40d80eee77dc6211f
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 12:14:26 2018 +0000

    * typo
    
    git-svn-id: trunk@40004 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 9febce6ffbe18b5cc3a630bcdb5da3d690fb3dad
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 11:40:57 2018 +0000

    * remove .NOTPARALLEL: from compiler Makefile, accelerates make fullcycle with -j a lot
    * few cleanups
    
    git-svn-id: trunk@40003 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 2cbb9895be91b688cd062e8982bab0ce1990c5ce
Author: florian <florian@freepascal.org>
Date:   Sat Oct 20 16:48:31 2018 +0000

    * pass float abi always to the arm assembler
    
    git-svn-id: trunk@39996 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit 116f36fe56bb53c4ead4752335f07411e678aeb8
Author: florian <florian@freepascal.org>
Date:   Sat Oct 20 10:17:34 2018 +0000

    * avoid range check errors
    
    git-svn-id: trunk@39990 -

M	compiler/nadd.pas
M	compiler/powerpc/rappcgas.pas

******************************************************************************
commit a9972b430977a23c3e1ea893e19a1b7bed3cf697
Author: yury <jura@cp-lab.com>
Date:   Thu Oct 18 16:42:05 2018 +0000

    * Disabled some tests for android.
    
    git-svn-id: trunk@39981 -

M	tests/test/tover4.pp
M	tests/webtbs/tw10641.pp
M	tests/webtbs/tw14862g.pp
M	tests/webtbs/tw29893.pp

******************************************************************************
commit bcf03a52d897c926adda3521c489eb5328d72f10
Author: yury <jura@cp-lab.com>
Date:   Thu Oct 18 13:05:45 2018 +0000

    * Disabled some tests for android since they turn PIC off.
    
    git-svn-id: trunk@39972 -

M	tests/test/tasm10.pp
M	tests/test/tasm10a.pp
M	tests/test/tasm21b.pp
M	tests/test/tasm26.pp

******************************************************************************
commit aa6f6423b23d1e72640b09fceac64e544a8c2030
Author: yury <jura@cp-lab.com>
Date:   Thu Oct 18 12:31:23 2018 +0000

    * tests: On x86_64-android long double is 128-bit. There is no support for 128-bit floats in FPC yet. So disable long double tests for x86_64-android for now.
    
    git-svn-id: trunk@39970 -

M	tests/test/cg/tcalext.pp
M	tests/test/cg/tcalext6.pp
M	tests/test/cg/tprintf.pp
M	tests/test/cg/tprintf2.pp
M	tests/test/cg/tprintf3.pp

******************************************************************************
commit c0c602f76dee156f753f3b4c6f5393efde3d7898
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Oct 17 20:53:51 2018 +0000

    * fix tests as depending on the platform the first parameter in the RTTI data might *not* be $self
    
    git-svn-id: trunk@39965 -

M	tests/test/trtti15.pp
M	tests/webtbs/tw2886.pp

******************************************************************************
commit 7eb9b23fa5224f9ae4f9db985f8f163a7753bd63
Author: yury <jura@cp-lab.com>
Date:   Wed Oct 17 18:56:29 2018 +0000

    * Reverted r39961.
    
    git-svn-id: trunk@39962 -

M	compiler/options.pas

******************************************************************************
commit 692c287c3e3d006e54eb72fab484b00a2ad3a6f2
Author: yury <jura@cp-lab.com>
Date:   Wed Oct 17 18:46:04 2018 +0000

    * Undef FPC_HAS_TYPE_EXTENDED for x86_64-android.
    
    git-svn-id: trunk@39961 -

M	compiler/options.pas

******************************************************************************
commit a29290202f7fc8f440d965f74ba2c0740130324f
Author: yury <jura@cp-lab.com>
Date:   Wed Oct 17 17:12:20 2018 +0000

    * Regenerated makefiles to support x86_64-android.
    
    git-svn-id: trunk@39958 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit e60a5ebfe76d8935112337011c7919c134388f49
Author: yury <jura@cp-lab.com>
Date:   Wed Oct 17 13:18:45 2018 +0000

    * Fixed overflow error for the qword version of align() when i=0.
    
    git-svn-id: trunk@39954 -

M	compiler/cutils.pas

******************************************************************************
commit c306f57ecbcd6098f8442cdb38c3a1e8ea2e13eb
Author: yury <jura@cp-lab.com>
Date:   Wed Oct 17 08:52:57 2018 +0000

    * Reverted  r39947. According to Sven, the $self parameters is not required to be first parameter in RTTI. Appropriate tests will be fixed.
    
    git-svn-id: trunk@39952 -

M	compiler/ncgrtti.pas

******************************************************************************
commit 84b5129f1dc443351e7b914686bf70e9b81b99f6
Author: yury <jura@cp-lab.com>
Date:   Tue Oct 16 17:24:07 2018 +0000

    * Fixed writing of method's RTTI for aarch64 by explicitly writing the $self parameter first.
    
    git-svn-id: trunk@39947 -

M	compiler/ncgrtti.pas

******************************************************************************
commit 4c0a213f0d07ebf3ed1d8309fb4848bc445bd28d
Author: pierre <pierre@freepascal.org>
Date:   Tue Oct 16 10:41:27 2018 +0000

     Add -Tlinux and -Tembedded help lines for riscv32 and riscv64 compilers
    
    git-svn-id: trunk@39945 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit aa89182bf5f55404265650497f976f741d7506df
Author: pierre <pierre@freepascal.org>
Date:   Sat Oct 13 11:34:53 2018 +0000

     Fix compilation with -dEXTDEBUG
    
    git-svn-id: trunk@39923 -

M	compiler/riscv/cgrv.pas
M	compiler/riscv64/hlcgcpu.pas

******************************************************************************
commit 68bcffc3e0c358a7dc84ff3a9dfe3f12ddd9f132
Author: pierre <pierre@freepascal.org>
Date:   Sat Oct 13 09:47:29 2018 +0000

     Fix riscv64 compiler compilation with -dEXTDEBUG
    
    git-svn-id: trunk@39922 -

M	compiler/riscv64/hlcgcpu.pas

******************************************************************************
commit 9ef7a17390094756adfcd480bea058de3fb2b2a2
Author: yury <jura@cp-lab.com>
Date:   Fri Oct 12 15:08:30 2018 +0000

    * Delete temp files after test.
    
    git-svn-id: trunk@39918 -

M	tests/test/tisoext1.pp
M	tests/test/tisoext4.pp

******************************************************************************
commit 4860f3934a5b7ee9242a4b90717807f55730f8fa
Author: yury <jura@cp-lab.com>
Date:   Fri Oct 12 14:38:14 2018 +0000

    * Fixed overflow error when calling align() with corner case values such as align($7FFFFFFC, 4) for the longint variant.
    
    git-svn-id: trunk@39915 -

M	compiler/cutils.pas

******************************************************************************
commit 2f6b15b1e2d9f02b1222345e9f6bd41df35771d2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Oct 8 05:43:44 2018 +0000

    * fix tests now that the RTTI of method pointer variables also contains the hidden parameters
    
    git-svn-id: trunk@39901 -

M	tests/webtbs/tw12038.pp
M	tests/webtbs/tw2886.pp

******************************************************************************
commit 40598944f80a7e50128c10e037c9d21407a42131
Author: florian <florian@freepascal.org>
Date:   Sun Oct 7 10:10:20 2018 +0000

    + support fpc include output in avx test generation code
    
    git-svn-id: trunk@39876 -

M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas
M	tests/utils/avx/readme.txt

******************************************************************************
commit 8943c0584edc3089df819481e646371ebeae03f7
Author: florian <florian@freepascal.org>
Date:   Sun Oct 7 10:10:19 2018 +0000

    + patch by J. Gareth Moreton to support BMI2 instructions
    + extended avx test generator with the newly added BMI2 instructions
    
    git-svn-id: trunk@39875 -

M	compiler/i386/i386att.inc
M	compiler/i386/i386atts.inc
M	compiler/i386/i386int.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386op.inc
M	compiler/i386/i386prop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086att.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086int.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086op.inc
M	compiler/i8086/i8086prop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664att.inc
M	compiler/x86_64/x8664int.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664op.inc
M	compiler/x86_64/x8664pro.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 172384feddf1efb5a2ec4525972f8765dd7ed0c6
Author: florian <florian@freepascal.org>
Date:   Sun Oct 7 10:10:17 2018 +0000

    * fix to write correct output file name
    
    git-svn-id: trunk@39874 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 5604e98b1cb8f6d6b4c33daa096315c0f510818b
Author: florian <florian@freepascal.org>
Date:   Sun Oct 7 10:10:16 2018 +0000

    + lazarus project files for the avx assembler test generators
    
    git-svn-id: trunk@39873 -

M	.gitattributes
A	tests/utils/avx/avxtestfilecmp.lpi
A	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit ff3d7862d6ae93341c08514f02da0a0019bb8e09
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 6 15:10:24 2018 +0000

    * Erase the temp file.
    
    git-svn-id: trunk@39868 -

M	tests/webtbs/tw32938.pp

******************************************************************************
commit ddb4e37104a4923d4fb2841e89190769dba2f86c
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 6 13:58:05 2018 +0000

    * Define slowcpu for android.
    
    git-svn-id: trunk@39867 -

M	tests/webtbs/tw8177.pp

******************************************************************************
commit 46b89f0ef97ada43531294be3214102723bfd325
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 6 10:03:36 2018 +0000

    * Modified test to not create sub-dirs outside the test's directory.
    
    git-svn-id: trunk@39864 -

M	tests/test/units/system/tdir.pp

******************************************************************************
commit 8c59eb1ce5f3632fc6f63c974755c5f6abc51a8f
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 6 09:36:03 2018 +0000

    * Regenerated makefiles to support aarch64-android.
    
    git-svn-id: trunk@39863 -

M	.gitattributes
M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit c7a0022146dcba901802ed22e1b1e76652e20883
Author: florian <florian@freepascal.org>
Date:   Fri Oct 5 20:56:56 2018 +0000

    * fix building with LLVM=1, thanks to Karl-Michael Schindler for the hint
    
    git-svn-id: trunk@39861 -

M	compiler/llvm/llvmbase.pas

******************************************************************************
commit e147f6fb48348a0be410cdfc7e94efc6ca3c46a2
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun Sep 30 20:49:24 2018 +0000

      * additional tests added similarly to tfexpand.pp to test modified behaviour discussed in bug #34166
    
    git-svn-id: trunk@39848 -

M	tests/test/units/sysutils/tfexpand2.pp

******************************************************************************
commit 352fb866ef19c845756840859c91088f9ed32740
Author: florian <florian@freepascal.org>
Date:   Thu Sep 27 20:24:52 2018 +0000

    * is_range_test returns false if "lower" bound is greater than "upper" bound
    
    git-svn-id: trunk@39837 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/tbs/tb0652.pp

******************************************************************************
commit d5f0d8e30624ea69c18c50a4e200e39552bd1092
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Sep 27 19:44:35 2018 +0000

    * addendum for Mantis #34333: also complain about number of arguments with the maximum number of arguments for Copy ( = 3 ) is exceeded
    
    git-svn-id: trunk@39836 -

M	compiler/ninl.pas

******************************************************************************
commit b4a7d6a82eea9ad71bec75571d7c051cdd68b141
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 27 07:04:04 2018 +0000

    cleanup: remove ARMHF-related comments from RISC-V only codepath. no functional change.
    
    git-svn-id: trunk@39827 -

M	compiler/options.pas

******************************************************************************
commit 5cb8bc546e093d2f14206c1aacf9a1112d2255c6
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 27 06:42:35 2018 +0000

     Fix PACKAGE_VERSION, restore 3.3.1 value
    
    git-svn-id: trunk@39821 -

M	Makefile

******************************************************************************
commit 578e60e6ef29dc5a082fe253ef871908154449a0
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 26 21:56:36 2018 +0000

     Fix default CPUs for riscv32
    
    git-svn-id: trunk@39819 -

M	compiler/options.pas

******************************************************************************
commit 10f72ba2c897fd03477267faeb2d1985780d6e40
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 26 21:56:03 2018 +0000

     Add missing TFenceFlags and TRoundingMode for riscv32
    
    git-svn-id: trunk@39818 -

M	compiler/riscv32/cpubase.pas

******************************************************************************
commit 51644f497b5a301f39600bb4b799fb3bc606ec73
Author: florian <florian@freepascal.org>
Date:   Wed Sep 26 20:22:13 2018 +0000

    * fixes broken compilation after merging
    
    git-svn-id: trunk@39815 -

M	rtl/linux/system.pp

******************************************************************************
commit a34d4e715ce6bfda8a0c07be4fbfb53f1690808a
Merge: 7082b6e34a 88f83280dc
Author: florian <florian@freepascal.org>
Date:   Wed Sep 26 19:49:08 2018 +0000

    Merged riscv_new branch
    
    git-svn-id: trunk@39813 -

MM	.gitattributes
MM	Makefile.fpc
MM	compiler/Makefile.fpc
MM	compiler/msg/errore.msg
MM	compiler/msgidx.inc
MM	compiler/msgtxt.inc
MM	compiler/nadd.pas
MM	compiler/ncal.pas
MM	compiler/ninl.pas
MM	compiler/psub.pas
MM	compiler/utils/ppuutils/ppudump.pp
MM	compiler/version.pas
MM	packages/fpmkunit/src/fpmkunit.pp
MM	packages/ide/fpmake.pp
MM	rtl/inc/system.inc
MM	rtl/inc/systemh.inc
MM	rtl/linux/osdefs.inc
MM	rtl/linux/system.pp
MM	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 7855b3cf1b46021b2463fcf6987f9229c91d77e3
Author: florian <florian@freepascal.org>
Date:   Sun Sep 16 19:15:30 2018 +0000

    * relax formula for max. nodes to inline
    
    git-svn-id: trunk@39763 -

M	compiler/ncal.pas

******************************************************************************
commit 49e7e5f5129a71a6ef81d712e0a04c650ce6533c
Author: florian <florian@freepascal.org>
Date:   Sun Sep 16 15:27:03 2018 +0000

    * support aitconst_*bit_unaligned in the intel assembler writer, resolves #34222
    
    git-svn-id: trunk@39761 -

M	compiler/x86/agx86int.pas

******************************************************************************
commit a21397e356b523a0c3e5faf45014f104fd64b96e
Author: florian <florian@freepascal.org>
Date:   Sun Sep 16 13:09:36 2018 +0000

    + based on a patch by Laksen, optimize (v>=x) and (v<=y) into (v-x)<(y-x)
    
    git-svn-id: trunk@39759 -

M	compiler/nadd.pas

******************************************************************************
commit 64ad48e89ef7d164e9517d02ec9eb5a124bfd826
Author: florian <florian@freepascal.org>
Date:   Thu Sep 13 20:20:40 2018 +0000

    * forgotten part of r39750
    
    git-svn-id: trunk@39752 -

M	compiler/x86_64/cgcpu.pas
M	compiler/x86_64/cpupi.pas

******************************************************************************
commit 800ce234991a53d652a31090a6bad7b2f40a7856
Author: florian <florian@freepascal.org>
Date:   Wed Sep 12 20:33:18 2018 +0000

    * fixed some issues to get correct values of section_count, works better than before but it is still not perfect for unknown reasons
    
    git-svn-id: trunk@39750 -

M	compiler/aasmdata.pas
M	compiler/cclasses.pas
M	compiler/cresstr.pas
M	compiler/nbas.pas
M	compiler/ncgbas.pas

******************************************************************************
commit c337575f69550827da75588311ecf2714859be15
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Sep 2 16:20:32 2018 +0000

    * fix test 26481: it tests for something different than the incorrect type parameters and in fact the need to fix this highlights the need for the previous changes
    
    git-svn-id: trunk@39704 -

M	tests/webtbs/tw26481.pp

******************************************************************************
commit 70ae0a2dc99eb1fa4a11452e8aa1b5e133389e21
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 31 19:16:48 2018 +0000

    + add a comment to the destructor of tsymtable so that others (and maybe me a well) will hopefully see that the destructor of that class is not completely trivial!
    
    git-svn-id: trunk@39694 -

M	compiler/symbase.pas
