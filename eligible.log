******************************************************************************
commit 851af5033fb80d4e19c4a7b5c44d50a36f456374
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 6 21:38:16 2022 +0100

    Darwin/AArch64: adjust alignment info of custom-aligned paralocs
    
    Resolves #40019

M	compiler/aarch64/cpupara.pas
A	tests/webtbs/tw40019.pp

******************************************************************************
commit 8ad7decaa39dac87fab7f37f75b7da0aea49b2a1
Author: florian <florian@freepascal.org>
Date:   Sun Dec 4 23:17:41 2022 +0100

      * another change information update

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit bba1076e12d2c689b405b12f16120c1a46f9b69a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 4 21:51:32 2022 +0100

    LLVM: add Xcode 14.0 support (-ClvXcode-14.0)

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 1e83d415c3a2aa7b66c191bf40781d40e37e5179
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 4 21:47:17 2022 +0100

    LLVM: us paraloc def instead of para def for byval
    
    We also use the paraloc instead of the para to write the def

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit f54917d600979a7cb719f3be7af476e548912385
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Dec 3 19:56:05 2022 +0000

      * New test to catch stack overflow in compiler (#40010)

A	tests/webtbf/tw40010.pp

******************************************************************************
commit f00a932cc6fec80533ad821192d4be8266446839
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Dec 3 19:21:38 2022 +0000

      * New is_cyclic function to detect if def references itself - fixes #40010

M	compiler/defcmp.pas
M	compiler/defutil.pas

******************************************************************************
commit 42d91c02bdf7c57fb2df8887d92e0fa298c4d8ef
Author: florian <florian@freepascal.org>
Date:   Sat Dec 3 23:35:55 2022 +0100

      * continued to fix change information

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 88ae6721c65e5eb62e16627c6ec9555674c6f04c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 3 20:59:59 2022 +0100

    Linux mutex: restored the __m_kind field
    
    This particular field is at the same offset on all architectures with the same
    bit width, and is guaranteed by glibc to remain at this offset for backward
    compatibility with static initialisers.
    
    Resolves #40021

M	rtl/linux/pmutext.inc

******************************************************************************
commit 230142e183d986fc9a4b1f8f32b42816bef6be26
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 3 14:50:08 2022 +0100

    AArch64 cgcpu: add missing brackets around and/or expression

M	compiler/aarch64/aasmcpu.pas

******************************************************************************
commit ebb4de1441be4e6b3d6e7df5633db7898a367b2b
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Dec 3 19:41:34 2022 +0100

    * mark test as NORUN

M	tests/tbs/tb0702.pp

******************************************************************************
commit e0eff8bd89aa0aa3d631a197f33863241c6b13c2
Author: florian <florian@freepascal.org>
Date:   Fri Dec 2 23:34:25 2022 +0100

      + more change information fixed

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 7a34677b2ab134fab30a19c6bb6249425e802daf
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 2 17:06:18 2022 +0100

    * as long as the type passed into a TypeInfo() is not an undefined or error def the resulting value will always be constant at compile time, so it can be compared to another then no matter if typenode or not
    + added tests

M	compiler/nadd.pas
A	tests/tbs/tb0699.pp
A	tests/tbs/tb0700.pp
A	tests/tbs/tb0701.pp
A	tests/tbs/tb0702.pp

******************************************************************************
commit aff133cac2c4ca04dd68c4e6ac02f2e44946b799
Author: florian <florian@freepascal.org>
Date:   Thu Dec 1 22:56:42 2022 +0100

      * disable timing check as it causes too much false negatives on machines under load

M	packages/rtl-generics/tests/tqsort_killer.pp

******************************************************************************
commit c5f4a6acd0d48a567e2d11bb0041c92a2a8db897
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 30 22:52:12 2022 +0100

    LLVM: fix variant records when alignment of first part is not the highest
    
    Resolves #40015

M	compiler/symtable.pas

******************************************************************************
commit f1abd2c2f00c69ae25a02df3d06d394c8dfdb546
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 30 22:50:07 2022 +0100

    Linux: fix pthread types
    
    Remove legacy implementation-specific fields (they don't match the current
    glibc fields anymore since a long time) and fix alignment fields (they are
    union fields that overlap with the rest of the record).
    
    All platforms now use the modern opaque array-based definitions.

M	rtl/linux/pmutext.inc
M	rtl/linux/ptypes.inc

******************************************************************************
commit b202fb2b0a2e89006dc3ff98befaa7459041b0f0
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Nov 30 13:52:40 2022 +0100

    Fix two tests for ELFV2 powerpc64 ABI

M	tests/webtbs/tw7851a.pp
M	tests/webtbs/tw8153a.pp

******************************************************************************
commit b835005941d918fcb1ec4470448cf9f4dbb6a6d2
Author: florian <florian@freepascal.org>
Date:   Wed Nov 30 22:17:58 2022 +0100

      * proper naming for test, resolves #40013

R100	tests/webtbs/tw40016.pp	tests/webtbs/tw40013.pp

******************************************************************************
commit 96d4bd19ac815bf860541e51249fef93ebe41c76
Author: florian <florian@freepascal.org>
Date:   Wed Nov 30 22:16:21 2022 +0100

      * use bzhi only (if at all) for in_and_assign_x_y and not other in_*_x_y operations, resolves #40016

M	compiler/x86/nx86inl.pas
A	tests/webtbs/tw40016.pp

******************************************************************************
commit a1a2549cf10e38b25c8f277a41dc3ba409a7a1b1
Author: florian <florian@freepascal.org>
Date:   Tue Nov 29 23:20:23 2022 +0100

      + Debug message

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2c3b78682ad065b9aa677322b4d050b07df5f9c3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 29 09:05:37 2022 +0100

    * Add IsConstValue

M	rtl/inc/system.fpd

******************************************************************************
commit 5704626762d217e886f23b582d9b5628603d6c5a
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Nov 27 16:33:50 2022 +0000

      * New test to catch issue identified in #40003

A	tests/webtbs/tw40003.pp

******************************************************************************
commit cc27576339115108f045222df45a8acb3d91723e
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Nov 27 03:58:45 2022 +0000

      * x86: Fixed movzwl/movzbl bug in OptPass2Movx (resolves i40003)

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 348fbfde9d524108e94ea970caf00c2be38bbe98
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Nov 28 10:39:10 2022 +0100

    * Add stub for IsManagedType

M	rtl/inc/system.fpd

******************************************************************************
commit f8f824aa8d30279cc6d8130a3ba2380582f8a4ff
Author: florian <florian@freepascal.org>
Date:   Sat Nov 26 23:26:28 2022 +0100

      * avoid unneeded widening of expressions due to constants defaulting to extended

M	rtl/objpas/math.pp

******************************************************************************
commit 170051672181f66a9296bb6f8dab13bfe0a03de4
Author: florian <florian@freepascal.org>
Date:   Sat Nov 26 23:26:22 2022 +0100

      * cleanup

M	compiler/nadd.pas

******************************************************************************
commit 170c112301ab3bcdba04a12657ae61dd275496cc
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Nov 23 00:03:30 2022 +0000

      * x86: Added FMA as an FPU target distinct from AVX and AVX2 (the latter of which has a new FPUX86_HAS_AVX2 flag)

M	compiler/i386/cpuinfo.pas
M	compiler/i8086/cpuinfo.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 69c78385718462de06ac5af39e5b1c2829582bc0
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Nov 22 23:46:37 2022 +0000

      * x86: Addition of AMD CPUs: Bobcat, Jaguar, Piledriver, Excavator, Zen2 and Zen3 (and supporting flags)

M	compiler/i386/cpuinfo.pas
M	compiler/x86/agx86nsm.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 74bef61b9966c53270b025d8e9fda669142bfa93
Author: florian <florian@freepascal.org>
Date:   Fri Nov 25 23:11:11 2022 +0100

      * try to improve result stability by longer runtime

M	packages/rtl-generics/tests/tqsort_killer.pp

******************************************************************************
commit 247423400f0d0686f2eaaf5de7d95a99b258419e
Author: florian <florian@freepascal.org>
Date:   Thu Nov 24 22:43:27 2022 +0100

      * create muln with create instead of create_internal when converting "n - n mod const)" so pass1 works properly, resolves #40004

M	compiler/nadd.pas
A	tests/webtbs/tw40004.pp

******************************************************************************
commit 84be45f55d92a379c237d76f7b2db9e55e0603d7
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Nov 24 17:01:37 2022 +0000

    Fix compilation failure of RTL with -Co option for x86_64-linux target

M	compiler/nadd.pas

******************************************************************************
commit 9cbcd399b1b95b0357a7dd8964d3200f633c8cd0
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Nov 23 21:50:31 2022 +0100

    * Accept I option

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit 5288194d3c3bf538d50b0558890256dc14da70f2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Nov 23 21:50:03 2022 +0100

    * Simulate position

M	packages/fcl-base/src/lzwstream.pp

******************************************************************************
commit dbd87a3cfc7136d5140abfc683f3815d5673dc80
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Nov 23 19:11:58 2022 +0100

    * More specific constant names

M	packages/fcl-base/src/lzwstream.pp

******************************************************************************
commit e7fda48327cf37bb1de86ecde32d4279cb32e35c
Author: florian <florian@freepascal.org>
Date:   Wed Nov 23 19:01:32 2022 +0100

      + missing halt instructions

M	tests/webtbs/tw39615a.pp
M	tests/webtbs/tw39615b.pp

******************************************************************************
commit 68b092a466e88833bbcf12bef44bf8092c810fe8
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Nov 23 16:48:43 2022 +0100

    * LZW stream based on implementation in fpreadtiff

M	packages/fcl-base/fpmake.pp
A	packages/fcl-base/src/lzwstream.pp
A	packages/fcl-base/tests/createlzwtest.pas
M	packages/fcl-base/tests/fclbase-unittests.pp
A	packages/fcl-base/tests/filec.inc
A	packages/fcl-base/tests/filed.inc
A	packages/fcl-base/tests/utclzw.pas

******************************************************************************
commit 00dc7930978dd2e6a8d9b4ef88f0e22191cae871
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Nov 23 12:55:03 2022 +0100

    * Some improvements as proposed by Alexey Torgashin

M	packages/fcl-base/src/chainstream.pp
M	packages/fcl-base/tests/utcchainstream.pp

******************************************************************************
commit d9f5c47d2a9730b4b5cc6d7059b069cd0867414e
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Nov 23 10:25:43 2022 +0100

    fix broken JPEG loading. Issue #40001

M	packages/pasjpeg/src/jdmarker.pas

******************************************************************************
commit d338206814796306ab4dc428f1a398326ee0a4df
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Nov 23 09:02:01 2022 +0100

    * Version number for compatibility with lazarus webserver

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit a1fae7a767d004ee50d4c170129d00e1e3ef4154
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Nov 23 09:01:27 2022 +0100

    * Chained stream implementation

M	packages/fcl-base/fpmake.pp
A	packages/fcl-base/src/chainstream.pp
M	packages/fcl-base/tests/fclbase-unittests.pp
A	packages/fcl-base/tests/utcchainstream.pp

******************************************************************************
commit 1a19fe1f033a7d4571f62a4506cf3a60d37e3080
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Nov 23 08:43:28 2022 +0100

    Use correct class typecast for commit ba4cee279b

M	compiler/nadd.pas

******************************************************************************
commit d38c24fee753c550c27239f9e111c4cbef11ca4e
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Nov 22 22:48:27 2022 +0100

    Add test for avx2 support using cpu unit function avx2support

M	tests/test/cg/tbzhi1.pp
M	tests/test/cg/tbzhi1a.pp
M	tests/test/cg/tbzhi1b.pp
M	tests/test/cg/tbzhi1c.pp
M	tests/test/cg/tbzhi1d.pp
M	tests/test/cg/tbzhi1e.pp
M	tests/test/cg/tbzhi1f.pp
M	tests/test/cg/tbzhi1g.pp
M	tests/test/cg/tbzhi2.pp
M	tests/test/cg/tbzhi2a.pp
M	tests/test/cg/tbzhi2b.pp
M	tests/test/cg/tbzhi2c.pp
M	tests/test/cg/tbzhi2d.pp

******************************************************************************
commit 0ba4cee279b0bd8b13dfa27ff9a32b6b80397d79
Author: florian <florian@freepascal.org>
Date:   Tue Nov 22 22:41:58 2022 +0100

      * convert n-n mod const into n div const*const, resolves #39615

M	compiler/nadd.pas
A	tests/webtbs/tw39615a.pp
A	tests/webtbs/tw39615b.pp

******************************************************************************
commit 7da8c774be6670d6cfe3dd9b707d4e47c0a4870b
Author: florian <florian@freepascal.org>
Date:   Sun Nov 20 23:31:08 2022 +0100

      + ShlShl2Shl optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f6a8b045c2f52740186feca3d50c3211c74c775c
Author: florian <florian@freepascal.org>
Date:   Sun Nov 20 23:14:49 2022 +0100

      * cosmetics

M	compiler/nadd.pas

******************************************************************************
commit 735f297f5b187f5d92a88ed1d836311602ac8003
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Nov 21 13:35:00 2022 +0000

      * Range check fixes to BZHI tests

M	tests/test/cg/tbzhi1.pp
M	tests/test/cg/tbzhi1a.pp
M	tests/test/cg/tbzhi1b.pp
M	tests/test/cg/tbzhi1c.pp
M	tests/test/cg/tbzhi1d.pp
M	tests/test/cg/tbzhi1e.pp
M	tests/test/cg/tbzhi1f.pp
M	tests/test/cg/tbzhi1g.pp
M	tests/test/cg/tbzhi2.pp
M	tests/test/cg/tbzhi2a.pp
M	tests/test/cg/tbzhi2b.pp
M	tests/test/cg/tbzhi2c.pp
M	tests/test/cg/tbzhi2d.pp

******************************************************************************
commit 47789734923810f9363f0ef384c2aca27171dde8
Author: florian <florian@freepascal.org>
Date:   Sat Nov 19 21:05:22 2022 +0100

      * further look ahead for temp. deallocation for FstpFldFstp2Fstp and FstpFld2<Nop>

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit ef53f9bc25aad1cef20f3cd7e7e248dd5d172e25
Author: florian <florian@freepascal.org>
Date:   Fri Nov 18 23:21:58 2022 +0100

      + FstpFldFstp2Fstp optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e7e4044bf053846dbc1fa692b9d559225e385f06
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Nov 17 11:14:04 2022 +0000

      * CollapseZeroDistJump no longer updates registers or strips dead labels, instead just setting p to p.Next

M	compiler/aoptobj.pas

******************************************************************************
commit c21bf747fb3d5750ce62ef49ad5334528e2880ba
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Nov 16 18:25:01 2022 +0000

      * x86: Extension to Cmp1Jl2Cmp0Jle to catch inverted variant

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e57ef24e37be92ca117302735b9e3584254483d9
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Nov 15 16:20:09 2022 +0000

      * x86: TEST and CMP optimisations now perform jump optimisations prematurely to remove unnecessary TEST/CMPs

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c1ec558d0aeda85edd81e095678952b34250d208
Author: florian <florian@freepascal.org>
Date:   Thu Nov 17 23:10:00 2022 +0100

      * first (modified, added a comment) patch by Rika to improve generic Index*, part of #39996

M	rtl/inc/generic.inc

******************************************************************************
commit 5e0eb521c4dfd2430e77ba4f8d01b8a887afedda
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Nov 15 21:48:34 2022 +0000

    Fix use of unaligned for big endian code

M	rtl/inc/ctypes.pp

******************************************************************************
commit 3cf8ae8433acbc20e09eb6bee6c6e1e1000e6b9c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Nov 12 04:00:50 2022 +0000

      * x86: New XOR->BTC peephole optimisation

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit f2bd099afba70273fb8ef60dd42226feda3808bc
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Nov 12 01:40:52 2022 +0000

      * x86: Converted BTR and BTS tests to use a new utility function to check if BTx instructions are acceptable to use

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 822022186611aa62d08c8a328f69f37bad2dd38f
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Nov 7 18:39:31 2022 +0000

      * x86: New AND(NOT X)->BTR peephole optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 827fe2bd83a9ee5d77b49cf4eb8cdc3ce0369859
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Nov 7 05:20:33 2022 +0000

      * x86: New OR->BTS peephole optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 314f632377306065e939fb1b17593168bca3982b
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Nov 7 04:30:54 2022 +0000

      * x86: New TEST->BT peephole optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a27cb35fa83d995a33f90474c2481d367cf6b14b
Author: florian <florian@freepascal.org>
Date:   Tue Nov 15 22:06:38 2022 +0100

      * propagate life info properly

M	compiler/optdfa.pas

******************************************************************************
commit 94368d06ee17f513eaa45519b5e5b79e1ff86980
Author: Marcus Sackrow <alb42@web.de>
Date:   Mon Nov 14 17:55:52 2022 +0100

    Amiga: Bugfix for Tagged Version of OpenWindow at WB1.2/1.3

M	packages/amunits/src/coreunits/intuition.pas

******************************************************************************
commit 75c252fd8f754788a4ab2f9ca8da110f6dd6aa86
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Nov 13 23:46:52 2022 +0100

    * Extra linux fcntl constants

M	rtl/linux/ostypes.inc

******************************************************************************
commit 9cda1666a6129b613770a93799ae57b77630d6c1
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Nov 13 23:45:40 2022 +0100

    * Modifier for allowed schemas

M	packages/fcl-web/src/restbridge/sqldbrestschema.pp

******************************************************************************
commit d38c3f8073f8e954b1e0224c5e46141eeae63da5
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Nov 13 23:45:00 2022 +0100

    * Fix loading schemas

M	packages/fcl-web/src/restbridge/sqldbrestbridge.pp

******************************************************************************
commit 71f8893366881e86e16f15dcb7a4befcd0bd6261
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Nov 13 23:44:26 2022 +0100

    * Allow to specify DB connection params on command-line

M	packages/fcl-web/examples/restbridge/demorestbridge.pp

******************************************************************************
commit 9145565895b7b8ea393d1818e9c590cfa6c34cfc
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Nov 13 23:42:20 2022 +0100

    * Some extra published properties. Fix issue #39994

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 3b43bd027c51f7914bc8fe7f938a7a21d58c1d85
Author: florian <florian@freepascal.org>
Date:   Sun Nov 13 22:28:08 2022 +0100

      * calculate life info for if nodes correctly if the then branch is empty, resolves #39992

M	compiler/optdfa.pas
A	tests/webtbs/tw39992.pp

******************************************************************************
commit c9461b73139c742a7a86af045212e08dea83c72b
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Nov 13 01:39:24 2022 +0000

      * x86: Flags that relate to optimization hints rather than features have been moved to a separate set

M	compiler/i386/cpuinfo.pas
M	compiler/i8086/cpuinfo.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 9b58545fb7a244c527ca30f71db7d4f4e4fdc780
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Nov 13 12:39:14 2022 +0100

    fcl-css: comments and warnings

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssresolver.pas

******************************************************************************
commit 1853e94b98100336410c9093ce5f6ff2c63a3bf4
Author: florian <florian@freepascal.org>
Date:   Sat Nov 12 22:07:58 2022 +0100

      * attempt to fix #39900

M	packages/rtl-console/src/unix/mouse.pp

******************************************************************************
commit 57466587c5470ed174144263608febae128895af
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Nov 7 21:23:08 2022 +0100

    llvmdbg: remove unnecessary typedef intermediates

M	compiler/llvm/aasmllvmmetadata.pas
M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit a0c87be0fc75cb242378c1029e5fc58e7dd41a18
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Nov 12 07:25:05 2022 +0000

      * x86: Zen processors now marked with CPUX86_HAS_FAST_BT_MEM flag

M	compiler/i386/cpuinfo.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 0f30af07e5dd34acd7bbee812a92a13078ad1428
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Nov 8 20:57:44 2022 +0000

    Fix test to succeed for big endian mips

M	tests/test/tcustomvar1.pp

******************************************************************************
commit d3abd339b7cf9b3c7e70679ee65a4732b56ca37d
Author: florian <florian@freepascal.org>
Date:   Fri Nov 11 23:45:52 2022 +0100

      + cpu switch for zen

M	compiler/i386/cpuinfo.pas
M	compiler/x86/agx86nsm.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit e942c00f8259a6d9505d1ed849b36399e9def989
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Nov 9 21:18:06 2022 +0000

      x86: MovMovMov2XChg optimisation now makes use of the CPUX86_HAS_FAST_XCHG flag

M	compiler/x86/aoptx86.pas

******************************************************************************
commit aa5517d44228f2909b25744ed2fb90770d45dfe6
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Nov 9 21:03:52 2022 +0000

      * x86: New CPU feature flags in cpuinfo units

M	compiler/i386/cpuinfo.pas
M	compiler/i8086/cpuinfo.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 71df6b83c64d331a3a7347f762e80755088639e2
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Nov 11 22:20:10 2022 +0000

     Avoidd to use hp1 after calling RemoveInstruction, as the VMT is invalidated

M	compiler/x86/aoptx86.pas

******************************************************************************
commit cfc77315ca53adea20b838be4bcc919ec3f9c39a
Author: marcoonthegit <marco@freepascal.org>
Date:   Thu Nov 10 10:41:49 2022 +0100

    * getlongpath as per https://forum.lazarus.freepascal.org/index.php/topic,60972.0/topicseen.html

M	rtl/win/wininc/ascdef.inc
M	rtl/win/wininc/ascfun.inc
M	rtl/win/wininc/unidef.inc
M	rtl/win/wininc/unifun.inc

******************************************************************************
commit 3e6d4bf1cc120e5885356af1cc3b0e93101fddaf
Author: florian <florian@freepascal.org>
Date:   Wed Nov 9 23:09:07 2022 +0100

      * new cpu feature tests

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/units/cpu/tcpu1.pp

******************************************************************************
commit 12aa48602bcd35b2013f97782520ca209bd4bd30
Author: florian <florian@freepascal.org>
Date:   Tue Nov 8 21:14:56 2022 +0100

      + CMOVSupport function

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/units/cpu/tcpu1.pp

******************************************************************************
commit a2789d611f74b71fefbf8a3bc0c66f3f3ec3eaa3
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Mon Nov 7 23:33:31 2022 +0100

    * fix crash in debug output in TX86AsmOptimizer.DoArithCombineOpt for DEC/INC $reg

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d18ff64ed7931161230f036170af3f7998d6611f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Nov 7 22:24:34 2022 +0000

    Fix a_load64_reg_ref and a_load64_ref_reg mips methods

M	compiler/mips/cgcpu.pas

******************************************************************************
commit c96bb0f4164d45afe3a0cc8d4e306f0b5c14dbeb
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sun Nov 6 22:14:38 2022 +0000

    Handle unaligned references in 64-bit a_load_ref_reg and a_load_reg_ref methods

M	compiler/mips/cgcpu.pas

******************************************************************************
commit 36afcbf7fea3dd51e292b20594ef994f683d26b0
Author: florian <florian@freepascal.org>
Date:   Sun Nov 6 22:48:18 2022 +0100

      * only i386 uses same special fastcall calling convention

M	compiler/dbgdwarf.pas

******************************************************************************
commit 9c8f362accb973d6b1ea109e2b71b29649301d3b
Author: florian <florian@freepascal.org>
Date:   Sun Nov 6 22:33:38 2022 +0100

      * more robust calculation of TBITS_SHIFT

M	rtl/objpas/classes/bits.inc

******************************************************************************
commit 236febb14891bb2a46f273f69aef5cc7212982c6
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Apr 20 16:12:31 2022 +0100

      * x86: Fixed bugs in and refactored and renamed
        DoSubAddOpt optimisation method

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9e3483fbeb8743afdb32df31c859753adfc96039
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Nov 6 21:59:44 2022 +0100

    * fix #39977: allow a capturer to access any method independant of visibility as the visibility checks are supposed to have been done before the captured symbol was converted
    + added test

M	compiler/symtable.pas
A	tests/webtbs/tw39977.pp

******************************************************************************
commit b051e7667c5051b3ae9dd511ad235aea19f2c0d5
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Nov 6 21:58:07 2022 +0100

    * fix #39978: ensure that Self is captured when a method of the current class is captured into a function reference
    + added test

M	compiler/procdefutil.pas
A	tests/webtbs/tw39978.pp

******************************************************************************
commit d221f42a578316c99fc74674b037e54725bfbdbc
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Nov 6 21:56:41 2022 +0100

    * ensure that the correct overload is picked for function reference parameters
    + added tests

M	compiler/htypechk.pas
A	tests/test/tfuncref50.pp
A	tests/test/tfuncref51.pp

******************************************************************************
commit 19cee9b8415bce777f012d5ec7634497f0cd53e3
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Nov 6 21:08:31 2022 +0100

    + mark the def for a capturer class with a corresponding object option

M	compiler/procdefutil.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit a714e2ff35e78233486f4549d646980ead04c4a5
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Nov 6 16:52:38 2022 +0100

    * fix #39981: retrieve the symbol that returns the desired procdef/procvardef not maybe the Self or something else as we need that symbol to differentiate the procdefs
    + added test

M	compiler/procdefutil.pas
A	tests/webtbs/tw39981.pp

******************************************************************************
commit 3c2703787cff417098cd01d1c51b4b5cf70f2677
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Nov 6 16:49:06 2022 +0100

    * ensure that newly created tloadparentfpnodes have a valid resultdef as they might be created in situation where the loadnode itself is no longer typechecked

M	compiler/ncnv.pas
M	compiler/nld.pas

******************************************************************************
commit 7243befdb7fdb80e4257009497a4321f5241a3c7
Author: Rika Ichinose <rrunewalsh@gmail.com>
Date:   Tue Oct 25 15:12:36 2022 +0300

    Better TBits.

M	rtl/objpas/classes/bits.inc
M	rtl/objpas/classes/classesh.inc
M	tests/test/units/classes/ttbits.pp

******************************************************************************
commit eab28cdd2eb66c32f7e8d6ec186c479d3a70e519
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Thu Nov 3 06:54:56 2022 +0100

    clean up

M	packages/fcl-web/src/base/fphttpclientasyncpool.pas

******************************************************************************
commit 029ea37ed940e20e6b491649da808397bb0c96c2
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Thu Nov 3 06:12:40 2022 +0100

    * simplify implementation (almost) without touching the public interface
    * make function references an option to classic events

M	packages/fcl-web/src/base/fphttpclientasyncpool.pas

******************************************************************************
commit 6bb59c66cb311a871a7a334362edfa925dac7dc8
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Nov 2 15:13:31 2022 +0100

    clean up

M	packages/fcl-web/src/base/fphttpclientasyncpool.pas

******************************************************************************
commit 56cb11e3efbecf83b509a7709238fa55dc2c6748
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Nov 2 15:12:48 2022 +0100

    both callback interfaces: classic events and function references

M	packages/fcl-web/src/base/fphttpclientasyncpool.pas

******************************************************************************
commit dab6c48b472f83e14173ee55bd3393bbd44222da
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Nov 2 10:01:06 2022 +0100

    clean up

M	packages/fcl-web/src/base/fphttpclientasyncpool.pas

******************************************************************************
commit 7ee1dea027dc045e8227822987e89db4d592584a
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Nov 2 10:00:00 2022 +0100

    use function references for callbacks + change TNotifyEvent to TFPHTTPClientPoolSimpleCallback

M	packages/fcl-web/src/base/fphttpclientasyncpool.pas

******************************************************************************
commit 28a8279d91f1c56e470aae5624c1f3d891fe81a8
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Thu Nov 3 06:31:56 2022 +0100

    remove unused private variable

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit b881deeb9fcdbb69995eba2b0aa4f5fad40209ab
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Thu Nov 3 06:31:12 2022 +0100

    fix TServerSocketStream.CanRead result when FServer is gone (this happens on closing the server with open connections)

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit a1a30876d596e9bca2a5409b53b0fc637eda5dfd
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Thu Nov 3 12:35:40 2022 +0100

    disable KeepAlive flag in CloseConnectionSocket to close hanging keep-alive connections

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 0dbf40a24c9e8db931875d659c38f975c06bd208
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Nov 2 22:30:47 2022 +0000

      * Added new tests for BZHI optimisations

A	tests/test/cg/tbzhi1.pp
A	tests/test/cg/tbzhi1a.pp
A	tests/test/cg/tbzhi1b.pp
A	tests/test/cg/tbzhi1c.pp
A	tests/test/cg/tbzhi1d.pp
A	tests/test/cg/tbzhi1e.pp
A	tests/test/cg/tbzhi1f.pp
A	tests/test/cg/tbzhi1g.pp
A	tests/test/cg/tbzhi2.pp
A	tests/test/cg/tbzhi2a.pp
A	tests/test/cg/tbzhi2b.pp
A	tests/test/cg/tbzhi2c.pp
A	tests/test/cg/tbzhi2d.pp

******************************************************************************
commit c40f518de4c9ee3c4e6bafd2ec909dc4ca286b24
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Nov 2 16:39:47 2022 +0000

      * x86: "x and ((1 shl y) - 1)" to BZHI adapted for in_and_assign_x_y

M	compiler/x86/nx86inl.pas

******************************************************************************
commit 7da9b4a98858e6d82f297b12757b32e62c8491d7
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Nov 2 13:48:54 2022 +0000

      * x86: The code generator will now attempt to manipulate "x and ((1 shl y) - 1)" to use BZHI

M	compiler/x86/nx86add.pas

******************************************************************************
commit e748e4c7ab79a4dcacee4f106f53c5699d55dda1
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Nov 2 13:47:15 2022 +0000

      * x86: Added new emit_reg_ref_reg routine and related methods to support BMI2 instructions

M	compiler/x86/aasmcpu.pas
M	compiler/x86/cga.pas

******************************************************************************
commit 95f94a279c1807554ec2c865ca045aa29bd9e5b7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Nov 6 16:09:45 2022 +0100

    llvmdbg: fixes for method debug info
    
    Mark "self" parameter as artificial
    
    Add methods to the scope of the class/record rather than to the file scope
    
    Add the vmt field, strip the "($)hidden" prefix from its name, and emit its
    real type

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit c5cdfbd9c03c0d443e5a4f4a7eafd5ea1c2b0e21
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Nov 3 21:27:41 2022 +0100

    dwarf-eh: don't emit header if there's no data to emit

M	compiler/cfidwarf.pas

******************************************************************************
commit 1b08b89b7b552beecc90672f8ed0b1a858169658
Author: florian <florian@freepascal.org>
Date:   Sun Nov 6 16:38:01 2022 +0100

      * check if a target really supports safecall before calling load_safecallresult_node

M	compiler/optdfa.pas

******************************************************************************
commit 3db1415a449212d8c3ab5a9085106c9f11acaa0d
Author: florian <florian@freepascal.org>
Date:   Sat Nov 5 16:56:05 2022 +0100

      * generate correct dfa for subroutines declared as safecall

M	compiler/nutils.pas
M	compiler/optdfa.pas

******************************************************************************
commit 031c16dd3cd6a8b7b85a747225899d34898ef0a8
Author: ccrause <christo.crause@gmail.com>
Date:   Sat Nov 5 11:19:58 2022 +0200

    Fix potential overflow when incrementing 8 bit high value of res.

M	rtl/inc/generic.inc

******************************************************************************
commit 9b6926c5f514ab5a66abb78bdd0c31cc7770d99e
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Nov 4 22:21:29 2022 +0000

    Introduce CTYPES_INLINE, enabled by default but which can be disabled using -dDISABLE_INLINE for ctypes unit

M	rtl/inc/ctypes.pp

******************************************************************************
commit e67670fa70b7f92724ad4c55f5fedbb3b4231615
Author: florian <florian@freepascal.org>
Date:   Thu Nov 3 19:01:02 2022 +0100

      * changed of do_optdeadstoreelim must be passed by reference as noted by Alexey Torgashin

M	compiler/optdeadstore.pas

******************************************************************************
commit c5f4fe28826b3018bbbff3fa1de3822b35583f3b
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Thu Nov 3 08:14:52 2022 +0100

    httpserver: add KeepConnectionIdleTimeout property and OnKeepConnectionIdle event. Fix KeepConnectionTimeout to match the meaning from the comment and the name

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 342524c31234981a48e52659d07ff2e52cbd81b4
Author: florian <florian@freepascal.org>
Date:   Wed Nov 2 22:14:12 2022 +0100

    * run dead store elimination multiple times if needed

M	compiler/optdeadstore.pas
M	compiler/psub.pas

******************************************************************************
commit a0366d7d28f806b3bf825d6613040e38d3bdd64f
Author: florian <florian@freepascal.org>
Date:   Wed Nov 2 22:13:40 2022 +0100

    * dead store elimnation should not remove statements which can cause an exception

M	compiler/optdeadstore.pas

******************************************************************************
commit 05c45486e8db45b8025cef2047c14c9f47fd6b66
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Oct 26 13:36:50 2022 +0200

    fcl-image/pasjpeg: handle Exif orientation flag automatically

M	packages/fcl-image/src/fpreadjpeg.pas
M	packages/pasjpeg/src/jdmarker.pas
M	packages/pasjpeg/src/jpeglib.pas
A	tests/test/packages/fcl-image/dots-5.jpg
A	tests/test/packages/fcl-image/dots-8.jpg
A	tests/test/packages/fcl-image/dots.rc
A	tests/test/packages/fcl-image/timage_jpegorientation.pp

******************************************************************************
commit 3f7bf0fd70b339a43889898efa59af4fec33ea84
Author: florian <florian@freepascal.org>
Date:   Tue Nov 1 21:15:49 2022 +0100

      * stop generation of typed array constants if the size does not match, resolves #39980

M	compiler/ngtcon.pas
A	tests/webtbf/tw39980.pp

******************************************************************************
commit d351b78821fe7c1a5e4c6680d5928683a1a8f55c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 1 13:06:52 2022 +0100

    * Fix typo in author

M	packages/gstreamer/fpmake.pp

******************************************************************************
commit 78666090c2673dd7eeb75864797301aea9adcab1
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 1 13:05:59 2022 +0100

    * Remove wrong unit

M	packages/gstreamer/src/gst.pp

******************************************************************************
commit 36073c1b6511134bc0a2312abc943844d22261ae
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 1 11:39:12 2022 +0100

    * Add gstreamer library import unit (gst)

M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc
A	packages/gstreamer/Makefile
A	packages/gstreamer/Makefile.fpc
A	packages/gstreamer/example/playmp3.lpi
A	packages/gstreamer/example/playmp3.pp
A	packages/gstreamer/fpmake.pp
A	packages/gstreamer/src/.inc.h.prep
A	packages/gstreamer/src/.inc.h.raw
A	packages/gstreamer/src/elementfactory.inc
A	packages/gstreamer/src/gst.pp
A	packages/gstreamer/src/gstaliases.inc
A	packages/gstreamer/src/gstallocator.inc
A	packages/gstreamer/src/gstatomicqueue.inc
A	packages/gstreamer/src/gstbin.inc
A	packages/gstreamer/src/gstbin_impl.inc
A	packages/gstreamer/src/gstbuffer.inc
A	packages/gstreamer/src/gstbufferlist.inc
A	packages/gstreamer/src/gstbufferpool.inc
A	packages/gstreamer/src/gstbus.inc
A	packages/gstreamer/src/gstcaps.inc
A	packages/gstreamer/src/gstcapsfeatures.inc
A	packages/gstreamer/src/gstchildproxy.inc
A	packages/gstreamer/src/gstclock.inc
A	packages/gstreamer/src/gstcontext.inc
A	packages/gstreamer/src/gstcontrolbinding.inc
A	packages/gstreamer/src/gstcontrolsource.inc
A	packages/gstreamer/src/gstdatetime.inc
A	packages/gstreamer/src/gstdebugutils.inc
A	packages/gstreamer/src/gstdevice.inc
A	packages/gstreamer/src/gstdevicemonitor.inc
A	packages/gstreamer/src/gstdeviceprovider.inc
A	packages/gstreamer/src/gstdeviceproviderfactory.inc
A	packages/gstreamer/src/gstdynamictypefactory.inc
A	packages/gstreamer/src/gstelement.inc
A	packages/gstreamer/src/gstelementfactory.inc
A	packages/gstreamer/src/gstelementmetadata.inc
A	packages/gstreamer/src/gstenum.inc
A	packages/gstreamer/src/gstenumtypes.inc
A	packages/gstreamer/src/gsterror.inc
A	packages/gstreamer/src/gstevent.inc
A	packages/gstreamer/src/gstformat.inc
A	packages/gstreamer/src/gstformat.pp
A	packages/gstreamer/src/gstghostpad.inc
A	packages/gstreamer/src/gstinfo.inc
A	packages/gstreamer/src/gstiterator.inc
A	packages/gstreamer/src/gstmemory.inc
A	packages/gstreamer/src/gstmessage.inc
A	packages/gstreamer/src/gstmessage_impl.inc
A	packages/gstreamer/src/gstmeta.inc
A	packages/gstreamer/src/gstminiobject.inc
A	packages/gstreamer/src/gstobject.inc
A	packages/gstreamer/src/gstpad.inc
A	packages/gstreamer/src/gstpadtemplate.inc
A	packages/gstreamer/src/gstparamspecs.inc
A	packages/gstreamer/src/gstparse.inc
A	packages/gstreamer/src/gstpipeline.inc
A	packages/gstreamer/src/gstplugin.inc
A	packages/gstreamer/src/gstpluginfeature.inc
A	packages/gstreamer/src/gstpoll.inc
A	packages/gstreamer/src/gstpreset.inc
A	packages/gstreamer/src/gstpromise.inc
A	packages/gstreamer/src/gstprotection.inc
A	packages/gstreamer/src/gstquery.inc
A	packages/gstreamer/src/gstrec.inc
A	packages/gstreamer/src/gstregistry.inc
A	packages/gstreamer/src/gstsample.inc
A	packages/gstreamer/src/gstsegment.inc
A	packages/gstreamer/src/gststreamcollection.inc
A	packages/gstreamer/src/gststreams.inc
A	packages/gstreamer/src/gststructure.inc
A	packages/gstreamer/src/gstsystemclock.inc
A	packages/gstreamer/src/gsttaglist.inc
A	packages/gstreamer/src/gsttagsetter.inc
A	packages/gstreamer/src/gsttask.inc
A	packages/gstreamer/src/gsttaskpool.inc
A	packages/gstreamer/src/gsttoc.inc
A	packages/gstreamer/src/gsttocsetter.inc
A	packages/gstreamer/src/gsttracer.inc
A	packages/gstreamer/src/gsttracerfactory.inc
A	packages/gstreamer/src/gsttracerrecord.inc
A	packages/gstreamer/src/gsttypefind.inc
A	packages/gstreamer/src/gsttypefindfactory.inc
A	packages/gstreamer/src/gsturi.inc
A	packages/gstreamer/src/gstutils.inc
A	packages/gstreamer/src/gstvalue.inc
A	packages/gstreamer/src/gstversion.inc

******************************************************************************
commit 0eee70ac816afaebbc567e00a5c18a6ee46873e1
Author: florian <florian@freepascal.org>
Date:   Mon Oct 31 20:19:10 2022 +0100

      * fix FindUnitSymtable for exception symtables, resolves #24801 and #39974
      * more consistent naming of exceptsymtable enumeration symbol

M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/symtable.pas
M	compiler/symtype.pas
A	tests/webtbs/tw24801.pp
A	tests/webtbs/uw24801.pp

******************************************************************************
commit dbd8259c48e3654620507cfcac4f532ba857aaab
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Oct 13 22:55:14 2022 +0100

      * x86: Fixed mistake in var9 optimisation under -Os; "andl $255,%eax" is not
            smaller than "movzbl %al,%eax" because the immediate is sign-extended,
            not zero-extended, so $255 will be stored as a 32-bit value.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 87044c004f22c34457a634074dbd8b253fadaa35
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Oct 31 18:03:52 2022 +0100

    fcl-css: clean up

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit 92cc78e723496ec16475848d6339bd8ddbcad9cd
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sun Oct 30 23:31:57 2022 +0100

    Allow cycle to finish successfully with -dEXTDEBUG without ALLOW_WARNINGS=1

M	compiler/pass_2.pas

******************************************************************************
commit 6d3e3d06e2bc18dc15000093869e821a050d9b60
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 30 21:56:29 2022 +0100

    Linux: don't discard CFI when using it for exceptions

M	compiler/systems/t_linux.pas

******************************************************************************
commit 57935a895cd02101ae2e26701579133fb23f75e2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 29 21:02:10 2022 +0200

    Darwin: really fix -Xg for DWARF4

M	compiler/options.pas
M	compiler/systems/t_darwin.pas

******************************************************************************
commit e62cf5b9e7f98f8beaef2ab288574aced94b15ec
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 29 17:23:31 2022 +0200

    systems_iphonesym -> systems_iphonesim
    
    It's a simulator, not a symbolator

M	compiler/link.pas
M	compiler/systems.pas

******************************************************************************
commit 3ba9cf5b4ffe0a10dc0874f69e0d72e5c77f7358
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Oct 24 09:23:18 2022 +0100

      * x86: PostPeepholeOptTestOr has different debug messages for each found instruction, and also tests for BEXTR and BZHI.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a7d1f7d7712b7f8845a59937fc9e22e67a7fa5ca
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Oct 27 06:50:25 2022 +0100

      * x86: FuncMov2Func now has code to remove "mov %reg,%reg" (since it doesn't get removed in Pass 2).

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3d805b8a9a2e9803f58ae40ce286b274877f2b78
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Oct 21 23:13:21 2022 +0100

      * x86: FuncMov2Func moved to separate method and also called by OptPass2MOV.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d35be8a9eac21ee762b452df1ea879c9c5699f03
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Oct 21 19:58:16 2022 +0100

      * x86: Extended FuncMov2Func optimisation to handle 1, 3 and 4-operand functions

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9fc2b9062da63731b113043f5550b6734ae0eea1
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Oct 26 17:45:10 2022 +0100

      * x86: Updated Mov0LblCmp0Jne optimisation to work when alignment hints appear before the label

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a1064ad8fdf5b5941c86eb5d94009a264e9f8cbf
Author: florian <florian@freepascal.org>
Date:   Sun Oct 30 16:57:59 2022 +0100

      + MovSubCmp2MovSub optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit ae12a79bf75e2019cba48e94d54b1f5c2fe07f92
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sun Oct 30 10:59:31 2022 +0100

    Avoid string truncation

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit e1b3c03dafb2779c7ba1b40752a56f28a3597e43
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sat Oct 29 21:32:12 2022 +0100

    Add test for mips code generation bug

A	tests/test/cg/testcompo.pp

******************************************************************************
commit dce70b3b704985cdfb7cdf40cc7d59e5d52d5422
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Oct 27 22:48:46 2022 +0100

    Short version of the mips code genration bug

M	compiler/ncal.pas
M	compiler/ncgcal.pas

******************************************************************************
commit f9a76aaa569c4c17c0e79e1100a2ec522903286a
Author: marcoonthegit <marco@freepascal.org>
Date:   Sat Oct 29 16:12:40 2022 +0200

    * Add AMPM to string, patch from closes #39973

M	rtl/win/sysutils.pp

******************************************************************************
commit f18524f2fe32fdbb798b38a19d9e9bbc24fef3e4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 29 14:13:53 2022 +0200

    Darwin: fix mac0S 11.0 version string
    
    Prevents LLVM warnings

M	compiler/options.pas

******************************************************************************
commit cd8ddffe426f37743c0d17ecfa990b5b9ddf442a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 29 14:12:43 2022 +0200

    AArch64: X18 is not a volatile register
    
    It may be unused on some platforms, but in general it's reserved for OS library
    usage (usually related to TLS)

M	compiler/aarch64/cpubase.pas

******************************************************************************
commit 49fb1b4c292e3fe305a470b3a2c4dd52f6d46733
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 29 13:45:48 2022 +0200

    RTTI: don't generate full RTTI for internal types
    
    These are types created by the code generator for internal purposes, and hence
    are never queried by user code

M	compiler/ncgrtti.pas

******************************************************************************
commit f0e31628ad7d584507612b2d7c4ea017532cea78
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Oct 29 12:15:59 2022 +0200

    * ensure that hmodule is initialized correctly

M	compiler/pgenutil.pas

******************************************************************************
commit e050a019a278827a3ae9c0a32cdcb2dde00ce50d
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Oct 28 17:40:53 2022 +0200

    * fix #29859: ensure that it's correctly passed down into generate_specialization whether a unit name was provided for the specialization and if so search the generic only in that unit
    + added tests

M	compiler/nbas.pas
M	compiler/pdecsub.pas
M	compiler/pexpr.pas
M	compiler/pgenutil.pas
M	compiler/ptype.pas
A	tests/test/tgeneric108.pp
A	tests/test/tgeneric109.pp
A	tests/test/tgeneric110.pp
A	tests/test/tgeneric111.pp
A	tests/test/ugeneric108a.pp
A	tests/test/ugeneric108b.pp
A	tests/webtbs/tw29859.pp
A	tests/webtbs/uw29859a.pp
A	tests/webtbs/uw29859b.pp

******************************************************************************
commit 35a57bac94046da556fe8af48b1e791d23df9c0f
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Oct 28 17:36:22 2022 +0200

    * generate the generic name for a specialization of a generic interface alias in the same way as for specializations in general

M	compiler/pdecsub.pas

******************************************************************************
commit 399d82e1da8ddef74297867282862598aa96fd97
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Oct 21 17:09:55 2022 +0200

    - remove unused consume_generic_interface; it has been superseded by handle_generic_interface in 17a0ac7fc03

M	compiler/pdecsub.pas

******************************************************************************
commit c75bb80b140536d16e31f140a111a14c18ae7ad2
Author: florian <florian@freepascal.org>
Date:   Wed Oct 26 23:20:18 2022 +0200

      * more debug messages
      * better exit codes for test

M	compiler/x86/aoptx86.pas
M	tests/webtbs/tw4768.pp

******************************************************************************
commit 49ddf159b26fc34b5f9a0385d1e82edeb75e894f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Oct 25 17:34:21 2022 +0200

     Fix internalerror generated with riscv32 compiler.
    
      Fix
      Compiling ./fcl-passrc/src/pscanner.pp
      pscanner.pp(2512,40) Fatal: Internal error 2006010801
      error generated for riscv32-linux target after commit #c83e6c34
      by correcting expectloc for riscv32 for 64-bit comparisons.
      Add a small test.

M	compiler/riscv/nrvadd.pas
A	tests/test/cg/tvec64cmp.pp

******************************************************************************
commit 0f43c7b229f2b400edbd22ac0e2b242755260a41
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Oct 25 17:52:08 2022 +0200

    pas2js: use exename instead of paramstr 0, to search pas2js.cfg in exe location

M	utils/pas2js/pas2js.pp

******************************************************************************
commit 6685e22ead441cd00e292e6940e2ece96b674fa5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Oct 24 19:21:55 2022 +0200

    fcl-css: clearstyles

M	packages/fcl-css/src/fpcssresolver.pas

******************************************************************************
commit be401422fd786e0c14b27340eef512f70d1f668d
Author: florian <florian@freepascal.org>
Date:   Mon Oct 24 22:52:52 2022 +0200

      * more warnings after last commit fixed

M	compiler/arm/cgcpu.pas
M	compiler/systems/t_gba.pas
M	compiler/systems/t_nds.pas

******************************************************************************
commit 3fa77a4f627e5ce993c88be7849e27b64e7ae80a
Author: florian <florian@freepascal.org>
Date:   Mon Oct 24 22:10:34 2022 +0200

      * fix life information propagation for while loops, resolves #39971
      * warnings/errors fixed which are caused by the new life information propagation
      + test

M	compiler/dbgdwarf.pas
M	compiler/ngtcon.pas
M	compiler/optdfa.pas
M	compiler/pgenutil.pas
M	compiler/systems/t_bsd.pas
M	compiler/systems/t_linux.pas
M	compiler/systems/t_win.pas
M	tests/test/opt/tdfa2.pp
A	tests/webtbs/tw39971.pp

******************************************************************************
commit e63cc73cfa4672c92b7ebfd3600aa18683bab528
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 23 22:24:46 2022 +0200

    Darwin/AArch64: future-proof version check

M	rtl/darwin/aarch64/sig_cpu.inc

******************************************************************************
commit 86547d35d78ffd26e1d0b63187ebc8472beb204b
Author: florian <florian@freepascal.org>
Date:   Sun Oct 23 22:09:00 2022 +0200

      + apply OpTest/Or2Op optimization to ANDN as well
      + DebugMsg for OpTest/Or2Op added

M	compiler/x86/aoptx86.pas

******************************************************************************
commit ae4c8359aabf282d0e1047ab9b5d89cfda3e8928
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 23 09:46:48 2022 +0200

    Darwin/AArch64: detect when SIGILL indicates an FPU exception
    
    Parse the ESR (ESR_ELx, Exception Syndrome Register (ELx)), return run error
    as in float_raise

M	rtl/darwin/aarch64/sig_cpu.inc
M	rtl/darwin/aarch64/sighnd.inc
M	rtl/darwin/signal.inc

******************************************************************************
commit a1ea1dd98e7c76d656a232e822d3d7c47063a11a
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Oct 22 18:41:09 2022 +0100

      * x86: Changed BMI2 check to BMI1 for ordinal ANDN optimisation

M	compiler/x86/nx86add.pas

******************************************************************************
commit afc9acda374142b802a0fa02e11d0e98140d85f8
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sat Oct 22 15:54:49 2022 -0500

     Change wrong "$macros off" into "$macro off"

M	rtl/inc/cmem.pp

******************************************************************************
commit 626e23d89fbb58d5eb3aa4ac9532fe8790d1d689
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Oct 21 10:35:05 2022 +0100

      * x86: The code generator will now attempt manipulate "x and (not y)" (where x and y are ordinals) to use ANDN.

M	compiler/x86/nx86add.pas

******************************************************************************
commit 567244007ecf2a289cc6761dfd53c4db97bf0ee9
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Oct 13 16:41:09 2022 +0100

      * x86: Improvement to bug fix so an optimisation can still be made even if the other register is in use

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 41b8f6a42e7c43acf8295c26acdd861210ed98b5
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Oct 13 16:11:40 2022 +0100

      * x86: Bug fix where improved AddMov2Mov optimisation didn't
        check to see if the other register was modified in between

M	compiler/x86/aoptx86.pas

******************************************************************************
commit fa76baa3d4a6415d004686bfe99068837f51ea5d
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Oct 13 21:01:38 2022 +0100

      * New test to evaluate i39918

A	tests/webtbs/tw39918.pp

******************************************************************************
commit 8f269d4540fdd94c2d1891653892875946a18d66
Author: florian <florian@freepascal.org>
Date:   Sat Oct 22 15:05:52 2022 +0200

      * check for proper exception type

M	tests/webtbs/tw3157.pp

******************************************************************************
commit 2b48afe151a41943520040852a7d075968ff1bf6
Author: florian <florian@freepascal.org>
Date:   Fri Oct 21 21:14:39 2022 +0200

      * check if optinfo is assigned before using it, resolves #39913

M	compiler/optdfa.pas
A	tests/webtbs/tw39913.pp

******************************************************************************
commit 2c51abf40dcbdfdfad4532f571e1f095dff9c8aa
Author: florian <florian@freepascal.org>
Date:   Fri Oct 21 21:13:28 2022 +0200

      + print optinfo pointer if set

M	compiler/node.pas

******************************************************************************
commit 0a2447a9559f579cdd225603a7a4ece9575f5c28
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Oct 21 13:36:03 2022 +0200

    * Publish all available & needed properties

M	packages/fcl-web/src/base/fphtml.pp
M	packages/fcl-web/src/base/fpwebfile.pp
M	packages/fcl-web/src/base/fpwebproxy.pp
M	packages/fcl-web/src/jsonrpc/fpextdirect.pp
M	packages/fcl-web/src/jsonrpc/webjsonrpc.pp
M	packages/fcl-web/src/restbridge/sqldbrestmodule.pp
M	packages/fcl-web/src/webdata/fpwebdata.pp

******************************************************************************
commit 87a9214983a52f7564ec282cfaedfdc107b6541a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Oct 21 12:10:09 2022 +0100

    pastojs: FindDefaultConfig: search in symlinked compiler exe

M	packages/pastojs/src/pas2jscompilercfg.pp

******************************************************************************
commit 229d88c50fc0b4d07f7c1c51923f7acf59c896a7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Oct 20 22:24:25 2022 +0200

    Thumb(2): fix compilation after FPU control word changes
    
    Resolves #39966

M	rtl/arm/cpuh.inc
M	rtl/arm/thumb2.inc

******************************************************************************
commit dd0711a27e85d15d45dc47e7b014c6bcc3fbf230
Author: Martin <mfr-git@mfriebe.de>
Date:   Wed Oct 19 23:10:33 2022 +0200

    Fix incorrect dwarf entry count. Issue #39928 introduced in 1b6982107f1ac4b4111e37be0a3649d155a2bc1e

M	compiler/dbgdwarf.pas

******************************************************************************
commit 850685844b9a0028b7ef11b4239975ab2a61db45
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Oct 19 22:57:02 2022 +0200

    * Fix handling of options file

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit 9e60c686b42b79ea69b97aa5376e4e71e8fb333c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Oct 19 22:56:07 2022 +0200

    * Add crossoriginisolation and debugcapture

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit e142953c6d2b796e833e441773acd51325a7ed77
Author: florian <florian@freepascal.org>
Date:   Wed Oct 19 22:48:54 2022 +0200

      * make the hidden high parameter for short strings a byte for 8 bit CPUs

M	compiler/pparautl.pas

******************************************************************************
commit 991460c4ee3c26f0811e3ee749bad8e98cd467b3
Author: ccrause <christo.crause@gmail.com>
Date:   Sun Oct 16 14:17:16 2022 +0200

    Rewrite fpc_shortstr_concat_multi for AVR to not use a temporary shortstring to reduce RAM usage.

M	rtl/avr/avr.inc
M	rtl/inc/generic.inc

******************************************************************************
commit fb7787b11eef04a5f0f136ecfe83cea67a2e8619
Author: Michael VAN CANNEYT <mvancanneyt@tixeo.com>
Date:   Wed Oct 19 17:54:04 2022 +0200

    * Added debugcapture route

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit 2d94575fa8124933e47924909766b9eaedfc2bba
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 19 16:43:52 2022 +0100

    fcl-css: added attribute value check

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit 45b1d592f5a4bf280c7f1a59394aac2cd8f4a541
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Oct 13 22:07:01 2022 +0100

      * x86: Bug fix where "mov $0,%reg" was inserted on the wrong side of a SETcc instruction

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 27aa4d4e3495db95e396cf32746ecd93020f484c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Oct 14 22:19:31 2022 +0100

      * x86: ConvertJumpToRET now sets the condition to C_None

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6b77017cb9f95a445f1173ba3badc05758112d84
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Oct 13 22:27:31 2022 +0100

      * x86: Added two new tests for i39922

A	tests/webtbs/tw39922.pp
A	tests/webtbs/tw39922a.pp

******************************************************************************
commit c89848a00f59cc2539c5ff3862a547218129f594
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Oct 18 21:49:19 2022 +0200

    powerpc64le: fix reading FPU control word after 0758aa1143
    
    Also, missing rest of the commit message for that change:
    
    The default implementation of SysResetFPU now sets the FPU control word that
    was last set from any thread (Delphi and FPC i386/x86-64-compatible). No longer
    call SysInitFPU when starting a new thread, only SysResetFPU. Combined, this
    means that new FPC-started threads will always start out with that control
    word on all architectures.
    
    Added generic fpc_cpuinit implementation that is used unless
    FPC_SYSTEM_HAS_FPC_CPUINIT has been defined.
    
    Ensure that the softfloat exception mask is initially set to the same
    value as the hardware fpu exception mask on architectures that use both.
    
    SafeLoadLibrary now saves/restores the FPU control word on all platforms.
    
    Removed outdated fpc_mtfsb0_corrected define check in powerpc64.inc
    
    Resolves #38230

M	rtl/ppcgen/ppcfpuex.inc

******************************************************************************
commit 0758aa1143a6498532b3d100ed15edd63ca878b6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Oct 17 19:43:01 2022 +0000

    FPU exception mask: generlised system unit interface

M	rtl/aarch64/aarch64.inc
M	rtl/aarch64/cpuh.inc
M	rtl/aarch64/mathu.inc
M	rtl/aix/system.pp
M	rtl/arm/arm.inc
M	rtl/arm/cpuh.inc
M	rtl/arm/mathu.inc
M	rtl/arm/thumb.inc
M	rtl/arm/thumb2.inc
M	rtl/avr/avr.inc
M	rtl/i386/cpuh.inc
M	rtl/i386/i386.inc
M	rtl/i386/math.inc
M	rtl/i8086/cpuh.inc
M	rtl/i8086/i8086.inc
M	rtl/i8086/math.inc
M	rtl/inc/dynlib.inc
M	rtl/inc/generic.inc
M	rtl/inc/mathh.inc
M	rtl/inc/system.inc
M	rtl/inc/thread.inc
M	rtl/java/jsystem.inc
M	rtl/java/jsystemh.inc
M	rtl/jvm/cpuh.inc
M	rtl/jvm/jvm.inc
M	rtl/linux/powerpc/sighnd.inc
M	rtl/linux/powerpc64/sighnd.inc
M	rtl/m68k/cpuh.inc
M	rtl/m68k/m68k.inc
M	rtl/mips/cpuh.inc
M	rtl/mips/mathu.inc
M	rtl/mips/mips.inc
M	rtl/mips64/cpuh.inc
M	rtl/powerpc/cpuh.inc
M	rtl/powerpc/mathu.inc
M	rtl/powerpc/powerpc.inc
M	rtl/powerpc64/cpuh.inc
M	rtl/powerpc64/mathu.inc
M	rtl/powerpc64/powerpc64.inc
A	rtl/ppcgen/ppcfpuex.inc
A	rtl/ppcgen/ppcmathu.inc
M	rtl/riscv/riscv.inc
M	rtl/riscv32/cpuh.inc
M	rtl/riscv32/riscv32.inc
M	rtl/riscv64/cpuh.inc
M	rtl/riscv64/mathu.inc
M	rtl/riscv64/riscv64.inc
M	rtl/sparc/cpuh.inc
M	rtl/sparc/mathu.inc
M	rtl/sparc/sparc.inc
M	rtl/sparc64/cpuh.inc
M	rtl/sparc64/mathu.inc
M	rtl/sparc64/sparc64.inc
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/wasm32.inc
M	rtl/x86_64/cpuh.inc
M	rtl/x86_64/math.inc
M	rtl/x86_64/x86_64.inc
M	rtl/xtensa/cpuh.inc
M	rtl/xtensa/xtensa.inc
M	rtl/z80/cpuh.inc
M	rtl/z80/z80.inc
A	tests/webtbs/tw38230.pp

******************************************************************************
commit e457cdad8a9f8e03cbcd167a090e2bba15f7aa6c
Author: florian <florian@freepascal.org>
Date:   Mon Oct 17 21:14:32 2022 +0200

      * patch by avk959 to solve infinite loop in FindMatchesBoyerMoore*, resolves #39885 and #39709
      + tests

M	packages/rtl-objpas/src/inc/strutils.pp
A	tests/webtbs/tw39709.pp
A	tests/webtbs/tw39885.pp

******************************************************************************
commit 5670a7543cb170889fee2f3e8e65ccfd96c0b18e
Author: florian <florian@freepascal.org>
Date:   Sun Oct 16 22:51:50 2022 +0200

      * properly reset nf_write/nf_modify flags for min/max inline nodes, needed by dead store optimization, resolves #39958
      * factored out nutils.node_reset_pass1_write

M	compiler/nflw.pas
M	compiler/ninl.pas
M	compiler/nutils.pas
A	tests/webtbs/tw39958.pp

******************************************************************************
commit c83e6c34a90cc86ce1c3f3aae1da39d618793335
Author: Jeppe <jeppe@j-software.dk>
Date:   Sun Oct 16 17:37:53 2022 +0200

    riscv32: Fix 64bit comparisons
    
    - Code taken from MIPS backend
    - Removed some unused code generated for RV32 64bit integer ops

M	compiler/riscv32/cgcpu.pas
M	compiler/riscv32/nrv32add.pas

******************************************************************************
commit 73e5d6f70fc9354e10d5fa8498fba52dfb024c61
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Oct 16 13:51:41 2022 +0200

    fcl-css: renamed TCSSNode to ICSSNode, resolver: list of style elements

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit 1c86a4bbebf6bce1f14f2e3e17ab132fb3ccb8db
Author: florian <florian@freepascal.org>
Date:   Fri Oct 14 23:11:08 2022 +0200

      * if a pointer_to_array type conversion is applied to a variable, it is not written, resolves #39957

M	compiler/ncnv.pas
A	tests/webtbs/tw39957.pp

******************************************************************************
commit 27315ac528fb6921a0a66e5d54c36cc3ff9b7200
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Oct 14 18:48:02 2022 +0200

    fcl-css: shorten PseudoAttribute to Pseudo

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/src/fpcsstree.pp
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit e2a26ecece15f944eaa327c30143bb55a4528235
Author: florian <florian@freepascal.org>
Date:   Thu Oct 13 23:15:38 2022 +0200

      * fixes tcg64frv.a_op64_const_reg_reg based on the analysis of Bart B, resolves #39953

M	compiler/riscv32/cgcpu.pas

******************************************************************************
commit 0b3c608d79fdc8e3aa1a198ad3152e7009c11336
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Oct 13 13:00:57 2022 +0200

    * Faster DupeString by Rika. Fixes issue #39949

M	packages/rtl-objpas/src/inc/strutils.pp

******************************************************************************
commit d5777174d8ec13dc54e09497a21a030debc5c088
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Oct 13 12:45:16 2022 +0200

    * Optimization of TStringHelper.Split by Rika. Fixes issue #39948

M	rtl/objpas/sysutils/syshelp.inc

******************************************************************************
commit eb17e6fd2d85f700250dcbf721dd41d3bc096b55
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Oct 13 00:56:07 2022 +0200

    fcl-web: fixed crash in websocket server on windows when closing when already disconnected

M	packages/fcl-web/src/websocket/fpcustwsserver.pp

******************************************************************************
commit b150480c60aff770924e4ffd3382132b189aba2d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Oct 12 22:51:42 2022 +0200

    Darwin: don't try to print size statistics if the binary wasn't linked

M	compiler/systems/t_darwin.pas

******************************************************************************
commit a835d8b533fd7ebba6d375602a4b5c981ac465fb
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Oct 12 22:50:25 2022 +0200

    rgobj: reduce compilation time of programs with long movelists
    
    Reduces compilation time of webtbs/tw2242 for AArch64 with -O2 from
    15 minutes to 10 seconds on my system.
    
    from 15 minutes to 10 seconds

M	compiler/rgobj.pas

******************************************************************************
commit e2ade64a1e34f6374b9f3a4f1ff802b4b9a4c803
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Oct 12 22:49:26 2022 +0200

    cgbase: make first parameter of supregset_reset "out"

M	compiler/cgbase.pas

******************************************************************************
commit d217a459aac3cc2ec2792045ea7f27bc042bc789
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Oct 12 21:24:28 2022 +0100

      Fix bug report #39952.
      * compiler/aggas.pas: Avoid use of .long for 64bit constant
        for targets that automatically insert alignments.
      + tests/webtbs/tw39952.pp: New test from bug report 39952.

M	compiler/aggas.pas
A	tests/webtbs/tw39952.pp

******************************************************************************
commit f0c0d8a033f8ece2dc406f6b59abff9b9a480b6f
Author: florian <florian@freepascal.org>
Date:   Wed Oct 12 21:56:30 2022 +0200

      + test for #22809 which is meanwhile resolved

A	tests/webtbs/tw22809.pp

******************************************************************************
commit 989895c82f1cf77d9549bedc5fdc8897758d044e
Author: florian <florian@freepascal.org>
Date:   Tue Oct 11 22:10:37 2022 +0200

      * patch by Bart B: FormatFloat correctly outputs NaN now, resolves #32868
      + test

M	rtl/objpas/sysutils/fmtflt.inc
A	tests/webtbs/tw32868.pp

******************************************************************************
commit bb51ac77dd8ba9ad3512f3552515f5ddcd051d11
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Oct 11 07:36:20 2022 +0200

    * the right side of a concatenation of multiple ShortString values can directly pass any String[x] to the utility routine, because only the Length() is used, not High() and nothing is modified (also typed pointers must not be used for them); this allows for better code generation for strings with a maximum length < 255

M	compiler/nopt.pas

******************************************************************************
commit 3e181d7640ded13fddab537b461c3a1aaf78fc59
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Oct 11 00:41:24 2022 +0200

    pastojs: fixed clone array of tobject, pas2js issue 39238

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit 1b6982107f1ac4b4111e37be0a3649d155a2bc1e
Author: florian <florian@freepascal.org>
Date:   Mon Oct 10 22:45:31 2022 +0200

      * TDebugInfoDwarf3.appenddef_object should not write an extra finish_entry for objects and C++ classes

M	compiler/dbgdwarf.pas

******************************************************************************
commit 3e5f6d322853f4615392217e462a59f1a9c59178
Author: florian <florian@freepascal.org>
Date:   Sun Oct 9 21:30:44 2022 +0200

      * use AllocRegbetween in TARMAsmOptimizer.RemoveSuperfluousMove, resolves #39921

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 02aac653d2599332b70af2cb3433e8f5d76e6400
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Oct 9 13:20:14 2022 +0200

    * optimize shortstring concatenations if they're on the right side of an assignment to directly use the left side instead of a temporary

M	compiler/nadd.pas
M	compiler/nopt.pas

******************************************************************************
commit 32261a0f6d6a7277bd48712f13a4480c14c75a73
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Oct 9 12:42:09 2022 +0200

    * fix copy/paste typo in comments

M	compiler/nadd.pas

******************************************************************************
commit f2580efc1585bf5f3810b7b90321bfae3d7d313f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Oct 9 12:42:50 2022 +0200

    * Fix memleak in case of error.

M	packages/fcl-web/src/jsonrpc/fpjsonrpc.pp

******************************************************************************
commit d12bf094aba2667fcacbc7d4c9ae6ac2c32b2e28
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 8 22:27:23 2022 +0200

    cs_opt_consts: disable when non-local gotos are active
    
    This optimisation can insert code after the call to fpc_setjmp, resulting in
    it not getting executed after a longjmp. Fixes tmacnonlocalgoto on AArch64
    with -O2 or higher.

M	compiler/psub.pas

******************************************************************************
commit 5b73fc4d0e772bac6f6c8f24ca948e96ac6fb186
Author: florian <florian@freepascal.org>
Date:   Sat Oct 8 20:49:10 2022 +0200

      * marked parameters in ucomplex with const

M	packages/rtl-extra/src/inc/ucomplex.pp

******************************************************************************
commit 188cac3bc6dc666167aacf47fedff1a81d378137
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Oct 8 13:51:17 2022 +0200

    * enable OpenStrings by default in mode Delphi
    + added test

M	compiler/scanner.pas
A	tests/tbs/tb0698.pp

******************************************************************************
commit 920e1c8d1916b723d2aa60268f1c6a8b5527712c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Oct 8 13:46:28 2022 +0200

    * change PPU version as the change regarding $P/$OpenStrings affects the token buffers of generics (which contains the current settings)

M	compiler/ppu.pas

******************************************************************************
commit 6cbbf9c52aad12dcaf3ff5e44cbe19f39a5b7018
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Oct 8 13:45:59 2022 +0200

    * $P/$OpenStrings is supposed to be a local switch, so change that accordingly
    + added tests

M	compiler/globtype.pas
M	compiler/pdecsub.pas
M	compiler/switches.pas
M	compiler/utils/ppuutils/ppudump.pp
A	tests/tbf/tb0295.pp
A	tests/tbs/tb0697.pp

******************************************************************************
commit b934517871cf6fafd0313b4ab408886cc0c2df60
Author: florian <florian@freepascal.org>
Date:   Fri Oct 7 22:32:59 2022 +0200

      * patch by Rika: Optimize some compiler/CFileUtl.pas functions for returning unchanged strings, resolves #39882

M	compiler/cfileutl.pas
M	compiler/cutils.pas

******************************************************************************
commit 9f293df425a6c31b554bfbbad9f1020611b077cd
Author: florian <florian@freepascal.org>
Date:   Thu Oct 6 22:56:38 2022 +0200

      * export DynArrayAssign, resolves #39897

M	rtl/inc/dynarr.inc
M	rtl/inc/dynarrh.inc
A	tests/webtbs/tw39897.pp

******************************************************************************
commit ad7cc0e69d28afc3091c8b9a1e90175533efa9a2
Author: florian <florian@freepascal.org>
Date:   Wed Oct 5 22:47:48 2022 +0200

      * handle <dyn.array>+[] (and swapped) correctly, resolves #39919

M	compiler/nadd.pas
A	tests/webtbs/tw39919.pp

******************************************************************************
commit 2291100bbd2fe7447246bb69f17d29158ee3f71e
Author: marcoonthegit <marco@freepascal.org>
Date:   Wed Oct 5 20:46:04 2022 +0200

    * fix and test for bug #39884 solving daysbetween when zero date is crossed.

M	packages/rtl-objpas/src/inc/dateutil.inc
A	tests/test/units/dateutil/testdaysbetween.pp

******************************************************************************
commit 569f83e33dd158cd13c338824a8d3179228732a4
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 5 10:49:31 2022 +0200

    fcl-web: TWSServerConnection.HandshakeResponseSent propagates result

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 01c982ad707f23090c37e04f646ac7878e3bba0c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Oct 4 20:55:49 2022 +0200

    fcl-passrc: omit hint for not used anonymous type

M	packages/fcl-passrc/src/pasuseanalyzer.pas

******************************************************************************
commit a2182cb7a5026cd3a746c559a93a7f2747c6e635
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Oct 4 20:42:02 2022 +0200

    fcl-passrc: omit hint for not used anonymous type

M	packages/fcl-passrc/src/pasuseanalyzer.pas
M	packages/fcl-passrc/tests/tcuseanalyzer.pas
M	packages/pastojs/tests/tcpas2jsanalyzer.pas

******************************************************************************
commit eb8c322a537af698f9ee8de05ad61227ab004545
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Oct 4 17:52:09 2022 +0200

    * Use aValue instead of Value. Fix issue #39938

M	packages/fcl-base/src/maskutils.pp

******************************************************************************
commit e736011c37a7421efa7c4b560f7eb25b93afaa78
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Oct 4 11:14:00 2022 +0200

    * Fix from Bart for issue #39938

M	packages/fcl-base/src/maskutils.pp

******************************************************************************
commit f8848dd1857855256d50e4855725fae3aa5b4d60
Author: florian <florian@freepascal.org>
Date:   Mon Oct 3 22:03:55 2022 +0200

      * fix for commit a91e5478, mixed localalignmax and constalignmax

M	compiler/systems/i_linux.pas

******************************************************************************
commit a91e547832499249ef916470154a1a2b31421ee4
Author: florian <florian@freepascal.org>
Date:   Mon Oct 3 14:40:57 2022 +0200

      * set the maximum alignment values for constants and variables to 64 on aarch64-linux

M	compiler/systems/i_linux.pas

******************************************************************************
commit 9a760db57350c5efcf0521ece91c4157d0fc1d36
Author: florian <florian@freepascal.org>
Date:   Sun Oct 2 20:46:56 2022 +0200

      * nicer error message

M	compiler/htypechk.pas

******************************************************************************
commit 7dc2a617882931374ba3cf12955d657bc4631bb8
Author: florian <florian@freepascal.org>
Date:   Sat Oct 1 19:03:55 2022 +0200

      * comment for git fixed

M	compiler/Makefile.fpc

******************************************************************************
commit 2b63c02bc503dc1b1081c90dec770bf78473ecbd
Author: paweld <biuro@paweld.it>
Date:   Sat Oct 1 14:17:49 2022 +0000

    Incorrect function name imported from `comctl32.dll` - for `LoadIconWithScaleDown` function.

M	packages/winunits-base/src/commctrl.pp

******************************************************************************
commit 0a9e1ede723605b2cf0a1319a56535068f36fbd8
Author: florian <florian@freepascal.org>
Date:   Sat Oct 1 15:37:52 2022 +0200

      * improve test for Generics.Collections.TArrayHelper.QSort, resolves #39932

M	packages/rtl-generics/tests/tqsort_killer.pp

******************************************************************************
commit 51a3030b6a5b37adc64f59c6bd9b2e41d724f8ef
Author: florian <florian@freepascal.org>
Date:   Sat Oct 1 12:11:30 2022 +0200

      + test for heapsort fallback to Generics.Collections.TArrayHelper.Sort

A	packages/rtl-generics/tests/tqsort_killer.pp

******************************************************************************
commit 3fff2aca6dd7912d3d2d5a23a441d0ccb979d045
Author: Rika Ichinose <rrunewalsh@gmail.com>
Date:   Thu Sep 29 23:06:07 2022 +0300

    Add heapsort fallback to Generics.Collections.TArrayHelper.Sort.

M	packages/rtl-generics/src/generics.collections.pas

******************************************************************************
commit 9e9b38d0cfc08bbc3c9aa873ba41441b9ea0afb7
Author: florian <florian@freepascal.org>
Date:   Thu Sep 29 23:06:03 2022 +0200

      * cfi for avr needs 32 bit pc begin and range

M	compiler/cfidwarf.pas

******************************************************************************
commit 1fc54dd8bbdb83ad9a8f82e4a16d73a17178b655
Author: florian <florian@freepascal.org>
Date:   Wed Sep 28 22:46:51 2022 +0200

      * improve dwarf cfi on avr

M	compiler/cfidwarf.pas
M	compiler/dwarfbase.pas

******************************************************************************
commit 8b3c9e0970507bf7cddfe8946032bf9a20ba93aa
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 28 17:53:14 2022 +0200

    * Fix use of classname

M	packages/fcl-web/src/jsonrpc/fpjsonrpc.pp

******************************************************************************
commit 123f196d5d4bbbac76bf1b918a6a0e4dda0174ff
Author: florian <florian@freepascal.org>
Date:   Tue Sep 27 22:10:56 2022 +0200

      * small correction to linker script

M	compiler/systems/t_embed.pas

******************************************************************************
commit 88cf633b973ba2002e8f392ad0748b614bf1f1c9
Author: florian <florian@freepascal.org>
Date:   Mon Sep 26 21:28:39 2022 +0200

      * use append_object_struct also for dwarf-3 when creating dwarf debug info for objects, resolves #39920

M	compiler/dbgdwarf.pas

******************************************************************************
commit 93752573657acece7e917904e59078ab99cbef93
Author: florian <florian@freepascal.org>
Date:   Sun Sep 25 20:43:57 2022 +0200

      * look ahead for ShlOp2Op optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1a66cde35bd76cc076e25f8c2f71426f333117c2
Author: florian <florian@freepascal.org>
Date:   Sat Sep 24 22:48:41 2022 +0200

      * apply ShlOp2Shl optimization also to floating point operations

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 444fe092da1e614163712d0710f6f38b2948ee3b
Author: florian <florian@freepascal.org>
Date:   Sat Sep 24 20:39:06 2022 +0200

      * propertly check equality with the for-counter when propagating constants, resolves #39915

M	compiler/optconstprop.pas
A	tests/webtbs/tw39915.pp

******************************************************************************
commit 2bf377744ae19bff141878708df2c9beb78b03f8
Author: Henrique Gottardi Werlang <henriquewerlang@hotmail.com>
Date:   Thu Sep 15 11:14:35 2022 -0300

    Changed the interface creation to keep the generic name of an interface.

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit dbbb91705f606be92e0cc9daeaefeaeb290ad643
Author: florian <florian@freepascal.org>
Date:   Fri Sep 23 21:55:50 2022 +0200

      * improved fix for #39912

M	compiler/scanner.pas

******************************************************************************
commit b11366c95b2c9eb3611e71919692eae50cd0e7a5
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Sep 23 15:50:19 2022 +0200

    * when generating the call to the extracted function reference inside the nested routine we need to use the parameters of the nested function and not those of the newly created procdef (fixes some of the test case failures with -O2)

M	compiler/procdefutil.pas

******************************************************************************
commit 965bba5ab477bcfe124c7981e47f53457e718928
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Sep 23 14:44:42 2022 +0200

    * cleanup captured symbols when moving them from the nested function to the new method

M	compiler/procdefutil.pas

******************************************************************************
commit 960c154f48e79f22f570ffcb75d1fcbc21c334e2
Author: florian <florian@freepascal.org>
Date:   Thu Sep 22 23:00:24 2022 +0200

      * properly named

R100	tests/webtbs/ib39912.inc	tests/webtbs/iw39912.inc
R080	tests/webtbs/tb39912.pp	tests/webtbs/tw39912.pp

******************************************************************************
commit efbf5eaa01649749fc7f8adee03b63db407ec2a3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Sep 21 21:25:30 2022 +0200

    Fix loading of ObjC protocol type after c8fee69345
    
    That type lives in the objcbase unit, not in the system unit
    
    Resolves #39914

M	compiler/symdef.pas

******************************************************************************
commit 5913434ba91a5726dd2842277eb378cba6eb2e3f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Sep 20 22:39:28 2022 +0100

    Add DISABLE_SYSTEMINLINE check to be able to avoid setting SYSTEMINLINE macro

M	rtl/inc/macpas.pp
M	rtl/inc/systemh.inc
M	rtl/java/jsystemh_types.inc

******************************************************************************
commit b8920670f442575cc5e981066c1512377d2ac50f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Sep 20 22:33:14 2022 +0100

     Change is_macro to return true for A_JAL if in pic mode

M	compiler/mips/aasmcpu.pas

******************************************************************************
commit 2187bfaddd5734e223948e60857b502909e80c8b
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Sep 20 22:53:37 2022 +0200

     Add name of unit for return type if not from current module in tprocdef.customprocname

M	compiler/symdef.pas

******************************************************************************
commit 9c7d1515bfa32bb78906e09e0c66793bc802300a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 20 17:06:01 2022 +0200

    * Prevent codetools from messing up types again

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 2cbc6bb6749fe327d5febedbd7971b5ea16bf3eb
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 20 17:03:45 2022 +0200

    * Better solution for last commit, correct sockets definitions in implementation

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit dcc0b706bc48979458080099b7a92ca83646c6d1
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 20 16:53:34 2022 +0200

    * Fix problem reported by Pierre

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 4f9acc10f092a6a59a8c213ca29c08227ee1ab61
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Mon Sep 19 23:15:20 2022 +0200

    * fix #39898: when a loadnode is captured ensure that its nf_load_procvar flag is applied to the subscript node as well
    + added tests

M	compiler/procdefutil.pas
A	tests/test/tanonfunc61.pp
A	tests/test/tanonfunc62.pp
A	tests/test/tanonfunc63.pp
A	tests/test/tanonfunc64.pp
A	tests/test/tanonfunc65.pp
A	tests/test/tanonfunc66.pp
A	tests/test/tanonfunc67.pp
A	tests/test/tanonfunc68.pp
A	tests/test/tanonfunc69.pp
A	tests/test/tanonfunc70.pp
A	tests/test/tfuncref43.pp
A	tests/test/tfuncref44.pp
A	tests/test/tfuncref45.pp
A	tests/test/tfuncref46.pp
A	tests/test/tfuncref47.pp
A	tests/test/tfuncref48.pp
A	tests/test/tfuncref49.pp

******************************************************************************
commit 48f6ecc1f15892237f903d2d2bf59474a17cbc76
Author: florian <florian@freepascal.org>
Date:   Mon Sep 19 23:11:12 2022 +0200

      * improve .gitignore

M	.gitignore

******************************************************************************
commit af1194de4d5a33681608e7e745249db774e3a22a
Author: florian <florian@freepascal.org>
Date:   Mon Sep 19 23:02:54 2022 +0200

      * end of an include file works like a new line with regard to single line (//) comments, resolves #39912

M	compiler/scanner.pas
A	tests/webtbs/ib39912.inc
A	tests/webtbs/tb39912.pp

******************************************************************************
commit 9e783cc3ad4bffe0381afd0034896e30045a1515
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Sep 19 22:50:06 2022 +0200

    * Connection list, allow to set descendent for connections  and disconnect/connectiondropped events

M	packages/fcl-net/examples/isockcli.pp
M	packages/fcl-net/examples/isocksvr.pp
M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 879b6f1e6e20aaa9be81167eb015d9f1135929fa
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 19 09:33:28 2022 +0200

    fcl-css: parse relational selector list

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/src/fpcsstree.pp
M	packages/fcl-css/tests/tccsstree.pp

******************************************************************************
commit 6454c931b8fa4d8479dbd8c572b3d48356e62134
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 19 09:24:35 2022 +0200

    fcl-css: resolveR: surpress duplicate warnings

M	packages/fcl-css/src/fpcssresolver.pas

******************************************************************************
commit 5a7664f7d12a47e9efd859aeeae763460d7d0e62
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 19 09:09:53 2022 +0200

    fcl-css: cache nth-child lists

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit 5a6d9ff5329a79ddc330a4e8b6a59c4805a19113
Author: J. Gareth "Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Sep 18 19:02:24 2022 +0000

    x86: Deeper insight in OptPass2ADD and OptPass2SUB to produce more efficient code

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 76e0ec6744f8affb72f2c82b61a897facfddab7d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 18 11:04:41 2022 +0200

    fcl-css: fixed reading unary tile not as identifier

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssresolver.pas

******************************************************************************
commit 533d8a775254137e288df31ea99b48676f3faa98
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 18 10:20:23 2022 +0200

    fcl-css: :is(a,b)

M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit 6d104459e2f5857b518f68444b835f1f21dcd586
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 18 10:05:48 2022 +0200

    fcl-css: :is :where, nth-child of

M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit e7218d09fbf59d858cc952569537d739e93401f5
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Aug 18 12:23:55 2022 +0100

      * x86: New MovShr/Sar2Movx optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3963a30f9e434871c515109f24632751a710ae51
Author: florian <florian@freepascal.org>
Date:   Sun Sep 18 15:50:37 2022 +0200

      * prettier exception message, resolves #39909

M	rtl/objpas/rtlconst.inc

******************************************************************************
commit c8fee693450dd3cd085a662952b4239483e2e1d2
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Sep 18 12:03:48 2022 +0200

    * fix #39907: only load system class types from units that are marked as a System unit
    + added test

M	compiler/symdef.pas
A	tests/webtbs/tw39907.pp
A	tests/webtbs/uw39907.pp

******************************************************************************
commit 7b09eee02a70122b34747137458412f1a29ae541
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Sep 18 11:57:08 2022 +0200

    * mark units compiled with cs_compilesystem with a corresponding flag

M	compiler/fppu.pas
M	compiler/globtype.pas

******************************************************************************
commit 168016b865d3d1ea7de06f0be713ca4ce18b717c
Author: florian <florian@freepascal.org>
Date:   Sat Sep 17 22:46:57 2022 +0200

      * patch by Rika: Use linear file list in FInput.TInputFileManager instead of linked, resolves #39880

M	compiler/browcol.pas
M	compiler/finput.pas
M	compiler/fppu.pas
A	tests/webtbs/iw39880.inc
A	tests/webtbs/tw39880.pp
A	tests/webtbs/uw39880.pp

******************************************************************************
commit b8723226787a98cd1bb7a1020dc0e73029991df3
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Aug 16 03:40:29 2022 +0100

      * x86: New "shr %cl; shr x" swap optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6757bf3832ddfe5cc0fd488e98b20d5245fbe8bd
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Aug 15 06:56:00 2022 +0100

      * x86: New SHR-based optimisations

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit e21186cac0739d0a8290759c551a3feceb1b4360
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Sep 16 15:14:22 2022 +0200

    * fix #39902: in case of mode ObjFPC function pointers passed to parameters need to be checked for the correct procdef as well
    + added adjusted/extended test

M	compiler/htypechk.pas
A	tests/webtbs/tw39902b.pp

******************************************************************************
commit 13fb30c52ef398c3c8a82c262ea64bb83567fe55
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Sep 16 15:12:48 2022 +0200

    * fix #39902: correctly handle assignment of procvars to properties with a field write accessor
    + added adjusted/extended test

M	compiler/pexpr.pas
A	tests/webtbs/tw39902a.pp

******************************************************************************
commit 68253e2a738a32d47259137de23d67c5adc1d228
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Fri Sep 16 15:21:25 2022 +0200

    Missing file from b26703feaa9

A	compiler/versioncmp.pas

******************************************************************************
commit d1d0afe337c11f386fc189630265b6142f5f734a
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Sep 16 14:32:25 2022 +0200

    * handle_calling_convention is only needed for a function reference used in a record/class/object when it's an anonymous one

M	compiler/pdecvar.pas

******************************************************************************
commit c43f671baa06671d2aa86653f3925b9dc8f74c4d
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Sep 16 14:31:57 2022 +0200

    * check whether the hdef is still a procvardef before accessing it as such

M	compiler/pdecvar.pas

******************************************************************************
commit b0e1867b4c2658568d72cb1d023a5a010d483825
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sun Sep 11 21:24:00 2022 +0200

    symcreat: support for scanner/parser escape sequences
    
    Support escape sequences when parsing internally generated code. Used for now
    to force interpreting certain identifiers as unit/namespace identifiers.

M	compiler/finput.pas
M	compiler/scanner.pas
M	compiler/symcreat.pas
M	compiler/symtable.pas

******************************************************************************
commit e746cf96daffc2365178a934dcd1eb28ac955f4c
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sat Sep 10 10:49:54 2022 +0200

    Overload selection: call procvars if result is compatible with parameter
    
    Previously we only autmatically called procvars without parameters in TP/Delphi
    modes if their result type was equal to the parameter type to which they were
    passed. Resolves #39748.

M	compiler/htypechk.pas
A	tests/webtbs/tw39748.pp
A	tests/webtbs/tw39748a.pp

******************************************************************************
commit 136022a7b2f24e0005aa966f84042815d6d50187
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Fri Sep 9 21:06:08 2022 +0200

    objc: stop generating coalesced sections
    
    When targeting >= Mac OS X 10.6, don't generate coalesced sections anymore
    because they are deprecated. Resolves #39818

M	compiler/objcgutl.pas

******************************************************************************
commit df3a0af7e0574f160e3934175b9ae4252269a1d0
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Fri Sep 9 18:45:37 2022 +0200

    objc: use compile-time macOS version checks
    
    Use "modern" APIs for calling inherited messages when targeting Mac OS X 10.6
    or later

M	compiler/ncal.pas
M	compiler/objcutil.pas

******************************************************************************
commit b26703feaa97b31004bf833428a0a7cf8315e1fb
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Fri Sep 9 15:00:43 2022 +0200

    Darwin version comparisons: factored out into object
    
    Use numeric instead of string comparisons

M	compiler/cutils.pas
M	compiler/globals.pas
M	compiler/llvm/nllvmutil.pas
M	compiler/options.pas
M	compiler/systems/t_darwin.pas
M	compiler/triplet.pas

******************************************************************************
commit 657b9a62033085763aef3004e928f56abb9bbc7b
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Thu Sep 8 11:09:57 2022 +0200

    LLVM: support for -Sv (manual vector usage)
    
    Override register type for vectors to "integer registers" because we don't
    use mmregister on LLVM (they're all virtual, so it doesn't matter)

M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/nllvmadd.pas

******************************************************************************
commit f51798e449aa229723742425342b84f41025791e
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Thu Sep 8 11:09:20 2022 +0200

    High level codegen: set MM register type for vectors

M	compiler/hlcgobj.pas

******************************************************************************
commit a6c7ed5e61f961a022897dde1d47140998466a23
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Thu Sep 8 11:03:14 2022 +0200

    vector support: use vector result types
    
    Set the result of a vector add node to a vector type.
    
    Ensure that that these vector types are still asignment-compatible with
    regular array types (may want to change this when we expose vector types),
    and don't remove type conversions from vector types to array types (so the
    code generator pass can still rely on the resultdef being a vector type)

M	compiler/defcmp.pas
M	compiler/defutil.pas
M	compiler/nadd.pas
M	compiler/ncnv.pas

******************************************************************************
commit cb96acefc93200a2e035edb877edd8cd5721c5d9
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Thu Sep 8 11:01:00 2022 +0200

    vector support: check supported type during parsing already
    
    Avoids internalerrors at the code generation stage when using an unsupported
    type

M	compiler/nadd.pas

******************************************************************************
commit 62a57bf82ef45c28142baa6f07d3b9b8873b7d57
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Sep 15 22:57:05 2022 +0200

    * fix #39903: correctly parse anonymous function references in records (and classes/objects)
    + added test

M	compiler/pdecvar.pas
A	tests/webtbs/tw39903.pp

******************************************************************************
commit abed465c089b9b046b44fedafc7aed6720ea12b5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 15 16:01:23 2022 +0200

    fcl-css: fixed skipping invalid, skip utf8bom, nth-child

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/src/fpcssscanner.pp
M	packages/fcl-css/tests/tccssparser.pp
M	packages/fcl-css/tests/tccssresolver.pp
M	packages/fcl-css/tests/testcss.lpi

******************************************************************************
commit 18a226962291704c2edfe4a0daf196c41305ec55
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Aug 1 17:16:01 2022 +0200

    fcl-base: fixed local names

M	packages/fcl-base/src/pascodegen.pp

******************************************************************************
commit 8a6ee0055ad5109e050d293c9a92529484899be2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 15 10:52:25 2022 +0200

    fcl-css: started skipping invalid selectors

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssscanner.pp
M	packages/fcl-css/tests/tccssparser.pp

******************************************************************************
commit f562a8d9fdaccdfd630db4792ec4e0ba3a8d6e58
Author: florian <florian@freepascal.org>
Date:   Wed Sep 14 22:34:20 2022 +0200

      * hopefully final fix after 9848349610219cd0d2dadc67b112fb09a8317e91

M	compiler/ncgld.pas

******************************************************************************
commit 6a0e8feeba03a1c89ea7dd6f7c13b2aeeca4a81a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 14 21:49:39 2022 +0200

    fcl-css: fixed compile

M	packages/fcl-css/src/fpcssresolver.pas

******************************************************************************
commit 9156d1025732c0744a2b8cfb8d5295333a1cf94d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 14 21:44:18 2022 +0200

    fcl-css: test

M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit 11373226348f53234c333d25deae715d687172b9
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 14 20:00:00 2022 +0200

    fcl-css: started calls

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit 843ef82002b2477bc09713f80259a965c408f7f5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 14 17:05:12 2022 +0200

    fcl-css: attribute value integer

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit a9fb193b1c308a0a052d394386766a3232153a3d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 14 16:55:02 2022 +0200

    fcl-css: descendant combinator

M	packages/fcl-css/src/fpcssresolver.pas

******************************************************************************
commit 0c4d61b3ded37eb1dbc6c567411c599beea91dea
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 14 16:48:44 2022 +0200

    fcl-css: added two char tokens, parse descendant combinator as binary op

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/src/fpcssscanner.pp
M	packages/fcl-css/src/fpcsstree.pp
M	packages/fcl-css/tests/tccssparser.pp
M	packages/fcl-css/tests/tccssresolver.pp
M	packages/fcl-css/tests/tccssscanner.pp
M	packages/fcl-css/tests/tccsstree.pp

******************************************************************************
commit cc7d67d08cca783f2d0f439b24285a526e9185f5
Author: florian <florian@freepascal.org>
Date:   Tue Sep 13 22:30:52 2022 +0200

      * i8086 compiler fixed after 9848349610219cd0d2dadc67b112fb09a8317e91

M	compiler/ncgld.pas

******************************************************************************
commit 9848349610219cd0d2dadc67b112fb09a8317e91
Author: florian <florian@freepascal.org>
Date:   Mon Sep 12 23:07:11 2022 +0200

      * allocate registers correctly for method pointers on 16 bit address cpus, resolves #39603

M	compiler/ncgld.pas

******************************************************************************
commit d4a74319389a0319f28cb6947f53bcb46d609539
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 12 22:19:31 2022 +0200

    fcl-css: test inline style

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit 02f41731ebc658a56b7708f7584bd5010103f054
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 12 22:18:24 2022 +0200

    pastojs: fixed concat array of record and static array

M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas
M	utils/pas2js/dist/rtl.js

******************************************************************************
commit eff489a37a09c7607da289c96365cbf12e8c755f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 12 10:56:48 2022 +0200

    webidl: fixed compile with fpc 3.2.2

M	packages/webidl/src/webidlparser.pp

******************************************************************************
commit a429b4743640ba738a9f178458ec8110f2f13615
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 12 10:12:12 2022 +0200

    pastojs: added const

M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit 7ce609e72168df2869aa355afaa22edd4e14ef91
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 12 10:10:26 2022 +0200

    fcl-css: empty and class

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit a6dd77e32a3e7c802c578890214bc39504e991c2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 11 23:48:04 2022 +0200

    fcl-css: fixed ~= searching only words separated by whitespace

M	packages/fcl-css/src/fpcssresolver.pas

******************************************************************************
commit 3e9fd9073fbb232f34b914e8fced3691bfbaa496
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 11 23:16:19 2022 +0200

    fcl-css: resolver: invalid selectors

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit e024fdc5d7a5ff55e3ff96ed11ebd921fd582d78
Author: florian <florian@freepascal.org>
Date:   Sun Sep 11 22:42:58 2022 +0200

      * cleanup

M	compiler/nutils.pas

******************************************************************************
commit c3d0d3edd3652c5448c9fdb9470e707841ac46fd
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 11 22:13:36 2022 +0200

    fcl-css: tests for :first-of-type, :last-of-type

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit db499b61c0a030b0c9cddac026e854d540ed600e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 11 21:44:07 2022 +0200

    fcl-css: resolver: :root

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp
M	packages/fcl-css/tests/tccsstree.pp

******************************************************************************
commit b33ae75c591490b85a09300dac1f912ab8cade93
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 11 00:47:40 2022 +0200

    fcl-css: attribute selector operations

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/src/fpcssscanner.pp
M	packages/fcl-css/src/fpcsstree.pp
M	packages/fcl-css/tests/tccssparser.pp
M	packages/fcl-css/tests/tccssresolver.pp
M	packages/fcl-css/tests/tccsstree.pp

******************************************************************************
commit 6cbb3d982d3f547ad09a73aaf5939c6092ae3aab
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Sep 7 17:07:05 2022 +0100

      * x86: Added SARX to BMI2 code generator

M	compiler/x86/cgx86.pas

******************************************************************************
commit 83969d3ba38ec2321439c98a7da615ee66b0e228
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Sep 7 17:03:19 2022 +0100

      * x86: Added BEXTR and BZHI to special spilling rules since they follow the same format as SHRX etc.

M	compiler/x86/rgx86.pas

******************************************************************************
commit a23a4805f4b8dbf76c6472db14825350341e0405
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Sep 10 15:56:38 2022 +0200

    fcl-css: resolver: has attribute check

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit a6afacd63303bee50cb04ca5d5a13c5c79c8158e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Sep 10 13:40:23 2022 +0200

    fcl-css: resolver: adjacent and general sibling combinator

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit a2c518285c6460734fd700d5d922540db556014a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Sep 10 12:53:03 2022 +0200

    fcl-css: selector child combinator

M	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/src/fpcssscanner.pp
M	packages/fcl-css/src/fpcsstree.pp
M	packages/fcl-css/tests/tccssresolver.pp

******************************************************************************
commit a7e983b08abf4d384fd84a1f7f42579fa93c384e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Sep 9 23:26:06 2022 +0200

    fcl-css: updated fpmake

M	packages/fcl-css/fpmake.pp

******************************************************************************
commit 2d1510e067311b17d450b3904b7528cbcd52fdb3
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Sep 9 23:21:45 2022 +0200

    fcl-css: started TCSSResolver

A	packages/fcl-css/src/fpcssresolver.pas
M	packages/fcl-css/tests/tccssparser.pp
A	packages/fcl-css/tests/tccssresolver.pp
M	packages/fcl-css/tests/testcss.lpi
M	packages/fcl-css/tests/testcss.lpr

******************************************************************************
commit 23098d049ddd5f65cef550a478a6734f579f0756
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Sep 9 23:18:55 2022 +0200

    fcl-css: fixed mode

M	packages/fcl-css/src/fpcssparser.pp

******************************************************************************
commit 72466cac467bbb1da954bd6a5891ed1ae1eacb34
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Sep 9 23:18:28 2022 +0200

    fcl-css: TCSSIntegerElement.GetAsString: append units

M	packages/fcl-css/src/fpcsstree.pp

******************************************************************************
commit 63a2395e2c552f5b983406f20b88dd364458bf09
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Sep 7 17:37:49 2022 +0100

      * x86: Made a check for BMI2 more explicit in the integer division code generator

M	compiler/x86/nx86mat.pas

******************************************************************************
commit 754a3749ce299d64757e1a9273f3a5e470f90772
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Sep 9 13:44:00 2022 +0200

    fcl-css: TCSSString

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssscanner.pp

******************************************************************************
commit d8d5087782a4813cccfccd505b3496b6e78174b8
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Sep 9 13:40:52 2022 +0200

    fcl-css: TCSSString

M	packages/fcl-css/src/fpcsstree.pp

******************************************************************************
commit de586e55c0a5376939753c86787645c84264b44c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 8 14:59:38 2022 +0200

    fcl-css: added GetCSSPath

M	packages/fcl-css/src/fpcsstree.pp

******************************************************************************
commit a40a3ee34dc8d30bf968d5becfc0295b53226025
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 8 14:36:04 2022 +0200

    fcl-csss: comment

M	packages/fcl-css/src/fpcssutils.pp

******************************************************************************
commit e244c7bbb2092db39637c83b34a428631f90a5a7
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 8 14:35:50 2022 +0200

    fcl-css: added TCSSElement.Parent

M	packages/fcl-css/src/fpcsstree.pp

******************************************************************************
commit bc100eda4d4bb811d63a265a4f13bcce76b64fce
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Sep 8 13:10:52 2022 +0200

    * Patch from Luca Olivetti to fix memleak in CORS support. Fixes issue #39886

M	packages/fcl-web/src/base/fphttp.pp

******************************************************************************
commit b6a7504665b4382c0f879dc8d82c0bd4ea4efa41
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 7 20:08:13 2022 +0200

    fcl-css: TCSSStringElement = Class(TCSSBaseStringElement)

M	packages/fcl-css/src/fpcsstree.pp

******************************************************************************
commit 3a11ee9a14ae2e43449db6acdfd9e1312cde68a5
Author: florian <florian@freepascal.org>
Date:   Tue Sep 6 21:42:10 2022 +0200

      * apply OptPass1Data to neg as well

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 4e0b9e85341bcac28c1f146cab638d29390edef8
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 5 22:39:18 2022 +0200

    fcl-css: keep exception stack traces, fixed parsing empty rule

M	packages/fcl-css/src/fpcssparser.pp

******************************************************************************
commit 051c5fc7b6f76bdc9f740718f1ff2a48281178cb
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 5 22:38:40 2022 +0200

    fcl-css: StringToCSSString: fixed advancing utf-8

M	packages/fcl-css/src/fpcsstree.pp

******************************************************************************
commit e01ab79823d0e31dfebe5dc9d5807ec04a4c63e1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 5 22:37:28 2022 +0200

    fcl-css: added test lpi, ignore lib, run from other dir, cleaned up

M	packages/fcl-css/tests/.gitignore
M	packages/fcl-css/tests/tccssparser.pp
M	packages/fcl-css/tests/tccssscanner.pp
A	packages/fcl-css/tests/testcss.lpi
M	packages/fcl-css/tests/testcss.lpr

******************************************************************************
commit f097d1ea353382bdab42490a2cc91d239de82e24
Author: florian <florian@freepascal.org>
Date:   Mon Sep 5 23:22:53 2022 +0200

      * use the bts instruction on x86 if possible, the reg,reg variant is better than a mov/shl/or sequence

M	compiler/x86/nx86add.pas

******************************************************************************
commit 645fe8a0c309f3c33297509b977ba76954edc05e
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Aug 28 14:18:36 2022 +0100

      * x86: EDX is now deallocated before MULX instructions in the "magic div" algorithm so it can be used as the destination

M	compiler/x86/nx86mat.pas

******************************************************************************
commit 4b1978026a3c63f1de96e8e310b4535e2b2d4197
Author: florian <florian@freepascal.org>
Date:   Sun Sep 4 20:37:43 2022 +0200

      * more use of USxtOp2Op

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 5cbb36f218ebb40c708c29b342ecbf43e7ffc6ba
Author: florian <florian@freepascal.org>
Date:   Sat Sep 3 19:12:00 2022 +0200

      * factor out TARMAsmOptimizer.USxtOp2Op

M	compiler/aarch64/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit ed7b0c5e68bd870faadb6fdb8b24969cb434b78b
Author: florian <florian@freepascal.org>
Date:   Sat Sep 3 19:03:48 2022 +0200

      * AArch64: extended SxtwMov2Data to CMP and CMN

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 4846bd78fb0e7f1199ed3d5f52b5099bb183ccc8
Author: florian <florian@freepascal.org>
Date:   Fri Sep 2 22:18:39 2022 +0200

      * building of arm compiler fixed

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit c1db756617aaa5ed0477ce48292b44e1bb997179
Author: florian <florian@freepascal.org>
Date:   Fri Sep 2 22:01:46 2022 +0200

      + ARM/Aarch64: *xt*Op2Op optimizations

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit cebb47fe9aa7298b8ff50bc2963266f78ce4830e
Author: florian <florian@freepascal.org>
Date:   Fri Sep 2 21:26:20 2022 +0200

      * factor out GetNextInstructionUsingReg calls in TARMAsmOptimizer.OptPass1*XT*

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 9061fba9ff2599442b5fd214efaa2789c34a261b
Author: florian <florian@freepascal.org>
Date:   Thu Sep 1 22:01:03 2022 +0200

      * refactoring
      * cosmetics

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit ad1c19864d20b4fb311f8e74ace511a58c40cdc8
Author: florian <florian@freepascal.org>
Date:   Thu Sep 1 21:44:01 2022 +0200

      * small refactoring

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 9adcc891cf8bff2098fd9360ae1b4d5d508213c1
Author: florian <florian@freepascal.org>
Date:   Thu Sep 1 21:35:28 2022 +0200

      + Aarch64: SxtwOp2Op optimization

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 29495c9ba57dce83d6753ed19e301855ea37f035
Author: florian <florian@freepascal.org>
Date:   Thu Sep 1 21:07:32 2022 +0200

      * refactor TCpuAsmOptimizer.OptPass1SXTW

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit a8b4d702e206df803a1aca1205283d98cf350f9b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 1 20:43:14 2022 +0200

    webidl: wasmjob: use const for class function cast

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit fd83fd5779e5f19373202c57209f648bae072640
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Aug 31 22:14:06 2022 +0200

    m68k-linux: try to be as ColdFire compatible in the startup code as possible, so explicitly use jsr, otherwise this might compile to a long bsr, that is not CF compatible (except cfv4)

M	rtl/linux/m68k/prt0.as

******************************************************************************
commit fd94b6db913cf9c38ee03a179ecc180ef52db711
Author: florian <florian@freepascal.org>
Date:   Wed Aug 31 20:43:49 2022 +0200

      * fix for TCpuAsmOptimizer.OptPass1SXTW

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 018c1e5dfdcf49b3e7d5e3035ddb089b3cfc2897
Author: florian <florian@freepascal.org>
Date:   Wed Aug 31 20:36:46 2022 +0200

      * cosmetics

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 8a0498622b029a9c1150347f45a2fa310099a2d0
Author: florian <florian@freepascal.org>
Date:   Wed Aug 31 20:33:59 2022 +0200

      + AArchz64: TCpuAsmOptimizer.OptPass1SXTW

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 2931b43000b5950b345e8f2aba87ec384e36b284
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu May 12 23:17:21 2022 +0100

      * New test for #39713

A	tests/webtbs/tw39713.pp

******************************************************************************
commit 798a4d76117736af4bafb662ecaacf66f0c45be4
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu May 12 09:00:41 2022 +0100

      * Fix to bug that would reset nf_write flag on tempref nodes in assignments

M	compiler/ninl.pas

******************************************************************************
commit 89dbfd0d990d3b3b193c51b9d699999b19816534
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Aug 31 19:14:52 2022 +0200

    pastojs: fixed search inc file

M	packages/pastojs/src/pas2jsfilecache.pp

******************************************************************************
commit 76aa9b1f8b23c74a174dc436b3865b7fa5c1d7af
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Aug 30 12:46:38 2022 +0200

    * Call CheckSession before handling request, but after handling CORS

M	packages/fcl-web/src/jsonrpc/webjsonrpc.pp

******************************************************************************
commit 92e5ede3478073799ed5df091349fb4b90635e92
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Aug 30 10:42:26 2022 +0200

    m68k: fixed the capabilities flags inverted logic issues committed in 7d23c2e9

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit 5a60eac0c816b8d4c107d5d0f751ce487f70df61
Author: florian <florian@freepascal.org>
Date:   Mon Aug 29 21:36:03 2022 +0200

      + MovzMovz2Movz optimization

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit a93942cd272eb048590c7e0ad3a373067853c4da
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Aug 28 21:39:10 2022 +0200

    * correctly convert a single WideChar to a PChar constant with the correct code page
    + added test

M	compiler/ngtcon.pas
A	tests/tbs/tb0696.pp

******************************************************************************
commit 889c164f787fb720314ec1090f725927a06eb69c
Author: florian <florian@freepascal.org>
Date:   Sun Aug 28 21:49:38 2022 +0200

      + new test

A	tests/tbf/tb0294.pp

******************************************************************************
commit 8e9a019fb75cb2098dcfd4ca9e730ab818755feb
Author: florian <florian@freepascal.org>
Date:   Sun Aug 28 21:44:33 2022 +0200

      * moved tests to proper location

R100	tests/tbf/tw39485.pp	tests/webtbf/tw39485.pp
R100	tests/tbf/tw39514.pp	tests/webtbf/tw39514.pp

******************************************************************************
commit 0440749562b0a7aae0055c4441985be4869403c8
Author: florian <florian@freepascal.org>
Date:   Sun Aug 28 21:01:09 2022 +0200

      + test for #39873

A	tests/webtbs/tw39873.pp

******************************************************************************
commit 7bcefd287d8109ed80190797e33bb5422395436a
Author: rich2014 <102933068+rich2014@users.noreply.github.com>
Date:   Sun Aug 21 17:14:34 2022 +0800

    FIX: DARWIN: aarch64: tstatfs.fstypename length error (#39873)

M	rtl/darwin/ptypes.inc

******************************************************************************
commit f9a4631adfa3ac07fb46811aaa847691e6de6be1
Author: florian <florian@freepascal.org>
Date:   Sat Aug 27 21:21:45 2022 +0200

      * don't switch a+/-/sqr(b) into an fma statement if b is too complex

M	compiler/nadd.pas

******************************************************************************
commit 3695bb5da509d5ce98ff59c2b0a76da714b61578
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Aug 27 19:19:42 2022 +0200

    powerpc-morphos: enable 'section' keyword support, and force the startup code to be in the .text section, to fix linking external objects with unnamed sections on this platform

M	compiler/systems.pas
M	rtl/morphos/si_prc.pp

******************************************************************************
commit f2a5bf17fc9192bcb7ba4c53800e6cbd726c382d
Author: florian <florian@freepascal.org>
Date:   Fri Aug 26 21:53:39 2022 +0200

      * improves node complexity calculations

M	compiler/nutils.pas

******************************************************************************
commit 3d9d80b007dfee801cf5ae9769283733c75d1963
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Aug 26 20:29:44 2022 +0200

    powerpc-amiga: fix build after ecbd5840

M	rtl/amiga/system.pp

******************************************************************************
commit 3f24bd38864d884b37aa4c8da025c51a437452cd
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Aug 19 11:52:02 2022 +0100

      * x86: Improved unsigned integer division for when BMI2 is available.

M	compiler/x86/nx86mat.pas

******************************************************************************
commit 079905654dbb98e0838a18e3d25a86b03889c012
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Aug 20 12:51:26 2022 +0100

      * x86: 64-bit integer division reciprocal algorithm uses IMUL
        with an immediate for the modulus version where possible

M	compiler/x86/nx86mat.pas

******************************************************************************
commit 8f2734e1f18b96d4b1e8399fc9fa7d4b322d04d8
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Aug 26 12:48:18 2022 +0200

    m68k: ignore the mk68kins binary

M	.gitignore

******************************************************************************
commit ecbd5840cef7db23b6ac4da18061dbead8a9dfa7
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Aug 26 12:46:58 2022 +0200

    m68k-amiga: print offsets during stacktraces, instead of absolute addresses, which are not really helpful in a single address space

M	rtl/amicommon/sysos.inc
M	rtl/amiga/system.pp

******************************************************************************
commit 832b566097608a1864baf649e03638603d610ce8
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Aug 26 12:42:21 2022 +0200

    m68k: add a CPU capability to signal the CPU has no 48 bit encodiing limits

M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit 6c67798272308aee107d13be45ca61f0a7e5c12a
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Aug 26 12:41:25 2022 +0200

    m68k: disable an A_MOVE in the spilling code in an effort to finally try to unbreak paszlib

M	compiler/m68k/rgcpu.pas

******************************************************************************
commit 7d23c2e9d0f569d3560f774da097ebb443c8c737
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Aug 26 01:19:12 2022 +0200

    m68k: use CPU capabilities at places instead of hardwiring cpu_coldfire

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit e5957b1ef0a3bcb7d6d04a24525f0a8634e26ed6
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Aug 26 18:05:13 2022 +0200

    * fix #39875: when a WideString constant is used to initialize a PChar the constant needs to be converted to the current code page
    + added test

M	compiler/ngtcon.pas
A	tests/webtbs/tw39875.pp

******************************************************************************
commit 5135b586cb692ca40e08114cc25cab5f709fda76
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Aug 26 17:42:22 2022 +0200

    * fix #39857: don't trash symbols marked as vo_is_internal
    + added test

M	compiler/ngenutil.pas
A	tests/webtbs/tw39857.pp

******************************************************************************
commit 8595c927a87f661700dce8391bfab95cddd730ba
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Aug 26 17:16:29 2022 +0200

    * fix #39876: correctly Read(Str) enum types which have a size smaller than 4 Byte
    + added tests

M	compiler/ninl.pas
M	rtl/inc/compproc.inc
M	rtl/inc/text.inc
A	tests/webtbs/tw39876a.pp
A	tests/webtbs/tw39876b.pp

******************************************************************************
commit 717d38f0601d506e41b82c222c429c6f98362c55
Author: florian <florian@freepascal.org>
Date:   Thu Aug 25 20:40:05 2022 +0200

      * prettier casing of Str* functions, resolves #39879

M	rtl/objpas/sysutils/syspchh.inc

******************************************************************************
commit 73185e89e1e50c0c39f9d08607465c35bb364d5d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Aug 25 16:01:12 2022 +0200

    webidl: pass variant args as const

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/tests/tcwebidl2wasmjob.pas

******************************************************************************
commit 922210eaa8c6f96a29a909926aa2decad31286d0
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Aug 25 15:47:12 2022 +0200

    webidl: promise: add comment of returntype

M	packages/webidl/src/webidltowasmjob.pp
M	packages/webidl/tests/tcwebidl2wasmjob.pas

******************************************************************************
commit 7f4841c76d9e3b3574af03afafa583a6282393de
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Aug 25 15:35:33 2022 +0200

    webidl: Promise as IJSPromise

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp
M	packages/webidl/tests/tcwebidl2wasmjob.pas

******************************************************************************
commit 0acab89b0b9b7be8451c839a814f70e0a89f91bf
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Aug 25 12:11:39 2022 +0200

    webidl: test interface function setEventHandler

M	packages/webidl/src/webidltowasmjob.pp
M	packages/webidl/tests/tcwebidl2wasmjob.pas

******************************************************************************
commit ad64eb7af84c366a4b197d981dbec90ba06e22de
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Aug 25 11:56:30 2022 +0200

    webidl: test interface attribute boolean

M	packages/webidl/tests/tcwebidl2wasmjob.pas

******************************************************************************
commit 0894b5fd029d8e5a2fba8941d4b8e20466ef0613
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Aug 25 11:43:11 2022 +0200

    webidl: added typedef test for wasmjob

A	packages/webidl/tests/tcwebidl2wasmjob.pas
M	packages/webidl/tests/tcwebidldefs.pp
M	packages/webidl/tests/testidl.lpi
M	packages/webidl/tests/testidl.pas

******************************************************************************
commit 90df440df3f89ef3da3953affa88e13130db30d6
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Aug 25 11:42:17 2022 +0200

    webidl: INputStream, OutputStream, set default unitname, wasmjob: variants

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit bdc4297811d2fca79a7c2c02e88fd31b1088ba46
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Aug 25 11:41:20 2022 +0200

    fcl-base: comment

M	packages/fcl-base/src/pascodegen.pp

******************************************************************************
commit 85c7368759f5fb53aa23e03c8cc27c2deb424b62
Author: florian <florian@freepascal.org>
Date:   Wed Aug 24 21:15:18 2022 +0200

      * handle also simulated flags in tmipselnotnode.second_boolean, resolves #39877

M	compiler/mips/ncpumat.pas
A	tests/webtbs/tw39877.pp

******************************************************************************
commit 27f8f077d53b0bcea6111023f23c40b0fa54bcc3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 24 14:13:17 2022 +0200

    * Patch from Luxa Olivetti, fix for issue #33737

M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp

******************************************************************************
commit f8bf34303c62190b66f0cacd081a3c0328c13e99
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 24 09:54:10 2022 +0200

    * Fix from Kevin Jesshope to fix concurrent access in case of CGI

M	packages/fcl-web/src/base/fpmimetypes.pp

******************************************************************************
commit 87ea9a9e0f5cfbaaa4112fb07f728326214d459c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 24 09:52:40 2022 +0200

    * Fix from Kevin Jesshope to correct filename detection in CGI app

M	packages/fcl-web/src/base/fpwebfile.pp

******************************************************************************
commit 2670eb1ce74564d64524a0f5abb8b685894b34aa
Author: florian <florian@freepascal.org>
Date:   Tue Aug 23 21:27:44 2022 +0200

      * improved test as proposed by Rika

M	tests/webtbs/tw39722.pp

******************************************************************************
commit 4f7dffadbbc11c11a7fe4d790a562d3e78e4445e
Author: florian <florian@freepascal.org>
Date:   Mon Aug 22 21:33:52 2022 +0200

      * extended test

M	tests/webtbs/tw39722.pp

******************************************************************************
commit 1d95e6087a37fb9ef776e4322d351035a63ce909
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Aug 22 19:49:05 2022 +0200

    fcl-web: fixed TCustomWebsocketClient.FreeConnectionObjects

M	packages/fcl-web/src/websocket/fpwebsocketclient.pp

******************************************************************************
commit 4c9f2b8b25958fb80887205ff74b3df3e4c1c056
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Aug 22 19:29:22 2022 +0200

    fcl-web: TCustomWSServer.OnDisconnect: pass TCustomWebsocketClient as Sender instead of connection

M	packages/fcl-web/src/websocket/fpcustwsserver.pp
M	packages/fcl-web/src/websocket/fpwebsocketclient.pp

******************************************************************************
commit 8ebced609c453363e0168b1d3b6baff393817896
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Aug 22 19:14:03 2022 +0200

    fcl-web: comment

M	packages/fcl-web/src/websocket/fpwebsocketserver.pp

******************************************************************************
commit 87857252a46b212ac383cdd91ce6a028ed9defb1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Aug 22 19:12:04 2022 +0200

    fcl-web: TCustomWSServer.RemoveConnection: call DoDisconnect on disconnect

M	packages/fcl-web/src/websocket/fpcustwsserver.pp

******************************************************************************
commit 0b24d5f92e1995fc6afe2dd72a23c8ace29bebce
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Aug 22 19:08:38 2022 +0200

    fcl-web: comments

M	packages/fcl-web/src/websocket/fpcustwsserver.pp

******************************************************************************
commit 4503070f7f140a7696fd3b9ac445865b90179d84
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Aug 22 18:59:30 2022 +0200

    fcl-web: clean up

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 5af087cfc3ad9a328c3a709e7857fcd27471f359
Author: florian <florian@freepascal.org>
Date:   Sun Aug 21 23:03:02 2022 +0200

      * experimental test for #39722, no sure if it will work this way on all platforms

A	tests/webtbs/tw39722.pp

******************************************************************************
commit 83b455551151c7c808bc5c6bd9eafddb56e264ad
Author: marcoonthegit <marco@freepascal.org>
Date:   Sun Aug 21 18:43:34 2022 +0200

    * a few more simple handlers get custom variant intercepts. Also part of #39815

M	packages/rtl-objpas/src/inc/variants.pp

******************************************************************************
commit c67004d92910ec162f39d76dfb2141dafa5ecdc6
Author: marcoonthegit <marco@freepascal.org>
Date:   Sat Aug 20 22:41:36 2022 +0200

    * custom variant support for integer types, first part of #39815

M	packages/rtl-objpas/src/inc/variants.pp

******************************************************************************
commit d3d4de78186a2aaec323b49c8c8dc5dd677a8f42
Author: florian <florian@freepascal.org>
Date:   Sat Aug 20 18:11:24 2022 +0200

      * test for #39834, previous commits resolve #39834

A	tests/webtbs/tw39834.pp

******************************************************************************
commit 131c1e1b938c14cd5a3892d92d20f2950b13cc3a
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Aug 18 07:31:37 2022 +0100

      * Converted assertion into an internal error

M	compiler/cgutils.pas

******************************************************************************
commit 32f4931fd24c18db383d9ce156dec1a65c83d98a
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Aug 18 07:30:58 2022 +0100

      * x86: Fixed bug where the magic number of an integer division wasn't fully sign-extended, causing incorrect logic within the compiler.

M	compiler/cgutils.pas

******************************************************************************
commit 9ad1995c6d139d2692703accc23a71f4db6ea63b
Author: marcoonthegit <marco@freepascal.org>
Date:   Sat Aug 20 16:16:33 2022 +0200

    * Patch by Rika to have a char specific  TStringHelper.replace. Probably faster with low number of char matches. closes #39707
     * also raise rangeerror for startindex<0 in previous committed join() patch.

M	rtl/objpas/sysutils/syshelp.inc

******************************************************************************
commit d6e8375e64516fd5e2310c8baf4efdd4420c6e36
Author: florian <florian@freepascal.org>
Date:   Fri Aug 19 22:28:08 2022 +0200

      * apply default replacements also to defines set by -d:
          - -d with $ is not possible so this should not break any existing compiler call
          - this fixes also the strange error message "Error: malformed parameter: -dlinux"
            when e.g. -d$FPCOS is passed as the default replacements are applied to the
            error message

M	compiler/options.pas

******************************************************************************
commit 84de6a00491c1f20c7fc988d01197f8ae012af62
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Aug 19 11:59:50 2022 +0200

    Revert "  * patch by Rika: This speeds up DefaultReplacements by a lot (order of magnitude or so), resolves #39722"
    
    This reverts commit a2d7503f714ee8ff856efd8d17548fbab928f0ec.
    
    Reason: breaks replacements in config file parsing.

M	compiler/globals.pas

******************************************************************************
commit a2d7503f714ee8ff856efd8d17548fbab928f0ec
Author: florian <florian@freepascal.org>
Date:   Thu Aug 18 21:22:16 2022 +0200

      * patch by Rika: This speeds up DefaultReplacements by a lot (order of magnitude or so), resolves #39722

M	compiler/globals.pas

******************************************************************************
commit d25daba08a0fc72cc646a0cf79e60695cb76397f
Author: marcoonthegit <marco@freepascal.org>
Date:   Thu Aug 18 13:58:40 2022 +0200

    * Patch from Alexey T.  closes #39705
     * don't use copy in helper.indexof(). Watch those 0 based indexes.

M	rtl/objpas/sysutils/syshelp.inc

******************************************************************************
commit 9e14dee1c35bd3131a99de5fcd613afeee9757f7
Author: florian <florian@freepascal.org>
Date:   Wed Aug 17 20:56:15 2022 +0200

      * fixed Math.Tanh as proposed by Paolo Valle, resolves #39867

M	rtl/objpas/math.pp
A	tests/webtbs/tw39867.pp

******************************************************************************
commit 533cd8292234c3ee350b3e9fe147b579b38fedd9
Author: marcoonthegit <marco@freepascal.org>
Date:   Wed Aug 17 18:37:31 2022 +0200

    * applied patch from Alexey for closes #39704
     * reviewed checks at start of function to match Delphi in rangecheck errors and other exits
     * test for the above.

M	rtl/objpas/sysutils/syshelp.inc
A	tests/test/units/sysutils/tstringhelperjoin.pp

******************************************************************************
commit 761f65cef8dbb17867efcb380db2b28d1454e701
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Tue Aug 16 22:41:25 2022 +0200

    do not publish enums with jumps - keep error on static properties

M	compiler/pdecvar.pas

******************************************************************************
commit 55629aeb19b0e7cf968d33c9fc0f465baba8f82d
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Tue Aug 16 20:47:44 2022 +0200

    do not publish enums with jumps

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecvar.pas
M	compiler/symdef.pas
M	compiler/symtype.pas
A	tests/webtbf/tw39866.pp
A	tests/webtbs/tw39866.pp

******************************************************************************
commit 44dca29926bd8364d5b013cbc6820fde67cf3e75
Author: florian <florian@freepascal.org>
Date:   Tue Aug 16 20:26:01 2022 +0200

      + some debug messages added
      * cosmetics

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 85230758e453f88ee2b89665f774994db443d968
Author: florian <florian@freepascal.org>
Date:   Mon Aug 15 23:16:55 2022 +0200

      * improved FstpFld2<Nop> optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit bb4d3fda25e858b0f9153a0861fd8336c6007ef2
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Aug 14 04:11:37 2022 +0100

      * Fixed internal error number clash (2021102610)

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6c98a632850715f63fa0c83473dd23d977ca8469
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Aug 15 16:56:06 2022 +0200

    fcl-passrc: resolver: allow for for-loop var only local vars

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit cc66eb27ab549216e2b1e99026f0beb31e5d0102
Author: florian <florian@freepascal.org>
Date:   Sun Aug 14 22:25:22 2022 +0200

      * patch by Rika: More numerical stability for Math, resolves #39863

M	rtl/objpas/math.pp
A	tests/test/units/math/tsum1.pp

******************************************************************************
commit a135940cf5184c7af0b2ca1a7c72f58a45dc4f3c
Author: ccrause <christo.crause@gmail.com>
Date:   Sun Aug 14 19:49:26 2022 +0200

    Mark .noinit section with nobits flag.

M	compiler/aasmtai.pas

******************************************************************************
commit be4a317cb463f031e91527ca4e74ce03c7e3d661
Author: florian <florian@freepascal.org>
Date:   Sat Aug 13 22:30:55 2022 +0200

      * proper naming

M	rtl/darwin/aarch64/sig_cpu.inc
M	rtl/darwin/aarch64/sighnd.inc

******************************************************************************
commit 8028a769f408d54a475bab50ec467531e547c13f
Author: florian <florian@freepascal.org>
Date:   Fri Aug 12 22:11:39 2022 +0200

      * ensure that the executable path used in the test is absolute

M	tests/test/units/sysutils/tfileage.pp

******************************************************************************
commit 5e7330448dfdf3974ebf638dc8837c87bf0c2e5f
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Aug 12 17:43:57 2022 +0200

    * fix #39858: correctly keep track of symbols that need to be captured into the capturer
    + added test

M	compiler/procdefutil.pas
A	tests/webtbs/tw39858.pp

******************************************************************************
commit 260368ea557daad41a5395c9d08bf1f2eadfa2fe
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Aug 12 17:43:15 2022 +0200

    * the clause for converting the captured symbols of a nested function must not be entered by an anonymous function

M	compiler/procdefutil.pas

******************************************************************************
commit 6407b5f4db68d24454b0fbaaad864727b5c61352
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Aug 12 17:19:32 2022 +0200

    * try to specialize a specialize node if it's followed by a < in a non-code section so that we might get better error messages

M	compiler/pexpr.pas

******************************************************************************
commit 33ef88858ddb65eedff41e3a1108cd6baf563917
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Aug 12 17:01:22 2022 +0200

    * extract generating the specialization from a specialize node into a separate function

M	compiler/pexpr.pas

******************************************************************************
commit abb7aebaba5721512c3d16857c78781c60259e66
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Aug 12 14:47:13 2022 +0200

    * fix typo in comment

M	compiler/pexpr.pas

******************************************************************************
commit 35958a9b6b927d8ce9b1d0002ba942e14c6b8422
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Aug 12 14:45:12 2022 +0200

    * fix #39860: even if the block type is not correct for the specialization of a generic routine continue to specialize it to not trigger e.g. an internal error
    + added tests

M	compiler/pexpr.pas
A	tests/webtbf/tw39860a.pp
A	tests/webtbf/tw39860b.pp

******************************************************************************
commit 306559667c7c569f3da35d2d3d2d692b53a5c3fd
Author: florian <florian@freepascal.org>
Date:   Thu Aug 11 22:32:45 2022 +0200

      * patch by Rika for ArcTan2 to reduce code size

M	rtl/objpas/math.pp

******************************************************************************
commit f18d6f1c852579643b1d7c07d991242d3031c436
Author: florian <florian@freepascal.org>
Date:   Wed Aug 10 18:22:26 2022 +0200

      * fixed and improved generic ArcTan2 implementation by Paolo Valle, resolves #39861

M	rtl/objpas/math.pp

******************************************************************************
commit 5afd809e88788ea53097471a7ee783826475d15a
Author: florian <florian@freepascal.org>
Date:   Mon Aug 8 23:14:19 2022 +0200

      + handle LOC_FLAGS in thlcgobj.location_force_mem, resolves #39292

M	compiler/hlcgobj.pas
A	tests/webtbs/tw39292.pp

******************************************************************************
commit a08ac618a4ca9c5ace5af9c3b3253f11e6aa297c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Aug 8 16:11:09 2022 +0200

    * Remove dependency on fpopenssl unit

M	packages/fcl-web/src/websocket/fpwebsocketclient.pp

******************************************************************************
commit d7801027c4abb7e1a53155dba2026a8b90789791
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Aug 8 14:43:12 2022 +0200

    * Use default handler for SSL sockets

M	packages/fcl-web/src/websocket/fpwebsocketclient.pp

******************************************************************************
commit a5486e04cd7dac0acdf4efe24129736650154064
Author: Yuri Serebrennikov <yus.serebrennikov@gmail.com>
Date:   Sun Aug 7 22:58:18 2022 +0300

    Added SSL support for Websocket client.

M	packages/fcl-web/src/websocket/fpwebsocketclient.pp

******************************************************************************
commit a45ba3add5f08399745e8f6f4e4eff58a63c5853
Author: florian <florian@freepascal.org>
Date:   Fri Aug 5 23:02:05 2022 +0200

      * x86-64: math helpers do not need a stackframe

M	rtl/x86_64/mathu.inc

******************************************************************************
commit aff2a424312993642fcaeeb34814a43ac6973dcd
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Jun 30 12:12:46 2022 +0100

    * x86: Shrink TEST instruction on MovAndTest2Test
      where possible.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d7f1e56191970344b538f551391f36907e9fb048
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Jun 27 00:56:35 2022 +0100

      * x86: MovAndTest2Test optimisation now accepts a smaller sub-regiser on the TEST instruction

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a401898139b7e50d9b6e872de949b56e4fe0e24d
Author: florian <florian@freepascal.org>
Date:   Thu Aug 4 23:00:44 2022 +0200

      * spelling fixes

M	compiler/dbgstabs.pas
M	compiler/jvm/njvmcal.pas
M	compiler/ncgld.pas
M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pexpr.pas
M	compiler/x86_64/hlcgcpu.pas

******************************************************************************
commit ceab50cafbfe9b4b8cce092994fd1bf888e9c476
Author: florian <florian@freepascal.org>
Date:   Wed Aug 3 22:42:25 2022 +0200

      * use simpler FMOV instead of UMOV

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 7704fe9319a6e7b251022149216d04993b4f94a9
Author: Benito van der Zander <benito@benibela.de>
Date:   Tue Jun 7 19:44:31 2022 +0000

    fix stack trace crash, see #39492

M	rtl/aarch64/aarch64.inc

******************************************************************************
commit dd13b4608886c540135bf83d2992107bc03fdeb0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Aug 3 23:11:44 2022 +0300

    * use WasmCustomSectionName to obtain the debug section names in MaybeWriteDebugSection and MaybeAddDebugSectionToSymbolTable

M	compiler/ogwasm.pas

******************************************************************************
commit efd92fba01224190b6b225f487ef3735aa9c58a0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Aug 3 23:04:53 2022 +0300

    + introduced TWasmCustomDebugSectionType

M	compiler/ogwasm.pas
M	compiler/wasmbase.pas

******************************************************************************
commit cc260eb7b2549e88bb6c2aa0480197ee5eaf5016
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Aug 3 22:02:19 2022 +0300

    * wasm32 obj writer: use Data.ObjSectionList.Find to find the debug section by name in MaybeWriteDebugSection

M	compiler/ogwasm.pas

******************************************************************************
commit e9594227538ce6dc537f25cf7082b5853034282b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Aug 3 20:56:44 2022 +0300

    * wasm32 obj writer: do the relocations before writing the code, data and debug sections

M	compiler/ogwasm.pas

******************************************************************************
commit edf5fce7e33aa26cebca17878b42971c8da91475
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Aug 3 20:51:58 2022 +0300

    * wasm32 obj writer: determine the section number for the datacount, code, data and debug sections ahead of time (before writing the sections)

M	compiler/ogwasm.pas

******************************************************************************
commit b5a71086e840fd6080d2d376ed43d31918ed1d0a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Aug 3 20:44:11 2022 +0300

    * wasm32 obj writer: moved the writing of the data sections ahead

M	compiler/ogwasm.pas

******************************************************************************
commit 2a196899bcac210138cc267bb47475075aa07cb0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Aug 3 20:30:09 2022 +0300

    * wasm32 obj writer: writing the debug section symbols to the symbol table moved before the writing of the debug sections themselves

M	compiler/ogwasm.pas

******************************************************************************
commit 89605f47c23776c423698a5b4bc2493060e3c13c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jul 31 07:07:50 2022 +0100

      * x86: Correct fileinfo for PostPeepholeOptCall

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f7dcb68c5a0173048e3a1fb2cdd1a2c5c0f3b761
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jul 31 07:06:21 2022 +0100

      * x86: Correct fileinfo for OptPass2MOV

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6eede0f71f0fa802f18aeb6217d3f82b9d5834a1
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jul 31 07:05:33 2022 +0100

      * x86: Correct fileinfo and some refactoring for OptPass1CMP

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e9b394a5507b35cff1ea969ef7991ee0fe2c6d45
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jul 31 06:59:24 2022 +0100

      * x86: Correct fileinfo and some refactoring for OptPass1SHLSAL

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 0c62ac9f1624faffca6d6505b6564e8b9969d3c0
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jul 31 06:25:21 2022 +0100

      * x86: Correct fileinfo and some refactoring for OptPass1LEA

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f19b390c685209851873339a9c9f9756b0bf81c1
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jul 31 06:16:32 2022 +0100

      * x86: Correct fileinfo and some refactoring for imul2leashl optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 59811090e1269d403f67bbf74d6288d4103eebc9
Author: florian <florian@freepascal.org>
Date:   Mon Aug 1 22:58:57 2022 +0200

      * captured variables cannot be in registers typically

M	compiler/procdefutil.pas

******************************************************************************
commit d13a8671274398f7bc01e2a9dfbc9fd4b2bee4b6
Author: kamischi <karl-michael.schindler@web.de>
Date:   Sun Jul 31 23:54:25 2022 +0200

    Update reference

M	compiler/msg/errord.msg
M	compiler/msg/errordu.msg

******************************************************************************
commit dd5c2ea6e92ec1af35393ffc8ab83cf81fb80eba
Author: kamischi <karl-michael.schindler@web.de>
Date:   Sun Jul 31 23:46:41 2022 +0200

    Update errord*.msg
    
    new messages and other changes in errore.msg have been translated or ported to the German message files.

M	compiler/msg/errord.msg
M	compiler/msg/errordu.msg

******************************************************************************
commit 899981f318cdafa2e2e4764f0bc5a26889091ebb
Author: florian <florian@freepascal.org>
Date:   Sun Jul 31 22:10:00 2022 +0200

      + forgotten comments for new optimizations

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f5d76c55932f8e5ca2c267fb9b0a1a6abc3936ce
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Jul 30 18:18:10 2022 +0100

      * x86: Reference count fix in CMP/Jcc and TEST/Jcc redirect optimisations

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 8ba76f7d0a71e5d27ec63a7d81983a649913b8c9
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Jul 30 18:49:21 2022 +0100

      * New test to catch i39851

A	tests/webtbs/tw39851.pp

******************************************************************************
commit b1e65ca49fca83bd215b4c8e8427560bf9083cdf
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Jul 30 18:16:12 2022 +0100

      * x86: Fixed bug where redirected jump has its condition changed (fixes i39851)

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 99074a557895249d03538e5df9861fcd6ae9a6f0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Jul 31 21:09:09 2022 +0300

    * .lpi version update

M	compiler/ppcwasm32.lpi

******************************************************************************
commit 8c9a07a3e816372a5ae2d46e0dd9d822d56e6e6b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Jul 31 20:12:11 2022 +0300

    + added test for wasmglobals, where the globals are declared in the implementation section of a unit

A	tests/test/wasm/twasmglobal2.pp
A	tests/test/wasm/uwasmglobal2.pp

******************************************************************************
commit 6d23d22d5000c677a8c59a79a9bfbfd8b9c20dfd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Jul 31 20:04:43 2022 +0300

    + added wasm dir to test dirs

M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 6d3da836113fb65085d437d4b7f932a1d049cfd3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Jul 31 19:54:34 2022 +0300

    + added test for wasm globals

A	tests/test/wasm/twasmglobal1.pp

******************************************************************************
commit 65b442567218f772939978849f85c497f96c4dc7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Jul 31 19:28:09 2022 +0300

    + support declaring wasm globals in the WebAssembly internal object writer

M	compiler/ogwasm.pas

******************************************************************************
commit 77e350b6b8dc61de3cba519b0f4f79b25eea9f49
Author: florian <florian@freepascal.org>
Date:   Sat Jul 30 22:09:17 2022 +0200

      + VPXor2VPXor optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 06cbb6edc7f1c0964999224e64fdb21238ed2bcd
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon May 16 06:28:23 2022 +0100

      * a64: Updated debug messages to follow standard.

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit d6ff4ed9673ab5a0cd0ec8fd4c1df23429755d17
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun May 15 20:29:55 2022 +0100

      * arm/a64: New sbfx/ubfx -> mov optimisation

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 637645b6d6d534f65d56a5b6a8582507f8f89941
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun May 15 18:16:39 2022 +0100

      * a64: New movz reg,#0 -> mov reg,xzr (or wzr) optimisation

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 6c47f8f4d79d3cd571e5d6526dec0791d2b2c8f8
Author: florian <florian@freepascal.org>
Date:   Fri Jul 29 21:46:07 2022 +0200

      * do not warn on anonymous functions without captured variables about being not used, resolves #39853

M	compiler/pdecsub.pas
A	tests/webtbs/tw39853.pp

******************************************************************************
commit c122e16bebcaa76a8e1740d7404c1eaf56082a9f
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Jul 29 17:34:55 2022 +0200

    * fix #39849: it's an error when the file (or string) parameter of a Read*/Write* is followed by a ":"
    + added test

M	compiler/ninl.pas
A	tests/webtbf/tw39849.pp

******************************************************************************
commit e1312deafeb565c9cb5fea486e46273accc88d26
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jul 29 13:24:22 2022 +0200

    pas2js: fixed array push records/sets

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit e45b31ced5358e8b6fbf62fcffebf3122c394637
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Jul 29 03:36:30 2022 +0200

    * Set buffer size

M	packages/fcl-db/src/dbase/dbf.pas
M	packages/fcl-db/src/export/fpdbfexport.pp

******************************************************************************
commit 2f355fe96b895ebd47c8817d450bd60ea1473d6e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Jul 29 03:17:23 2022 +0200

    * Allow descendentsto set default buffer size

M	packages/fcl-db/src/base/dataset.inc
M	packages/fcl-db/src/base/db.pas

******************************************************************************
commit 3a07aadba2db6140876ab58ab55ec7b0a6cc6d93
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Jul 28 22:46:41 2022 +0200

    llvm: llvm/clang 15.0 support

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 815b17a43b059c1aba2023ce866200f6cf887f2d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Jul 28 22:46:11 2022 +0200

    llvm: correctly write aliases when using opaque pointers

M	compiler/llvm/agllvm.pas

******************************************************************************
commit d2c2ddb337c3bea49c1fb5b6ad7408fa128b2d53
Author: florian <florian@freepascal.org>
Date:   Thu Jul 28 22:42:42 2022 +0200

      + VPXorVMov2Mov optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6c065e69fd17b5fb5fd7384f4ca97317cafb11dd
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Jul 28 00:46:25 2022 +0100

      * x86: Corrected some incorrect uses of RemoveCurrentP in OptPass1_V_MOVAP.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7232e3ac442427c39fafa9dd4479e152bf73de50
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 28 02:23:45 2022 +0200

    webidl: wasmjob: nicer callback code

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit becbd5411cce8e6aa23bbf206ef52b25e6224eda
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jul 27 23:56:55 2022 +0200

    webidl: wasmjob: fixed idlinterface arg

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit c9947b4ee6865af658ac101c8f6cb0b3370c6dcd
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jul 27 23:42:01 2022 +0200

    webidl: added option --globals

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp
M	utils/pas2js/webidl2pas.pp

******************************************************************************
commit d36d9c7deee6449511feda19dfcd7b5918bc3167
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jul 27 23:41:35 2022 +0200

    fcl-base: typo

M	packages/fcl-base/src/pascodegen.pp

******************************************************************************
commit de650dea55203e30699f786b59cc811498c9671d
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Jul 27 16:26:07 2022 +0100

      * x86: Fixed minor logic bug in aoc_ForceNewIteration check where UpdateUsedRegs was called at the wrong time.

M	compiler/i386/aoptcpu.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 5bfbc145c6d3a6b7744e2ff0c478274e6b6e0e99
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jul 27 09:03:32 2022 +0200

    webidl: classname as keyword

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit 6007752ff3bc2b59bf0292448345880ab91828ea
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jul 27 08:20:39 2022 +0200

    webidl: property get array

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 92944e7b5e942352aab44e1123071a791119b982
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jul 27 00:13:37 2022 +0200

    webidl: nicer local var names

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltopas2js.pp

******************************************************************************
commit 0ea798d8625b0ec1f1084b3bd48231360b19d481
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jul 27 00:10:37 2022 +0200

    webidl: wasmjob: fixed multi used functions

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltopas2js.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 4809c1fa64204fe868eef38d0196ff24c8371813
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jul 27 00:01:46 2022 +0200

    webidl: wasmjob: fixed multi used function

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltopas2js.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 9dabf6e3e4944204eb9ce1c4346a8d8265e0e7a6
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jul 26 21:31:12 2022 +0200

    webidl: property enum

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 3d6c53ee74d148bba2a3da49d76792037b78eae7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jul 26 21:50:44 2022 +0200

    parentfpstruct: explicitly trash before initialising
    
    It's an internal sym, but it contains user data. Together with the previous
    commit resolves #39845

M	compiler/ngenutil.pas
M	compiler/psub.pas
A	tests/webtbs/tw39845.pp

******************************************************************************
commit 5012e45d0482034268a530ef31a3e33c2360e1d2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jul 26 21:50:03 2022 +0200

    variable trashing: don't trash internal syms
    
    Since they're managed by the code generator, they should always be valid.

M	compiler/ngenutil.pas

******************************************************************************
commit 0e9ea11859fca6ff4a40536c22f8c25483344252
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Jul 26 15:44:27 2022 +0100

      * x86: Bug fix where a tai type was assumed and could sometimes trigger an invalid typecast under -CriotR

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b47588b088a00db62b3384453f3c0fd76b26144b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jul 26 20:54:00 2022 +0200

    webidl: skip proc type property

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit b3e7d867cf9474edcad7c961e180146f7e533950
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jul 26 20:48:56 2022 +0200

    webidl: fixed property

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 2c6b82417692b8884f2f24d5e6d96b796fba4790
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jul 26 20:31:28 2022 +0200

    webidl: fixed job call

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 1072e68498e545bb69879614e02d3bda335e4cba
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jul 26 20:27:14 2022 +0200

    webidl: GetOverloads: resolve typedefs

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 3c4e4187aa5d46f14596bd3e3ac08a279eb0de40
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jul 26 15:31:33 2022 +0200

    webidl: wasmjob: Cast as class function, default ancestor IJSObject, methods

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 2cbbcdf096c9554ab1b2930bcbcc5625000a59bc
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 25 19:26:10 2022 +0200

    webidl: wasmjob: write implicit arrays as IJSArray

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 6bc34710c8c24948fdae13761225cb0d3fd7b1d6
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 25 19:17:07 2022 +0200

    webidl: wasmjob: write forward interface definitions

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit f32ef29253f6f347c568adf4686de4e10893bc6d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Jul 26 02:07:05 2022 +0300

    * WebAssembly high level code generator: use the global.get and global.set
      instructions to access references to symbols of type AT_WASM_GLOBAL

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 7cefe8a822589c09be7d80381a6ef9c4cc32e3aa
Author: Robert Roland <rob.roland@gmail.com>
Date:   Sat Jul 9 14:22:17 2022 -0700

    Adding AArch64 CurrentEL register
    
    CurrentEL is used to determine the current "exception level" in the CPU.
    
    It has four possible results:
    
    0b00 - EL0 - Application
    0b01 - EL1 - Rich OS
    0b10 - EL2 - Hypervisor
    0b11 - EL3 - Firmware
    
    https://developer.arm.com/documentation/ddi0595/2020-12/AArch64-Registers/CurrentEL--Current-Exception-Level
    https://developer.arm.com/documentation/102412/0100/Privilege-and-Exception-levels

M	compiler/aarch64/a64reg.dat
M	compiler/aarch64/ra64con.inc
M	compiler/aarch64/ra64dwa.inc
M	compiler/aarch64/ra64nor.inc
M	compiler/aarch64/ra64num.inc
M	compiler/aarch64/ra64rni.inc
M	compiler/aarch64/ra64sri.inc
M	compiler/aarch64/ra64sta.inc
M	compiler/aarch64/ra64std.inc
M	compiler/aarch64/ra64sup.inc

******************************************************************************
commit 9b1d5ef92a2abfe43fe2df53ca8f054c465f9f19
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 25 18:49:45 2022 +0200

    webidl: nicer error messages, fixed function returning Object

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit f0eccda1ab3e83086bc9835edd4f8f6bf658d661
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 25 18:26:59 2022 +0200

    webidl: nicer error pos

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit db6e1ef1ccc4b729a7b67c2b6406172497b9f499
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 25 18:03:01 2022 +0200

    webidl: parse enforcerange

M	packages/webidl/src/webidlparser.pp

******************************************************************************
commit 35cae0bd3d8abeb67f8da64a1de3ceba33a814c2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 25 17:58:32 2022 +0200

    webidl: parse enforcerange

M	packages/webidl/src/webidlparser.pp

******************************************************************************
commit d3220b46d220b876a59ccd297dbd14b0f9d1f6c5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 25 17:48:58 2022 +0200

    webidl: parse undefined

M	packages/webidl/src/webidldefs.pp
M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 6ba6658aec7e3beb8a908807a91fec0eb3f7d602
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 25 17:16:47 2022 +0200

    webidl: wasmjob: resolve function return types, use IJSArray for arrays

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit c6af4df9b91312d1feac6863b934ef14794b31a4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Jul 25 05:35:00 2022 +0300

    + declare user-defined wasm globals in the llvm-mc assembly output

M	compiler/aggas.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 6e1d7b4e57e0317e53947c0f33203c28325c0489
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Jul 25 02:44:51 2022 +0300

    + introduced methods for converting WebAssembly global var types from a Pascal type to TWasmBasicType

M	compiler/wasm32/symcpu.pas

******************************************************************************
commit 7bd1ac4507647dcc1b07f0ee09acd8676f0960c5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Jul 25 01:57:13 2022 +0300

    * fixed comment

M	compiler/wasm32/cpubase.pas

******************************************************************************
commit 90b8b9d121a3d60c65022f3456d896f68a472795
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Jul 25 01:17:28 2022 +0300

    * don't reserve bss data for wasm global vars

M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 8d441929a8c725273d101a0cc3138ce59f9c59e8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Jul 24 19:04:28 2022 +0300

    + introduced tcpustaticvarsym.is_wasm_global

M	compiler/wasm32/symcpu.pas

******************************************************************************
commit 55482bd87644bcc0d813b90b4c67187695d8ff55
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Jul 24 17:50:30 2022 +0300

    + allow the 'section' directive for the WebAssembly platforms

M	compiler/systems.pas

******************************************************************************
commit fcae0e311db59f8c545d7b2f37f94a343c8ac206
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jul 10 17:47:51 2022 +0100

      x86: Direct assignment instructions are no longer checked prior to calling CheckJumpMovTransferOpt, instead relying on the callee to do the heavy lifting (also fixed -Os bug)

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2ed4071c1e02e8374aa8ca5235df314eed3dc7a8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 24 15:00:49 2022 +0200

    ARM: fixed compiler compilation after 75c16b612660

M	compiler/arm/tripletcpu.pas

******************************************************************************
commit 425707e936772a859aa4e0208fd671397f0b2808
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 24 14:46:11 2022 +0200

    Fix compilation with -Oodfa

M	compiler/systems/t_linux.pas

******************************************************************************
commit 7ef33cf4b2857437662c9aaf505d824e3fdca023
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 24 14:13:59 2022 +0200

    llvm: generalised sanitizer linking support
    
    Also enabled automatic detection of sanitizer library + setting rpath to Linux

M	compiler/link.pas
M	compiler/systems/t_darwin.pas
M	compiler/systems/t_linux.pas

******************************************************************************
commit 75c16b61266043673223fdfed30c543e353d4b6c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 24 14:07:41 2022 +0200

    llvm: support for getting the llvm rtl (rt) architecture name
    
    This is the name used as part of the llvm rt libraries, like
    asan (address sanitizer)

M	compiler/arm/tripletcpu.pas
M	compiler/globtype.pas
M	compiler/i386/tripletcpu.pas

******************************************************************************
commit 1148caaece7a1924ca70f4a6db73790bb02c8856
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 16 21:12:54 2022 +0200

    llvm: move asan library linking support to texternallinker
    
    This way other platforms besides Darwin can also use it.

M	compiler/link.pas
M	compiler/systems/t_darwin.pas

******************************************************************************
commit 3e94af163bdff38073de96da87ed074c167afdb2
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Jul 12 17:28:59 2022 +0100

      * x86: Fixed bug in "Mov0LblCmp0Je -> Mov0JmpLblCmp0Je" optimisation
        where the reference count was increased twice.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9432a550e190d0530971363b55918ce85c045d58
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu May 5 05:42:06 2022 +0100

      * x86: Bug fix where aoc_ForceNewIteration was
        checked in the wrong pass.

M	compiler/i386/aoptcpu.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 19ad26afd850fa79b4bd599042a87c88abebdf14
Author: florian <florian@freepascal.org>
Date:   Fri Jul 22 22:55:53 2022 +0200

      * Riscv32 and Riscv64 on linux: enable safecall support

M	compiler/fpcdefs.inc
M	compiler/riscv32/cpuinfo.pas
M	compiler/riscv64/cpuinfo.pas
M	compiler/systems/i_linux.pas

******************************************************************************
commit 5604bd951ee6bada9d50bc86d8ec1dbdd84e6948
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jul 16 21:14:09 2022 +0300

    * an attempt to fix WebAssembly debug info section relocations

M	compiler/ogwasm.pas

******************************************************************************
commit 2da28054d4ebb426bdf6fd3888df387c4cf6d0fc
Author: florian <florian@freepascal.org>
Date:   Thu Jul 21 23:18:41 2022 +0200

      * RiscV: pass the same default directories to the linker as on other architectures

M	compiler/systems/t_linux.pas

******************************************************************************
commit 6915cd9b269649ca945a4fc952ee7dedb1b38b85
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 14:01:50 2022 +0200

    webidl: resolve parent interfaces

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit c2b1eeb8c6dcb1090173193e2966d5328f8ed912
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 13:47:10 2022 +0200

    webidl: fixed read object property

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 85e84d048b3593ba03fc4790124f4c54f0c0d229
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 13:35:24 2022 +0200

    webidl: fixed cloning pasnames of args

M	packages/fcl-base/src/pascodegen.pp
M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit fd38810f338741511c609ba5cbff2192063de737
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 12:14:20 2022 +0200

    webidl: skip fields without name

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit a84c13ad18ff12ebaf83ff9072aebdcc7e37798b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 11:30:36 2022 +0200

    webidl: write typedefs and callbacks in one list, they may depend on each other

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit 88efd9eed64a5e7b90d4895a331cd3d6b9e7923f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 11:17:03 2022 +0200

    webidl: write function with result type undefined as procedure

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit d35640bf10a2e58f2204408563568aeae41b1f18
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 11:15:16 2022 +0200

    webidl: parse deleter

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidlscanner.pp

******************************************************************************
commit 368289d5d869d5c0f9a58d13f8f95162ec806b18
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 11:03:38 2022 +0200

    webidl: wasmjob: rename conflicting arg names

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit f1a6d977653cd4852bae6c2eedac4f1692f49575
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 10:48:40 2022 +0200

    webidl: wasmjob: skip constructor

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit e660f2ea84132f96b5448d102cdf2d331c6a3f23
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 10:42:12 2022 +0200

    webidl: wasmjob: skip getter

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 984dcbb8107ed0e732f5879fa8449a0ff2df05bf
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 21 09:33:38 2022 +0200

    webidl: sort interfaces topological

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit e66378ee59998ae15f8a3b6afae4f657d17d37c3
Author: florian <florian@freepascal.org>
Date:   Wed Jul 20 22:16:19 2022 +0200

      * RiscV: generate mret only for FreeRTOS and Embedded

M	compiler/riscv/cgrv.pas

******************************************************************************
commit 0e8d87bc269d3e59a174b8b4bcc84c7dbc7ff6b1
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jul 20 08:57:54 2022 +0200

    * Add Cross-Origin Isolation headers

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit 7930b31da796951433d8e380776cdd0f32f91c8d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jul 20 08:52:47 2022 +0200

    * Patch from RDA to add S/MIME functions. Fix issue #39839

M	packages/openssl/src/openssl.pas

******************************************************************************
commit 258b4576a27d5d086c4a5ba33f75c65992b59ecb
Author: Yuri Serebrennikov <yus.serebrennikov@gmail.com>
Date:   Tue Jul 19 22:33:28 2022 +0300

    Fix error getting payload when receiving a close command.

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 769b8a07b093512ecf79ab5df2b687679356f748
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 18 20:35:32 2022 +0200

    webidl: using JOB_JS, record as TJSObject

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 99f34158ca892b4dfb86247b34db22692340991e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 18 19:05:31 2022 +0200

    webidl: remove empty forward interfaces

M	packages/webidl/src/webidldefs.pp
M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit 62e9de223d6df636a44d5737f0eccdec68d0fea6
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 18 18:14:13 2022 +0200

    webidl: fixed tests

M	packages/webidl/tests/tcwebidldefs.pp

******************************************************************************
commit 20746a907df39a74d531cd812500b57fea9b9c28
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 18 18:11:53 2022 +0200

    webidl: prefix enum types

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit f8c49c4a1fb273f70d7498b8830fd01f63d3de24
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 18 17:48:51 2022 +0200

    webidl: resolve typedef in args and resulttypes

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 2076f200deba77d8ce8cc8a7032c146cbb9a59d0
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jul 18 17:11:15 2022 +0200

    webidl: add typedef

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 7a1f617194277944c5c742e04bca327d4ed4ba38
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sun Jul 17 21:12:14 2022 +0000

    Cleanup bsd and sysctl units make rules

M	rtl/dragonfly/Makefile
M	rtl/dragonfly/Makefile.fpc
M	rtl/freebsd/Makefile
M	rtl/freebsd/Makefile.fpc
M	rtl/netbsd/Makefile
M	rtl/netbsd/Makefile.fpc
M	rtl/openbsd/Makefile
M	rtl/openbsd/Makefile.fpc

******************************************************************************
commit a16f35dcb18eedba213c9311a76babef6d529dff
Author: florian <florian@freepascal.org>
Date:   Sun Jul 17 22:14:13 2022 +0200

      + support RV32E Extension

M	compiler/riscv/agrvgas.pas
M	compiler/riscv32/cgcpu.pas
M	compiler/riscv32/cpuinfo.pas
M	tests/tbf/tb0293.pp

******************************************************************************
commit 399e699b723150f05c03c67cd4451e148bd9801c
Author: florian <florian@freepascal.org>
Date:   Sat Jul 16 22:13:21 2022 +0200

      * tests for merge request 244

A	tests/tbf/tb0291.pp
A	tests/tbf/tb0292.pp
A	tests/tbf/tb0293.pp
A	tests/tbs/tb0694.pp

******************************************************************************
commit c26f9329b683ec0beebc131ecae9c120ba32627b
Author: Rika Ichinose <rrunewalsh@gmail.com>
Date:   Mon Jun 20 22:41:57 2022 +0300

    Support arrays and classes in compile-time OffsetOf.

M	compiler/nmem.pas

******************************************************************************
commit 63c8e458bba2831baaae76913d61ab0ccabc4b94
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jul 16 19:31:14 2022 +0300

    * workaround crash when generating WebAssembly DWARF debug info for threadvars, while multithreading is turned off

M	compiler/ogwasm.pas

******************************************************************************
commit fcadc801638ae44193e61aafa7ec1a65630159d0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jul 16 19:08:06 2022 +0300

    * don't write R_WASM_TABLE_INDEX_I32 relocations, always use R_WASM_FUNCTION_OFFSET_I32 in debug sections

M	compiler/ogwasm.pas

******************************************************************************
commit 972a9df03189ef97cb7de63bbf9af1e56f74cd6e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jul 16 07:42:53 2022 +0300

    + always (even when multithreading is off) create a "target features" section
      in the WebAssembly object writer, since we still require some (very commonly
      supported) extensions, even without multithreading

M	compiler/ogwasm.pas

******************************************************************************
commit bf17a84dd28433d810b4f83dec7bf08a1eb52c87
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jul 16 04:34:15 2022 +0300

    + implemented the R_WASM_FUNCTION_OFFSET_I32 relocation in the WebAssembly object writer

M	compiler/ogwasm.pas

******************************************************************************
commit 6a94d2683bdf2ff9cec4aae2815d079b592c0650
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jul 16 04:08:44 2022 +0300

    + emit WASM DWARF debug info relocations

M	compiler/ogwasm.pas

******************************************************************************
commit 90305b6032926a4e7d19d8cdedb183310d56edb7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jul 16 02:13:42 2022 +0300

    + write the actual DWARF debug sections in the WebAssembly object writer. The relocations aren't ready, yet, though.

M	compiler/ogwasm.pas

******************************************************************************
commit b82af25e63e562264c0cf2d3ce5077a272129480
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jul 16 01:40:21 2022 +0300

    * fixed crashes with the WebAssembly internal object writer, when debug info is enabled. The debug info itself is not yet written to the file, though.

M	compiler/ogwasm.pas

******************************************************************************
commit a9698b6f6ef11184139ef9e53c3bed8b24c0942b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jul 16 00:54:11 2022 +0300

    + introduced TWasmObjSection.IsDebug

M	compiler/ogwasm.pas

******************************************************************************
commit eed1fbe38aad67688da6bf7b142e146ca34a2fbd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jul 16 00:46:47 2022 +0300

    + added custom section descriptions for DWARF debug info for the WebAssembly object writer (not actually emitted, yet)

M	compiler/wasmbase.pas

******************************************************************************
commit 22a1849733049dfa003389287e2420f6e9ff0c5c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jul 15 21:04:30 2022 +0200

    webidl: wasmjob: updated class function Cast

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 5395e52539816eed706dbbd90d3ef5051857bd30
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 21:40:18 2022 +0300

    - disable the cs_opt_nodecse optimization from the -O2 for the WebAssembly target, because it causes a crash, when compiling the classes unit

M	compiler/wasm32/cpuinfo.pas

******************************************************************************
commit d1f035f456df43bbd068ecda33d2ec08d9190b2b
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jul 10 16:24:59 2022 +0100

      * arm: Labels to constants are now data labels and not jump labels

M	compiler/arm/hlcgcpu.pas

******************************************************************************
commit be39828fca10b355e2cf9ee514736e87157748a0
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jul 10 16:10:05 2022 +0100

      * arm: Symbol reference counts are corrected when PC-relative data is inserted

M	compiler/arm/aasmcpu.pas

******************************************************************************
commit 94c87243ca2a55d5374a22900b59bfbdda348d8a
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Jul 9 17:44:20 2022 +0100

      * Reference counts are now properly incremented on duplicated taicpu objects

M	compiler/aasmtai.pas

******************************************************************************
commit 799c22d5534e3f296eaafbb6b4ee3680e1ac8438
Author: florian <florian@freepascal.org>
Date:   Fri Jul 15 18:54:49 2022 +0200

    Revert "  * patch by Rika: SwapEndian([u]int16) has unnecessary “and $FFFF”, resolves #39814"
    
    This reverts commit f92102a5f22ae7b978ecf91d59781e16f0b82163.
    
    The and $ffff is needed to avoid range check warnings when the function is inlined with a constant parameter

M	rtl/inc/generic.inc

******************************************************************************
commit 8d90cd3e64c8e2cd348f5f5d88714ee259f05527
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Jul 15 16:19:32 2022 +0200

    * fix #39826: correctly handle function references that are part of generics/specializations, but are not generics/specializations themselves
    + added test

M	compiler/procdefutil.pas
A	tests/webtbs/tw39826.pp

******************************************************************************
commit 4144f8d93a7f63d62ad13092c72a290b3a3f967f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 17:06:47 2022 +0300

    * apply the same alignment parameters to wasm32-embedded as wasm32-wasi

M	compiler/systems/i_embed.pas

******************************************************************************
commit dba189f4af385e887d479365612d398358d9f732
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 16:09:52 2022 +0300

    + show a "linking" message before invoking the linker for the wasm32-embedded target

M	compiler/systems/t_embed.pas

******************************************************************************
commit 46dcd4da760057b54e5f5694e8f75408c33fbb3d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 16:07:16 2022 +0300

    - removed debug writeln when calling the linker for the wasm32-embedded target

M	compiler/systems/t_embed.pas

******************************************************************************
commit b6c4592513f8a8295093b82c5293c2570003c33d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 16:06:03 2022 +0300

    + allow specifying custom extra linker options for the wasm32-wasi target

M	compiler/systems/t_wasi.pas

******************************************************************************
commit ad35fc82af76c5460dce612b2792398bcc9833d6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 16:04:01 2022 +0300

    + allow specifying custom extra linker options for the wasm32-embedded target

M	compiler/systems/t_embed.pas

******************************************************************************
commit ec9c81e77e0f39f2a5748fadac320f6251959748
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 15:59:34 2022 +0300

    * use current_module.sharedlibfilename instead of current_module.exefilename, when linking a library for the wasm32-embedded target

M	compiler/systems/t_embed.pas

******************************************************************************
commit 9dfda963a3df7c62be5ec5c94de0b149de590f2d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 15:57:23 2022 +0300

    + allow creating a linker map file, when compiling for the wasm32-embedded target

M	compiler/systems/t_embed.pas

******************************************************************************
commit 078aa5d04677fbbfb0818bcd0b004719c742c5e4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 15:53:55 2022 +0300

    + pass '-m wasm32' to the linker, when compiling for the wasm32-embedded target

M	compiler/systems/t_embed.pas

******************************************************************************
commit 1bbd16d1b7d8c7c48348d63a5bcba07e32ef9982
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 15:53:13 2022 +0300

    + allow setting the stack size for the wasm32-embedded target

M	compiler/systems/t_embed.pas

******************************************************************************
commit 8aee781950f2333140c7bace9bd9c36be86af4d2
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Jul 15 15:51:00 2022 +0300

    * set the stack size to 64kb and stack align to 16 bytes for the wasm32-embedded target

M	compiler/systems/i_embed.pas

******************************************************************************
commit 7cef39657f0211ce337b25aae8c0cd7901b03718
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Jul 14 21:07:53 2022 +0300

    * stack alignment on the WASI platform is 16 bytes

M	compiler/systems/i_wasi.pas

******************************************************************************
commit 30f5558bf2fdc410e73ebf597574e64cf114fa19
Author: florian <florian@freepascal.org>
Date:   Thu Jul 14 22:38:07 2022 +0200

      * patch by Rika: optimize TStringHelper.StartsWith / EndsWith, resolves #39706

M	rtl/objpas/sysutils/syshelp.inc

******************************************************************************
commit 4e3c170ad4fc325c532c2075dece7459b9682f5e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Jul 14 20:57:11 2022 +0300

    + allow changing the stack size for the WASI platform

M	compiler/systems/t_wasi.pas

******************************************************************************
commit c910ec814cb6bfb0627142dfa44e17ecafc9e49b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Jul 14 20:56:11 2022 +0300

    * set the default stack size for the WASI platform to 65536 bytes (this is the
      default, used by the linker)

M	compiler/systems/i_wasi.pas

******************************************************************************
commit db980a5d18d1de83a9ceccad8ce9e283d58484f9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Jul 14 20:29:41 2022 +0300

    + add the "-m wasm32" parameter to the linker, when linking for the WASI
      target. No idea if it does anything, but is passed to the linker by the
      official WASI SDK, so it shouldn't hurt.

M	compiler/systems/t_wasi.pas

******************************************************************************
commit e3139fea211474f8b31ac880c259ae68b8278c6f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Jul 14 05:14:20 2022 +0300

    + setup a thread manager (functions are still not yet implemented), when the WASI RTL is compiled with multithreading support

M	rtl/wasi/system.pp
A	rtl/wasi/systhrd.inc
M	rtl/wasm32/wasm32.inc

******************************************************************************
commit b900be6142403533e6c6d7cc2ab78eca1676b797
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Jul 14 04:15:47 2022 +0300

    + added WebAssembly intrinsics for reading __tls_size, __tls_align and __tls_base

M	compiler/wasm32/ccpuinnr.inc
M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/cpuinnr.inc

******************************************************************************
commit 7475d22154dd441e70e8c256642e33a1e6a42dbc
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Jul 14 03:57:06 2022 +0300

    + declare the three magic global variables (__tls_size, __tls_align, __tls_base), created by the linker, when WebAssembly multithreading is enabled

M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 4db653998bc84211acce9ca2945d06dbd2feb90a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Jul 14 02:09:12 2022 +0300

    + generate proper WebAssembly threadvar access when multithreading is turned on

M	compiler/ogwasm.pas
M	compiler/wasm32/cpunode.pas
M	compiler/wasm32/hlcgcpu.pas
A	compiler/wasm32/nwasmld.pas

******************************************************************************
commit 557e82373484ddb4b48373d7e4931d7b234043bd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Jul 14 00:22:12 2022 +0300

    + introduced trefaddr.addr_got_tls, to be used for generating WebAssembly threadvar access, when WASM multithreading is turned on

M	compiler/cgbase.pas
M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit d27c3b4b7922dae901d42653b1a6b1859b72b04c
Author: florian <florian@freepascal.org>
Date:   Wed Jul 13 22:53:26 2022 +0200

      + test for #33559

A	tests/webtbs/tw33559.pp

******************************************************************************
commit b821b9d502b1cfea62fcf2fa36f439eac09739a3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jul 13 23:50:48 2022 +0300

    + WebAssembly multithreading: also declare threadvar sections as TLS and prefix their name with '.tbss' when using the external assembler

M	compiler/aggas.pas
M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit fa5575ea549cb3b9f6c70c3d6429db41fa46864b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jul 13 23:27:30 2022 +0300

    + prefix the threadvar sections with '.tbss' when WASM multithreading is enabled

M	compiler/ogwasm.pas

******************************************************************************
commit 2606cef21fc2d8d3679d33c994d9d5fb04a68def
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jul 13 23:19:48 2022 +0300

    + set the TLS flag for threadvar sections when WASM threads are enabled

M	compiler/ogwasm.pas

******************************************************************************
commit eb8325300e523a56d4a11c8f2dcb16f5892a5cf7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jul 13 22:41:18 2022 +0300

    + added WASM segment flag constants

M	compiler/wasmbase.pas

******************************************************************************
commit 9859125c7b927677e77085dd99b4b4b83df65ee1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jul 13 22:38:46 2022 +0300

    + added the WASM_SYM_TLS symbol flag constant

M	compiler/wasmbase.pas

******************************************************************************
commit 8363c48863a1d8ee33fe1cecbd184030f86da0e9
Author: florian <florian@freepascal.org>
Date:   Tue Jul 12 22:11:49 2022 +0200

      * patch by rika: simplify tscannerfile.readstring, resolves #39835

M	compiler/scanner.pas

******************************************************************************
commit cf5feb0dca15e1898739352de4bc0028b831d0f9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Jul 12 19:16:23 2022 +0300

    + support writing of 32-bit and 64-bit relocations in the REL object writer
      for Z80. This fixes DWARF debug output and makes it behave consistently with
      the Z80 external assembler writer.

M	compiler/ogrel.pas

******************************************************************************
commit d9e156e90e5a33aeba270962ebc16ea1c103223d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jul 8 11:03:30 2022 +0200

    webidl: wasmjob: error on passing not supported array as argument

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit e25594c48e207157dddad49d8dd246fe59537e57
Author: florian <florian@freepascal.org>
Date:   Mon Jul 11 22:07:06 2022 +0200

      * correctly truncate rtti symbol names of enumeration types, resolves #39829

M	compiler/ncgrtti.pas
A	tests/webtbs/tw39829.pp

******************************************************************************
commit 9d776f058e238e618459630848265f9bd5e008b5
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Jul 11 18:03:32 2022 +0200

    * Move fdbf back to private section

M	packages/fcl-db/src/dbase/dbf.pas

******************************************************************************
commit 9d4cdc9383ceeac758aa1a305b185d595f468fdb
Author: Frank Rademakers <frank.rademakers@gmail.com>
Date:   Mon Jul 11 15:57:30 2022 +0000

    Additional Visual Foxpro functionality for TDbf. AutoInc fields work and can...

M	packages/fcl-db/src/dbase/dbf.pas
M	packages/fcl-db/src/dbase/dbf_dbffile.pas
M	packages/fcl-db/src/dbase/dbf_fields.pas
M	packages/fcl-db/src/dbase/dbf_pgfile.pas
M	packages/fcl-db/src/dbase/dbf_struct.inc

******************************************************************************
commit 501f3972779ce635f67c5c0bfd3cbc34d4699f4a
Author: Luiz Américo Pereira Câmara <camara_luiz@yahoo.com.br>
Date:   Sun Jul 10 21:06:12 2022 -0300

    fpexprpars: fix access violation when setting an expression after clear

M	packages/fcl-base/src/fpexprpars.pp
M	packages/fcl-base/tests/testexprpars.pp

******************************************************************************
commit ef15d3d9ec80213697bb2acbfba3e6ca0f8fd487
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Jun 25 01:19:02 2022 +0100

      * Fixed infinite loop when CONSTPROP is enabled
        but USELOADMODIFYSTORE is not.

M	compiler/optconstprop.pas

******************************************************************************
commit 6ea4ddd3d5dcc27ae70d8e33e8a744b289fcc449
Author: florian <florian@freepascal.org>
Date:   Sun Jul 10 22:52:22 2022 +0200

      * deprecated warning fixed

M	packages/libtar/src/libtar.pp

******************************************************************************
commit 4193563190b9a25de40bd6803f58e3529539bb18
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 9 20:44:10 2022 +0200

    LLVM address sanitizer: add asan library and rpath on Darwin
    
    Also verified that "make all" works with asan on macOS/AArch64

M	compiler/systems/t_darwin.pas

******************************************************************************
commit 8c251db2c1bb15d4f9ee8ef84a6998babca199f1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 10 21:31:13 2022 +0200

    Darwin: fix compilation on macOS/AArch64 after 1f328cf3
    
    No function suffixes there since there's no backward compatibility issue.

M	rtl/unix/oscdeclh.inc
M	rtl/unix/unxdeclh.inc

******************************************************************************
commit 3385ce92a2ce8a7c6b47b02c689e8b28b8fc8362
Author: Joost van der Sluis <joost@cnoc.nl>
Date:   Sun Jul 10 12:21:17 2022 +0200

     * Always generate CFI-information. During linking it can be omitted when
       no debug-information is requested. On Linux this needed a change in the
       linker-script. On Windows it already works as desired. Other targets
       may need some adjustments as well.

M	compiler/cfidwarf.pas
M	compiler/systems/t_linux.pas

******************************************************************************
commit 776c39dc0a8b7563b0f511d19346e280a749e9ee
Author: florian <florian@freepascal.org>
Date:   Sat Jul 9 22:03:26 2022 +0200

      + avr-embedded: keep fpc.* sections, should resolve #39825

M	compiler/systems/t_embed.pas

******************************************************************************
commit bcb5365ccae8de57a976d9b88b6eaa7837647138
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jul 8 10:25:40 2022 +0200

    webidl: array arg pass as const

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit f6b5c513bb73bc476a71769e094ea8401eab13eb
Author: florian <florian@freepascal.org>
Date:   Thu Jul 7 23:00:12 2022 +0200

      * patch by Rika: makes #39786 work on more setups, resolves #39786

M	compiler/i386/cpuinfo.pas
M	compiler/nadd.pas

******************************************************************************
commit 1aae90b29495ba2602bc57a94a7f2bdb1df4602b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jul 7 09:42:46 2022 +0200

    webidl: wasmjob: array name

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 748678267458b7da6d655f1988dea51142a7c9e9
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 30 22:28:52 2022 +0200

    webidl: wasmjob: started return type array

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 7bad1771390cbc297580a4d5bdea5b5281a9012e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jul 6 21:12:37 2022 +0200

    msg files: regenerated

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 403292a13151dbc265748d2119f9d1bd52fb9d54
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jul 6 21:12:00 2022 +0200

    LLVM backend: address sanitizer support
    
    Activate with -Clfsanitize=address. Only tested on Darwin/x86-64 for now.

M	compiler/globtype.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/llvminfo.pas
M	compiler/llvm/nllvmutil.pas
M	compiler/msg/errore.msg
M	compiler/options.pas
M	compiler/pmodules.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 1ab6fc9a4bf25638a2e2364f8d4679025fcd3613
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jul 6 21:15:07 2022 +0200

    llvm: fix reading past end of data for some parameter references
    
    Fixes false positives when using address sanitizer

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit b2ea782eb4cfd6fed9a85619390793815c204dda
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jul 6 21:12:57 2022 +0200

    agllvm: fix writing strings in metadata arrays
    
    They were interpreted as part of larger strings

M	compiler/llvm/agllvm.pas

******************************************************************************
commit a8352f3e99382c195ea69466e2f63be2ff723a9a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jul 6 21:03:07 2022 +0200

    ttai_typedconstbuilder: do not remove tcalo_vectorized_dead_strip_item
    
    This was done because originally getting the finalized asmlist happend
    through a single proc that either called the vectorized version or the
    regular version depending on the presence of tcalo_vectorized_* flags.
    
    Nowadays, calling either get_final_asmlist_vectorized_dead_strip or
    get_final_asmlist happens directly as needed.
    
    This flag will be used by the LLVM asmwriter to add appropriate
    address sanitizer information.

M	compiler/aasmcnst.pas

******************************************************************************
commit 6dc47c71fbd26f85458ed5f923e60fa109f76bbd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jul 5 22:57:18 2022 +0200

    tstringconstnode.changestringtype: fix buffer overrun
    
    Found by asan

M	compiler/ncon.pas

******************************************************************************
commit 2ce3656ed3e43445a41168015466e8490bc39653
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 2 15:33:40 2022 +0200

    x86 BuildInsTabMemRefSizeInfoCache: don't read past end of instab

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 6a485065ba42601a46eebed8ab85705bceef3f23
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 2 14:46:14 2022 +0200

    __fpc_valgrind symbol: use correct size when inserting definition

M	compiler/ngenutil.pas

******************************************************************************
commit 27a1acdc7d90a8aaa931f2d011fdd6f28695bafb
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Jun 27 21:02:26 2022 +0200

    cresstr: fix length specified for resource strings to typed const builder
    
    Copy/paste error

M	compiler/cresstr.pas

******************************************************************************
commit 1f328cf362768d56dfe6101661209e6aeffdded5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 25 17:29:48 2022 +0200

    Darwin: use recent versions of stat(fs) records when available
    
    When the RTL is built for Mac OS X 10.6 or newer, use the new versions
    and the corresponding alternate system library functions.
    
    Also extracted the Darwin stat record definition to reduce the
    ifdef hell.

M	rtl/bsd/ostypes.inc
M	rtl/darwin/ptypes.inc
M	rtl/unix/oscdeclh.inc
M	rtl/unix/unxdeclh.inc

******************************************************************************
commit 012204422613f44a6908f22c96d18a23e906d8c4
Author: florian <florian@freepascal.org>
Date:   Wed Jul 6 20:39:38 2022 +0200

      * part of last commit

M	rtl/objpas/sysutils/syscodepages.inc

******************************************************************************
commit 4fecfe3df3d3eaea31e1c4da6eaeb5a84d07e0bc
Author: florian <florian@freepascal.org>
Date:   Wed Jul 6 20:07:39 2022 +0200

      * fix SysUtils.HashName as proposed by Awkward in #39827, resolves #39827
      * adapted to syscodepages.inc for the fixed HashName

M	rtl/objpas/sysutils/sysansi.inc

******************************************************************************
commit 1d32a575e756319dd8ba62a0a2960973dbe3eee1
Author: florian <florian@freepascal.org>
Date:   Wed Jul 6 19:50:07 2022 +0200

      * as correctly pointed out by Bart B, -gw instead of -g should be used in the test for #39816

M	tests/webtbs/tw39816.pp

******************************************************************************
commit e28238da9b5111fbceaf4bdc81528ef4cdfe26e2
Author: florian <florian@freepascal.org>
Date:   Tue Jul 5 23:04:17 2022 +0200

      * handle absolute on strings correctly for dwarf debug info, resolves #39816

M	compiler/dbgdwarf.pas
A	tests/webtbs/tw39816.pp

******************************************************************************
commit a19add9c886b7f64a2371633e16cf8ac2e9447fd
Author: Robert Roland <rob.roland@gmail.com>
Date:   Sun Jul 3 19:40:29 2022 -0700

    Add cntfrq_el0 and cntpct_el0 AArch64 registers

M	compiler/aarch64/a64reg.dat
M	compiler/aarch64/ra64con.inc
M	compiler/aarch64/ra64dwa.inc
M	compiler/aarch64/ra64nor.inc
M	compiler/aarch64/ra64num.inc
M	compiler/aarch64/ra64rni.inc
M	compiler/aarch64/ra64sri.inc
M	compiler/aarch64/ra64sta.inc
M	compiler/aarch64/ra64std.inc
M	compiler/aarch64/ra64sup.inc

******************************************************************************
commit a9db747eb912f4124d9690d9395413479a2848f5
Author: florian <florian@freepascal.org>
Date:   Mon Jul 4 22:51:50 2022 +0200

      + test for #39786

A	tests/webtbs/tw39786.pp

******************************************************************************
commit a2a2a6d79edcf53dc406daa1730968c766ea893d
Author: florian <florian@freepascal.org>
Date:   Sun Jul 3 16:09:09 2022 +0200

      * naming fixed, it is a test for #39785

R100	tests/webtbs/tw39758.pp	tests/webtbs/tw39785.pp

******************************************************************************
commit f754ecf3d4e183f18c7429b53b828bc59b2eac26
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jul 3 10:31:25 2022 +0200

    * Fix AV when reading palette. Fixes issue #39823

M	packages/fcl-image/src/fpreadxpm.pp

******************************************************************************
commit 672f90bf40cc6fe8d3dbb2be0402e41d7113fc00
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jul 3 10:27:04 2022 +0200

     Reset col when reading new lines. Fix issue #39356

M	packages/fcl-db/src/base/sqlscript.pp

******************************************************************************
commit c5a0d16c585fd7af0135537346b6f0611d51d739
Author: florian <florian@freepascal.org>
Date:   Sat Jul 2 23:35:59 2022 +0200

      * experimental test for #39758

A	tests/webtbs/tw39758.pp

******************************************************************************
commit f5cf8956c5622b240dd8f2013a983afdf5b59014
Author: Jeppe <jeppe@j-software.dk>
Date:   Sat Jul 2 14:08:31 2022 +0200

    riscv: Merge stack code, fix interrupted code
    
    - Stack pointer is kept below register save area. This ensures that
    registers are not overwritten by interrupt handlers.
    - RV32 and 64 code is merged to base class.

M	compiler/riscv/cgrv.pas
M	compiler/riscv32/cgcpu.pas
M	compiler/riscv64/cgcpu.pas

******************************************************************************
commit 37b5147b19c893de4555b0760cc8df1aa24b0f93
Author: Jeppe <jeppe@j-software.dk>
Date:   Sat Jun 25 14:11:58 2022 +0200

    riscv32: Fix potential FP proc_exit bug

M	compiler/riscv32/cgcpu.pas

******************************************************************************
commit ff3f183eb2b6c00a9cb0a49b6b6635beb44c312d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jul 2 13:05:00 2022 +0200

    * Patch from Bart to remove unneeded test

M	tests/test/units/convutils/tconv1.pp

******************************************************************************
commit c286e444991a4bffdc1161f9a18c5fca36497c61
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jul 2 12:18:20 2022 +0200

    * Use correct define for regexpr, name has changed

M	packages/regexpr/src/uregexpr.pp

******************************************************************************
commit d6dbcb5c8b914f11f5931f07e60e40ca6f29f698
Author: Alexey Torgashin <support@uvviewsoft.com>
Date:   Sat Jul 2 09:31:43 2022 +0000

    Update packages/regexpr/src/regexpr.pas

M	packages/regexpr/src/regexpr.pas

******************************************************************************
commit 6dfc0c4bae77665408d5e011fad5b694c82bc3b7
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jun 29 18:31:41 2022 +0200

    * Do not define UNICODE by default, only in Uregexpr

M	packages/regexpr/src/regexpr.pas

******************************************************************************
commit fcb5531fbc90cab7e998ce8eab655182d165ac50
Author: florian <florian@freepascal.org>
Date:   Fri Jul 1 23:04:50 2022 +0200

      * convert a+/-const1-/const2 in into a+/-(-const1)+(-const2) to enable further optimizations, resolves #39782

M	compiler/nadd.pas

******************************************************************************
commit 83ce54b8153d6eb47b392517e3092ae0f501dcee
Author: florian <florian@freepascal.org>
Date:   Thu Jun 30 22:00:01 2022 +0200

      set Tag_ABI_VFP_args to 1 only if the hard float abi is used, should resolve #39817

M	compiler/arm/narmutil.pas

******************************************************************************
commit 8abe70e25a777f8e04b5fd251d8464d5dd319200
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 30 16:01:44 2022 +0200

    webidl: wasmjob: dictionary

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 1108d0360917223aa243e3ac0419499ec67803c2
Author: ccrause <christo.crause@gmail.com>
Date:   Tue Jun 21 22:02:53 2022 +0200

    Split startup code into different .init sections according to avr-libs convention.

M	rtl/embedded/avr/at90can128.pp
M	rtl/embedded/avr/at90can32.pp
M	rtl/embedded/avr/at90can64.pp
M	rtl/embedded/avr/at90pwm1.pp
M	rtl/embedded/avr/at90pwm161.pp
M	rtl/embedded/avr/at90pwm216.pp
M	rtl/embedded/avr/at90pwm2b.pp
M	rtl/embedded/avr/at90pwm316.pp
M	rtl/embedded/avr/at90pwm3b.pp
M	rtl/embedded/avr/at90pwm81.pp
M	rtl/embedded/avr/at90usb1286.pp
M	rtl/embedded/avr/at90usb1287.pp
M	rtl/embedded/avr/at90usb162.pp
M	rtl/embedded/avr/at90usb646.pp
M	rtl/embedded/avr/at90usb647.pp
M	rtl/embedded/avr/at90usb82.pp
M	rtl/embedded/avr/ata6285.pp
M	rtl/embedded/avr/ata6286.pp
M	rtl/embedded/avr/atmega128.pp
M	rtl/embedded/avr/atmega1280.pp
M	rtl/embedded/avr/atmega1281.pp
M	rtl/embedded/avr/atmega1284.pp
M	rtl/embedded/avr/atmega1284p.pp
M	rtl/embedded/avr/atmega1284rfr2.pp
M	rtl/embedded/avr/atmega128a.pp
M	rtl/embedded/avr/atmega128rfa1.pp
M	rtl/embedded/avr/atmega128rfr2.pp
M	rtl/embedded/avr/atmega16.pp
M	rtl/embedded/avr/atmega1608.pp
M	rtl/embedded/avr/atmega1609.pp
M	rtl/embedded/avr/atmega162.pp
M	rtl/embedded/avr/atmega164a.pp
M	rtl/embedded/avr/atmega164p.pp
M	rtl/embedded/avr/atmega164pa.pp
M	rtl/embedded/avr/atmega165a.pp
M	rtl/embedded/avr/atmega165p.pp
M	rtl/embedded/avr/atmega165pa.pp
M	rtl/embedded/avr/atmega168.pp
M	rtl/embedded/avr/atmega168a.pp
M	rtl/embedded/avr/atmega168p.pp
M	rtl/embedded/avr/atmega168pa.pp
M	rtl/embedded/avr/atmega168pb.pp
M	rtl/embedded/avr/atmega169a.pp
M	rtl/embedded/avr/atmega169p.pp
M	rtl/embedded/avr/atmega169pa.pp
M	rtl/embedded/avr/atmega16a.pp
M	rtl/embedded/avr/atmega16hva.pp
M	rtl/embedded/avr/atmega16hvb.pp
M	rtl/embedded/avr/atmega16hvbrevb.pp
M	rtl/embedded/avr/atmega16m1.pp
M	rtl/embedded/avr/atmega16u2.pp
M	rtl/embedded/avr/atmega16u4.pp
M	rtl/embedded/avr/atmega2560.pp
M	rtl/embedded/avr/atmega2561.pp
M	rtl/embedded/avr/atmega2564rfr2.pp
M	rtl/embedded/avr/atmega256rfr2.pp
M	rtl/embedded/avr/atmega32.pp
M	rtl/embedded/avr/atmega3208.pp
M	rtl/embedded/avr/atmega3209.pp
M	rtl/embedded/avr/atmega324a.pp
M	rtl/embedded/avr/atmega324p.pp
M	rtl/embedded/avr/atmega324pa.pp
M	rtl/embedded/avr/atmega324pb.pp
M	rtl/embedded/avr/atmega325.pp
M	rtl/embedded/avr/atmega3250.pp
M	rtl/embedded/avr/atmega3250a.pp
M	rtl/embedded/avr/atmega3250p.pp
M	rtl/embedded/avr/atmega3250pa.pp
M	rtl/embedded/avr/atmega325a.pp
M	rtl/embedded/avr/atmega325p.pp
M	rtl/embedded/avr/atmega325pa.pp
M	rtl/embedded/avr/atmega328.pp
M	rtl/embedded/avr/atmega328p.pp
M	rtl/embedded/avr/atmega328pb.pp
M	rtl/embedded/avr/atmega329.pp
M	rtl/embedded/avr/atmega3290.pp
M	rtl/embedded/avr/atmega3290a.pp
M	rtl/embedded/avr/atmega3290p.pp
M	rtl/embedded/avr/atmega3290pa.pp
M	rtl/embedded/avr/atmega329a.pp
M	rtl/embedded/avr/atmega329p.pp
M	rtl/embedded/avr/atmega329pa.pp
M	rtl/embedded/avr/atmega32a.pp
M	rtl/embedded/avr/atmega32c1.pp
M	rtl/embedded/avr/atmega32hvb.pp
M	rtl/embedded/avr/atmega32hvbrevb.pp
M	rtl/embedded/avr/atmega32m1.pp
M	rtl/embedded/avr/atmega32u2.pp
M	rtl/embedded/avr/atmega32u4.pp
M	rtl/embedded/avr/atmega406.pp
M	rtl/embedded/avr/atmega48.pp
M	rtl/embedded/avr/atmega4808.pp
M	rtl/embedded/avr/atmega4809.pp
M	rtl/embedded/avr/atmega48a.pp
M	rtl/embedded/avr/atmega48p.pp
M	rtl/embedded/avr/atmega48pa.pp
M	rtl/embedded/avr/atmega48pb.pp
M	rtl/embedded/avr/atmega64.pp
M	rtl/embedded/avr/atmega640.pp
M	rtl/embedded/avr/atmega644.pp
M	rtl/embedded/avr/atmega644a.pp
M	rtl/embedded/avr/atmega644p.pp
M	rtl/embedded/avr/atmega644pa.pp
M	rtl/embedded/avr/atmega644rfr2.pp
M	rtl/embedded/avr/atmega645.pp
M	rtl/embedded/avr/atmega6450.pp
M	rtl/embedded/avr/atmega6450a.pp
M	rtl/embedded/avr/atmega6450p.pp
M	rtl/embedded/avr/atmega645a.pp
M	rtl/embedded/avr/atmega645p.pp
M	rtl/embedded/avr/atmega649.pp
M	rtl/embedded/avr/atmega6490.pp
M	rtl/embedded/avr/atmega6490a.pp
M	rtl/embedded/avr/atmega6490p.pp
M	rtl/embedded/avr/atmega649a.pp
M	rtl/embedded/avr/atmega649p.pp
M	rtl/embedded/avr/atmega64a.pp
M	rtl/embedded/avr/atmega64c1.pp
M	rtl/embedded/avr/atmega64hve2.pp
M	rtl/embedded/avr/atmega64m1.pp
M	rtl/embedded/avr/atmega64rfr2.pp
M	rtl/embedded/avr/atmega8.pp
M	rtl/embedded/avr/atmega808.pp
M	rtl/embedded/avr/atmega809.pp
M	rtl/embedded/avr/atmega8515.pp
M	rtl/embedded/avr/atmega8535.pp
M	rtl/embedded/avr/atmega88.pp
M	rtl/embedded/avr/atmega88a.pp
M	rtl/embedded/avr/atmega88p.pp
M	rtl/embedded/avr/atmega88pa.pp
M	rtl/embedded/avr/atmega88pb.pp
M	rtl/embedded/avr/atmega8a.pp
M	rtl/embedded/avr/atmega8hva.pp
M	rtl/embedded/avr/atmega8u2.pp
M	rtl/embedded/avr/attiny10.pp
M	rtl/embedded/avr/attiny102.pp
M	rtl/embedded/avr/attiny104.pp
M	rtl/embedded/avr/attiny11.pp
M	rtl/embedded/avr/attiny12.pp
M	rtl/embedded/avr/attiny13.pp
M	rtl/embedded/avr/attiny13a.pp
M	rtl/embedded/avr/attiny15.pp
M	rtl/embedded/avr/attiny1604.pp
M	rtl/embedded/avr/attiny1606.pp
M	rtl/embedded/avr/attiny1607.pp
M	rtl/embedded/avr/attiny1614.pp
M	rtl/embedded/avr/attiny1616.pp
M	rtl/embedded/avr/attiny1617.pp
M	rtl/embedded/avr/attiny1624.pp
M	rtl/embedded/avr/attiny1626.pp
M	rtl/embedded/avr/attiny1627.pp
M	rtl/embedded/avr/attiny1634.pp
M	rtl/embedded/avr/attiny167.pp
M	rtl/embedded/avr/attiny20.pp
M	rtl/embedded/avr/attiny202.pp
M	rtl/embedded/avr/attiny204.pp
M	rtl/embedded/avr/attiny212.pp
M	rtl/embedded/avr/attiny214.pp
M	rtl/embedded/avr/attiny2313.pp
M	rtl/embedded/avr/attiny2313a.pp
M	rtl/embedded/avr/attiny24.pp
M	rtl/embedded/avr/attiny24a.pp
M	rtl/embedded/avr/attiny25.pp
M	rtl/embedded/avr/attiny26.pp
M	rtl/embedded/avr/attiny261.pp
M	rtl/embedded/avr/attiny261a.pp
M	rtl/embedded/avr/attiny28.pp
M	rtl/embedded/avr/attiny3214.pp
M	rtl/embedded/avr/attiny3216.pp
M	rtl/embedded/avr/attiny3217.pp
M	rtl/embedded/avr/attiny4.pp
M	rtl/embedded/avr/attiny40.pp
M	rtl/embedded/avr/attiny402.pp
M	rtl/embedded/avr/attiny404.pp
M	rtl/embedded/avr/attiny406.pp
M	rtl/embedded/avr/attiny412.pp
M	rtl/embedded/avr/attiny414.pp
M	rtl/embedded/avr/attiny416.pp
M	rtl/embedded/avr/attiny416auto.pp
M	rtl/embedded/avr/attiny417.pp
M	rtl/embedded/avr/attiny4313.pp
M	rtl/embedded/avr/attiny43u.pp
M	rtl/embedded/avr/attiny44.pp
M	rtl/embedded/avr/attiny441.pp
M	rtl/embedded/avr/attiny44a.pp
M	rtl/embedded/avr/attiny45.pp
M	rtl/embedded/avr/attiny461.pp
M	rtl/embedded/avr/attiny461a.pp
M	rtl/embedded/avr/attiny48.pp
M	rtl/embedded/avr/attiny5.pp
M	rtl/embedded/avr/attiny804.pp
M	rtl/embedded/avr/attiny806.pp
M	rtl/embedded/avr/attiny807.pp
M	rtl/embedded/avr/attiny814.pp
M	rtl/embedded/avr/attiny816.pp
M	rtl/embedded/avr/attiny817.pp
M	rtl/embedded/avr/attiny828.pp
M	rtl/embedded/avr/attiny84.pp
M	rtl/embedded/avr/attiny841.pp
M	rtl/embedded/avr/attiny84a.pp
M	rtl/embedded/avr/attiny85.pp
M	rtl/embedded/avr/attiny861.pp
M	rtl/embedded/avr/attiny861a.pp
M	rtl/embedded/avr/attiny87.pp
M	rtl/embedded/avr/attiny88.pp
M	rtl/embedded/avr/attiny9.pp
M	rtl/embedded/avr/avrcommon.inc
M	rtl/embedded/avr/avrsim.pp
D	rtl/embedded/avr/start.inc
D	rtl/embedded/avr/start_noram.inc

******************************************************************************
commit 29be433e1b360eb782eefa3405d673cb0e4bce7a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jun 29 04:03:48 2022 +0200

    webidl: wasmjob: function type object as arg and return type

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 6aaa92680cba719e316605bde85763c43a083e43
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 28 23:38:35 2022 +0200

    webidl: wasmjob: object attribute

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit c50ef1efcfa251ec06c577f8b462aecff3d79814
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 28 23:23:11 2022 +0200

    webidl: wasmjob: create unique local var

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 623b723b113d9bc862ecaac881d881c832171d82
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 28 23:14:19 2022 +0200

    webidl: wasmjob: pass method as argument

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit f1075020189b3a526597a5e9f1c5d4813508ecfc
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 28 10:13:14 2022 +0200

    webidl: cast

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit ceda27ae256cb00987c9face4adfa80a20477534
Author: florian <florian@freepascal.org>
Date:   Tue Jun 28 22:45:17 2022 +0200

      * allow type parameters in variant parts of records as we do not now
        what type is used during specialization, resolves #39805

M	compiler/pdecvar.pas
M	tests/test/tgeneric26.pp
A	tests/webtbf/tw39805b.pp
A	tests/webtbs/tw39805a.pp

******************************************************************************
commit f92102a5f22ae7b978ecf91d59781e16f0b82163
Author: florian <florian@freepascal.org>
Date:   Mon Jun 27 22:45:01 2022 +0200

      * patch by Rika: SwapEndian([u]int16) has unnecessary “and $FFFF”, resolves #39814

M	rtl/inc/generic.inc

******************************************************************************
commit 54ba991c111410bb74b1a97eee90f7f8ca6ba017
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jun 27 18:56:08 2022 +0200

    webidl: wasmjob: callback wrapper for primitive types

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit bbda3631fa9b338c5d5db160f749660140d82ba3
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jun 27 14:34:21 2022 +0200

    webidl: add const modifier to function def arguments

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit a50e0382c591d279280ad2c3a569b708a001acc0
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jun 27 14:31:04 2022 +0200

    webidl: added Function and BigInteger to base types

M	packages/webidl/src/webidldefs.pp
M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit dd0acb63606006c27294a6177abddb72e85823c7
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jun 27 13:55:49 2022 +0200

    webidl: resolving type defs

M	packages/webidl/src/webidldefs.pp
M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit fb5456da796a6245a48e054e816aad09c11e8838
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jun 27 11:30:31 2022 +0200

    webidl: wasmjob: prefix callbacks with T

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit b9dc428e20e65e6bffad1e541a039aae950783a2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jun 27 11:19:25 2022 +0200

    webidl: wasmjob: invoke procedure

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 2333af5cfdf16e9dd2e62055a7c2c1c1a94a197e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 26 21:47:32 2022 +0200

    webidl: wasmjob: invoke function with primitive args

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 29d1212bf3528c38169814b62cf44b66d306d766
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 26 21:44:33 2022 +0200

    webidl: wasmjob: invoke function

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltopas2js.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 98d297cf54f795967dca33cd43b14d5c006979c4
Author: florian <florian@freepascal.org>
Date:   Sun Jun 26 22:26:16 2022 +0200

      * patch by Bart B to refactor ConvUtils (no functional changes), resolves #39813

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit 4058a0ac4b4b1f47dc58a3055ebda62edaf6560e
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Thu May 12 23:25:15 2022 +0200

    AROS: Make sure opaque SMP extension is used for ABIv11 only
    
    These changes adds an additional record field to record structure TMsgPort in
    order to support SMP for ABIv11 (non m68k targets only).
    
    This additional field contains two opaque IPTR's/PtrUInt's and therefor breaks
    compatibility between ABIv0, ABIv1 and ABIv11 as well as make them binary
    incompatible.
    
    It also renders ABIv11 incompatible with itself when this change was introduced
    on march 18 2022. Recompilation of existing code for this ABI is thus required.
    
    See: https://github.com/deadw00d/AROS/commit/b9bc67accce27db0e2cc0f79f554dc76e9b17a73

M	packages/arosunits/src/exec.pas
M	rtl/aros/i386/execd.inc

******************************************************************************
commit c6601203291f2460a9cff03cc67c238bb6701169
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Thu May 12 23:23:50 2022 +0200

    AROS: Ensure that spinlocks for SMP enabled build is not possible for ABIv11
    
    These changes makes sure that the use of record structure spinlock is not
    active/available when compiling for AROS ABIv11 as that ABI does not support
    spinlocks as implemented for AROS ABIv1.
    
    Note that this is a ABI and Binary Compatible break between ABIv1 and ABIv11.

M	packages/arosunits/src/exec.pas
M	rtl/aros/i386/execd.inc

******************************************************************************
commit 14f97748380ef4aa4dcf3859e493d2273ae4928f
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Thu May 12 23:21:17 2022 +0200

    AROS: Ensure that spinlocks for SMP enabled build can only be active for ABIv1
    
    These changes makes sure that the use of record structure TSpinlock can only
    be enabled/active for AROS ABIv1 as that ABI is currently the only ABI that
    is able to support SMP by using the spinlock record structure.

M	packages/arosunits/src/exec.pas
M	rtl/aros/i386/execd.inc

******************************************************************************
commit 41a48fe385604914f7c40aed701a8b7304fe809a
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Thu May 12 23:19:16 2022 +0200

    AROS: Use structure spinlock for SMP enabled build (ABI/BC break)
    
    This commit will add an additional spinlock field to record structures
    TMsgPort and TSemaphoreRequest for a SMP enabled build.
    
    This will break ABI and Binary Compatibility between ABIv0 and ABIv1 and for
    ABIv1 (for a SMP enabled build).
    
    Recompilation in such case is required as both record structures TMsgPort and
    TSemaphoreRequest are embedded in other record structures which causes a
    myriad of changes to those records including different record sizes and other
    field offsets.
    
    Note that SMP is currently only available for ABIv1 and afaik only supported
    for AROS target x86_64 while AROS target i386 has initial support for SMP
    (but not actively enabled).
    
    SMP enabled build can be 'activated' by defining AROS_PLATFORM_SMP and
    AROSEXEC_SMP.

M	packages/arosunits/src/exec.pas
M	rtl/aros/i386/execd.inc

******************************************************************************
commit b467de658d6a4b1c9d677935d8d0566429e1de7e
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Thu May 12 23:17:47 2022 +0200

    AROS: Add structure spinlock for SMP builds
    
    In 2015 ABIv1 introduced support for spinlocks for SMP enabled builds (1) by
    use of a special spinlock structure.
    
    This structure was later updated to end up in its current form in 2017 (2)
    
    This commit adds this record structure to both RTL (execd) and unit (exec).
    
    The structure can be "enabled" by defining AROSPLATFORM_SMP during build.
    
    1) https://github.com/aros-development-team/AROS/commit/b6045c27fdb925491cc8081837b978d288f057a3
    2) https://github.com/aros-development-team/AROS/commit/0ffdbdc48f6b5add7efb3cc193fa98739dedeff3

M	packages/arosunits/src/exec.pas
M	rtl/aros/i386/execd.inc

******************************************************************************
commit b218393b5747b7c2ee86099a91315012a9b616e8
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Tue May 10 23:41:22 2022 +0200

    AROS: ABI compatibility update AROSSupportBase (ABI/API/BC break)
    
    These changes break API/Binary Compatibility between ABIv0 and ABIv1.
    
    Field stdOut is replaced by undefined field named _pad for ABIv1 while
    (still) being present as stdOut for ABIv0.
    
    Field DebugConfig is completely removed from ABIv1 (still present for ABIv0).
    
    If your code depends on either of these two fields then you need to make
    appropriate changes when compiling for ABIv1.
    
    Removing dependency on either of these two mentioned fields is preferred.
    
    Both RTL (execd.inc) and unit (exec.pas) are updated.
    
    See also https://github.com/aros-development-team/AROS/commit/194cc5e1c52a9dc67aa2275c8acb26673e454757

M	packages/arosunits/src/exec.pas
M	rtl/aros/i386/execd.inc

******************************************************************************
commit 8bc7d5897d19829217f2953128c2bf1cf718e791
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun May 8 10:05:35 2022 +0200

    AROS: ABI compatibility update structure TETask (ABI/BC break)
    
    These changes break Binary Compatibility between ABIv0 and ABIv1.
    
    Record TETask was not compliant to ABIv1 because field et_Compatibility is
    only required for ABIv0 (https://github.com/deadw00d/AROS/commit/06538a17900b3e6c45d053128957fba8668c2c15).
    
    Therefor these changes update record TETask for both RTL (execd.inc) and unit
    exec (exec.pas) so that field et_Compatibility is only present for ABIv0.
    
    The impact of these changes should be minimal because all relevant fields are
    still accessible (some located at another offset) and code should never rely
    on the size of this structure.

M	packages/arosunits/src/exec.pas
M	rtl/aros/i386/execd.inc

******************************************************************************
commit 08cc81ff60ca9f66ce9f4de4bf36e30dec1403d2
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun May 8 10:03:13 2022 +0200

    AROS: Update RTL structure TETask (execd)
    
    Bring RTL (execd.inc) structure TETask up to date to unit exec (exec.pas).
    
    This structure situated in the RTL was (literally) based on the MorphOS
    version which is not compliant to AROS.
    
    The original MorphOS TETask structure can still be 'activated' when the flag
    AROS_MORPHOS_COMPATIBLE is defined when compiling the RTL and exec unit (as
    is also the case in the original AROS repo).

M	rtl/aros/i386/execd.inc

******************************************************************************
commit 5a0d76e45ab161063d5981a807ffcdd8f683314f
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Fri May 6 21:49:44 2022 +0200

    AROS: 32/64-bit fix field alignment for unit conunit
    
    Make sure AROS' record structures are C-packed.

M	packages/arosunits/src/conunit.pas

******************************************************************************
commit 030fe14bdecfb96d136cef785ff55f3087da6c71
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Fri May 6 21:49:25 2022 +0200

    AROS: 32/64-bit fix field alignment for unit commodities
    
    Make sure AROS' record structures are C-packed.

M	packages/arosunits/src/commodities.pas

******************************************************************************
commit 9a47cc5c47528ffefc554f9a7c1fc90fa084e9c4
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Fri May 6 21:49:06 2022 +0200

    AROS: 64-bit fix elf structures for unit amigados
    
    Make sure ELF structures are compliant to 64-bit when target is 64-bit.

M	packages/arosunits/src/amigados.pas

******************************************************************************
commit 1d1a68761e27d473aee8d41a6c15a5a1f7a4324e
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Fri May 6 21:48:18 2022 +0200

    AROS: 32/64-bit compatibility update for unit agraphics
    
    Make TRastPort compliant to both ABI's by removing redundant ifdef.
    
    Add information about (new) fields.

M	packages/arosunits/src/agraphics.pas

******************************************************************************
commit 3439b220a71c0888cd906ea010265e202717ff46
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Fri May 6 21:46:49 2022 +0200

    AROS: 32/64-bit compatibility update for unit intuition
    
    Make TDrawInfo compliant to both ABI's by removing redundant ifdef.
    
    Add information about (new) fields.
    
    Update dri_version to v3.

M	packages/arosunits/src/intuition.pas

******************************************************************************
commit e07185bc11189d4fc24b1d8c5d12dd6f33dc2d25
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Fri May 6 21:45:44 2022 +0200

    AROS: 32/64-bit compatibility update for unit workbench
    
    Make TAppMessage compliant to both ABI's as well as 32/64-bit by
    changing field am_ID to be of type IPTR for all targets..

M	packages/arosunits/src/workbench.pas

******************************************************************************
commit 576ef5a33d0331af55047818aa4556b1ce448ab1
Author: marcoonthegit <marco@freepascal.org>
Date:   Sun Jun 26 19:10:43 2022 +0200

    * make infinite a default param

M	packages/fcl-base/src/syncobjs.pp

******************************************************************************
commit 8d42a9df83f0ad18cc8f5593e415a6b74d3950f6
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 26 14:15:57 2022 +0200

    webidl: wasm-job: function Cast

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 97f43999367e1e8e2f4ac5acb01963aabde462a0
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 26 14:11:16 2022 +0200

    fcl-web: fixed compile

M	packages/fcl-base/src/pascodegen.pp
M	packages/fcl-web/src/jsonrpc/fprpccodegen.pp

******************************************************************************
commit 1c1475957f2fe65d918868690536c33f10e509d1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 26 13:06:54 2022 +0200

    webidl: wasmjob: interface guid

M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 63b9a6bda8d5f5cef76e8af7f4e262fa54a6a6e2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 26 12:26:19 2022 +0200

    webidl: wasmjob: use interface

M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltopas2js.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 66099b04020409672faaafb1804b4c03f0b8d43d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 25 07:05:28 2022 +0200

    webidl: wasmjob: started pascal interface

M	packages/fcl-base/src/pascodegen.pp
M	packages/webidl/src/webidltopas.pp
M	packages/webidl/src/webidltopas2js.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 95dfccbb5e35bd5e97013e0336ee6a95ec6b04b4
Author: florian <florian@freepascal.org>
Date:   Sat Jun 25 21:39:11 2022 +0200

      * do not optimize away +0.0 if no fastmath is passed as -0.0+(+0.0)=+0.0

M	compiler/nadd.pas

******************************************************************************
commit df8a3ab009c9675d297c9723ea846fbdd8b5e60e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jun 25 17:15:52 2022 +0200

    * Fix from bart removing extra constants. Fix issue #39812

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit 05c2bd85d36d0338e33d31293c04dd9704bc07bc
Author: marcoonthegit <marco@freepascal.org>
Date:   Sat Jun 25 15:49:48 2022 +0200

    * THandleObjectArray added

M	packages/fcl-base/src/syncobjs.pp

******************************************************************************
commit ecb4a0abca5e7d187e7e6ef2a593918d29d61115
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jun 25 14:49:44 2022 +0200

    * Restore display of exception type. fix issue #39811

M	tests/test/units/convutils/tconv1.pp

******************************************************************************
commit b2ad1d3efd85f162b1180914ceee8f47ae9887c5
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jun 25 14:33:33 2022 +0200

    * Patch from Bart. Fix for issue #39797

M	packages/rtl-objpas/src/inc/convutil.inc
M	rtl/objpas/rtlconst.inc
M	tests/test/units/convutils/tconv1.pp

******************************************************************************
commit 53623d71841b1acd4676a27dff1bf4948d24f111
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jun 25 12:48:10 2022 +0200

    * Fix test regressions

M	packages/rtl-objpas/src/inc/convutil.inc
M	tests/test/units/convutils/tconv1.pp

******************************************************************************
commit e6d0b9510b23e42bf15871224652f465b198e395
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jun 25 01:38:02 2022 +0200

    * Patch from Bart, fixes issue #39801

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit 65d8c3d7ebef6ea5a893314b4a3267d3f1d6bcd6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Jun 25 00:15:31 2022 +0300

    * refactored duplicated code for epoch to datetime and vice versa conversion
      between the dos and sysutils units for the WASI platform

M	rtl/wasi/dos.pp
M	rtl/wasi/sysutils.pp
M	rtl/wasi/wasiutil.pp

******************************************************************************
commit 3ef7fedfec87ad663a98ea197f5fade1034bc052
Author: florian <florian@freepascal.org>
Date:   Fri Jun 24 22:33:27 2022 +0200

      + forgotten test file added

A	tests/test/units/convutils/tconv1.pp

******************************************************************************
commit 06ef8fba46d86a709511e4d72b8ec3cda227efac
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 24 20:56:56 2022 +0200

    webidl: fpmake

M	packages/webidl/fpmake.pp

******************************************************************************
commit 947eda3964749bf28f36db59a8774b558dac8eac
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 24 20:55:26 2022 +0200

    webidl: headers

M	packages/webidl/src/webidltopas2js.pp
M	packages/webidl/src/webidltowasmjob.pp

******************************************************************************
commit 0ac7e38797294fa66e7d8615cbe574903f061222
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 24 19:51:32 2022 +0200

    webidl: wasmjob: split unit

M	packages/webidl/src/webidltopas.pp
A	packages/webidl/src/webidltopas2js.pp
A	packages/webidl/src/webidltowasmjob.pp
M	utils/pas2js/webidl2pas.lpi
M	utils/pas2js/webidl2pas.pp

******************************************************************************
commit 1173a6b2e993482704e097cc19c31810220c1044
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 24 19:46:04 2022 +0200

    webidl: wasmjob: setter for JSValue

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit a64f44e5791be2d210308f91c262b6211f90a6a0
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 24 10:41:28 2022 +0200

    webidl: wasmjob: setter for primitive types

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit e0baf898b1f670cb09e7c59bdff2128f88c706c2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 24 10:16:51 2022 +0200

    webidl: wasmjob: getter for base types

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit bb68aa7e16a1703f603a4b75d63baa38ba74c6a5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 23 17:59:57 2022 +0200

    webidl: wasmjob: prepend classprefix to all external types

M	packages/fcl-base/src/pascodegen.pp
M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit 8eb2cea3494b684c5e5591e12b98511636ad1353
Author: florian <florian@freepascal.org>
Date:   Thu Jun 23 23:10:48 2022 +0200

      * do not throw an internal error if slice is used on dyn. array paramters, resolves #39806

M	compiler/ninl.pas
A	tests/webtbf/tw39806.pp

******************************************************************************
commit 2d8b10a5d82f3a1940ce63c7295dd10b0883add9
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Jun 8 20:23:11 2022 +0100

      * Improved TESTALL.BAT file for JVM tests

M	tests/test/jvm/testall.bat

******************************************************************************
commit ec6f3288222b0b17641d13d2b2f5a2a4f53ee385
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 23 17:38:19 2022 +0200

    fcl-base: fixed range check error

M	packages/fcl-base/src/contnrs.pp
M	packages/fcl-base/src/pascodegen.pp

******************************************************************************
commit 8d79dcc0d0454d1c0e53753c89217185961bdd4b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 23 17:18:28 2022 +0200

    webidl: exitcode 1 on exception, wasmjob: units

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidltopas.pp
M	utils/pas2js/webidl2pas.pp

******************************************************************************
commit bf52952b868320247eeb9482ba568b21483197eb
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 23 17:07:53 2022 +0200

    fcl-base: pascodegen: do not write empty line for default section

M	packages/fcl-base/src/pascodegen.pp

******************************************************************************
commit 943272b6f20d823554ec49bb57e08b66026036ae
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 23 16:30:40 2022 +0200

    webidl: dynarray: do not prepend duplicate T

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit a9ec4b3767c6475c90c195de1d623b94f30429f1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 23 16:24:16 2022 +0200

    webidl: added -f

M	utils/pas2js/webidl2pas.pp

******************************************************************************
commit 832bbe9cab4289a844a9c4f5a4c948bd1c1af78e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 23 16:19:51 2022 +0200

    webidl: TWebIDLToPasWasmJob clean up

M	packages/webidl/src/webidltopas.pp
M	utils/pas2js/webidl2pas.pp

******************************************************************************
commit 160c5a3d39089b4205c8eecc47d3707d2b00b1fa
Author: florian <florian@freepascal.org>
Date:   Wed Jun 22 22:18:02 2022 +0200

      * patch by Bart B:  Fix for TryStrToConvUnit in ConvUtils unit, resolves #39797

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit b2a5334a7594238d83b84144e41cb0e37d8fc1c9
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Jun 22 09:44:21 2022 +0200

    * fix #39795: when extracting make_prettystring it was forgotten to also append the const part of the name to the specialize name

M	compiler/pgenutil.pas
A	tests/webtbs/tw39795.pp

******************************************************************************
commit 45415f0645a09545decea45ea40ca226f47410b8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 03:58:57 2022 +0300

    + enabled compilation of package fcl-js for wasm32-wasi

M	packages/fcl-js/fpmake.pp

******************************************************************************
commit e7dc8ba5352e6155101fe1179b3141c6f49e11b8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 03:57:36 2022 +0300

    + enabled compilation of package fcl-mustache for wasm32-wasi

M	packages/fcl-mustache/fpmake.pp

******************************************************************************
commit 8471879cd9c88c0e30700db210f1abb7d54374a0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 03:55:43 2022 +0300

    + enabled compilation of package fcl-passrc for wasm32-wasi

M	packages/fcl-passrc/fpmake.pp

******************************************************************************
commit 283b1daca8cc58afd398b6e372b653732c0a3b03
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 03:53:38 2022 +0300

    + enabled compilation of package fcl-sdo for wasm32-wasi

M	packages/fcl-sdo/fpmake.pp

******************************************************************************
commit b923613eadbb455b35adae8facfb479b7f9f3629
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 03:37:36 2022 +0300

    + make use of the unsigned remainder instructions in WebAssembly (i32.rem_s, i64.rem_u)

M	compiler/wasm32/nwasmmat.pas

******************************************************************************
commit 9b16fafc526d9ea57209fa6d48a364ccb72eb1d2
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 03:21:21 2022 +0300

    + generate exception checks after calls to fpc_overflow class in WebAssembly
      branchful exceptions mode, because fpc_overflow can raise an exception in case
      unit SysUtils is included.

M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmmat.pas

******************************************************************************
commit b2350d90ea29de8c1009c8d1babfbfd9a25df899
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 02:09:05 2022 +0300

    * fixed typo in comment

M	compiler/wasm32/nwasmmat.pas

******************************************************************************
commit 09b492536594be8666b3569e0d757088b52f8533
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 02:03:05 2022 +0300

    + enabled compilation of package fcl-db for wasm32-wasi

M	packages/fcl-db/fpmake.pp

******************************************************************************
commit 9a85db897244d3745312f9247941f7e894faf3fe
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 02:02:03 2022 +0300

    + enabled compilation of package fcl-json for wasm32-wasi

M	packages/fcl-json/fpmake.pp

******************************************************************************
commit ca550e1a704e6345044d283b9921fb0fa7f66a11
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 01:54:22 2022 +0300

    + enabled compilation of unit FmtBcd for wasm32-wasi

M	packages/rtl-objpas/fpmake.pp

******************************************************************************
commit 90e43e055b34073fb92f5fd7f89a6a4ef790bf5b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 01:47:07 2022 +0300

    * fixed WebAssembly code generation for integer unary minus with overflow checking

M	compiler/wasm32/nwasmmat.pas

******************************************************************************
commit b11434a6f8f8f41730b7ec49c21bfa613bb99378
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 01:10:02 2022 +0300

    + WebAssembly: use the 64-bit div instruction, instead of an RTL helper for 64-bit division

M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmmat.pas

******************************************************************************
commit 7f34f27a1c393c264687a5148bf91744436c75ad
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 00:33:49 2022 +0300

    + enabled compilation of package symbolic for wasm32-wasi

M	packages/symbolic/fpmake.pp

******************************************************************************
commit 8920a4c08d238f7433c187db1666a4fae621b145
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 00:31:11 2022 +0300

    + enabled compilation of package webidl for wasm32-wasi

M	packages/webidl/fpmake.pp

******************************************************************************
commit 0b9e02d920f95367d89a2da0657376115411830d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jun 22 00:20:58 2022 +0300

    + enabled compilation of package libtar for wasm32-wasi

M	packages/libtar/fpmake.pp

******************************************************************************
commit 4d6e3b4e1a4a9a0d7eb8933d83c154de1f612a8f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Jun 21 23:59:25 2022 +0300

    * Don't call secondpass(left) in twasmtypeconvnode.second_int_to_real, this fixes bug #39735.

M	compiler/wasm32/nwasmcnv.pas
A	tests/webtbs/tw39735.pp

******************************************************************************
commit 14dc066d6ba599bc2ef8a34545920266f956adc8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Jun 21 23:12:28 2022 +0300

    + added check whether PPU and program are compiled in the same WebAssembly
      exceptions mode (either both are turned on, or both are turned off)

M	compiler/fppu.pas
M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit f26725e70cef018762baad434b03afb93e00bb80
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 21 09:08:28 2022 +0200

    pas2js: fixed rtl.arrayPush copy instead of reference

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 558da7363e8c3b7c459dc6475f698f3bc8a7da0c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 21 09:07:47 2022 +0200

    pastojs: commnet

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit bc6ab39ea2f13d24b8a53a177901cbf3fc689143
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Jun 21 05:43:35 2022 +0300

    * WebAssembly exceptions fix: fixed raise without parameters in except..end
      blocks in WebAssembly native and branchful exceptions mode. Fixes #39752

M	compiler/wasm32/nwasmflw.pas
M	rtl/inc/compproc.inc
M	rtl/wasm32/except_branchful.inc
M	rtl/wasm32/except_native.inc

******************************************************************************
commit 48f115686d105165d9637ffcfcce2f10b6192d9c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Jun 21 04:47:04 2022 +0300

    + print more exceptions debug info, when the WebAssembly RTL is compiled with -dEXCDEBUG

M	rtl/wasm32/except_branchful.inc
M	rtl/wasm32/except_native.inc

******************************************************************************
commit 8c5bc91855dcdb1812d0d8ad851e1eef92047187
Author: florian <florian@freepascal.org>
Date:   Mon Jun 20 22:42:42 2022 +0200

     + tests for convutils unit by Bart B, resolves #39793

M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit b4926283f8af906dd917ea966c3878f811f75843
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jun 20 08:42:50 2022 +0200

    webidltopas: show source positions

M	packages/webidl/src/webidldefs.pp
M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidlscanner.pp
M	packages/webidl/src/webidltopas.pp
M	utils/pas2js/webidl2pas.lpi

******************************************************************************
commit 2f9c283bb17f3f4f4f6cc9983f6e08e23db24d94
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 19 22:36:48 2022 +0200

    webidltopas: default GetTypeName

M	packages/webidl/src/webidldefs.pp
M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidlscanner.pp
M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit a653a4e0e99637d5858f085b1adeb527e2b9b170
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 19 22:18:34 2022 +0200

    webidltopas: started split TWebIDLToPas2js

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit b4cf545a94870056395983691ac2b9fb9e6bd883
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 19 22:05:12 2022 +0200

    webidltopas: started split TWebIDLToPas2js

M	packages/webidl/src/webidltopas.pp
M	utils/pas2js/webidl2pas.pp

******************************************************************************
commit ad9383f2c09bb277e4a3ee9a0e3fb8a3d80499c5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 19 21:03:10 2022 +0200

    webidltopas: started outputformat

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidltopas.pp
M	utils/pas2js/webidl2pas.pp

******************************************************************************
commit 9a9a87a94babe84cfd0e7c98ad4444ef342b722b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Jun 19 18:29:02 2022 +0200

    webidl: fixed AV on field without type

M	packages/webidl/src/webidltopas.pp

******************************************************************************
commit a0f69557cc15fa9fcac56658a4cbbfa3c480385b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jun 19 17:22:07 2022 +0200

    * Actually write error message if there is one

M	packages/fcl-web/examples/websocket/client/wsclient.lpr

******************************************************************************
commit 7335f0c1d643629c539c221686fd353bdad8096f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jun 19 17:21:42 2022 +0200

    * Print help message

M	packages/fcl-web/examples/websocket/server/wsserver.lpr

******************************************************************************
commit 7d0d909a741ab29294313af6fe1eea32bd37075a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jun 19 17:14:53 2022 +0200

    * need to pass connection. Do not call disconnect event twice

M	packages/fcl-web/src/websocket/fpcustwsserver.pp

******************************************************************************
commit a4d8d2c2108fb83b489d2fa0ab03177c11b6395c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jun 19 16:53:58 2022 +0200

    * Fix from Bart for unregistering out of range families. Fix issue 39791

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit a0b637530cd7b81d5587907e0867075f9d7fd102
Author: florian <florian@freepascal.org>
Date:   Sun Jun 19 16:17:56 2022 +0200

      * remove accidently commited  writeln

M	compiler/scandir.pas

******************************************************************************
commit 50af4d03888997a768c626627e395cdc76fcba76
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jun 19 14:55:12 2022 +0200

    * OnDisconnect called too often

M	packages/fcl-web/src/websocket/fpcustwsserver.pp
M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit ac6637276b67c6fe377b3566bbd28c49ae3db365
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jun 19 12:51:28 2022 +0200

    * Free extra headers after disconnect

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 1ac2334b593e9ba9d9b3442fd1c1952e8fb1ec75
Author: florian <florian@freepascal.org>
Date:   Sat Jun 18 21:02:01 2022 +0200

      * do not use Dwarf-4 yet as it is too little tested and has no benefits

M	compiler/systems/i_linux.pas

******************************************************************************
commit d2a1f9cb200b2b2b7ee5219c16e4250b037cb043
Author: florian <florian@freepascal.org>
Date:   Sat Jun 18 20:13:03 2022 +0200

      * get rid of cs_opt_none
      * $O+ sets cs_opt_level2 instead of cs_opt_none which made no sense

M	compiler/globtype.pas
M	compiler/scandir.pas
M	compiler/switches.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit d5a50eee8aeab634b763e2b8e9c80f4936c50fcc
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 18 16:49:19 2022 +0200

    x86-64: properly set parameter alignment if not default

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit c42e64db82d1c0c40a4b470d46bc70e3fd4a2477
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 18 16:15:47 2022 +0200

    x86-64: keep tcgpara vardef the same as the para's real def
    
    Only override the paraloc's vardef if necessary. This fixes compilation of
    tests/test/cg/tvectorcall*.pp for LLVM

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 1b2d7755aceb4592607340d8703410aab776be54
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 18 15:11:04 2022 +0200

    darwin: also run dsymutil for DWARF 4

M	compiler/systems/t_darwin.pas

******************************************************************************
commit 2a7100be8763501ac345d9a907fa46b7aeeaabf7
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 18 16:29:18 2022 +0200

    webidl: extended attributes, exposed=*

M	packages/webidl/src/webidldefs.pp
M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidlscanner.pp
M	packages/webidl/tests/tcidlparser.pp

******************************************************************************
commit 2b6c46b50d6de99750619bdc399cf3839399d9df
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 18 16:06:02 2022 +0200

    webidl: less hints

M	packages/webidl/src/webidlparser.pp

******************************************************************************
commit 6d9578a38f0e5448e42efe18159255fbf09caf7e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 18 15:49:48 2022 +0200

    webidl: ifndef

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidlscanner.pp
M	packages/webidl/tests/tcidlparser.pp

******************************************************************************
commit 6719b7df29df885c603806a44f3e34b1a5b2e7ae
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 18 14:57:34 2022 +0200

    webidl: attribute name interface

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/tests/tcidlparser.pp

******************************************************************************
commit 75f8d43e363fe326b87dd7654c7427a13dcbbd68
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 18 14:26:53 2022 +0200

    fcl-passrc: use TMaxFloat

M	packages/fcl-passrc/src/pscanner.pp

******************************************************************************
commit 1471d49fb6d6696ddfaa79bd53ec39c7f1dc1a60
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 18 14:26:11 2022 +0200

    webidl: #if defined()

M	packages/webidl/src/webidlscanner.pp
M	packages/webidl/tests/tcidlparser.pp

******************************************************************************
commit bf25b32cb23331bf2e4357965384ff22bcb13603
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 18 14:25:37 2022 +0200

    webidl: fixed typos

M	utils/pas2js/webidl2pas.pp

******************************************************************************
commit b1981d646ee5769e6925665a1e7e1b10d756080c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 17 19:37:24 2022 +0200

    webidl: #ifdef..#endif

M	packages/webidl/src/webidlscanner.pp
M	packages/webidl/tests/tcidlparser.pp

******************************************************************************
commit 3348b9f01b6cd52656ef435aba5bab22c538dbfb
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 17 18:52:04 2022 +0200

    webidl: fixed attribute name required

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/tests/tcidlparser.pp

******************************************************************************
commit b16ce8806b6819770d0f207eceaaabf834f67740
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jun 18 14:48:58 2022 +0200

    * Fix arrayPush

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 7822a90e209cc3f1cf74c0eedd100b2ae0f4b523
Author: ccrause <christo.crause@gmail.com>
Date:   Fri Jun 17 22:56:10 2022 +0200

    Increase reference count of jump label, fixes #39784

M	compiler/avr/aasmcpu.pas

******************************************************************************
commit 6fb16ceec631a8067fc7c1dc9384fe29cff6f142
Author: marcoonthegit <marco@freepascal.org>
Date:   Sat Jun 18 15:26:23 2022 +0200

     * enable dbus for freebsd

M	packages/dbus/fpmake.pp

******************************************************************************
commit 5418ccf31ebfe3857cfa784367f22eab253e1f22
Author: marcoonthegit <marco@freepascal.org>
Date:   Sat Jun 18 14:52:24 2022 +0200

     * fix bootstrapping *BSD with 3.2.2, which isn't flagged as supporting weakexternal on those targets

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 46de243fe607d4117a40994bb7b135013708f617
Author: marcoonthegit <marco@freepascal.org>
Date:   Sat Jun 18 14:50:13 2022 +0200

     * fix bootstrap with 3.2.2, whi

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 94665a40d760b6cdc22b89278c201ace10a0b57f
Author: florian <florian@freepascal.org>
Date:   Fri Jun 17 23:38:29 2022 +0200

      * optimize a-const1-const2 when const1 and const2 are real constants and fast math is on, part of fixing #39782

M	compiler/nadd.pas

******************************************************************************
commit d92bc0e7606b7e1d207e55fca54deebcbba569ff
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jun 17 21:43:02 2022 +0200

    llvmdbg: fixed variant fields
    
    They have to be members with a union type, rather than union types
    themselves.

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit b68512a96987120e021db04cd15865bc91e4e102
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jun 15 21:52:22 2022 +0200

    llvmpara: don't crash if a parameter has no paralocs

M	compiler/llvm/llvmpara.pas

******************************************************************************
commit 5ca8593f143c6420891f96bb871e70354fc6de6c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 17 15:26:08 2022 +0200

    fcl-passrc: fixed overload double override

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit eed6effe27a384a2455c76d41811677aa2279ac9
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Jun 16 21:49:46 2022 +0000

     Put systems_bsd into systems_weak_linking to fix heaptrc compilation failure for netbsd and dragonfly target OS introduced by commit ae346a87

M	compiler/systems.pas

******************************************************************************
commit e28b76a64e197166d26620b550ff959e22bd0435
Author: florian <florian@freepascal.org>
Date:   Thu Jun 16 23:01:18 2022 +0200

      * avr tiny has no adiw/sbiw instructions, resolves #39783

M	compiler/avr/cpuinfo.pas

******************************************************************************
commit 98ec81896e01c501f7215dd2a39f535621b4c4f4
Author: florian <florian@freepascal.org>
Date:   Wed Jun 15 23:29:53 2022 +0200

      * do not throw messages on potentially uninitialized internal symbols, resolves #39744

M	compiler/optdfa.pas
M	compiler/procdefutil.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp
A	tests/webtbs/tw39744.pp

******************************************************************************
commit ae346a87a128eb15db921cad916258839a1fe5ce
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Jun 15 22:55:13 2022 +0200

    * ensure that the heaptrc unit can be used on Linux and BSD without linking against the C library

M	rtl/inc/heaptrc.pp

******************************************************************************
commit c3f27a2f1c2fe0f1db4594aaa5d111eaf50dc78a
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Jun 15 22:49:22 2022 +0200

    * don't load the controller unit if the currently compiled unit *is* the controller unit (which might happen if one compiles the controller unit as part of a program)

M	compiler/pmodules.pas

******************************************************************************
commit d8196a6ffe33a6315645c8f91e3247055b4a9c52
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jun 15 09:46:04 2022 +0200

    webidl: parse stringifier;

M	packages/webidl/src/webidldefs.pp
M	packages/webidl/src/webidlparser.pp
M	packages/webidl/tests/tcidlparser.pp

******************************************************************************
commit cc3589d459a7e8b4dcac2957809e0d6d541c8e94
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jun 15 09:20:58 2022 +0200

    webidl: allow func arg name callback

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/tests/tcidlparser.pp

******************************************************************************
commit a0f572892ecea623a8004a8d2dd023bfdef2218c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jun 15 09:08:26 2022 +0200

    webidl: parse getter/setter with default name

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/tests/tcidlparser.pp

******************************************************************************
commit 32c3e6e844c1b305f3c3e1a5c799b7af8bc7ff38
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jun 15 08:39:35 2022 +0200

    * OnDisconnect before disconnecting objects (cleanup). Fix issue #39780

M	packages/fcl-web/src/websocket/fpwebsocketclient.pp

******************************************************************************
commit 9f7b814747deb93c7d34dcd35f46adeb895e50d5
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jun 15 08:37:38 2022 +0200

    * OnDisconnect before disconnecting objects

M	packages/fcl-web/src/websocket/fpwebsocketclient.pp

******************************************************************************
commit 82bfe6cf0ddf5bea81f8560f3cfd84137161e8b4
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Jun 15 00:10:14 2022 +0200

    webidl: parse [LegacyNullToEmptyString] DOMString

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/tests/tcidlparser.pp

******************************************************************************
commit 5446a3afec4a203157f58aacf0f18bbd5b04ef1f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 14 21:45:02 2022 +0200

    webidl: fixed parsing optional attributes

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/tests/tcidlparser.pp
M	utils/pas2js/webidl2pas.lpi

******************************************************************************
commit b28adbad5f0e67ee1231c2db8d7618ad7130b58d
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Tue May 3 18:34:05 2022 +0200

    db xmldatapacketreader: don't use PChar in InitLoadRecords

M	packages/fcl-db/src/base/xmldatapacketreader.pp

******************************************************************************
commit bcdb68a8c4b512b845c6e0291a86a0e5b03d7344
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 14 18:13:10 2022 +0200

    webidl: fixed keeping stacktrace on exception, fixed uninitializd var in ParseConst, gitignore linux test file, parse empty interface without brackets

M	packages/webidl/src/webidlparser.pp
M	packages/webidl/src/webidltopas.pp
A	packages/webidl/tests/.gitignore
M	packages/webidl/tests/tcidlparser.pp
M	packages/webidl/tests/tcidlscanner.pp
M	packages/webidl/tests/testidl.lpi
M	utils/pas2js/webidl2pas.lpi

******************************************************************************
commit 598da1936e0f95aeadea62ed77cd1eaae45f43dc
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Jun 14 14:33:21 2022 +0200

    * change ChangeMessageVerbosity from String to AnsiString as long parameters might be passed to it

M	compiler/verbose.pas

******************************************************************************
commit 5562e3e440991e5d1270ea81925c403e1425da4e
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Jun 14 14:32:47 2022 +0200

    + add a AnsiString based overload of GetToken

M	compiler/cutils.pas

******************************************************************************
commit 0d8156fee9625e8d85aa67f2667b7bf77e1dbfec
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Jun 14 14:10:53 2022 +0200

    * use a TCmdStr as parameter for SetVerbosity as it gets passed a TCmdStr in the option handling, thus may contain a parameter value (especially -vmXXX) larger than 255 characters

M	compiler/verbose.pas

******************************************************************************
commit d153c75e84df79e2765ee566a40e2e7b4af1e39d
Author: florian <florian@freepascal.org>
Date:   Mon Jun 13 23:07:22 2022 +0200

      * small MIPS64 fix

M	compiler/mips/cpupara.pas

******************************************************************************
commit 03a961709b0a41630ae65f3723df5470bd34d58e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Jun 13 22:51:14 2022 +0200

    arm paramanager: always create at least one paraloc
    
    Even for parameters of 0 bytes. Matches behaviour on other targets.

M	compiler/arm/cpupara.pas

******************************************************************************
commit dfe78668c2673286fc50f504881ed45d2ab99d15
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Jun 13 11:25:23 2022 +0200

    * fix for "other" keyword

M	packages/webidl/src/webidlparser.pp

******************************************************************************
commit 480199a7d974b23fb1b790079cb206bad7d4829f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Jun 13 10:10:36 2022 +0200

    * Patch from Bart, Fix issue #39778

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit def37052f159ff189b79860a51f66fb97f3904ab
Author: florian <florian@freepascal.org>
Date:   Sun Jun 12 23:00:09 2022 +0200

      + RiscV32: patch by kupferstecher: compiler support of CH32V30*, part of #39777

M	compiler/riscv32/cpuinfo.pas

******************************************************************************
commit 3a34fc7be3402cb52a436935f31c3c4ccb5a2d86
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 12 21:07:35 2022 +0200

    llvm: use formaldef rather than undefineddef for llvm_metadata
    
    Better matches the intent, and fixes compilation issues on AArch64

M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmpara.pas
M	compiler/llvm/nllvmcal.pas
M	compiler/psystem.pas

******************************************************************************
commit 25999ad8fff58ed787b8ec2999e5963052b1699f
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sun Jun 12 11:24:38 2022 +0200

    llvm: support for opaque pointers
    
    Will be the default starting with LLVM 15, and required with LLVM 16.
    Tested with LLVM 14 and '-mllvm -opaque-pointers'. See
    https://releases.llvm.org/14.0.0/docs/OpaquePointers.html for more
    information.

M	compiler/llvm/agllvm.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvminfo.pas
M	compiler/llvm/llvmtype.pas
M	compiler/llvm/nllvmcnv.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 71c58c7b3d050d931f624c485f762f5fa1e30e51
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sun Jun 12 11:16:24 2022 +0200

    agllvm: missing space between type and tai operand

M	compiler/llvm/agllvm.pas

******************************************************************************
commit d45076d9d6bb0c73c91b9a615679d3fc277e7cdb
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sat Jun 11 11:15:34 2022 +0200

    nllvmadd: fix not always forcing pointer constants in registers
    
    There could have been a typeconversion around the pointerconstn/niln.
    This was hidden because llvmtype fixed it up later, but with opaque
    pointers it showed up again.

M	compiler/llvm/nllvmadd.pas

******************************************************************************
commit 2ce4f0baf561ba5ace64b9389c9f156f0c618909
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sat Jun 11 11:14:26 2022 +0200

    defutil: new is_address() helper
    
    Returns whether a def represents an address

M	compiler/defutil.pas

******************************************************************************
commit ae36829ecd629e506c94bdf3b202e3a3ad44c868
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Fri Jun 10 22:09:55 2022 +0200

    regexpr: disable forced optimisation switch
    
    This should be specifiable via (fp)make

M	packages/regexpr/src/regexpr.pas

******************************************************************************
commit e6b8aa07d7ebdab77f72838fb3a36035c4d75d19
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Wed Jun 8 12:58:58 2022 +0200

    dbgllvm: removed some commented-out declarations

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit fc94770cdb70e26d869c8a75e2b9bd70f171e692
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Tue Jun 7 23:08:43 2022 +0200

    dbgllvm: emit all symbolic constants as enum values/strings
    
    Easier to read in the .ll files, and avoids potential mismatches with their
    value in LLVM (in case it changes across LLVM versions)

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 9201047f31ec67e94b578ace4ac6537db69fd3c9
Author: florian <florian@freepascal.org>
Date:   Sat Jun 11 23:08:58 2022 +0200

      * a few more MISP64 fixes

M	compiler/mips/cgcpu.pas

******************************************************************************
commit f77bd0226f76b7bccda774c7b09adf42384d6b00
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jun 11 17:12:22 2022 +0200

    * Fix missing inherited

M	packages/fcl-web/src/jsonrpc/webjsonrpc.pp

******************************************************************************
commit 0cc00b355ccdf38ff61e21c1ae7cd666ef781026
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jun 11 11:47:35 2022 +0200

    * Fix by Bart to fix conversion to temperature. Fix issue 39776

M	packages/rtl-objpas/src/inc/convutil.inc
M	rtl/objpas/rtlconst.inc

******************************************************************************
commit 9056887aaedd811e0518ebb1b98219b561e04cba
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jun 11 00:55:27 2022 +0200

    * Correct windows DLL name

M	packages/wasmtime/src/wasmtime.pp

******************************************************************************
commit 22926e4fc7a522d8985028922e6e3fd2bdcb46f8
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 11 00:21:07 2022 +0200

    pastojs: faster concat append array:=array+

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 34605e9cd1138632d3b5b099aed9836816059d3e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 10 23:39:52 2022 +0200

    pastojs: faster concat append for var args

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 41495627876fe3c013abdd8e9f650be3a3ccea98
Author: florian <florian@freepascal.org>
Date:   Fri Jun 10 23:20:26 2022 +0200

      * more MIPS64 fixes

M	compiler/mips/cgcpu.pas

******************************************************************************
commit 1e3c5865deec7240c649ba147f9616b3f7364494
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 10 23:12:30 2022 +0200

    pastojs: fixed concat append for nil and referenced array

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas
M	utils/pas2js/dist/rtl.js

******************************************************************************
commit d3a2145e5a7fed0a8710ab939365ed2fca07864a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 10 18:46:18 2022 +0200

    pastojs: faster AnArray:=Concat(AnArray,...)

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jsfiler.pp
M	packages/pastojs/tests/tcconverter.pas
M	packages/pastojs/tests/tcfiler.pas
M	packages/pastojs/tests/tcmodules.pas
M	utils/pas2js/dist/rtl.js

******************************************************************************
commit cba89a4713bfcf19444fae0ea0a5c5c381ef1b7c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 10 16:32:52 2022 +0200

    pas2js: faster arrayConcatN

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 2dd072a492f7e8d718801470d786f694ce8b08f0
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 10 15:48:21 2022 +0200

    pastojs: started array of interface

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas
M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 330b0b11575e4ddccc687708b8a3d4d70a5d4ac4
Author: marcoonthegit <marco@freepascal.org>
Date:   Fri Jun 10 10:41:54 2022 +0200

    * Fix for ConvUtils.CompatibleConversionTypes by Bart, resolves bug #39775

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit b0b034805c46a889fdff9ec989560ff97e31a130
Author: marcoonthegit <marco@freepascal.org>
Date:   Fri Jun 10 10:38:14 2022 +0200

    * Implements some more Delphi compatible functions in ConvUtils unit, resolves
    bug #39773

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit 8bd1f196393e22d49f8bd281da3d4cf3c0926891
Author: florian <florian@freepascal.org>
Date:   Thu Jun 9 22:55:11 2022 +0200

      * few MIPS64 fixes

M	compiler/mips/cpubase.pas

******************************************************************************
commit deddc441bc0023d1bf64f61408fdcb1d57edac34
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 18:31:19 2022 +0200

    pastojs: updated date

M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit 0a8e174efc32eaf5d7c320680493f7df29411dac
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 18:28:06 2022 +0200

    fcl-passrc: fixed compile

M	packages/fcl-passrc/src/pparser.pp

******************************************************************************
commit b7e64867be297b95a4e4fef330e422a0725d3368
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 17:00:32 2022 +0200

    pastojs: TPasElement free instead of reference count

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jscompiler.pp
M	packages/pastojs/src/pas2jsfiler.pp
M	packages/pastojs/tests/tcfiler.pas
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 1fc7609fa898962cb9187cee44e660d597fd76f2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 17:00:15 2022 +0200

    fcl-passrc: TPasElement free instead of reference count

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/src/passrcutil.pp
M	packages/fcl-passrc/src/pastounittest.pp
M	packages/fcl-passrc/src/pastree.pp
M	packages/fcl-passrc/src/pasuseanalyzer.pas
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcbaseparser.pas
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit acc8c69cf582a3643341085226e8a57842191123
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 16:21:24 2022 +0200

    fpdoc: free TPasElement instead of reference count

M	utils/fpdoc/dglobals.pp

******************************************************************************
commit eae098ae3e44dd98e50902ff9be8e2ba5729fcd2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 15:56:20 2022 +0200

    pastojs: fixed tests

M	packages/fcl-passrc/src/pastree.pp
M	packages/pastojs/tests/tcconverter.pas

******************************************************************************
commit 11e4f6285d382916fc6aa1807f4600cdf0b58ee2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 12:30:35 2022 +0200

    pas2js: fixed mem leak pcu

M	packages/fcl-passrc/src/pparser.pp
M	packages/pastojs/src/pas2jsfiler.pp

******************************************************************************
commit 31c893407191eabd96a2e866943b8d2cd8c3d2bf
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 12:23:04 2022 +0200

    pas2js: fixed mem leak resources

M	packages/pastojs/src/pas2jscompiler.pp
M	packages/pastojs/src/pas2jshtmlresources.pp

******************************************************************************
commit 2970d98550d5d666c78513ed072240e0a6a99cfd
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 12:18:38 2022 +0200

    pas2js: fixed mem leak file cache

M	packages/pastojs/src/pas2jsfilecache.pp

******************************************************************************
commit a6be7fc1c2a3c4d3bb98e09d266fdbe76dc9f77f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 12:06:36 2022 +0200

    pastojs: fixed mem leak with specializations

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit 3f2e2ad0fa97b8bdcc10fd85fae8ca0bfe3d07ee
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 12:02:07 2022 +0200

    fcl-passrc: fixed directives DispatchField and DispatchStrField

M	packages/fcl-passrc/src/pscanner.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit e49094f0456f6bff7a98b94d9c925f7a22b835c1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jun 9 08:50:17 2022 +0200

    pastojs: TPasElement free instead of refence count

M	packages/fcl-passrc/src/pparser.pp
M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit a01c20ad20a8741c20f5823dca8465e73908dcab
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 7 22:53:29 2022 +0200

    pastojs: started TPasElement free instead of refence count

M	packages/fcl-js/src/jstree.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jscompiler.pp
M	packages/pastojs/src/pas2jsfiler.pp
M	packages/pastojs/tests/tcfiler.pas
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 9e8903383beb58b50b32f85f9217c1c89c9ed78f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 7 21:47:24 2022 +0200

    fcl-passrc: transition TPasElement from reference count to free

M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit 64a8c73df231fecf3cdf24f05bace9ac8a155213
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jun 7 21:45:42 2022 +0200

    fcl-passrc: transition TPasElement from reference count to free

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/src/passrcutil.pp
M	packages/fcl-passrc/src/pastounittest.pp
M	packages/fcl-passrc/src/pastree.pp
M	packages/fcl-passrc/src/pasuseanalyzer.pas
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/src/pscanner.pp
M	packages/fcl-passrc/tests/tcbaseparser.pas
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit b4666447243b0d2c3fd8eb09884ae2363aa3cb85
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jun 6 19:46:36 2022 +0200

    fcl-passrc: started transition TPasElement reference counting to Parent free

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/src/pastree.pp
M	packages/fcl-passrc/src/pasuseanalyzer.pas
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcexprparser.pas
M	packages/fcl-passrc/tests/tconstparser.pas
M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/fcl-passrc/tests/tcstatements.pas
M	packages/fcl-passrc/tests/tctypeparser.pas
M	packages/fcl-passrc/tests/tcvarparser.pas

******************************************************************************
commit 33f5da686ea0c853f5259277ed458b02e8d95a82
Author: Dimitrios Chr. Ioannidis <d.ioannidis@nephelae.eu>
Date:   Wed Jun 8 23:10:36 2022 +0300

    TInetSocket connect timeout support under 1 second fix.
    
    
    (cherry picked from commit f20b6275563a6051ea91ab2f1b1521dd287be83f)

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit c13517634fb6065309eda729db210ea2af3b1e32
Author: florian <florian@freepascal.org>
Date:   Wed Jun 8 22:59:09 2022 +0200

      * patch by Rika: Replace some instances of manual work with endianness with cryptic oneliners, resolves #39719

M	compiler/ogomf.pas
M	compiler/omfbase.pas
M	compiler/owomflib.pas
M	compiler/symtype.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit ec97a511d5ff005877006ba199a287a7f4287872
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Jun 8 22:43:45 2022 +0200

     Remove accidently added binaries in commit 0e142c00

D	packages/fpmake-llvm
D	packages/fpmake-reg

******************************************************************************
commit da5865139840a94a35177e27297296244787876d
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Jun 8 10:29:58 2022 +0000

    Avoid Invalid typecast error when using -CR option by using tabstractrecordsymtable type for record or object symtable

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit a730bf2b003c3715c19d4fa0a7c56407e3760f36
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Jun 8 00:07:05 2022 +0200

    Fix oversized type size constant

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 9e8d779f316db1895795a5fa191e4e50c27ffeb5
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Jun 8 00:00:20 2022 +0200

    Fix compilation of arm compiler with LLVM=1

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 2307dc8f26b202a6eef263f2e2d7e6d2ec04a641
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Jun 7 12:56:57 2022 +0200

     Try to fix real constant problems for llvm compiler

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit f382f2d6edcda2ea561d522194d61a8845b596b9
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Tue Jun 7 21:16:09 2022 +0200

    dbgllvm: support for tobjectdef debug information
    
    Classes, objects, interfaces, Objective-C classes, ...

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 61f01ded6193cd804b04960e151725e53c8cddc2
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Tue Jun 7 21:13:57 2022 +0200

    dbgllvm: struct_metadef fixes
    
    It will be used to hold a reference to the underlying structure of a class,
    whose type is represented as a pointer to a DW_TAG_class_type for compatibility
    with the debug information generated by the FPC backend (otherwise we could
    instead just add a deref expression to all variables of such a type)

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit addd0e7dcfd08c9bcdc1a9d636d75941cf1c8530
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Tue Jun 7 21:12:49 2022 +0200

    dbgllvm: skip static fields when writing struct fields
    
    These are not part of the struct instances

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit f9b216f99a3dd7822d9f3f112aa1ebb7c8590f20
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Tue Jun 7 21:12:01 2022 +0200

    dbgllvm: remove tmembercallbackinfo
    
    Leftover from dbgdwarf, not used here

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 4c8249de3429731be1c98dbe8a75ab5d9ec6380f
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Tue Jun 7 21:10:51 2022 +0200

    dbgllvm: added appenddef_struct_named
    
    Factored out of appenddef_record_named for reuse by objectdefs.
    
    Also moved responsibility of adding the struct dinode to the asmlist
    to the caller, as the name of this method does not imply it will do
    that.

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit f2c8018f9bdd78f0a7a6e7ef16b235fb81ec01bb
Author: marcoonthegit <marco@freepascal.org>
Date:   Mon Jun 6 23:13:27 2022 +0200

    * Add some Delphi compatibel constants to the ConvUtils unit bug 39771

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit 167f434e84b212e94d88ab6beb5256876b45525d
Author: marcoonthegit <marco@freepascal.org>
Date:   Mon Jun 6 23:12:05 2022 +0200

    * Implement CompatibleConversionType and CompatibleConversionType for ConvUtils unit bug #39770

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit 7886233b0ee033daa47f3a843e1c58664c20d1ed
Author: marcoonthegit <marco@freepascal.org>
Date:   Mon Jun 6 23:10:14 2022 +0200

    * Implement ConvUnitAdd, ConvUnitDiff, ConvUnitInc and ConvUnitDec bug #39769

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit 7da3e17571b49af62db85185272b4284df90c7bd
Author: marcoonthegit <marco@freepascal.org>
Date:   Mon Jun 6 23:05:02 2022 +0200

    * Implement ConvUtils.ConvUnitCompareValue and ConvUtils.ConvUnitSameValue bug
    #39768

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit 706443c354b0c9db48f7461a15f48086deb5a187
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Mon Jun 6 23:12:25 2022 +0200

    dbgllvm: support for record field debug information

M	compiler/llvm/dbgllvm.pas
M	compiler/symsym.pas

******************************************************************************
commit b456833b03f54db6bea77cb2f4df20c856eba971
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Mon Jun 6 10:24:05 2022 +0200

    aasmllvmmetadata: remove leftover unused type

M	compiler/llvm/aasmllvmmetadata.pas

******************************************************************************
commit 5d02c65425b2cb33d5c3b6ca07a13c35b4dac90a
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sun Jun 5 23:00:39 2022 +0200

    objcdef: remove duplicate variant start check

M	compiler/objcdef.pas

******************************************************************************
commit 76e3cfc38f770ac7fc6ef9cc2a1720eea5b4e99c
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sun Jun 5 22:30:44 2022 +0200

    parentfpstruct: don't add vo_is_firstfield to first field of record
    
    That flag is only for the first field of variant parts of records

M	compiler/symcreat.pas

******************************************************************************
commit 60c95032fa92ee43565368feb999d9c66e1d9c64
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sun Jun 5 22:12:52 2022 +0200

    llvm: removed Xcode 10.0/10.1 as supported versions
    
    These already did not work because they predate clang 7

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 927e3fd455e895dea7a8af31eeb5bc82c6f7d24f
Author: florian <florian@freepascal.org>
Date:   Mon Jun 6 22:13:47 2022 +0200

      * patch by Rika: improve EncodeUleb128/EncodeSleb128, second part of #39750, resolves #39750

M	compiler/cutils.pas

******************************************************************************
commit 3751958a32e2446b410fb94e09fe136fce538fe8
Author: marcoonthegit <marco@freepascal.org>
Date:   Mon Jun 6 17:28:31 2022 +0200

    * Fix not setting result in ConvUtils.RegisterConversionType mantis #39767

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit 3c4f1c454f7fa720e14dd7e9fe2a5d9c53b79a01
Author: marcoonthegit <marco@freepascal.org>
Date:   Mon Jun 6 17:20:51 2022 +0200

    * commit weird temperature scale conversion bug #39763

M	packages/rtl-objpas/src/inc/stdconvs.pp

******************************************************************************
commit 18c0a0eebe5001f3ad5936f6f74eb816e35947ff
Author: marcoonthegit <marco@freepascal.org>
Date:   Mon Jun 6 17:19:49 2022 +0200

    * * commit convertfrom/to fixes from bug #39764 and #39765

M	packages/rtl-objpas/src/inc/convutil.inc

******************************************************************************
commit 51ab0d759f6138a639453a429216f0907ac8dae8
Author: florian <florian@freepascal.org>
Date:   Sun Jun 5 20:51:47 2022 +0200

      * patch by Rika: improve EncodeUleb128/EncodeSleb128, part of #39750

M	compiler/cutils.pas

******************************************************************************
commit 7ddeaa54c0e5f112df0d24ee6f718e8b2d43da2d
Author: marcoonthegit <marco@freepascal.org>
Date:   Sun Jun 5 18:51:52 2022 +0200

    * patch from Bart to fix convutils temperature fix.

M	packages/rtl-objpas/src/inc/convutil.inc
M	packages/rtl-objpas/src/inc/stdconvs.pp

******************************************************************************
commit 1a28b1b5c48acce54ffc534d2d057735e45c24c9
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 4 22:51:36 2022 +0200

    fpdoc: less hints

M	utils/fpdoc/dglobals.pp
M	utils/fpdoc/dwriter.pp

******************************************************************************
commit 43444ab7f0680d1b1b003aae5ab5a251e7d4e298
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 4 22:49:29 2022 +0200

    fcl-passrc: fixed releasing modules of a package

M	packages/fcl-passrc/src/pastree.pp

******************************************************************************
commit 1d8b21bcfc2ed4b60fe625ff82c75153bf77f05c
Author: florian <florian@freepascal.org>
Date:   Sat Jun 4 22:26:45 2022 +0200

      * align memory blocks in cmem at least to stack alignment boundaries, resolves #39730

M	rtl/inc/cmem.pp

******************************************************************************
commit 25e832940cb6fa76e0c365762f66c466a1e6eef3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 4 22:14:02 2022 +0200

    llvmdbg: support for generating debug information for local/para varsyms
    
    Note that not all symbols are covered yet, because absolutevarsyms are not
    yet supported and those are e.g. used for function result aliases.
    Additionally, not all types are fully supported yet.

M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/dbgllvm.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit e7ec91eca8b4182e97a6cb88f50504285495df6c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 4 21:49:27 2022 +0200

    dbgllvm: rename hastable for staticvarsym declarations

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit a76038e1d1eb5a07a2cab78044e793f947247457
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 27 21:24:59 2022 +0200

    hlcgobj: new getlocal and recordnewsymloc methods
    
    Call hlcg.getlocal instead of tg.getlocal when used for actual parameters/local
    variables. Has an extra tsym parameter, which will enable the LLVM backend to
    insert debug information.
    
    Call hlcg.recordnewsymloc when the location of a (local/para) symbol changes,
    so debug info tracking can be updated (only done for LLVM currently)

M	compiler/hlcgobj.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/ncgld.pas
M	compiler/ncgutil.pas

******************************************************************************
commit a76085e463af334c83a13341f3349e6ee29d396c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 27 21:23:09 2022 +0200

    tllvmcallpara: record whether it's passed to metadata
    
    Sometimes we need the def to store a the original def of the passed parameter,
    e.g. for the first argument to llvm.dbg.addr

M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 41a6c5e967abc1588e2fa9bbb301704555b31b7b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 27 21:21:01 2022 +0200

    agllvm: support specialised metadata with field names
    
    Necessary for DIExpression

M	compiler/llvm/agllvm.pas

******************************************************************************
commit c92a035614a1c9866ca2daba28ae283974b68219
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 27 21:20:42 2022 +0200

    agllvm: support nested constants in parameters
    
    Needed for metadata support

M	compiler/llvm/agllvm.pas

******************************************************************************
commit abfd975571b3fd59209717b7ec76e2740aa97507
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu May 26 14:21:38 2022 +0200

    TCGParaLocation: remove alignment gap

M	compiler/parabase.pas

******************************************************************************
commit dc1e0a6bb3391a0fc1dc1b031abb454b0f1f4dd7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu May 26 13:39:15 2022 +0200

    tllvmcallpara: turned into object and added convenience methods

M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmtype.pas
M	compiler/llvm/nllvmbas.pas
M	compiler/llvm/rgllvm.pas
M	compiler/parabase.pas

******************************************************************************
commit fe0048bcecff7c5c9af3fa64be991da072fb1ec1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon May 23 22:16:26 2022 +0200

    llvm: changed llvm_metadatatype from untyped pointer to undefineddef
    
    That matches its meaning better, as it should not result in type conversions.
    E.g. some kinds of metadata parameters expect a "type register" parameter such
    as "metadata i32* %reg.3"

M	compiler/llvm/llvmdef.pas
M	compiler/psystem.pas

******************************************************************************
commit aa43441ac98ddd6cf5fcb6b6109775a4ec91ee33
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 22 22:07:51 2022 +0200

    llvm: replaced boolean fields in tllvmcallpara with a set

M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/nllvmbas.pas

******************************************************************************
commit 573b2554f4ed717c9d6f8ebed7e0fcb29021ff86
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 4 15:46:02 2022 +0200

    llvminfo: fix copy/paste error in llvm 14 comment
    
    Spotted by @Alexey-T1

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 13ebe495dfe85ce19b5013c995468ff5001a2c3d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 4 21:09:40 2022 +0200

    fcl-passrc: fixed parsing property hints

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit 36d7b534378976f9afae0001765e133166bac41e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 4 20:40:32 2022 +0200

    fcl-passrc: resolver: fixed emit hints for used units

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit a45e5e7ab643ada0dc7c122c405a3e84078a9e89
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 4 13:34:09 2022 +0200

    llvm: version 14.0 support

M	compiler/llvm/agllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 309d8a90fd2b03fedbef3577b8b793d583c20fc5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Jun 4 10:52:20 2022 +0200

    fcl-passrc: fixed searching overload in mode delphi

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit 49ad3b0d2c03a4bbfab9fbe779044357c1e0546c
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sat Jun 4 10:23:11 2022 +0200

    msg*.inc: regenerated

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 3ef0db24047a6e5108585a9be8f68bcba18e4903
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sat Jun 4 10:22:19 2022 +0200

    LLVM: list supported LLVM/Xcode versions
    
    Use the -i or -il command line parameter

M	compiler/msg/errore.msg
M	compiler/options.pas

******************************************************************************
commit 591c1b0177b188bdb18572a0b3b20dd1d1ac076b
Author: Jonas Maebe <jonas-devlists@watlock.be>
Date:   Sat Jun 4 09:43:39 2022 +0200

    llvm: added support for newer Xcode toolchains
    
    Based on https://en.wikipedia.org/wiki/Xcode#Xcode_11.x_-_13.x_(since_SwiftUI_framework)_2

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit a05aa25aadd53a6e9857e511a82158c782c61678
Author: florian <florian@freepascal.org>
Date:   Fri Jun 3 22:53:44 2022 +0200

      * Risc-V: allow also register aliases in register modification lists after asm blocks, last part to resolve #39738

M	compiler/pstatmnt.pas
M	compiler/riscv/cpubase.pas
M	compiler/riscv/rarvgas.pas
A	tests/webtbs/tw39738.pp

******************************************************************************
commit dcf6063dc3669441e4c0a2fad206f21b253f2916
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jun 3 21:45:27 2022 +0200

    llvm: version 13.0 support

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 1b06599e8224da182c91896475658796826a03bf
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Nov 11 11:48:49 2021 +0100

    llvm: version 12.0 support

M	compiler/llvm/agllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 762057f46d321c99d1cd274a7e19eca5180ba746
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Jun 3 11:45:23 2022 -0700

     Fix compilation of 32-bit powerpc compiler

M	compiler/powerpc/rappcgas.pas

******************************************************************************
commit dbbf7e7f3bf1c565ff756c97e91ee5df1357b130
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue May 31 15:23:57 2022 -0700

     Add several increfs to avoid troubles on AIX target OS

M	compiler/powerpc/rappcgas.pas
M	compiler/powerpc64/rappcgas.pas
M	compiler/ppcgen/cgppc.pas

******************************************************************************
commit 8499fb34b26cecd2550f8108aca26b57972bb8e6
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jun 3 09:17:38 2022 +0200

    fcl-passrc: fixed method override modifier inherits overload modifier

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/pastojs/src/pas2jsfiler.pp

******************************************************************************
commit ea659cbc2065d5c0ccc0dc8804eb02efbc9bccb5
Author: florian <florian@freepascal.org>
Date:   Thu Jun 2 22:47:35 2022 +0200

      * "fast lane" code and comment fixed

M	compiler/riscv/rarvgas.pas

******************************************************************************
commit 41dbedfe2275bb536a9eff35bb1054ce1f64b2b3
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Jun 2 17:54:59 2022 +0000

     Fix compilation ofrtl/nds/classes.pp unit

M	rtl/nds/classes.pp

******************************************************************************
commit f1b166d6b8013fe8e9c192dfe9e3908c5b379625
Author: florian <florian@freepascal.org>
Date:   Wed Jun 1 22:34:51 2022 +0200

      * zero is a valid Risc-V register alias

M	compiler/riscv/rarvgas.pas

******************************************************************************
commit ec3a04da9b8f5f172ce3563ee17b17cae393eef3
Author: florian <florian@freepascal.org>
Date:   Wed Jun 1 22:31:26 2022 +0200

      + forgotten pseudo-instructions added

M	compiler/riscv/cpubase.pas
M	compiler/riscv/itcpugas.pas

******************************************************************************
commit 9e70f49745836204da6e132ae0822e832a521261
Author: marcoonthegit <marco@freepascal.org>
Date:   Wed Jun 1 16:56:02 2022 +0200

    * fix missing ifdef for the non win32/64/unix targets.
     * also do watcom.

M	rtl/amicommon/classes.pp
M	rtl/atari/classes.pp
M	rtl/beos/classes.pp
M	rtl/embedded/classes.pp
M	rtl/freertos/classes.pp
M	rtl/gba/classes.pp
M	rtl/go32v2/classes.pp
M	rtl/haiku/classes.pp
M	rtl/macos/classes.pp
M	rtl/msdos/classes.pp
M	rtl/nativent/classes.pp
M	rtl/netware/classes.pp
M	rtl/netwlibc/classes.pp
M	rtl/os2/classes.pp
M	rtl/sinclairql/classes.pp
M	rtl/symbian/classes.pp
M	rtl/wasi/classes.pp
M	rtl/watcom/classes.pp
M	rtl/wii/classes.pp
M	rtl/win16/classes.pp
M	rtl/wince/classes.pp

******************************************************************************
commit e5ac0b26891f1d5934e8023204f6574195a709cb
Author: marcoonthegit <marco@freepascal.org>
Date:   Wed Jun 1 13:54:06 2022 +0200

    * anonymous method overloads for synchronize/queue.

M	rtl/amicommon/classes.pp
M	rtl/atari/classes.pp
M	rtl/beos/classes.pp
M	rtl/embedded/classes.pp
M	rtl/freertos/classes.pp
M	rtl/gba/classes.pp
M	rtl/go32v2/classes.pp
M	rtl/haiku/classes.pp
M	rtl/macos/classes.pp
M	rtl/msdos/classes.pp
M	rtl/nativent/classes.pp
M	rtl/nds/classes.pp
M	rtl/netware/classes.pp
M	rtl/netwlibc/classes.pp
M	rtl/objpas/classes/classes.inc
M	rtl/objpas/classes/classesh.inc
M	rtl/os2/classes.pp
M	rtl/sinclairql/classes.pp
M	rtl/symbian/classes.pp
M	rtl/unix/classes.pp
M	rtl/wasi/classes.pp
M	rtl/wii/classes.pp
M	rtl/win16/classes.pp
M	rtl/win32/classes.pp
M	rtl/win64/classes.pp
M	rtl/wince/classes.pp

******************************************************************************
commit 430f1910ed39628284a38dc8a7d44e0380c9cdd6
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Jun 1 00:35:55 2022 +0200

    Fix compliation error with -Oodfa option as reported by Gareth

M	compiler/procdefutil.pas

******************************************************************************
commit 0e142c00cc432cf238e33c7274d2c08b396bb605
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Jun 1 00:19:24 2022 +0200

     Disable finalisation code fro LLVM compiler to  avoid interface finalisation troubles

M	compiler/ngenutil.pas
A	packages/fpmake-llvm
A	packages/fpmake-reg
M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit a27bc236a06f2dde0c4f8521f1ce0d3e2f75856c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue May 31 23:16:41 2022 +0200

    * fix #39742: when assigning a function to a function reference it's not the function itself that needs to be checked to be captureable, but instead what it captures (this applies for both the non-generic and the generic case)
    + added tests

M	compiler/procdefutil.pas
A	tests/test/tfuncref37.pp
A	tests/test/tfuncref38.pp
A	tests/test/tfuncref39.pp
A	tests/test/tfuncref40.pp
A	tests/test/tfuncref41.pp
A	tests/test/tfuncref42.pp
A	tests/webtbs/tw39742.pp

******************************************************************************
commit 0874521a78d357e6b94edf0ce5ed7b243b66298e
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue May 31 22:46:53 2022 +0200

    + add tests to ensure that the assignment of nested function variables to function references is forbidden

A	tests/test/tfuncref35.pp
A	tests/test/tfuncref36.pp

******************************************************************************
commit 883cc6d697a33d1e02e5cb2bfcc1eec8343e938b
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue May 31 22:45:43 2022 +0200

    + add tests that ensure that the overload selection works correctly when functions, methods or nested functions are assigned when overloads for function references are involved as well

A	tests/test/tfuncref33.pp
A	tests/test/tfuncref34.pp

******************************************************************************
commit 2372a069268bb381d8248207ee7a0484811f5b27
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue May 31 22:43:22 2022 +0200

    * fix #39740: consider a conversion of a procedure or procedure variable to a function reference as a bit more expensive than otherwise
    + added test

M	compiler/defcmp.pas
M	compiler/htypechk.pas
A	tests/webtbs/tw39740.pp

******************************************************************************
commit 492754ecca850986a256273918bc4006fcd63bf7
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue May 31 22:41:00 2022 +0200

    * the check for nested procvars is now done during the conversion in capturer_add_procvar_or_proc so loosen the check in proc_to_funcref_equal_internal

M	compiler/defcmp.pas

******************************************************************************
commit 3b7842c30e21d72345fbc4708523a283848279b4
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue May 31 22:39:47 2022 +0200

    * ensure that a nested function variable can not be assigned to a function reference

M	compiler/procdefutil.pas

******************************************************************************
commit 26888342654bf4e8679de36aa069118cc4a52859
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue May 31 22:39:31 2022 +0200

    * regenerate msg{idx,txt}.inc

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit ea8e3cfc37b068aefe4c0cb20e3fc081ef043bcc
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue May 31 22:39:04 2022 +0200

    + add an error message that a nested function variable can not be assigned to a function reference

M	compiler/msg/errore.msg

******************************************************************************
commit 4361e36ce0254e4cda21977745ec4bc619952253
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue May 31 22:38:08 2022 +0200

    * make proc_to_funcref_conv publicly available

M	compiler/defcmp.pas

******************************************************************************
commit 7bb1b12b4f6c6c15f9c441aaa5a20a5438e3d90c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue May 31 21:35:55 2022 +0200

    + add a mode Delphi equivalent for tanonfunc56 to check whether overload selection works correctly

A	tests/test/tanonfunc60.pp

******************************************************************************
commit eaeb8b70fffcd163dcc3945ad999649b6d5e9227
Author: florian <florian@freepascal.org>
Date:   Tue May 31 22:37:06 2022 +0200

      + added Risc-V register information file generation to the compiler Makefile
      * more stringent naming of register file information for Risc-V

M	compiler/Makefile
M	compiler/Makefile.fpc
M	compiler/riscv/cpubase.pas
M	compiler/riscv/itcpugas.pas
R100	compiler/riscv64/rrv32con.inc	compiler/riscv64/rrv64con.inc
R100	compiler/riscv64/rrv32dwa.inc	compiler/riscv64/rrv64dwa.inc
R100	compiler/riscv64/rrv32nor.inc	compiler/riscv64/rrv64nor.inc
R100	compiler/riscv64/rrv32num.inc	compiler/riscv64/rrv64num.inc
R100	compiler/riscv64/rrv32rni.inc	compiler/riscv64/rrv64rni.inc
R100	compiler/riscv64/rrv32sri.inc	compiler/riscv64/rrv64sri.inc
R100	compiler/riscv64/rrv32sta.inc	compiler/riscv64/rrv64sta.inc
R100	compiler/riscv64/rrv32std.inc	compiler/riscv64/rrv64std.inc
R100	compiler/riscv64/rrv32sup.inc	compiler/riscv64/rrv64sup.inc
M	compiler/utils/mkrvreg.pp

******************************************************************************
commit 2cdbdcd5c56251e49e7c56391a8adb04adc5912c
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue May 31 14:26:00 2022 +0000

     Manually increase refs of newly created labelsymbol in insertpcrelativedata

M	compiler/arm/aasmcpu.pas

******************************************************************************
commit f27b55e9b2730ea8b4c8b5a81143ae618cbd31fe
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue May 31 13:00:04 2022 +0000

     Also add a comment when a label has been optimized out when compiled DEBUG_LABEL

M	compiler/aggas.pas

******************************************************************************
commit ad72542e9e3eec2f4ca704690080534786c93dea
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue May 31 11:47:24 2022 +0000

    Fix compilation of sparc compiler with -dDEBUG_ALL_OPT

M	compiler/sparcgen/aoptcpu.pas

******************************************************************************
commit 5a680f014892d09c531e93ff6c058731f803b84c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Mon May 30 23:05:45 2022 +0200

    * fix #39745: the conversion from ordinals to pointer types in mode Delphi is not allowed for a void type (happens when using a typecast to convert a method without parameters to a function reference)
    + added test

M	compiler/defcmp.pas
A	tests/webtbs/tw39745.pp

******************************************************************************
commit 252707a873aace64a0154f099f1dab71e9c58426
Author: florian <florian@freepascal.org>
Date:   Mon May 30 21:12:37 2022 +0200

      + "rescued" mkrvreg.pp from old svn data

A	compiler/utils/mkrvreg.pp

******************************************************************************
commit ae457a18adb106ee3c91d3f6fda679a16ba5264c
Author: florian <florian@freepascal.org>
Date:   Mon May 30 21:10:34 2022 +0200

      * unified Risc-V 32 and 64 register data file

R100	compiler/riscv32/rv32reg.dat	compiler/riscv/rvreg.dat
D	compiler/riscv64/rv32reg.dat

******************************************************************************
commit 5d6ef0f70cd44d289fc6619e57826bf53e4aee7b
Author: florian <florian@freepascal.org>
Date:   Mon May 30 18:40:27 2022 +0200

      * cleanup

D	nohup.out

******************************************************************************
commit 59f293711a806f74b8ebfc175f64fd1f505af73b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 29 22:17:41 2022 +0200

    function references: make names of interface methods valid Pascal identifiers
    
    On high level targets, and on PowerPC/PowerPC64, interface method thunks are
    implemented using internally-generated Pascal wrappers, so the method names
    need to be valid Pascal identifiers.
    
    Additionally, that wrapper code uses the procsym's realname, so also
    update the realname field when changing the name of anonymous methods.

M	compiler/pdecsub.pas
M	compiler/procdefutil.pas

******************************************************************************
commit 29cfa3b2252eb8305ebd322ce1ca55ab5092de69
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun May 29 13:57:19 2022 +0200

    * ensure that the VMT for the function reference interface is generated correctly, but for this the invokedef needs to be copied without hidden parameters (and handle_calling_convention will be done by the VMT builder as well)

M	compiler/procdefutil.pas

******************************************************************************
commit dadc10658ccc475d2f016d5c360d1172d1d66842
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun May 29 13:55:57 2022 +0200

    * set the correct symtable level for the invoke procdef

M	compiler/procdefutil.pas

******************************************************************************
commit 60b0bc55354360e257aa58cab02629465f1f28f9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 29 13:24:14 2022 +0200

    read_record_fields: fix overflows of variant record size variables
    
    Could happen in case of > 32 bit variant parts, or variant parts at offsets
    > 32 bit offsets.
    
    Fixes webtbs/tw9039c with a compiler compiled with -Cr

M	compiler/pdecvar.pas

******************************************************************************
commit a19deace45acd25050ecfe0c8f31db1255982876
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 29 13:22:46 2022 +0200

    llvmdbg: fix overflows for aggregates > 2^61 bytes
    
    LLVM does not support aggregates larger than that at all, because internally
    it stores all sizes in bits in an uint64. Their rationale for not having
    special support for that is that there is no hardware with full 64 bit VM
    address space anyway. So truncate our size emissions in debug info also to
    that.

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 9e7895575ed1f29e0493d1f6a8e1704786ff1ac3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 29 11:27:22 2022 +0200

    tarraydef.elecount: fix overflow detection
    
    It did not trigger in case of an array[0..high(asizeint)]. Fixes compilation
    of webtbs/tw9039[ab] with a compiler built with range checking enabled.

M	compiler/symdef.pas

******************************************************************************
commit 743d7c50d0b74afe5709a7f976af2cf3259ada49
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 28 22:06:33 2022 +0200

    do_set: immediately exit in case of range error
    
    Prevents run time error in case of a compiler compiled with range checks
    enabled (webtbf/tw10890a)

M	compiler/ncnv.pas

******************************************************************************
commit 70908b1449289321e48f58b71266fc3e4884071a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 28 21:59:12 2022 +0200

    llvm: support for adding/subtracting constants to pointers in typed constants
    
    Fixes webtbs/tw34027 for llvm

M	compiler/aasmcnst.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/ngtcon.pas

******************************************************************************
commit 573f2c20d757f2bac27c023d421a81e028c5ecd8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 28 13:58:24 2022 +0200

    taddnode.cmp_of_disjunct_ranges: fortify in case of programs with errors
    
    Fixes compilation of webtbf/tw3116 with a compiler compiled with -Cr

M	compiler/nadd.pas

******************************************************************************
commit 8c67a4370be13ff0fe91ca86f4107680037d1657
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 28 13:45:56 2022 +0200

    rautils: don't interpret ".L3" as potentially meaning "unitx.identifier"
    
    Fixes compilation of webtbs/tw10641.pp with a compiler compiled with
    range checking

M	compiler/rautils.pas

******************************************************************************
commit 390084d59e268e846d90a4b5210a4aa955f9fe5b
Author: florian <florian@freepascal.org>
Date:   Sun May 29 10:37:12 2022 +0200

      * tests fixed

M	tests/test/theap.inc
M	tests/test/theap.pp

******************************************************************************
commit 638de87a5a14b2ff5d5ab5ee9553f82b0421f010
Author: Marcus Sackrow <alb42@web.de>
Date:   Sat May 28 22:46:50 2022 +0200

    AThreads: prevent deadlock for event set before waited

M	rtl/amicommon/athreads.pp

******************************************************************************
commit 4556cb35d1c96f4d775a2ae993b0476453d232a6
Author: florian <florian@freepascal.org>
Date:   Sat May 28 21:22:11 2022 +0200

      + completed Risc-V 64 pseudo instructions
      * typo fixed

M	compiler/riscv/cpubase.pas
M	compiler/riscv/itcpugas.pas

******************************************************************************
commit 6a00f9f40367640fb0ba40f8b705ba93da7de93a
Author: florian <florian@freepascal.org>
Date:   Sat May 28 21:15:53 2022 +0200

      * unified Risc-V 32 and 64 cpubase.pas

R089	compiler/riscv32/cpubase.pas	compiler/riscv/cpubase.pas
M	compiler/riscv/itcpugas.pas
D	compiler/riscv64/cpubase.pas

******************************************************************************
commit 09587d0c1b6dd5e8de98b1e5af284c7a51523d01
Author: florian <florian@freepascal.org>
Date:   Sat May 28 20:47:58 2022 +0200

      * standard Risc-V pseudo instructions for Risc-V 32 completed

M	compiler/riscv/itcpugas.pas
M	compiler/riscv32/cpubase.pas

******************************************************************************
commit b29b81ae7b610091241f2f22e53ae2948e114a61
Author: florian <florian@freepascal.org>
Date:   Sat May 28 20:25:28 2022 +0200

      * pseudo instructions for flag handling

M	compiler/riscv/itcpugas.pas
M	compiler/riscv32/cpubase.pas

******************************************************************************
commit 1c7626715d14138249a4a7fe0e9fea786ec00959
Author: florian <florian@freepascal.org>
Date:   Sat May 28 20:09:13 2022 +0200

      * the stack pointer on Risc-V points always at the last used position, resolves #39739

M	compiler/systems/t_embed.pas
M	compiler/systems/t_freertos.pas

******************************************************************************
commit 34ebeb15ed8e3ab334edcfd953bfc328c7b52b5b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 19:59:45 2022 +0300

    * pass the option to create shared, imported memory to the linker, in case the module is compiled with -CTwasmthreads
      Note that this breaks running programs compiled with -CTwasmthreads with "wasmtime run --wasm-features threads", but
      there's not much we can do about that, since shared memory is required for threading, and wasmtime still doesn't
      support it.

M	compiler/systems/t_wasi.pas

******************************************************************************
commit d3782401347e6887bbf2d9fc421c2c658beaac6f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 17:41:28 2022 +0300

    + added the WebAssembly saturating truncation instructions to the internal assembler

M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/strinst.inc

******************************************************************************
commit 0ba7ef98b39d7d34ecc34f36cb230f5f9c9f0f2e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 16:00:43 2022 +0300

    + support the memory.init and the data.drop instructions in the internal asm writer for WebAssembly

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 83604b709c0e8383329d3fc67c37f380a6279404
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 28 11:01:25 2022 +0200

    ngtcon: fix def of emitted vmt in procedure of object typed constants
    
    Fixes compilation of tests/test/tprocvar17 with the LLVM backend, and probably
    some other tests as well

M	compiler/ngtcon.pas

******************************************************************************
commit 7cd082ba5fdff0517a53e8d711ef654c252b5b51
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 04:04:02 2022 +0300

    + produce a target_features section when compiling with -CTwasmthreads

M	compiler/ogwasm.pas
M	compiler/wasmbase.pas

******************************************************************************
commit 1dd80d596d0f11601c6c834df19cc1916bf9ea6b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 03:31:53 2022 +0300

    + added a 'producers' custom section to WebAssembly object modules, containing the FPC version

M	compiler/ogwasm.pas
M	compiler/wasmbase.pas

******************************************************************************
commit 1ce1a0fe1fe3642b2daca5e16b1058cad0d3b5fb
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 02:17:20 2022 +0300

    * added non-atomic implementations of the atomic operations in the WebAssembly unit, used when the RTL is compiled without -CTwasmthreads

M	rtl/wasm32/webassembly.pp

******************************************************************************
commit bf412455494aa6401c89ff331f89ce9dc1eff77f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 01:26:17 2022 +0300

    * fixed compilation of ppudump

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 1fce5121f3b239994a241d91508f928ca2052988
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 01:18:55 2022 +0300

    + added the 'wasmthreads' target switch (enabled via -CTwasmthreads)

M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit ee89b7c9ec683320f2fa32cca9b46340a77b074f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 00:47:09 2022 +0300

    * fixed warning

M	compiler/ogwasm.pas

******************************************************************************
commit ca29df1aa9c58b951d8e2dbaa7b98a4e56563f3e
Author: florian <florian@freepascal.org>
Date:   Fri May 27 23:31:28 2022 +0200

      * Risc-V: return with mret from interrupt handlers, resolves #39737

M	compiler/riscv32/cgcpu.pas
M	compiler/riscv64/cgcpu.pas

******************************************************************************
commit b810afa1930e12916402d601db6d6c6ae5d9bd61
Author: florian <florian@freepascal.org>
Date:   Thu May 26 22:30:01 2022 +0200

      * test also cmem unit intensively

A	tests/test/theap.inc
M	tests/test/theap.pp
A	tests/test/theap_cmem.pp

******************************************************************************
commit 3a095f5ed5b1b715f5697aaac3d1274ca4674251
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 00:30:43 2022 +0300

    + support all the new types in encode_wasm_basic_type

M	compiler/wasm32/cpubase.pas

******************************************************************************
commit 907e8402ab8ac165fe0a35cc81d180db03df8330
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 00:16:51 2022 +0300

    + added the WebAssembly reference and vector types to TWasmBasicType

M	compiler/wasm32/agwat.pas
M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/itcpugas.pas

******************************************************************************
commit 288871059448cddfb241a8a8be22854b5e71b640
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 28 00:02:27 2022 +0300

    + added the WebAssembly table instructions

M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/strinst.inc

******************************************************************************
commit 534383f6860ddc205294134f53d981ed1002dbb5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 27 23:58:27 2022 +0300

    + added the WebAssembly reference instructions ref.null, ref.is_null and ref.func

M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/strinst.inc

******************************************************************************
commit e2eadc51a3516e7945d559531ebe4bb7d9a26bf7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 27 23:38:49 2022 +0300

    + added the memory.init and data.drop instructions

M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/strinst.inc

******************************************************************************
commit dbba2d2746022e583890e6ddda9d081eea30d40e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 27 23:23:27 2022 +0300

    + implemented popcnt via the popcnt instruction in WebAssembly

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit c9ed14f87bf4bfac5231cb2a65ca3cae06cf958c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 27 22:56:05 2022 +0300

    + enable the 64-bit SAR instruction on the WebAssembly target

M	rtl/inc/systemh.inc
M	tests/tbs/tb0627b.pp

******************************************************************************
commit b6aaa06f83f64b1f574f0ba41ac8566c2b5d325b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 27 22:35:25 2022 +0300

    + enable the ROL/ROR instructions for WebAssembly

M	compiler/fpcdefs.inc
M	rtl/inc/systemh.inc
M	tests/tbs/tb0627b.pp

******************************************************************************
commit 4765d885dfacf93db8202c3b6217a806c09d0dcc
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri May 27 19:16:52 2022 +0200

    * Export wasiAlloc, wasiFree

M	rtl/wasi/system.pp

******************************************************************************
commit bb39ec161058e23c3fd41b3fcc9f9c47adb20779
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri May 27 12:32:53 2022 +0000

     Avoid invalid typecast to tabstractvarsym

M	compiler/defcmp.pas

******************************************************************************
commit 653303274fc0b22a23f8909852a60a26ce2de92f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri May 27 11:45:24 2022 +0200

    fcl-passrc: resolver: fixed error when accessing element of forward class

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit 0c9b622a742063d1496cb47ff9b18db2480fbe31
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri May 27 07:36:50 2022 +0200

    * fix compilation with DEBUG_NODE_XML defined

M	compiler/procdefutil.pas

******************************************************************************
commit f73fc7d566fc275c067398b083de92fccbf8a1b3
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri May 27 07:24:46 2022 +0200

    * fix #39736: ensure that the capturer object and any converted function reference interface are considered used
    + added test

M	compiler/procdefutil.pas
A	tests/webtbs/tw39736.pp

******************************************************************************
commit 02211971a39e4436e53a40833acfb026f874574d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri May 27 00:29:59 2022 +0200

    fcl-passrc: added enums msFunctionReferences,msAnonymousFunctions

M	packages/fcl-passrc/src/pscanner.pp
M	packages/pastojs/src/pas2jsfiler.pp

******************************************************************************
commit 2c9776ac6be8ca1245ac6e3b20f4756c625cd6af
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu May 26 21:38:31 2022 +0000

     Remove %OS by %TARGET, as spotted by Gareth

M	tests/test/tblock8.pp
M	tests/test/tblock9.pp

******************************************************************************
commit e148afd506194474790e974cad61118610935f93
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu May 26 22:43:37 2022 +0200

     Fix cycling with -CR option

M	compiler/pdecl.pas

******************************************************************************
commit 45bf47ee05bde9acb4c64b1c39ea0009cb405c7d
Author: florian <florian@freepascal.org>
Date:   Thu May 26 22:34:12 2022 +0200

      * compilation with -O3 fixed

M	compiler/pdecl.pas
M	compiler/ptype.pas
M	compiler/symdef.pas

******************************************************************************
commit 39b7b07ebb2f6416ce2de95bd8423f24df5375c7
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 13:43:29 2022 +0100

    + add tests for function references, anonymous functions and C-blocks

A	tests/test/tanonfunc1.pp
A	tests/test/tanonfunc10.pp
A	tests/test/tanonfunc11.pp
A	tests/test/tanonfunc12.pp
A	tests/test/tanonfunc13.pp
A	tests/test/tanonfunc14.pp
A	tests/test/tanonfunc15.pp
A	tests/test/tanonfunc16.pp
A	tests/test/tanonfunc17.pp
A	tests/test/tanonfunc18.pp
A	tests/test/tanonfunc19.pp
A	tests/test/tanonfunc2.pp
A	tests/test/tanonfunc20.pp
A	tests/test/tanonfunc21.pp
A	tests/test/tanonfunc22.pp
A	tests/test/tanonfunc23.pp
A	tests/test/tanonfunc24.pp
A	tests/test/tanonfunc25.pp
A	tests/test/tanonfunc26.pp
A	tests/test/tanonfunc27.pp
A	tests/test/tanonfunc28.pp
A	tests/test/tanonfunc29.pp
A	tests/test/tanonfunc3.pp
A	tests/test/tanonfunc30.pp
A	tests/test/tanonfunc31.pp
A	tests/test/tanonfunc32.pp
A	tests/test/tanonfunc33.pp
A	tests/test/tanonfunc34.pp
A	tests/test/tanonfunc35.pp
A	tests/test/tanonfunc36.pp
A	tests/test/tanonfunc37.pp
A	tests/test/tanonfunc38.pp
A	tests/test/tanonfunc39.pp
A	tests/test/tanonfunc4.pp
A	tests/test/tanonfunc40.pp
A	tests/test/tanonfunc41.pp
A	tests/test/tanonfunc42.pp
A	tests/test/tanonfunc43.pp
A	tests/test/tanonfunc44.pp
A	tests/test/tanonfunc45.pp
A	tests/test/tanonfunc46.pp
A	tests/test/tanonfunc47.pp
A	tests/test/tanonfunc48.pp
A	tests/test/tanonfunc49.pp
A	tests/test/tanonfunc5.pp
A	tests/test/tanonfunc50.pp
A	tests/test/tanonfunc51.pp
A	tests/test/tanonfunc52.pp
A	tests/test/tanonfunc53.pp
A	tests/test/tanonfunc54.pp
A	tests/test/tanonfunc55.pp
A	tests/test/tanonfunc56.pp
A	tests/test/tanonfunc57.pp
A	tests/test/tanonfunc58.pp
A	tests/test/tanonfunc59.pp
A	tests/test/tanonfunc6.pp
A	tests/test/tanonfunc7.pp
A	tests/test/tanonfunc8.pp
A	tests/test/tanonfunc9.pp
A	tests/test/tblock4.pp
A	tests/test/tblock5.pp
A	tests/test/tblock6.pp
A	tests/test/tblock7.pp
A	tests/test/tblock8.pp
A	tests/test/tblock9.pp
A	tests/test/tfuncref1.pp
A	tests/test/tfuncref10.pp
A	tests/test/tfuncref11.pp
A	tests/test/tfuncref12.pp
A	tests/test/tfuncref13.pp
A	tests/test/tfuncref14.pp
A	tests/test/tfuncref15.pp
A	tests/test/tfuncref16.pp
A	tests/test/tfuncref17.pp
A	tests/test/tfuncref18.pp
A	tests/test/tfuncref19.pp
A	tests/test/tfuncref2.pp
A	tests/test/tfuncref20.pp
A	tests/test/tfuncref21.pp
A	tests/test/tfuncref22.pp
A	tests/test/tfuncref23.pp
A	tests/test/tfuncref24.pp
A	tests/test/tfuncref25.pp
A	tests/test/tfuncref26.pp
A	tests/test/tfuncref27.pp
A	tests/test/tfuncref28.pp
A	tests/test/tfuncref29.pp
A	tests/test/tfuncref3.pp
A	tests/test/tfuncref30.pp
A	tests/test/tfuncref31.pp
A	tests/test/tfuncref32.pp
A	tests/test/tfuncref4.pp
A	tests/test/tfuncref5.pp
A	tests/test/tfuncref6.pp
A	tests/test/tfuncref7.pp
A	tests/test/tfuncref8.pp
A	tests/test/tfuncref9.pp
A	tests/test/uanonfunc20.pp
A	tests/test/uanonfunc21.pp
A	tests/test/uanonfunc22.pp
A	tests/test/uanonfunc55.pp
A	tests/test/ufuncref10.pp

******************************************************************************
commit 7974f39522b36a525cdfd730a5c989d78308e88f
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed May 25 22:11:08 2022 +0200

    * implement assignment of procedure and method variables and routines (global, instance and nested) to function references

M	compiler/defcmp.pas
M	compiler/htypechk.pas
M	compiler/ncnv.pas
M	compiler/parser.pas
M	compiler/pbase.pas
M	compiler/pexpr.pas
M	compiler/procdefutil.pas

******************************************************************************
commit 9f3dcdb211ec3cecc9013f45e811bd0f633a7072
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Apr 19 14:01:50 2022 +0200

    + add method to find a procinfo for a nested function by the corresponding procdef

M	compiler/procinfo.pas

******************************************************************************
commit c6aba5cd8dbd71f7393b1b52ba401c20e09341c8
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Mar 30 22:45:58 2022 +0200

    * make tprocinfo.addnestedproc public so that it can be used to add generated functions

M	compiler/procinfo.pas

******************************************************************************
commit 702f79ec8cfbcf1f077977f595b6aadbc186abd3
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Mar 30 22:43:31 2022 +0200

    + add method tprocsym.Find_procdef_by_funcrefdef to find a procdef that's compatible with the specified function reference

M	compiler/symsym.pas

******************************************************************************
commit 943da88ddacfbad9b5d730ed61c59cb31529e27e
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Mar 30 22:42:30 2022 +0200

    * rework tprocsym.Find_procdef_byprocvardef so that its implementation can be used in a more generic manner

M	compiler/symsym.pas

******************************************************************************
commit f2305d1cee38e762aa2409adb9d01dc6751db740
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Feb 15 21:46:23 2022 +0100

    * if an invokable that isn't a function reference is followed by a point in a mode that doesn't use TP/Delphi style calling without parameters then don't call it like is done with normal procvars

M	compiler/pexpr.pas

******************************************************************************
commit 76df7144bae7df032872ce6a009b6bee110ef2e8
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed May 18 22:31:17 2022 +0200

    * implement necessary conversion functionality for anonymous procdefs to function reference interfaces including capturing of variables

M	compiler/defcmp.pas
M	compiler/ncnv.pas

******************************************************************************
commit f8b1801a8fb7a247ea31be7260c44e333d069a8e
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 13:10:47 2022 +0100

    + implement necessary functionality in tcgprocinfo to initialize and populate the capturer
    
    Based on code by Blaise.ru

M	compiler/psub.pas

******************************************************************************
commit 9b9ae2db1ad85bb5d9aa0aab7772b8aea9bb32be
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 13:09:01 2022 +0100

    * two function references are equal to each other as long as their signatures match

M	compiler/defcmp.pas

******************************************************************************
commit 6fe9a1509497cac3937163bc676693c832e62fe2
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 13:06:16 2022 +0100

    + add function to check whether a procdef can be converted to a function reference

M	compiler/defcmp.pas

******************************************************************************
commit 749faa42eed7c49def6323af3412831cf1e6adb8
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 13:03:32 2022 +0100

    * do not insert the $result symbol again when the VMT for the capturer is built

M	compiler/pparautl.pas

******************************************************************************
commit 9aac622dc91b8c9b6c9293c12901cf9f57d4d048
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 13:00:57 2022 +0100

    + add necessary core functions and functionality to implement capturing of variables
    
    Based on code by Blaise.ru

M	compiler/procdefutil.pas
M	compiler/symdef.pas

******************************************************************************
commit 0e0739a64f4da96b414f5ed447428c44ad8155ca
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 12:52:11 2022 +0100

    * regenerate msg{idx,txt}.inc

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit a0171e433531aa21219e715be55a936ef9d5efc3
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 12:51:17 2022 +0100

    + add an error message for when a symbol can't be captured

M	compiler/msg/errore.msg

******************************************************************************
commit 897f0e178414116764304b49b26db58beef476d8
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 12:49:57 2022 +0100

    * if a symbol is not part of a symtable then assume it's from the current module

M	compiler/pgenutil.pas

******************************************************************************
commit b5ab81c98342cf824a8337be41ea15e1f5502b75
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 12:49:21 2022 +0100

    * an internal definition in a specialization might not have a genericdef

M	compiler/pgenutil.pas

******************************************************************************
commit 90ebeb275a6cb28db8397cdaab9eb16eb961b835
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 12:46:58 2022 +0100

    + add utility function to retrieve a file position of a usage of a type symbol from a type's definition

M	compiler/symdef.pas

******************************************************************************
commit 3eac88eeaf90fa5addcf7b03612dafe9236cd114
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Feb 5 21:46:37 2022 +0100

    * protected symbols are visible for defs declared in a local symtable as well

M	compiler/symtable.pas

******************************************************************************
commit 533a11ec80671a14059c89f6ccd15be44f16f1c8
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Feb 5 21:36:50 2022 +0100

    * correctly handle calling convention for function references

M	compiler/pdecl.pas
M	compiler/pdecvar.pas
M	compiler/pgenutil.pas

******************************************************************************
commit 47d7520b32b13967dbf65464edd65cf713477f67
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Feb 5 21:28:43 2022 +0100

    * consider invokables as related when they're equal

M	compiler/defcmp.pas

******************************************************************************
commit 145b37425d4af659e6d77faa75cc564c9bfa8395
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Feb 5 21:27:25 2022 +0100

    + add function funcref_equal to check whether two function references are considered equal enough to be assignable

M	compiler/defcmp.pas

******************************************************************************
commit ff0b560fe422caa2692f77799dd382e566a89fdc
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Feb 5 20:45:34 2022 +0100

    * set the flag that the symtable contains a generic at the end of the corresponding block of types_dec() to ensure that the owner is assigned correctly

M	compiler/pdecl.pas

******************************************************************************
commit 6299e94c8f99fa043920d005c4111d657f690e7c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Feb 5 20:41:44 2022 +0100

    * set the type symbol of the procvar while it is parsed so that a function reference can have itself as part of the parameters or the return type

M	compiler/ptype.pas

******************************************************************************
commit 06a00b53c3ea8d0ff655a0b925c26dcb275be1e7
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 19:14:18 2022 +0100

    * also handle function references when a generic one had been parsed

M	compiler/pgenutil.pas

******************************************************************************
commit b297199ab6dd8e698fd8009d8c5b4bc26fb53376
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Feb 5 19:31:18 2022 +0100

    + add a field to denote that a symbol (mainly local and parameter ones) was captured through another symbol

M	compiler/symsym.pas

******************************************************************************
commit ec96d4242a682926ef1df2724a9cea074aa69f8b
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Feb 5 18:57:12 2022 +0100

    * check hierarchy of the current generic or specialization def independant of whether it's a record- or objectdef

M	compiler/pgenutil.pas

******************************************************************************
commit f02fc4fe0fa850f574eab90ac308933cb8eb1485
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Feb 5 18:55:18 2022 +0100

    * move checking for a def in the hierarchy to a separate nested function and use it to check the hierarchy of the current def being specialized as well

M	compiler/pgenutil.pas

******************************************************************************
commit 5cf15be434bdaf2cacca29270030a5fd0ca4012e
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Jan 30 17:19:05 2022 +0100

    + add a constructor for trecorddef to declare an internal record type as part of a specific other type
    
    Based on code by Blaise.ru

M	compiler/symdef.pas

******************************************************************************
commit 92082ab28f3f7d4a149cf3ca0b6a6190c50be29f
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 27 23:11:33 2022 +0100

    * correctly handle directives for anonymous functions

M	compiler/pdecsub.pas

******************************************************************************
commit e8b0fc88e340b1b288e9e31ae8f3d5b7847ab686
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu May 26 18:02:31 2022 +0200

    * correctly handle directives for function references

M	compiler/pdecl.pas
M	compiler/pdecvar.pas

******************************************************************************
commit fd26453d5a802abadf17a5a3dc258e6bea4ac632
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 27 22:25:03 2022 +0100

    * name of result variable of anonymous functions can be changed (and must be in modes without modeswitch Result)

M	compiler/pdecsub.pas

******************************************************************************
commit 7de854ef1ec86310c67192a734cd1114ef03ad26
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Mon Jan 17 22:41:06 2022 +0100

    + add method register_implemented_interface to tobjectdef which registers an implemented interface and - if desired - also initializes the GUID related fields of the objectdef
    * use that method in all locations outside symdef that add add an implemented interface
    
    Based on work by Blaise.ru

M	compiler/jvm/pjvm.pas
M	compiler/pdecobj.pas
M	compiler/pgenutil.pas
M	compiler/symdef.pas

******************************************************************************
commit 76d3a9c4b5a20a226aad427a61c87e12595e0139
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Mon Jan 17 22:31:41 2022 +0100

    * generate a better name if the procdef is an anonymous one

M	compiler/symdef.pas

******************************************************************************
commit cdf676c9b5334642fc72a5f17928b8280cbe6038
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Mon Jan 17 22:21:14 2022 +0100

    * a function also captures other nested functions when these are called

M	compiler/ncal.pas

******************************************************************************
commit eaeb6148874625b62b5bb6e8e75f802b88ea11d5
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Mon Jan 17 22:18:40 2022 +0100

    + provide a tsym based variant of ChangeOwnerAndName

M	compiler/pgenutil.pas
M	compiler/symtype.pas

******************************************************************************
commit a7a0f47d9802eec87bd1154c5abdd4a5251dc5f4
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Mon Jan 17 22:17:57 2022 +0100

    * extract a symbol or def from its previous owner if that owner has OwnsObjects set to true

M	compiler/symtype.pas

******************************************************************************
commit 088c746d45fadc744878771d586ecd42a1d75b31
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Jan 9 13:27:36 2022 +0100

    * reset written source lines once a section is encountered

M	compiler/aggas.pas
M	compiler/llvm/agllvm.pas
M	compiler/powerpc/agppcmpw.pas
M	compiler/x86/agx86int.pas
M	compiler/x86/agx86nsm.pas
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 6ac50f4100ee4c4e967dbd5754d338d4c7debe3a
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Jan 9 13:25:52 2022 +0100

    + add method ResetSourceLines to TExternalAssembler to reset already written lines

M	compiler/assemble.pas

******************************************************************************
commit 1d4c28fb35ffe12a16ae79c8e6cd3c4a85b38c7b
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Jan 7 19:14:38 2022 +0100

    * regenerate msg{idx,txt}.inc after message change in last commit

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 2be8f01efe35eec1c1bb9b278b54de3715fc5b2f
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jul 22 17:44:01 2021 +0200

    * implement assignment of anonymous functions to procedure or method variables if they either capture nothing or (in case of method variables) at most the Self variable

M	compiler/defcmp.pas
M	compiler/htypechk.pas
M	compiler/ncnv.pas
M	compiler/nld.pas
M	compiler/pparautl.pas
M	compiler/symdef.pas

******************************************************************************
commit 17514ed5c0dcbfcc2d141653b021adf870d825ff
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jul 22 17:42:39 2021 +0200

    * allow to ignore Self parameters; for this the parameter skipping needs to be repeated to correctly catch all cases

M	compiler/defcmp.pas

******************************************************************************
commit 8e2478e6328415ca01414db2a77c2180c23631bc
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu May 27 07:18:00 2021 +0200

    * check whether an anonymous function can be assigned to a global, method or nested function variable

M	compiler/defcmp.pas

******************************************************************************
commit 5129c2cb9ac6bd7756bf77f8d94d60c0390e9734
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jul 22 17:19:50 2021 +0200

    * consider Self parameters of nested functions as captured as well

M	compiler/nld.pas

******************************************************************************
commit d56a90e5ed984b10ce192d3197e72fba5b4e184c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu May 27 07:17:15 2021 +0200

    * keep track of symbols that are accessed from a nested/anonymous function that belong to a surrounding scope

M	compiler/nld.pas
M	compiler/procinfo.pas
M	compiler/symdef.pas

******************************************************************************
commit ddba001b651a404c2b01bdb88679599cc5df118f
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jul 22 17:12:00 2021 +0200

    * ensure that nested functions of main program, main program finalization and unit initialization/finalization are generated

M	compiler/pmodules.pas

******************************************************************************
commit 4dbdb4f0f1ec9a675c22f0f5650a8cc5b44275e2
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun May 2 14:52:33 2021 +0200

    + initial support for anonymous functions, for now as essentially nested functions
    
    Based on work by Blaise.ru

M	compiler/pdecsub.pas
M	compiler/pexpr.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 4e4d268963dd6d2b596d1cb5a70332015011bb04
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jul 22 17:10:31 2021 +0200

    + add modeswitch for anonymous functions

M	compiler/globtype.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 2cc621618accab4ce12b8f5b34c5f883fa460b3b
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Apr 11 23:00:08 2021 +0200

    * Delphi-mode calling without parenthesis

M	compiler/ncal.pas
M	compiler/ncnv.pas
M	compiler/ngenutil.pas
M	compiler/nld.pas
M	compiler/nutils.pas
M	compiler/pexpr.pas

******************************************************************************
commit c3736810ac018b5aadb7d54c6f6c4c41d1c59344
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 21:44:59 2022 +0100

    * if an interface is declared inherit the invokable flag from the parent interface

M	compiler/pdecobj.pas

******************************************************************************
commit 2ed2c213136a4e7eede7ec2f4761f4d23bb27562
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 19:39:53 2022 +0100

    + add support for parsing function references

M	compiler/pdecl.pas
M	compiler/pdecvar.pas
M	compiler/pexpr.pas
M	compiler/procdefutil.pas
M	compiler/ptype.pas

******************************************************************************
commit 7f3a5eb9abbf23c97b22ac93c287ec7e228f0ae3
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Mar 30 22:17:07 2022 +0200

    * extend tabstractprocdef.getcopyas by a parameter to control whether the copy should be registered or not

M	compiler/arm/symcpu.pas
M	compiler/blockutl.pas
M	compiler/i386/symcpu.pas
M	compiler/i8086/symcpu.pas
M	compiler/jvm/pjvm.pas
M	compiler/jvm/symcpu.pas
M	compiler/m68k/symcpu.pas
M	compiler/powerpc/symcpu.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas
M	compiler/x86_64/symcpu.pas

******************************************************************************
commit 90eabdd6b4cb82333039c102808beebc9df0a3d7
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Mon May 23 23:03:10 2022 +0200

    * ensure insert_self_and_vmt_para can deal with a preexisting self symbol as long as it has the expected type

M	compiler/pparautl.pas

******************************************************************************
commit 39f553496995104b1b674d48eead521243ce70f8
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 27 22:38:07 2022 +0100

    * adjust handle_calling_convention so that it can be used with both proc(var)defs and invokables

M	compiler/pdecsub.pas
M	compiler/pparautl.pas

******************************************************************************
commit c92e290d679ac3d7b46b15b8f3a53fbf59284cd8
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 27 22:37:10 2022 +0100

    * extend parse_proctype_directives to handle proc(var)defs as well as invokables

M	compiler/pdecsub.pas

******************************************************************************
commit bb637fa389d846893ed8e5b4d2b1fd02b1382ab9
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Jan 25 19:53:48 2022 +0100

    * adjust parse_proctype_directives so that it can handle a function reference as well

M	compiler/pdecsub.pas

******************************************************************************
commit a20bfc07535f5e6d7d27fafdec826ed8de07ee61
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Feb 8 07:34:09 2022 +0100

    + add utility function to check whether an invokable can be invoked without explicit parameters

M	compiler/defutil.pas

******************************************************************************
commit 22bbcf4b27a574dd3e8bf1978f10f35cacf71b57
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Jan 18 23:10:35 2022 +0100

    + add utility function to retrieve the invoke procdef of a function reference interface

M	compiler/defutil.pas

******************************************************************************
commit 833a971877521a3a906207fb37e84ccbc9f27f23
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 21:42:20 2022 +0100

    + add utility function to check whether an objectdef is an invokable one

M	compiler/defutil.pas

******************************************************************************
commit f0748ad59bdff939e9d3c2f535fc8e046ec3a305
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 21:41:47 2022 +0100

    + add flag to denote that an objectdef is invokable, thus can be used like a function variable

M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 122c6c92cb5e494385d3fa3adffe6bee6ec4a51c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Jul 23 12:01:09 2021 +0200

    + add function to check whether a def is an invokable function reference

M	compiler/defutil.pas

******************************************************************************
commit b28495a423993aebba17b3e157ea75e10f5e7179
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 6 19:37:53 2022 +0100

    + add flag to denote an object def as a function reference

M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit ec02d0abb083a556a5240c27b4baf8a7dc606cc6
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Jan 18 23:09:13 2022 +0100

    + add constants for the Invoke symbol of a function reference interface (both for declaring and finding it)

M	compiler/symconst.pas

******************************************************************************
commit 2912e38e91f1940d84b6a846ecc1f9888fb7cc67
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Feb 21 21:07:17 2021 +0100

    + add modeswitch for anonymous function and function references

M	compiler/globtype.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 5e148c1dca80849b7ddd9b51574cab821fab7a60
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Feb 10 07:25:58 2022 +0100

    + add a new tproccopytyp pc_normal_no_paras to copy an abstractprocdef without its parameters (useful if the parameters themselves will be reused and the original def otherwise deleted)

M	compiler/symdef.pas

******************************************************************************
commit 6a9b4a1b13b4e0585301037c6f26838216f43ebd
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Jan 7 19:13:28 2022 +0100

    + apply patch by Blaise.ru: allow initialisation of method pointers with class methods (when class types are
    known at compile time)
    * adjust error message when a method pointer isn't suitable
    + add tests

M	compiler/msg/errore.msg
M	compiler/ngtcon.pas
A	tests/test/tprocvar17.pp
A	tests/test/tprocvar18.pp
A	tests/test/tprocvar19.pp
A	tests/test/tprocvar20.pp

******************************************************************************
commit bc4eb00a7a1d2c2050a8056d13abaf8656897bc0
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 6 21:59:11 2022 +0100

    * apply patch by Blaise.ru: proper code generation for assigning class non-static methods, accessed via a class reference type, to method pointers
    + added test

M	compiler/pexpr.pas
A	tests/test/tprocvar16.pp

******************************************************************************
commit 6e7a82440ef55b0e8d125e49b791ac8dd7ca43f9
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 6 21:54:46 2022 +0100

    * apply patch by Blaise.ru: avoid internal error when assigning class methods, accessed via a class reference type, to incompatible procvars
    + added tests

M	compiler/ncnv.pas
A	tests/test/tprocvar11.pp
A	tests/test/tprocvar12.pp
A	tests/test/tprocvar13.pp
A	tests/test/tprocvar14.pp
A	tests/test/tprocvar15.pp

******************************************************************************
commit a8cf67d73b3a9421ec3089eae5c54e38e934161f
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 6 21:33:57 2022 +0100

    * apply patch by Blaise.ru: reject assignments of instance methods, accessed via a type, to method pointers
    + add tests

M	compiler/pexpr.pas
A	tests/test/tprocvar10.pp
A	tests/test/tprocvar4.pp
A	tests/test/tprocvar5.pp
A	tests/test/tprocvar6.pp
A	tests/test/tprocvar7.pp
A	tests/test/tprocvar8.pp
A	tests/test/tprocvar9.pp

******************************************************************************
commit acee4eb27ac492447d4dbde978f8989dcd292d54
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 6 18:40:54 2022 +0100

    - apply patch by Blaise.ru: pdflags are no longer required in generate_specialization_phase2() after parse_proc_directives() was done, so remove its unused modification after that call

M	compiler/pgenutil.pas

******************************************************************************
commit e5df46722ef25585c66dc698943515ce95438283
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 6 18:36:38 2022 +0100

    * apply part of patch by Blaise.ru: reduce code duplication when parsing anonymous procvar types

M	compiler/pdecl.pas

******************************************************************************
commit bd226c00f16b778444c41673678b2ba6eb6e1000
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 6 18:29:13 2022 +0100

    * apply part of patch by Blaise.ru: check only once whether writable consts are enabled or not by determining the type of the assembly list earlier (it's only not needed in an error case anyway)

M	compiler/pdecl.pas

******************************************************************************
commit e5ac99a4c97b52c95b26829b6f62ec0029798e7c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 6 18:22:23 2022 +0100

    * apply patch by Blaise.ru: parse_object_proc_directives() and parse_object_record_directives() should only be called with procdefs, so change the parameter from tabstractprocdef to tprocdef to make this explicit

M	compiler/pdecsub.pas

******************************************************************************
commit 9c9c6cc81bcd2d99e54a7b040b1f80641ce49b9b
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 6 18:17:26 2022 +0100

    * apply patch by Blaise.ru:
      - all call sites of parse_var_proc_directives() have the tprocvardef easily available, so use parse_proctype_directives() directly
      - remove the now no longer required parse_var_proc_directives()

M	compiler/pdecl.pas
M	compiler/pdecsub.pas
M	compiler/pgenutil.pas

******************************************************************************
commit 0bbfad1add6d76b4aad7bac9d6b2cb34b8f7fe1e
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Jan 6 18:04:32 2022 +0100

    * apply patch by Blaise.ru:
      - avoid creation of a dummy typesym just to call parse_var_proc_directives() by introducing a new parse_proctype_directives() that takes a tprocvardef instead of a symbol like the former does
      - have parse_var_proc_directives() call parse_proctype_directives() to avoid duplicated code

M	compiler/pdecsub.pas
M	compiler/pdecvar.pas
M	compiler/ptype.pas

******************************************************************************
commit 542c3f0c4c916a61cce0614fc855241ba0e4e8c3
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat May 1 23:32:22 2021 +0200

    * use tproc_parse_flags in parse_proc_dec_finish as well

M	compiler/pdecsub.pas
M	compiler/pgenutil.pas

******************************************************************************
commit 9664ad4138ec531b0be7680bb274db0fdb39b554
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat May 1 23:08:30 2021 +0200

    * use tparse_proc_flags for parse_proc_head as well

M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pgenutil.pas

******************************************************************************
commit ee187f78f411711fe221f871fea01b203114264c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat May 1 22:29:08 2021 +0200

    * have read_body return the created procdef

M	compiler/psub.pas

******************************************************************************
commit f6a444c6fcfa9f1993841e8dce9a36899a8d8c9a
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat May 1 22:11:11 2021 +0200

    * combine the Boolean parameters of read_proc and read_proc_dec into a set

M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/psub.pas
M	compiler/symcreat.pas

******************************************************************************
commit 934e3bba63c67b577d941d675cba3dccb2d53826
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Apr 7 21:25:53 2021 +0200

    * set proctypeoption for procvars

M	compiler/ptype.pas

******************************************************************************
commit 4bc957a1aa3bc241350f8ee2f917dfd0cf80f8f2
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Apr 7 21:32:29 2021 +0200

    * extend procvar_dec so that procvars don't have to be registered

M	compiler/ptype.pas

******************************************************************************
commit 3aebcccdf29cbe199a204f573fc1390e3760f678
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Apr 7 21:25:13 2021 +0200

    * allow procvars to not be registered right away

M	compiler/i8086/symcpu.pas
M	compiler/pdecsub.pas
M	compiler/pdecvar.pas
M	compiler/ptype.pas
M	compiler/symdef.pas

******************************************************************************
commit a764c035b23b0a278afa3710542ce850923804e1
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat May 21 19:04:37 2022 +0200

    * if the symbol belongs to the current def also consider it a specialization if it's a nameless type symbol from an implicit function specialization as their owner gets changed to the function itself

M	compiler/symdef.pas

******************************************************************************
commit 6a6a17717ac141abdd0b6f661f766010837ff212
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat May 21 19:03:42 2022 +0200

    + add a new symoption for symbols created for nameless types during implicit function specialization so that they can be recognized

M	compiler/pgenutil.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 8bef91d1de212c03036d234ebd0ece80a11f1867
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Jan 30 17:17:29 2022 +0100

    * declare the type symbol of an internal def as sp_internal

M	compiler/symdef.pas

******************************************************************************
commit 30a7199165e96728ee8ab899209fe83ed775454d
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Jan 30 17:23:40 2022 +0100

    * make the VMT symbol and type def of the corresponding class or object instead of having them be global
    * bump PPU version to avoid potential compilation errors due to this
    
    Based on code by Blaise.ru

M	compiler/ncgvmt.pas
M	compiler/nobj.pas
M	compiler/ppu.pas
M	compiler/symconst.pas
M	compiler/symdef.pas

******************************************************************************
commit ac4df2b0660b1f7896ab20d30a7f845f446d5b72
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Feb 5 19:36:49 2022 +0100

    * don't check for a duplicate internal symbol in inherited symtables

M	compiler/symtable.pas

******************************************************************************
commit 3ca3c7a60609c3dd861f4335bc8118a83f0a0551
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Mon May 23 23:01:36 2022 +0200

    - remove duplicate paraprintnodetree to ensure that there the right paraprintnodetree is used (namely the one from globals)

M	compiler/verbose.pas

******************************************************************************
commit 7f9428eed57e3275a3de99229a3fc2761f38b2bf
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu May 26 16:19:05 2022 +0200

    * add cblock directive so that the test fails for the correct reason

M	tests/webtbf/tw30022.pp

******************************************************************************
commit 6ee4ee960e41ae5053cbce3cf1336d20e57be942
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu May 26 18:20:07 2022 +0300

    + added "(experimental)" to the compiler help screen for the WebAssembly compiler options that are still unstable/experimental

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 66b471e5160235499f94848a8eed6084c86497df
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu May 26 15:06:35 2022 +0300

    + support different versions of llvm-mc (version 10 seems to be the earliest that works)

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/systems.inc
M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit 3994626cb110c51bb87776f71fc886ad15c0c4ff
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu May 26 14:14:46 2022 +0300

    * fixed the message in the previous commit

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 0c6287894b88ebf70c22f4c65a83e8ff2ab99315
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu May 26 14:12:10 2022 +0300

    * the WebAssembly internal assembler renamed WASM (previously it was OMF, which was the ID of the MS-DOS .obj writer, which I forgot to rename)

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ogwasm.pas

******************************************************************************
commit 7c21b371051de1de1ca7891802b48a51a8d2197f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu May 26 00:27:50 2022 +0200

     Avoid some range check error and convert internalerror into error messages

M	compiler/ogwasm.pas

******************************************************************************
commit e0de75224b17627c9087f5cad5180c43cf8fffe5
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu May 26 00:00:44 2022 +0200

    Add help for -Aomf option for wasm32 CPU and new message for ogwasm binary writer

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 86b774e792a8454aaa2523b45f6492b488dd42cf
Author: florian <florian@freepascal.org>
Date:   Wed May 25 22:40:51 2022 +0200

      + some more cpu specfic files for mips64(el)

A	rtl/mips64/strings.inc
A	rtl/mips64/stringss.inc
A	rtl/mips64el/strings.inc
A	rtl/mips64el/stringss.inc

******************************************************************************
commit 3cb4952745479eb8cd8b445951e8fd13f88b6fc5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed May 25 20:18:07 2022 +0300

    * AtomicWait marked as inline

M	rtl/wasm32/webassembly.pp

******************************************************************************
commit a916aa36d82bf3d37588c1118ad838940453e527
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed May 25 20:16:50 2022 +0300

    + added AtomicNotify() to the WebAssembly unit

M	rtl/wasm32/webassembly.pp

******************************************************************************
commit 19cce3e42e46f010065146dec761dc6b00a6efc1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed May 25 20:11:54 2022 +0300

    + added AtomicWait() to the WebAssembly unit

M	rtl/wasm32/webassembly.pp

******************************************************************************
commit 7cac9d2f02bfc1d207b28974340503afbe68d00c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed May 25 19:30:59 2022 +0300

    + added AtomicStore() to the WebAssembly unit

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
M	rtl/wasm32/webassembly.pp

******************************************************************************
commit f12752372f5e2544e5c4a9d60794c037b55df546
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed May 25 17:33:44 2022 +0200

    Regenerate Makefile after: Add implicit units to wasi rtl

M	rtl/wasi/Makefile

******************************************************************************
commit f4964691b0ae2590ddd9a530f78ad9a378898098
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed May 25 17:32:39 2022 +0200

     Add implicit units to wasi rtl

M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 16f5863847120e1990e3bcb14948d78a04936df0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed May 25 19:22:45 2022 +0300

    + added WebAssembly atomic store intrinsics

M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc

******************************************************************************
commit 219294c02b4129d8a063626c72dc3f867ab75680
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed May 25 19:05:28 2022 +0300

    + added AtomicLoad() to the WebAssembly unit

M	rtl/wasm32/webassembly.pp

******************************************************************************
commit 0103964250203de699636e16921fec85562f0b17
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed May 25 18:55:41 2022 +0300

    + implemented WebAssembly atomic load intrinsics

M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc

******************************************************************************
commit 9274f17c527a2e785206282bd05fe7f4ccc7a01d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 16:06:05 2022 +0300

    + reserved inline numbers for the WebAssembly atomic loads and stores

M	compiler/wasm32/ccpuinnr.inc
M	rtl/wasm32/cpuinnr.inc

******************************************************************************
commit 7fa8f514af5bf6d2e1865353b34ab56d92b54e1b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 15:40:13 2022 +0300

    + added AtomicCompareExchange() to the WebAssembly unit

M	rtl/wasm32/webassembly.pp

******************************************************************************
commit 9ba01e7aee19489072b616647ec044ce03a14a43
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 15:24:25 2022 +0300

    + added AtomicExchange() to the WebAssembly unit

M	rtl/wasm32/webassembly.pp

******************************************************************************
commit 362cabe6845a0769cc8e7fcd4dd5c75a74a07a85
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 15:21:59 2022 +0300

    + added AtomicAnd(), AtomicOr() and AtomicXor() to the WebAssembly unit

M	rtl/wasm32/webassembly.pp

******************************************************************************
commit 99d66b4c93821f5b4dfbc0fc236ad0c7626d5310
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 15:16:40 2022 +0300

    + added AtomicAdd() and AtomicSub() intrinsics to the WebAssembly unit

M	rtl/wasm32/webassembly.pp

******************************************************************************
commit 585d0cf5746ab85b5dc5a202606f8426d4a282ab
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 14:50:42 2022 +0300

    + added unit WebAssembly for WebAssembly-specific stuff. Currently contains
      the AtomicFence intrinsic, which emits the atomic.fence instruction.

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
A	rtl/wasm32/webassembly.pp

******************************************************************************
commit d9781bcebee08dfdbbdee90a595e92ce1fc284fd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 14:10:04 2022 +0300

    + added except_branchful.inc as a system unit dependency include file to wasm32/makefile.cpu

M	rtl/wasm32/makefile.cpu

******************************************************************************
commit 8c562995d7307608746f3a86d9354d06443b0c36
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 14:01:59 2022 +0300

    * regenerate makefiles with latest fpcmake

M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-css/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-hash/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gitlab/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libnettle/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/wasmtime/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit e74797d41150a8b333a104c245d69a700da0401a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 11:38:42 2022 +0300

    * replaced several internal errors, related to the WebAssembly labels
      resolution with more meaningful error messages, in order to ease the
      debugging of the compiler. Based on patch by Pierre.

M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 748f71e5bbbe88d57dfa3cdc2569c698a982fc27
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 11:18:52 2022 +0300

    + enabled compilation of units variants and rtti, bug #39579 is now fixed

M	packages/rtl-objpas/fpmake.pp

******************************************************************************
commit 6e4e3b85800d8f12fabe4527e4c13ec5002d9a02
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 11:06:59 2022 +0300

    * fixed WebAssembly code generation in thlcgwasm.g_overflowCheck_loc (patch by Pierre)

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 8bea5dd41e86662f33771e442650d774af1a3d4b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 11:00:10 2022 +0300

    * WebAssembly code generation fix in thlcgwasm.a_op_reg_reg_reg_checkoverflow, based on patch by Pierre (but simplified, to use a single block)

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 283c213a0c6ffb942860649f703b4cf8862e4f5f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 10:47:38 2022 +0300

    * patch by Pierre, which fixes WebAssembly code generation for signed div/mod with overflow checking

M	compiler/wasm32/nwasmmat.pas

******************************************************************************
commit 0f4340e65963273c12c30358b34df6eb055fea4c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 10:30:20 2022 +0300

    * fix regressions after previous patch by correctly parsing output, which does not contain '##WASI-EXITCODE:'

M	tests/utils/dotest.pp

******************************************************************************
commit a8b789d183513c381c0dc60c0cd50700e8909dfe
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue May 24 10:15:44 2022 +0300

    * patch from Pierre for working around the exitcode <= 125 limitation in wasmtime

M	rtl/wasi/system.pp
M	tests/utils/dotest.pp

******************************************************************************
commit 32fa0ecaf991bb0f8ecca00675a31808976fbef4
Author: florian <florian@freepascal.org>
Date:   Mon May 23 22:28:49 2022 +0200

      * cleanup

M	compiler/symtype.pas

******************************************************************************
commit e8e53d13cde14e49512f220373c6ef2f9352e1db
Author: florian <florian@freepascal.org>
Date:   Mon May 23 21:46:41 2022 +0200

      * fix #39730 as suggested by Jonas

M	compiler/x86/cgx86.pas

******************************************************************************
commit 172803b2f7e5123e8d2f973dd281665e446340c1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon May 23 00:55:46 2022 +0200

    fcl-passrc: fixed compile pas2js

M	packages/fcl-passrc/src/pscanner.pp

******************************************************************************
commit 1b7aefc11df9cf7f034a29c4c372d571ab49e78b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon May 23 00:55:37 2022 +0200

    fcl-json: fixed compile pas2js

M	packages/fcl-json/src/fpjson.pp

******************************************************************************
commit f2ba814b9e75bfae1aadfcb4fbefb0696f5c8c0d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon May 23 00:50:18 2022 +0200

    fcl-json: StringToJSON: fixed pas2js compile and less mem allocations

M	packages/fcl-json/src/fpjson.pp
M	packages/fcl-json/tests/testjsondata.pas

******************************************************************************
commit 20e3a7311c6a44fd44995f3e56c94098f60da32d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun May 22 23:46:29 2022 +0200

    pastojs: fixed absolute result

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 4c8e802dd36a951f6925bb8bcf4c9ea043235f81
Author: florian <florian@freepascal.org>
Date:   Sun May 22 22:51:57 2022 +0200

      * continue const. propagation after a for loop when possible

M	compiler/optconstprop.pas
M	compiler/psub.pas

******************************************************************************
commit bcea5581def3f663a2fa52bca29f7e2191e7e45e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun May 22 19:56:39 2022 +0200

    pastojs: fixed call inherited of nested class

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 47c271dcd0635ea584023800d66d1ef8ca5ec07e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun May 22 06:34:10 2022 +0300

    + implemented InterlockedIncrement, InterlockedDecrement, InterlockedExchange,
      InterlockedCompareExchange and InterlockedExchangeAdd for WebAssembly in a
      thread safe way, using the thread and atomics extension, when the RTL is
      compiled with -dFPC_WASM_THREADS

M	rtl/wasm32/wasm32.inc

******************************************************************************
commit ccc843f98319c4dc3e5a6654f4c20a238969e284
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 21 21:57:32 2022 +0200

    llvmdbg: emit uppercase symbol names unless C++-style debug info is selected
    
    Otherwise gdb won't find the symbols unless you use the exact case

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 9a7a97175ef8d78e03d878b29ee5d48d24186016
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 21 20:55:52 2022 +0200

    llvmdbg: emit debug information for global variables

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 1b393c80aad885242259470682078971d29a83a1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 21 20:54:58 2022 +0200

    llvmdbg: fix missing initialisation when there are no procedures

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit d0bf7acc188e3a0b701c58f48a196bc2d8ded78b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 21 20:54:04 2022 +0200

    llvmdbg: build hashtable to lookup llvmdecl belonging to a global variable
    
    We need to attach the debug info to it

M	compiler/aasmdata.pas
M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit e865ab4c3a52fac811b39f24b4572610b0e59a7e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 21 20:51:06 2022 +0200

    llvmdbg: handle nil in more places
    
    "void" is represented as "null" in LLVM debug information, which we represent
    by nil

M	compiler/llvm/aasmllvmmetadata.pas
M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit a33e6230a00bde7fda922ccf94a49da79f0bff5c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 21 20:48:43 2022 +0200

    llvm metadata: add DIGlobalVariableExpression enum
    
    Only documented as of LLVM 9.0, but existed already in 7.0.
    Also fixed DIGlobalVariable not being marked as unique

M	compiler/llvm/aasmllvmmetadata.pas

******************************************************************************
commit f8967668371d7b2fe86362f898745d1710ab9abe
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 21 20:48:01 2022 +0200

    agllvm: fix writing metadata operands for variable declarations

M	compiler/llvm/agllvm.pas

******************************************************************************
commit 91481a5fae82c1995f41256dfdb08c0f278348c5
Author: florian <florian@freepascal.org>
Date:   Sat May 21 22:31:51 2022 +0200

      * more robust code for constant propagation in for loops

M	compiler/optconstprop.pas

******************************************************************************
commit f1cb5d8f71cc09bd03a3fc6a67a1803bc2265016
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 21 18:03:14 2022 +0300

    + support intrinsic for the memory.atomic.notify WebAssembly instruction

M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc

******************************************************************************
commit 86643710c438d759e902012bd98c90a9996f070b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 21 17:53:38 2022 +0300

    + support intrinsics for the WebAssembly memory.atomic.wait32 and memory.atomic.wait64 instructions

M	compiler/wasm32/ccpuinnr.inc
M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/cpuinnr.inc

******************************************************************************
commit 3cfdf000a2506431a9176e47aeadb1db67d7357d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 21 17:24:21 2022 +0300

    + support the new WebAssembly threads and atomics instructions in the internal assembler

M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/cpubase.pas

******************************************************************************
commit e376851fd8aabb05ac93bc234ae06fd9ed0cdd32
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat May 21 16:29:28 2022 +0300

    * fixes to the WebAssembly atomic function intrinsics

M	rtl/wasm32/cpuh.inc

******************************************************************************
commit 08a9b16c82d61ea383854174b81528532ef124ab
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat May 21 03:31:42 2022 +0200

    fcl-json: fixed tests

M	packages/fcl-json/tests/testjson.lpi
M	packages/fcl-json/tests/testjsonreader.pas

******************************************************************************
commit 5700cb56aca837a4ba11b3451ab3630596e98ca9
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat May 21 03:27:27 2022 +0200

    fcl-json: fixed StringToJSONString

M	packages/fcl-json/src/fpjson.pp
M	packages/fcl-json/tests/jsonconftest.pas
M	packages/fcl-json/tests/testjsondata.pas

******************************************************************************
commit e03b9205206455c56174029ccc35d27a0e43b61a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 20 19:33:20 2022 +0300

    + added intrinsic support for the WebAssembly cmpxchg atomic operations as well

M	compiler/wasm32/ccpuinnr.inc
M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/cpuinnr.inc

******************************************************************************
commit a1ee4e04ed8b5410a10b49b854fa17420eea19fc
Author: florian <florian@freepascal.org>
Date:   Fri May 20 22:50:59 2022 +0200

      * if a for loop does not change a variable, we can propate it if it is a constant, resolves #39726

M	compiler/optconstprop.pas
M	compiler/psub.pas

******************************************************************************
commit 8817e896db8619b278e679b1c62bbec316a12f0a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 20 21:18:44 2022 +0200

    Add missing reference increases for ait_jvar labels

M	compiler/aasmtai.pas

******************************************************************************
commit d8f06aa4f163efae1c2938662c5e816e25a42b64
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 20 17:36:37 2022 +0300

    + added instrinsic support for the all the 2-parameter read-modify-write
      WebAssembly atomic operations (add, sub, and, or, xor, xchg). Note that they
      are not implemented in the internal assembler, yet.

M	compiler/wasm32/ccpuinnr.inc
M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/cpuinnr.inc

******************************************************************************
commit c5a443d0dd4579f9873ece67624bba33edce8cef
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri May 20 01:55:52 2022 +0200

    amunits: correct the HookEntry wrapper functions to new compiler behavior. at some point during 3.3.1, the compiler started to omit stackframes when not needed, which broke the previous assumptions about stackframe handling

M	packages/amunits/src/coreunits/utility.pas

******************************************************************************
commit c79df5f0fccf50ec0c18d580af898b68021d49e4
Author: florian <florian@freepascal.org>
Date:   Thu May 19 22:28:09 2022 +0200

      * better constant propation for inline nodes

M	compiler/optconstprop.pas

******************************************************************************
commit 621f3b8387ca140437280a6cd91936bbc304f2b1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu May 19 09:51:38 2022 +0200

    fcl-passrc: fixed compile pscanner with pas2js

M	packages/fcl-passrc/src/pscanner.pp

******************************************************************************
commit f102e40b691268bf3ec424491c918501fac489fb
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu May 19 09:46:40 2022 +0200

    fcl-passrc: moved ReadNextPascalToken to fpscanner

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/src/pscanner.pp

******************************************************************************
commit dd6ccd0fb4bf6ed6988ad04fb71ee441a4600438
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu May 19 09:46:15 2022 +0200

    fcl-json: fixed compile with fpc 3.2.2

M	packages/fcl-json/src/fpjson.pp

******************************************************************************
commit 1b22a68fc6be4fb51c57a5f01b5193abacab4cf1
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed May 18 14:48:11 2022 +0200

    * Export wasiAlloc and wasiFree

M	rtl/wasi/system.pp

******************************************************************************
commit 050153fb503b5090e29ad31e8bf4c3b8501e691a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed May 18 12:36:31 2022 +0200

    * Make sure webcompiler works again

M	packages/fcl-passrc/src/pparser.pp
M	utils/pas2js/pas2jswebcompiler.pp

******************************************************************************
commit 5203c3e84962c29670f4e0a87fd23cd6737ad882
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue May 17 23:28:47 2022 +0200

    Add dumping of backtrace in case of unhandled exception inside TCustomInstaller.Run method

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit be969205ad77a1ecaa8dfd98bcfe6257d3a07b0c
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue May 17 22:47:13 2022 +0200

     Do not alloc/dealloc NR_DEFAULTFLAGS for wasm32, as it is NR_NO

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 9f47e21da3c24a06be2dde8435acd3b3a2d1aa72
Author: florian <florian@freepascal.org>
Date:   Mon May 16 22:56:30 2022 +0200

      * increase default dwarf version for linux targets where current distributions exist

M	compiler/systems/i_linux.pas

******************************************************************************
commit 7f886cc4b0f57b41c7391a2e359b3db16281232a
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon May 16 15:12:07 2022 +0000

     Call increfs manually to avoid removal of stabs debug related labels

M	compiler/dbgstabs.pas

******************************************************************************
commit 81fd3e274831ad5caab055f3066cf3751e96d4c2
Author: florian <florian@freepascal.org>
Date:   Sun May 15 19:32:27 2022 +0200

      * more readable fix for the missing ait_instruction check

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 27db63969a047b37e4cacbd5d1be12b75cdf8dd7
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun May 15 17:01:35 2022 +0100

      * a64: Fix where hp1's was assumed to be an instruction and not actually checked

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 0d74752b1fd94103ee9dd360bc56c1d22c6f6bb9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 15 18:01:48 2022 +0200

    Fix %cpu type as spotted by Alexey Torgashin

M	tests/webtbs/twm0226.pp

******************************************************************************
commit 9b11509dd077389a25f3abafdf172a03002dca1e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 15 10:56:59 2022 +0200

    Text for merge request #226

A	tests/webtbs/twm0226.pp

******************************************************************************
commit 1923c8a6117876ed9646ed0ea8a7f8f2f49123bf
Author: Brendan Dougherty <brandougherty1@gmail.com>
Date:   Sun May 15 08:56:50 2022 +0000

    Only use Win64 vectorcall special case if calling convention is vectorcall.

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 16cb409fbf3004690ac9cc22a41e4d564f1e441d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 14 22:31:12 2022 +0200

    LLVM: separate as_clang_llvm_darwin
    
    The Darwin local label prefix ('L') is different from that on most other
    platforms ('.L). While LLVM generally handles that for us, for inline
    assembly it's still FPC's job to adhere to the target conventions.

M	compiler/assemble.pas
M	compiler/llvm/agllvm.pas
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas

******************************************************************************
commit 481741c65b34f6090e319161eadfa4612f786736
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 14 13:59:05 2022 +0200

    llvmdbg: remove some commented dbgdwarf code
    
    Also adjusted some hashtable sizes

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit e8da1d081a710fb13101bc265bc363d05049316f
Author: florian <florian@freepascal.org>
Date:   Sat May 14 22:23:35 2022 +0200

      + Aarch64: MovOp2AddUtxw optimization

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 9b87fb4a347a3ac3aef351440911b50899b5e444
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sat May 14 21:26:13 2022 +0200

    Use '.L' as labelprefix for LLVM compiler variant

M	compiler/llvm/agllvm.pas

******************************************************************************
commit a0d4cccd873a152308f0f917f636d17ed6d86100
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sat May 14 21:05:08 2022 +0200

     Fix syntax error for isLocal field for function/procedure type LLVM debug information

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit f6c741ee73d12001867ae9a750165320871cc340
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat May 7 11:34:54 2022 +0100

      * Corrected label reference counts caused by TAsmLabel.GetName incrementing refs

M	compiler/aasmbase.pas
M	compiler/aasmcnst.pas
M	compiler/objcgutl.pas

******************************************************************************
commit cddffbed58d6cf218eb0266455b0ae5c8bc806a3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 14 08:33:52 2022 +0200

    llvmdbg: disable open array data location
    
    Since we don't generate full debug info for parameters yet, this internalerrors

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit fd125b506e5f69cd2d70d011745c73bb35f8bfb8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed May 11 22:38:23 2022 +0200

    LLVM debug info: LLVM 7.0 support
    
    Also defined some llvm flags in a negative way so they can be removed from
    later versions rather than added

M	compiler/llvm/dbgllvm.pas
M	compiler/llvm/llvminfo.pas

******************************************************************************
commit edbddec98a5e2ea120ea0217656cbc0fadd838cd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 1 20:39:43 2022 +0200

    llvmdbg: diflags/dispflags fixes
    
    Fix MainSubprogram flag for older LLVM versions, as it was a plain flag rather
    than a subprogram flag there.
    
    Added visibility flags for procdefs (public/private/protected)
    
    Write flags as enum rather than integer to avoid issues with changing values
    across different LLVM versions

M	compiler/llvm/dbgllvm.pas
M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 816ab7ffcce3ae3b73fe5fbb0cf1f363a9efcfff
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 1 20:37:09 2022 +0200

    llvm metadata: counter per unit rather than globally
    
    Results in less high numbers, and reproducible results when partially
    rebuilding

M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/aasmllvmmetadata.pas

******************************************************************************
commit 9b280db2b12bd6fb201ebc967af98a1320ca14cd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 30 14:54:18 2022 +0200

    dbgllvm: add scopeLine attribute for function debug info
    
    Ensures that breaking on the function correctly sets the breakpoint on the
    first source line of the function (rather than potentially in the prologue
    without line information)

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit d1aaeff832bd6b0ef20f1f38c156622b0939ac7e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 30 14:52:19 2022 +0200

    dbgllvm: fix crash for files without procedures/functions

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 067d96242c10b0ec3c24f1461d71d450d9d72fc5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 30 14:49:56 2022 +0200

    dbgllvm: fix crash when generating debug info for procdef of imported struct

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit cf6a97c8edea0f589a46eb3b862ef36455c18ec9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 30 14:44:31 2022 +0200

    LLVM: fix fileinfo of temp allocations

M	compiler/llvm/tgllvm.pas

******************************************************************************
commit 8d2d91d5055e27ee3c2bed9444241d4ee5bd6dbb
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Apr 29 22:01:45 2022 +0200

    dbgllvm: fix infinite loop when writing multi-dimensional array info

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit a7e19e9f068422a4d6ff58ecc1559c0f5627612c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Apr 29 22:00:28 2022 +0200

    llvm metadata: use cardinal instead of tsuperregister for unnamed metadata numbers
    
    We're not putting these into registers, so no need to limit ourselves

M	compiler/llvm/aasmllvmmetadata.pas

******************************************************************************
commit a75adf542dc2e3c8c0ff80a976d96cc53d5598ba
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 28 21:57:37 2022 +0200

    dbgllvm: handle empty spFlags

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 91563115c42448df25ac313b4be6049e0f65d11f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 28 21:56:46 2022 +0200

    dbgllvm: handle array of const (stub)

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit aec7aefdd5a0beea97fe69de99815f350afaf717
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 28 21:55:30 2022 +0200

    dbgllvm: create dummy line info for instructions that shouldn't have any
    
    Use line 0 for that, like clang does

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 20674089bd3306c2b2b9bef14647e9c41c6499c8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Apr 26 20:26:47 2022 +0200

    llvmdbg: add declaration for all DISPFlags

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 13055bb58a2ca715666b5f19a8ce4b507e921886
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Apr 26 20:25:38 2022 +0200

    llvmtype: ensure all processed defs get recorded
    
    This is necessary so they get reset as well, as they may be reprocessed while
    compiling other units (both by llvmtype and dbgllvm)

M	compiler/llvm/llvmtype.pas

******************************************************************************
commit f832444eaa72854e53515b253914221095c92419
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Apr 26 10:30:04 2022 +0200

    LLVM lineinfo: fix nolineinfo generation
    
    LLVM requires line info metadata for all call instructions that may potentially
    be inlined. So attach one to all call instructions in nolineinfo regions, but
    set their line number to 0 (same as what clang does)

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 40418f5b3d5d69b4c38fefbbc46d353b84bc02ae
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Apr 20 22:21:04 2022 +0200

    dbgllvm: remove restriction to only write struct procdef in context of struct
    
    Does not make a difference for LLVM since all debug info for procdefs is
    assigned to the definition instructions for the procdef anyway, and avoids
    issues when only generating line info (in that case the structs will never
    be processed, but we still have to generate the basic debug info for their
    procdefs to provide a scope for their line info)

M	compiler/llvm/dbgllvm.pas

******************************************************************************
commit 6cacd9c824d34c42f71977b23342dcf2403b47de
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Apr 20 21:54:59 2022 +0200

    llvmdbg: initial version based on dbgdwarf
    
    Line information is mostly functional, type information not yet (except
    for basic procdef info, as that's required for line info)

A	compiler/llvm/dbgllvm.pas

******************************************************************************
commit f1bcd02aaf66b7eeaddc6173ded485938f8335b7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Apr 20 21:43:10 2022 +0200

    Typed const builder: store tsym
    
    Useful for LLVM debug info generation

M	compiler/aasmcnst.pas
M	compiler/cresstr.pas
M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmtype.pas
M	compiler/llvm/nllvmcal.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/llvm/nllvmutil.pas
M	compiler/ngtcon.pas

******************************************************************************
commit 5075198a8b76034e5b5c36b8d783e276c6f11b56
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Apr 18 13:30:32 2022 +0200

    tfileposinfo: separate types for the fields
    
    Allows other units to declare variables of the appropriate type when storing
    those values separately

M	compiler/globtype.pas

******************************************************************************
commit b7b495a679e1ed166c6f99f1247398d3dec5dd4d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 16 21:15:06 2022 +0200

    LLVM: assign procdef.procstarttai, like in the regular code generator

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 229eb93e72156f8d7175c3ae379087b8a46b60e9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 16 21:13:21 2022 +0200

    tnodeuitls: merge GenerateObjCImageInfo into InsertObjectInfo
    
    LLVM needs to insert the Objective-C image info into the general object info
    metadata. This way we don't need to store a reference to that metadata so
    as to add extra data to it later (tnodeutils is never instantiated, it only
    contains class methods)

M	compiler/llvm/nllvmutil.pas
M	compiler/ngenutil.pas
M	compiler/objcgutl.pas

******************************************************************************
commit 78535bbcd884a550ce399bc6c0ce8ca47017b45e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 16 21:05:05 2022 +0200

    agllvm: support for writing specialised metadata nodes

M	compiler/llvm/agllvm.pas

******************************************************************************
commit d29473154267150c65be268cf070941573a58ffc
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 9 14:48:38 2022 +0200

    LLVM: enable DWARF debug info generation

M	compiler/dbgbase.pas
M	compiler/llvm/llvminfo.pas
M	compiler/llvm/llvmnode.pas
M	compiler/llvm/nllvmutil.pas
M	compiler/systems.inc
M	compiler/systems.pas

******************************************************************************
commit 527c68b6c3c9a77318768ad43b1558278dacf465
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 9 15:00:56 2022 +0200

    agllvm: remove useless code

M	compiler/llvm/agllvm.pas

******************************************************************************
commit a8cb061a5063fdab6cd5c1a92d7abe5feadc0c8a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 9 14:50:27 2022 +0200

    LLVM: support for attaching metadata to instructions

M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/aasmllvmmetadata.pas
M	compiler/llvm/agllvm.pas

******************************************************************************
commit 4293d4455c6481529846ff30ee7f50a19ff31bf1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 9 15:01:22 2022 +0200

    LLVM: factor out writing operands in agllvm

M	compiler/llvm/agllvm.pas

******************************************************************************
commit 411fa298ae03b9420a722ed347428c27ee423c29
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 9 14:49:15 2022 +0200

    LLVM: data location debug info support
    
    This was added to LLVM for Fortran arrays, but can also be used for Pascal
    dynamic arrays

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 1d010d918bdc0d0eb07220f75ead869100093f1d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 13 20:54:14 2022 +0200

    LLVM metadata: specialised metadata fleshing out

M	compiler/llvm/aasmllvmmetadata.pas

******************************************************************************
commit ac89cfc6c705d65fa0e8a359d0a83e0a08a261ed
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 13 20:53:37 2022 +0200

    aasmtai: added tai_string.Create(ansistring)
    
    Also prevent range check errors for empty strings

M	compiler/aasmtai.pas

******************************************************************************
commit 4da1ad71a4ead2a6643e56087d03c1ddb6303416
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 18 17:46:45 2021 +0200

    * moved a bunch of constants from dbgdwarf to dbgdwarfconst

M	compiler/dbgdwarf.pas
A	compiler/dbgdwarfconst.pas

******************************************************************************
commit a285500d3680b13c2c5795d99c51404764b7df39
Author: florian <florian@freepascal.org>
Date:   Fri May 13 22:37:43 2022 +0200

      * patch by Rike: Use reverse_longword instead of manually reversing longword, resolves #39720

M	compiler/ncgcon.pas
M	compiler/ncon.pas

******************************************************************************
commit 812736bd416afb2f02c894259aaa8b74f88f9c3f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 13 22:56:36 2022 +0300

    + support the atomic.fence instruction in the WebAssembly internal object writer

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 1d70437017f8158469f0d91186ccfb177bdb15dd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 13 22:46:27 2022 +0300

    + added intrinsic (for RTL internal use) that emits the WebAssembly atomic.fence instruction

M	compiler/wasm32/ccpuinnr.inc
M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/cpuinnr.inc

******************************************************************************
commit ddab39dbdc65259d388133c8a99f9ab028c0e879
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 13 21:15:54 2022 +0300

    + enable the atomics extension on the llvm-mc command line (extension appears
      to be recognized since LLVM 8.0, so it should be safe to always enable this
      from the llvm-mc command line)

M	compiler/systems.pas
M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit 5198e47e36c8bceb2842570a7e3f4ec7fd8748e0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri May 13 20:55:12 2022 +0300

    + added the atomic memory access WebAssembly instructions from the threading proposal for WebAssembly

M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/strinst.inc

******************************************************************************
commit de7d7d34cab1e3d04a8539345b2b0a5912dff36a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri May 13 08:52:28 2022 +0200

    * Compile jwrsa

M	packages/fcl-web/fpmake.pp

******************************************************************************
commit 4f9c19d94334a8ae546c0e9e0aaae699f16efad5
Author: florian <florian@freepascal.org>
Date:   Thu May 12 22:55:59 2022 +0200

      * simplifications by Rika (*2 loops => shl/Bsr), resolves #39717

M	compiler/raatt.pas
M	compiler/rgobj.pas

******************************************************************************
commit 69d40dd17a37b87ea0d9ab6aac62703819652470
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu May 12 22:32:26 2022 +0200

    Use round to convert float constant into s64comp type for LLVM compiler as is done in general case

M	compiler/llvm/nllvmcon.pas

******************************************************************************
commit deec6fc4ba954e698c7e928d9d2cbb2724a40b43
Author: florian <florian@freepascal.org>
Date:   Wed May 11 20:58:38 2022 +0200

      * set max. variable and constant alignment for win32 and win64 to 64 byte boundaries

M	compiler/systems/i_win.pas

******************************************************************************
commit 8184287ec0c49498f61a587290a0117806282d64
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue May 10 23:18:01 2022 +0200

     Fix for variables longer than 127 chars

M	compiler/symbase.pas
A	tests/webtbs/tw39661f.pp

******************************************************************************
commit 578ce51fc3178e9a6a1602337ee6626426739b5f
Author: florian <florian@freepascal.org>
Date:   Tue May 10 22:38:19 2022 +0200

      * fix broken merge

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a73869b879537feb38206e95e3ebbadf755fb406
Author: florian <florian@freepascal.org>
Date:   Mon May 9 22:45:21 2022 +0200

      * arm-linux: set max. alignment for constants and variables to 32 byte boundaries

M	compiler/systems/i_linux.pas

******************************************************************************
commit 084a4a05631c119edc3072a6c599a8e58c39d8e0
Author: florian <florian@freepascal.org>
Date:   Mon May 9 22:45:01 2022 +0200

      * made checking for supported targets more fool proof

M	tests/test/talignrec1.pp

******************************************************************************
commit 3e11b0e8707bf720cc1ef1c8fce9a4c2953141ed
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Apr 13 11:24:34 2022 +0100

      * New tests for aligned records

A	tests/test/talignrec1.pp
A	tests/test/talignrecbad1.pp
A	tests/test/talignrecbad2.pp
A	tests/test/talignrecbad3.pp
A	tests/test/talignrecbad4.pp

******************************************************************************
commit 971b8b9217d257dba56b7cdac22d71492fb6a7d5
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Apr 13 11:02:27 2022 +0100

      * Compiler error is now thrown if record alignment is not a power of 2 or is greater than 64.

M	compiler/ptype.pas

******************************************************************************
commit 8bef28ccbeaa95f39020c4c954ba9bee9ee5c0a9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon May 9 21:19:06 2022 +0200

    PPU version: bump
    
    fcaea210758 changed name mangling

M	compiler/ppu.pas

******************************************************************************
commit 4add05c625395fec0a2eda897f3f3dec67f760bd
Author: florian <florian@freepascal.org>
Date:   Sun May 8 17:49:14 2022 +0200

      * x86_64-linux and i386-linux align variables and constants up to 64 byte boundaries

M	compiler/systems/i_linux.pas

******************************************************************************
commit 3d3c904ac588dc79441b0d9c29bd79b6744358c7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 8 15:03:14 2022 +0200

    TSymStr: more consistent usage

M	compiler/dbgdwarf.pas
M	compiler/ncgvmt.pas
M	compiler/ngenutil.pas
M	compiler/pdecobj.pas
M	compiler/pmodules.pas
M	compiler/symdef.pas
M	compiler/symtable.pas

******************************************************************************
commit fcaea2107583d5afd1d2cf43e7d85d32ea1248c7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 8 14:59:36 2022 +0200

    SymAnsiStr: fix "make all" and webtbs/tw39661*
    
    Fixes compilation with LLVM backend

M	compiler/ncgvmt.pas
M	compiler/symbase.pas
M	compiler/symdef.pas

******************************************************************************
commit 78f23a462e3f4d4c3be14d4ea2a83877093543c5
Author: florian <florian@freepascal.org>
Date:   Sat May 7 23:12:45 2022 +0200

      * set minimum compiler to compile the compiler to 3.2.0

M	compiler/pp.pas

******************************************************************************
commit f4e28ab357c786dc55efc9f9b3f5a4356f7d0629
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Jan 6 22:03:14 2022 +0000

      * x86: Fixes to GetInt/MMRegisterBetween assignments

M	compiler/x86/aoptx86.pas

******************************************************************************
commit fb14bc845943073730f66be5c0450fe08afca276
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed May 4 22:35:11 2022 +0100

      * New webtbs/tw39646.pp test to evaluate fix for
        i39646

A	tests/webtbs/tw39646.pp

******************************************************************************
commit 54aae023ea2f4ee864c4ef3ce98ad387c166cb52
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon May 2 00:50:10 2022 +0100

      * Bug fix that prevents downsizing of
        "(x div y) and z" when "x div y" is 64-bit and
        z is 32-bit or less.  Fixes i39646

M	compiler/ncnv.pas

******************************************************************************
commit c745e2cfba3dee29c22a28ac313d6776e5118c32
Author: marcoonthegit <marco@freepascal.org>
Date:   Sat May 7 19:05:35 2022 +0200

    * improved version that is still readable and has hex inline. Most importantly, it writes directly to result string rather than a temp, saving a copy that is hurting specially for longer strings.

M	packages/fcl-json/src/fpjson.pp

******************************************************************************
commit 62c9e19f39c455969d0894c6b9c43a555773a154
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat May 7 10:30:46 2022 +0200

    * QOI format read/write implementation by Marģers

A	packages/fcl-image/examples/wrpngf.pas
A	packages/fcl-image/examples/wrqoif.pas
M	packages/fcl-image/fpmake.pp
A	packages/fcl-image/src/fpreadqoi.pas
A	packages/fcl-image/src/fpwriteqoi.pas
A	packages/fcl-image/src/qoicomn.pas

******************************************************************************
commit 712823eb6c53fb9fec5843c796bd60560ea6212e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat May 7 10:19:55 2022 +0200

    * Add some delphi compatibility enumerateds to TShiftState

M	rtl/objpas/classes/classesh.inc

******************************************************************************
commit d78e39d360f3a4873caad0c214628d0bcd263973
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun May 1 08:24:16 2022 +0200

    AROS: 32/64-bit RTL utility compatibility update
    
    Update some utility RTL record structures to be 32/64-bit compatible.
    
    Unit Utility was already up-to-date with these changes.

M	rtl/aros/i386/utild1.inc
M	rtl/aros/i386/utild2.inc

******************************************************************************
commit 853b9c5c96f8faaf73c1fc5ead2153e2ddf93885
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun May 1 08:23:33 2022 +0200

    AROS: Unit amigados, record field members update
    
    Update some amigados unit record field members for AROS compatiblity.
    
    These changes reflect the changes made in the doslib RTL (that were present in
    the previous commit).

M	packages/arosunits/src/amigados.pas

******************************************************************************
commit 94d47bf7cb5e01c97905763979df0956b8cac421
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun May 1 08:23:18 2022 +0200

    AROS: RTL doslib, record field members update
    
    Update some doslib RTL record field members for AROS compatiblity.

M	rtl/aros/doslibd.inc

******************************************************************************
commit d207a293c7640517ced9a02366cb4e54b16cc0f9
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun May 1 08:22:05 2022 +0200

    AROS: 32/64-bit unit amigados compatibility update
    
    Update some amigados record structures to be 32/64-bit compatible.
    
    These changes reflect the changes made in the doslib RTL (that were present in
    the previous commit) but note that some of Unit amigados' record structures
    were already up to date.

M	packages/arosunits/src/amigados.pas

******************************************************************************
commit b2f6ca70cdc4f46602c8bf0bbc46bcd2b301c22a
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun May 1 08:21:30 2022 +0200

    AROS: 32/64-bit RTL doslib compatibility update
    
    Update some doslib RTL record structures to be 32/64-bit compatible.

M	rtl/aros/doslibd.inc

******************************************************************************
commit 2324055b1fb39b7846f3094fe2edb8872d1f3977
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun May 1 08:20:48 2022 +0200

    AROS: Unit exec update. Memory sizes are IPTR
    
    Memory sizes are expressed in IPTR/PtrUInt in order to be compatible to both
    32 and 64-bit.
    
    This changes some of Exec API call signatures and should not impact
    existing code.
    
    These changes reflect the changes made in the exec RTL (that were present in
    the previous commit) but note that Unit Exec record structures were already
    up to date.
    
    See: https://github.com/aros-development-team/AROS/commit/d7df812342ac2bfc7df2fd271c4cab473fe804b3

M	packages/arosunits/src/exec.pas

******************************************************************************
commit e339d236e151e89a94b30460e0cc15e758d5bd45
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun May 1 08:20:21 2022 +0200

    AROS: RTL exec update. Memory sizes are IPTR
    
    Memory sizes are expressed in IPTR/PtrUInt in order to be compatible to both
    32 and 64-bit.
    
    Affects both record structures and API call signatures.
    
    See: https://github.com/aros-development-team/AROS/commit/d7df812342ac2bfc7df2fd271c4cab473fe804b3

M	rtl/aros/i386/execd.inc
M	rtl/aros/i386/execf.inc

******************************************************************************
commit 2a75debff6ac80dbb0492d4e90e8c68b01f1c718
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun May 1 08:19:24 2022 +0200

    AROS: 32/64-bit RTL exec compatibility update
    
    Update some exec RTL record structures to be 32/64-bit compatible.
    
    Unit Exec was already up-to-date with these changes.

M	rtl/aros/i386/execd.inc

******************************************************************************
commit 61304bf324b59cfab9579af02e4c77bf4d5daff6
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Mon Apr 25 13:43:07 2022 +0200

    AROS: Add stack aligned record fields for 32-bit and 64-bit compatibility
    
    Final step that attempts to ensure that fields of particular records are
    'STACKED' (stack aligned) properly for both 32 and 64 bit.
    
    AROS introduced STACKED structure members, which are members that are padded
    according to the current used stacksize which in itself is based on the target
    CPU.
    
    These structures are required to have a particular defined size in memory and
    have a particular field alignment, therefor these records are always end-padded
    (whether required or not) so that we are able to force the compiler to add
    padding depending on the RECORDMIN setting.
    
    Other available FPC directives and/or solutions seem currently not able to
    solve that issue and we do not wish to manually check each structure to
    determine if it requires end-padding or not (based on bitness) simply because
    it is unmaintainable.
    
    This change attempts to ensure that these record structures compile using the
    correct memory size and field layout for both 32 and 64-bit CPU's.
    
    The introduction of stack aligned record fields solves a lot of 64-bit related
    crashes when working with native OOP such as MUI and BOOPSI.
    
    Note: Not tested on big endian.

M	packages/arosunits/src/datatypes.pas
M	packages/arosunits/src/intuition.pas
M	packages/arosunits/src/mui.pas

******************************************************************************
commit 1fde206ee6703e9ace1a809ae49fb511d35a07d7
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Mon Apr 25 13:42:52 2022 +0200

    AROS: Change MethodID fields (back) to their original 32-bit (longword) size
    
    Preparations for the introduction of stack aligned record fields (AROS STACKED
    structure members).
    
    MethodID really is 32-bit wide so we need to change those back to their
    original size.

M	packages/arosunits/src/datatypes.pas
M	packages/arosunits/src/intuition.pas
M	packages/arosunits/src/mui.pas

******************************************************************************
commit aa8fe28a05b423cc4a59e9b985d8cc401ce153bd
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Mon Apr 25 13:42:25 2022 +0200

    AROS: Remove CPU64 ifdef's ensuring 64-bit compatibility for records/fields
    
    Preparation for the introduction of stack aligned records fields (AROS STACKED
    structure members).
    
    Remove unmaintainable superfluous ifdef's that are used inside certain record
    structures (in an attempt to use correct padding on 64-bit targets) because
    they are not in line with the introduction of stack aligned record fields.

M	packages/arosunits/src/datatypes.pas
M	packages/arosunits/src/mui.pas

******************************************************************************
commit c4e85e5d2c25f57b11faa3d6828ffbff29b73294
Author: florian <florian@freepascal.org>
Date:   Fri May 6 23:25:36 2022 +0200

      * made test compilable if no floating point type support is available

M	tests/test/cg/cpudefs.inc
M	tests/test/cg/tcalcla1.pp

******************************************************************************
commit efe414f128b6797c2b7bbed9cecdadd02242ab62
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri May 6 10:47:02 2022 +0200

    * Example for RSA signing

A	packages/fcl-web/examples/jwt/signrs256.lpr

******************************************************************************
commit bce88f2e2bf76c3f979902aaa60598a0487f1509
Author: florian <florian@freepascal.org>
Date:   Thu May 5 19:35:01 2022 +0200

      * AVR: trgcpu.do_spill_read must load ofs

M	compiler/avr/cpuinfo.pas
M	compiler/avr/rgcpu.pas

******************************************************************************
commit cab37732c4b064eb11d09b796002be3edb30b58b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu May 5 12:04:52 2022 +0200

    * Avoid memory allocation in IsNullOrWhitespace. Fix issue #39702

M	rtl/objpas/sysutils/syshelp.inc

******************************************************************************
commit beb97b8110db0b60e55e3a0fa6169c16d58198ab
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed May 4 19:03:33 2022 +0200

    * Use const for string argument

M	packages/fcl-base/src/basenenc.pp

******************************************************************************
commit 12866e2e61cbf2da72b2e5891c7e50d8928bb035
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed May 4 11:27:55 2022 +0200

    * Forgot to commit fix

M	packages/fcl-base/src/basenenc.pp

******************************************************************************
commit 82c27c72c9ffb1f9d6dec0657b2d5ba6100b8307
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed May 4 10:00:38 2022 +0200

    * Do not make assumptions about string encoding

M	packages/fcl-base/src/basenenc.pp
M	packages/fcl-hash/src/fpasn.pp
M	packages/fcl-hash/src/fppem.pp

******************************************************************************
commit c6e9c7c1f838170d97d8f5e38c86c509045cf6f4
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue May 3 12:20:21 2022 +0200

    * Change writeln+exit to ignore

M	packages/fcl-db/tests/testfieldtypes.pas

******************************************************************************
commit 3ecc1272e09b761fab6a02ba842d7507518ed943
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue May 3 23:02:15 2022 +0200

    fcl-web: removed des3 encoded pem example

M	packages/fcl-web/tests/tcjwt.pp

******************************************************************************
commit 5acd7a7b83643e3c4f8dc96955906b67ea14eb8e
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon May 2 14:06:38 2022 +0200

    Rename tsymtable.insert and delete methods to insertsym ands deletesym

M	compiler/blockutl.pas
M	compiler/jvm/jvmdef.pas
M	compiler/jvm/njvmcon.pas
M	compiler/jvm/njvmutil.pas
M	compiler/jvm/pjvm.pas
M	compiler/jvm/symcpu.pas
M	compiler/ncal.pas
M	compiler/ngenutil.pas
M	compiler/ninl.pas
M	compiler/pdecl.pas
M	compiler/pdecsub.pas
M	compiler/pdecvar.pas
M	compiler/pexpr.pas
M	compiler/pgenutil.pas
M	compiler/pmodules.pas
M	compiler/pparautl.pas
M	compiler/procdefutil.pas
M	compiler/pstatmnt.pas
M	compiler/psub.pas
M	compiler/psystem.pas
M	compiler/ptype.pas
M	compiler/scanner.pas
M	compiler/symbase.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtable.pas
M	compiler/symutil.pas

******************************************************************************
commit 8851c8968c3490fd48988274e1557e7ebce23808
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue May 3 22:52:23 2022 +0200

    fcl-web: added des3 encoded pem example

M	packages/fcl-web/tests/tcjwt.pp

******************************************************************************
commit 2ec59db2fa7933213a2c67b892858282df6afed5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue May 3 22:35:49 2022 +0200

    fcl-hash: fixed fptlsbigint on i386

M	packages/fcl-hash/src/fprsa.pas
M	packages/fcl-hash/src/fptlsbigint.pas

******************************************************************************
commit 29881ee675c9f3fe4961d3956120eed76c666937
Author: florian <florian@freepascal.org>
Date:   Tue May 3 19:38:49 2022 +0200

      * for now, IO is not supported on AVR

M	tests/test/tint642.pp

******************************************************************************
commit 36b4a77c946529d278d938122ac70c8e0621b531
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue May 3 19:20:58 2022 +0200

    fcl-hash: less hints and disable range checking for bigint

M	packages/fcl-base/src/basenenc.pp
M	packages/fcl-hash/src/fphashutils.pp
M	packages/fcl-hash/src/fptlsbigint.pas

******************************************************************************
commit 2093be8fc3a132b2887e7bfd62ed8901c8b4505d
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Tue May 3 12:01:07 2022 +0200

    db xmldatapacketreader: fix range check error in InitLoadRecords

M	packages/fcl-db/src/base/xmldatapacketreader.pp

******************************************************************************
commit 8a64bddb20127015318dd91c50ce242e695b121a
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Tue May 3 11:13:24 2022 +0200

    db testsuite: add TestMSSQLLargeStrings

M	packages/fcl-db/tests/testfieldtypes.pas

******************************************************************************
commit f57adee862b0fed791fae215c1f12403771a0e00
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Apr 27 16:24:47 2022 +0200

    odbc: bind string parameters as SQL_WLONGVARCHAR only for more than 2000 characters

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit 989b378bcd9007540afe067cb8edfce46948fbd5
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue May 3 12:06:04 2022 +0200

    * Remove debug define

M	packages/fcl-hash/src/fptlsbigint.pas

******************************************************************************
commit 120303576b775f666c7e993cba9baf0296d947b3
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue May 3 01:51:56 2022 +0200

    fcl-web: fpjwarsa: catch exceptions during verification

M	packages/fcl-web/src/jwt/fpjwarsa.pp

******************************************************************************
commit 37d107a953a30829760954daf9eaad1057648367
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue May 3 01:39:26 2022 +0200

    fcl-web: TJWTSignerPS256, TJWTSignerPS384, TJWTSignerPS512

M	packages/fcl-hash/src/fprsa.pas
M	packages/fcl-web/src/jwt/fpjwarsa.pp
M	packages/fcl-web/tests/tcjwt.pp

******************************************************************************
commit a6766d62eed085ed4ac65e7ecb81876b0205f11c
Author: ccrause <christo.crause@gmail.com>
Date:   Sun May 1 21:31:27 2022 +0200

    Fix generation of default linker script for esp-idf v4.4

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 76e4e5d8948ed5601fafba16343c8adba04303af
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon May 2 22:38:49 2022 +0200

    fcl-hash: started RSASSA_PSS_Verify

M	packages/fcl-hash/src/fprsa.pas

******************************************************************************
commit 4df9da6c15e8b2492a75f7fd2dcb75a047307bc3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon May 2 10:36:16 2022 +0200

    * Fix library name

M	packages/gmp/src/libgmp.pp

******************************************************************************
commit 0f30dad3412e3ea678b821bc8995f2066c9cb9d9
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon May 2 10:00:25 2022 +0200

    fcl-hash: started RSASSA_PSS_SIGN

M	packages/fcl-hash/src/fprsa.pas

******************************************************************************
commit de5c056ef338750a889e5af6148f3a6ece8ba73d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon May 2 00:54:00 2022 +0200

    fcl-hash: started RSASSA_PSS_SIGN

M	packages/fcl-hash/src/fprsa.pas
M	packages/fcl-hash/src/fptlsbigint.pas
M	packages/fcl-web/tests/tcjwt.pp

******************************************************************************
commit f5742f21a082bf59603184944f4c988a9aa533b8
Author: florian <florian@freepascal.org>
Date:   Sun May 1 22:58:24 2022 +0200

      * do not run test, it is about successful compilation and runtime on weak CPUs is high

M	tests/webtbs/tw15203.pp

******************************************************************************
commit 0ae45bd2cf17b5d9dcc39f4f4590a214329e57c6
Author: florian <florian@freepascal.org>
Date:   Sun May 1 22:42:30 2022 +0200

      + AVR: track flag usage
      + AVR: take care of allocated flags when spilling
      * AVR: trgcpu.do_spill_read might also use ADIW

M	compiler/aasmtai.pas
M	compiler/avr/aasmcpu.pas
M	compiler/avr/cgcpu.pas
M	compiler/avr/navradd.pas
M	compiler/avr/navrmat.pas
M	compiler/avr/rgcpu.pas

******************************************************************************
commit 6d6774bcc4756c701b7418d803dd7b4907894c2d
Author: florian <florian@freepascal.org>
Date:   Sun May 1 22:40:34 2022 +0200

      * write number of iterations

M	tests/test/tint642.pp

******************************************************************************
commit 038230bbeaa0828d92b1740874b753308afb162b
Author: florian <florian@freepascal.org>
Date:   Sun May 1 20:13:08 2022 +0200

      * AVR: use adiw to create spilling constants if possible
      * AVR: insert allocations for registers used by spilling so the assembler optimizer does not remove spilling code

M	compiler/avr/rgcpu.pas

******************************************************************************
commit 46b52d92d38fbbda8255542e888d23f0359b3081
Author: florian <florian@freepascal.org>
Date:   Sun May 1 20:12:07 2022 +0200

      + AVR: helpers take care of ADIW

M	compiler/avr/aoptcpu.pas
M	compiler/avr/aoptcpub.pas

******************************************************************************
commit bcdc75cecfae395076c02ecb822f670d41632971
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 22:22:33 2022 +0200

    * Add license message

M	packages/gmp/src/libgmp.pp
M	packages/libnettle/src/libnettle.pp

******************************************************************************
commit 7d98462c1cd28524492922303630f599fb4b1615
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun May 1 20:17:53 2022 +0200

    fcl-hash: added PSS helper functions I2OSP, MGF1SHA256

M	packages/fcl-hash/src/fphashutils.pp
M	packages/fcl-hash/src/fprsa.pas
M	packages/fcl-web/tests/tcjwt.pp

******************************************************************************
commit a81e527e1d49d2a4f232574d7e0f2c5a8fcd949d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun May 1 14:18:01 2022 +0200

    fcl-web: test writing rsa keys as DER, test with RFC 7515 values

M	packages/fcl-hash/src/fphashutils.pp
M	packages/fcl-web/tests/tcjwt.pp

******************************************************************************
commit 727f019fd799bbf37ab013c551388aef897bf732
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun May 1 14:16:49 2022 +0200

    fcl-hash: init X509 key with strings, write as ASN and DER

M	packages/fcl-hash/src/fprsa.pas

******************************************************************************
commit 727d606b45402e6812b975cc83ff5b9d0d8de1dd
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun May 1 14:15:01 2022 +0200

    fcl-hash: added some asn write functions

M	packages/fcl-hash/src/fpasn.pp

******************************************************************************
commit ddfe51415b9ce782b80d4ddbbcb94a68baeb4f21
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 16:22:55 2022 +0200

    * Ignore output programs

A	packages/fcl-db/examples/.gitignore
A	packages/fcl-db/tests/.gitignore
A	packages/fcl-hash/examples/.gitignore
A	packages/fcl-js/tests/.gitignore
A	packages/fcl-json/tests/.gitignore
A	packages/fcl-mustache/tests/.gitignore
A	packages/fcl-web/examples/restbridge/.gitignore
A	packages/paszlib/examples/.gitignore
A	packages/paszlib/examples/testsingle.pas
A	packages/paszlib/tests/.gitignore
A	packages/regexpr/tests/.gitignore

******************************************************************************
commit 6c33e240ffdda78a327b00d472907bec8bd19169
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 16:09:56 2022 +0200

    * Ignore output programs

A	packages/fcl-base/tests/.gitignore

******************************************************************************
commit 395851a554b9e8dffeaac2cc553424a7f8681011
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 16:08:29 2022 +0200

    * Ignore output programs

A	packages/fcl-js/examples/.gitignore

******************************************************************************
commit 4afb8fad427028f21486eb937ac3a2e12855bc22
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 16:06:14 2022 +0200

    * Ignore output programs

A	packages/fcl-css/tests/.gitignore

******************************************************************************
commit b8f7a53dcb1e26299c5b264fe2392b4368cfc9da
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 16:04:49 2022 +0200

    * Ignore output programs

A	packages/fcl-css/examples/.gitignore

******************************************************************************
commit fbd26ab472cc5b6e2b75f006afa4d9174026c277
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 16:00:52 2022 +0200

    * Ignore output programs

A	packages/fcl-passrc/examples/.gitignore

******************************************************************************
commit 7ea34ceb222eb03fd7cd448fcbd90f5caefdb143
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 15:58:43 2022 +0200

    * Ignore fonts & output programs

A	packages/fcl-pdf/examples/.gitignore

******************************************************************************
commit caa4574c7304ce7110ac2d9d828bba73a9cec20d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 15:57:17 2022 +0200

    * Ignore fonts

A	packages/fcl-pdf/tests/.gitignore

******************************************************************************
commit 4e5916d17d69e79b1b2fd27032fd8bdd7b996b23
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 14:00:26 2022 +0200

     * Add libnettle into build

M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc
M	packages/libnettle/fpmake.pp

******************************************************************************
commit b90b6f2b872f203eca409cd31f863fc8567f6445
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun May 1 13:56:29 2022 +0200

    * Libnettle & dynamically loadable version of libgmp

M	packages/gmp/fpmake.pp
A	packages/gmp/src/libgmp.pp
A	packages/libnettle/Makefile
A	packages/libnettle/Makefile.fpc
A	packages/libnettle/examples/rsasign.lpi
A	packages/libnettle/examples/rsasign.pp
A	packages/libnettle/examples/rsautil.pas
A	packages/libnettle/examples/rsaverify.lpi
A	packages/libnettle/examples/rsaverify.pp
A	packages/libnettle/examples/test-sign-verify.sh
A	packages/libnettle/examples/testkey
A	packages/libnettle/examples/testkey.pub
A	packages/libnettle/fpmake.pp
A	packages/libnettle/src/libnettle.pp

******************************************************************************
commit eba76dd0526f13fd297eaea1cc0d6228f88571b8
Author: florian <florian@freepascal.org>
Date:   Sun May 1 10:55:48 2022 +0200

      * allow 32 byte alignment of constants and variables on aarch64-darwin

M	compiler/systems/i_darwin.pas

******************************************************************************
commit 95ba16228a8018187bf4e1a1d6324ede023efede
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun May 1 10:34:47 2022 +0300

    + use some ASCII replacements for certain non-ASCII characters (used by Free
      Vision) on Unix consoles that don't support UTF-8

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit f67c4b1c454ba1d62a8a83db3fa93752a2ee7457
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun May 1 10:22:56 2022 +0300

    + use the DEC special graphics character set to draw some non-ASCII characters
      on Unix consoles that don't support UTF-8 (or don't have it enabled)

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 20887aeadddc4f7ed4c0c5fab5420f39ff94ed52
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Apr 30 22:33:43 2022 +0200

    * Patch from Alexey Torgashin to handle invalid groups. Fix issue #39697

M	packages/regexpr/src/regexpr.pas

******************************************************************************
commit 77851090aa24e800434db219c442073ced066787
Author: florian <florian@freepascal.org>
Date:   Sat Apr 30 22:06:08 2022 +0200

      + git dialog templates

A	packages/ide/gitco.tdf
A	packages/ide/gitdiff.tdf
A	packages/ide/gitfetch.tdf

******************************************************************************
commit e339f8b66053c2a35e20e8d71d1b97d2513bd668
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Apr 30 15:04:22 2022 +0200

    fcl-web: TJWTSignerRSA: prefix hash with ASN1 digest info

M	packages/fcl-hash/src/fprsa.pas
M	packages/fcl-web/src/jwt/fpjwarsa.pp

******************************************************************************
commit 22c86e857e34668c3c430f84132fa7763e870e76
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Apr 30 15:26:51 2022 +0300

    + enabled compilation of units ptcgraph, ptccrt and ptcmouse on FreeBSD

M	packages/graph/fpmake.pp

******************************************************************************
commit a596fab3d5271475c6e2ea57de309905250529e3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Apr 30 15:12:14 2022 +0300

    + enabled compilation of unit ptc on FreeBSD

M	packages/ptc/fpmake.pp

******************************************************************************
commit f227efb2589e121cbeed03ab1024b89b25674615
Author: Ramon M <ramon.mifsud@yandex.com>
Date:   Wed Apr 27 20:47:25 2022 +0200

    Enabled mouse support for macOS and *BSD.  Free Vision apps can now make use of the mouse for these O/Ss.

M	packages/rtl-console/src/unix/mouse.pp

******************************************************************************
commit c3db9d63f2bc2341769266a9172772d6a1c710a9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Apr 30 11:44:39 2022 +0300

    + enabled compilation of units ptcgraph, ptccrt and ptcmouse on OpenBSD

M	packages/graph/fpmake.pp

******************************************************************************
commit bb1b0cdbf0a477f81c30db8ebcd4d989c7d132a3
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Apr 30 10:33:57 2022 +0200

    fcl-web: RS256 using sign/verify

M	packages/fcl-web/src/jwt/fpjwarsa.pp
M	packages/fcl-web/tests/tcjwt.pp

******************************************************************************
commit 19f97666e88abe2e9062973e59d435bb5eb7ce6e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Apr 30 11:12:01 2022 +0300

    + enabled compilation of the package ptc on OpenBSD

M	packages/ptc/fpmake.pp

******************************************************************************
commit f0c3d69068b3e9e3156a3b89af62233ed96dc086
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Apr 30 01:56:14 2022 +0200

    fcl-web: added TJWTSignerRS384, TJWTSignerRS512

M	packages/fcl-web/src/jwt/fpjwarsa.pp
M	packages/fcl-web/tests/tcjwt.pp

******************************************************************************
commit 44902c339b85bd855f65d40836b6aa9f5dc471a1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Apr 30 01:42:12 2022 +0200

    fcl-web: added TJWTSignerRS256

A	packages/fcl-web/src/jwt/fpjwarsa.pp
M	packages/fcl-web/src/jwt/fpjwt.pp
M	packages/fcl-web/tests/tcjwt.pp
M	packages/fcl-web/tests/testfpweb.lpi
M	packages/fcl-web/tests/testfpweb.lpr

******************************************************************************
commit d038f9f6e0a4041e2fb20f4e7d25bf88cb35e4f4
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Apr 30 01:41:13 2022 +0200

    fcl-hash: do not call randomize too often

M	packages/fcl-hash/src/fphashutils.pp

******************************************************************************
commit 74ab27ae4717aed64f7aa12a1ea5dcc772582961
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Apr 29 23:45:37 2022 +0200

    cutils: also use minalign, when varalign equals it, not only when varalign is less than it (21 years old bug?)

M	compiler/cutils.pas

******************************************************************************
commit 5d97ff43fa4b34f88279ef6e944fd1874cfa5c0e
Author: florian <florian@freepascal.org>
Date:   Fri Apr 29 22:59:26 2022 +0200

      + CPUAVR_HAS_ADIW

M	compiler/avr/cpuinfo.pas

******************************************************************************
commit 314d3579fc29303cbeed06286e951ae31a2ed556
Author: florian <florian@freepascal.org>
Date:   Fri Apr 29 22:48:43 2022 +0200

      * avr3 and avr31 should also have a movw instruction

M	compiler/avr/cpuinfo.pas

******************************************************************************
commit 9540dc8989c53554a90b86e0874ce20eaf8a7cea
Author: florian <florian@freepascal.org>
Date:   Fri Apr 29 22:34:08 2022 +0200

      * make test compiling on avr

M	tests/test/tint642.pp

******************************************************************************
commit ab1a31d9acd6603bd7173f3d73853171013bbb71
Author: florian <florian@freepascal.org>
Date:   Fri Apr 29 22:22:23 2022 +0200

      * enable random on avr, it does not increase program size if not used

M	rtl/embedded/system.cfg

******************************************************************************
commit f2fc63aed25369295e2525f84c35e6c74e5fc779
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Fri Apr 29 22:03:43 2022 +0200

    AROS 64bit fixes filehandles #2
    
    Solve crashes when opening, closing and managing files for AROS 64-bit when
    filehandles are located in memory > 32-bit by making sure the used file
    handles are actually of type BPTR/THandle instead of longint/cardinal
    (and stays compatible to AROS 32-bit).

M	rtl/aros/system.pp

******************************************************************************
commit 216c848075589f86f1051eca2d6b35b0e99a33b0
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Apr 29 02:18:42 2022 +0200

    fcl-hash: use randomize

M	packages/fcl-hash/src/fpasn.pp
M	packages/fcl-hash/src/fphashutils.pp

******************************************************************************
commit 6bf0de0ba2f99e0cdd6ac2ca9157e3628976d065
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Apr 29 01:07:59 2022 +0200

    fcl-hash: use RDTSCP on i386 and x86-64

M	packages/fcl-hash/src/fphashutils.pp
M	packages/fcl-hash/tests/utestpem.pp

******************************************************************************
commit 0a44e3192d404146342f98e3e825f02cf3405da4
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Apr 29 00:35:08 2022 +0200

    fcl-hash: test rsa encrypt/decrypt

M	packages/fcl-hash/src/fprsa.pas
M	packages/fcl-hash/tests/utestpem.pp

******************************************************************************
commit 863959357444a0754aa3a8bcc5ef662c084bbe22
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Apr 29 00:18:24 2022 +0200

    fcl-hash: rsa encrypt: fixed using non zero padding bytes

M	packages/fcl-hash/src/fpasn.pp
M	packages/fcl-hash/src/fphashutils.pp
M	packages/fcl-hash/src/fprsa.pas

******************************************************************************
commit 864b2ad3f30ffc573794d88bfef99fe6e7294c94
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Apr 28 23:10:01 2022 +0200

    fcl-hash: fixed freeing TBigIntContext.BIRadix and migrated to mode objfpc

M	packages/fcl-hash/src/fppem.pp
M	packages/fcl-hash/src/fprsa.pas
M	packages/fcl-hash/src/fptlsbigint.pas

******************************************************************************
commit 67905957cb7f433c153ca53146a5910dbdacff22
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Apr 28 23:07:54 2022 +0200

    fcl-hash: fixed HexStrToBytes

M	packages/fcl-hash/src/fphashutils.pp

******************************************************************************
commit 606f27563e4237e986ad8caf9ca57005f2138e89
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Apr 28 23:04:58 2022 +0200

    fcl-hash: fixed ASNParse_GetIntBytes for ASNSize<8

M	packages/fcl-hash/src/fpasn.pp

******************************************************************************
commit 1dd23696e308e31d1f11672b62ec297bc7a91bfd
Author: florian <florian@freepascal.org>
Date:   Thu Apr 28 22:51:11 2022 +0200

      * cleanup

M	rtl/embedded/system.pp
M	rtl/freertos/system.pp

******************************************************************************
commit c43579a3254627bf53a17211597ed72670e6832f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Apr 28 19:28:28 2022 +0200

    fcl-hash: asn check boundary, added rsa private/public key parse functions

M	packages/fcl-hash/src/fpasn.pp
M	packages/fcl-hash/src/fphashutils.pp
M	packages/fcl-hash/src/fppem.pp
M	packages/fcl-hash/src/fprsa.pas

******************************************************************************
commit 7664b32e5fbbe97a11ef8a71c8ecf55e8c92a99d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Apr 28 19:26:02 2022 +0200

    fcl-hash: added rsa test

M	packages/fcl-hash/tests/utestpem.pp

******************************************************************************
commit 60c967f255d4116c784810a1f8bdf45e8f7982ea
Author: Sergey Larin <sergy.larin@gmail.com>
Date:   Thu Jan 27 15:35:15 2022 +0300

    Optimized the comparison of a widestring variable with ''

M	compiler/nadd.pas

******************************************************************************
commit 35db2b2da3732abc46140a1b930a877d7bbe4aa1
Author: Sergey Larin <sergy.larin@gmail.com>
Date:   Thu Jan 27 16:54:56 2022 +0300

    Fixed optimization `Length(W)=0` -> `(Pointer(W)=nil) or (PLongword(Pointer(W)-4)^=0)` for WideString

M	compiler/nadd.pas

******************************************************************************
commit 7b39089d4f60d08768c481674e94f4e7c09c3a86
Author: florian <florian@freepascal.org>
Date:   Wed Apr 27 22:57:30 2022 +0200

      * updated

M	utils/fpcm/revision.inc

******************************************************************************
commit 62d5ddffb8b56411a06b8288b6237e31ff3c711d
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Apr 22 01:10:24 2022 +0100

      * x86: Improvement to CMP/JE/CMP/@Lbl/SETE ->
        CMP/SETE/CMP/SETE/OR optimisation to reduce
        pass counts (and work better with improved
        FLAGS register allocation).

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1fd2d3a83d2f3b656e2fcfe6a3399255320f5459
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Apr 24 04:27:55 2022 +0100

      * x86: Improved TrySwapMovCmp to insert before
        the FLAGS register is allocated.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6f24c8b4efccea67d092062009f413cc789a052c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Apr 21 01:02:17 2022 +0100

      * x86: Code generation fixes where FLAGS
        register is not properly allocated.

M	compiler/hlcgobj.pas
M	compiler/i386/cgcpu.pas
M	compiler/i386/n386add.pas
M	compiler/i386/n386mat.pas
M	compiler/i8086/cgcpu.pas
M	compiler/i8086/n8086mat.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/nx86add.pas
M	compiler/x86/nx86cnv.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86/nx86set.pas
M	compiler/x86_64/nx64cnv.pas

******************************************************************************
commit b8a8068dce424f75a4f5d2ff43c09151be24934e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Apr 27 18:23:21 2022 +0200

    fcl-hash: added fprsa

M	packages/fcl-hash/fpmake.pp
A	packages/fcl-hash/src/fprsa.pas
A	packages/fcl-hash/src/fptlsbigint.pas

******************************************************************************
commit ca9ea2be6134ac1e4a571fc33fd248aaffaafdd7
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Apr 27 18:11:15 2022 +0200

    fcl-hash: added ASNFetch

M	packages/fcl-hash/src/fpasn.pp

******************************************************************************
commit 86af4b8cd84bcd4dcd02dab42189fba7dc5d789e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Apr 27 18:10:15 2022 +0200

    fcl-hash: added HexStrToString

M	packages/fcl-hash/src/fphashutils.pp

******************************************************************************
commit 7631dfb563f38c9e595de8f50ef96826fabb788d
Author: marcoonthegit <marco@freepascal.org>
Date:   Wed Apr 27 17:10:59 2022 +0200

    * Use memorystream as a kind of tstringbuilder for json escaping(StringToJSONString), fixes bug #39525

M	packages/fcl-json/src/fpjson.pp

******************************************************************************
commit fefb13da3b1504093277ec9f5add1744e2e5de15
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Apr 27 12:04:44 2022 +0200

    odbc: fix long string parameter bindings

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit 96c6045023aa49703a4e85210237010f81c708de
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Apr 27 11:50:58 2022 +0200

    * Patch from Alexey Torgashin for unquotechar issue 266. Fix issue #39696

M	packages/regexpr/src/regexpr.pas

******************************************************************************
commit ac95c20c5a0fa5387aa87a963ef224fb86bcffe7
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Apr 27 11:45:43 2022 +0200

    * Add examples for syshelpers from Zeljko Avramovic. Fix issue #39541

A	packages/rtl-objpas/examples/syshelpersdemo.lpi
A	packages/rtl-objpas/examples/syshelpersdemo.pas

******************************************************************************
commit a2a9db1e06c4ba2a47b0699a892dcc17a639db1c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Apr 27 10:00:36 2022 +0200

    * Sync stored specifier names

M	packages/fcl-db/src/sqldb/sqldb.pp

******************************************************************************
commit 045b938dfa801a251b7d5cbc5e4b09de781064a4
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Apr 26 17:47:29 2022 +0200

    * Add storage specifier for params

M	packages/fcl-db/src/sqldb/sqldb.pp

******************************************************************************
commit 78fba07415e9caf09604ea3019ba2b4e0db0223e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Apr 26 13:22:00 2022 +0200

    fcl-web: gitignore

A	packages/fcl-web/tests/.gitignore

******************************************************************************
commit 3c5ad4eadf5afe1fd9afbce8793142d51f2a615c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Apr 26 13:21:50 2022 +0200

    fcl-web: updated lpi

M	packages/fcl-web/tests/cgigateway.lpi
M	packages/fcl-web/tests/fpcunithpack.lpi
M	packages/fcl-web/tests/testcgiapp.lpi
M	packages/fcl-web/tests/testfpweb.lpi

******************************************************************************
commit bf2d0853b60de40b69dbb0efad3617bfb8d2c67d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Apr 26 13:17:34 2022 +0200

    fcl-web: fixed compile tcjwt

M	packages/fcl-web/tests/tcjwt.pp

******************************************************************************
commit c2e9642b278acc80cfce2232e8d97d439e88b6f5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Apr 26 12:59:30 2022 +0200

    fcl-hash: gitignore testhash

A	packages/fcl-hash/tests/.gitignore
M	packages/fcl-hash/tests/testhash.lpi

******************************************************************************
commit d309b77b59612157a5a729170791cd9153599be5
Author: marcoonthegit <marco@freepascal.org>
Date:   Tue Apr 26 14:49:05 2022 +0200

    * header added remaining files for bug #39481

M	packages/fcl-res/src/rcparserfn.inc
M	packages/fcl-res/src/yyinclude.pp
M	packages/fcl-res/src/yypreproc.pp
M	packages/fcl-web/src/base/cgiprotocol.pp
M	packages/fcl-web/src/base/custapache.pp
M	packages/fcl-web/src/base/custapache24.pp
M	packages/fcl-web/src/base/fphttpstatus.pas
M	packages/fcl-web/src/base/httpprotocol.pp
M	packages/fcl-web/src/base/webpage.pp
M	packages/fcl-web/src/hpack/uhpackimp.pp
M	packages/fcl-web/src/hpack/uhpacktables.pp
M	packages/fcl-web/src/restbridge/sqldbrestmodule.pp
M	packages/fcl-web/src/webdata/extjsjson.pp
M	packages/fcl-web/src/webdata/extjsxml.pp
M	packages/fcl-web/src/webdata/fpextjs.pp
M	packages/fcl-web/src/webdata/fpwebdata.pp
M	packages/fcl-web/src/webdata/sqldbwebdata.pp
M	packages/fpgtk/src/def/objectdef.pp
M	packages/fpgtk/src/editor/buttonrow.pp
M	packages/fpgtk/src/editor/finddlgs.pp
M	packages/fpgtk/src/editor/gtkeditor.pp
M	packages/fpgtk/src/editor/settingsrec.pp
M	packages/fpgtk/src/editor/xpms.pp
M	packages/fpgtk/src/fpglib.pp
M	packages/fpgtk/src/fpgtk.pp
M	packages/fpgtk/src/fpgtkext.pp
M	packages/fppkg/src/pkgcommands.pp
M	packages/fppkg/src/pkgdownload.pp
M	packages/fppkg/src/pkgfphttp.pp
M	packages/fppkg/src/pkgfpmake.pp
M	packages/fppkg/src/pkgfppkg.pp
M	packages/fppkg/src/pkgglobals.pp
M	packages/fppkg/src/pkghandler.pp
M	packages/fppkg/src/pkgmessages.pp
M	packages/fppkg/src/pkgmkconv.pp
M	packages/fppkg/src/pkgoptions.pp
M	packages/fppkg/src/pkgpackagesstructure.pp
M	packages/fppkg/src/pkgrepos.pp
M	packages/fppkg/src/pkguninstalledsrcsrepo.pp
M	packages/fppkg/src/pkgwget.pp
M	packages/fv/src/colorsel.pas
M	packages/fv/src/colortxt.pas
M	packages/fv/src/editors.pas
M	packages/fv/src/inplong.inc
M	packages/fv/src/inplong.pas
M	packages/fv/src/outline.inc
M	packages/fv/src/outline.pas
M	packages/fv/src/str.inc
M	packages/fv/src/strtxt.inc

******************************************************************************
commit 476a4f0f91f1b98692124417815f4f2852d48335
Author: marcoonthegit <marco@freepascal.org>
Date:   Tue Apr 26 11:17:33 2022 +0200

    * fix headers other packages up to (but not including) fcl-res (which are generated files)   bug #39481

M	packages/fcl-fpcunit/src/DUnitCompatibleInterface.inc
M	packages/fcl-fpcunit/src/digesttestreport.pp
M	packages/fcl-image/tests/tcbarcodes.pas
M	packages/fcl-json/src/fpjsonrtti.pp
M	packages/fcl-json/src/jsonini.pp
M	packages/fcl-net/src/amiga/resolve.inc
M	packages/fcl-net/src/aros/resolve.inc
M	packages/fcl-net/src/sslbase.pp
M	packages/fcl-net/src/unix/resolve.inc
M	packages/fcl-net/src/win/resolve.inc
M	packages/fcl-passrc/src/passrcutil.pp
M	packages/fcl-pdf/src/fontmetrics_stdpdf.inc
M	packages/fcl-process/src/amicommon/process.inc
M	packages/fcl-process/src/amicommon/simpleipc.inc
M	packages/fcl-process/src/dummy/process.inc
M	packages/fcl-registry/src/regdef.inc
M	packages/fcl-registry/src/regini.inc
M	packages/fcl-registry/src/registry.pp
M	packages/fcl-registry/src/winreg.inc
M	packages/fcl-registry/src/xmlreg.pp
M	packages/fcl-registry/src/xregreg.inc
M	packages/fcl-report/src/fpreportdata.pp
M	packages/fcl-report/src/fpreportdatacsv.pp
M	packages/fcl-report/src/fpreportdatadbf.pp
M	packages/fcl-report/src/fpreportdatajson.pp
M	packages/fcl-report/src/fpreporthtmlutil.pp
M	packages/fcl-report/test/tcbasereport.pp
M	packages/fcl-report/test/tchtmlparser.pas
M	packages/fcl-report/test/tcreportdom.pp
M	packages/fcl-report/test/tcreportgenerator.pas
M	packages/fcl-report/test/tcreportstreamer.pp

******************************************************************************
commit afcf3e5201bf7e99e1f06d8f0319da338e700805
Author: marcoonthegit <marco@freepascal.org>
Date:   Tue Apr 26 10:59:44 2022 +0200

    * Added headers (bug #39481) for fcl-db.

M	packages/fcl-db/src/base/bufdataset_parser.pp
M	packages/fcl-db/src/base/datasource.inc
M	packages/fcl-db/src/base/dbcoll.pp
M	packages/fcl-db/src/base/dsparams.inc
M	packages/fcl-db/src/base/fieldmap.pp
M	packages/fcl-db/src/base/sqltypes.pp
M	packages/fcl-db/src/codegen/fpcgfieldmap.pp
M	packages/fcl-db/src/codegen/fpcgtypesafedataset.pp
M	packages/fcl-db/src/codegen/fpddpopcode.pp
M	packages/fcl-db/src/dbase/dbf.pas
M	packages/fcl-db/src/dbase/dbf_avl.pas
M	packages/fcl-db/src/dbase/dbf_collate.pas
M	packages/fcl-db/src/dbase/dbf_common.inc
M	packages/fcl-db/src/dbase/dbf_cursor.pas
M	packages/fcl-db/src/dbase/dbf_dbffile.pas
M	packages/fcl-db/src/dbase/dbf_fields.pas
M	packages/fcl-db/src/dbase/dbf_idxcur.pas
M	packages/fcl-db/src/dbase/dbf_idxfile.pas
M	packages/fcl-db/src/dbase/dbf_lang.pas
M	packages/fcl-db/src/dbase/dbf_memo.pas
M	packages/fcl-db/src/dbase/dbf_parser.pas
M	packages/fcl-db/src/dbase/dbf_pgcfile.pas
M	packages/fcl-db/src/dbase/dbf_pgfile.pas
M	packages/fcl-db/src/dbase/dbf_prsdef.pas
M	packages/fcl-db/src/dbase/dbf_prssupp.pas
M	packages/fcl-db/src/dbase/dbf_struct.inc
M	packages/fcl-db/src/dbase/dbf_wnix.inc
M	packages/fcl-db/src/dbase/dbf_wos2.inc
M	packages/fcl-db/src/dbase/dbf_wtil.pas
M	packages/fcl-db/src/export/fpcsvexport.pp
M	packages/fcl-db/src/export/fpdbexport.pp
M	packages/fcl-db/src/export/fpdbfexport.pp
M	packages/fcl-db/src/export/fpfixedexport.pp
M	packages/fcl-db/src/export/fprtfexport.pp
M	packages/fcl-db/src/export/fpsimplejsonexport.pp
M	packages/fcl-db/src/export/fpsimplexmlexport.pp
M	packages/fcl-db/src/export/fpsqlexport.pp
M	packages/fcl-db/src/export/fptexexport.pp
M	packages/fcl-db/src/json/extjsdataset.pp
M	packages/fcl-db/src/json/fpjsondataset.pp
M	packages/fcl-db/src/sqldb/interbase/ibconnection.pp
M	packages/fcl-db/src/sqldb/mysql/mysqlconn.inc
M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp
M	packages/fcl-db/src/sqldb/sqldbini.pp
M	packages/fcl-db/src/sqldb/sqldblib.pp
M	packages/fcl-db/src/sqlite/browseds.pas
M	packages/fcl-db/src/sqlite/fillds.pas
M	packages/fcl-db/src/sqlite/testds.pas

******************************************************************************
commit 33eef1f9b12f4063fb7c93c01f4b184f0e1e4ee7
Author: florian <florian@freepascal.org>
Date:   Mon Apr 25 22:12:59 2022 +0200

      * AVR: moved MovMov2Movw optimization into pass2 as it might prevent other optimizations

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 9695dba4d98dcadab0fd972ed9b5b20d3323781f
Author: florian <florian@freepascal.org>
Date:   Sun Apr 24 22:42:09 2022 +0200

      * AVR: fix TCpuAsmOptimizer.InstructionLoadsFromReg for MOVW
      * simplify code for MovMov2Movw optimization

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 49edb0b60641bd52de8dddb80b687197c35b6f1e
Author: florian <florian@freepascal.org>
Date:   Sun Apr 24 22:41:10 2022 +0200

      * AVR: fix TAoptBaseCpu.RegModifiedByInstruction, resolves #39623

M	compiler/avr/aoptcpub.pas

******************************************************************************
commit e87c52d7dc87eb53a11e91e2b27f55abbc03cc85
Author: florian <florian@freepascal.org>
Date:   Sun Apr 24 22:40:07 2022 +0200

      * otherwise => else

M	compiler/avr/cgcpu.pas

******************************************************************************
commit fc6d55872708c1d8f6a6b63caf58e9a8e452e86b
Author: florian <florian@freepascal.org>
Date:   Sun Apr 24 21:38:41 2022 +0200

      * compile always with -CX -XX for Z80

M	Makefile
M	rtl/Makefile
M	rtl/zxspectrum/Makefile
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit bdd26766ed25c0cc6b9dd83861d2f3dadbbb2022
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Apr 18 18:32:44 2022 +0100

      * Changed -1 to $FFFFFFFF on DWord writes to suppress range check errors

M	packages/chm/src/chmwriter.pas

******************************************************************************
commit f62ffa74dc5eed4acd756d59cb891a3bf49f4eb0
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Apr 19 14:20:45 2022 +0100

      * x86: Changed the names of temporary register
        stores in OptPass1MOV for reasons of clarity,
        and other minor optimisations.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 627fb9a25b1866f9fa30658ec7962f4cd31ab145
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Apr 17 11:28:53 2022 +0100

      * x86: New jump/label tracking in CrossJump optimisations

M	compiler/aoptobj.pas
M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cpubase.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 3fac3996839bd40587fa0dce1ed747cb029af551
Author: florian <florian@freepascal.org>
Date:   Sun Apr 24 14:41:06 2022 +0200

      * more precise test as suggested here: https://gitlab.com/freepascal.org/fpc/source/-/commit/876ae561585c22b9809764710f11b9a88da935ee#note_921869640

M	tests/webtbs/tw39354.pp

******************************************************************************
commit 876ae561585c22b9809764710f11b9a88da935ee
Author: florian <florian@freepascal.org>
Date:   Sat Apr 23 21:50:42 2022 +0200

      * patch by Rika: fix for ... in iterator for TMap and TSet, resolves #39354

M	packages/fcl-stl/src/gmap.pp
A	tests/webtbs/tw39354.pp

******************************************************************************
commit 74f95238064736efc2e83d349a712b8140f566e8
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Apr 23 15:51:11 2022 +0200

    * in case of an implicit specialization ensure that the symbol of the generic is indeed considered as used once the final implicit specialization has been picked
    + added test

M	compiler/ncal.pas
A	tests/webtbs/tw39684.pp

******************************************************************************
commit e0e8620deda3a3b67df3a99a1f7b9951db533d33
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Apr 23 15:40:22 2022 +0200

    * use a single if-condition for both check_hints and addsymref

M	compiler/ncal.pas

******************************************************************************
commit 6556d18bed27361321c0a2df91a1a6e126db2b36
Author: florian <florian@freepascal.org>
Date:   Fri Apr 22 22:08:20 2022 +0200

      * better fix for #39634 which avoids breaking existing code

M	compiler/defcmp.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ptype.pas

******************************************************************************
commit 97c16401f76ced3f0411d8f314acc4415bea24c1
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Apr 21 22:30:30 2022 +0200

    + add test for already fixed #39677

A	tests/webtbs/tw39677.pp
A	tests/webtbs/uw39677a.pp
A	tests/webtbs/uw39677b.pp

******************************************************************************
commit 22a4cc66ec7dc79315a0f63d27d2ab003f7777f1
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Apr 21 22:21:04 2022 +0200

    * fix #39675: consider the symbols for unnamed parameters as used so that there won't be unnecessary hints about them
    + added test

M	compiler/pgenutil.pas
A	tests/webtbs/tw39675.pp

******************************************************************************
commit 76753438edfdbf29d3c12c6793ee5ab9663eedde
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Apr 21 22:09:43 2022 +0200

    * fix #39681: also handle the result type of a specialized procvar when checking for a possible implicit specialization
    + added test

M	compiler/pgenutil.pas
A	tests/webtbs/tw39681.pp

******************************************************************************
commit c0fa45dc922b2ee1fbf6d63782e50f8b46c162e5
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Apr 21 22:01:02 2022 +0200

    * a function can't be used to implicitely specialize a specialized procedure variable parameter and vice versa
    + added test

M	compiler/pgenutil.pas
A	tests/test/timpfuncspez37.pp

******************************************************************************
commit a5f3040da528a76bf21187f647e15c24c82d980b
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Apr 21 21:57:36 2022 +0200

    * the index of the generic type parameter is not the same index of the paras list
    + added test

M	compiler/pgenutil.pas
A	tests/test/timpfuncspez36.pp

******************************************************************************
commit 66bac7c415966d5531b9b1f020147b522740040b
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Apr 21 21:33:31 2022 +0200

    * fix #39679 and fix #39680: for implicit specializations a parameter used in a call might also inherit in some depth from a specialization used as parameter type
    + added tests

M	compiler/pgenutil.pas
A	tests/webtbs/tw39679.pp
A	tests/webtbs/tw39680.pp

******************************************************************************
commit 4053d59a2c9745af6f84fbca70293cae81a05006
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Apr 21 21:04:25 2022 +0200

    * fix #39673: also resolve the dummy symbol in case this isn't a reuse of the current generic's name
    + added test

M	compiler/ptype.pas
A	tests/webtbs/tw39673.pp

******************************************************************************
commit 98a942a37e4d19a3c85f03c3fcc01f907abe3ef2
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Apr 21 21:02:31 2022 +0200

    * move handling of a dummy symbol (mainly either resolving it or generating a suitable error) inside single_type to a nested function as the same code is used multiple times

M	compiler/ptype.pas

******************************************************************************
commit ee7cbb61a0e1a6d282206819832981d89bcae634
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Apr 21 23:08:19 2022 +0200

    fcl-passrc: resolver: fixed call generic function with anonymous specialize function type

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolvegenerics.pas

******************************************************************************
commit 559fcdf73611ccba421b988237b062ed84a5e287
Author: florian <florian@freepascal.org>
Date:   Thu Apr 21 20:02:46 2022 +0200

      * forbid cyclic pointer definitions, resolves #39634

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ptype.pas
A	tests/webtbf/tw39634.pp

******************************************************************************
commit b1d9d34665ce1f26bc1b95a87ab085a6bb3530ad
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Thu Apr 21 18:01:30 2022 +0200

    * only abort due to a missing overload directive if there indeed was any procdef found (due to implicit specializations there might be none), fixes compilation of tests webtbs/tw38310b and webtbs/tw38310c

M	compiler/htypechk.pas

******************************************************************************
commit 59672a698267ca16ea8812f4acf932f127cc7bc0
Author: Bi0T1N <9175580-Bi0T1N@users.noreply.gitlab.com>
Date:   Mon Apr 18 15:25:42 2022 +0200

    Add support for OpenSSL 3.0

M	packages/openssl/src/openssl.pas

******************************************************************************
commit 02289d1f5b986c96b0843110de46a143500f4c79
Author: florian <florian@freepascal.org>
Date:   Wed Apr 20 22:15:25 2022 +0200

      + fold "a shl n1 shl n2" and "a shr n1 shr n2" into "a shl (n1+n2)" and "a shr (n1+n2)", resolves #39629

M	compiler/nmat.pas

******************************************************************************
commit adb264a7118da122c9277409df70703634551055
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Wed Apr 20 18:35:03 2022 +0000

    db odbcconn: error messages received through SQLGetDiagRec are ANSI - convert them to CP_ACP

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit 90844c2027e078fcc1ff6b8d3df911a77bac2ed3
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Apr 1 17:21:20 2022 +0200

    * fix #35261: apply slightly adjusted changes by Ryan Joseph to implement support for implicit generic function specializations
    
    The main adjustments were as follows:
      - fixing coding style and identation
      - fixing some typos
      - using a better name for the property in tcallcandidates which holds the symbols created for anonymous parameter values

M	compiler/defutil.pas
M	compiler/globtype.pas
M	compiler/htypechk.pas
M	compiler/ncal.pas
M	compiler/nld.pas
M	compiler/pgenutil.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtable.pas
M	compiler/utils/ppuutils/ppudump.pp
A	tests/test/timpfuncspez1.pp
A	tests/test/timpfuncspez10.pp
A	tests/test/timpfuncspez11.pp
A	tests/test/timpfuncspez12.pp
A	tests/test/timpfuncspez13.pp
A	tests/test/timpfuncspez14.pp
A	tests/test/timpfuncspez15.pp
A	tests/test/timpfuncspez16.pp
A	tests/test/timpfuncspez17.pp
A	tests/test/timpfuncspez18.pp
A	tests/test/timpfuncspez19.pp
A	tests/test/timpfuncspez2.pp
A	tests/test/timpfuncspez20.pp
A	tests/test/timpfuncspez21.pp
A	tests/test/timpfuncspez22.pp
A	tests/test/timpfuncspez23.pp
A	tests/test/timpfuncspez24.pp
A	tests/test/timpfuncspez25.pp
A	tests/test/timpfuncspez26.pp
A	tests/test/timpfuncspez27.pp
A	tests/test/timpfuncspez28.pp
A	tests/test/timpfuncspez29.pp
A	tests/test/timpfuncspez3.pp
A	tests/test/timpfuncspez30.pp
A	tests/test/timpfuncspez31.pp
A	tests/test/timpfuncspez32.pp
A	tests/test/timpfuncspez33.pp
A	tests/test/timpfuncspez34.pp
A	tests/test/timpfuncspez35.pp
A	tests/test/timpfuncspez4.pp
A	tests/test/timpfuncspez5.pp
A	tests/test/timpfuncspez6.pp
A	tests/test/timpfuncspez7.pp
A	tests/test/timpfuncspez8.pp
A	tests/test/timpfuncspez9.pp

******************************************************************************
commit fab610a92770b9e5c3cbc8427c88fa770821e414
Author: florian <florian@freepascal.org>
Date:   Tue Apr 19 22:34:56 2022 +0200

      * call OptPass1_V_MOVAP for MOVDQA on i386

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 4808ed63e3717bd68a3e1fe0c5bcf63463016e0d
Author: florian <florian@freepascal.org>
Date:   Tue Apr 19 22:16:09 2022 +0200

     * use MOVDQA instead of MOVQ in spilling_create_store
     * call OptPass1_V_MOVAP for MOVDQA

M	compiler/x86/aasmcpu.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 862cffa0875e7c61e5e9b1fe3e31c75fb0f6f370
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Apr 19 14:22:26 2022 +0200

    * have the unsigned 32-bit overload of IntToHex use the signed 32-bit one to avoid usage of 64-bit arithmetic (and parameter passing) when it can be avoided

M	rtl/objpas/sysutils/sysstr.inc

******************************************************************************
commit ee3b5f5a62f09a33031f5276351bb1877ba83b5a
Author: florian <florian@freepascal.org>
Date:   Mon Apr 18 23:27:34 2022 +0200

      * x86_64: do not use copy_mm in g_concatcopy for 8 byte sized copies

M	compiler/x86/cgx86.pas

******************************************************************************
commit 2f1eb9be18338485bd807dd03ea602d41948cf6d
Author: florian <florian@freepascal.org>
Date:   Mon Apr 18 23:22:47 2022 +0200

      * support R_SUBMMX in spilling_create_store, resolves #39672

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 366d1332d18eece8de310aef2b9bb7af07d12e7d
Author: florian <florian@freepascal.org>
Date:   Sat Apr 16 21:40:33 2022 +0200

      * nicer casing

M	compiler/systems/i_embed.pas

******************************************************************************
commit 43b4b343950aa11420fac1471c4d3a647541f2de
Author: florian <florian@freepascal.org>
Date:   Thu Apr 14 17:06:15 2022 +0200

      * disallow offsetof trick for types involving implicit dereferences, resolves #39667 partially

M	compiler/nmem.pas
A	tests/webtbf/tw39667.pp

******************************************************************************
commit 62f21ae60dfaa4dc6f37972a03ca9acf33d0b8d1
Author: florian <florian@freepascal.org>
Date:   Wed Apr 13 21:31:03 2022 +0200

      + recurse into multiple subscription nodes when calculating contant @... expressions, resolves #39665

M	compiler/nmem.pas
A	tests/webtbs/tw39665.pp

******************************************************************************
commit a939c0ccd48aa8502c347fc9cf39220d1db992c6
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Apr 11 09:33:17 2022 +0000

    Add several tests for 127 max ID length, related to bug report #39661

A	tests/webtbs/tw39661a.pp
A	tests/webtbs/tw39661b.pp
A	tests/webtbs/tw39661c.pp
A	tests/webtbs/tw39661d.pp
A	tests/webtbs/tw39661e.pp

******************************************************************************
commit 379c1414a7088019cd71b98ea36353e65bd9e8f5
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Apr 11 09:24:41 2022 +0000

    Fix for bug report #39661

M	compiler/symbase.pas

******************************************************************************
commit 4c5fc2f9588bff0a009e4201218cd99ef7a8229e
Author: florian <florian@freepascal.org>
Date:   Tue Apr 12 17:35:51 2022 +0200

      * patch by Rika: avoid that capacity of TQueue grows to much for certain
        usage patterns, resolves #39662

M	packages/rtl-generics/src/generics.collections.pas
A	tests/webtbs/tw39662.pp

******************************************************************************
commit d748bb6630dd628f6ee6859c60b4b373693eeb20
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Apr 12 10:56:35 2022 +0200

    pas2js: removed translation.html, it is now on the wiki https://wiki.freepascal.org/Pas2js_Transpiler

D	utils/pas2js/docs/translation.html

******************************************************************************
commit 85c648e60318526bb63aa57dbf3c862805717606
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Apr 11 22:10:48 2022 +0000

     Check mf_symansistr is compatible with current compiler mode and issue a message before failing PPU loading

M	compiler/fppu.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 971d7baa8a050489fe3f45db09669076d2c61b4b
Author: florian <florian@freepascal.org>
Date:   Fri Apr 8 22:41:25 2022 +0200

      * patch by Cyrax: Quote path - which is passed to Windres or alike program, resolves #36526

M	compiler/comprsrc.pas

******************************************************************************
commit 54dccaaad1a768d2028bdd7ecb238fe0e5415bd6
Author: florian <florian@freepascal.org>
Date:   Thu Apr 7 22:51:30 2022 +0200

      * do not crash in case of too many $push directives, resolves #39652

M	compiler/scandir.pas
A	tests/webtbf/tw39652.pp

******************************************************************************
commit 92a0640bcc6ad53326eec32db9cd8353f434e777
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Feb 15 13:38:45 2022 +0000

      * Local speedup in OptPass1LEA that avoids expensive calls if p and
        hp1 are adjacent.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 305e49c0b81b9db7872c2ff2717dbe54b92c8f3b
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Feb 8 04:56:36 2022 +0000

      * Some streamlining in x86's OptPass1LEA routine now that the stack
        pointer is properly tracked, which also permits some deeper
        optimisations on -O1 and -O2 virtually for free.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 8120fb8b774ae89bba6a3d186e4b7723a84ed3d2
Author: florian <florian@freepascal.org>
Date:   Wed Apr 6 21:54:03 2022 +0200

      * cosmetics

M	compiler/x86/nx86cnv.pas

******************************************************************************
commit 7ff393085e3b1538a1c14f3ffcffa92a6b4a6c73
Author: florian <florian@freepascal.org>
Date:   Tue Apr 5 22:49:55 2022 +0200

      * factored out tx86typeconvnode.int_to_real_mm_location

M	compiler/x86/nx86cnv.pas

******************************************************************************
commit 57107c331093212fa5bc0d8fc865b43755ff3f12
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Apr 5 12:07:49 2022 +0200

    m68k: opcode table updates based on vasm 1.9 (used with permission)

M	compiler/m68k/m68kins.dat
M	compiler/m68k/m68knop.inc
M	compiler/m68k/m68ktab.inc

******************************************************************************
commit 6bbefcae9e4c96887653d17331b3dd616a654440
Author: florian <florian@freepascal.org>
Date:   Mon Apr 4 22:54:45 2022 +0200

      * check more cpuid flags in the cpu units

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/units/cpu/tcpu1.pp

******************************************************************************
commit d1af2c7007e2434f5a848b743c1b8d644fdbc5bd
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Apr 4 14:47:07 2022 +0200

    * Set listening port

M	packages/fcl-web/examples/restbridge/demorestbridge.pp

******************************************************************************
commit 85860f126f2afb5ae384e9cca2c19b2a278de2f9
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Apr 4 14:46:53 2022 +0200

    * New laz version

M	packages/fcl-web/examples/restbridge/demorestbridge.lpi

******************************************************************************
commit 92b51febc69c645e263c5bfa2abd1635ef7675c5
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Apr 4 14:46:05 2022 +0200

    * Fix AV

M	utils/fpdoc/dw_basehtml.pp

******************************************************************************
commit 4e28962115ee9479d465ba00a1db6028d2badb60
Author: florian <florian@freepascal.org>
Date:   Sun Apr 3 23:31:50 2022 +0200

      * 8086 compilation fixed

M	compiler/x86/nx86cnv.pas

******************************************************************************
commit 5ce9353d58cd5ee2679dc510561ff35914329daa
Author: florian <florian@freepascal.org>
Date:   Sun Apr 3 23:14:41 2022 +0200

      * i386: make also use of VCVTUSI2S* instruction if possible

M	compiler/x86/nx86cnv.pas

******************************************************************************
commit 81d7e28a87ef6949e9bcffe214ba9e83c097f7e9
Author: florian <florian@freepascal.org>
Date:   Sun Apr 3 15:07:43 2022 +0200

      + test for #39627, together with the last merge request it resolves #39627

A	tests/webtbs/tw39627.pp

******************************************************************************
commit 96aa2bbf740e1af0e814fe6d07250fe06af9d510
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Apr 3 00:41:50 2022 +0100

      * [x86] Added new RefsMightOverlap method and implemented it into the XMM memory move optimisations to catch memory overlaps; fixes bug i39627

M	compiler/x86/aoptx86.pas

******************************************************************************
commit ff64dacf259d083b728d1dece18ffe02bf8d4101
Author: florian <florian@freepascal.org>
Date:   Sun Apr 3 15:00:26 2022 +0200

      + slowcpu define

M	tests/bench/bdiv.pp

******************************************************************************
commit 9813eb9048a413d8cde171b9e2fd558da1e3a46f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 3 13:20:23 2022 +0200

    AArch64 asm reader: add support for fpcmp(e) conditions
    
    Resolves #39643

M	compiler/aarch64/racpugas.pas
A	tests/webtbs/tw39643.pp

******************************************************************************
commit b1f85792d7a7aa90bc2b200d3d2db0c97875fc32
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 3 11:12:27 2022 +0200

    Symbolic constants: don't range check on in use in typed constants
    
    Same as 3da54dcf9f, but this type when used in type constant definitions
    like record fiels

M	compiler/ngtcon.pas
A	tests/tbs/tb0693a.pp
A	tests/tbs/tb0693b.pp

******************************************************************************
commit 727e25e93eea38a44e493722a9aa74aeb7333f6a
Author: florian <florian@freepascal.org>
Date:   Sat Apr 2 15:39:17 2022 +0200

      * make __lib_csu* weak symbols on m68k-linux

M	rtl/linux/m68k/cprt0.as

******************************************************************************
commit 3da54dcf9f87336887f592c98c0088372da876e6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 2 13:23:55 2022 +0200

    Symbolic constants: don't range check on use
    
    If these constants are defined with an explicit type, they are already
    truncated/checked at that point. If we range check them again on use, we
    may get errors because at that point there is no explicit type cast
    any more.

M	compiler/ncon.pas
A	tests/tbs/tb0693.pp

******************************************************************************
commit 31f74f65b082f33402f3e59ca04ed36461c0f1c7
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Apr 2 10:17:51 2022 +0200

    * CGI demo for css minimizer/classname extractor

A	packages/fcl-css/examples/fpcss.lpi
A	packages/fcl-css/examples/fpcss.pp

******************************************************************************
commit 14c4a6796b35cd6efeeb84a6b6a5ea16f8221bdc
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Apr 2 10:14:36 2022 +0200

    * Test for stringtoidentifier

M	packages/fcl-css/tests/tccsstree.pp

******************************************************************************
commit aedb6dbacd0ee1d790c4092bef5bf46de0558c07
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Apr 2 10:14:19 2022 +0200

    * Remove debug statement

M	packages/fcl-css/src/fpcsstree.pp

******************************************************************************
commit 2b99abdd4df8f3aabe11d2ebe4d1fcbacf37fd5c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Apr 2 10:07:11 2022 +0200

    * Numeric chars allowed in identifier, no need to escape

M	packages/fcl-css/src/fpcsstree.pp

******************************************************************************
commit 56108f479979e7dc9c10dceed5f74870e7d62c79
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Apr 2 10:06:40 2022 +0200

    * Remove debug statement

M	packages/fcl-css/src/fpcssutils.pp

******************************************************************************
commit 0978f6ce16085662bca71344e135cad6a507ca49
Author: florian <florian@freepascal.org>
Date:   Fri Apr 1 23:06:21 2022 +0200

      * probably check type for int_to_real instruction selection

M	compiler/x86/nx86cnv.pas

******************************************************************************
commit 410c1bbaa0211b56076ede5ec0b2c9605c5cba62
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Apr 1 22:09:53 2022 +0200

    fcl-js: do not escape /

M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/tests/tcwriter.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit a01dc282067e70f9e693e3272ba5aeb526336a3c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Mar 31 11:52:09 2022 +0200

    pastojs: TJSArray([...])

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 4994d9cab67d6be5206517e693065e41129b21fc
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Mar 31 06:23:28 2022 +0000

    Installer now also depends on rtl-unicode package

M	installer/Makefile
M	installer/Makefile.fpc

******************************************************************************
commit a45394d849213a0a54e3e719cfc281f11d500ec0
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun Mar 27 07:13:55 2022 +0200

    AROS: 64-bit filehandle compatibility fixes for doslibf.inc

M	rtl/aros/i386/doslibf.inc

******************************************************************************
commit ff576fad0f4b3e3c92e9c695b518b34bd90e4830
Author: magorium <10467276-magorium@users.noreply.gitlab.com>
Date:   Sun Mar 27 07:10:32 2022 +0200

    AROS: 64-bit filehandle compatibility/consistency fixes for ASYS_FileList related routines

M	rtl/amicommon/sysutils.pp

******************************************************************************
commit 8512d7ac8f47e053ccc02f042cc0607f29d6c3fc
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Mar 30 15:10:30 2022 -0600

    Add x86_64 CPU to list requiring fpux80 support

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 4718029fe07e813a2e61ece0ea9bd6d3db3d0bac
Author: florian <florian@freepascal.org>
Date:   Wed Mar 30 23:07:02 2022 +0200

      * do not throw an error if syscall is used with a syntax not applicable for the current
        target, resolves #39640

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecsub.pas
A	tests/webtbf/tw39640.pp

******************************************************************************
commit 405523ace2a9e24dcfe9f0b1b0376b33c7cf29c9
Author: ccrause <christo.crause@gmail.com>
Date:   Sun Mar 13 14:26:53 2022 +0200

    Added test cases for AVR shift by compile time constant.

M	tests/Makefile
M	tests/Makefile.fpc
A	tests/test/cpu8/avr/tshift_size.pp
A	tests/test/cpu8/avr/tshift_speed.pp
A	tests/test/cpu8/avr/ushift.pas

******************************************************************************
commit 6df2eb5fd44a69d2f9e8f663c8a4972c3cbbbb21
Author: ccrause <christo.crause@gmail.com>
Date:   Fri Mar 11 22:30:16 2022 +0200

    Extra code generation options for shift with compile time constant.

M	compiler/avr/cgcpu.pas

******************************************************************************
commit 385b271bcd6b4a8b845c89e12bdde6a48e8ba314
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Mar 30 12:08:17 2022 +0200

    pastojs: fixed searching TJSPromise in global scopes

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 05c47722dd5bd09e8a7c3dd43fee47c0392ff873
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Mar 30 11:40:13 2022 +0200

    pastojs: added option ObfuscateLocalIdentifiers

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jscompiler.pp
M	packages/pastojs/src/pas2jsfiler.pp
M	packages/pastojs/tests/tcmodules.pas
M	packages/pastojs/tests/tcoptimizations.pas

******************************************************************************
commit 0e4188749bacc70a7d472f05053a90a1d0ee620a
Author: florian <florian@freepascal.org>
Date:   Tue Mar 29 22:50:00 2022 +0200

      * started with change information for AVX-512

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 4fae1bb6dfd1d65f8250ef390541647006cd1236
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Mar 29 12:11:40 2022 +0200

    * Disable debug output

M	packages/fcl-css/src/fpcssparser.pp

******************************************************************************
commit be046aa5558f8ab39441f9270a45f6e3ceb53745
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Mar 29 11:02:36 2022 +0200

    * Allow extended chars, fix nested at rules. Fix issue #39638

M	packages/fcl-css/examples/extractcssclasses.lpr
M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcssscanner.pp
M	packages/fcl-css/src/fpcsstree.pp
M	packages/fcl-css/src/fpcssutils.pp
M	packages/fcl-css/tests/tccssparser.pp
M	packages/fcl-css/tests/tccssscanner.pp
M	packages/fcl-css/tests/tccsstree.pp

******************************************************************************
commit 16881556b915c6916a488334328d586951d76ff3
Author: florian <florian@freepascal.org>
Date:   Mon Mar 28 22:36:47 2022 +0200

      * change information for AVX-512 mask register instructions

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit eccd1720c9812b99e0e70c3e37d3af36051fb7ad
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Mar 28 15:26:24 2022 +0200

    * No nil keys. Fix issue #39637

M	packages/fcl-css/src/fpcsstree.pp

******************************************************************************
commit 8b9c7b8254385e5b797cbaa0b73e160a26f5ff77
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Mar 28 13:52:31 2022 +0200

    * Fix parsing of bootstrap

M	packages/fcl-css/src/fpcssparser.pp
M	packages/fcl-css/src/fpcsstree.pp
M	packages/fcl-css/tests/tccssparser.pp
M	packages/fcl-css/tests/testcss.lpr

******************************************************************************
commit 2dcca2eb6848b10defa57ef509f2990aea72f5ea
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Mar 28 10:35:55 2022 +0000

    Fix compilation by removing unicodenumtable unit

M	rtl/nativent/buildrtl.pp

******************************************************************************
commit c3ec62878eb04316a545fdb98553f5d71002bb07
Author: florian <florian@freepascal.org>
Date:   Sun Mar 27 23:05:54 2022 +0200

      * completed change information for AVX-2

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 497dd20a088a67a950c7c61f0a365f170c547f18
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sun Mar 27 08:23:22 2022 +0000

     Regenerate Makefile's with trunk fpcmake

M	packages/fcl-css/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/linux/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile

******************************************************************************
commit 6ea0050990e5786bf369dc68b0971f433e8c9069
Author: florian <florian@freepascal.org>
Date:   Sat Mar 26 23:44:42 2022 +0100

      * finished change information for AVX1 instructions

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 1619bef4a01bdd73d97d3b9f0d50d212b2be01b0
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Mar 26 22:44:54 2022 +0100

    * Test from Inoussa to test NormalizeNFD

A	packages/rtl-unicode/tests/testnfd.lpr

******************************************************************************
commit 163d2ab344b7ef739f501d79b7a0de9b2bda0666
Author: inoussa <inoussa.o@gmail.com>
Date:   Thu Mar 24 18:03:26 2022 +0000

    Unicode' unicodenumtable.pas removed : update Makefile.fpc.

M	rtl/aix/Makefile
M	rtl/aix/Makefile.fpc
M	rtl/amiga/Makefile
M	rtl/amiga/Makefile.fpc
M	rtl/android/Makefile
M	rtl/android/Makefile.fpc
M	rtl/aros/Makefile
M	rtl/aros/Makefile.fpc
M	rtl/atari/Makefile
M	rtl/atari/Makefile.fpc
M	rtl/beos/Makefile
M	rtl/beos/Makefile.fpc
M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc
M	rtl/dragonfly/Makefile
M	rtl/dragonfly/Makefile.fpc
M	rtl/emx/Makefile
M	rtl/emx/Makefile.fpc
M	rtl/freebsd/Makefile
M	rtl/freebsd/Makefile.fpc
M	rtl/gba/Makefile
M	rtl/gba/Makefile.fpc
M	rtl/go32v2/Makefile
M	rtl/go32v2/Makefile.fpc
M	rtl/haiku/Makefile
M	rtl/haiku/Makefile.fpc
M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
M	rtl/morphos/Makefile
M	rtl/morphos/Makefile.fpc
M	rtl/msdos/Makefile
M	rtl/msdos/Makefile.fpc
M	rtl/msxdos/Makefile
M	rtl/msxdos/Makefile.fpc
M	rtl/nds/Makefile
M	rtl/nds/Makefile.fpc
M	rtl/netbsd/Makefile
M	rtl/netbsd/Makefile.fpc
M	rtl/netware/Makefile
M	rtl/netware/Makefile.fpc
M	rtl/openbsd/Makefile
M	rtl/openbsd/Makefile.fpc
M	rtl/os2/Makefile
M	rtl/os2/Makefile.fpc
M	rtl/sinclairql/Makefile
M	rtl/sinclairql/Makefile.fpc
M	rtl/solaris/Makefile
M	rtl/solaris/Makefile.fpc
M	rtl/symbian/Makefile
M	rtl/symbian/Makefile.fpc
M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
M	rtl/watcom/Makefile
M	rtl/watcom/Makefile.fpc
M	rtl/wii/Makefile
M	rtl/wii/Makefile.fpc
M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc
M	rtl/win64/Makefile
M	rtl/win64/Makefile.fpc
M	rtl/wince/Makefile
M	rtl/wince/Makefile.fpc

******************************************************************************
commit 551f26767048e2cb9e1f895122cd8dac95b2dca6
Author: inoussa <inoussa.o@gmail.com>
Date:   Thu Mar 24 18:01:38 2022 +0000

    Unicode source code's size reduction: short field names, delete unicodenumtable.pas.

M	packages/rtl-unicode/src/collations/collation_de_be.inc
M	packages/rtl-unicode/src/collations/collation_de_le.inc
M	packages/rtl-unicode/src/collations/collation_es_be.inc
M	packages/rtl-unicode/src/collations/collation_es_le.inc
M	packages/rtl-unicode/src/collations/collation_ja_be.inc
M	packages/rtl-unicode/src/collations/collation_ja_le.inc
M	packages/rtl-unicode/src/collations/collation_ko_be.inc
M	packages/rtl-unicode/src/collations/collation_ko_le.inc
M	packages/rtl-unicode/src/collations/collation_sv_be.inc
M	packages/rtl-unicode/src/collations/collation_sv_le.inc
M	packages/rtl-unicode/src/collations/collation_zh_be.inc
M	packages/rtl-unicode/src/collations/collation_zh_le.inc
M	packages/rtl-unicode/src/inc/ucadata_be.inc
M	packages/rtl-unicode/src/inc/ucadata_le.inc
M	rtl/objpas/unicodedata.inc
M	rtl/objpas/unicodedata.pas
M	rtl/objpas/unicodedata_be.inc
M	rtl/objpas/unicodedata_le.inc
D	rtl/objpas/unicodenumtable.pas
M	rtl/win32/Makefile
M	rtl/win32/Makefile.fpc
M	utils/unicode/helper.pas
M	utils/unicode/unihelper.lpr

******************************************************************************
commit ee8c3ff3cfd8851111e5094dc6673cd997ddd74c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Mar 26 22:09:34 2022 +0100

    * Correct whitespace definition

M	packages/fcl-css/src/fpcssscanner.pp

******************************************************************************
commit 54c95288f868a762f1caa9d8e62fa6f193237cf2
Author: marcoonthegit <marco@freepascal.org>
Date:   Sat Mar 26 15:00:15 2022 +0100

    * initialized some fields and data to -1 to make the results more similar to the slave chm (merged_chapter/example1/slave1) example.
    
    Now only
      - the checksum at $4
      - the number of topics (different issue)
      - the offset of framename in #strings differs.

M	packages/chm/src/chmsitemap.pas
M	packages/chm/src/chmwriter.pas

******************************************************************************
commit 5377cee3a29c267161a8e46aedb04e8e3b91cee5
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Mar 26 13:31:19 2022 +0100

    fcl-css in build

M	packages/fcl-css/src/fpcsstree.pp
M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc

******************************************************************************
commit 5b3953dde37e5802b6417748f633bd9278bf95da
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Mar 26 13:26:26 2022 +0100

    fcl-css package

A	packages/fcl-css/Makefile
A	packages/fcl-css/Makefile.fpc
A	packages/fcl-css/examples/cssmin.lpr
A	packages/fcl-css/examples/extractcssclasses.lpr
A	packages/fcl-css/fpmake.pp
A	packages/fcl-css/src/fpcssparser.pp
A	packages/fcl-css/src/fpcssscanner.pp
A	packages/fcl-css/src/fpcsstree.pp
A	packages/fcl-css/src/fpcssutils.pp
A	packages/fcl-css/tests/css/absolute.css
A	packages/fcl-css/tests/css/animation.css
A	packages/fcl-css/tests/css/anon.css
A	packages/fcl-css/tests/css/bigbig.css
A	packages/fcl-css/tests/css/class.css
A	packages/fcl-css/tests/css/color.css
A	packages/fcl-css/tests/css/font-face.css
A	packages/fcl-css/tests/css/font-face2.css
A	packages/fcl-css/tests/css/font.css
A	packages/fcl-css/tests/css/hello.css
A	packages/fcl-css/tests/css/id.css
A	packages/fcl-css/tests/css/input_type.css
A	packages/fcl-css/tests/css/margin.css
A	packages/fcl-css/tests/css/media_query.css
A	packages/fcl-css/tests/css/mystyle.css
A	packages/fcl-css/tests/css/news.css
A	packages/fcl-css/tests/css/padding.css
A	packages/fcl-css/tests/css/style.css
A	packages/fcl-css/tests/css/style2.css
A	packages/fcl-css/tests/css/style_big.css
A	packages/fcl-css/tests/css/wildcard.css
A	packages/fcl-css/tests/tccssparser.pp
A	packages/fcl-css/tests/tccssscanner.pp
A	packages/fcl-css/tests/tccsstree.pp
A	packages/fcl-css/tests/testcss.lpr

******************************************************************************
commit 2f33c970066529c482f37a6a77a11b01bb7fdccd
Author: florian <florian@freepascal.org>
Date:   Fri Mar 25 23:17:57 2022 +0100

      * more change information

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 6a56ed24abc94c040a1c41a7890cb5fa44e06664
Author: florian <florian@freepascal.org>
Date:   Thu Mar 24 22:33:15 2022 +0100

      * another change information update

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 59c33d69abd815c2ce7b1dd4345f6c99b4391570
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Mar 23 17:09:34 2022 +0100

    Revert "m68k: utilize cg.a_loadaddr_ref_cgpara in hlcgcpu" for now, turns out it's not needed

M	compiler/m68k/cgcpu.pas
M	compiler/m68k/hlcgcpu.pas

******************************************************************************
commit 652e75f8ec7e0705b4c394cbf906894afece306e
Author: florian <florian@freepascal.org>
Date:   Wed Mar 23 21:53:14 2022 +0100

      * use v*csr instructions if they are available

M	rtl/x86_64/math.inc

******************************************************************************
commit fbf68af60533634bd627ca24a9a6b57d4208df89
Author: florian <florian@freepascal.org>
Date:   Wed Mar 23 21:42:53 2022 +0100

      * continued to update change information

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc
M	rtl/x86_64/math.inc

******************************************************************************
commit f50e6dfe8e1f84e98395f8de4683ad729b6895f2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Mar 23 15:08:42 2022 +0100

    fcl-passrc: do not allocate a temp list

M	packages/fcl-passrc/src/pparser.pp

******************************************************************************
commit 35fd79ca523485df5e927e9f1a426dd9d814b530
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Mar 23 14:57:30 2022 +0100

    fcl-passrc: anonymous records

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/src/pparser.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit ed520548be3ee7ec66e4dd909c0e61978960d7a7
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Mar 23 11:06:18 2022 +0100

    m68k: utilize cg.a_loadaddr_ref_cgpara in hlcgcpu, as m68k has an instruction for loading addresses directly to the stack (PEA), and the default implementation of hlcg.a_loadaddr_ref_cgpara doesn't use that code path

M	compiler/m68k/cgcpu.pas
M	compiler/m68k/hlcgcpu.pas

******************************************************************************
commit fba3da47c6c762c7e260f89bba56bdead6c42ba7
Author: florian <florian@freepascal.org>
Date:   Tue Mar 22 22:55:26 2022 +0100

      * continued to update change information

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 22eb1e099fa15b018ad81c0bdff24462190b7afd
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Mar 15 10:11:18 2022 +0100

    * m68k: make sure right is in an address register for muln,addn,orn,xorn, before calling the low level cg

M	compiler/m68k/n68kadd.pas

******************************************************************************
commit 3317078ae121ed1462a4033242e6edccf25f9dde
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Mar 21 23:01:31 2022 +0100

    fcl-passrc: resolver: allow anonymous records only for var, const and variants

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit de9880375118fc0718080b97bd61090353e32fef
Author: florian <florian@freepascal.org>
Date:   Mon Mar 21 22:51:40 2022 +0100

      * few more updated change information entries

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit ce20ba23fa4dcf5bcb2a1f152ab2eef67df8b3c8
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Mar 21 13:38:23 2022 +0100

    * ifoWriteString boolean renamed to ifoStringBoolean., read will now also observe ifoStringBoolean. Fix issue #39625

M	packages/fcl-base/src/inifiles.pp
M	packages/fcl-base/tests/tcinifile.pp

******************************************************************************
commit c785fa4435a9abd48c8e338b1935cd5569900542
Author: florian <florian@freepascal.org>
Date:   Sun Mar 20 22:32:07 2022 +0100

      * AES instruction change information fixed

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 04a2b42f63c20e0edf9982f5c7fbff7520ee001e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Mar 20 18:44:56 2022 +0100

    fcl-passrc: test forbidden anonymous function types

M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit 89abeff99af7c1ab41b395d2e1466472f62542e2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Mar 20 17:58:23 2022 +0100

    fcl-passrc: fixed mem leak on error during parsing function type

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit e9b8738f200167865f8c6d2d333a01243d25f9fd
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Mar 20 13:34:36 2022 +0100

    fcl-pasrc: clean up

M	packages/fcl-passrc/src/pasresolver.pp

******************************************************************************
commit dedab626fe7eb60d63858ae68055845ad848a93a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Mar 20 13:28:32 2022 +0100

    fcl-passrc: forbid nested anonymous procedure type

M	packages/fcl-passrc/src/pasresolver.pp

******************************************************************************
commit 4181e24ea4517069f84d987204c715a19ff24640
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Mar 20 13:26:57 2022 +0100

    fcl-passrc: anonymous procedure type

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 2099e35d826b5336d0aa5e1717dc6339dec27cf4
Author: florian <florian@freepascal.org>
Date:   Sat Mar 19 23:15:36 2022 +0100

      * change information for SSE 4.2 instructions

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit f1cf83bd8a2ff5b38a4fa5ecb6e2f8e102d8b372
Author: Marcus Sackrow <alb42@web.de>
Date:   Sat Mar 19 13:16:50 2022 +0100

    AROS: 64bit fixes, synchronized to official ABIv11 includes

M	packages/arosunits/src/agraphics.pas
M	packages/arosunits/src/amigados.pas
M	packages/arosunits/src/datatypes.pas
M	packages/arosunits/src/diskfont.pas
M	packages/arosunits/src/exec.pas
M	packages/arosunits/src/iffparse.pas
M	packages/arosunits/src/intuition.pas
M	packages/arosunits/src/mui.pas
M	packages/arosunits/src/workbench.pas

******************************************************************************
commit 6421f2c36bc406e30f732086588aeefd9ff96fc6
Author: florian <florian@freepascal.org>
Date:   Fri Mar 18 23:23:16 2022 +0100

      * change information for SSE4.1 instructions

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit f183b2952ea5438993f4395e47bbc8694f3ea6b5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Mar 19 00:04:13 2022 +0200

    + introduced PTCKEY_LESS (the 102th key on international keyboards, <> when
      used with US keyboard layout)

M	packages/ptc/docs/CHANGES.txt
M	packages/ptc/examples/keyboard3.pp
M	packages/ptc/src/core/keyeventd.inc
M	packages/ptc/src/x11/x11displayi.inc

******************************************************************************
commit 07ff5f423abb1107be587bbb1edb55e840017b5c
Author: Marcus Sackrow <alb42@web.de>
Date:   Fri Mar 18 21:03:05 2022 +0100

    AROS: 64 bit fix for sysutils FileCreate

M	rtl/amicommon/sysutils.pp

******************************************************************************
commit ca186440ebe63429d8642f770cd6f900a57ce60f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Mar 18 11:05:55 2022 +0000

    Avoid repeated warnings about libgcc directory

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit a9db41f1e5715fed88916e4cb2a11178af2bd10a
Author: florian <florian@freepascal.org>
Date:   Thu Mar 17 22:48:19 2022 +0100

      * fixed SSSE3 change information

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit f49675c4fe286879131001986f7707fc3aad2ac6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Mar 17 20:57:26 2022 +0200

    * convert advanced video attributes to legacy attributes (emulating bold, italic,
      etc. using colors). Also, the blink attribute is converted correctly now.

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 89726bbb982e2a3d02a1d2f0a47fd58fda11c87c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Mar 17 19:49:51 2022 +0200

    + added second screen to the video4 test, which demonstrates all the attributes (without combining them)

M	packages/rtl-console/tests/video4.pp

******************************************************************************
commit 921a72566f396e58fad456700d34cac40830d935
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Mar 17 19:42:57 2022 +0200

    + implemented enhanced video attributes in the Unix video unit
    + added test for the enhanced video attributes

M	packages/rtl-console/src/unix/video.pp
A	packages/rtl-console/tests/video4.pp

******************************************************************************
commit 729d920ed3f96c09ef015303d656455efdb078a6
Author: Marcus Sackrow <alb42@web.de>
Date:   Thu Mar 17 18:05:20 2022 +0100

    AROS: Locks must be BPTR type

M	rtl/amicommon/paramhandling.inc
M	rtl/aros/system.pp

******************************************************************************
commit 5121e2c259c12411ea77fac454a83e498f0bd7d8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Mar 17 18:57:37 2022 +0200

    + introduced TEnhancedVideoCell.EnhancedVideoAttributes, based on ECMA-48 and xterm

M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/inc/videoh.inc

******************************************************************************
commit a68884f7502941e37b4a51b525b1698a04d4eb3d
Author: suve <veg@svgames.pl>
Date:   Wed Mar 16 23:01:09 2022 +0100

    Make pas2jni use cthreads on Unices

M	utils/pas2jni/pas2jni.pas

******************************************************************************
commit f5de329076217765e1127c424c52837a572f0f50
Author: florian <florian@freepascal.org>
Date:   Wed Mar 16 23:03:49 2022 +0100

      * change information updates

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 0d9298f01aaaf8c137bef8ad4fc8f7a603e70db7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Mar 16 08:28:29 2022 +0200

    * changed the video unit initialization sequence, so that the startup cursor
      position is preserved at exit (or when switching to the user screen in the
      IDE), when running in xterm or compatible (gnome-terminal, konsole, etc.)

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 28732fffa2f153ea55cd450a075ab484111a2e7a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Mar 16 08:15:39 2022 +0200

    * fixed the 256-color support for konsole

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 3564d5e34a9a3dfa02ddef37ec9498afa40848e0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Mar 16 08:10:10 2022 +0200

    + added 256 color support to the Unix console video unit

M	packages/rtl-console/src/unix/video.pp
A	packages/rtl-console/tests/video3.pp

******************************************************************************
commit 3eae0213be485a9c4a7384796bb4639ae3317cc9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Mar 16 08:08:24 2022 +0200

    * copy operator of TEnhancedVideoCell now copies the 8-bit foreground and background colors

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 61623c43ca57cce7deec020cf68e9cabc683ad57
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Mar 16 07:45:55 2022 +0200

    * use separate variables for tracking the foreground and background colors

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit e79fbff1545e41545141a14e1c4953d301370c7a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Mar 16 07:34:40 2022 +0200

    * attr2ansi changed to accept separate foreground and background color
      parameters, instead of single attribute bytes. No functional changes.

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit aee5a58000dcc2f7c0dd6fa0bc6bffacf07470af
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Mar 16 07:24:14 2022 +0200

    - delete disabled code

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit ac9feac2c86dfd118f017f7462072805be95ec97
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Mar 16 07:23:33 2022 +0200

    - removed spaces at end of line

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 25a681295a2ee176bd00493b02addc8cbc384139
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Mar 16 07:00:17 2022 +0200

    + added properties TEnhancedVideoCell.ForegroundColor and .BackgroundColor,
      which can store up to 256 colors

M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/inc/videoh.inc

******************************************************************************
commit 7c68ead57aeae69834526b26b99bc40b2a2c941f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Mar 15 23:22:34 2022 +0100

    fcl-pasrc: fixed multilinestrings # combos, double backticks become one, fixed apostroph, renamed MultilineStringsTrimLeft, MultilineStringsEOLStyle

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/src/pscanner.pp
M	packages/fcl-passrc/tests/tcscanner.pas
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit e9ee0a0be3513d2949cbd1b120f1b0e90d896a93
Author: florian <florian@freepascal.org>
Date:   Tue Mar 15 22:37:38 2022 +0100

      * more change information updated

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 27ed2808dcb4c95b101cada579f32ea3325e08d3
Author: inoussa <inoussa.o@gmail.com>
Date:   Tue Mar 15 09:28:49 2022 +0000

    Unicode 14, Unicode Collation Algorithm 14, CLDR 40 support.

M	packages/rtl-unicode/src/collations/collation_de.pas
M	packages/rtl-unicode/src/collations/collation_de_be.inc
M	packages/rtl-unicode/src/collations/collation_de_le.inc
M	packages/rtl-unicode/src/collations/collation_es.pas
M	packages/rtl-unicode/src/collations/collation_es_be.inc
M	packages/rtl-unicode/src/collations/collation_es_le.inc
M	packages/rtl-unicode/src/collations/collation_fr_ca.pas
M	packages/rtl-unicode/src/collations/collation_ja.pas
M	packages/rtl-unicode/src/collations/collation_ja_be.inc
M	packages/rtl-unicode/src/collations/collation_ja_le.inc
M	packages/rtl-unicode/src/collations/collation_ko.pas
M	packages/rtl-unicode/src/collations/collation_ko_be.inc
M	packages/rtl-unicode/src/collations/collation_ko_le.inc
M	packages/rtl-unicode/src/collations/collation_ru.pas
D	packages/rtl-unicode/src/collations/collation_ru_be.inc
D	packages/rtl-unicode/src/collations/collation_ru_le.inc
M	packages/rtl-unicode/src/collations/collation_sv.pas
M	packages/rtl-unicode/src/collations/collation_sv_be.inc
M	packages/rtl-unicode/src/collations/collation_sv_le.inc
M	packages/rtl-unicode/src/collations/collation_zh.pas
M	packages/rtl-unicode/src/collations/collation_zh_be.inc
M	packages/rtl-unicode/src/collations/collation_zh_le.inc
M	packages/rtl-unicode/src/inc/ucadata.inc
M	packages/rtl-unicode/src/inc/ucadata_be.inc
M	packages/rtl-unicode/src/inc/ucadata_le.inc
M	rtl/objpas/unicodedata.inc
M	rtl/objpas/unicodedata.pas
M	rtl/objpas/unicodedata_be.inc
M	rtl/objpas/unicodedata_le.inc
M	rtl/objpas/unicodenumtable.pas
M	rtl/objpas/weight_derivation.inc
M	tests/test/units/fpwidestring/CollationTest_NON_IGNORABLE_SHORT.txt
M	tests/test/units/fpwidestring/CollationTest_SHIFTED_SHORT.txt
M	utils/unicode/cldrhelper.pas
M	utils/unicode/cldrparser.lpi
M	utils/unicode/cldrparser.lpr
M	utils/unicode/cldrtest.pas
M	utils/unicode/cldrtxt.pas
M	utils/unicode/cldrxml.pas
M	utils/unicode/data/readme.txt
M	utils/unicode/helper.pas
M	utils/unicode/unihelper.lpi
M	utils/unicode/unihelper.lpr
M	utils/unicode/weight_derivation.inc

******************************************************************************
commit 50b6978e681268a2ca80d62e8a7d274f65120719
Author: florian <florian@freepascal.org>
Date:   Mon Mar 14 23:11:03 2022 +0100

      * more change information updates

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 6345a25304ed2de2cd28dadc24e4b5bc57d1a7c2
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Mar 13 08:07:29 2022 +0200

    + support shift+pgup, shift+pgdn, ctrl+shift+pgup and ctrl+shift+pgdn in the
      unix keyboard unit

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 501b2d6c6f48a43a1cf695fac795abca45cd0536
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Mar 13 00:34:50 2022 +0200

    + get the current code page in the msdos keyboard unit as well

M	packages/rtl-console/src/msdos/keyboard.pp

******************************************************************************
commit c881067b2395609448fdc7b49fce076b13ffae93
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Mar 13 00:26:55 2022 +0200

    + get the current DOS code page in the go32v2 keyboard unit, so enhanced key
      events Unicode characters are returned correctly (provided that the cpall and
      fpwidestring unit are included as well)

M	packages/rtl-console/src/go32v2/keyboard.pp

******************************************************************************
commit e1e939c844b4c285cdb52be178b938f5e9a44a0e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Mar 13 00:17:15 2022 +0200

    + support 83/84-key keyboards in the go32v2 keyboard unit

M	packages/rtl-console/src/go32v2/keyboard.pp

******************************************************************************
commit 91ccf4e9c643917472cd55d42094c2a1c29e05ac
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Mar 12 23:51:55 2022 +0200

    + introduced the CurrentLegacy2EnhancedKeyEventTranslationCodePage private
      variable in the keyboard unit. It is used for translating AsciiChar to
      UnicodeChar in non-enhanced (i.e. non-unicode) consoles. It can be initialized
      in SysInitKeyboard in non-unicode consoles, so they can return unicode
      characters as well.

M	packages/rtl-console/src/inc/keyboard.inc

******************************************************************************
commit b1a72a86e5b6af44300a19aebec096df00000e2a
Author: florian <florian@freepascal.org>
Date:   Sat Mar 12 22:41:31 2022 +0100

      * more change information fixed

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit be2c1c751df2f669920b3826ad495603fee09463
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Mar 12 21:22:38 2022 +0100

    * m68k: fixed the register save/restore for larger than 32K stackframes on subarchs which has no long displacement, to not trash register A0

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit 14ae44c362cbb78cafd5354137a3cf86e5f5fa0f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Mar 12 20:08:35 2022 +0100

    fcl-passrc: fixed parsing class var var

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcclasstype.pas

******************************************************************************
commit 4ed7bd9f668123b7a20a2f871ed36a024e41596f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Mar 12 19:17:40 2022 +0200

    * fixed bug, where left and right shift were swapped in the i386-go32v2
      keyboard unit as well.

M	packages/rtl-console/src/go32v2/keyboard.pp

******************************************************************************
commit 55b8fd6e9425fe627352930a716c0871393e7d96
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Mar 12 18:53:43 2022 +0200

    * fixed bug, where left and right shift were swapped in the i8086-msdos
      keyboard unit.

M	packages/rtl-console/src/msdos/keyboard.pp

******************************************************************************
commit 398c6519a541c47a6d86271daae53b2562fee0ee
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Mar 12 18:46:46 2022 +0200

    * return the proper shift state in the i8086-msdos keyboard unit GetKeyEvent and
      PollKeyEvent (previously, it was truncated, due to the native int being 16-bit
      on i8086)

M	packages/rtl-console/src/msdos/keyboard.pp

******************************************************************************
commit 5e0d5cd92eb51686d5299ab62f6ce3806af8b93d
Author: florian <florian@freepascal.org>
Date:   Fri Mar 11 22:46:37 2022 +0100

      * fix change information for a lot of MMX instructions

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 0600287c638a5507710bd600e334e437675fe959
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Mar 11 16:03:21 2022 +0100

    * m68k: spilling read, write, and replace is now bound to CPU capabilities instead of CPU family. This probably fixes some issues on 68000, where spilling replacement was not respecting CPU displacement handling boundaries, leading to assembler errors.

M	compiler/m68k/rgcpu.pas

******************************************************************************
commit 7f8591926af2de78051f2dbe91ee5d9e64a912b9
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Mar 11 13:17:01 2022 +0100

    * Publish OnError and OnConnectionHandshake

M	packages/fcl-web/src/websocket/fpwebsocketserver.pp

******************************************************************************
commit 60919b497934d50e039c7a44962f101cb32f129e
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Mar 11 13:01:42 2022 +0100

    * m68k: disable the frame pointer optimization on subarchs that don't support long displacements for now, until the shortcomings of the cg can be addressed

M	compiler/psub.pas

******************************************************************************
commit 68bc5da3a23dd74a2fcc792f7f12223855644196
Author: florian <florian@freepascal.org>
Date:   Thu Mar 10 22:30:29 2022 +0100

      * fix MovapXComisX2ComisX2 optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9e631db928b5bf3bd379830b9376b31fddc343f0
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Mar 10 17:23:03 2022 +0100

    * Rephrase more clear

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 14b40473fc2fcad52fdefa632863b7aa76bb2bf8
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Mar 10 16:34:47 2022 +0100

    * Added some clarifying comments for TWSMessage data

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 5ca52bcab1b61b5cd47325be5f5e4d3f3581f3b1
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Mar 10 09:35:18 2022 +0100

    * Add Flush method to TFileStream. Fix issue #39619

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit 82ccc863efd606b8c2592bf947b7381f17759609
Author: florian <florian@freepascal.org>
Date:   Wed Mar 9 22:35:19 2022 +0100

      * adapted to 64 bit

M	rtl/mips64/setjumph.inc

******************************************************************************
commit e9dc638a76649987bba77eca8c789ef49d6433c4
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Mar 9 13:41:06 2022 +0100

    * regenerated message files after CPC naming fix

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit e0599bb231c48e7a039e1703c09f6c6ff9a62632
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Mar 9 13:36:23 2022 +0100

    * z80-amstradcpc: fixed target naming mess, so -Tamstradcpc works now, also fixed the help text

M	compiler/msg/errore.msg
M	compiler/systems/i_amstradcpc.pas

******************************************************************************
commit 27fb9086aaa079212cf225f194efd225e54c50a3
Author: florian <florian@freepascal.org>
Date:   Tue Mar 8 23:02:47 2022 +0100

      * cleanup: cs_opt_loopunroll is a generic optimization for a long time already

M	compiler/aarch64/cpuinfo.pas
M	compiler/arm/cpuinfo.pas
M	compiler/avr/cpuinfo.pas
M	compiler/i386/cpuinfo.pas
M	compiler/i8086/cpuinfo.pas
M	compiler/jvm/cpuinfo.pas
M	compiler/m68k/cpuinfo.pas
M	compiler/mips/cpuinfo.pas
M	compiler/powerpc/cpuinfo.pas
M	compiler/powerpc64/cpuinfo.pas
M	compiler/riscv32/cpuinfo.pas
M	compiler/riscv64/cpuinfo.pas
M	compiler/sparc/cpuinfo.pas
M	compiler/sparc64/cpuinfo.pas
M	compiler/wasm32/cpuinfo.pas
M	compiler/x86_64/cpuinfo.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/z80/cpuinfo.pas

******************************************************************************
commit 59a7024d73b9345d667b839532200735255d1fac
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Mar 8 11:42:24 2022 +0100

    * Move() check for identical index. Additional fix for #39617

M	rtl/objpas/classes/lists.inc

******************************************************************************
commit 2a19e152b70ffc0ff673e1bea07c836eb98d0c4b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Mar 8 11:35:24 2022 +0100

    * Micro-optimization. Fix issue #39617

M	rtl/objpas/classes/stringl.inc

******************************************************************************
commit 2f28c5596ff22f288c64a297c30b7d33a7efe284
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Mar 7 23:46:15 2022 +0000

    Regenerate all Makefile's to fix problem on x86_64 linux

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-hash/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gitlab/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/wasmtime/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit 8639dea46cfc4fb83cd2b64e3fc3e95872702d50
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Mar 7 23:42:37 2022 +0000

    Update to revision 6d26d56f2f

M	utils/fpcm/revision.inc

******************************************************************************
commit 6d26d56f2fbe45209d48696600225a75d60c57da
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Mar 7 23:41:44 2022 +0000

     Do not use -m32 option to find generic gcc library

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit ad2ac98858f5c422ddf016b4941a503090b73792
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Mar 7 22:35:00 2022 +0000

    Update Makefile's

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-hash/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gitlab/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/wasmtime/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit 0d03cad279240f219a5f01b21207e751e4c38609
Author: florian <florian@freepascal.org>
Date:   Mon Mar 7 23:10:17 2022 +0100

      * i386: make use of *fence instructions

M	rtl/i386/i386.inc

******************************************************************************
commit 01ae235676fd3e5d3197e0cd2edd0c8c2e06907f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Mar 7 21:45:32 2022 +0000

     Fix CPU_clean rule

M	compiler/Makefile.fpc

******************************************************************************
commit 853f8b2202fc70820e23a7cfc4287c30f7dfaa46
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Mar 7 18:40:40 2022 +0000

     Also define CPU_clean make targets for CPUs not yet in CYCLETARGETS, like mips64 now

M	compiler/Makefile.fpc

******************************************************************************
commit c23a64523ed3be55e4f29f8f9b082ced0e703e0f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Mar 7 07:33:52 2022 +0000

    Update revision.inc to 982071d4a9 hash

M	utils/fpcm/revision.inc

******************************************************************************
commit 61f9bc35e97e554dc79f282dcc6f8a89b1a1a3e1
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Mar 6 22:08:25 2022 +0100

    * regenerated message files after adding the z80-amstradcpc target files

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 554ae218cacff3de526f7f89f8f1543613e615ed
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Mar 6 22:02:22 2022 +0100

    * m68k: fix an endless syntax error loop in the assembler reader

M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit cb959c2e6fb5911c74c07e23d00346902521faff
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Mar 5 21:51:57 2022 +0100

    * z80-amstradcpc: add some initial files for the target (mostly just the clone of ZX Spectrum files for now)

M	compiler/msg/errore.msg
A	compiler/systems/i_amstradcpc.pas
A	compiler/systems/t_amstradcpc.pas
M	compiler/z80/cputarg.pas

******************************************************************************
commit ae892610080ecf4711f1b105a6464ed06ad639d7
Author: florian <florian@freepascal.org>
Date:   Sun Mar 6 22:00:19 2022 +0100

      * prevent that a absolute symbol references itself, resolves #39604

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecvar.pas
A	tests/webtbf/tw39604.pp

******************************************************************************
commit 982071d4a998d0921a7e8d784d76004c10ef5053
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Feb 21 18:08:56 2022 +0000

     Try to fix mips gcc troubles

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 6f0f339fc431f92c23a20316b5b355ad688c9d51
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Mar 6 00:22:14 2022 +0100

    fcl-passrc: pasuseanalyzer: mark library export function result sub elements

M	packages/fcl-passrc/src/pasuseanalyzer.pas
M	packages/fcl-passrc/tests/tcuseanalyzer.pas

******************************************************************************
commit 39627cbdfb488c9dd0653f576737448098284226
Author: florian <florian@freepascal.org>
Date:   Sat Mar 5 20:35:15 2022 +0100

    + AVX512VBMISupport and AVX512VBMI2Support

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/units/cpu/tcpu1.pp

******************************************************************************
commit 49f45764ec0dcb35b5fdb3cdf86473752dd63d61
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Mar 5 18:40:36 2022 +0100

    * nds: the embedded stub DOS unit was just a copy of the NDS one with minor fixes, so lets make the NDS port use the current cleaned one as well

M	rtl/nds/dos.pp

******************************************************************************
commit 7d13e5c70d3a1cbcc76beca639b3b5a5b7ee778e
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Mar 5 18:28:36 2022 +0100

    * embedded: cleanup of the dummy DOS unit. remove the stubs for platform-specific helpers, cleanup tabs/spaces, cleanup the copyright-message mess

M	rtl/embedded/dos.pp

******************************************************************************
commit 10191477aef35b233b08ccded1b8442ad763c156
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Mar 5 17:59:15 2022 +0100

    * m68k: allow vasm to be used for system_m68k_embedded target, simplify some code

M	compiler/m68k/ag68kvasm.pas

******************************************************************************
commit 3024aea354579b389db901441f3c7af4aef633aa
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Mar 5 17:14:08 2022 +0100

    * add .prg extension to be ignored by git. this is used on Atari and a number of 8 bit platforms for executables

M	.gitignore

******************************************************************************
commit 01142f11d7f6e50b6b80b75ae9a611f8fc662d78
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Feb 23 01:03:53 2022 +0100

    * z80-msxdos: cleaned up some msdos leftovers in i_msxdos. no functional changes.

M	compiler/systems/i_msxdos.pas

******************************************************************************
commit 3164b535e54f39fad4ec5030b2ed0ba05c12dcac
Author: florian <florian@freepascal.org>
Date:   Fri Mar 4 22:48:05 2022 +0100

      * revision.inc update

M	utils/fpcm/revision.inc

******************************************************************************
commit ac53225817b8a5b520996eb2326f76a7d68378b2
Author: florian <florian@freepascal.org>
Date:   Thu Mar 3 21:24:43 2022 +0100

      * test for already resolved issue #38874

A	tests/webtbf/tw38874.pp

******************************************************************************
commit 2b66f60a8844f45cfad54fb59703b4c332e34171
Author: florian <florian@freepascal.org>
Date:   Wed Mar 2 23:09:53 2022 +0100

      * do not throw an internal error in case of a misplaced string, resolves #39609

M	compiler/psub.pas
A	tests/webtbf/tw39609.pp

******************************************************************************
commit 8d864559b7014df07a9fffd16e0654cdbafdc421
Author: florian <florian@freepascal.org>
Date:   Tue Mar 1 22:55:27 2022 +0100

      * overleft cosmetics

M	compiler/ncgcal.pas

******************************************************************************
commit 21326cfb9ab8b66889c9620ea99a14f435b58d5d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Mar 1 13:30:48 2022 +0100

    * Remove SQLDB dependency of csvdataset unit

M	packages/fcl-db/src/base/csvdataset.pp

******************************************************************************
commit 56acf11ec227af677531fc5950a7a28420746467
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Mar 1 13:29:26 2022 +0100

    * Fix memleak when writing CSV data. Fix issue #39607

M	packages/fcl-db/src/base/csvdataset.pp

******************************************************************************
commit 33db5200e62fc14f07a000ca92afdbeb8f4dee0f
Author: florian <florian@freepascal.org>
Date:   Mon Feb 28 22:24:05 2022 +0100

      * building for LLVM fixed

M	compiler/hlcgobj.pas

******************************************************************************
commit 6f749cf43d6bfcad745e6639aa1b5dc09e570c27
Author: florian <florian@freepascal.org>
Date:   Sun Feb 27 23:19:38 2022 +0100

      * first part to fix #39603

M	compiler/avr/cpupara.pas
M	compiler/hlcgobj.pas

******************************************************************************
commit 08228d7fb37669f7ed4de4eedabd5dc576dc4f23
Author: florian <florian@freepascal.org>
Date:   Sat Feb 26 21:57:12 2022 +0100

      * revert a650d346f1646c1b71380430a96c440e222a087d for now as it apparently does
        not work with all language encoding

M	rtl/inc/ustrings.inc

******************************************************************************
commit 9e3f64733359a6ca802b5e913ffc4c6626746ad8
Author: florian <florian@freepascal.org>
Date:   Fri Feb 25 21:56:09 2022 +0100

      * var, type, threadvar, const sections require also in classes etc. at least one declaration, resolves #39599

M	compiler/pdecobj.pas
A	tests/webtfs/tw39599a.pp
A	tests/webtfs/tw39599b.pp
A	tests/webtfs/tw39599c.pp
A	tests/webtfs/tw39599d.pp

******************************************************************************
commit d36761f4a4dac1f859bfbc12784e6c5a55a5b425
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Feb 25 19:15:22 2022 +0100

    fcl-net: no ESocketError after closing the connection

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 6b8ab2c4d2a6fdf412fd6e9e16288ca10c81d59c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Feb 23 14:00:07 2022 +0100

    fcl-web: fixed typo

M	packages/fcl-web/src/websocket/fpwebsocketclient.pp

******************************************************************************
commit 4f8d6c9df1adac8a8175bedc08f72f826245dd06
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Feb 23 13:47:18 2022 +0100

    fcl-web: added property TWebSocketServer.Host

M	packages/fcl-web/src/websocket/fpwebsocketserver.pp

******************************************************************************
commit 93f2bd48ddb54550f2369b28af6823ab72f35d29
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Feb 23 13:39:57 2022 +0100

    fcl-base: fixed compile fpthreadpool with fpc 3.2.2

M	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit 3e9ddf59df740d12ff51122bcdcdf1ce20b0cd56
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Feb 23 13:34:20 2022 +0100

    fcl-web: added IWSTransport.PeerPort, fixed compile with fpc 3.2.2

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 49f1f4d26e00de8f62e2f39bcf98520f6e98ae55
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Feb 23 11:12:07 2022 +0100

    fcl-net: fixed typo

A	nohup.out
M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 5738a6ccf12819d7a4a039ea70e80f69432e3b61
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Jan 19 15:59:05 2022 +0000

    Refactoring and bug fix in OptPass2Movx that could cause incorrect
    values in overflow conditions

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 546455faca05d2827398cd0f2ab76ebe45de5b1e
Author: florian <florian@freepascal.org>
Date:   Tue Feb 22 22:08:53 2022 +0100

      * throw error properly if a target does not support sections

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecsub.pas

******************************************************************************
commit 665c1b396670d57d6c595bafeea3aa732f52170b
Author: ccrause <christo.crause@gmail.com>
Date:   Tue Feb 22 07:46:19 2022 +0200

    Move member variable "section" to tprocdef.  Type of "section" to agree with symansistr define.

M	compiler/hlcgobj.pas
M	compiler/pdecsub.pas
M	compiler/symdef.pas

******************************************************************************
commit 738a0a35de9c93d37368b6ea796372e757eff5d1
Author: ccrause <christo.crause@gmail.com>
Date:   Sun Feb 20 19:15:51 2022 +0200

    Add section directive for subroutines for embedded and freertos systems.

M	compiler/aasmtai.pas
M	compiler/hlcgobj.pas
M	compiler/pdecsub.pas
M	compiler/symdef.pas
M	compiler/systems.pas

******************************************************************************
commit 81c8078735cf79755750e39e0a6ad2159ae61ead
Author: florian <florian@freepascal.org>
Date:   Mon Feb 21 23:08:39 2022 +0100

      * reorder string expressions with parentheses so fpc_*_concat_multi can be used efficiently, resolved #39479

M	compiler/nadd.pas

******************************************************************************
commit d209d3ba846b9f8a5858efe1a261f793b30349e7
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Jan 12 08:52:35 2022 +0000

    Refactoring procedures in aoptx86 to gain speed boosts

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c85bef5494f4ca409b37791f96acaef97eabc7b2
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Feb 21 11:40:43 2022 +0100

    * regenerated message files

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 471a5eb4e01279d5444dcc9f51f0c730e309a889
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Feb 21 11:39:29 2022 +0100

    help text: vlink is no longer default on MorphOS for a while now, remove from help text, add Atari and Sinclair QL where it is the default

M	compiler/msg/errore.msg

******************************************************************************
commit 4b88fa8e3b56330086d17a01fb1f836d97dd04d0
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Feb 21 11:35:24 2022 +0100

    * powerpc-morphos: add support for linker map file generation, some code cleanups

M	compiler/systems/t_morph.pas

******************************************************************************
commit dea81f4f60174483f0c61a77dfb2a63dc117efb3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Feb 20 23:48:23 2022 +0100

    * Extra options for more flexibility

M	packages/fcl-js/examples/cgutils.pp
M	packages/fcl-js/examples/convcgi.lpr

******************************************************************************
commit 1cd8c249b1cba95a03488989ca6eb82232f88608
Author: florian <florian@freepascal.org>
Date:   Sun Feb 20 20:58:01 2022 +0100

      * throw an internal error if the reference of lea contains a segment register

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3a81f5c732ed75c555a9f6b96488cdb19bb9f4e4
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Feb 20 18:22:35 2022 +0100

    * Add -s --settings option

M	utils/pas2js/dts2pas.pp

******************************************************************************
commit d198fc46cb6cec08fc91cd35d34c64e182e207b5
Author: florian <florian@freepascal.org>
Date:   Sat Feb 19 23:42:57 2022 +0100

      * just copy value parameters to a temp. when inlining instead of
        using (@...)^ constructs, resolves #39590

M	compiler/ncal.pas

******************************************************************************
commit 696b7b6f68d3dd75f870dcb5931dd6216640505c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Feb 16 10:09:39 2022 +0000

      * x86: Improvements to JccMov2CMov to catch Jcc @Lbl; <movs>; JMP @Lbl

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 82df643b7471ddaf5445fc99267081959cccd7c0
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 19 17:52:34 2022 +0100

    * Patch from Dokkie884 to implement inheritance

M	packages/fcl-mustache/src/fpexmustache.pp
M	packages/fcl-mustache/src/fpmustache.pp
A	packages/fcl-mustache/tests/spec/inheritance.json
M	packages/fcl-mustache/tests/tcexmustache.pas
M	packages/fcl-mustache/tests/tcmustache.pas
M	packages/fcl-mustache/tests/tcspecs.pas

******************************************************************************
commit d7ab5300968d67eda1a09f65e1be43b17b6a72ca
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 19 17:45:50 2022 +0100

    * Standalone tag fix from Dokkie884

M	packages/fcl-mustache/src/fpmustache.pp

******************************************************************************
commit 003d3267f0a120ab2b375863e538ec7471113c29
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 19 16:23:13 2022 +0100

    * Additional fieldtypes for GetFromField

M	packages/fcl-db/src/base/fieldmap.pp

******************************************************************************
commit 91a023a1789ac775da9e526a9908d77921e68443
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 19 12:44:23 2022 +0100

    * Better event

M	packages/fcl-base/src/fpexprpars.pp
M	packages/fcl-base/tests/testexprpars.pp

******************************************************************************
commit 939572ebb685767f16318c0811ba4d9eab2f34ec
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 19 12:36:08 2022 +0100

    * Implement ExtractIdentifierNames: fix issue 39454

M	packages/fcl-base/src/fpexprpars.pp
M	packages/fcl-base/tests/testexprpars.pp

******************************************************************************
commit acc590ac07e438509bc2f1b09b2d3991b294db1b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Feb 19 11:34:52 2022 +0100

    pastojs: set version to 2.3.1

M	packages/pastojs/src/pas2jscompiler.pp
M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 04145589a9b263fc9159dbc55835e1e1e53d0237
Author: florian <florian@freepascal.org>
Date:   Fri Feb 18 22:47:38 2022 +0100

      * improved fpc_frac_real

M	rtl/inc/genmath.inc

******************************************************************************
commit 3f14a19d3e5ad546841bda2f8abbcb8029f79370
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Feb 18 17:34:12 2022 +0100

    * fix typos in comments, no code changes

M	compiler/pdecl.pas
M	compiler/pdecobj.pas

******************************************************************************
commit 92eb260521827b0db9392c99b0966f6a7f928ad2
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Feb 18 17:18:15 2022 +0100

    + support for generic forward declarations fixes #39582, so add a test for it

A	tests/webtbs/tw39582.pp

******************************************************************************
commit c14c3ec98f584b8952027e1e9b451ed7104c232c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Feb 18 17:10:09 2022 +0100

    + support for generic forward declarations fixes #39581, so add a test for it

A	tests/webtbs/tw39581.pp

******************************************************************************
commit 2a5023508a2bc4ff3ba4f3a0ca16366d3df86db8
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Feb 18 17:06:45 2022 +0100

    + add support for forward declarations of generic classes and interfaces (any implicit pointer type really); fixes #34128

M	compiler/fmodule.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pgentype.pas
M	compiler/pgenutil.pas
M	compiler/ptype.pas
A	tests/test/tgenfwd1.pp
A	tests/test/tgenfwd10.pp
A	tests/test/tgenfwd11.pp
A	tests/test/tgenfwd12.pp
A	tests/test/tgenfwd13.pp
A	tests/test/tgenfwd2.pp
A	tests/test/tgenfwd3.pp
A	tests/test/tgenfwd4.pp
A	tests/test/tgenfwd5.pp
A	tests/test/tgenfwd6.pp
A	tests/test/tgenfwd7.pp
A	tests/test/tgenfwd8.pp
A	tests/test/tgenfwd9.pp

******************************************************************************
commit 3444b23c9a7178cc475d9f72035a0b7530958bb7
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Feb 18 17:03:56 2022 +0100

    + add a method to retrieve a copy of a specialization context

M	compiler/pgentype.pas

******************************************************************************
commit 094a353d879f36a3c46acb1fe91b56295abe388f
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Feb 18 16:43:40 2022 +0100

    + add ability to strictly compare defs with generic constraints (this is needed for declarations, while for normal code we're rather relaxed)

M	compiler/defcmp.pas

******************************************************************************
commit 3e26beb1edc839f05063aa957164b69fdf8afe56
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Feb 18 16:19:47 2022 +0100

    * extract the code to parse a forward declaration out from types_dec into its own function parse_forward_declaration

M	compiler/pdecl.pas

******************************************************************************
commit 7f1e420bb05add6439b6ae1028e841ad7780b481
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Feb 18 16:17:14 2022 +0100

    * move determine_generic_def out from pdecl.types_dec to pgenutil

M	compiler/pdecl.pas
M	compiler/pgenutil.pas

******************************************************************************
commit ab013b6b69820bc0863cbc43ca123ca36023578e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Feb 18 16:39:43 2022 +0100

    * Need fielddefs

M	packages/fcl-db/src/codegen/fpcgfieldmap.pp

******************************************************************************
commit 1b4ad74b68894681b8a521c02b7469e0a354bfa7
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Feb 18 16:38:24 2022 +0100

    * Need fielddefs

M	packages/fcl-db/src/codegen/fpcgtypesafedataset.pp

******************************************************************************
commit e09bf7e2660d75462a65c1f1219ede5810752674
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Feb 18 16:37:49 2022 +0100

    * Fix fieldmap & object generator

M	packages/fcl-db/src/codegen/fpcgfieldmap.pp

******************************************************************************
commit b5ce98fec736ad7d22017c9fa9045051c1b2325e
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Feb 11 14:53:55 2022 +0100

    + add C/C++ object files for aarch64-win64 compiled with LLVM 13.0.0

M	tests/test/cg/obj/readme.txt
A	tests/test/cg/obj/win64/aarch64/cpptcl1.o
A	tests/test/cg/obj/win64/aarch64/cpptcl2.o
A	tests/test/cg/obj/win64/aarch64/ctest.o
A	tests/test/cg/obj/win64/aarch64/tcext3.o
A	tests/test/cg/obj/win64/aarch64/tcext4.o
A	tests/test/cg/obj/win64/aarch64/tcext5.o
A	tests/test/cg/obj/win64/aarch64/tcext6.o

******************************************************************************
commit 7f33dc18d01914d30f52db7b81f449254fc9a244
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Wed Feb 16 15:12:38 2022 +0100

    atari: fix in v_ftext

M	packages/tosunits/src/vdi.pas

******************************************************************************
commit bbe18e2633e1537e36767634c3b9cc3906f8f5b2
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Feb 14 07:06:54 2022 +0100

    tosunits: honor the window rectangle list in examples

M	packages/tosunits/examples/gemcube.pas
M	packages/tosunits/examples/gemwin.pas

******************************************************************************
commit a954fe6e8fbcb4ddca014a2a9f2086ccf85b5776
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sun Feb 13 12:38:38 2022 +0100

    atari: some small bug fixes to new bindings

M	packages/tosunits/src/aes.pas
M	packages/tosunits/src/gem.pas
M	packages/tosunits/src/vdi.pas

******************************************************************************
commit a9e3882e37fa75856678470d137ff2e6d648d727
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Thu Feb 10 13:59:36 2022 +0100

    vdi: enlarge control array, needed by some NVDI5 functions

M	packages/tosunits/src/vditypes.inc

******************************************************************************
commit fdfd7c07ed33bb762b3abd0c64b30d82197ecf4f
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Thu Feb 10 13:57:30 2022 +0100

    vdi: add some extra checks for functions that are not always present

M	packages/tosunits/src/vdi.pas

******************************************************************************
commit 850ba0bc7432168157aa582698976ea2e80b6cc3
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Thu Feb 10 10:48:53 2022 +0100

    atari: support ARGV protocol in ExecuteProcess

M	rtl/atari/sysutils.pp

******************************************************************************
commit c223ae3610c215340a1fe34c61c9e6b7f8f454b1
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Thu Feb 10 10:45:39 2022 +0100

    rtl/atari: try to convert argv[0] to absolute pathname

M	rtl/atari/syspara.inc

******************************************************************************
commit 0b1734cc04e76d2a7972c39ffc77b7d0bcb16455
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Thu Feb 10 10:43:48 2022 +0100

    rtl/atari: move common code of getenv

M	rtl/atari/dos.pp
M	rtl/atari/system.pp
M	rtl/atari/sysutils.pp

******************************************************************************
commit 67fedc6b5ba09803a2264cb4ea2b3dce06713af9
Author: florian <florian@freepascal.org>
Date:   Thu Feb 17 21:59:39 2022 +0100

      * handle frac(+/-Inf or Nan) correctly in the software implementation, resolves #39584

M	rtl/inc/genmath.inc
A	tests/test/units/system/tfrac.pp

******************************************************************************
commit b3e079c5da47fa070524d0cb2ecd1d25be099235
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Feb 17 14:10:06 2022 +0100

    * Patch by Dokkie8844, better whitespace handling: fix issue #39557

M	packages/fcl-mustache/src/fpmustache.pp

******************************************************************************
commit cec8d84ae7533cbd4cf413b56ca46dcb1de55128
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Feb 17 13:38:47 2022 +0100

    * Fix underline/strikethrough for standard fonts. Fix issue #39585

A	packages/fcl-pdf/examples/stdfonttest.lpi
A	packages/fcl-pdf/examples/stdfonttest.pp
M	packages/fcl-pdf/src/fppdf.pp

******************************************************************************
commit 72e88a345251c138efa396094f0e0d5f145f40bb
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Feb 17 05:14:21 2022 +0200

    - don't write the wasm-ld command line to the screen when linking a WASM
      library. The command line, passed to the linker is dumped when compiling with
      -vv anyway.

M	compiler/systems/t_wasi.pas

******************************************************************************
commit 9ad2bdcecde1fd9f5696ef3cb76f6762b30c01ac
Author: florian <florian@freepascal.org>
Date:   Wed Feb 16 23:00:02 2022 +0100

      + patch by Bart B: TBucketList threw access violations after Clear, resolves #39565
      + test

M	packages/fcl-base/src/contnrs.pp
M	tests/Makefile
M	tests/Makefile.fpc
A	tests/test/units/contnrs/tbucketlist.pp

******************************************************************************
commit bcab6185b9f7a02da1aea46893ce7a38aca43ca4
Author: florian <florian@freepascal.org>
Date:   Wed Feb 16 21:30:14 2022 +0100

      * hopefully final fix for absolute references to absolute symbols

M	compiler/rautils.pas

******************************************************************************
commit f8358977616796818531c57569d61af710be69c2
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Feb 16 16:47:58 2022 +0000

     Add missing rtl/mips64 files and fix some rtl/mips64el files

A	rtl/mips64/makefile.cpu
A	rtl/mips64/set.inc
M	rtl/mips64el/cpuh.inc
M	rtl/mips64el/set.inc
M	rtl/mips64el/setjumph.inc

******************************************************************************
commit f51c0daeb4c840d01f8d2e36e8b7a9eb945a924f
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Wed Feb 16 16:24:23 2022 +0000

    Fppdf fix encoding for standard fonts. Issue 39554

M	packages/fcl-pdf/src/fppdf.pp

******************************************************************************
commit a7545e08926723802528d0ed139606d4fc718fde
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Feb 16 11:55:22 2022 +0100

    fcl-passc: removed testpasutils.pas

M	packages/fcl-passrc/src/pastree.pp
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/src/pscanner.pp
A	packages/fcl-passrc/tests/.gitignore
M	packages/fcl-passrc/tests/tcbaseparser.pas
M	packages/fcl-passrc/tests/tcexprparser.pas
M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/fcl-passrc/tests/tcstatements.pas
M	packages/fcl-passrc/tests/testpassrc.lpr
D	packages/fcl-passrc/tests/testpasutils.pas
M	packages/pastojs/tests/tcmodules.pas
M	packages/pastojs/tests/testpas2js.lpi
M	packages/pastojs/tests/testpas2js.pp

******************************************************************************
commit 7711ba610a7488361472f2a0bcefa52a573c653d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Feb 16 05:59:54 2022 +0200

    - don't pass --export-dynamic to the linker when linking a library for the WASI target

M	compiler/systems/t_wasi.pas

******************************************************************************
commit 2a339485214d53d5c37a390fc59a314413e192ab
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Feb 16 05:42:52 2022 +0200

    - removed commented out code for executing WASI dllcmd[2]

M	compiler/systems/t_wasi.pas

******************************************************************************
commit e34116f7dea7c3f35da3a3ae43d14110d4c70fc1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Feb 16 05:34:09 2022 +0200

    - removed --allow-undefined linker option when compiling a WASI library

M	compiler/systems/t_wasi.pas

******************************************************************************
commit 590c8786902fb712aa84e1e87351f0cf484380a5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Feb 16 05:24:41 2022 +0200

    + added separate startup code for libraries, that declares _initialize, instead of _start

M	compiler/systems/t_wasi.pas
M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
A	rtl/wasi/si_dll.pp

******************************************************************************
commit 5f66de624d8f8c75e8a9b0323b5e4e709dc25685
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Feb 16 05:17:01 2022 +0200

    * regenerate makefile

M	rtl/android/Makefile

******************************************************************************
commit d2a2240a2cf9f00c8497c696155c9e0657a614fc
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Feb 16 02:49:34 2022 +0200

    * some fixes to the WASI library compilation (not ready, yet)

M	compiler/systems/t_wasi.pas

******************************************************************************
commit f01c8411908099b369e7c0d83733ddb78bcaefaf
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Feb 16 02:32:18 2022 +0200

    * set and use ExeCmd instead of DllCmd when making an WASI executable

M	compiler/systems/t_wasi.pas

******************************************************************************
commit f7b7c39129d72330dcb4b37010f1f5b7f729f43e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Feb 16 02:31:23 2022 +0200

    * use 'with' in tlinkerwasi.SetDefaultInfo

M	compiler/systems/t_wasi.pas

******************************************************************************
commit ae17e6acb678406aa91a9029dd6a0857e5c90f2c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Feb 16 02:31:01 2022 +0200

    - removed unused comment

M	compiler/systems/t_wasi.pas

******************************************************************************
commit ef4255c65bccc121da2f5943600e2bfd7c1c2ec4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Feb 16 02:25:32 2022 +0200

    - removed spurious comment

M	compiler/systems/i_wasi.pas

******************************************************************************
commit f1043ef09915962c0f36c3379baeb437c097ef7f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Feb 15 23:32:17 2022 +0100

    * Patch from Laco to implement filtering on null values

M	packages/fcl-db/src/base/bufdataset_parser.pp
M	packages/fcl-db/src/dbase/dbf_prscore.pas
M	packages/fcl-db/src/dbase/dbf_prsdef.pas

******************************************************************************
commit 0f5bd26cba164800a6a3f70e43f0d1af005b89c9
Author: Bernd Kreuss <b.kreuss@xecro.com>
Date:   Fri Sep 17 16:31:33 2021 +0200

    remove unused resource strings

M	packages/fcl-base/src/fpexprpars.pp

******************************************************************************
commit 7aabdb85fa9d718b2cfb3e306aa7de22a59cb746
Author: florian <florian@freepascal.org>
Date:   Tue Feb 15 20:57:18 2022 +0100

      - removed probably accidently commited IDE configuration files

D	packages/ide/fp.cfg
D	packages/ide/fp.dsk
D	packages/ide/fp.ini

******************************************************************************
commit b048ae37b20d06da7f9beb52dc7f50c9d2bb4fde
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Feb 14 23:54:18 2022 +0000

     Fix loading of 64-bit constant into register for 64-bit mips CPU

M	compiler/mips/cgcpu.pas

******************************************************************************
commit ac3fab3e921dab8d23c6d9e8fb6c94da21f76351
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Feb 15 15:47:14 2022 +0000

     Update utils/fpcm/revision.inc to commit d0db89072e

M	utils/fpcm/revision.inc

******************************************************************************
commit 4da4c96349d205cf99a8aff0618315904f451935
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Feb 15 15:43:56 2022 +0000

     Regenerate Makefile's with mips gcc fixes and new enabled mips64-linux target

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-hash/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gitlab/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
A	packages/ide/fp.cfg
A	packages/ide/fp.dsk
A	packages/ide/fp.ini
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/wasmtime/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit d0db89072e95b7e93910edc560e79cd07aea8810
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Feb 15 15:35:10 2022 +0000

    Enable mips64-linux target

M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 855a0af427202506a4fa4bc5b7d8666e81f95493
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Feb 15 14:52:08 2022 +0000

    Update utils/fpcm/revision.inc after commit 6bded28a10

M	utils/fpcm/revision.inc

******************************************************************************
commit 2c80b2419ead1870965686bfca004b2a7315c0a3
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Feb 15 09:04:24 2022 +0000

    Fix invalid typecast by postponing sym change to after address resolution in 44094dba

M	compiler/rautils.pas

******************************************************************************
commit 00a287e77d4917662b5f57ff99898b598c3fe996
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Feb 14 23:24:36 2022 +0000

     Fix compilation of mips64 compiler by simple use of 'make mips64'

M	compiler/fpcdefs.inc

******************************************************************************
commit 7e7072c8233435934c326b7c709feba1efaf4db1
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Feb 14 22:35:04 2022 +0000

    Update utils/fpcm/revision.inc after commit 8d65554495 dated 2022/02/13

M	utils/fpcm/revision.inc

******************************************************************************
commit 6bded28a1004fae8410321c898049611e4fa3c33
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sun Feb 13 22:18:17 2022 +0000

     Fix gcc options for mips CPU

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 680a5b94ff271521e7af907f08f6ad1d3160ea0c
Author: florian <florian@freepascal.org>
Date:   Mon Feb 14 22:54:36 2022 +0100

      + test for last commit (44094dba2f96fcc6c252f9c42398b6740edb85a1)

A	tests/tbs/tb0692.pp

******************************************************************************
commit 44094dba2f96fcc6c252f9c42398b6740edb85a1
Author: ccrause <christo.crause@gmail.com>
Date:   Mon Feb 14 22:33:32 2022 +0200

    Resolve address of a symbol defined as absolute of another symbol, in assembler code.

M	compiler/rautils.pas

******************************************************************************
commit d4d55f5c877064220bb13a0123e6e67df7e75237
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Feb 14 20:42:26 2022 +0100

    fcl-js: less hints

M	packages/fcl-js/src/jstree.pp

******************************************************************************
commit 456bed94863ef0cb776454b020633b25a106f22e
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Feb 14 18:29:59 2022 +0100

    * tosunits: add metados to the compilable units, reported and patch by mfro on atari-forum.com

M	packages/tosunits/fpmake.pp

******************************************************************************
commit ff68e7b9de5045c67d723933985da998f115efb8
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Feb 14 15:33:36 2022 +0100

    * m68k-atari: override the exeext globally, not just at the final step of the linking. this fixes 'Linking <exename>.ttp' messages, when in fact <exename>.prg gets generated

M	compiler/scanner.pas
M	compiler/systems/t_atari.pas

******************************************************************************
commit c74a6f4ca27503ed8837a803169d6c40780329f1
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Feb 14 15:08:19 2022 +0100

    * tosunits: tabs to spaces and indendation change in gem.pas. no functional change.

M	packages/tosunits/src/gem.pas

******************************************************************************
commit c46b45bf72ed7e4522e69611d0a5c5c2f44739c9
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Feb 14 09:15:30 2022 +0100

    * Patch from Laco to add TSingleField

M	packages/fcl-db/src/base/bufdataset.pas
M	packages/fcl-db/src/base/db.pas
M	packages/fcl-db/src/base/dsparams.inc
M	packages/fcl-db/src/base/fields.inc
M	packages/fcl-db/src/base/xmldatapacketreader.pp
M	packages/fcl-db/src/codegen/fpddcodegen.pp
M	packages/fcl-db/src/datadict/fpdatadict.pp
M	packages/fcl-db/src/dbase/dbf_fields.pas
M	packages/fcl-db/src/export/fpfixedexport.pp
M	packages/fcl-db/src/export/fprtfexport.pp
M	packages/fcl-db/src/export/fptexexport.pp
M	packages/fcl-db/src/memds/memds.pp
M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas
M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp
M	packages/fcl-db/src/sqldb/sqldb.pp
M	packages/fcl-db/src/sqldb/sqlite/sqlite3conn.pp
M	packages/fcl-db/tests/bufdatasettoolsunit.pas
M	packages/fcl-db/tests/memdstoolsunit.pas
M	packages/fcl-db/tests/sqldbtoolsunit.pas
M	packages/fcl-db/tests/testdbbasics.pas
M	packages/fcl-db/tests/testdbexport.pas
M	packages/fcl-db/tests/toolsunit.pas
M	packages/fcl-sdo/src/das/sdo_das_utils.pas
M	packages/fcl-web/src/restbridge/sqldbrestschema.pp

******************************************************************************
commit 34630c2ef952944108b702134db3b99cf2ef1d2a
Author: florian <florian@freepascal.org>
Date:   Sun Feb 13 22:47:38 2022 +0100

      * properly set types for currency divisions, resolves #38717

M	compiler/nmat.pas
A	tests/webtbs/tw38717.pp

******************************************************************************
commit 6502f7b35ab7438a7c38c64686d86d44eec3a388
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Feb 13 18:46:40 2022 +0100

    * tosunits: rename gemcommon to gemcmmn so the unit name fits 8.3 limitations

M	packages/tosunits/fpmake.pp
M	packages/tosunits/src/aes.pas
M	packages/tosunits/src/gem.pas
R098	packages/tosunits/src/gemcommon.pas	packages/tosunits/src/gemcmmn.pas
M	packages/tosunits/src/vdi.pas

******************************************************************************
commit 364a091474f2e652895a338e1110288e2d00d580
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 16:23:18 2022 +0200

    + enabled compilation of unit ctypes for win16

M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc

******************************************************************************
commit 18f996fd03f11f6637feeb7b3854ba3304cd8198
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 16:13:50 2022 +0200

    + enabled compilation of unit character for win16

M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc

******************************************************************************
commit 47e6422dfd3b7c14e1a0cecf037cb381356b1c97
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 16:11:26 2022 +0200

    * use unit rtlconsts instead of rtlconst for win16

M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc

******************************************************************************
commit fa0bfc9a6030419c8ac27dd7a2e14ffbbeb02520
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 16:06:31 2022 +0200

    + enabled compilation of unit unicodedata for win16

M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc

******************************************************************************
commit 8eaa4fc12751af5b2644d6b021eafa0c5da2ec9b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 16:05:05 2022 +0200

    + enabled compilation of unit unicodenumtable for win16

M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc

******************************************************************************
commit be696c474b3bcd6ecbc4b9f310eb4bd578edcd5d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 15:56:51 2022 +0200

    + enabled compilation of cpall and all its codepages for Win16

M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc

******************************************************************************
commit 6bfef9e75239f76c31df1119b603307e35a60862
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 15:48:43 2022 +0200

    + enabled compilation of unit getopts for win16

M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc

******************************************************************************
commit b4938247fd7236cfb4acb2fd372449a91b0bf145
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 15:46:36 2022 +0200

    + enabled compilation of unit 'cpu' for win16

M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc

******************************************************************************
commit 21593942a16d2788103501ee1e2921fef90cedba
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 15:26:54 2022 +0200

    * regenerate all makefiles with the latest fpcmake

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-hash/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gitlab/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/wasmtime/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit 83a5ba663643f5e87980186da0767c059f0f4488
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 15:18:42 2022 +0200

    + compile the charset unit for Win16. This fixes compilation after the
      unicodekvm branch merge.

M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc

******************************************************************************
commit c22466183670db7f11f6cd160550eac330825302
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 14:44:10 2022 +0200

    * fixed object names in comments

M	packages/rtl-extra/src/inc/objects.pp

******************************************************************************
commit e2f1be330639941d2ff01160dfa205ca35eb03c0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 14:41:30 2022 +0200

    * new RawByteString and UnicodeString methods and objects in the 'objects' unit
      put behind ifdefs (FPC_HAS_FEATURE_ANSISTRINGS,
      FPC_HAS_FEATURE_UNICODESTRINGS, FPC_HAS_CPSTRING) to fix compilation on
      embedded systems

M	packages/rtl-extra/src/inc/objects.pp

******************************************************************************
commit 3bb0ae4bf965d66489db5350a1706267e5702087
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Feb 13 12:12:40 2022 +0100

    * tosunits: fix the cube spin on systems other than original TOS/EmuTOS, patch by mfro in atari-forum.com

M	packages/tosunits/examples/gemcube.pas

******************************************************************************
commit 3c91a7c01ea16f5fc9239b21636d4127faacaf31
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Feb 13 02:54:40 2022 +0200

    + emit an error message if the ihxutil is not found when compiling an ZX Spectrum executable with the internal linker
    + emit a 'tried' message (fpc -vt) when using ihxutil for ZX Spectrum

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 9f22623459866915d8769bd2e6cd9c8a75357c6e
Author: Marcus Sackrow <alb42@web.de>
Date:   Sun Feb 13 00:02:25 2022 +0100

    Amiga: Fix for unable to type in FV applications for Amiga-systems

M	packages/fv/src/drivers.inc
M	packages/rtl-console/src/amicommon/keyboard.pp

******************************************************************************
commit b27335e8a5fee1d8de272ae83a0405928b187e7a
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Feb 12 23:54:51 2022 +0100

    tosunits: fix the package build for Coldfire

M	packages/tosunits/src/vdi.pas

******************************************************************************
commit 39836e2d37ae11f4052cfa527394994d61495a44
Author: florian <florian@freepascal.org>
Date:   Sat Feb 12 23:18:25 2022 +0100

      - removed superfluous comment

M	rtl/i386/i386.inc

******************************************************************************
commit 0fb08a76194c8fd8e08236b9657e1e03e847d385
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Feb 12 22:34:11 2022 +0100

    pastojs: compile with pas2js

M	packages/pastojs/src/fppjssrcmap.pp

******************************************************************************
commit b2251e34691a63bbb61cfaecd6125db6a51a23c6
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Feb 12 22:33:45 2022 +0100

    fcl-json: clean up

M	packages/fcl-json/src/fpjson.pp

******************************************************************************
commit 3b9035c94638156629666dcdf6e2340db5405809
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Feb 12 22:33:27 2022 +0100

    fcl-js: clean up

M	packages/fcl-js/src/jstree.pp

******************************************************************************
commit dfcbdd9aa64824a51376482bce581ce36049401e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Feb 12 21:21:54 2022 +0100

    pastojs: less hints

M	packages/pastojs/tests/tcconverter.pas

******************************************************************************
commit 151c7ba163b2fac5b44e05a07b79ef3d1e4382d4
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Feb 12 21:14:53 2022 +0100

    fcl-passrc: fixed resourcestring

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 7be86f4635f6953a65462ffa7bfa602cceff8d71
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Feb 12 21:14:30 2022 +0100

    fcl-passrc: fixed publish all members for typeinfo

M	packages/fcl-passrc/src/pasuseanalyzer.pas

******************************************************************************
commit 925dc4bc7562394c8ea56c3b597c33b0051c551e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sat Feb 12 21:13:41 2022 +0100

    fcl-js: fixed compile with pas2js

M	packages/fcl-js/src/jstree.pp

******************************************************************************
commit 51ce1e883f4112067b5d3d3910eab0a1cf5ce657
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 12 19:40:57 2022 +0100

    * Avoid AV

M	packages/fcl-passrc/src/pastree.pp

******************************************************************************
commit ecef61e9c5413d254616d4bae10e0c993177d3ab
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Feb 12 17:32:48 2022 +0100

    * m68k: fix an instruction which doesn't exist on ColdFire

M	rtl/m68k/m68k.inc

******************************************************************************
commit b97c8bdf5594ac273f9f3851030b694b97789035
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 12 15:25:19 2022 +0100

    testobj3: fix test
    
    Use RTL StringRefCount instead of local GetRefCount that only supports some
    platforms and depends on the internal layout of ansistring headers

M	tests/test/units/objects/testobj3.pp

******************************************************************************
commit c44f82d11a4b3400e0648508e9d6fda8d132d15f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 12 14:54:52 2022 +0100

    * Copy & AddRef operators

M	packages/fcl-passrc/src/pastree.pp
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcprocfunc.pas
M	packages/pastojs/src/pas2jsfiler.pp

******************************************************************************
commit 41e32d0fbad6ad541959802590c4cdb12d857cbb
Author: Marcus Sackrow <alb42@web.de>
Date:   Sat Feb 12 14:52:45 2022 +0100

    AmigaOS4: fix compilation for double UTF8Encode in library unit and system

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 10c60c45d5f9704e376c34c5168a20cbb17f6b43
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 12 14:41:02 2022 +0100

    * Finalize does not need result

M	packages/fcl-passrc/src/pastree.pp
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcprocfunc.pas

******************************************************************************
commit 08742e1a91d05570ced72fd869301f3f583f5ae3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 12 14:30:23 2022 +0100

    * Add missing argument

M	packages/pastojs/src/pas2jsfiler.pp

******************************************************************************
commit 15b7a8763f6b16dece5336603049024158cb3b49
Author: florian <florian@freepascal.org>
Date:   Sat Feb 12 14:26:31 2022 +0100

      * avoid range check error and overflow in objpas.hash, should resolve #39561

M	rtl/objpas/objpas.pp

******************************************************************************
commit ee2d2a4bd4672135b746c925e8af12febf7149ae
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 12 14:26:50 2022 +0100

    * Remove debug statement

M	packages/fcl-passrc/src/pscanner.pp

******************************************************************************
commit f19402e81b15a4eeb63314b892d53b97cfa0e719
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 12 14:25:30 2022 +0100

    * Operator name can now also be finalize

M	packages/fcl-passrc/src/pastree.pp
M	packages/fcl-passrc/src/pscanner.pp

******************************************************************************
commit 09b5e7c6b228604155f9dcade788950c26f337f3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Feb 12 15:23:17 2022 +0200

    Revert "+ added dependency to rtl-unicode for the ide package"
    
    This reverts commit 153baf41ce46448440b170f8d0d175953bd17f24.

M	packages/ide/fpmake.pp

******************************************************************************
commit 412de8a17dbf5b23e6f85e26216b5cb645e41346
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 12 14:11:02 2022 +0100

    * Fix case sensitivity of macro value

M	packages/fcl-passrc/src/pscanner.pp
M	packages/fcl-passrc/tests/tcscanner.pas

******************************************************************************
commit 153baf41ce46448440b170f8d0d175953bd17f24
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Feb 12 13:39:14 2022 +0200

    + added dependency to rtl-unicode for the ide package

M	packages/ide/fpmake.pp

******************************************************************************
commit af5f75fd5adc53383a654e8f9849117c2219fe52
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Feb 12 13:24:37 2022 +0200

    * win16 compilation fix after merge of unicodekvm branch

M	packages/rtl-console/src/win16/video.pp

******************************************************************************
commit 6df6e4f7ff16ea4ed9db2a1215cd2b2f262a0331
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Feb 12 13:13:12 2022 +0200

    * Amiga compilation fix after merge of unicodekvm branch

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 0b8a0fb495ded3cc71e4a44c6174216922ebcd36
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Feb 12 10:09:17 2022 +0200

    + support conversion between legancy and enhanced console in UpdateScreenArea

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 2c0f10d9887b676545b05e06e2c29a07d74d8fae
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jan 26 19:45:22 2022 +0200

    * when adding WebAssembly object info, traverse through current_module.used_units,
      as well as the usedunits global. This resolves #39543

M	compiler/wasm32/nwasmutil.pas
A	tests/webtbs/tw39543.pp
A	tests/webtbs/uw39543a.pp
A	tests/webtbs/uw39543b.pp

******************************************************************************
commit 1fce64fa0a780d4b0753eae79c2ae172ca8fb58e
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Feb 11 23:26:57 2022 +0000

     Disable range and overflow checks inside detect_linuxvcs procedure

M	rtl/linux/linuxvcs.pp

******************************************************************************
commit 784d2146c54471cb666248d5554b59d7a17a6cf7
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Fri Feb 11 23:33:33 2022 +0100

    tosunits: add a missing copyright header

M	packages/tosunits/src/aestypes.inc
M	packages/tosunits/src/vditypes.inc

******************************************************************************
commit ac8e64c93abbf349227e186ef02d31056b279e01
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Fri Feb 11 08:04:45 2022 +0100

    tosunits: add a missing copyright header

M	packages/tosunits/src/nf_ops.pas

******************************************************************************
commit ef8ad5446026ca623a4daa9e5e7af5f5783aa724
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Wed Feb 9 09:36:17 2022 +0100

    Add *.ttp to .gitignore

M	.gitignore

******************************************************************************
commit 454365325ecdaac85fab704f6cf2d459af79fcce
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Wed Feb 9 04:49:07 2022 +0100

    rtl-extra: fix printer device

M	packages/rtl-extra/src/atari/printer.pp

******************************************************************************
commit a57a2b6cbefa2e60c69256f3a45796525d0501c3
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Tue Feb 8 15:10:38 2022 +0100

    tosunits: fix a bug in menu_tnormal

M	packages/tosunits/src/gem.pas

******************************************************************************
commit 704a5a50816d2fca65740f774e5c0bbaa7af9a38
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Tue Feb 8 14:54:36 2022 +0100

    tosunits: fix a bug in vsl_width

M	packages/tosunits/src/vdi.pas

******************************************************************************
commit d06ab24389054cd342b82275168d5e9d8ee200ee
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Tue Feb 8 14:49:50 2022 +0100

    tosunits: fix a bug in objc_find

M	packages/tosunits/src/gem.pas

******************************************************************************
commit 0ad2150457a100fbef2476378f3ac56a33858fd2
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Tue Feb 8 09:58:07 2022 +0100

    tosunits: simplify some pointer assignments

M	packages/tosunits/src/aes.pas

******************************************************************************
commit 13ed9a2277918d2da5c9a008cdf4b7f4c78ba309
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Feb 7 14:12:02 2022 +0100

    tosunits: fix a bug in vq_extnd

M	packages/tosunits/src/vdi.pas

******************************************************************************
commit 0e4e4b89ab7acf1bed1b2ee7637de9580042a8bf
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Feb 7 14:11:40 2022 +0100

    tosunits: remove some unused locals

M	packages/tosunits/src/gem.pas

******************************************************************************
commit 6200af404d8d8baa1935ba8780dc9893075d9307
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Feb 7 13:33:44 2022 +0100

    tosunits: declare some var parameters as out, to avoid warnings

M	packages/tosunits/src/gemdos.pas
M	packages/tosunits/src/metados.pas
M	packages/tosunits/src/tos.pas

******************************************************************************
commit 2b829480e14abf2a8dacf1013ff796acee90b752
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Feb 7 13:32:14 2022 +0100

    tosunits: provide alternative names for members of GRECT

M	packages/tosunits/src/aestypes.inc

******************************************************************************
commit b4cc4f851becc27ccb86229a5924d38b80e1253c
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sun Feb 6 18:15:34 2022 +0100

    rtl-extra: add printer unit for atari

M	packages/rtl-extra/fpmake.pp
A	packages/rtl-extra/src/atari/printer.pp

******************************************************************************
commit a79aa8727276de8db173d67839e78a3df195a357
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sun Feb 6 18:14:05 2022 +0100

    atari: add nf_ops unit to access NatFeats from emulators

M	packages/tosunits/fpmake.pp
A	packages/tosunits/src/nf_ops.pas

******************************************************************************
commit 46ab8d79a28979dd94e0a36eece2420e57c67ceb
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sun Feb 6 17:29:28 2022 +0100

    rtl/atari: fix readln from console

M	rtl/atari/sysfile.inc
M	rtl/atari/system.pp

******************************************************************************
commit 685f72ca2f5682d153800a11dc5d25acbe97e455
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sun Feb 6 16:43:00 2022 +0100

    atari/sysos: use the symbolic names for error numbers

M	rtl/atari/gemdos.inc
M	rtl/atari/sysos.inc

******************************************************************************
commit b31d5386ee2cf470763357b25b6d7f6d5f0d1710
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sun Feb 6 13:15:43 2022 +0100

    atari: new unit gemcommon was missing from fpmake

M	packages/tosunits/fpmake.pp

******************************************************************************
commit 22b3268ac75ebf44e095572f57af6fd97576bae1
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sat Feb 5 17:33:54 2022 +0100

    rtl/atari: implement environment functions also in dos unit

M	rtl/atari/dos.pp

******************************************************************************
commit 17a90f9521420593069df50ca2c0eaebcfd44b0d
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sat Feb 5 16:43:56 2022 +0100

    atari: fix external linkage of graf_movebox/graf_rubberbox

M	packages/tosunits/src/aes.pas

******************************************************************************
commit 40adddea3477b3c7960ea0c25779f3b8312ad9ad
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sat Feb 5 14:26:11 2022 +0100

    atari: make control array of gem_pbb PurePascal compatible
    
    Applications expect it to be an array, not a record.

M	packages/tosunits/src/gem.pas

******************************************************************************
commit 43e92ef2b78195384c25202582141f91813f473a
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sat Feb 5 14:23:38 2022 +0100

    atari: add metados functions to tos interface

M	packages/tosunits/src/tos.pas

******************************************************************************
commit 904c59fbfffb65cddd60d892d0e49489773490da
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Sat Feb 5 13:13:48 2022 +0100

    tosunits: variable basepage needs to be visible by applications

M	packages/tosunits/src/tos.pas

******************************************************************************
commit d3c87f9c584a23591643e3a2dbe234a73ef3c3a3
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Thu Feb 3 19:52:28 2022 +0100

    atari: add some more AES/VDI functions

M	packages/tosunits/src/aes.pas
A	packages/tosunits/src/aestypes.inc
M	packages/tosunits/src/gem.pas
A	packages/tosunits/src/gemcommon.pas
M	packages/tosunits/src/vdi.pas
A	packages/tosunits/src/vditypes.inc

******************************************************************************
commit a237aaa1f5c4938272e7424dcc806d16d78ea78f
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Thu Feb 3 07:11:22 2022 +0100

    rtl/atari: check for application/acc at startup

M	rtl/atari/si_prc.pp
M	rtl/atari/system.pp

******************************************************************************
commit b4d8f2d1b6164755fd3e7777bc02d9a8cbbecc0a
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Thu Feb 3 07:09:35 2022 +0100

    atari: add missing type LongIntFunc to tos unit

M	packages/tosunits/src/tos.pas

******************************************************************************
commit b66802a14e9851e542d4483b250555fdd0946f77
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Wed Feb 2 12:06:25 2022 +0100

    atari: add missing AES/VDI definitions and functions

M	packages/tosunits/fpmake.pp
M	packages/tosunits/src/aes.pas
A	packages/tosunits/src/gem.pas
M	packages/tosunits/src/vdi.pas

******************************************************************************
commit 9abd81efa5e384ec0a11901a1fb67b79a0f78378
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Feb 11 22:34:32 2022 +0000

    Set correct exetension for cross-IDE

M	packages/ide/fpmake.pp

******************************************************************************
commit 85ce54f83f9c0c4ae3cec62fd16238bf3acacea5
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Feb 11 22:19:32 2022 +0000

     Add newer Compiler targets: riscv32/riscv64/xtena/wasm32 and z80

M	packages/ide/Makefile
M	packages/ide/Makefile.fpc

******************************************************************************
commit 2d1e420e54226cd68ab647d416db84f5fceee2af
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Feb 11 22:18:27 2022 +0000

     Adding common directory for riscv32/64 and -dNOOPT for wasm32

M	packages/ide/compiler/Makefile
M	packages/ide/compiler/Makefile.fpc

******************************************************************************
commit 751417b6852836b6dd067a4661b5a7fe92612a9c
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Feb 11 22:17:10 2022 +0000

    wasm32 compiler target required -dNOOPT option

M	packages/ide/fpmake.pp

******************************************************************************
commit c9e8bfd118dd79985f4ee8f42cae590c5268ca12
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Jan 26 12:23:18 2022 +0000

    Add internalerror if ogwasm tries to write unset Func/Global or TagIndex of TWasmObjSymbol

M	compiler/ogwasm.pas

******************************************************************************
commit 38706a17134fb8307724dee4fa8fbb1dfbc523a8
Author: florian <florian@freepascal.org>
Date:   Fri Feb 11 23:07:18 2022 +0100

    * fix declocked(longint) for aarch64 without LSE, resolves #39569

M	rtl/aarch64/aarch64.inc

******************************************************************************
commit 12ef9a4a223ec54c16cbe96a8107c7aa26380cbe
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Feb 9 09:20:02 2022 +0100

    * m68k: some CPUs don't have TAS either (for example some CF)

M	rtl/m68k/m68k.inc

******************************************************************************
commit 67d80d414b5d1e9b8cad34ce56f984c6c51de00d
Author: florian <florian@freepascal.org>
Date:   Thu Feb 10 22:42:10 2022 +0100

      * do not copy parameters onto the stack using FPU registers if the type is
        actually handled by the MM unit, resolves #39567

M	compiler/hlcg2ll.pas

******************************************************************************
commit a8d19553b9151b5e13e7f07dbe71bcee9037eef5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Feb 10 22:27:01 2022 +0100

    fcl-passrc: useanalyzer: skip not used record methods for typeinfo

M	packages/fcl-passrc/src/pasuseanalyzer.pas

******************************************************************************
commit 30e24e48c28dc947f2721e9e524fe72894a07776
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Feb 10 22:10:58 2022 +0100

    fcl-passrc: UseTypeInfo of record and class: skip generic elements

M	packages/fcl-passrc/src/pasuseanalyzer.pas

******************************************************************************
commit 7b62186b9c9efddcb0114df889d5830d8634b0bd
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Feb 10 14:13:30 2022 +0100

    * Normalize route when checking for duplicate routes. Fix issue #39570

M	packages/fcl-web/src/base/httproute.pp

******************************************************************************
commit 72f852f653b73edfc14807bf971aefbd2782ed55
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Feb 10 14:02:46 2022 +0100

    fcl-passrc: fixed method combining overload and override

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit 2ec382e68cce7f7fe90c3b4c88b15af79c947d99
Author: Ionut Stoica <stoica.ionut@gmail.com>
Date:   Thu Feb 10 09:19:50 2022 +0100

    Fix leak due to bad merge or rebase

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit ba51494bd7d9f5552c91918ea01f3c9e02152149
Author: florian <florian@freepascal.org>
Date:   Wed Feb 9 22:59:36 2022 +0100

      * more MIPS64 fixes

M	compiler/mips/cgcpu.pas
A	rtl/mips64/cpuh.inc

******************************************************************************
commit 8d1989fc9a261715c0188be4902a3255cfda361d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Feb 9 22:05:41 2022 +0100

    fcl-passrc: fixed generic method with Self do

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/pastojs/tests/tcgenerics.pas

******************************************************************************
commit 3827889e61939ab1fa387cf5679bf239fd0715fe
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Feb 9 13:02:04 2022 +0100

    * Add gzStream routines, patch by Dokkie8844. Fix issue #39654

A	packages/paszlib/examples/testgzstream.pp
M	packages/paszlib/src/zstream.pp

******************************************************************************
commit bbece3e6680dd7a7a9454b1f55db125619f8e639
Author: florian <florian@freepascal.org>
Date:   Tue Feb 8 23:08:32 2022 +0100

      * MIPS64 can
      * MIPS64 does not need separate 64 bit code path for ordinals

M	compiler/mips/cpupara.pas
M	compiler/ncgadd.pas

******************************************************************************
commit 308bc294654f955b357c5e71ad9a7fa9e45d39ad
Author: florian <florian@freepascal.org>
Date:   Tue Feb 8 23:08:13 2022 +0100

      * setting of MIPS64(EL) in system.inc fixed

M	rtl/inc/system.inc

******************************************************************************
commit af49e3dc9f1e35a1d036e119934985b5e5fe1e3a
Author: florian <florian@freepascal.org>
Date:   Tue Feb 8 23:04:43 2022 +0100

      + skeleton

A	rtl/mips64/mips64.inc

******************************************************************************
commit c0c6ce5422bb7ba906f78aeb2b3119fbd6498f67
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 8 22:13:28 2022 +0100

    pastojs: add rtl.run() on platform module

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jscompiler.pp
M	packages/pastojs/tests/tcunitsearch.pas

******************************************************************************
commit fe39f9ca216b22ca75bf1f065b3a6bdd5fcfd491
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Feb 7 23:10:53 2022 +0000

    Fixed bug on x86 platforms where the stack pointer was not allocated if it was different to the frame pointer

M	compiler/i386/cgcpu.pas
M	compiler/x86/cgx86.pas
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit d31e219510b80dca9f0c676e5298ccdc2a935255
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 8 21:39:15 2022 +0100

    pastojs: fixed find generic proc overload without params, issue 38796

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcgenerics.pas
M	packages/pastojs/tests/tcgenerics.pas

******************************************************************************
commit 473db46e083a34106ca4bcd26b3681407576dd5f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 8 18:01:31 2022 +0100

    pastojs: do not write rtl.run for platform module

M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit e3e8cb5b583e4e1aa9c24c0bb942dde9490dd341
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 8 13:36:49 2022 +0100

    pastojs: mark record fields as used when passing record to a jsvalue parameter

M	packages/fcl-passrc/src/pasuseanalyzer.pas

******************************************************************************
commit 9387f87db917ae23a26d56050887ce3793e11eaa
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 8 13:33:52 2022 +0100

    pastojs: mark record fields as used when passing record to a jsvalue parameter

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/src/pasuseanalyzer.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jsfiler.pp
M	packages/pastojs/tests/tcconverter.pas
M	packages/pastojs/tests/tcmodules.pas
M	packages/pastojs/tests/tcpas2jsanalyzer.pas

******************************************************************************
commit 952eee5ed0e4d65fd7a7ea52b9f3025976763503
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 8 13:33:33 2022 +0100

    pas2js: less hints

M	utils/pas2js/dts2pas.pp
M	utils/pas2js/makestub.pp

******************************************************************************
commit 3c5d6e72240dbb968f42f50c8fe7eb0783a0c16a
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Feb 8 04:42:30 2022 +0100

    * m68k: implement basic support for interlocked functions using a TAS based global spinlock on CPUs which don't have the CAS instruction

M	rtl/m68k/m68k.inc

******************************************************************************
commit 077a3f1892da9a3f493c321f905825a02b82968b
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Feb 8 03:04:28 2022 +0100

    * m68k: don't attempt to copy less than 1 byte in g_concatcopy, this fixes tdfa7.pp on 68000 and removes some superfluous address processing on 68020+ in the same test

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit 8f083f6342ab8d193d5dc0ae2205bad4b1d7bab9
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Feb 8 01:26:13 2022 +0100

    * m68k: do not generate unnecessary unaligned load sequences for byte loads into registers, this fixes tcnvint1 test on plain 68000

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit c42b8c43bd8725ca5f479ba02124f9bdb2e9670b
Author: florian <florian@freepascal.org>
Date:   Mon Feb 7 23:04:07 2022 +0100

      * \t => spaces

M	compiler/systems/t_atari.pas
M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 540fd5e58d00e1a70ae02ff74ca199b4f6473599
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Feb 7 21:44:46 2022 +0100

    pastojs: export variable

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 79cf1dd9cfe47b43d7c057709006b0206e8a0079
Author: florian <florian@freepascal.org>
Date:   Mon Feb 7 21:21:08 2022 +0100

    + store also ecx and edx after cpuid call with eax=7
      + test VNNI and BIGALG instructions

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/units/cpu/tcpu1.pp

******************************************************************************
commit 1e779014523bf774664e738d2395223b5caa85ba
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Feb 7 21:00:20 2022 +0100

    pastojs: changed library exports to export const statements

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit c8403ad49ed815e53ab700f783b9c7e371dc4831
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Feb 7 16:30:28 2022 +0100

    * Test for const list

M	packages/fcl-js/tests/tcwriter.pp

******************************************************************************
commit cb03124cc5366b25f539bdbc2f76e1ca25806234
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Feb 7 16:30:06 2022 +0100

    * Added DetectBOM to TCSVDocument

M	packages/fcl-base/src/csvdocument.pp

******************************************************************************
commit e5ac07db13024df5941957bedf2dbc62578925a8
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Feb 7 14:37:44 2022 +0100

    pastojs: started test TPas2JSUseAnalyzer

M	packages/fcl-passrc/tests/tcbaseparser.pas
M	packages/fcl-passrc/tests/tcexprparser.pas
M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/fcl-passrc/tests/tcstatements.pas
M	packages/fcl-passrc/tests/tcuseanalyzer.pas
M	packages/fcl-passrc/tests/testpassrc.lpr
A	packages/fcl-passrc/tests/testpasutils.pas
M	packages/pastojs/tests/tcfiler.pas
M	packages/pastojs/tests/tcmodules.pas
M	packages/pastojs/tests/tcoptimizations.pas
A	packages/pastojs/tests/tcpas2jsanalyzer.pas
M	packages/pastojs/tests/tcsrcmap.pas
M	packages/pastojs/tests/testpas2js.lpi
M	packages/pastojs/tests/testpas2js.pp

******************************************************************************
commit dc7a8fa9e5cd4851a95e896be337f88c7dfcddfd
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Feb 7 12:46:13 2022 +0100

    pastojs: comment

M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 93b8707ed31af9efa328109774c8015a8c32f087
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Feb 7 12:45:54 2022 +0100

    fcl-js: fixed comment

M	packages/fcl-js/src/jstree.pp

******************************************************************************
commit d42f577a3ff2bd02b6ce709b6c89bf6fc08b32ae
Author: florian <florian@freepascal.org>
Date:   Sun Feb 6 21:55:46 2022 +0100

      + additional skeleton files for mips64

A	rtl/linux/mips64/sighndh.inc
A	rtl/linux/mips64/stat.inc
A	rtl/linux/mips64/syscall.inc
A	rtl/linux/mips64/syscallh.inc
A	rtl/linux/mips64/sysnr.inc
A	rtl/linux/mips64el/sighndh.inc
A	rtl/linux/mips64el/stat.inc
A	rtl/linux/mips64el/syscall.inc
A	rtl/linux/mips64el/syscallh.inc
A	rtl/linux/mips64el/sysnr.inc
A	rtl/mips64/math.inc
A	rtl/mips64/setjumph.inc
A	rtl/mips64el/setjumph.inc

******************************************************************************
commit 28964711d7941d466e54261a7581241a97e66a1e
Author: florian <florian@freepascal.org>
Date:   Sun Feb 6 21:52:51 2022 +0100

      * sorted defines in the compiler: mips64 is defined on all 64 Bit mips platforms, mips64el for little endian, misp64eb for big endian

M	compiler/fpcdefs.inc
M	compiler/options.pas
M	compiler/systems.pas
M	compiler/systems/t_linux.pas

******************************************************************************
commit f56b6728a522fec1494b28f36aa18d89db1e97b2
Author: florian <florian@freepascal.org>
Date:   Sun Feb 6 20:32:15 2022 +0100

      + skeletons for mips64el specific files

A	rtl/mips64el/cpuh.inc
A	rtl/mips64el/math.inc
A	rtl/mips64el/set.inc

******************************************************************************
commit a6d6f938878d5723e8dff5f81def5d2392b0a3b6
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Sun Feb 6 20:15:00 2022 +0100

    * revert accidently committed code

M	compiler/constexp.pas

******************************************************************************
commit 621dcbeaf2118a9cb7622db19bb5d859e0e22f9d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Feb 6 19:16:48 2022 +0100

    pastojs: library added rtl.run, moved exports behind rtl.run, fixed export unit symbols

M	packages/fcl-js/src/jstree.pp
M	packages/fcl-passrc/src/pasuseanalyzer.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 568d4de77ec6088683375ea8ad376972e03d3c95
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Feb 6 16:30:04 2022 +0100

    * aros64: recent developments hanged the library call ABI, lets try to follow it (aros64 is experimental)

M	compiler/pdecsub.pas
M	compiler/syscinfo.pas
M	compiler/x86_64/cpupara.pas
M	compiler/x86_64/nx64cal.pas

******************************************************************************
commit 4f3093657e11970b3b28f0d0bdcb7f39644e40ee
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Feb 6 14:37:13 2022 +0100

    pastojs: export from units

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/src/pasuseanalyzer.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas
M	packages/pastojs/tests/tcprecompile.pas

******************************************************************************
commit a1f865ae45c1b007252224179ad591f2449b4e90
Author: florian <florian@freepascal.org>
Date:   Sun Feb 6 13:51:05 2022 +0100

      * updated

M	utils/fpcm/revision.inc

******************************************************************************
commit c1ef0944572b0a38dcc30f9555cc8b78913896c7
Author: florian <florian@freepascal.org>
Date:   Sun Feb 6 13:50:32 2022 +0100

      + startup code skeleton for MIPS64

M	compiler/systems.pas
M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
A	rtl/linux/mips64/si_c.inc
A	rtl/linux/mips64/si_dll.inc
A	rtl/linux/mips64/si_g.inc
A	rtl/linux/mips64/si_prc.inc
A	rtl/linux/mips64el/si_c.inc
A	rtl/linux/mips64el/si_dll.inc
A	rtl/linux/mips64el/si_g.inc
A	rtl/linux/mips64el/si_prc.inc
A	rtl/mips64el/makefile.cpu
A	rtl/mips64el/mips64el.inc

******************************************************************************
commit bd82ad0d4166303b6ff2b0f43ba66d5fc7edebe1
Author: florian <florian@freepascal.org>
Date:   Sun Feb 6 10:50:35 2022 +0100

      * register MIPS64 targets properly

M	compiler/systems/t_linux.pas

******************************************************************************
commit c9ec57bd737aa00cc132ea3418d2f4ef07dd3fdf
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Feb 6 00:05:37 2022 +0100

    * rtl/atari: add the standalone softfpu units to the Atari build. this fixes the Atari native compiler build after recent changes

M	rtl/atari/Makefile
M	rtl/atari/Makefile.fpc
M	rtl/atari/buildrtl.pp

******************************************************************************
commit e9e8013316ed280b268485762206dc9c3357359e
Author: florian <florian@freepascal.org>
Date:   Sat Feb 5 23:25:08 2022 +0100

      + some basic stuff for MIPS64

M	compiler/constexp.pas
M	compiler/entfile.pas
M	compiler/fpcdefs.inc
M	compiler/globals.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/systems/i_linux.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 6dd5b63e2df7eca4f53868d2bf15cb3cd119c68f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 5 16:58:08 2022 +0100

    * Shorter version of libimports

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 396b516a85a692b7b8d17c7c8e08c8a3167f40b8
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 5 16:35:04 2022 +0100

    * dts2pas added for next pas2js release

M	packages/fcl-js/fpmake.pp
A	utils/pas2js/dts2pas.pp
M	utils/pas2js/fpmake.pp
A	utils/pas2js/web.inc

******************************************************************************
commit bf86e57cfe0726d8b9fccc3eeba815b326a5fa3a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Feb 5 16:17:39 2022 +0100

    * Need pas.$libimports

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit a9c67f22fd3c74fcdf352f11ebe861d0f526710a
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Feb 4 22:51:55 2022 +0000

    Add use of SD instruction in tcgmips.a_load_reg_ref method

M	compiler/mips/cgcpu.pas

******************************************************************************
commit ed2b73eee6ce40f37f52ad0d09d4f30421b6646e
Author: florian <florian@freepascal.org>
Date:   Fri Feb 4 23:07:25 2022 +0100

      * sorted MIPS defines

M	compiler/fpcdefs.inc
M	compiler/options.pas

******************************************************************************
commit d54d787df2ad3bf28ab07220daa82e8f177d85a8
Author: FPK <florian@freepascal.org>
Date:   Fri Feb 4 20:02:21 2022 +0000

      + use linux tag in gitlab-ci.yml

M	.gitlab-ci.yml

******************************************************************************
commit fbed0680487193cda590fde37f6fb35374a67d76
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Feb 4 20:00:40 2022 +0000

    Set float type information in system interface part for mips64 and mips64el CPUs

M	rtl/inc/systemh.inc

******************************************************************************
commit 4db332fecf8a81392120f58d42e84142161ab7fd
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Feb 4 19:59:26 2022 +0000

    Add default macros inoptions unit for mips64 and mips64el CPUs

M	compiler/options.pas

******************************************************************************
commit 65880e66313c1329c4079e2be1a4121baa83ff21
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Feb 4 19:57:42 2022 +0000

     Also set mipseb or mipsel macro for 64-bit mips CPU

M	compiler/fpcdefs.inc

******************************************************************************
commit ea812d1c2ea7994f610b30cd459c0e235f46fdd3
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Feb 4 18:31:53 2022 +0000

     mips64 define must also set mips

M	compiler/fpcdefs.inc

******************************************************************************
commit e8f9ffdb5e4a3155da37aa101185fee096093eea
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Feb 4 15:59:38 2022 +0100

    pastojs: calling constructor of nested external class, issue 38858

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 953d15a9390bba467699c0fcecd8f86bbc1128ef
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Feb 4 15:14:34 2022 +0100

    pastojs: consistent error message on custom js file not found, issue 38978

M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit 664a96c58489cbd7fc636a05f21ab7edd5d1ab84
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Feb 4 14:48:05 2022 +0100

    pastojs: fixed await() as aclass, issue 39028

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 9bf4f9e2ce4c04a0227f722416f510a0706de4ce
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Feb 4 13:09:56 2022 +0100

    fcl-passrc: fixed attributes of interface types issue 39198

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 3713784e40f99bf14d41875267f6943541b994c5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Feb 4 12:48:50 2022 +0100

    fcl-passrc: comment

M	packages/fcl-passrc/src/pasresolver.pp

******************************************************************************
commit a4e2d7462665ffdcb27d9d25ec1b2acd58063887
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Feb 4 12:22:40 2022 +0100

    * rtl/atari: fix haltproc external name. apparently the atari target uses a different Cprefix in the compiler, so copy-pasting this stuff from the Amiga port don't work 1:1

M	rtl/atari/system.pp

******************************************************************************
commit 93494bf8bf41ca0dc37b698bc2852cb82687b609
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Feb 4 11:58:16 2022 +0100

    * rtl/atari: use the haltproc declared in the startup code instead of calling pterm in the system unit directly.

M	rtl/atari/system.pp

******************************************************************************
commit b30a1bf447b75c7260eaafb1acaa7d008bdf48ea
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Feb 4 11:43:49 2022 +0100

    * rtl/atari: naming: gemdos_free is actually gemdos_mfree. no functional change.

M	rtl/atari/gemdos.inc
M	rtl/atari/sysheap.inc

******************************************************************************
commit b56e1b0cd8df80ec246d5939088b8cbcae7b5ec1
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Feb 4 02:11:54 2022 +0100

    * tosunits: add {$PACKRECORDS 2} everywhere, just in case

M	packages/tosunits/src/aes.pas
M	packages/tosunits/src/bios.pas
M	packages/tosunits/src/gemdos.pas
M	packages/tosunits/src/metados.pas
M	packages/tosunits/src/vdi.pas
M	packages/tosunits/src/xbios.pas

******************************************************************************
commit 5ff82c14cfe2e2b5110d9bdea4c202a20621b80b
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Feb 4 02:11:09 2022 +0100

    * tosunits: tabs 2 spaces fix in MetaDOS

M	packages/tosunits/src/metados.pas

******************************************************************************
commit e8e1a6e874641ce7e8b637810efa9b7ed2c0c370
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Feb 4 02:04:05 2022 +0100

    * tosunits: remove the sysutils dependency from TOS unit, it's no longer needed

M	packages/tosunits/src/tos.pas

******************************************************************************
commit 98f767efbfe742a749d61d7a598388be12ac3558
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Feb 4 02:00:09 2022 +0100

    * tosunits: do not use functions which convert between shortstring and a char array via an AnsiString in TOS unit

M	packages/tosunits/src/tos.pas

******************************************************************************
commit ee5e89733f4fcc26b9389d4dc62b0c707ec8ddb1
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Feb 4 01:57:52 2022 +0100

    * tosunits: add some required defines about compiler mode, strings, alignment in the TOS unit

M	packages/tosunits/src/tos.pas

******************************************************************************
commit 4a85ab9cb9785d31ab8d6f8808432010b1de8a34
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Fri Feb 4 01:52:21 2022 +0100

    * tosunits: tabs 2 spaces fix in the TOS unit

M	packages/tosunits/src/tos.pas

******************************************************************************
commit b2e553d3c403c2fc8994714ed998cc542c6eaaa1
Author: florian <florian@freepascal.org>
Date:   Thu Feb 3 23:15:11 2022 +0100

      * mips64el compiler can be compiled

M	compiler/mips/ncpuadd.pas
M	compiler/mips/ncpumat.pas

******************************************************************************
commit c4ea01cf3d328f81311b2ae0118cf2c3944efe56
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jan 30 14:27:17 2022 +0000

    Improved JccMov1JmpMov0Jmp -> SETcc optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 89e028285624ca1193c6502f15d971e48f650e3b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Feb 3 15:20:54 2022 +0100

    pastojs: write sourceMappingURL only if map file enabled, issue 39210

M	packages/pastojs/src/pas2jscompiler.pp
M	packages/pastojs/tests/tcprecompile.pas
M	packages/pastojs/tests/tcunitsearch.pas

******************************************************************************
commit f0f981882419c900360446da529fc3b8692a1b1e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Feb 3 15:15:34 2022 +0100

    pastojs: fixed Setlength(unicodestring) issue 39208

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jsfilecache.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 672c9b14669fd1432679d1012d3d841e01926984
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Feb 3 11:11:06 2022 +0100

    pastojs: debug log for pas2jslib

M	packages/pastojs/src/pas2jslibcompiler.pp

******************************************************************************
commit 859755ac851477d31e6461242470e516b7b3129f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Feb 3 11:10:33 2022 +0100

    pastojs: less hints

M	packages/pastojs/src/pas2jsfileutilswin.inc
M	packages/pastojs/src/pas2jslogger.pp

******************************************************************************
commit 5e082c9d9048aaa691b833c9ddbbd32413eb01a5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Feb 3 11:10:13 2022 +0100

    pastojs: less hints

M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit f10fe0985a4b0b60dd03e70d6b150fe193785e05
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Wed Feb 2 11:39:25 2022 +0100

    atari: add missing bios/xbios/gemdos functions
    
    todo: Some newer MiNT functions

M	packages/tosunits/fpmake.pp
A	packages/tosunits/src/bios.pas
M	packages/tosunits/src/gemdos.pas
A	packages/tosunits/src/metados.pas
A	packages/tosunits/src/tos.pas
M	packages/tosunits/src/xbios.pas

******************************************************************************
commit 073b48de826c232bba310d8b05490daead429411
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Jan 31 18:53:08 2022 +0100

    atari: add -Wt<x> option to allow specifying the executable format
    
    This is useful to create aoutmint format binaries using vlink,
    which have a symbol table that has no limit for the name length.

M	compiler/globals.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems/t_atari.pas

******************************************************************************
commit a2b66ea061fb9bbd311d26203525a11394840955
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Jan 31 18:20:50 2022 +0100

    atari: implement environment functions

A	packages/tosunits/examples/printenv.pas
M	rtl/atari/sysutils.pp

******************************************************************************
commit fecb72fea3fe979c2875c8a94cfcc7da6f1249f9
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Jan 31 16:19:24 2022 +0100

    atari: implement ARGV protocol for runtime startup

M	rtl/atari/syspara.inc
M	rtl/atari/system.pp

******************************************************************************
commit 41d4e181ea3674581bf32633bdc90376513a145c
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Jan 31 15:11:32 2022 +0100

    atari: pass tos exe flags also to ld

M	compiler/systems/t_atari.pas
M	rtl/atari/system.pp

******************************************************************************
commit b2eaa4e701b6f3959a9ae94f116bdee092a56cb9
Author: florian <florian@freepascal.org>
Date:   Wed Feb 2 22:14:14 2022 +0100

      + some MIPS64 stuff added to the Makefiles

M	compiler/Makefile
M	compiler/Makefile.fpc
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit abac7a02bde9cd0bd582e7db028474708b194709
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Feb 2 21:58:35 2022 +0100

    * Fix pas2js issue 39212

M	packages/fcl-js/src/jstree.pp

******************************************************************************
commit 4e51973dbaa26581b29ae72d0f345382443205aa
Author: Yuri Silver <yus.serebrennikov@gmail.com>
Date:   Tue Feb 1 22:36:16 2022 +0300

    In case of incorrect shutdown of the client. The buffer may return =0. There will be an exception.

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 6faa3872fcaf94826e07499c11b635bb41453faa
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Feb 1 15:12:01 2022 +0100

    * Restored test unit

M	packages/fcl-json/tests/testjson2code.lpi
M	packages/fcl-json/tests/testjson2code.lpr

******************************************************************************
commit a0a23a8968c319733a9edd1b80031ce6b334cbc2
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 14:47:54 2022 +0100

    pastojs: less string warnings

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit 85928a738d71326fa3eb41c2361d0cb012bd1cca
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 14:43:30 2022 +0100

    pastojs: using TJSVariableStatement.VarDecl

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit c6ce763336442f8b59239c3ef96be8709f2a4110
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 14:31:19 2022 +0100

    fcl-passrc: fixed sourcepos of member const

M	packages/fcl-passrc/src/pparser.pp

******************************************************************************
commit edeb5909da627e4132c280b99d0ea50ffb07fbb4
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 14:25:39 2022 +0100

    pastojs: switched to TypedParams

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit ced452e2ef37628854b945de15791f796a52d0e9
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 14:22:22 2022 +0100

    fcl-js: switched to TypedParams

M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcwriter.pp

******************************************************************************
commit a7951612da74ed7b709dc4b3ebb759eec1da3b2f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 13:32:18 2022 +0100

    fcl-json: clean up, updated TestStrings

M	packages/fcl-json/src/fpjsontopas.pp
M	packages/fcl-json/tests/jsonconftest.pas
M	packages/fcl-json/tests/tcjsontocode.pas
M	packages/fcl-json/tests/testjson2code.lpi
M	packages/fcl-json/tests/testjson2code.lpr
M	packages/fcl-json/tests/testjsonconf.lpi

******************************************************************************
commit a8449ad9598cebb21c4a892935e41fcb28f05060
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 13:18:00 2022 +0100

    pas2js: less hints

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit 5bedf92bfba41350e1854b43fa9acee704f871e4
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 13:16:46 2022 +0100

    fcl-js: fixed mem leak

M	packages/fcl-js/src/tstopas.pp

******************************************************************************
commit ad971df05a418d04027323d423e9527e6374955b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 13:11:11 2022 +0100

    fcl-js: fixed mem leak

M	packages/fcl-js/src/jstree.pp

******************************************************************************
commit 32d06f2e87710cf749cab40d520a711ba044d65d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 13:08:11 2022 +0100

    fcl-js: fixed mem leak

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/tests/tctstopas.pp

******************************************************************************
commit e298e6eccd378a23540f95d22a0a66be14ecbc4c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 13:07:46 2022 +0100

    fcl-js: clean up

M	packages/fcl-js/src/tstopas.pp

******************************************************************************
commit a70d33ff00fe331f8e2528ad4f0411597eb4a0c9
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 10:20:35 2022 +0100

    pas2js: fixed init external class RTTI

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 030c3b66520a8eb125e222b527150381464a3358
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Feb 1 10:18:04 2022 +0100

    fcl-passrc: clean up

D	packages/fcl-passrc/tests/testpassrc.pp

******************************************************************************
commit 7a444281e8271f4850162974ed6a86c92f029717
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Jan 31 22:40:09 2022 +0100

    Retry incase of thread initialization failure

M	tests/test/tinterlocked64mt.pp
M	tests/test/tinterlockedmt.pp

******************************************************************************
commit f9a6e082ba047618fceee613f4ef3a26a4275342
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Jan 31 10:05:18 2022 +0100

    * Remove duplicate HexDigits constants. Fix issue #39462

M	packages/rtl-objpas/src/inc/strutils.pp
M	rtl/objpas/sysconst.pp

******************************************************************************
commit 859ae5fc7c8d7fd43be1e1dc11284c455a176f90
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Jan 24 14:47:13 2022 +0100

    Fix linker script for atari/gnu ld

M	compiler/systems/t_atari.pas

******************************************************************************
commit d93c7579deabaf1dc14abe1b90b91dd57621b16a
Author: Thorsten Otto <admin@tho-otto.de>
Date:   Mon Jan 24 09:16:04 2022 +0100

    Fix linker commandline for m68k-atari

M	compiler/systems/t_atari.pas

******************************************************************************
commit bc6d8fbaf2551cbf752ecf2183c1368f359bbd39
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jan 30 13:32:41 2022 +0100

    * Use correct define for tests 51/52

M	packages/regexpr/tests/tests.pp

******************************************************************************
commit 7b3ef85d2f153ee2946c24f0abf7e9615485a89f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jan 30 12:42:17 2022 +0100

    * Patch from Werner Pamler to fix issue #39544

M	packages/fcl-db/src/sqldb/sqldb.pp

******************************************************************************
commit 5f27474465ebd72dcea3e8fb740fc07f3bcf53b3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jan 30 12:17:13 2022 +0100

    * Update to upstream implementation by Alexey Torgashin. Fix issue #39423

M	packages/regexpr/src/regexpr.pas
M	packages/regexpr/tests/tcregexp.pp
M	packages/regexpr/tests/testregexpr.lpi
M	packages/regexpr/tests/testregexpr.pp
A	packages/regexpr/tests/tests.pp

******************************************************************************
commit 9b4033fa80bff4b50cd2faa83a49aea8ed71c17f
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Sep 14 13:34:55 2021 +0100

    Fast mod

M	compiler/cgutils.pas
M	compiler/x86/nx86add.pas
M	tests/bench/bdiv.pp
M	tests/bench/bdiv_s32.inc
M	tests/bench/bdiv_s64.inc
M	tests/bench/bdiv_u32.inc
M	tests/bench/bdiv_u64.inc

******************************************************************************
commit 181ee30174afabdb00c3d631ac4bda26c0c31135
Author: ccrause <christo.crause@gmail.com>
Date:   Sun Jan 30 09:11:28 2022 +0200

    Update build and link requirements for esp-idf v4.4. Refactor the version dependent linker fragments list into an array of version specific array of strings for easier updating in future.

M	compiler/pmodules.pas
M	compiler/systems/t_freertos.pas
M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc
A	rtl/freertos/xtensa/espidf_40400.pp

******************************************************************************
commit e5472845882a4747c80ba6e0d7ceaff936c71484
Author: Joost van der Sluis <joost@cnoc.nl>
Date:   Sat Jan 29 23:13:41 2022 +0100

     * Section-offsets have 64 bits in the Dwarf-64 format

M	compiler/dbgdwarf.pas

******************************************************************************
commit 00efaece74a2d399971a8aece991fac38cc7fc70
Author: Sergey Larin <sergy.larin@gmail.com>
Date:   Mon Mar 1 18:04:55 2021 +0300

    Fixed free_fun function signature in zlib
    
    fix! 2d00cab5

M	packages/zlib/src/zlib.pp

******************************************************************************
commit b26463ed993e184d2e2dc2cd9059ca7a024552a4
Author: Joost van der Sluis <joost@cnoc.nl>
Date:   Sat Jan 29 22:57:17 2022 +0100

     * Removed unused parameter

M	compiler/dbgdwarf.pas

******************************************************************************
commit 52334737489c37e2e4a01ab62c982d838d64736c
Author: Ionut Stoica <stoica.ionut@gmail.com>
Date:   Sat Jan 29 14:47:07 2022 +0100

    Fix memory leak - avoid handler allocation when not needed

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit f21f7f0f506a66a8384c2300330e3235bbb68e20
Author: florian <florian@freepascal.org>
Date:   Fri Jan 28 22:48:50 2022 +0100

    * handle result type of unsigned ordinal operations in ISO/Extpas mode similiar to TP, solves
        #37875

M	compiler/nadd.pas
A	tests/webtbs/tw37875.pp

******************************************************************************
commit 29625c71126cf418d6f25f7e868b40e6e5a24c08
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Jan 26 03:27:54 2022 +0000

    Fixed registers in references not being tracked properly in MovMovXX2MovXX 1 optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f8e04aad038cbdd8719cc7e72b850850c8983713
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Jan 24 14:15:04 2022 +0000

    CMOV now modifies rather than writes to the destination register so RegUsedAfterInstruction behaves properly

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 69fff102af0e272918219f7e168dbc9f3df8c3a9
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Jan 21 00:46:39 2022 +0000

    Added correct flag tracking for JccMov2CMov optimisations

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4d5d1c8e10b295b6b428909d5fb37f9900d3cc9e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Jan 28 12:24:05 2022 +0100

    * Demo authenticator app

A	packages/fcl-hash/examples/authenticator.lpi
A	packages/fcl-hash/examples/authenticator.pp

******************************************************************************
commit 2391d317bce0425c6e553e551572e05246d46f81
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Jan 28 11:37:19 2022 +0100

    * Sample to demonstrate generating/showing/checking a TOTP

A	packages/fcl-hash/examples/gentotp.pp

******************************************************************************
commit d5d97169163c83545fbb298b812a7f34d5b7ffe2
Author: florian <florian@freepascal.org>
Date:   Thu Jan 27 22:36:34 2022 +0100

      * fix thlcgxtensa.g_intf_wrapper as proposed by Anton in #39326, resolves #39326

M	compiler/xtensa/hlcgcpu.pas

******************************************************************************
commit ee2d313aa0785735289f0a8630e2818971782c96
Author: Sergey Larin <sergy.larin@gmail.com>
Date:   Wed Jan 26 15:11:08 2022 +0300

    Added TranslatePlaceholderCP in fpc_Read_Text_AnsiStr procedure.
    This is a small optimization.

M	rtl/inc/text.inc

******************************************************************************
commit a8b0e0ed65cf9b0be0e7a177dc23c1e816fb9004
Author: Sergey Larin <sergy.larin@gmail.com>
Date:   Wed Jan 26 14:13:07 2022 +0300

    Added TranslatePlaceholderCP before Wide2AnsiMoveProc call.
    In the fpc_setstring_ansistr_pwidechar procedure, before calling Wide2AnsiMoveProc, the translation cp = 0 to the DefaultSystemCodePage has been added.
    Note: In all other places such translation is present.

M	rtl/inc/astrings.inc

******************************************************************************
commit 68cd1c39732449efc0e83adfc3d66dce80f1f9eb
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jan 26 16:39:29 2022 +0200

    + define USE_NOTHREADMANAGER in the WASI system unit

M	rtl/wasi/system.pp

******************************************************************************
commit 9579759f01783e8596e647731970dc55bb436783
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jan 26 15:39:24 2022 +0200

    + added wasi to the list of targets without thread support

M	tests/utils/dotest.pp

******************************************************************************
commit bef4da339abfd785ccded8821539ac0f8d946bfe
Author: Ionut Stoica <stoica.ionut@gmail.com>
Date:   Wed Jan 26 08:33:08 2022 +0100

    fphttpclient - only handle Unix in conditional compilation for UnixSocketPath feature

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit f12fcc9e065a6550617261dea1d9073cd4cea94b
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Jan 26 01:06:01 2022 +0100

    * rtl/atari: do not default to tinyheap for now. the compiler itself doesn't work with tinyheap for some reason

M	rtl/atari/system.pp

******************************************************************************
commit 1e90a4db3e9908fe0f06bafb801c967aa9c1c0c5
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Jan 26 00:01:17 2022 +0100

    * rtl/atari: get rid of the old prt0.as startup code, which is not in use any more. this way, we do not require GAS any more for a build

M	rtl/atari/Makefile
M	rtl/atari/Makefile.fpc
D	rtl/atari/prt0.as

******************************************************************************
commit 6010ece53248848dff792ee6af912ebadccb1efd
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Jan 25 23:49:46 2022 +0100

    * m68k-atari: make vasm the default assembler. also don't claim we have an internal linker

M	compiler/systems/i_atari.pas

******************************************************************************
commit a87b38f7530f472401ec5e77aec73d37ab1dd47e
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Jan 25 23:22:29 2022 +0100

    * m68k-atari: make the Atari target always default to VLink, even for crosscompilers

M	compiler/options.pas

******************************************************************************
commit ed2dca9a9b6aa989265b355d597a23302144a818
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Jan 25 23:21:23 2022 +0100

    * m68k-atari: make the Atari target use 68000 CPU as default

M	compiler/options.pas

******************************************************************************
commit 9739a88e119f4639eaf51b0eb07a04b3a28fb457
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Jan 25 23:15:29 2022 +0100

    * regenerated message includes

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit b3cbf07f27bd59c1988ff5055f82dd1f092d6f19
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Jan 25 23:14:34 2022 +0100

    + m68k-atari: fixed bogus TOS program flags passed to VLink. added -WF argument to allow the user to specify their own flags if needed

M	compiler/globals.pas
M	compiler/msg/errore.msg
M	compiler/options.pas
M	compiler/systems/t_atari.pas

******************************************************************************
commit ca8a94e693ea963c2dfb4ad6efa9232068af508b
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Jan 25 22:02:56 2022 +0000

     Disable utils tply package for all wasm32 targets as it uses goto's

M	utils/tply/fpmake.pp

******************************************************************************
commit 54efcc4bbb79d54d69395782ca00019b36e3cb4c
Author: Ionut Stoica <stoica.ionut@gmail.com>
Date:   Tue Jan 25 17:38:35 2022 +0100

    Client support of HTTP over unix socket

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 88959bdda78e45058714616f15d3d625b3e5b570
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Jan 25 11:57:08 2022 +0100

    * m68k-sinclairql: fix the inclusion of the target proper

M	compiler/compiler.pas
M	compiler/systems/i_sinclairql.pas

******************************************************************************
commit c4f9ec91c92b9d018b24be606b1c7cf74460cd66
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Jan 25 12:56:02 2022 +0200

    + fix support for 8-byte records, held in a register pair on the WebAssembly target. This fixes #39524

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 40cf71c9a5a6d2e2c4ee5134fc347fda711201aa
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Jan 24 18:25:51 2022 +0000

     Disable h2pas utils package for wasm32 as this CPU does not support goto

M	utils/h2pas/fpmake.pp

******************************************************************************
commit 140fe74efb997300d4471495b05ad5c6e043ca35
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Jan 24 16:35:33 2022 +0000

     Add possibility to pass  jvm target compilation parameters and clean up if no problem is detected

M	tests/test/jvm/testall.sh

******************************************************************************
commit 9c20a033e0ba0c0cde2594a92d8f512252f50cc3
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Jan 24 15:16:26 2022 +0000

     Fix fullinstall make target

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 773babd45df4b829f8d4958afd8118a5ed1b9879
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Sun Jan 23 20:11:12 2022 +0100

      + test for already fixed bug so this avoids that is is reintroduced

A	tests/test/texception12.pp

******************************************************************************
commit 2a7744df803e34ae64172be65946322b09748b6a
Author: florian <florian@freepascal.org>
Date:   Sun Jan 23 12:30:16 2022 +0100

      * check also for 64 bit registers in TX86AsmOptimizer.RegModifiedByInstruction

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7097a1030f0df9196a2b9d9142f5c1b6827522e4
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jan 23 12:18:43 2022 +0100

    * Added Read64/Write64

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit 042eb7e8c196b6a0c8f6016af9985b8b3062703b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Jan 23 12:03:24 2022 +0100

    * Small safety precaution

M	rtl/objpas/classes/streams.inc

******************************************************************************
commit e27ea76b8887c6d4c597054edf5beddc40100867
Author: Sergey Larin <sergy.larin@gmail.com>
Date:   Fri Aug 6 10:54:26 2021 +0300

    The TStream.ReadBuffer and TStream.WriteBuffer methods have changed the Count parameter type to NativeInt.
    Changed the implementation of ReadBuffer, WriteBuffer so that the size of the blocks when calling Read and Write does not exceed High(Longint).
    Notes:
    - Thanks to this change, for example, a file larger than 2GB can be loaded into TMemoryStream.
    - The fact that the Count parameter has the NativeInt type is compatible with the latest versions of Delphi.

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit fbc65314b97740a39dac494cdd1fe238554a43a9
Author: Robert Roland <rob.roland@outlook.com>
Date:   Mon Jan 17 15:36:51 2022 -0800

    Correct linker script for aarch64-embedded
    
    Start address was wrong, should be 0x80000, not 0x8000

M	compiler/aarch64/cpuinfo.pas

******************************************************************************
commit 1a8444087a70a0984f6e2f84efb16db0c235f1b7
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Jan 22 22:28:01 2022 +0100

    * ensure that result of factor_handle_sym is initialized

M	compiler/pexpr.pas

******************************************************************************
commit 5ce96de0f2aa890496721b3462629ae99f3c2e64
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Jan 22 18:12:02 2022 +0100

    * ensure that an expression that involves an overloaded generic in mode Delphi isn't handled as a specialization if it shouldn't be
    + added tests

M	compiler/pexpr.pas
A	tests/test/tgenconst31.pp
A	tests/test/tgenconst32.pp
A	tests/test/tgenconst33.pp
A	tests/test/ugenconst31a.pp
A	tests/test/ugenconst31b.pp

******************************************************************************
commit d4e0a79d9e43686ec0584a87d57acff189f01d01
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Jan 22 18:10:56 2022 +0100

    * move the handling of the symbol found in factor_read_id to a separate function

M	compiler/pexpr.pas

******************************************************************************
commit 366aedc6d829bddee3b6063c56bf5244ecee74ab
Author: florian <florian@freepascal.org>
Date:   Sat Jan 22 17:35:51 2022 +0100

      * more false positives of unintialized varibles worked around

M	rtl/inc/sstrings.inc

******************************************************************************
commit 115f83794b8005274bdf149448f46bc4f42c531c
Author: florian <florian@freepascal.org>
Date:   Sat Jan 22 14:13:32 2022 +0100

      * avoid warning/error on uninitialized variable

M	rtl/inc/sstrings.inc

******************************************************************************
commit 30b0d98636836e9d16557aa6879c81fa38ad7ed3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Jan 22 11:17:44 2022 +0100

    * Change return type of some functions, so -1 can actually be returned, patch by Zeljko Avramovic (issue 39268).

M	rtl/objpas/sysutils/syshelph.inc
M	rtl/objpas/sysutils/syshelpo.inc

******************************************************************************
commit 986a6feb95287ae33f0acbb8854327f43c6227b7
Author: Rika Ichinose <rrunewalsh@gmail.com>
Date:   Wed Jan 12 11:10:45 2022 +0300

    Allocate THashSet item and its key together when FOwnKeys=true.

M	compiler/cclasses.pas

******************************************************************************
commit 2e8321e0fa8ade82c71aebe4ec31a1f52f742584
Author: florian <florian@freepascal.org>
Date:   Fri Jan 21 18:22:28 2022 +0100

      + routines to test for AVX512VNNI and AVX512BITALG support

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/units/cpu/tcpu1.pp

******************************************************************************
commit 2e70bd7dcb7ede8d97c18582ce725597bb0507b4
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Jan 21 07:38:48 2022 +0100

    * change cgsize2subreg and reg_cgsize on Z80 to behave more like they do on AVR; this fixes compilation of Z80 now that the array and string length fields are indeed of type SizeSInt instead of OSSInt

M	compiler/z80/cpubase.pas

******************************************************************************
commit a6921fff7bd15a4635d0bffc5f17df08bdeaa6d7
Author: florian <florian@freepascal.org>
Date:   Thu Jan 20 19:02:27 2022 +0100

    + Aarch64: SxthSxtw2Sxth optimization

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit a362c93f73148b505d87feea9e8e3c7ade99178b
Author: florian <florian@freepascal.org>
Date:   Thu Jan 20 19:01:31 2022 +0100

    * Aarch64: operations affect always the full 64 bit register, so
        TCpuAsmOptimizer.RegLoadedWithNewValue can use SuperRegistersEq

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit a7a689ca1632ef7c8783ea884d5ad59863aa1fde
Author: florian <florian@freepascal.org>
Date:   Thu Jan 20 22:13:26 2022 +0100

      * fpc_AnsiStr_To_ShortStr: set length before moving, should result in better memory access pattern

M	rtl/inc/astrings.inc

******************************************************************************
commit 9b7f24841c7302b0bd35fba42f00e9409097e622
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Jan 20 18:02:00 2022 +0000

     Fix compilation of jvm-java and jvm-android rtl

M	rtl/java/jcompproc.inc

******************************************************************************
commit 63d8282f8ffb56e35ec780e5b2d9a3e43ae1c82c
Author: florian <florian@freepascal.org>
Date:   Wed Jan 19 22:03:24 2022 +0100

      * do not use sysutils anymore

M	tests/test/units/system/tval6.pp

******************************************************************************
commit 02abad58d8836e80928e078ebccde151e1ea4b44
Author: florian <florian@freepascal.org>
Date:   Wed Jan 19 22:03:09 2022 +0100

      * some fixes for 8 Bit CPUs

M	rtl/inc/sstrings.inc

******************************************************************************
commit bd104270ae7683eaaa48c65a9d7833f4712dc9a0
Author: florian <florian@freepascal.org>
Date:   Wed Jan 19 22:02:58 2022 +0100

      * clean up

M	tests/test/units/system/tval5.pp

******************************************************************************
commit 713074ded521ff2c1b781ebd6ff2aca83fda55d8
Author: florian <florian@freepascal.org>
Date:   Wed Jan 19 21:25:00 2022 +0100

      * test does not need to use sysutils anymore

M	tests/test/units/system/tval5.pp

******************************************************************************
commit b407b67ca1afef62a10c9bcd06539b480250d580
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Jan 19 07:08:32 2022 +0200

    * regenerate all makefiles with latest fpcmake

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-hash/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gitlab/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit c59b6a5d8dfa4a20eec23345839d116905de03f5
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Jan 18 21:54:05 2022 +0100

    * High() and Length() for dynamic arrays deal with sizesinttype instead of ossinttype (on AVR the former is 16-bit while the later is 8-bit thus this is an important distinction)

M	compiler/ncginl.pas
M	compiler/ninl.pas

******************************************************************************
commit c062061d6d16782c0e0f53e3fc9f2ad4bda0b905
Author: florian <florian@freepascal.org>
Date:   Tue Jan 18 23:04:32 2022 +0100

      + MovapXComisX2ComisX2 optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4640120dbd167ac8c800311e52f6694dd3c4307a
Author: ccrause <christo.crause@gmail.com>
Date:   Tue Jan 18 08:19:43 2022 +0200

    esp32.rom.api.ld was only introduced in esp-idf v4.3. Remove invalid linker search path.

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 73287c35d20d3583840fa115519ca96baa659d5f
Author: ccrause <christo.crause@gmail.com>
Date:   Tue Jan 18 08:18:21 2022 +0200

    GenerateDefaultLinkerScripts should set out_ld_filename.

M	compiler/systems/t_freertos.pas

******************************************************************************
commit a9d883ada1de38e0c6cabf8832952111ad56fca1
Author: ccrause <christo.crause@gmail.com>
Date:   Tue Jan 18 08:17:22 2022 +0200

    Add link unit for esp-idf v4.1. Version checks to allow for different patch levels in idf_version.

M	compiler/pmodules.pas
M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc
A	rtl/freertos/xtensa/espidf_40100.pp

******************************************************************************
commit d76cfdd9138b731ec27601bf7589c8fd490ea968
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Jan 18 16:54:45 2022 +0100

    pas2js: compileserver: added commandline param --version

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit f8aaab3cd732f7b4b3c8d80308c91c81abb81f41
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Jan 18 07:38:54 2022 +0100

    * regenerate packages\wasmtime with an up to date fpcmake

M	packages/wasmtime/Makefile

******************************************************************************
commit 718709c87dfdd442dcd5326e374270abe6fd864b
Author: florian <florian@freepascal.org>
Date:   Mon Jan 17 22:46:19 2022 +0100

      * all val helpers now use the ValValueArray

M	rtl/inc/sstrings.inc

******************************************************************************
commit 2f8750924f6da75b9842c1b2a4b97b522453d084
Author: florian <florian@freepascal.org>
Date:   Sun Jan 16 23:07:36 2022 +0100

      * patch by Bart B: fixes fpc_val_word_shortstr() and refactors fpc_val_longword_shortstr() so that it uses the same algorithm and naming conventions as the other unsigned val-helpers.

M	rtl/inc/sstrings.inc

******************************************************************************
commit 32d6cf7093c086fc3e963880860e62509f69d0bb
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jan 16 19:19:58 2022 +0000

    Fixed and refactored MOVX optimisation that occasionally caused crashes on i386 platforms

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 0634d5349d549e3af38d845d92b727504c752857
Author: Rika Ichinose <rrunewalsh@gmail.com>
Date:   Thu Jan 13 09:28:42 2022 +0300

      * add const

M	compiler/optdfa.pas

******************************************************************************
commit 92771760b79fe0f30e67400b6e1f131287c621b7
Author: Rika Ichinose <rrunewalsh@gmail.com>
Date:   Thu Jan 13 10:26:02 2022 +0300

    Get rid of some global variables.

M	compiler/optdfa.pas
M	compiler/optutils.pas

******************************************************************************
commit 5f089afdfb3820d055e06e727859f38b0ed1f9b0
Author: florian <florian@freepascal.org>
Date:   Sat Jan 15 22:36:57 2022 +0100

      * unified ValueArray

M	rtl/inc/sstrings.inc

******************************************************************************
commit e19b45a71baaac76980f3240e3384d9d73925b96
Author: florian <florian@freepascal.org>
Date:   Sat Jan 15 22:30:25 2022 +0100

      * tests fixed after last commit

M	tests/tbs/tb0336.pp
M	tests/test/units/system/tval5.pp
M	tests/webtbs/tw15633.pp

******************************************************************************
commit 55f010324835946394d88b02b5aa87755444b66e
Author: florian <florian@freepascal.org>
Date:   Sat Jan 15 22:18:38 2022 +0100

      o patch by Bart B:
        * fixes fpc_Val_UInt_Shortstr, part of #15633
        * fpc_val_qword_shortstr uses the ValueArray constant

M	rtl/inc/sstrings.inc

******************************************************************************
commit 6dd0a1c0784f1fded1ff03cd1f967cd08d1c31d4
Author: florian <florian@freepascal.org>
Date:   Fri Jan 14 22:55:49 2022 +0100

      * year of copyright updated to 2022

M	compiler/msg/errorct.msg
M	compiler/msg/errord.msg
M	compiler/msg/errorda.msg
M	compiler/msg/errordu.msg
M	compiler/msg/errore.msg
M	compiler/msg/errores.msg
M	compiler/msg/errorf.msg
M	compiler/msg/errorfi.msg
M	compiler/msg/errorhe.msg
M	compiler/msg/errorheu.msg
M	compiler/msg/errorid.msg
M	compiler/msg/erroriu.msg
M	compiler/msg/errorn.msg
M	compiler/msg/errorpl.msg
M	compiler/msg/errorpli.msg
M	compiler/msg/errorpt.msg
M	compiler/msg/errorptu.msg
M	compiler/msg/errorr.msg
M	compiler/msg/errorru.msg
M	compiler/msg/errorues.msg
M	compiler/msgtxt.inc

******************************************************************************
commit ec1766ac3f629c3c9fe09bc6895ffa36cc102915
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Jan 14 15:47:08 2022 +0100

    pas2js: compileserver: added cmd line option interface

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit 52e30aa332592c8a3b7afca3c98c9f6c63f4b581
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Jan 10 16:35:46 2022 +0100

    pas2js: compileserver exitcode 1 on ESocketError

M	utils/pas2js/compileserver.lpi
M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit 6cc82086a99b5bfc0be3e59f74b68ac98e4e9cde
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Jan 14 15:41:48 2022 +0100

    * Patch from Laco to add tests

M	packages/fcl-db/src/base/bufdataset.pas
M	packages/fcl-db/src/dbase/dbf_fields.pas
M	packages/fcl-db/src/memds/memds.pp
M	packages/fcl-db/tests/bufdatasettoolsunit.pas
M	packages/fcl-db/tests/memdstoolsunit.pas
M	packages/fcl-db/tests/sqldbtoolsunit.pas
M	packages/fcl-db/tests/testdbbasics.pas
M	packages/fcl-db/tests/toolsunit.pas

******************************************************************************
commit fecc6db4c2b65fe4deb9845dcb278e2c2f050539
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Jan 14 10:05:28 2022 +0100

    * AsString takes into account empty true or false. Fix issue #39371

M	packages/fcl-db/src/base/fields.inc
M	packages/fcl-db/tests/testdbbasics.pas

******************************************************************************
commit d9996607b83d3306aea61fb11db3307a87973afc
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Jan 14 10:01:23 2022 +0100

    * Displayvalues can omit false part. Fix issue #39371

M	packages/fcl-db/src/base/fields.inc
M	packages/fcl-db/tests/testdbbasics.pas

******************************************************************************
commit bde7b73a3ee41d95bf52dd2b0fd2bb90bd0625b6
Author: Lacak <lacak@zoznam.sk>
Date:   Thu Jan 13 22:55:25 2022 +0100

    * Patch from Laco, implementing several new properties and extendedfield. to fix issue #39521

M	packages/fcl-db/src/base/db.pas
M	packages/fcl-db/src/base/dsparams.inc
M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit 9a90db79c30e3531034544d757d4f292617ea175
Author: florian <florian@freepascal.org>
Date:   Thu Jan 13 22:51:10 2022 +0100

      * patch by Bart B to fix fpc_val_smallint_shortstr similiar to #39406, resolves #39528

M	rtl/inc/sstrings.inc

******************************************************************************
commit d6a26f2c28a494b068bd21664b84430c6375636b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Jan 13 22:41:01 2022 +0100

    * Remove component from previous owner. Fix issue #39529

M	rtl/objpas/classes/compon.inc

******************************************************************************
commit 42361be2395e47a72edb5b692177203892bbdec2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Jan 13 22:14:46 2022 +0100

    * Add additional parameters to Unzip calls. Fix issue 39530

M	packages/paszlib/src/zipper.pp
A	packages/paszlib/tests/test.zip
A	packages/paszlib/tests/testsingle.lpi
A	packages/paszlib/tests/testsingle.pas

******************************************************************************
commit bb91dadb009f9d8032f1b1ee4c065a0d144911c8
Author: Yuri Silver <yus.serebrennikov@gmail.com>
Date:   Thu Jan 13 15:49:31 2022 +0300

    Added missing units for websocket client example

M	packages/fcl-web/examples/websocket/client/wsclient.lpr

******************************************************************************
commit 894c49ca93d96aa0ca197bc6a2dde4d1c971a016
Author: florian <florian@freepascal.org>
Date:   Wed Jan 12 20:33:59 2022 +0100

      * enable brenchmark to be compiled with -Sh

M	tests/bench/bval.pp

******************************************************************************
commit 8e4e229a5fe9e8086d39bf36d23496794e29fe6f
Author: florian <florian@freepascal.org>
Date:   Tue Jan 11 22:10:26 2022 +0100

      + DestSize parameter for fpc_Val_UInt functions

M	compiler/ninl.pas
M	rtl/inc/astrings.inc
M	rtl/inc/compproc.inc
M	rtl/inc/sstrings.inc
M	rtl/inc/ustrings.inc
M	rtl/inc/wstrings.inc

******************************************************************************
commit 11b069fa615668224bcdd5824eb723faa11f4d9b
Author: florian <florian@freepascal.org>
Date:   Tue Jan 11 22:10:21 2022 +0100

      + test

A	tests/webtbs/tw15633.pp

******************************************************************************
commit fc3b635013d0fd8552b9ae59b092d3697f6a82c5
Author: florian <florian@freepascal.org>
Date:   Tue Jan 11 21:29:00 2022 +0100

      * patch by Bart B to fix the value of Code for unsigned types if the input is negative, resolves #39523

M	rtl/inc/sstrings.inc
A	tests/webtbs/tw39523.pp

******************************************************************************
commit 091e86082dd1043d26fc1be9d1607ed544bb3da0
Author: Yuri Silver <yus.serebrennikov@gmail.com>
Date:   Tue Jan 11 21:01:16 2022 +0300

    Cosmetics changes

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 6347c9d03cc141ac939d09df8d90a35b70e171ce
Author: Yuri <yus.serebrennikov@gmail.com>
Date:   Tue Jan 11 18:44:31 2022 +0300

    All Autobahn testsuite tests passed

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 8386906668afeebf9a06bfd723981b23bd049a28
Author: Yuri <yus.serebrennikov@gmail.com>
Date:   Tue Jan 11 17:38:15 2022 +0300

    UTF-8 support for message.

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 544b58680e3afb95bcf6344daa775a431c1195cd
Author: Yuri Silver <yus.serebrennikov@gmail.com>
Date:   Sat Jan 8 14:50:56 2022 +0300

    Fixed fragmentation of incoming messages.

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit bb49c190afdd16da94cae4c6fdbc1e5ae4f8aa7f
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Jan 9 08:38:21 2022 +0000

    New MOV optimisation that helps reduce instruction count and memory accesses

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 985e8d3d13ae35a53b3353ffe79df261cb8e5680
Author: ccrause <christo.crause@gmail.com>
Date:   Mon Jan 10 21:53:01 2022 +0200

    Remove fall-through logic and separate idf_version checks of esp32 and esp8266. Also warn if idf_version is below the supported range.

M	compiler/pmodules.pas

******************************************************************************
commit 0764158fd11f3ba1a72143f0430e4ccdcb2c0116
Author: florian <florian@freepascal.org>
Date:   Sun Jan 9 18:35:31 2022 +0100

      * reverted TryStrToInt to the old implementation since after the val fixed the changes are not
        needed anymore as pointed out by Bart B

M	rtl/objpas/sysutils/sysstr.inc

******************************************************************************
commit 9d95e6159ef7e9a88b50c751341e789db2e1033b
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Jan 9 13:30:46 2022 +0100

    * fix typo in comment

M	compiler/pass_1.pas

******************************************************************************
commit b5e57a63f5caff23f6a6a6d6dc6d24c3b05d9a3b
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Jan 9 12:29:08 2022 +0100

    + add test for already fixed #22252

A	tests/webtbf/tw22252.pp

******************************************************************************
commit 67a1d52806449c5fa249d2c2b6e84bec4c9f1c6f
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Dec 25 21:44:22 2021 +0000

    JccAdd2SetccAdd modified to make use of GetIntRegisterBetween

M	compiler/cgobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 30166f8eb79bd6a0609cdea2fd91559bd0a7eec6
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Dec 25 21:12:35 2021 +0000

    Procedure-saved registers are now recorded for peephole optimizers to use

M	compiler/cgobj.pas
M	compiler/procinfo.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 62f17711218c65e94e8814fde5ec8efcbc92009a
Author: florian <florian@freepascal.org>
Date:   Sat Jan 8 14:54:18 2022 +0100

      * fix test for improved fpc_Val_SInt_ShortStr

M	tests/tbs/tb0336.pp

******************************************************************************
commit f39a6a775587692103ec6ba1012007224d57c01e
Author: florian <florian@freepascal.org>
Date:   Sat Jan 8 14:45:12 2022 +0100

      * fpc_Val_SInt_ShortStr: bug fixes and improvements by Bart B

M	rtl/inc/sstrings.inc

******************************************************************************
commit 307c284f6a4f6da41c302fa2ed54128de1a10176
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sat Jan 8 12:30:27 2022 +0100

    * fix #39519: apply patch by Julian Puhl to enable OpenAL for Win64

M	packages/Makefile.fpc.fpcmake
M	packages/openal/fpmake.pp

******************************************************************************
commit c3e94051a18038745302b04dd6e1a75fa5153574
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sat Jan 8 00:18:47 2022 +0100

     Use '.rodata' for read-only data section for aarch64 CPU

M	compiler/aggas.pas

******************************************************************************
commit 3b8b549eaa71dad42d2955dca6dbb787cd55cf7a
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Jan 7 22:56:13 2022 +0000

     Fix compilation of the two tests for jvm-android target

M	tests/test/jvm/tprop5.pp
M	tests/test/jvm/tprop6.pp

******************************************************************************
commit 38c06e64c742e269d7b9c01bba5344f12845c4e2
Author: florian <florian@freepascal.org>
Date:   Fri Jan 7 23:43:59 2022 +0100

      * optimze case
      * few formatting changes

M	rtl/inc/sstrings.inc

******************************************************************************
commit 05072d0d82a707444a2847926525a0834d64cefd
Author: florian <florian@freepascal.org>
Date:   Fri Jan 7 23:21:12 2022 +0100

      * updated version by Bart B

M	rtl/inc/sstrings.inc

******************************************************************************
commit 1aed740440643b0fe4a0dfb28d26e2a6cf4aa88d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jan 7 22:06:28 2022 +0100

    Java: adapt FPC_ANSISTR_UNIQUE signature
    
    Conform to change made in 800bb3adc23

M	rtl/java/jastrings.inc

******************************************************************************
commit 4c296af05eccba74d3bd854b6248d56a8efeffdf
Author: florian <florian@freepascal.org>
Date:   Fri Jan 7 19:36:34 2022 +0100

      * reordered condition so they can be evaluated quicker

M	rtl/inc/sstrings.inc

******************************************************************************
commit d29a482cd12ef50734121e4dc7e4c5938c1df5ae
Author: florian <florian@freepascal.org>
Date:   Fri Jan 7 19:19:55 2022 +0100

      * fixes for fpc_Val_SInt_ShortStr by Bart B
      + new test for fpc_Val_SInt_ShortStr
      + benchmark

M	rtl/inc/sstrings.inc
A	tests/bench/bval.pp
A	tests/test/units/system/tval6.pp

******************************************************************************
commit 5a9021c14c39c376b2cf1967989482f0f6bdb4b0
Author: Yuri Silver <yus.serebrennikov@gmail.com>
Date:   Fri Jan 7 20:33:54 2022 +0300

    Control message must not be fragmented.

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit f3a0bdd23222cf281539ec545e4185b971e357a2
Author: Yuri Silver <yus.serebrennikov@gmail.com>
Date:   Fri Jan 7 16:37:29 2022 +0300

    Added processing of reserved opcodes.

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 11ac750e873d31738c2bb344e5e216192c8045e3
Author: Yuri Silver <yus.serebrennikov@gmail.com>
Date:   Fri Jan 7 15:31:58 2022 +0300

    Added reaction for incorrect reserved bits.

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit d5a104f493227253eed8daa13f8b631366bfdccf
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Jan 7 10:25:00 2022 +0000

    Fixed Internal Error 2020120501 number clash

M	compiler/ncginl.pas

******************************************************************************
commit 4966e9376477defcdf6f292a8ef84d2079c7ce41
Author: florian <florian@freepascal.org>
Date:   Fri Jan 7 11:03:30 2022 +0100

      * small fix for ie

M	compiler/x86/cgx86.pas

******************************************************************************
commit 09b763c698a783efadecf81dbfffe6730d9fd2d0
Author: Yuri Silver <yus.serebrennikov@gmail.com>
Date:   Fri Jan 7 05:11:24 2022 +0300

    Websocket server correct work with Ping Pong

M	packages/fcl-web/src/websocket/fpcustwsserver.pp
M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 2460ecb9d9918929c7b3b0e41367811072ab04fb
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Jan 6 23:42:11 2022 +0100

    * Patch from Yuri Silver to read data correctly. fix issue 39517

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit fd54c958c945827151fcc66cf98f4ecf3cd70888
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Jan 5 20:01:05 2022 +0000

    New POPCNT tests to evaluate new optimisations

A	tests/test/opt/tpopcnt1.pp
A	tests/test/opt/tpopcnt2.pp

******************************************************************************
commit 15a5a62eb4a0cd3de7d8eabf394fd1fe93e4633e
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Jan 5 17:41:32 2022 +0000

    New backward MOV optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 33cf86ff9f11e17c1e3dc78cd4fb503e2059193a
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Jan 5 06:08:01 2022 +0000

    PostPeepholeOptTestOr now removes TEST when dealing with POPCNT and LZCNT

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 89f9ebc7b7fed1af0347c9290bc8d657fab8ccb3
Author: florian <florian@freepascal.org>
Date:   Thu Jan 6 21:00:41 2022 +0100

      * throw an error if raise is called in a noreturn subroutine outside of any exception frame, resolves #39514

M	compiler/cclasses.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pstatmnt.pas
M	compiler/verbose.pas
A	tests/tbf/tw39514.pp

******************************************************************************
commit de97010011d3658208c86c26a044af971add34f6
Author: ccrause <christo.crause@gmail.com>
Date:   Thu Jan 6 17:41:57 2022 +0200

    Add libraries required to link simple example with esp8266-rtos-sdk v3.3

M	rtl/freertos/xtensa/esp8266rtos_30300.pp

******************************************************************************
commit 07d298d23b8216d64dedb129267a667272e49d22
Author: Yuri <yus.serebrennikov@gmail.com>
Date:   Thu Jan 6 16:47:56 2022 +0300

    Cosmetic changes

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 58e9d7c6477268f6e55629cbe45264631243644b
Author: Yuri <yus.serebrennikov@gmail.com>
Date:   Thu Jan 6 16:43:21 2022 +0300

    Added reason for closing the connection.

M	packages/fcl-web/src/websocket/fpcustwsserver.pp
M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit c83c89128a4d97154b2d23a01f82d354df5d435c
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Jan 6 14:26:15 2022 +0100

     Update fpcmake.inc after addition of aarch64-embedded target

M	utils/fpcm/fpcmake.inc

******************************************************************************
commit 3cfd40a4d38ed6e23b452abfa6ce982601a177e7
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Jan 6 13:22:57 2022 +0000

     Add unit dependencies for arm and aarch64 specific units

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc

******************************************************************************
commit e8bf3817021d50f76f41f4f1ce4aef34b422144b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Jan 6 13:16:23 2022 +0100

    pas2js: compileserver: set default port 3000

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit a5811a35a91f955918edf249650b67fd7d8e3dad
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Jan 6 10:05:24 2022 +0100

    * Add options to request

M	packages/fcl-js/examples/convcgi.lpr

******************************************************************************
commit aa82a2e446bfe225d41400d5784a1092ca905754
Author: Yuri <yus.serebrennikov@gmail.com>
Date:   Thu Jan 6 01:12:50 2022 +0300

    Typecasting to int64 type fixes the exception.

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 5944631246cabaebdaab78e5ac36426b7e2ea51e
Author: ccrause <christo.crause@gmail.com>
Date:   Wed Jan 5 23:07:09 2022 +0200

    Add help message for xtensa-freertos -WP option

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 0b2a58027c3171a3ba2962d472653e2f8839e1f2
Author: florian <florian@freepascal.org>
Date:   Wed Jan 5 21:01:39 2022 +0100

      * powerpc64-linux: unused assembler loader files removed

M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
D	rtl/linux/powerpc64/cprt0.as
D	rtl/linux/powerpc64/dllprt0.as
D	rtl/linux/powerpc64/gprt0.as
D	rtl/linux/powerpc64/prt0.as

******************************************************************************
commit 4ef8ae2a63551ec34ca2fc8a60be645e3cdd9810
Author: florian <florian@freepascal.org>
Date:   Wed Jan 5 21:00:58 2022 +0100

      * updated revision after 53e5a4a0

M	utils/fpcm/revision.inc

******************************************************************************
commit 644263277fe49d9be901527f02d8aa0170c840a2
Author: florian <florian@freepascal.org>
Date:   Wed Jan 5 20:52:35 2022 +0100

      * clean up of assembler files not used anymore

M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
D	rtl/linux/x86_64/cprt0.as
D	rtl/linux/x86_64/dllprt0.as
D	rtl/linux/x86_64/gprt0.as
D	rtl/linux/x86_64/prt0.as

******************************************************************************
commit e26b29888565c291d9d1bb80a99d02ff28aea1b3
Author: florian <florian@freepascal.org>
Date:   Wed Jan 5 19:50:01 2022 +0100

      * patch by Rika: Better Align()'s #2, resolves #39512

M	compiler/ogbase.pas

******************************************************************************
commit abee4d46b668e5985ca49f3bcf5dc2b53e244f7f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Jan 5 16:41:22 2022 +0000

     Ignore NR_DEFAULTFLAGS for ait_regalloc, because there is no default flags for JVM

M	compiler/jvm/rgcpu.pas

******************************************************************************
commit c06a3f2ca3254b39718b1ea69653d231a0e8accb
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Jan 5 16:38:54 2022 +0000

     Avoid range check error inside tcgcasenode.pass_generate_code method

M	compiler/ncgset.pas

******************************************************************************
commit 86c097086a23476a6a7cf73d28bddee86039cb5c
Author: Robert Roland <rob.roland@outlook.com>
Date:   Sun Jan 2 13:32:39 2022 -0800

    Additional copyright header

M	compiler/aarch64/naarch64util.pas

******************************************************************************
commit 2a8c2c4382222c3a7be8eaee74153ee40ca8c8fe
Author: Robert Roland <rob.roland@outlook.com>
Date:   Sun Jan 2 13:09:51 2022 -0800

    Add license headers

M	rtl/embedded/aarch64/gpio.pp
M	rtl/embedded/aarch64/mailbox.pp
M	rtl/embedded/aarch64/mmio.pp
M	rtl/embedded/aarch64/raspi3.pp
M	rtl/embedded/aarch64/raspiuart.pp

******************************************************************************
commit 53e5a4a03a6f802a5ee2217d326eb4f5af87bc5c
Author: Robert Roland <rob.roland@outlook.com>
Date:   Sun Dec 5 20:24:57 2021 -0800

    Adding aaarch64-embedded target
    
    This adds support for aarch64-embedded, specifically for the Raspberry Pi 3.
    
    Uses UART0 at 115200 baud 8N1 for console IO.

M	Makefile
M	compiler/Makefile
M	compiler/aarch64/a64reg.dat
M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cpuinfo.pas
M	compiler/aarch64/cpunode.pas
M	compiler/aarch64/cputarg.pas
A	compiler/aarch64/naarch64util.pas
M	compiler/aarch64/ra64con.inc
M	compiler/aarch64/ra64dwa.inc
M	compiler/aarch64/ra64nor.inc
M	compiler/aarch64/ra64num.inc
M	compiler/aarch64/ra64rni.inc
M	compiler/aarch64/ra64sri.inc
M	compiler/aarch64/ra64sta.inc
M	compiler/aarch64/ra64std.inc
M	compiler/aarch64/ra64sup.inc
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/systems/i_embed.pas
M	compiler/systems/t_embed.pas
M	compiler/utils/Makefile
M	compiler/utils/ppuutils/ppudump.pp
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-hash/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gitlab/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
A	rtl/embedded/aarch64/gpio.pp
A	rtl/embedded/aarch64/mailbox.pp
A	rtl/embedded/aarch64/mmio.pp
A	rtl/embedded/aarch64/raspi3.pp
A	rtl/embedded/aarch64/raspiuart.pp
M	rtl/embedded/system.cfg
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcm/fpcmake.ini
M	utils/fpcm/fpcmmain.pp
M	utils/fpcm/revision.inc
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit b2f46586bc891aeb335b4b8ddac048fa0d204cbd
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jan 5 13:19:09 2022 +0100

    * Fix warnings & hints, use resourcestrings, add const where appropriate

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/src/jstoken.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tctsparser.pp

******************************************************************************
commit 8362ee0e5f818a1b5ddb2d0b090676d412ceb360
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jan 5 12:58:08 2022 +0100

    * Add aliases

M	packages/fcl-js/examples/cgutils.pp

******************************************************************************
commit ebdb90b1a5788b56d4a0396cef9a0f83c40b04ab
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jan 5 12:57:42 2022 +0100

    * Remove debugging statements

M	packages/fcl-js/examples/convcgi.lpr

******************************************************************************
commit 9e710e298c5952cee4fae64d2408038cda4a1298
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jan 5 12:57:08 2022 +0100

    * Use resource strings, add const to string params where appropriate

M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/src/tstopas.pp

******************************************************************************
commit 749c8110b6a41765f5548efa76e4565a9b7e29e7
Author: Yuri <yus.serebrennikov@gmail.com>
Date:   Wed Jan 5 12:42:30 2022 +0300

    Fixed error if payload = 0

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit 045472a5e7e2535a449abf8f38e3888789db48dc
Author: Yuri <yus.serebrennikov@gmail.com>
Date:   Wed Jan 5 12:18:46 2022 +0300

    The disconnect event is now called once instead of three.

M	packages/fcl-web/src/websocket/fpwebsocket.pp

******************************************************************************
commit ea345f34aac81046f9865da1186024615e10a85d
Author: ccrause <christo.crause@gmail.com>
Date:   Wed Jan 5 08:52:37 2022 +0200

    Use different library link lists for esp8266-rtos-sdk v3.3 and v3.4.

M	compiler/pmodules.pas
M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc
M	rtl/freertos/xtensa/esp8266.pp
A	rtl/freertos/xtensa/esp8266rtos_30300.pp
A	rtl/freertos/xtensa/esp8266rtos_30400.pp

******************************************************************************
commit 73529f5266940b416f6c943e1c372e1a1454f034
Author: Yuri <yus.serebrennikov@gmail.com>
Date:   Wed Jan 5 11:21:57 2022 +0300

    Added a connection event when clients connect to the server.

M	packages/fcl-web/src/websocket/fpwebsocketserver.pp

******************************************************************************
commit 52549439fa4a7cdef77c214ddd7fbb107dfddf04
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jan 5 01:37:19 2022 +0100

    * Cosmetic change

M	packages/fcl-base/src/pascodegen.pp

******************************************************************************
commit 60a09b65f4d23ebc2a5315cc530cf271c2b3cc58
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Jan 5 01:36:04 2022 +0100

    * DefinitelyTyped now converts

A	packages/fcl-js/examples/cgutils.pp
A	packages/fcl-js/examples/convcgi.lpr
A	packages/fcl-js/examples/dts2pas.pp
M	packages/fcl-js/examples/parsefiles.pas
A	packages/fcl-js/examples/web.inc
M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/tstopas.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcscanner.pp
M	packages/fcl-js/tests/tctsparser.pp
M	packages/fcl-js/tests/tctstopas.pp
M	packages/fcl-js/tests/testjs.lpi

******************************************************************************
commit 52ed79c7f3e943129171327dda6d651d83649a35
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Tue Jan 4 23:41:38 2022 +0100

    * fix #39506: add assignment operator overloads for all string types so that assignments of constant strings can be handled correctly
    + added adjusted/extended test (the test isn't enabled by default however as it requires libffi on most platforms)

M	packages/rtl-objpas/src/inc/rtti.pp
A	tests/webtbs/tw39506.pp

******************************************************************************
commit 3cf00af48df50812ef32e8bbb82eb57f5edfa61d
Author: florian <florian@freepascal.org>
Date:   Tue Jan 4 16:12:17 2022 +0100

      * compilation with -Oodfa fixed

M	compiler/optutils.pas

******************************************************************************
commit 2b7c28e41a496cb86ca5b59bdb64596c0bcb3fa0
Author: florian <florian@freepascal.org>
Date:   Tue Jan 4 16:03:39 2022 +0100

      * (modified) patch by Rika: optutils.SetNodeSucessors improvement, resolves #39509

M	compiler/optutils.pas

******************************************************************************
commit 50a37d00e78c9b51b6eda868fd28baac87361d1f
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Jan 4 00:55:59 2022 +0000

    Debugging code in AllocRegBetween is now safer and more accurate, and p2 can no longer be nil

M	compiler/aoptobj.pas

******************************************************************************
commit 3a1efb7c07537638c87911829871697b9a9b1e7a
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Jan 4 12:31:59 2022 +0100

     Enable rtti unit compilation for symbian OS, to fix failure in fcl-json

M	packages/rtl-objpas/fpmake.pp

******************************************************************************
commit 1c9280de560b65d02f03a4f1ee22df37a45084f9
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Jan 4 11:14:58 2022 +0000

    Add wasm32 CPU handling in embedded target

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
M	rtl/embedded/system.cfg

******************************************************************************
commit b02b3b79b4312768194b5f7fbb7dc8b58e67765e
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Jan 4 11:13:49 2022 +0000

     Remove sortalgs unit for wasm32 CPU instead of only wasi target, as it is the wasm32 cpu that does not support gotos

M	packages/rtl-extra/fpmake.pp

******************************************************************************
commit 4aebfe97a95cd9b3dfb331f1329854e37691ae0e
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Mon Jan 3 22:50:10 2022 +0100

      + x86: ADXSupport
      + x86: RDSEEDSupport

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/units/cpu/tcpu1.pp

******************************************************************************
commit 983fbff8711a8c625e494a981891a90d47847e14
Author: florian <florian@freepascal.org>
Date:   Sun Jan 2 21:46:14 2022 +0100

      * proper range checking for TryStrToDWord, should resolve all issues in #39406

M	rtl/objpas/sysutils/sysstr.inc
A	tests/webtbs/tw39406.pp

******************************************************************************
commit 435f3a9fe2ff52fb4f3c49dce72d34798fa40121
Author: florian <florian@freepascal.org>
Date:   Sun Jan 2 21:33:01 2022 +0100

      * allow a range of Low(Longint) to High(DWord) in TryStrToInt, see also issue #39406
      * moved test

M	rtl/objpas/sysutils/sysstr.inc
R100	tests/webtbs/tw8177.pp	tests/test/units/sysutils/tstrtoint.pp

******************************************************************************
commit 2a93e65511cc09cd0723e63fd74e88f693a1c140
Author: florian <florian@freepascal.org>
Date:   Sun Jan 2 13:12:33 2022 +0100

      * seperator => separator

M	compiler/arm/armreg.dat
M	compiler/arm/cgcpu.pas
M	compiler/globals.pas
M	compiler/globtype.pas
M	compiler/hlcgobj.pas
M	compiler/ngenutil.pas
M	compiler/scanner.pas
M	compiler/utils/ppuutils/ppudump.pp
M	rtl/inc/text.inc
M	rtl/objpas/sysutils/datih.inc
M	tests/tbf/tb0287.pp
M	tests/tbf/tb0288.pp
M	tests/tbf/tb0289.pp
M	tests/tbf/tb0290.pp
M	tests/tbs/tb0690.pp

******************************************************************************
commit d2447026de4165b06c574c99f54f6f646b897d88
Author: florian <florian@freepascal.org>
Date:   Sat Jan 1 23:26:48 2022 +0100

      + modeswitch UNDERSCOREISSEPERATOR, active by default in delphi modes:
        support _ as seperator in numbers, it is ignored while reading them, resolves #39504

M	compiler/globals.pas
M	compiler/globtype.pas
M	compiler/scanner.pas
M	compiler/utils/ppuutils/ppudump.pp
A	tests/tbf/tb0286.pp
A	tests/tbf/tb0287.pp
A	tests/tbf/tb0288.pp
A	tests/tbf/tb0289.pp
A	tests/tbf/tb0290.pp
A	tests/tbs/ib0690.inc
A	tests/tbs/tb0690.pp
A	tests/tbs/tb0691.pp

******************************************************************************
commit 116c861af6c13f6d3d0d0d91b6dc4e0c1eb88550
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Dec 27 16:18:13 2021 +0000

    MOV/CMP optimisation is now in both Pass 1 and Pass 2 to catch more
    eventualities

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 769aeaae03f9eae322270f5800bf409e73fbbd2e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Dec 31 12:45:56 2021 +0100

    * Add linking examples, change pcchar to pchar

M	packages/wasmtime/examples/gcd.lpi
M	packages/wasmtime/examples/gcd.pp
M	packages/wasmtime/examples/helloworld.pp
A	packages/wasmtime/examples/linking.lpi
A	packages/wasmtime/examples/linking.pp
A	packages/wasmtime/examples/linking1.wat
A	packages/wasmtime/examples/linking2.wat
M	packages/wasmtime/examples/memory.lpi
M	packages/wasmtime/examples/memory.pp
M	packages/wasmtime/src/wasmtime.pp

******************************************************************************
commit bb182470a563483803883b01f1a9b4ea3cd7d0fc
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Dec 30 18:46:25 2021 +0100

    * Prepend T when writing pointer types and PrependTypes is set

M	utils/h2pas/h2pas.pas
M	utils/h2pas/h2pas.y

******************************************************************************
commit f590e65c7b45c8b5c559574decca3eec95b39c13
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Dec 30 18:40:08 2021 +0100

    * out and var are reserved words

M	utils/h2pas/h2pas.pas
M	utils/h2pas/h2pas.y

******************************************************************************
commit e091d263c84890f64ca8353fa837c4fd7eb94c37
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Dec 30 16:33:14 2021 +0100

    * Wasmtime support

M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc
A	packages/wasmtime/Makefile
A	packages/wasmtime/Makefile.fpc
A	packages/wasmtime/examples/gcd.lpi
A	packages/wasmtime/examples/gcd.pp
A	packages/wasmtime/examples/gcd.wat
A	packages/wasmtime/examples/hello.wat
A	packages/wasmtime/examples/helloworld.lpi
A	packages/wasmtime/examples/helloworld.pp
A	packages/wasmtime/examples/helloworld.wasm
A	packages/wasmtime/examples/memory.lpi
A	packages/wasmtime/examples/memory.pp
A	packages/wasmtime/examples/memory.wat
A	packages/wasmtime/examples/wasi.lpi
A	packages/wasmtime/examples/wasi.pp
A	packages/wasmtime/fpmake.pp
A	packages/wasmtime/src/wasmtime.pp

******************************************************************************
commit b6ba87bed489e5eedaf9cc7e84b938a5c700293d
Author: Joost van der Sluis <joost@cnoc.nl>
Date:   Thu Dec 30 01:34:41 2021 +0100

     * Add Ant/JUnit alike XML test-output format

M	packages/fcl-fpcunit/fpmake.pp
M	packages/fcl-fpcunit/src/consoletestrunner.pas
A	packages/fcl-fpcunit/src/junittestreport.pp

******************************************************************************
commit 25eab57a582a022f3336e052971fd56d9d3cbfd9
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Wed Dec 29 15:37:20 2021 +0100

      * allow %... for binary constants in delphi mode, resolves #39503

M	compiler/scanner.pas
R089	tests/tbf/tb0067.pp	tests/tbs/tb0689.pp

******************************************************************************
commit c9b988e146512169f283172b60cd97b278fcfcfb
Author: Yuri <yus.serebrennikov@gmail.com>
Date:   Tue Dec 28 22:16:37 2021 +0000

    Checking the protocol version for websocket is not required on the client side.

M	packages/fcl-web/src/websocket/fpwebsocketclient.pp

******************************************************************************
commit dde8f54ee70849c6a179f126f085c6dcc5eff9eb
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Tue Dec 28 17:05:26 2021 +0100

      + LZCNTSupport
      + test extended

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/units/cpu/tcpu1.pp

******************************************************************************
commit a18e75eaffb2bea2784a87bb957205510715fe81
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 16:12:30 2021 +0100

    * Some cleanup, add file headers

M	packages/fcl-web/examples/jsonrpc/rtti/demorpcrtti.lpr
M	packages/fcl-web/examples/jsonrpc/rtti/dmrpc.pp
M	packages/fcl-web/examples/jsonrpc/rtti/myapi.pp
M	packages/fcl-web/examples/jsonrpc/rtti/rpcapi.pp
M	packages/fcl-web/examples/jsonrpc/rtti/rttirpc.lpg

******************************************************************************
commit c944484e66a3c67e92ae1a87b2329f98ea73e65a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 16:08:58 2021 +0100

    * Some clarifying comments

M	packages/fcl-web/examples/jsonrpc/rtti/jsonrpcclient.pp

******************************************************************************
commit fa7d3d845b8bc4fa7335ed3f5ef73b697c35a3ec
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 16:08:11 2021 +0100

    * Some clarifying comments

M	packages/fcl-web/examples/jsonrpc/rtti/rpcclient.lpr

******************************************************************************
commit 2f23239ebd4719b743e8b7549e30639c9479faaf
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 16:07:40 2021 +0100

    * Move resourcestrings to single unit

M	packages/fcl-web/fpmake.pp
M	packages/fcl-web/src/jsonrpc/fpextdirect.pp
M	packages/fcl-web/src/jsonrpc/fpjsonrpc.pp
M	packages/fcl-web/src/jsonrpc/fprpcclient.pp
M	packages/fcl-web/src/jsonrpc/fprpcrtti.pp
A	packages/fcl-web/src/jsonrpc/fprpcstrings.pp
M	packages/fcl-web/src/jsonrpc/webjsonrpc.pp

******************************************************************************
commit 036aea025d8f7852098fd49e4eef17de00fc6cf0
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 15:46:30 2021 +0100

    * build json-rpc using invoke

M	packages/fcl-web/fpmake.pp

******************************************************************************
commit 12616f657973a62154454c10ddf1b1396b808ca1
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 15:42:01 2021 +0100

    * JSON-RPC using Invoke

A	packages/fcl-web/examples/jsonrpc/rtti/README.md
A	packages/fcl-web/examples/jsonrpc/rtti/demorpcrtti.lpr
A	packages/fcl-web/examples/jsonrpc/rtti/dmrpc.lfm
A	packages/fcl-web/examples/jsonrpc/rtti/dmrpc.pp
A	packages/fcl-web/examples/jsonrpc/rtti/jsonrpcclient.pp
A	packages/fcl-web/examples/jsonrpc/rtti/myapi.pp
A	packages/fcl-web/examples/jsonrpc/rtti/rpcapi.pp
A	packages/fcl-web/examples/jsonrpc/rtti/rpcclient.lpr
A	packages/fcl-web/examples/jsonrpc/rtti/rttirpc.lpg
A	packages/fcl-web/src/jsonrpc/fprpcclient.pp
A	packages/fcl-web/src/jsonrpc/fprpcrtti.pp

******************************************************************************
commit baec255bbc8fc6eb7378c142148fa375398e35bc
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 15:30:19 2021 +0100

    * fpjsonvalue unit to convert between TValue (RTTI unit) and JSON

M	packages/fcl-json/fpmake.pp
A	packages/fcl-json/src/fpjsonvalue.pp

******************************************************************************
commit 7d4844919bdb8776c21da2822effe27873885eaa
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 15:26:37 2021 +0100

    * Initialize APIRequestName

M	packages/fcl-web/src/jsonrpc/webjsonrpc.pp

******************************************************************************
commit 2be3978bb446ced6857ab18fe0cd186f6fafe217
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 15:26:11 2021 +0100

    * Some fixes & improvements

M	packages/fcl-web/src/jsonrpc/fpjsonrpc.pp

******************************************************************************
commit b46f361d91683b19af2ba8ef60826e47b2643126
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 15:25:20 2021 +0100

    * Fix compiler warnings

M	packages/fcl-web/src/jsonrpc/fpextdirect.pp

******************************************************************************
commit 8360b180972a70af23e57128fe54bc0e451b481e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 28 15:24:48 2021 +0100

    * Position stream on start

M	packages/fcl-web/src/base/fpwebclient.pp

******************************************************************************
commit 2f82a084e838f90ed5329f707ea98d7e9908ff82
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Tue Dec 28 15:50:34 2021 +0100

    rtl-console: quickfix for Amiga UpdateScreenArea() so it properly updates multiple lines

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit cbc8aa63c83df4e16635b26e479c508229428e07
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Dec 27 15:13:37 2021 +0100

    rtl/amiga: added minimalistic #?.<ext> and *.<ext> pattern matching to legacy MatchFirst

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit 50572fda8cdbe8ac3199ffbc22588dd7c7d0e372
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Dec 27 15:10:02 2021 +0100

    rtl/amiga: fixed the FileInfoBlock copy to the Anchor chain which broke recently with the alignment fixes

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit 3608be8f13b3d90bd8bfbc2707ac485c9cfd4d99
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Dec 27 13:07:09 2021 +0100

    rtl/amiga: added some basic infrastructure to MatchFirst to improve pattern matching in the future

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit 98dd448ce849325373057ad5713f96edf7492bee
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Dec 27 12:09:57 2021 +0100

    rtl/amiga: make sure FileInfoBlock used by legacy MatchFirst is longword aligned

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit 08f3a3c8ef460fd5bb326c0b74f3fe16ab4dd7bc
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Dec 27 12:00:32 2021 +0100

    rtl/amiga: do not UnLock the initial lock returned by CurrentDir in legacy MatchFirst

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit 27e9377a3a7b3b90457d79f4d7a9e65785fee186
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Dec 27 11:52:01 2021 +0100

    rtl/amiga: in legacy MatchFirst, revert back to the original directory if we used CurrentDir(0), otherwise MatchFirst() will change the directory to SYS: (0 lock is a shortcut to the boot volume)

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit 8a63e7ee5a34f8dfe2f412fd218dbea3d3df9e73
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Dec 27 11:42:48 2021 +0100

    * Fix compiler hints

M	packages/fcl-web/src/restbridge/sqldbrestcds.pp
M	packages/fcl-web/src/restbridge/sqldbrestdata.pp
M	packages/fcl-web/src/restbridge/sqldbrestio.pp
M	packages/fcl-web/src/restbridge/sqldbrestjson.pp
M	packages/fcl-web/src/restbridge/sqldbrestxml.pp

******************************************************************************
commit d362d47e88aa2dddbcd35c371a92e5014cca5a02
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Dec 27 11:41:54 2021 +0100

    * Fix memleak and compiler hints

M	packages/fcl-web/src/restbridge/sqldbrestbridge.pp

******************************************************************************
commit 11d2960db868d02757ae8810018dc661db034fe6
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Dec 27 11:41:29 2021 +0100

    * Fix memleak

M	packages/fcl-web/src/base/httproute.pp

******************************************************************************
commit db39d1a4e4af8d543db22dbf85abc1c0e4dc522e
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Dec 26 22:25:28 2021 +0100

    rtl-console: use videoDefaultFlags variable on Amiga for WA_Flags. disable smartrefresh in full screen, also respect the FPC_VIDEO_SIMPLEREFRESH env var

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit c01c13c29aacf5e1475d1e3438bc4c699c1ab9a9
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Dec 26 22:22:38 2021 +0100

    amunits: added missing WA_Borderless handling to the OpenWindow taglist handling legacy support code

M	packages/amunits/src/coreunits/intuition.pas

******************************************************************************
commit 1f41cd195fd8f3a73c3a3a5c17f62d51c720b3f6
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Dec 26 21:28:15 2021 +0100

    amunits: added missing WA_Activate handling to the OpenWindow taglist handling legacy support code

M	packages/amunits/src/coreunits/intuition.pas

******************************************************************************
commit 6146aa6eb6d9ce9906aa14fc80cfb9446d74479d
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Dec 26 20:37:29 2021 +0100

    rtl-console/amicommon: set the window's UserPort to nil before closing, as recommended

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 539f2cd7f095b616b6452f1fcc4aa3635d99fb57
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Dec 26 20:35:11 2021 +0100

    amunits: in agraphics legacy support, use ExecFreeMem (OS call) instead of FreeMem (RTL call) to free the Bitmap which was created using ExecAllocMem

M	packages/amunits/src/coreunits/agraphics.pas

******************************************************************************
commit 53a67b34b53bec3ca526da2ddd70c69488d69556
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Dec 26 17:31:39 2021 +0100

    rtl/amiga: add support for OSHeap, now default in legacy mode, optional define otherwise

M	rtl/amiga/system.pp

******************************************************************************
commit 273a598be86b5bc65f23c36eae35e88356389a28
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Dec 26 17:22:11 2021 +0100

    * Amiga-likes: set some sensible heapsize defaults, for OSHeap support

M	compiler/options.pas

******************************************************************************
commit 8609c0803e592a3e9cf2ab9c2fbf567fdbc750ab
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Dec 22 17:48:05 2021 +0000

    Fixed MovxOp2Op failing on i386 due to lack of register check

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1e37eef3d240ff422ad2f92ea9cab6ebdc8391c4
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Dec 26 16:36:16 2021 +0100

    * use an anonymous symbol for the record operator table as its typing is different for each incarnation anyway

M	compiler/ncgrtti.pas
M	compiler/symconst.pas

******************************************************************************
commit c298c0e0dadb96a99040b766091784831dd9d6f1
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sun Dec 26 15:56:34 2021 +0100

    rtl/osheap: fixed a dumb reversed condition in osheap/SysAllocMem()

M	rtl/inc/osheap.inc

******************************************************************************
commit b54068d1a457de5db08ca831f0edd5470c23fa71
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Sun Dec 26 11:35:22 2021 +0100

    * libffi: fix abi declarations for x86_64

M	packages/libffi/src/ffi.pp

******************************************************************************
commit 00f4aeb39b84e5a291310697064904d10e6d0313
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 24 23:30:33 2021 +0100

    * i386 invoke implementation: check the correct argument in the second pass

M	packages/rtl-objpas/src/i386/invoke.inc

******************************************************************************
commit e95572921a85a84f64ce4864544d549ad0ef5b50
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 24 23:29:34 2021 +0100

    * i386 callback implementation: only skip the result argument if it was detected as one from the parameters

M	packages/rtl-objpas/src/i386/invoke.inc

******************************************************************************
commit bf37616514079e814312ee72de65262d2b869194
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 24 14:47:01 2021 +0100

    + add TValue.FromArray to create a TValue type for a static or dynamic array from an array of TValues
    + added test

M	packages/rtl-objpas/src/inc/rtti.pp
M	packages/rtl-objpas/tests/tests.rtti.pas

******************************************************************************
commit caaed25f182e46f839ce4af7756f82bace100942
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 24 13:59:58 2021 +0100

    + add Rtti types for static and dynamic arrays
    + added tests

M	packages/rtl-objpas/src/inc/rtti.pp
M	packages/rtl-objpas/tests/tests.rtti.pas

******************************************************************************
commit f1059679a17d87904455790fe16110cd51c1692f
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 24 13:56:34 2021 +0100

    * move initialization of TValue to a separate method to avoid duplicate implementations

M	packages/rtl-objpas/src/inc/rtti.pp

******************************************************************************
commit 322d91758cf08e72cb41949a60a383e7dab69620
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 24 13:53:04 2021 +0100

    + add Handle property to access the TypeInfo pointer of the TRttiType

M	packages/rtl-objpas/src/inc/rtti.pp

******************************************************************************
commit f74a6abccfb416d7235a46258d28001320ff306e
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 24 23:31:12 2021 +0100

    * fixup

M	packages/rtl-objpas/src/inc/rtti.pp

******************************************************************************
commit f9567ff50e62cc7487455323ca5331745f270dd9
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 24 13:52:03 2021 +0100

    * TMethodImplementation.HandleCallback: fix building the argument array if the result is passed in a parameter

M	packages/rtl-objpas/src/inc/rtti.pp

******************************************************************************
commit bc46d8f33a4caacf63a81a8b4bba8afa0ed4ab5c
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 24 13:49:48 2021 +0100

    * x86_64 Win64 callback implementation: fix building the argument array if the result is passed as a parameter

M	packages/rtl-objpas/src/x86_64/invoke.inc

******************************************************************************
commit 5a8434234869887dae77479507af8bdc94c11cf0
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Dec 25 23:31:20 2021 +0100

    * rtl-console: fix ; in the previous commit

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit d3de4b59512915d19f7f06dcdb3a836ad6816feb
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Dec 25 23:16:36 2021 +0100

    * rtl-console: generalized the partial screen update feature which was added to Amiga. the function was renamed to UpdateScreenArea(). it's still an empty call on other platforms, that falls back to UpdateScreen() but the infrastructure is now there to support it.

M	packages/rtl-console/src/amicommon/video.pp
M	packages/rtl-console/src/go32v2/video.pp
M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/inc/videoh.inc
M	packages/rtl-console/src/msdos/video.pp
M	packages/rtl-console/src/netware/video.pp
M	packages/rtl-console/src/netwlibc/video.pp
M	packages/rtl-console/src/os2commn/video.pp
M	packages/rtl-console/src/unix/video.pp
M	packages/rtl-console/src/win/video.pp
M	packages/rtl-console/src/win16/video.pp

******************************************************************************
commit f289f2694ab837b414aa131a0514c56fee4950bc
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Dec 24 04:12:20 2021 +0000

    x86: Additions to OptPass2Movx to better synergise with new CMP optimisation under -O2

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 683a92bcc8d791f4f23fde8205229b382dd8fec8
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Dec 24 01:41:09 2021 +0000

    i386: Correction to GetIntRegisterBetween to ensure we only get 8-bit registers that we can actually encode

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1da7ce46de3829225c6c50d831656e46109ec7d7
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Dec 24 01:31:48 2021 +0000

    x86: New double CMP optimisation to remove a branch

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 781b2d0a80db394bfcb6ad42d75549a32b360cb4
Author: florian <florian@freepascal.org>
Date:   Sat Dec 25 20:01:32 2021 +0100

      * patch by Rika: second part of #39496, resolves #30496
      + extended test

M	rtl/inc/generic.inc
M	tests/test/units/system/talign.pp

******************************************************************************
commit abc4a0a4e6ef0c0622bf155edba8c8394fdec95c
Author: florian <florian@freepascal.org>
Date:   Sat Dec 25 19:37:27 2021 +0100

      * patch by Rika: another improvement of cutils.newalignment, part of #39496

M	compiler/cutils.pas

******************************************************************************
commit c0979bbc0cbc6497c29b608fba5565f81a7228c2
Author: florian <florian@freepascal.org>
Date:   Sat Dec 25 19:06:37 2021 +0100

      * TObject.InitInstance got very big so inlining has no advantage anymore, resolves #39494

M	rtl/inc/objpas.inc
M	rtl/inc/objpash.inc

******************************************************************************
commit cafd708b6d862776b7454e1b229f3134ccde5009
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Dec 25 01:37:54 2021 +0000

    Refactoring of OptPass2Movx to remove goto

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9894fe8082531f80de22c5dab342104b800d789a
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Dec 25 16:42:00 2021 +0100

    * rtl-console: on Amiga added a custom screen update call, to do partial screen updates. doing a full update can be very slow on low-end systems (checking the entire screen buffer every time), so software tuned for these can now request partial updates, when the updated already is already known

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 22cd8d5d62ca165e36c6fe39c9054d18322e51f5
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Dec 25 03:15:44 2021 +0000

    Fixed bug in MovxMovx2Movx optimisation that would specify a 64-bit destination instead of 32-bit one

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4fe5e53fcc6236fa44441dcba69cc2d274febd3c
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Dec 25 13:21:40 2021 +0100

    * rtl-console: on Amiga, remove the initial testing of the buffer for changes. it just slowed things down with frequent partial updates, especially on low-end processors with limited or no data cache

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit cc7c328a7cf5b236e53c26b6b517fee0006f45a1
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Dec 25 13:17:34 2021 +0100

    * rtl-console: slight refactor of how Amiga SysUpdateScreen() addresses the videobuf. this results in slightly more optimal code with less complex addressing, which helps low-end processors

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 5264e48d90a97e2dcfc5410410d60c1ecc14a824
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Sat Dec 25 13:13:26 2021 +0100

    * rtl-console: always compile Amiga KVM units in OBJFPC mode. This makes it easier to compile these units outside of this package

M	packages/rtl-console/src/amicommon/keyboard.pp
M	packages/rtl-console/src/amicommon/mouse.pp
M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit ab969e0a9b19820e57fedc21d18e0e1335e74949
Author: florian <florian@freepascal.org>
Date:   Thu Dec 23 22:00:26 2021 +0100

      * patch by Rika: improve ctuils.newalign/align, part of #39496

M	compiler/cutils.pas

******************************************************************************
commit b4c8c1da12f2aa006862bb1212ae540521604ca1
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Dec 22 03:34:49 2021 +0000

    Overflow bug fixes to MovZX/SX optimisations when CMP instructions are encountered.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6dbe71cd3000e8d396fe2a05e8e2f74d0c012f81
Author: florian <florian@freepascal.org>
Date:   Wed Dec 22 22:54:11 2021 +0100

      * TX86AsmOptimizer.OptPass1MOVXX should search only over other instructions if it works with registers only

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6147d6d8a02903b1a11d36424dd53b229aacee6d
Author: florian <florian@freepascal.org>
Date:   Tue Dec 21 22:45:32 2021 +0100

      * compilation with i386 fixed

M	compiler/x86/aoptx86.pas

******************************************************************************
commit ebd7bb7cb9179937428809e2337f79153ab5bcdb
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 21 19:17:21 2021 +0100

    * Create API description as Pascal

M	packages/fcl-web/src/jsonrpc/fpjsonrpc.pp
M	packages/fcl-web/src/jsonrpc/webjsonrpc.pp

******************************************************************************
commit bd777877124f84665d133944b585e1708b7c7c29
Author: Michael Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 21 16:07:00 2021 +0100

    * Fix from Дмитрий Ворошин, fix issue #39495

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit e6fe075a425b2463204fb4593e2b90b00fe392c2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 21 15:11:17 2021 +0100

    * Patch from Henrique Werlan, correctly fetch RTTI info for external classes (pas2js issue 38943)

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit a16449c54e344c4cbcb7a87cfa3653e417aa0b3a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 21 15:01:14 2021 +0100

    * Fix from Henrique Werlang, use safename when writing pascal code (pas2js issue 39196)

M	packages/fcl-passrc/src/paswrite.pp

******************************************************************************
commit b00fdb72059306064217faf72a99cd3e315515ab
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Dec 21 12:34:50 2021 +0200

    * ptcpas keyboard handling improvements for macOS and X11

M	packages/ptc/examples/keyboard3.pp
M	packages/ptc/src/cocoa/cocoaconsolei.inc
M	packages/ptc/src/core/keyeventd.inc
M	packages/ptc/src/x11/x11displayi.inc

******************************************************************************
commit 8ee49ef93094fe52b7ab3d496d0d91e4cc01b805
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Dec 20 23:55:14 2021 +0100

    * Patch from Werner Pamler to fix issue #39493

M	packages/fcl-db/src/datadict/fpdddbf.pp

******************************************************************************
commit d083cc7247bbc6895eded5624933114d1e90c50c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Dec 7 18:37:21 2021 +0000

    New MovxAndTest2Test optimisation to mirror the regular MovAndTest2Test optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5b4c104aafdacafe36495a89c4d0e3a8be62fa9d
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Dec 7 17:26:42 2021 +0000

    Massive overhaul to OptPass2Movx to favour operand shrinkage

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d255ffba8ba16c21a006d7ed9710ff095c3d30a5
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Dec 6 12:45:48 2021 +0000

    Improved handling of signed sequences in OptPass2Movx

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 01e5f4855a596496921e45f3b098f86285097d4c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Dec 6 06:19:25 2021 +0000

    MovZX->MovSX optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4825d2d16c2af3d3658e12637fb9fbed32f86491
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Dec 4 08:06:25 2021 +0000

    New Movz ###,%ecx, shift/rotate %cl,... optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f02b7508de42be8a2768036727447cb16106af0c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Dec 4 06:49:00 2021 +0000

    Bolder OptPass2Movx optimisations, including a simplification fix

M	compiler/x86/aoptx86.pas

******************************************************************************
commit da899df6b2bbb980a2d047b542eee3bff03f4fa9
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Dec 3 13:15:14 2021 +0000

    New MovxMovxOp2OpMovx optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 87a785daa07a0375d3271102dadf105aec8e7d43
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Dec 20 13:26:08 2021 +0100

    * Fix registry search for method name

M	packages/fcl-web/src/jsonrpc/fpjsonrpc.pp

******************************************************************************
commit fd29f25bf1678ba50adb3c8af2717b6782d03b8b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Dec 20 13:18:53 2021 +0100

    * Add RPCMethodName property

M	packages/fcl-web/src/jsonrpc/fpjsonrpc.pp

******************************************************************************
commit 159201d054f5564d7843a9943712c8669a59b7c7
Author: florian <florian@freepascal.org>
Date:   Sun Dec 19 22:55:03 2021 +0100

      * activate missing test

M	tests/test/tminmax.pp

******************************************************************************
commit 4c6cbfe03edaced0be3e1477f48f6d7b927ba858
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Dec 19 22:19:15 2021 +0100

    * RPC Client code generator (also in pas2js)

M	packages/fcl-web/fpmake.pp
A	packages/fcl-web/src/jsonrpc/fprpccodegen.pp

******************************************************************************
commit 36eea0c819c51d0424648fcb50b4f6ee52702016
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Dec 19 22:16:13 2021 +0100

    * Slightly better identifier position

M	packages/fcl-passrc/src/pparser.pp

******************************************************************************
commit 03b3f00a0b62488697aab90a5fe362b3053ffc59
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Dec 19 22:15:29 2021 +0100

    * Publish handler resulttype, add OnContextExecute

M	packages/fcl-web/src/jsonrpc/fpjsonrpc.pp

******************************************************************************
commit 9af13b273178cee02d56d05ac24d16e707b7193a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 7 16:33:07 2021 +0100

    * Force ampersand in EscaleKeyword

M	packages/fcl-base/src/pascodegen.pp

******************************************************************************
commit fa9d77e67ee7235fb02b3a6c7576eee573fbc332
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Dec 7 16:32:26 2021 +0100

    * TypeScript Improvements, 97% of DefinitelyTyped declarations now parsed

A	packages/fcl-js/examples/parsefiles.pas
M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/src/jstoken.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/src/tstopas.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcscanner.pp
M	packages/fcl-js/tests/tctsparser.pp
M	packages/fcl-js/tests/tctstopas.pp
M	packages/fcl-js/tests/tcwriter.pp
M	packages/fcl-js/tests/testjs.lpi

******************************************************************************
commit 40196f4a437626044a4a40baf9bedacb3fc984e4
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Nov 30 03:11:19 2021 +0000

    Fixes to ADD/SUB 128 optimisation that didn't check flags properly, and also handling ADC/SBB properly

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e443936e12822b1466e9f0ead1e464742412202e
Author: florian <florian@freepascal.org>
Date:   Sun Dec 19 16:16:44 2021 +0100

      + in_min/max_dword/longint support for aarch64

M	compiler/aarch64/ncpuinl.pas
M	compiler/nflw.pas

******************************************************************************
commit 77b9d62520dbc4cce3751fbdabfff0ca73aa90e9
Author: florian <florian@freepascal.org>
Date:   Sat Dec 18 21:22:36 2021 +0100

      + in_min/max_single/double support for aarch64

M	compiler/aarch64/ncpuinl.pas
M	compiler/nflw.pas

******************************************************************************
commit b4bd15a5c07ae81b0a7f7906bf61c3c6e6180751
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Dec 17 22:09:17 2021 +0000

    Removed incorrect logic in TEST optimisation

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2b9ec05963d7f0834cc64df4a2cf3eb724790fca
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Dec 17 12:55:32 2021 +0000

    Re-enable compilation of graph unit for aarch64-win64

M	packages/graph/fpmake.pp

******************************************************************************
commit 03f468545597e3edbde86b903a88a1dc9da9b1e9
Author: florian <florian@freepascal.org>
Date:   Fri Dec 17 21:24:41 2021 +0100

      + sanity checks in mips and sparc register allocator

M	compiler/mips/rgcpu.pas
M	compiler/sparcgen/rgcpu.pas

******************************************************************************
commit c6874df5c8ffcb6ad97096e63b63afe12e86b08d
Author: florian <florian@freepascal.org>
Date:   Thu Dec 16 22:27:18 2021 +0100

      * better error recovery, resolves #39485

M	compiler/pdecobj.pas
A	tests/tbf/tw39485.pp

******************************************************************************
commit d5b368988f34e631d2e065971713690fb691ebf3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Dec 16 21:10:19 2021 +0100

    LLVM: add Read/WritePort* implementations
    
    Fixes Unix graph compilation on x86 with LLVM

M	rtl/unix/x86.pp

******************************************************************************
commit 492210fdc73d4681d05fb59619f77efb53bf6086
Author: Marcus Sackrow <alb42@web.de>
Date:   Thu Dec 16 19:56:10 2021 +0100

    AmigaOS4, MorphOS: added missing RemBob macro

M	packages/morphunits/src/agraphics.pas
M	packages/os4units/src/agraphics.pas

******************************************************************************
commit f7239e03e7c4e21aea30ef17393a5303dd5d5ac8
Author: florian <florian@freepascal.org>
Date:   Wed Dec 15 23:05:18 2021 +0100

      * make tgobj.pas less verbose in extdebug mode, use separate define DEBUG_FREETEMP for the really
        verbose stuff

M	compiler/tgobj.pas

******************************************************************************
commit be448e29f63fd5d5d2b4320f24bde4ec197ca895
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Dec 15 16:37:31 2021 +0000

    Fixed bug in new TEST optimisation where a FLAGS check always returned "in use"

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 42c429bf450ea9f674192c0a0f4faabc5a0b9e12
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Dec 13 23:53:16 2021 +0000

    New optimisation that merges small constants written to the stack

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5dcdfeb1260176b94ee89e1e1d0d1e77bc7b811b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Dec 15 08:25:37 2021 +0200

    * ptcpas update: support the F13..F35 function keys on platforms that recognize them

M	packages/ptc/docs/CHANGES.txt
M	packages/ptc/examples/keyboard3.pp
M	packages/ptc/src/cocoa/cocoaconsolei.inc
M	packages/ptc/src/core/keyeventd.inc
M	packages/ptc/src/win32/base/win32kbd.inc
M	packages/ptc/src/x11/x11displayi.inc

******************************************************************************
commit fc1ed782322d8e21a8624d5ce57ea5a42ebe84cd
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Dec 14 21:58:24 2021 +0000

     Graph package fixes
     Fix aarch64-freebsd compilation failure
     by restricting graph unit to i8086/i386/x86_64 CPUs.
     Remove unneeded i386-linux special case.

M	packages/graph/fpmake.pp

******************************************************************************
commit 2208b55f767117cfc5a32df3f81c44e8001e7624
Author: FPK <florian@freepascal.org>
Date:   Tue Dec 14 21:14:56 2021 +0000

      * cleanup of garbage, resolves #39487

M	packages/fv/src/resource.pas

******************************************************************************
commit 6c466d2a387ac892ab3abc2f241cab8cfd7e5a91
Author: marcoonthegit <marcov@freepascal.org>
Date:   Tue Dec 14 18:50:51 2021 +0100

    * 4 more headers added in fcl-image

M	packages/fcl-image/src/extinterpolation.pp
M	packages/fcl-image/src/fpinterpolation.inc
M	packages/fcl-image/src/libfreetype.inc
M	packages/fcl-image/src/pcxcomn.pas

******************************************************************************
commit 7a15312b54869784baf92d15a459691fd6c8c419
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Dec 13 11:06:05 2021 +0000

    Safety checks on TEST removals and better FLAG tracking

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 06da0b3db6563ae317dfc108fe2425ca8b3736be
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Mon Dec 13 16:14:59 2021 +0100

    * fix m68k IE after e9acd759, patch by Yuriy Sydorov

M	compiler/m68k/rgcpu.pas

******************************************************************************
commit 453f45fa1f7e9396b416f9deca2904383a49292e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Dec 13 05:28:42 2021 +0200

    + enabled compilation of unit ptcgraph for macOS

M	packages/graph/fpmake.pp

******************************************************************************
commit c123739af0ed517c9c99e6c8e72df83842595f58
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Dec 13 05:12:45 2021 +0200

    + enabled compilation of the package ptc for macOS

M	packages/ptc/fpmake.pp

******************************************************************************
commit 567409379f3af31904f0a0ba408d8d178bcd34f3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Dec 13 04:59:16 2021 +0200

    * updated ptcpas and ptcgraph to the latest 0.99.16 release candidate

M	packages/graph/src/ptcgraph/ptcgraph.pp
M	packages/ptc/docs/CHANGES.txt
M	packages/ptc/docs/README.txt
M	packages/ptc/docs/TODO.txt
M	packages/ptc/examples/keyboard3.pp
M	packages/ptc/fpmake.pp
M	packages/ptc/src/cocoa/cocoaconsoled.inc
M	packages/ptc/src/cocoa/cocoaconsolei.inc
M	packages/ptc/src/core/keyeventd.inc
M	packages/ptc/src/ptc.pp
M	packages/ptc/src/ptcwrapper/ptcwrapper.pp
A	packages/ptc/src/ptcwrapper/ptcwrapper_mt.inc
A	packages/ptc/src/ptcwrapper/ptcwrapper_st.inc
M	packages/ptc/src/x11/x11windowdisplayi.inc

******************************************************************************
commit f60523a3b92a98ab693a37d3acf2a84dd0d321e2
Author: J. Gareth "Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Dec 12 21:40:42 2021 +0000

    x86: New TEST optimisations

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e9acd759a4aa88a8ad1ff97a574f108eb7deef33
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sun Dec 12 18:19:35 2021 +0200

    * Fixed random AVs when targeting the AVX FPU.

M	compiler/rgobj.pas
M	compiler/x86/rgx86.pas

******************************************************************************
commit 7b2cd0bcdc450b6c117ace262f4cd9d82e471a5e
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sun Dec 12 17:55:46 2021 +0200

    * Prevent a range check error in case of big unsigned values.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 59fca3a01de11a06d304d72b74df611a4e046495
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sun Dec 12 15:50:12 2021 +0200

    * Increased the bounds of TBooleanArray to prevent a range check error while linking Lazarus.

M	compiler/link.pas

******************************************************************************
commit 487721dea8c100d7481012dcc01f6cbeb4ea5bb8
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Dec 3 13:38:05 2021 +0200

    * cwstring: Added ICU versions for new versions of Android.

M	rtl/android/cwstring.pp

******************************************************************************
commit 5921fa9a6285f501df028a8fb4e1d10bda5653b8
Author: florian <florian@freepascal.org>
Date:   Sat Dec 11 22:46:27 2021 +0100

      + store references to global variables in registers if benefical (currrently used for aarch64 only)

M	compiler/optcse.pas

******************************************************************************
commit 2cf68f6dbfa1bdffa4bb40e9c34f67389d12b492
Author: florian <florian@freepascal.org>
Date:   Fri Dec 10 22:05:57 2021 +0100

      * files moved as strutils is now in rtl-objpas

R100	tests/test/units/strutils/taddchar.pp	tests/test/packages/rtl-objpas/taddchar.pp
R100	tests/test/units/strutils/taddcharr.pp	tests/test/packages/rtl-objpas/taddcharr.pp
R100	tests/test/units/strutils/tbin2hex.pp	tests/test/packages/rtl-objpas/tbin2hex.pp
R100	tests/test/units/strutils/tbintohex.pp	tests/test/packages/rtl-objpas/tbintohex.pp
R100	tests/test/units/strutils/tboyer.pp	tests/test/packages/rtl-objpas/tboyer.pp
R100	tests/test/units/strutils/tdec2numb.pp	tests/test/packages/rtl-objpas/tdec2numb.pp
R100	tests/test/units/strutils/thex2dec.pp	tests/test/packages/rtl-objpas/thex2dec.pp
R100	tests/test/units/strutils/thextobin.pp	tests/test/packages/rtl-objpas/thextobin.pp
R100	tests/test/units/strutils/tinttobin.pp	tests/test/packages/rtl-objpas/tinttobin.pp
R100	tests/test/units/strutils/tinttoroman.pp	tests/test/packages/rtl-objpas/tinttoroman.pp
R100	tests/test/units/strutils/tiswild.pp	tests/test/packages/rtl-objpas/tiswild.pp
R100	tests/test/units/strutils/tnumb2usa.pp	tests/test/packages/rtl-objpas/tnumb2usa.pp
R100	tests/test/units/strutils/tpadcenter.pp	tests/test/packages/rtl-objpas/tpadcenter.pp
R100	tests/test/units/strutils/tpadleft.pp	tests/test/packages/rtl-objpas/tpadleft.pp
R100	tests/test/units/strutils/tpadright.pp	tests/test/packages/rtl-objpas/tpadright.pp
R100	tests/test/units/strutils/tposextest.pp	tests/test/packages/rtl-objpas/tposextest.pp
R100	tests/test/units/strutils/tromantoint.pp	tests/test/packages/rtl-objpas/tromantoint.pp

******************************************************************************
commit 60c26a11ef481c924f2d52868e51a7a4c05878b7
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Thu Dec 9 22:51:13 2021 +0100

      * patch by Bart B. to improve DelSpace1, resolves #39465
      + test

M	packages/rtl-objpas/src/inc/strutils.pp
A	tests/test/packages/rtl-objpas/tdelspace1.pp

******************************************************************************
commit 72661fd5c106a5bc1e689eef63ba7636a01d7d24
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Dec 9 02:15:55 2021 +0000

    Added missing MOVSXD check to PostPeepHoleOptsCpu

M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit d71346aa37828cd36ebfbee342e9fdc04f7bc11e
Author: florian <florian@freepascal.org>
Date:   Wed Dec 8 20:47:42 2021 +0100

      * comment corrected
      - option -date=iso is not needed when retrieving the hash

M	utils/fpcm/fpmake.pp

******************************************************************************
commit d9eae2c2c593f27253aeaea98b12199929d9db3e
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sun Dec 5 22:59:42 2021 +0000

     Also add short format version of build unit BUnit.pp to ignore list

M	.gitignore

******************************************************************************
commit 56c1e1a5f2e59a7fe53ca8d02a8f4ac34856b0af
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Tue Dec 7 22:23:43 2021 +0100

      * generate revision.inc using git log with a date format argument compatible with older git

M	utils/fpcm/fpmake.pp

******************************************************************************
commit 69bfff046ac882c75b94b0c03c233f5d81fcbba8
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Sun Dec 5 15:11:24 2021 +0100

    + add a test for converting a 64-bit Boolean (either QWordBool or Boolean64) to a 32-bit signed integer (this problematic case was discovered after e65b822a on PowerPC

A	tests/tbs/tb0688.pp

******************************************************************************
commit 2636966e2aaf9c8ee23b4c7b7c65dba0bcefc2a2
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Sat Dec 4 23:52:54 2021 +0100

    * adjust ToInteger of the Boolean helpers so that it returns the value of either True or False, but not any other value (e.g. in the *Bool types). This is not only Delphi compatible, but also fixes the compilation problem of the one or other 32-bit platform (like PowerPC) after e65b822a.

M	rtl/objpas/sysutils/syshelpb.inc

******************************************************************************
commit 49af134ba7e2b99153d51eadc8a190bea19f8530
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Sat Dec 4 16:21:29 2021 +0100

      * compilation of  x86_64-win64 fixed

M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit cbc2d0351c5506a615d0f6506d9d7e45162131f2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Dec 3 23:49:13 2021 +0100

    * Correct casing of rposex - fix issue #39466

M	packages/rtl-objpas/src/inc/strutils.pp

******************************************************************************
commit 0b3fb55c6a8e75e869ed29cc1ad09189325f82df
Author: florian <florian@freepascal.org>
Date:   Fri Dec 3 23:25:45 2021 +0100

      * generate no exit code at all on x86-64 if the subroutine is compiled with po_noreturn

M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit e65b822a0c2a0d0dbe11ae3766dc9876accdbf28
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Fri Dec 3 14:52:19 2021 +0100

    + add type helpers for the remaining Boolean types (QWordBool and Boolean{8,16,32,64})

M	packages/rtl-objpas/src/inc/syshelpers.pp
M	rtl/objpas/sysutils/syshelp.inc
M	rtl/objpas/sysutils/syshelph.inc

******************************************************************************
commit 0f1c4b4db8bae6fe397c14d06ac2d2e0795265c2
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Nov 30 22:54:33 2021 +0000

    Fixed Unreachable code warning when building on a 32-bit platform with DEBUG_NODE_XML

M	compiler/verbose.pas

******************************************************************************
commit 0508f643c0e86479f2e4d49464c0e0a97699bb84
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Dec 2 10:31:36 2021 +0000

    Add gdb4fpc.ini, generated by gppcCPUSUFFIX utility and utils/fpcm/fpcmake to .gitignore list

M	.gitignore

******************************************************************************
commit b7034cb960d5f5497eac2bd5725886f065add4d1
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Wed Dec 1 23:38:29 2021 +0100

    * move Boolean helpers before the ordinal ones so that ToOneZeroString can be inlined correctly

M	packages/rtl-objpas/src/inc/syshelpers.pp

******************************************************************************
commit 5412e463ff4cd18ab53b99f71510467485d64be2
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Wed Dec 1 23:36:27 2021 +0100

    * use the already existing TNative(U)IntNibbleIndex types for the TORDINALNIBBLEINDEX macro as this way memory models with far pointers (where Native(U)Int has a size of 4) is handled correctly as well

M	packages/rtl-objpas/src/inc/syshelpers.pp

******************************************************************************
commit 89aeedac1ec47570922fe219664c3374e93aeb8a
Author: florian <florian@freepascal.org>
Date:   Wed Dec 1 22:48:19 2021 +0100

      * fixes excluding of cpu capabilities

M	compiler/cutils.pas
M	compiler/options.pas

******************************************************************************
commit a868a45ba9e0bd3860ec6bc43090add813d60ee4
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Dec 1 12:53:56 2021 +0100

    * Patch from Werner Pamler to fix some errors in JSON export

M	packages/fcl-db/src/export/fpsimplejsonexport.pp

******************************************************************************
commit a9b4fa5ed4aa232221932f6570e52337d744ed9c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 30 23:02:26 2021 +0100

    * Attempt to fix failing cross-compilation, remove unused dll

M	packages/oracle/src/oraoci.pp

******************************************************************************
commit 60623f39a1917afa3a03a44c7a8b66d6fcfa4f7f
Author: florian <florian@freepascal.org>
Date:   Tue Nov 30 22:27:50 2021 +0100

    + - can be used to remove options from a cpu capability switch

M	compiler/options.pas

******************************************************************************
commit e4227438416529968d84d44036f879d166ee99fd
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 30 09:22:06 2021 +0100

    * Patch from Zeljko Avramovic to add additional typehelpers for basic types. Fix issue #39268

M	packages/rtl-objpas/fpmake.pp
A	packages/rtl-objpas/src/inc/syshelpers.pp
A	packages/rtl-objpas/src/inc/syshelpersb.inc
A	packages/rtl-objpas/src/inc/syshelpersbh.inc
A	packages/rtl-objpas/src/inc/syshelperso.inc
A	packages/rtl-objpas/src/inc/syshelpersoh.inc

******************************************************************************
commit b1412ec5c036fcd2a1119ae17952f87caa792375
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 30 09:06:41 2021 +0100

    * Make hexdigits a global constant

M	rtl/objpas/sysconst.pp
M	rtl/objpas/sysutils/sysstr.inc

******************************************************************************
commit 65101b36dca4a4b8019f2c47944ec81e3988daae
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 30 08:58:05 2021 +0100

    * typescript parsing & conversion, initial commit

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/src/jstoken.pp
M	packages/fcl-js/src/jstree.pp
A	packages/fcl-js/src/tstopas.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcscanner.pp
A	packages/fcl-js/tests/tctsparser.pp
A	packages/fcl-js/tests/tctstopas.pp
M	packages/fcl-js/tests/testjs.lpi
M	packages/fcl-js/tests/testjs.lpr

******************************************************************************
commit 793c157a9c69201caf0dca17b64b55ec06e34ed2
Author: ccrause <christo.crause@gmail.com>
Date:   Sun Nov 28 21:47:32 2021 +0200

    Always call DoExec to generate linker scripts. Even if cs_link_nolink is set, the ldgen scipt needs to be called in the generated ppas script.

M	compiler/systems/t_freertos.pas

******************************************************************************
commit b0c0309cc1c1dccfd11acd3284b2168d6720892a
Author: ccrause <christo.crause@gmail.com>
Date:   Sun Nov 28 21:44:37 2021 +0200

    Add output path to kconfig source file location parameters.

M	compiler/systems/t_freertos.pas

******************************************************************************
commit f66dd54bc277618feb9cf38d81b2651a4f10db61
Author: ccrause <christo.crause@gmail.com>
Date:   Sat Nov 27 18:31:45 2021 +0200

    Extract linker script generation as separate method.  Check if esp linker scripts can be found in library paths, if not then generate scritps.

M	compiler/systems/t_freertos.pas

******************************************************************************
commit ab0079434302d85260bf18c420611bd1227aab1a
Author: ccrause <christo.crause@gmail.com>
Date:   Sat Nov 27 15:18:24 2021 +0200

    Keep esp32 and esp8266 version specific tweaks separate.

M	compiler/options.pas
M	compiler/pmodules.pas

******************************************************************************
commit a58567004b907ab6841dfc7d47d9dfea7e824df1
Author: ccrause <christo.crause@gmail.com>
Date:   Sun Nov 14 12:28:19 2021 +0200

    Remove unused $OUTPUT substtution and empty check of outputexedir.

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 655a5f526cd9697d5874e85727adae18e89040a8
Author: ccrause <christo.crause@gmail.com>
Date:   Sun Nov 14 11:01:15 2021 +0200

    Place IDF related files in executable output folder.

M	compiler/systems/t_freertos.pas

******************************************************************************
commit e86d3af7e0036346c5f189dfc8c49138181f6d6a
Author: ccrause <christo.crause@gmail.com>
Date:   Sun Nov 14 10:13:32 2021 +0200

    The linklib list for esp-idf v4.2 is also needed for v4.3

M	compiler/pmodules.pas

******************************************************************************
commit 5db20610dd8dabee146efd6703a62c2d15bc641b
Author: florian <florian@freepascal.org>
Date:   Sat Nov 13 17:58:17 2021 +0100

      * correct idf version check

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 802f24dfbdcba129c833416f1ac273277637674c
Author: florian <florian@freepascal.org>
Date:   Sat Nov 13 16:47:40 2021 +0100

      * force result to be set

M	compiler/options.pas

******************************************************************************
commit 54f2308d2aeca1b90a4ae98a94ab044149c167d0
Author: florian <florian@freepascal.org>
Date:   Sat Nov 13 16:36:37 2021 +0100

      + draft for esp-idf version specific rtl unit which contains the necessery linklib statements

M	compiler/pmodules.pas
M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc
M	rtl/freertos/xtensa/esp32.pp
A	rtl/freertos/xtensa/espidf_40200.pp

******************************************************************************
commit dc161e519f1641a8c44f289387ab2880d18e6c7b
Author: florian <florian@freepascal.org>
Date:   Sat Nov 13 16:36:18 2021 +0100

      * inputfilepath might not be empty

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 5289aab4f2bff99cbc0cfac2d3993a7fce68252d
Author: ccrause <christo.crause@gmail.com>
Date:   Sat Nov 13 15:28:12 2021 +0200

    Add -WP option so that IDF version can be passed in - stored in globals.idf_version.  The version is checked in t_freertos.pas and for esp-idf version 4.3.x an extra link file is added, also running ldgen.py is skipped as that seems unused.

M	compiler/globals.pas
M	compiler/options.pas
M	compiler/systems/t_freertos.pas

******************************************************************************
commit 222a41be7b5d3eba617c8f0530064911fff84cd8
Author: Pierre Muller <pierre@freepascal.org>
Date:   Sun Nov 28 23:57:09 2021 +0000

     Change declaration of DynLinkStr local variable of MakeExecutable method to ansitring to avoid short string overflows

M	compiler/systems/t_amiga.pas
M	compiler/systems/t_atari.pas
M	compiler/systems/t_beos.pas
M	compiler/systems/t_bsd.pas
M	compiler/systems/t_haiku.pas
M	compiler/systems/t_linux.pas
M	compiler/systems/t_macos.pas
M	compiler/systems/t_sinclairql.pas
M	compiler/systems/t_sunos.pas

******************************************************************************
commit e1a739d15d6e344727b196890e8afb0b0bd235ea
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Nov 27 12:01:47 2021 +0100

    FreeBSD CSU fixes
    
    * Assembler blocks in non-pure assembler functions must always declare all
    changed registers
    * argc is read as *(long*) in C -> changed plongint to pptrint
    * fixed ident section

M	rtl/freebsd/x86_64/reloc.inc
M	rtl/freebsd/x86_64/si_c.inc

******************************************************************************
commit 4f711a8b2c534fa786922acd8453c49b40bc1768
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sun Nov 28 01:02:09 2021 +0200

    * Use longint for Tmoveins.id instead of word to prevent overflow in extreme cases.

M	compiler/rgobj.pas

******************************************************************************
commit 5c55f1a16ee0c41f8f657f5a706bcb3bfc8a8f2c
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Nov 27 19:44:50 2021 +0200

    * Added Tmoveins.id to be used for sorting and searching in Tmovelist, to
      produce the consistent order of elements.
      This fixes occasional differences in the register allocation caused by
      the address space randomization. When ASLR is in effect, the previous
      approach to sort elements by their memory addresses can't guarantee the
      consistent elements order for each compilation of the same source code.

M	compiler/rgobj.pas

******************************************************************************
commit fad6b0e4896cc1bcb805051237a9ca6557322b60
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Nov 22 17:38:45 2021 +0200

    * Fixed build with NO_THREADING on Windows.

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit e132ae2feed6ac06daf9e22f48b735841691188e
Author: florian <florian@freepascal.org>
Date:   Sat Nov 27 00:28:57 2021 +0100

      * last commit was not correct, fixed

M	compiler/nadd.pas

******************************************************************************
commit bf5f37b14a4b92e9c441cc5bc2cd9924d3cbfb7b
Author: florian <florian@freepascal.org>
Date:   Fri Nov 26 22:27:19 2021 +0100

      * fix conditional statement as pointed out by Sergey Larin

M	compiler/nadd.pas

******************************************************************************
commit b3fb6a0ec0569c655d9c31759b955dc16d7a9f68
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Nov 26 07:52:15 2021 +0000

     Commit revision.inc change after 7d1b7eda0e

M	utils/fpcm/revision.inc

******************************************************************************
commit dabc59977d06fb86974e0cef52cf88109858b5e9
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Nov 25 23:34:28 2021 +0100

     Avoid having uninitialized UseBinutilsPrefix local variable in GetDefaultLibGCCDir function

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 271ba59cf1c1780d8c0b120dff107c42bcfe1e02
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Nov 25 22:13:32 2021 +0000

     All Makefile's regenerated

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-hash/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gitlab/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit c9ee52a8f59bb5b870ffdc1563a95dc71dbc8a67
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Nov 25 21:42:17 2021 +0000

    Regenerated fpcmake.inc after previous commit: Use filter instead of findstring  make function when a whole word needs to match

M	utils/fpcm/fpcmake.inc

******************************************************************************
commit 7d1b7eda0e3e51b49449f96f8d77c26378afb291
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Nov 25 21:41:35 2021 +0000

     Use filter instead of findstring  make function when a whole word needs to match

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 5bddb3a435103997b2ae5b7f6f75a4de994ec571
Author: florian <florian@freepascal.org>
Date:   Wed Nov 24 23:06:38 2021 +0100

      * x86-64 can handle overflows in 64 bit multiplications directly, part of resolving #39450

M	compiler/x86_64/nx64add.pas

******************************************************************************
commit 65ef6f1f3726680eaecc2ae24a2da30ee249c54a
Author: florian <florian@freepascal.org>
Date:   Wed Nov 24 22:50:37 2021 +0100

      * regenerated Makefiles

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-hash/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gitlab/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcm/revision.inc
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit 5c9de7edd77ab687a891a62315ecb193295492b7
Author: florian <florian@freepascal.org>
Date:   Wed Nov 24 22:45:38 2021 +0100

      * compile fpc with -Cg on powerpc64-linux

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 1ebc0350d3b4ebcaf8b5f9d45c18196cadb7c4b4
Author: florian <florian@freepascal.org>
Date:   Wed Nov 24 22:37:04 2021 +0100

      * fpcmake uses now git for date and hash in revision.inc

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpmake.pp
M	utils/fpcm/revision.inc

******************************************************************************
commit 18e0979379b2976328a714a7d0e517a5f45aefc0
Author: florian <florian@freepascal.org>
Date:   Tue Nov 23 23:01:06 2021 +0100

      + Exception.GetBaseException

M	rtl/objpas/sysutils/sysutilh.inc
M	rtl/objpas/sysutils/sysutils.inc

******************************************************************************
commit b0459a19f48ea41596fd1f0ca61afa1f7598d5d7
Author: florian <florian@freepascal.org>
Date:   Sun Nov 21 21:11:23 2021 +0100

      + initial files for intrinsics support on AArch64

A	rtl/aarch64/cpuinnr.inc
A	rtl/aarch64/cpuprocs.inc
A	rtl/aarch64/intrinsics.pp

******************************************************************************
commit b733e21fd1055e821b9d9fee644e54c917be440f
Author: florian <florian@freepascal.org>
Date:   Sat Nov 20 20:47:32 2021 +0100

      + more AArch64 extensions

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cpuinfo.pas

******************************************************************************
commit 78336d2cbacb12bcf3518cb0ea7968e5d697f26c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 20 10:48:52 2021 +0100

    * Assign codepageexpr

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tctypeparser.pas

******************************************************************************
commit 67f3a7502d0f1100046abd87c5df2565b8d945b8
Author: florian <florian@freepascal.org>
Date:   Fri Nov 19 22:36:48 2021 +0100

      + Aaarch64: support adr instructions with local labels in the assembler reader
      + throw an error if an illegal instruction extension is passed as command line option

M	compiler/aarch64/aasmcpu.pas
M	compiler/options.pas

******************************************************************************
commit d3000c617448042b67ed6984a81e77946a8ece1f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Nov 19 09:48:19 2021 +0100

    * Moved comment to top of file for better visibility

M	packages/fcl-hash/src/fpecc.pp

******************************************************************************
commit 92978caa2f0b1bf84a1c49b20398f721aeabc76c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Nov 19 09:46:39 2021 +0100

    * Add notice that work by Wolfgang Erhardt was used

M	packages/fcl-hash/src/fpecc.pp
M	packages/fcl-hash/src/fphashutils.pp

******************************************************************************
commit ff7febc06cb6146a7f1aa7a94feb1f2056456f8c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Nov 19 09:43:21 2021 +0100

    * Remove circular use, add lazarus test project file

M	packages/fcl-hash/src/fpecc.pp
M	packages/fcl-hash/src/fphashutils.pp
A	packages/fcl-hash/tests/testhash.lpi
M	packages/fcl-hash/tests/testhash.pp

******************************************************************************
commit f1cb5e678cb86be0ffa57a4336cf9d3f58a7d408
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Nov 19 09:17:04 2021 +0100

    * Test for po_keepclassforward

M	packages/fcl-passrc/tests/tcclasstype.pas

******************************************************************************
commit 14f62b06d2d4633db5927eeb69bc2c7d74cf6864
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Nov 19 08:36:21 2021 +0100

    * Export statement allows index and name

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcmoduleparser.pas

******************************************************************************
commit 6390ccde9bd26ca253df7f12702bc60f7650e080
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 16 09:13:50 2021 +0100

    * No dependency on classes unit

M	packages/fcl-hash/src/fphashutils.pp

******************************************************************************
commit 0327a4a04ec16d2d8bafb50d6ddb3c5ce93ce0d3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 16 09:11:24 2021 +0100

    * Fix uses list

M	packages/fcl-web/tests/tcjwt.pp

******************************************************************************
commit b06f2c4a74848b5465f45b4e35bca6b33448ae16
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 16 09:11:04 2021 +0100

    * Restore test project

A	packages/hash/tests/testhash.pp
A	packages/hash/tests/tests.lpi

******************************************************************************
commit 55d5b11deb804401988e60e1e9163de36a5f8fc1
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Nov 18 13:28:12 2021 +0000

    Converted tabs to spaces in toverflow.inc for consistency

M	tests/test/cg/toverflow.inc

******************************************************************************
commit da0260262d80c4a4c3ee0c854bf1009247b36946
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Nov 18 20:43:53 2021 +0100

    pastojs: fixed call type helper on type helper read from pcu

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit ab809fa93cdf48281c334969058abd9001412fce
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Nov 18 20:13:32 2021 +0100

    fcl-passrc: clean up

M	packages/fcl-passrc/src/paswrite.pp

******************************************************************************
commit 75b911ce68c27c90d91b7a8796e936ec7ba0a947
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Nov 18 20:11:54 2021 +0100

    fcl-passrc: clean up

M	packages/fcl-passrc/tests/tconstparser.pas

******************************************************************************
commit 6404478ea444cda85cdf7f8784efba0ed6669ebe
Author: florian <florian@freepascal.org>
Date:   Wed Nov 17 22:19:43 2021 +0100

      * cleanup of VER3_0 defines

M	compiler/aarch64/cpupara.pas
M	compiler/arm/cpupara.pas
M	compiler/fpcdefs.inc
M	compiler/i386/cpupara.pas
M	compiler/i8086/cpupara.pas
M	compiler/jvm/cpupara.pas
M	compiler/m68k/cpupara.pas
M	compiler/mips/cpupara.pas
M	compiler/nadd.pas
M	compiler/objcasm.pas
M	compiler/paramgr.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc64/cpupara.pas
M	compiler/wasm32/cpupara.pas
M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 29ea731b2f7b4140806b37a7b0ef7f1bf2cfaa0b
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Nov 17 08:18:51 2021 +0000

    Added two new overflow tests

A	tests/test/cg/toverflow.inc
A	tests/test/cg/toverflow1a.pp
A	tests/test/cg/toverflow1b.pp

******************************************************************************
commit 2dc0995067a410daecf4b6cd8744823c1f876d19
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Mon Nov 15 16:27:21 2021 +0000

    - Bug fix to new ADD/SUB optimisation where conditions are concerned
    - Register allocation fixes for overflow checks

M	compiler/cg64f32.pas
M	compiler/hlcgobj.pas
M	compiler/i386/n386add.pas
M	compiler/i8086/n8086add.pas
M	compiler/jvm/cpubase.pas
M	compiler/ncgmat.pas
M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/nx86add.pas
M	compiler/x86_64/nx64add.pas

******************************************************************************
commit 3ce6c478ccdbd58c04daa6a07a721ae1faebce2c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Nov 16 20:39:57 2021 +0000

    Bug fixes to magic division and vectorcall code that trigger -CriotR checks

M	compiler/x86/nx86mat.pas
M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 64c21bb88be2d7b5a7dec56aafe2a896fa1011db
Author: florian <florian@freepascal.org>
Date:   Sun Nov 14 23:13:51 2021 +0100

      * fix bootstrapping wtih 3.2.2 and -Cpcoreavx2

M	rtl/objpas/sysutils/syshelpo.inc

******************************************************************************
commit 9f60628e5b8283cdfce7e9f6feb7055eb4b52a22
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Nov 13 00:19:15 2021 +0000

    x86: new optimisation to change add/sub 128,(dest) to sub/add -128,(dest) to reduce binary size

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e994bacbba097fa4cf38f59e9772c7b9b5ccbaed
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Nov 14 21:28:01 2021 +0100

    * Add crypto.h functions

M	packages/gnutls/src/gnutls.pp

******************************************************************************
commit cd6bc9aeb7642f5430b0a3aaf49143a6e1c41041
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Nov 14 18:07:35 2021 +0100

    * Add missing definitions

M	packages/gnutls/src/gnutls.pp

******************************************************************************
commit 65a570b77278f47ffe788a1ab1c5aeb86a4e9797
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Nov 14 12:15:08 2021 +0100

    * Test for po_arrayrangeexpr

M	packages/fcl-passrc/tests/tctypeparser.pas

******************************************************************************
commit 565168093009a3403e9dd2d42edbbe6ca15a125e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Nov 14 12:05:44 2021 +0100

    * Add test for threadvar

M	packages/fcl-passrc/tests/tcvarparser.pas

******************************************************************************
commit feb5bde09cf9cc79e26b01080ec9400eef03f600
Author: florian <florian@freepascal.org>
Date:   Sat Nov 13 19:04:38 2021 +0100

      * better code and data size info for FreeRTOS

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 56ab4107059e7220b437bb205174d5626f4b82d8
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 18:42:49 2021 +0100

    * Parse codepage strings

M	packages/fcl-passrc/src/pastree.pp
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tctypeparser.pas

******************************************************************************
commit 4820ec07468d58a7809e5f591a9c39bb8381c514
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 18:14:46 2021 +0100

    * "Class of" allowed for fields

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcclasstype.pas

******************************************************************************
commit f4da53344019331a799d2d5ad0890646421fe99b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 17:47:23 2021 +0100

    * Objects can also be abstract in FPC

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tctypeparser.pas
M	packages/fcl-passrc/tests/testpassrc.lpi

******************************************************************************
commit 9f1f055d29109ec8829bda27e1995eabbdbcf11b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 15:50:22 2021 +0100

    * Fix dependency on hash (sha1)

M	packages/fcl-hash/fpmake.pp

******************************************************************************
commit 1c9c9bd8bd1ce4fe97592872981c05cf08ca6be6
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 15:49:44 2021 +0100

    * Reorder units

M	packages/fcl-hash/src/fpasn.pp

******************************************************************************
commit 70c286d7d5192d0d4997545b21831c7ce1d806ba
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 15:49:10 2021 +0100

    * Do not redefine TBytes

M	packages/fcl-base/src/basenenc.pp

******************************************************************************
commit 4b956674dd90e4999f5f47c2f200629a11ff4900
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 15:45:52 2021 +0100

    * Dependency on fcl-base

M	packages/fcl-hash/fpmake.pp

******************************************************************************
commit 509d8cd407226f1418541d7f2c75ecf55735e0ad
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 15:40:04 2021 +0100

    * Correct uses clause (renamed units)

M	packages/fcl-hash/src/fpasn.pp

******************************************************************************
commit b445cadeb93f59625a840b50e1fcd55340201ba3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 15:34:03 2021 +0100

    * Renamed ecc->fpecc

M	packages/fcl-hash/src/fphashutils.pp

******************************************************************************
commit 1be9fecf4b6b35ff829946ec21edee6b2936ef7a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 15:32:26 2021 +0100

    * Fix compilation, remove moved units

M	packages/hash/fpmake.pp

******************************************************************************
commit 16fa6fa1059745410315a7c19a7e31170a637e9b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 15:20:35 2021 +0100

    * Base hash units moved & renamed

M	packages/fcl-web/fpmake.pp
M	packages/fcl-web/src/jwt/fpjwaes256.pp
M	packages/fcl-web/src/jwt/fpjwasha256.pp
M	packages/fcl-web/src/jwt/fpjwasha384.pp
M	packages/fcl-web/src/jwt/fpjwasha512.pp

******************************************************************************
commit 009c19a4009c68817e73f46f4035a0a651f3f91f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 15:17:57 2021 +0100

    * Rename units using fp prefix

M	packages/fcl-hash/examples/demosha256.pp
M	packages/fcl-hash/fpmake.pp
R099	packages/fcl-hash/src/asn.pp	packages/fcl-hash/src/fpasn.pp
R099	packages/fcl-hash/src/ecc.pp	packages/fcl-hash/src/fpecc.pp
R098	packages/fcl-hash/src/ecdsa.pp	packages/fcl-hash/src/fpecdsa.pp
R099	packages/fcl-hash/src/hashutils.pp	packages/fcl-hash/src/fphashutils.pp
R098	packages/fcl-hash/src/pem.pp	packages/fcl-hash/src/fppem.pp
R099	packages/fcl-hash/src/sha256.pp	packages/fcl-hash/src/fpsha256.pp
R099	packages/fcl-hash/src/sha512.pp	packages/fcl-hash/src/fpsha512.pp
M	packages/fcl-hash/tests/utestpem.pp
M	packages/fcl-hash/tests/utestsha256.pp
M	packages/fcl-hash/tests/utestsha512.pp

******************************************************************************
commit 82fdbbbbdc5ebb26cd66292ad96aa65930137643
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 15:08:46 2021 +0100

     Move hash algorithms that rely on fcl-base

A	packages/fcl-hash/Makefile
A	packages/fcl-hash/Makefile.fpc
R100	packages/hash/examples/demosha256.pp	packages/fcl-hash/examples/demosha256.pp
A	packages/fcl-hash/fpmake.pp
R100	packages/hash/src/asn.pp	packages/fcl-hash/src/asn.pp
R100	packages/hash/src/ecc.pp	packages/fcl-hash/src/ecc.pp
R100	packages/hash/src/ecdsa.pp	packages/fcl-hash/src/ecdsa.pp
R100	packages/hash/src/hashutils.pp	packages/fcl-hash/src/hashutils.pp
R100	packages/hash/src/onetimepass.pp	packages/fcl-hash/src/onetimepass.pp
R100	packages/hash/src/pem.pp	packages/fcl-hash/src/pem.pp
R100	packages/hash/src/sha256.pp	packages/fcl-hash/src/sha256.pp
R100	packages/hash/src/sha512.pp	packages/fcl-hash/src/sha512.pp
R100	packages/hash/tests/private-key.pem	packages/fcl-hash/tests/private-key.pem
R100	packages/hash/tests/public-key.pem	packages/fcl-hash/tests/public-key.pem
R068	packages/hash/tests/tests.pp	packages/fcl-hash/tests/testhash.pp
R100	packages/hash/tests/utestonetimepass.pp	packages/fcl-hash/tests/utestonetimepass.pp
R100	packages/hash/tests/utestpem.pp	packages/fcl-hash/tests/utestpem.pp
R099	packages/hash/tests/utestsha256.pp	packages/fcl-hash/tests/utestsha256.pp
R100	packages/hash/tests/utestsha512.pp	packages/fcl-hash/tests/utestsha512.pp
M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc

******************************************************************************
commit 7626af634cda98ad94382694867e105e70ee5ff9
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Nov 13 14:43:51 2021 +0100

    * Move basenenc back to fcl-base, sysutils is needed

M	packages/fcl-base/fpmake.pp
R098	packages/rtl-extra/src/inc/basenenc.pp	packages/fcl-base/src/basenenc.pp
M	packages/rtl-extra/fpmake.pp

******************************************************************************
commit 52cc8df0797f3411e29b6480e5d9f29185c5c826
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Nov 12 12:08:20 2021 +0100

     Add some delay and a maximum attempt number in GenerateTempDir to avoid getting oversized execution log files

M	tests/utils/dosbox/dosbox_wrapper.pas

******************************************************************************
commit 550d0481b343effe45626780f047ed090a88bb11
Author: florian <florian@freepascal.org>
Date:   Thu Nov 11 22:52:10 2021 +0100

      * better error message

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/systems/t_freertos.pas

******************************************************************************
commit 1c7709e45478a49df04b12338765e2b97cff3519
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Nov 11 19:44:52 2021 +0100

    * Fix issue 39437

M	packages/rtl-objpas/src/inc/strutils.pp

******************************************************************************
commit 5df6671ff248341019b585ba88e075ed28d95687
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Nov 11 19:36:05 2021 +0100

    * Fix issue 39431

M	rtl/objpas/fgl.pp

******************************************************************************
commit 2052049e74dae083b495df08bfa1b56e390b1df9
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Nov 11 19:18:37 2021 +0100

    * Fix by Werner Pamler for issue #39436

M	packages/fcl-db/src/base/bufdataset.pas

******************************************************************************
commit 687ab895c7e21ac4997fda7ba96f33d587f2b621
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Nov 11 19:07:29 2021 +0100

    * Disable debug define

M	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit 03ce23246f11b42ac3739f91e2f2433c66ef25f0
Author: florian <florian@freepascal.org>
Date:   Wed Nov 10 19:16:14 2021 +0100

      * patch by Don Siders: Fixes spelling, grammar errors in source and compiler messages, resolves #39434

M	compiler/msg/errorct.msg
M	compiler/msg/errorda.msg
M	compiler/msg/errores.msg
M	compiler/msg/errorf.msg
M	compiler/msg/errorfi.msg
M	compiler/msg/errorhe.msg
M	compiler/msg/errorheu.msg
M	compiler/msg/erroriu.msg
M	compiler/msg/errorn.msg
M	compiler/msg/errorpl.msg
M	compiler/msg/errorpli.msg
M	compiler/msg/errorpt.msg
M	compiler/msg/errorptu.msg
M	compiler/msg/errorues.msg
M	packages/fcl-web/src/base/fphttpserver.pp
M	packages/ptc/src/win32/directx/p_dinput.pp
M	packages/tcl/tests/tcl_demo.pp
M	packages/univint/src/ATSUnicodeDrawing.pas
M	packages/univint/src/CFNetDiagnostics.pas
M	packages/univint/src/CFNetServices.pas
M	packages/univint/src/CFURL.pas
M	packages/univint/src/CFURLEnumerator.pas
M	packages/univint/src/Menus.pas
M	packages/univint/src/OpenTransport.pas
M	packages/univint/src/SCSI.pas
M	packages/univint/src/SKSummary.pas
M	packages/univint/src/WSProtocolHandler.pas
M	packages/univint/src/WSTypes.pas
M	tests/test/tstack.pp
M	tests/test/units/math/tmask.inc
M	tests/webtbs/tw16884.pp
M	tests/webtbs/tw7100.pp

******************************************************************************
commit ab1a997b12563bfff773ec34491ad0b26245d5bd
Author: florian <florian@freepascal.org>
Date:   Tue Nov 9 22:32:01 2021 +0100

      * renamed units so they are not picked up multiple times by the regression tests

M	packages/hash/tests/tests.pp
R098	packages/hash/tests/testonetimepass.pp	packages/hash/tests/utestonetimepass.pp
R099	packages/hash/tests/testpem.pp	packages/hash/tests/utestpem.pp
R099	packages/hash/tests/testsha256.pp	packages/hash/tests/utestsha256.pp
R099	packages/hash/tests/testsha512.pp	packages/hash/tests/utestsha512.pp
R099	packages/hash/tests/testshmac.pas	packages/hash/tests/utestshmac.pas

******************************************************************************
commit e4ee8fa6a2b6fbebf8723712c63d9e0504d1396e
Author: florian <florian@freepascal.org>
Date:   Tue Nov 9 22:17:46 2021 +0100

      * patch by Rika to pass some strings by reference, resolves #39338

M	compiler/assemble.pas
M	compiler/cstreams.pas
M	compiler/globals.pas
M	compiler/pexpr.pas
M	compiler/pgenutil.pas
M	compiler/pinline.pas
M	compiler/scanner.pas
M	compiler/symtable.pas

******************************************************************************
commit c6723ed2c4acf1d0dd7f4593a65e6d2ae0e5a103
Author: Frank Freeman <freerider1@gmx.net>
Date:   Sat Oct 30 18:39:53 2021 +0000

    bug fix for #39380 in typelib.pas

M	packages/winunits-base/src/typelib.pas

******************************************************************************
commit 6dcb2dffab14d9f212fc23994480ccd858cd1476
Author: Frank Freeman <freerider1@gmx.net>
Date:   Sat Oct 2 18:14:19 2021 +0000

    bug fix for #39388 in typelib.pas

M	packages/winunits-base/src/typelib.pas

******************************************************************************
commit e9b9f69fbab9087b30e4804a7e91d8fb8ac03f2d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 9 11:01:30 2021 +0100

    * Correct dependency

M	packages/hash/fpmake.pp

******************************************************************************
commit 7bdf6672b5cf9c3f0b3d766e7665493f9d7fa882
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Nov 9 10:54:51 2021 +0100

    * Hopefully fix compilation of hash package for msdos

M	packages/fcl-base/fpmake.pp
M	packages/rtl-extra/fpmake.pp
R100	packages/fcl-base/src/basenenc.pp	packages/rtl-extra/src/inc/basenenc.pp

******************************************************************************
commit 5afaeaa3ac813e5682d0da9de7d17454a4771d2c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Nov 8 20:52:14 2021 +0100

    ES256 signing algorithm

M	packages/fcl-web/fpmake.pp
A	packages/fcl-web/src/jwt/fpjwaes256.pp
M	packages/fcl-web/src/jwt/fpjwt.pp
M	packages/fcl-web/tests/tcjwt.pp
M	packages/fcl-web/tests/testfpweb.lpi
M	packages/fcl-web/tests/testfpweb.lpr

******************************************************************************
commit 6ae8840ece13c43ab4e648f36c9df44a1ee51c8b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Nov 8 19:13:01 2021 +0100

    * Start of ECDSA

M	packages/hash/fpmake.pp
A	packages/hash/src/asn.pp
A	packages/hash/src/ecdsa.pp
A	packages/hash/src/pem.pp
A	packages/hash/tests/private-key.pem
A	packages/hash/tests/public-key.pem
A	packages/hash/tests/testpem.pp
M	packages/hash/tests/tests.pp

******************************************************************************
commit b8506def7a2fcacefb633b170d0a19c16f1d687a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Nov 8 19:09:15 2021 +0100

    *Rename types

M	packages/hash/tests/testsha256.pp

******************************************************************************
commit 34f06129324845674f4cca60d24b832453a9cf15
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Nov 8 19:07:49 2021 +0100

    * Rename types with ECC prefix

M	packages/hash/src/ecc.pp

******************************************************************************
commit 93f579ecd82dad7b6b827cfdcac127b1a907fd8e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Nov 8 19:06:55 2021 +0100

    * Additional functions needed in PEM/ASN

M	packages/hash/src/hashutils.pp

******************************************************************************
commit 168cb8f2ca3cb53cf77e66ef76ca5b8e479c57a7
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Nov 8 19:06:05 2021 +0100

    * Allow to skip whitespace

M	packages/fcl-base/src/basenenc.pp

******************************************************************************
commit 8e7791ac232d88f298bd3a5ed3c6cd511c48ce5e
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Nov 8 22:55:38 2021 +0000

    Explicitly disable overflow for offset propagation optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 99d04fb5b4df12fab061bb445dcac84ca2b1538f
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Oct 17 01:48:08 2021 +0100

    Added missing inc file

A	tests/bench/bdiv_u16.inc

******************************************************************************
commit 671c674d6513502c0bb5bc477d83d4ee5615738b
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Sep 22 03:23:20 2021 +0100

    Expanding division to 64-bit and tests

M	compiler/x86/nx86mat.pas
M	tests/bench/bdiv.pp
M	tests/bench/bdiv_u32.inc
M	tests/bench/bdiv_u64.inc

******************************************************************************
commit 292be9029e729b03f4f6f2ac415d43ac90fdc03a
Author: florian <florian@freepascal.org>
Date:   Sun Nov 7 21:54:25 2021 +0100

      * when converting a*a into sqr(a), set the result type correctly
      * removefloatupcasts takes care of cs_excessprecision, resolves #39012

M	compiler/nadd.pas
M	compiler/ninl.pas
A	tests/webtbs/tw39012.pp

******************************************************************************
commit 67e7dc019453212065181dc5d80c92c11e14d603
Author: florian <florian@freepascal.org>
Date:   Sun Nov 7 20:03:09 2021 +0100

      * consecutive naming

R100	tests/tbf/tb0588.pp	tests/tbf/tb0285.pp

******************************************************************************
commit d708bef92f5353e010bb13857469c55e671a6e05
Author: florian <florian@freepascal.org>
Date:   Sun Nov 7 20:02:29 2021 +0100

      + Aarch64: read register sets with ranges properly
      + tests

M	compiler/aarch64/racpugas.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
A	tests/tbf/tb0281.pp
A	tests/tbf/tb0282.pp
A	tests/tbf/tb0283.pp
A	tests/tbf/tb0284.pp
A	tests/tbs/tb0687.pp

******************************************************************************
commit 7fcbd1d7e0a24bbe476d5ec4e67c458b742190b1
Author: florian <florian@freepascal.org>
Date:   Sun Nov 7 14:58:17 2021 +0100

      * my last commit hopefully fixed

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 492d75483d05af525822561fc8232c52748a24b0
Author: florian <florian@freepascal.org>
Date:   Sun Nov 7 14:46:13 2021 +0100

      * fix (V)Cvtss2CvtSd(V)Cvtsd2ss2* optmizations for non-avx code, resolves #39416

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c917639b91bd8d0d784a0f84e6dc3c3789ff8520
Author: florian <florian@freepascal.org>
Date:   Sun Nov 7 14:46:03 2021 +0100

      * cosmetics

M	compiler/options.pas

******************************************************************************
commit f570b6cb7bb10b90a7eba22de9d4d10a09e83703
Author: florian <florian@freepascal.org>
Date:   Sun Nov 7 11:06:01 2021 +0100

      + more Aarch64 cpu capability flags added

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cpuinfo.pas

******************************************************************************
commit c1d43df4a1e58702a57452499fc00898a1e421d6
Author: florian <florian@freepascal.org>
Date:   Sat Nov 6 23:32:56 2021 +0100

      + be able to add single cpu capabilites by the command line
      + AArch64: SHA2 capability

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cpuinfo.pas
M	compiler/options.pas

******************************************************************************
commit 716e8c8e8975337c2f40122becd0b596b3461586
Author: florian <florian@freepascal.org>
Date:   Sat Nov 6 21:14:57 2021 +0100

      * tcgsizep2size now supports all tcgsize values

M	compiler/aarch64/cpubase.pas

******************************************************************************
commit 8e5c2467e29e86222877085a43575f04ac1204df
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Nov 6 21:47:12 2021 +0200

    * Fixed node coalescing with real registers.

M	compiler/rgobj.pas

******************************************************************************
commit 9423d5e390b94f34046ee030b5712e466950640e
Author: florian <florian@freepascal.org>
Date:   Sat Nov 6 11:00:53 2021 +0100

      + fp-armv8 fpu type added

M	compiler/arm/aasmcpu.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/narmutil.pas

******************************************************************************
commit 9feafc7bd73705fea94842a34ef704192350fe01
Author: florian <florian@freepascal.org>
Date:   Fri Nov 5 23:05:17 2021 +0100

      + ARM: started on vfpv5 support

M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/narmutil.pas

******************************************************************************
commit d4034afda78c0eb2b3cb81f70d05490de79e1e35
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Nov 5 11:11:10 2021 +0100

    * SetRecNo must call DoAfterScroll. Fix for issue #39429

M	packages/fcl-db/src/memds/memds.pp

******************************************************************************
commit 1023a6ff6b975a44dd4b8b4ad536160e16646032
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Nov 4 19:05:59 2021 +0100

    * Correct label parsing

M	packages/fcl-passrc/src/pastree.pp
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tconstparser.pas
M	packages/fcl-passrc/tests/testpassrc.lpi

******************************************************************************
commit b760863046f7d2f921c8a9144c94374863a806da
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Nov 4 19:45:44 2021 +0200

    * fixed the ptccrt key codes for the ctrl+numpad keys

M	packages/graph/src/ptcgraph/ptccrt.pp
M	packages/ptc/tests/crtkeys/ptccrtkeys.pas

******************************************************************************
commit 3271d1aac712184001956ddb2c0f1b157b7c1107
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Nov 4 18:15:04 2021 +0100

    * Empty record constants

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tconstparser.pas
M	packages/fcl-passrc/tests/testpassrc.lpi

******************************************************************************
commit 4dd01de381d056c627f71124c5b6dac6297d7837
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Nov 4 08:54:05 2021 +0100

    * Fix cvar;export; parsing

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcvarparser.pas
M	packages/fcl-passrc/tests/testpassrc.lpi

******************************************************************************
commit 47610d5c651a232a2061a44e2358b147ba65ff1c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Nov 3 12:22:32 2021 +0100

    * SHA512/SHA384 + JWT signers, refactor SHA256 to use class methods

M	packages/fcl-web/fpmake.pp
A	packages/fcl-web/src/jwt/fpjwasha256.pp
A	packages/fcl-web/src/jwt/fpjwasha384.pp
A	packages/fcl-web/src/jwt/fpjwasha512.pp
R058	packages/fcl-web/src/base/fpjwt.pp	packages/fcl-web/src/jwt/fpjwt.pp
R100	packages/fcl-web/src/base/fpoauth2.pp	packages/fcl-web/src/jwt/fpoauth2.pp
R100	packages/fcl-web/src/base/fpoauth2ini.pp	packages/fcl-web/src/jwt/fpoauth2ini.pp
A	packages/fcl-web/tests/tcjwt.pp
M	packages/fcl-web/tests/testfpweb.lpi
M	packages/fcl-web/tests/testfpweb.lpr
M	packages/hash/fpmake.pp
M	packages/hash/src/sha256.pp
A	packages/hash/src/sha512.pp
M	packages/hash/tests/tests.pp
M	packages/hash/tests/testsha256.pp
A	packages/hash/tests/testsha512.pp

******************************************************************************
commit 44051b4af33b097a1069a0702108fc4799864c84
Author: florian <florian@freepascal.org>
Date:   Wed Nov 3 22:41:07 2021 +0100

      * corrected accidently made changs in 01a449c8, resolves #39424

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2240c690784bc6117f8d602c9eedfb23d0d8846c
Author: florian <florian@freepascal.org>
Date:   Wed Nov 3 22:28:12 2021 +0100

      * improved heurisics when thread var addresses or float constants are put in registers

M	compiler/optcse.pas

******************************************************************************
commit 10d9918596dfbac73b84c4cf567ee14caa6ef546
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Nov 3 22:13:39 2021 +0100

    fcl-passrc: parse if then goto

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcstatements.pas

******************************************************************************
commit 14d589955acc5cb7e241c64130021414ab38675a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Nov 3 21:58:16 2021 +0100

    fcl-passrc: parse goto statement

M	packages/fcl-passrc/src/pastree.pp
M	packages/fcl-passrc/src/paswrite.pp
M	packages/fcl-passrc/src/pparser.pp

******************************************************************************
commit 82cbaa0dc5daaa7b2db18d96c8ade5db06bb0a28
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Nov 3 21:57:32 2021 +0100

    fpdoc: gitignore linux binary

A	utils/fpdoc/.gitignore

******************************************************************************
commit a47f153daed4b95925d299168baf916a65573f73
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Tue Oct 23 22:35:34 2018 +0200

      * avoid to create a stack frame on aarch64 if possible

M	compiler/aarch64/cgcpu.pas
M	compiler/armgen/aoptarm.pas
M	compiler/globtype.pas
M	compiler/psub.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit e0a78c2485bbcce7fb5972b2c7ab7fb6263674c0
Author: florian <florian@freepascal.org>
Date:   Tue Nov 2 22:01:52 2021 +0100

      * tcgaarch64.g_concatcopy calls tcgaarch64.g_concatcopy_move only if the current subroutine has pi_do_call set
      * fixed copy loop in tcgaarch64.g_concatcopy if ldp/stp is used: fixed increment calculation and fixed tail length calculation

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 7e4753bebd600951a76838f3e7c08f17d0e65505
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Nov 2 20:36:30 2021 +0200

    * Typo fixed.

M	compiler/rgobj.pas

******************************************************************************
commit 5b32c81befccea3ba64fc012e3e4216bb875dc17
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Nov 2 20:33:34 2021 +0200

    * Corrected setting of the flag.

M	compiler/nflw.pas

******************************************************************************
commit b78761efd30a814d055d78078c3f9d0422ef6291
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Nov 2 17:08:08 2021 +0200

    * Removed obsolete OLDREGVARS ifdefs.

M	compiler/hlcgobj.pas
M	compiler/i386/n386add.pas
M	compiler/i8086/n8086add.pas
M	compiler/ncgflw.pas
M	compiler/ncgset.pas
M	compiler/powerpc/nppcadd.pas
M	compiler/psub.pas
M	compiler/symdef.pas
M	compiler/wasm32/nwasmset.pas

******************************************************************************
commit d96600a02d1dd4ee53ffe9bd4efc718f906e80d1
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Nov 2 16:55:59 2021 +0200

    * Removed unused and confusing tnode.parent and tnode.concattolist().

M	compiler/node.pas

******************************************************************************
commit d0cc6494280732f5be8ccfaecbafb2b6b7fb0f87
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Nov 2 15:23:08 2021 +0200

    * Write interference graphs to the unit output directory.

M	compiler/rgobj.pas

******************************************************************************
commit e04df465efe7fdbdc8ebe6b812789daa0bea0e25
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Nov 2 13:01:44 2021 +0200

    * The label which is generated by traisenode is not a jump target. Mark
      this label as nf_internal, which means the label does not impact the
      code flow. This leads to a much better register allocation.

M	compiler/ncgflw.pas
M	compiler/nflw.pas

******************************************************************************
commit c4a1cdceaebf8d01151fc20ae3e3a053180db9e7
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Nov 1 12:19:45 2021 +0200

    * Corrected calculation of spilling efficiency.

M	compiler/rgobj.pas

******************************************************************************
commit c9d9d42f0e3cb3d413bb755b7ec11d99e5446ee0
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Oct 27 12:42:01 2021 +0300

    * Better coalescing with real registers. This improves setting of parameters
      in registers.
    * Removed superfluous condition in trgobj.enable_moves().
    * Fixed flags checking in trgobj.adjacent_ok().
    * Added assembler comments about coalescing when DEBUG_SPILLCOALESCE is defined.

M	compiler/rgobj.pas

******************************************************************************
commit 66b7ed45fd0f260e2d9d9c00b844e27b7b8b3191
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Oct 13 15:56:19 2021 +0300

    * Removed unused tlocation.registers[].

M	compiler/cgutils.pas

******************************************************************************
commit dcb1fcd9b81d364660b9ca5906e7b2f5e0fe688f
Author: florian <florian@freepascal.org>
Date:   Mon Nov 1 23:24:13 2021 +0100

      + support $lgeacyifend directive, resolves #37676

M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/scandir.pas
M	compiler/scanner.pas
M	compiler/utils/ppuutils/ppudump.pp
A	tests/tbf/tb0277.pp
A	tests/tbf/tb0278.pp
A	tests/tbf/tb0279.pp
A	tests/tbf/tb0280.pp

******************************************************************************
commit 40df9554239c1aec7ba8e8ad26e2db8daa3ab864
Author: florian <florian@freepascal.org>
Date:   Mon Nov 1 14:55:41 2021 +0100

      * StrTo* functions are now using the TryStrTo* functions

M	rtl/objpas/sysutils/sysstr.inc

******************************************************************************
commit 89d27751911d6904fbbb10660a0194c43522fc8d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Nov 1 13:56:33 2021 +0100

    optcse: fix wrong typecast

M	compiler/optcse.pas

******************************************************************************
commit 1b8170d18dde78045d7269bfd58fb537b59dcabf
Author: Michael Van Canneyt <michael@freepascal.org>
Date:   Mon Nov 1 11:52:05 2021 +0100

    * More clear comment

M	packages/fcl-passrc/src/pastree.pp

******************************************************************************
commit fcdbb31ec4f057f1eb169a1214f6c50a0ad5a90c
Author: florian <florian@freepascal.org>
Date:   Mon Nov 1 11:46:19 2021 +0100

      * AArch64: TCpuAsmOptimizer.RegLoadedWithNewValue: check if p.ops=0

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 15865e760244be485772a53a6eaa09f80e5ca8ee
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 31 17:49:04 2021 +0100

    Record variant discriminators: check types

M	compiler/pdecvar.pas
A	tests/tbf/tb0276.pp

******************************************************************************
commit 4426d0da7abffba27f125112a1484e3c9449761a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 31 17:43:59 2021 +0100

    Fixed variant discriminator types

M	packages/fcl-res/src/machotypes.pp
M	rtl/inc/sstrings.inc
M	tests/tbs/tb0516.pp

******************************************************************************
commit 4f77cbbac4accf137ac2683b95f5ee9f7c628ce8
Author: florian <florian@freepascal.org>
Date:   Sun Sep 12 19:40:51 2021 +0200

      + keep addresses of thread vars in registers if possible and likely an advantage

M	compiler/optcse.pas

******************************************************************************
commit 5a617cd1082e80008559a012673db2eecb6304bf
Author: florian <florian@freepascal.org>
Date:   Sun Oct 31 17:22:15 2021 +0100

      + fold real constants c1,c2 for v+c1+c2 or c1+(c2+v) (+ being either + or *) as well if fastmath is enabled

M	compiler/nadd.pas

******************************************************************************
commit 284317d877bb10d11ffe8f6f8d3cd34bd51ee837
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Oct 30 01:16:04 2021 +0100

    Fixed OptPass2Lea not honouring symbols

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 42eb06f5c660df09a392d99fb41166ffc614e0bc
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Oct 28 01:15:39 2021 +0100

    Fixed some range check problems

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b58fdc3e584854a4c4fc02bd7fc23f378263d25a
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Oct 26 23:11:21 2021 +0100

    Improved ADD and SUB optimisations for LEA instructions

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit fa4e52857646bf1d45bef26d42e9efe75e84cdfe
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 31 16:21:09 2021 +0100

    fcl-res: Mach-O fat binary support
    
    Only for TMachOResourceReader. We always compile/generate a single architecture
    binary, and then the programmer can combine those with lipo. So the writer does
    not need fat binary support for common usage.
    
    Resolves #39124

M	packages/fcl-res/src/machoconsts.pp
M	packages/fcl-res/src/machodefaulttarget.inc
M	packages/fcl-res/src/machoreader.pp
M	packages/fcl-res/src/machotypes.pp
M	packages/fcl-res/src/machowriter.pp

******************************************************************************
commit ff3acfb8cda7f6a077dfc585cbe9acb0d8e34418
Author: florian <florian@freepascal.org>
Date:   Sun Oct 31 13:20:28 2021 +0100

      * cleanup of 2.7.0 defines

M	compiler/aarch64/cpuinfo.pas
M	compiler/arm/cpuinfo.pas
M	compiler/avr/cpuinfo.pas
M	compiler/compiler.pas
M	compiler/cresstr.pas
M	compiler/generic/cpuinfo.pas
M	compiler/i386/cpuinfo.pas
M	compiler/i8086/cpuinfo.pas
M	compiler/jvm/cpuinfo.pas
M	compiler/m68k/cpuinfo.pas
M	compiler/mips/cpuinfo.pas
M	compiler/nadd.pas
M	compiler/options.pas
M	compiler/powerpc/cpuinfo.pas
M	compiler/powerpc64/cpuinfo.pas
M	compiler/riscv32/cpuinfo.pas
M	compiler/riscv64/cpuinfo.pas
M	compiler/scanner.pas
M	compiler/sparc/cpuinfo.pas
M	compiler/sparc64/cpuinfo.pas
M	compiler/wasm32/cpuinfo.pas
M	compiler/x86_64/cpuinfo.pas
M	compiler/z80/cpuinfo.pas

******************************************************************************
commit e657aa64317a385a5c6fb52bf6c752e883220eb9
Author: florian <florian@freepascal.org>
Date:   Sun Oct 31 11:57:32 2021 +0100

      + write code and data size for Mach-O files if possible

M	compiler/link.pas
M	compiler/systems/t_darwin.pas

******************************************************************************
commit fb7cdbefb3f14cd66a4960bbeded3e6a739a95f5
Author: florian <florian@freepascal.org>
Date:   Sat Oct 30 20:21:47 2021 +0200

      + some opcodes added

M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc

******************************************************************************
commit 1bc8aea2b3baa25b03528ed83e38a75fa8f9d909
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 20:15:44 2021 +0200

    * fcl-base dependency

M	packages/hash/fpmake.pp

******************************************************************************
commit 64fbc1847ff03034bedec336a106ea2fba349742
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 20:09:29 2021 +0200

    * Fix license

M	packages/hash/src/ecc.pp
M	packages/hash/src/hashutils.pp

******************************************************************************
commit 6644d6c4c2baeb1cb5e9f557f434c4c84add4706
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 20:06:40 2021 +0200

    * Fix compilation

M	packages/hash/src/ecc.pp

******************************************************************************
commit 380e861cc8cd4ecfae5b41f7cd25c6dfd88c20cd
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 20:02:59 2021 +0200

    * Needed for hashutils

M	packages/hash/fpmake.pp
A	packages/hash/src/ecc.pp

******************************************************************************
commit 6d4d2f2fb272fcb119f506a5c04ba6de998f0323
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 18:23:59 2021 +0200

    * OneTimePass & test for sha256

M	packages/hash/fpmake.pp
A	packages/hash/src/onetimepass.pp
A	packages/hash/tests/testonetimepass.pp
A	packages/hash/tests/testsha256.pp

******************************************************************************
commit 3229cb712e33374b85258aed43726058be633bed
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 18:21:55 2021 +0200

    * sha256 algorithm

A	packages/hash/examples/demosha256.pp
M	packages/hash/fpmake.pp
A	packages/hash/src/hashutils.pp
A	packages/hash/src/sha256.pp

******************************************************************************
commit b63979a5ba4c72c6d0f990aa7c5800d45f66ee28
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 18:16:11 2021 +0200

    * Added sensible defaults

M	packages/hash/tests/tests.pp

******************************************************************************
commit 8e3158d9652dabaadb0045af88375a1e8213deee
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 18:15:26 2021 +0200

    * Some improvements/fix based on remarks of Alexey Torgashin

M	packages/fcl-base/fpmake.pp
M	packages/fcl-base/src/basenenc.pp

******************************************************************************
commit 446cc62b60fd1238377a385ca8e4d84326ff5651
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Oct 30 12:59:10 2021 +0200

    * Base16/32/64/64URL encoders/decoders, not stream based

A	packages/fcl-base/examples/demobasenenc.lpr
A	packages/fcl-base/src/basenenc.pp
A	packages/fcl-base/tests/testbasenenc.lpr

******************************************************************************
commit 0f14bd45b15390e9f8687b97dbf953c102fc797d
Author: florian <florian@freepascal.org>
Date:   Fri Oct 29 23:06:26 2021 +0200

      * run fcl-image tests with regression tests

R100	packages/fcl-image/tests/tcbarcodes.pp	packages/fcl-image/tests/tcbarcodes.pas
M	packages/fcl-image/tests/testfpimage.lpi
M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit ef923ba1426d988fcc042b378dc1f36681efb123
Author: florian <florian@freepascal.org>
Date:   Fri Oct 29 22:58:23 2021 +0200

      * consistent naming of directories

R100	packages/fcl-image/test/tcbarcodes.pp	packages/fcl-image/tests/tcbarcodes.pp
R100	packages/fcl-image/test/testfpimage.lpi	packages/fcl-image/tests/testfpimage.lpi
R100	packages/fcl-image/test/testfpimage.lpr	packages/fcl-image/tests/testfpimage.lpr

******************************************************************************
commit 76e6beb9298e48f7dd218101f3538f8fd539c420
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Oct 29 17:16:47 2021 +0200

    * Restore previous default behaviour for OnDirective, put under option

M	packages/fcl-passrc/src/pscanner.pp

******************************************************************************
commit 95ad8f1694dd0efd0774767b0a08b79dd53130d4
Author: florian <florian@freepascal.org>
Date:   Thu Oct 28 21:13:01 2021 +0200

      * correctly read the region label in $region directives, resolves #39395

M	compiler/scandir.pas
A	tests/webtbs/tw39395.pp

******************************************************************************
commit 8ca19a3b65283b34bb77fafe0f4ccf4614ba6c48
Author: florian <florian@freepascal.org>
Date:   Wed Oct 27 21:19:34 2021 +0200

      * patch by Frank Rademakers: Initialize new FoxPro Float fields correctly, resolves #39418

M	packages/fcl-db/src/dbase/dbf_dbffile.pas

******************************************************************************
commit 4b157a14988b5f0637e61b5555ca6e420e896b99
Author: florian <florian@freepascal.org>
Date:   Tue Oct 26 21:34:22 2021 +0200

      + print full file path if -vb is passed even if no line number is known, resolves #39419

M	compiler/comphook.pas

******************************************************************************
commit 5c7974fceb768f96853b4abc05cb122ac8ccfd0c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Oct 25 21:41:27 2021 +0200

    pastojs: fixed class property getter static

M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 10fcae34a957e94837fe376fa828815ab99d80a3
Author: florian <florian@freepascal.org>
Date:   Sun Oct 24 18:22:05 2021 +0200

      * improved TX86AsmOptimizer.OptPass1MOVXX

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4610980f2e9ac4269074d2d0613290ab78c50bbd
Author: florian <florian@freepascal.org>
Date:   Sat Oct 23 23:40:09 2021 +0200

      * TX86AsmOptimizer.OptPass1MOVXX takes care of volatility

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7f1050464a60977ad6261a108e4e839bea8fa8a3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 23 11:56:25 2021 +0300

    + added 'else' tracking for the if..end_if blocks

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 7bef4d827d905fc57ed773c2aa70f157a573e225
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 23 11:25:44 2021 +0300

    * keep track of the block stack, when resolving labels and check whether the
      blocks match (i.e. block..end_block, if..end_if, loop..end_loop, try..end_try)

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 342803532de444c5c0710e625bcc2b884193fc51
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Fri Oct 22 12:33:16 2021 +0100

    Bug fix to MovMov2Mov 6 optimisation exposed by 4012c3dbd47f661805bb7a831c6c687807ede3b4 (and miscellaneous code refactors)

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7997f884b70454fcb9067aec884b947b1d6e7759
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Fri Oct 22 23:04:02 2021 +0200

    pastojs: library: forbid unit exports

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit d0fdda6da718e26af14c17fc9d7d0fd3d5bd9fab
Author: florian <florian@freepascal.org>
Date:   Fri Oct 22 22:39:23 2021 +0200

      + TDFABuilder.redodfainfo

M	compiler/optdfa.pas
M	compiler/psub.pas

******************************************************************************
commit 12a2c56461dd689b24756292d4f069e8e24690d8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 22 17:42:29 2021 +0300

    - removed thlcgwasm.incblock, .decblock and br_blocks, as branching is now done
      entirely with labels

M	compiler/ncgset.pas
M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmadd.pas
M	compiler/wasm32/nwasmbas.pas
M	compiler/wasm32/nwasmcnv.pas
M	compiler/wasm32/nwasmflw.pas
M	compiler/wasm32/nwasminl.pas
M	compiler/wasm32/nwasmset.pas

******************************************************************************
commit 3094f756903a6c06ff7786a1fa972ff6a61de457
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 22 17:31:04 2021 +0300

    * WebAssembly code generation for 'case' nodes changed to use labels

M	compiler/nset.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmset.pas

******************************************************************************
commit 6fe647ee3dd194e7ccbf230782da0c42134245be
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 22 10:32:47 2021 +0300

    * moved the default procedure CurrRaiseLabel to the end of the procedure, not
      at the exit label. This fixes problems when using units with finalization
      code that contain classes with class destructors in branchful WebAssembly
      exceptions mode.

M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 470e77a5725fdb0eeffa9475a14937779dce364c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 21 22:48:33 2021 +0300

    + added sanity check when resolving labels to ensure we don't get any jumps with
      negative nesting depth

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 5a0956d8050eb4f3f54ba0d8b9fad41fea3a09c3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 16:20:08 2021 +0300

    * use WebAssembly asm labels for the raise branch instruction in branchful
      exceptions mode

M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 1b6219823b8403beea600fcdcba775312aacef67
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Oct 22 11:01:14 2021 +0200

    * Add test for case of pointer and size

M	packages/vcl-compat/tests/tcnetencoding.pp

******************************************************************************
commit ac9973490ec043d87d327d931b0feeb7ab0a0ed2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Oct 22 10:36:53 2021 +0200

    * Fix missing assign of result. Issue ID #39415

M	packages/vcl-compat/src/system.netencoding.pp

******************************************************************************
commit d2a091ef8522bc99a779f3de26e2c6f1e2065061
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Oct 21 22:57:42 2021 +0200

    pastojs: library: export var

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit f4580ff612b2e24eccac30c99a709019ef4dd457
Author: Pierre Muller <pierre@freepascal.org>
Date:   Thu Oct 21 22:09:05 2021 +0200

     Fix compilation of nds and wii OS rtl

M	rtl/nds/system.pp
M	rtl/wii/system.pp

******************************************************************************
commit 429438fbb9ed8127d3129ad0bfdec8081afbd05d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Oct 21 20:02:22 2021 +0200

    pastojs: fixed clear com interface reference in class field on destroy

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 2ee6a81cffbb95c32c08e5b8474bb05d6658d69a
Author: florian <florian@freepascal.org>
Date:   Wed Oct 20 22:33:53 2021 +0200

      * extended test to cover last commit

M	tests/test/units/system/tparam.pp

******************************************************************************
commit 7baf2461f06eb90429c07950459801e93d286b05
Author: florian <florian@freepascal.org>
Date:   Wed Oct 20 20:03:02 2021 +0200

      * check paramstr argument for negative values, resolves #39410

M	rtl/aix/system.pp
M	rtl/beos/system.pp
M	rtl/bsd/system.pp
M	rtl/haiku/system.pp
M	rtl/linux/system.pp
M	rtl/nds/system.pp
M	rtl/solaris/system.pp
M	rtl/wii/system.pp

******************************************************************************
commit 3eefff75dfcd1b9429b4efaf2902b9cbda3db38b
Author: florian <florian@freepascal.org>
Date:   Wed Oct 20 20:02:45 2021 +0200

      * pass a randseed which is known to be problematic

M	tests/webtbs/tw14315.pp

******************************************************************************
commit 4c544d7858f5e74727a4ff57dae7e5426ac73ce6
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 16:59:41 2021 +0200

    pastojs: library: export unitname.name as alias

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 203b5e636fc2da4d2c71d9688add1f07f7835b00
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 16:59:27 2021 +0200

    fcl-passrc: test export unitname.name

M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit afa1a549acfdfed6768edaa710258230b70e497c
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 15:00:38 2021 +0200

    fcl-js: fixed TJSWriter.WriteExportStatement spacing

M	packages/fcl-js/src/jswriter.pp

******************************************************************************
commit a4a469ae3786be89f66b7ea635fbc6f3d398ced5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 14:56:05 2021 +0200

    pastojs: library: export name

M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 4546673a33b7f31056a5cde492b080b8dd56435e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 14:55:39 2021 +0200

    fcl-js: comments

M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp

******************************************************************************
commit e018264ad93c77e2855f144d004c26873d2f772f
Author: Karoly Balogh <karoly@freepascal.org>
Date:   Wed Oct 20 14:37:16 2021 +0200

    internalerror if the section we're about to keep has no exesection assigned

M	compiler/ogbase.pas

******************************************************************************
commit 4e3a6aa5a812fbd1aee6394f98cc4c2425032735
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 14:29:08 2021 +0300

    * match the label to the wider block, if it is adjacent to both the brevious
      and the next instruction

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit c96e20378024002d340434835ac2cf912c8ebe90
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 13:21:19 2021 +0300

    * moved the 'end_block' WebAssembly instruction before the 'exit' label right
      before the procedure finalization code. This fixes compilation errors in
      procedures with implicit finalization code (e.g. for ansistring local vars,
      etc).

M	compiler/psub.pas
M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 03513720a3bab8b168cbb9707417c915d9654608
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 11:58:50 2021 +0300

    * fixed range check error in the DOS unit

M	rtl/wasi/dos.pp

******************************************************************************
commit bb3095866549b503f6419b773fa2e65c0b88f320
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 11:09:08 2021 +0300

    + wrap block nodes with exit in a_block..a_end_block instructions. This fixes
      'exit' in inlined procedures on the WebAssembly target.

M	compiler/wasm32/cpunode.pas
A	compiler/wasm32/nwasmbas.pas

******************************************************************************
commit 703ae75ba6a9d8d1c39e81e319e72a4fd19ef702
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 10:51:15 2021 +0300

    * if a label cannot be associated with the previous block instruction, try
      matching it with the next instruction

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 9f077d4ac04479b4bc3e46a3eb8465d1916df5df
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 10:40:21 2021 +0300

    * leave unresolved branches in the asm output, when the compiler is compiled with -dEXTDEBUG

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 1ce2fb8a4acaeee52446e881f0da0d0540097b2f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 10:30:56 2021 +0300

    * use WebAssembly asm labels for generating code for the 'exit' statement

M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 2fa60d1af3e3af9a2c39fd1dc6a0360310967900
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 11:53:40 2021 +0200

    fcl-pasrc: error if exports section inside inside procedure

M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/tests/tcresolver.pas

******************************************************************************
commit 0aecf4d89f40156e602576f251d2ec7b3a442a73
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 11:32:54 2021 +0200

    pastojs: library: create and call main

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas
M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 20ae686e31f47256d657a3bb2b79751a98deb38a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 10:58:56 2021 +0200

    pastojs: test unit linklib

M	packages/pastojs/tests/tcunitsearch.pas

******************************************************************************
commit 3ceddfb2d682a6440d36ee15fc4d2ebdd599cf46
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 10:37:18 2021 +0200

    pastojs: added test linklib

M	packages/pastojs/tests/tcmodules.pas
M	packages/pastojs/tests/tcunitsearch.pas

******************************************************************************
commit 1e80ae406d66ba18ff5271d413c72f48f0f698ea
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Oct 20 10:36:53 2021 +0200

    pastojs: comments

M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit b876a02daf2e8ea67b4b6a3aad8a3a96a6445e0d
Author: Sven/Sarah Barth <pascaldragon@gmail.com>
Date:   Wed Oct 20 09:53:09 2021 +0200

    * the libc unit might be deprecated, but it's no reason for wrong declarations, in this case values that should be declared as octal but were declared as decimal with the same literal text

M	packages/libc/src/bshmh.inc

******************************************************************************
commit dc9090e67f48c7e23f7701e46427169be78d03e3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 10:23:02 2021 +0300

    * fixed some more warnings

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit b3a9c36cbb77bcd8079505ee9f16b68a09307ed5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 10:03:14 2021 +0300

    * fixed some warnings

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 0662a0bd44c557d338e577cc29065db54b57f202
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 09:59:54 2021 +0300

    + use WebAssembly asm labels for the code generation of 'break' statements as well

M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 01dc62b1275ca935ab65e856495faf3300f6dc62
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 20 09:39:44 2021 +0300

    + introduced the use of asm labels for WebAssembly. Resolve them in
      tcpuprocinfo.postprocess_code. Use them when generating code for the
      'continue' label jumps.

M	compiler/aasmbase.pas
M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit e1698a59691361696e8ba2db1914f70b9d195762
Author: florian <florian@freepascal.org>
Date:   Tue Oct 19 21:32:40 2021 +0200

      * when compiling with the main branch compiler, p2align with 3 parameters can be used now

M	rtl/x86_64/x86_64.inc

******************************************************************************
commit 6921b968f1cdba59d2403a81c2950336ec2839af
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 17:31:02 2021 +0300

    - removed TWasiSearchRec.Mode, because it was unused

M	rtl/wasi/dos.pp
M	rtl/wasi/wasiutil.pp

******************************************************************************
commit 8c39213d39eca0bfe89168734159f86bebbcbb4a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 16:24:43 2021 +0300

    + implemented DOS.FSearch for WASI

M	rtl/wasi/dos.pp

******************************************************************************
commit 8e730d20db57219db3aa63bb97301a0a1591d1f1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 15:39:59 2021 +0300

    + implemented FindFirst, FindNext and FindClose in SysUtils for the WASI platform

M	rtl/objpas/sysutils/filutilh.inc
M	rtl/wasi/sysutils.pp

******************************************************************************
commit 090cc8fa8f7e60f2bb0fa6fa6d21d17509f39564
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 13:39:20 2021 +0300

    * moved the FindFirst/FindNext/FindClose code from unit DOS to WasiUtil, using
      RawByteString. This will allow to reuse the same implementation in SysUtils.

M	rtl/wasi/dos.pp
M	rtl/wasi/wasiutil.pp

******************************************************************************
commit 0ead28c1e05b6eaaf53455be86d8cb3dfc97c669
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 12:01:14 2021 +0300

    - removed the RtlInfoType record, because it is only used only once in a local
      variable. Use an anonymous record instead.

M	rtl/wasi/dos.pp

******************************************************************************
commit 6cd88575c63e91afaf914f9ff9a1c67e60c4408a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 11:51:25 2021 +0300

    - removed unused, commented out fields from the RtlInfoType record

M	rtl/wasi/dos.pp

******************************************************************************
commit 78c4585b535666f6c2f99af64dcae76c5bbc1f30
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 11:36:01 2021 +0300

    * the FNMatch private helper function moved from unit DOS to unit WasiUtil, and
      changed to have rawbytestring parameters, so it can be used from SysUtils as
      well.

M	rtl/wasi/dos.pp
M	rtl/wasi/wasiutil.pp

******************************************************************************
commit de3ab7e46b6c7f50723da61aa992b04145cb2472
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 09:39:25 2021 +0300

    * added the fpc_wasi_path_readlink_ansistring helper function to unit wasiutil

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
M	rtl/wasi/sysutils.pp
M	rtl/wasi/wasiutil.pp

******************************************************************************
commit b2a0df0d10aa701c4e21d215c42fb78cfdf96f62
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 19 09:06:56 2021 +0300

    * ConvertToFdRelativePath removed from the interface part of the WASI system
      unit (to avoid cluttering the WASI system unit interface with platform
      dependent routines) and added to a new unit, called wasiutil

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
M	rtl/wasi/dos.pp
M	rtl/wasi/system.pp
M	rtl/wasi/sysutils.pp
A	rtl/wasi/wasiutil.pp

******************************************************************************
commit c6168327925ff1bc96f06fe9df952b147bf2b8de
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Oct 18 22:41:38 2021 +0000

     Disable utils packages for wasi OS if required package is not supported or if labels are used (which is not supported for wasm32 target CPU)

M	utils/fpcres/fpmake.pp
M	utils/fpcreslipo/fpmake.pp
M	utils/fpdoc/fpmake.pp
M	utils/fppkg/fpmake.pp
M	utils/h2pas/fpmake.pp
M	utils/json2pas/fpmake.pp
M	utils/pas2fpm/fpmake.pp
M	utils/pas2jni/fpmake.pp
M	utils/pas2ut/fpmake.pp
M	utils/tply/fpmake.pp

******************************************************************************
commit d4e610dbc3a75859ce53654f88ea97e4e3fdb8b9
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Oct 18 22:03:42 2021 +0000

     Disable utils/fpcmkcfg package for wasi OS as it requires packages/fpmkunit package

M	utils/fpcmkcfg/fpmake.pp

******************************************************************************
commit 7e73e0dd2314527e9b9a79e51fdd5727e6efdad8
Author: florian <florian@freepascal.org>
Date:   Mon Oct 18 22:08:06 2021 +0200

      + support reading of .p2align with op code and/or max. bytes in the gas assembler reader
      + test

M	compiler/aasmtai.pas
M	compiler/raatt.pas
A	tests/test/tp2align.pp

******************************************************************************
commit b8102dcdc0e24bd7f7488ad731e330828ce32939
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Oct 18 21:34:05 2021 +0200

    fcl-js: fixed stackoverflow when freeing long binary list

M	packages/fcl-js/src/jstree.pp

******************************************************************************
commit 6cfee2f5d5cb602c9a3a199d943fac48be683629
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Oct 18 21:33:31 2021 +0200

    fcl-passrc: updated lpi

M	packages/fcl-passrc/tests/testpassrc.lpr

******************************************************************************
commit bdc826cc18a03a833735853c0c91268c992e8592
Author: florian <florian@freepascal.org>
Date:   Sun Oct 17 22:44:52 2021 +0200

      * x86-64: do not jump in inc/declocked to return but return directly

M	rtl/x86_64/x86_64.inc

******************************************************************************
commit 08050086b950a6bdb5a04f6054d58a497f45d7a4
Author: florian <florian@freepascal.org>
Date:   Sun Oct 17 21:57:39 2021 +0200

      * keep type when removing "1*", resolves #38840

M	compiler/nadd.pas
A	tests/webtbs/tw38840.pp

******************************************************************************
commit e97e27b8d5524a0408b7789e51e219a1bfed2c06
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Oct 17 17:58:11 2021 +0200

    * Raise exception for fileseek positions that do not fit in longing. Issue #39407

M	rtl/objpas/sysconst.pp
M	rtl/unix/sysutils.pp

******************************************************************************
commit 1e74c418aed097b4f47c84f68b7e7207d56eaba4
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Oct 17 12:44:44 2021 +0200

    * Fix integer overflow not being detected. Issue #39406

M	rtl/objpas/sysutils/sysstr.inc

******************************************************************************
commit ee10850a5793b69b19dc82b9c28342bdd0018f2e
Author: florian <florian@freepascal.org>
Date:   Sun Oct 17 11:13:29 2021 +0200

      * patch by Sergey Larin: Reducing and aligning the size of TAnsiRec, TUnicodeRec for CPU64, resolves #38018:
        For CPU64, the size of record TAnsiRec and TUnicodeRec is 16 bytes instead of 24.
        Which is very good also because of the alignment. when allocating memory, the address
        of the first character of the string will be aligned on the 16-byte boundary.
        At the same time, the useless Dummy field, which is needed in CPU64 for exactly alignment, has been removed.
        For CPU32 (and CPU16), the record size has not changed, so procedures such as
        fpc_AnsiStr_Decr_Ref, implemented in assembler (see i386, arm), remained working correctly.
      * tests adapted

M	compiler/aasmcnst.pas
M	rtl/inc/astrings.inc
M	rtl/inc/ustrings.inc
M	tests/webtbs/tw20962.pp
M	tests/webtbs/tw7100.pp

******************************************************************************
commit ea6529ff63225e13baa4e1fd2c193b84d1432048
Author: florian <florian@freepascal.org>
Date:   Sun Oct 17 10:22:30 2021 +0200

      * manually merged merge request 69 by J. Gareth "Kit" Moreton:
        x86: CMP/MOV refactoring and expansion
          This merge request refactors the SwapMovCmp routine, and calls to it, to be more self-contained,
          having the preliminary checks built-in to ensure that moving the MOV instruction is
          actually a sound idea, while also making it more general-purpose so it can handle instructions
          that are not MOV operations. This feature is primarily for future expansion,
          but also cleans up the code for the x86 peephole optimizer.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4012c3dbd47f661805bb7a831c6c687807ede3b4
Author: florian <florian@freepascal.org>
Date:   Sun Oct 17 09:50:47 2021 +0200

      * merge request 75 by J. Gareth "Kit" Moreton manually applied:
    
        This merge request makes a number of improvements to the DeepMOVOpt method and supporting functions:
    
          * ReplaceRegisterInInstruction now replaces registers in references that are written to
            (since the registers themselves won't change)
          * RegModifiedByInstruction will no longer return True for a register that appears in a reference
            that's written to (for the same reason as above) - special operations like MOVSS
            (the 0-operand version) aren't affected.
          * DeepMOVOpt returning True will now always set the Result of OptPass1MOV to True even though p
            wasn't directly modified, since this often caused missed optimisations.
          * Some of the speed-ups in the patch from #32916 have also been applied in order to make
            the general DeepMOVOpt run faster, notably it tries to avoid calling UpdateUsedRegs where possible.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5c75ef30ce78ba8dcf467f65ee6118e7dfe87a09
Author: florian <florian@freepascal.org>
Date:   Sat Oct 16 20:44:52 2021 +0200

      * test for #37785 which is resolved meanwhile

A	tests/webtbs/tw37785.pp

******************************************************************************
commit fd28cc0db04b00612387baba33f30f8e0dc3825c
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Oct 10 03:42:03 2021 +0100

    Better handling of zeroing upper parts of registers
    
    Better handling of zeroing upper parts of registers

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 674ed4069a2fdf69362353707cbfa08fa222d998
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Tue Oct 5 07:16:41 2021 +0100

    Expanded MM block move to include YMM registers under AVX

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit d55b2c2a35d9a30f4928cab612f02d70e2704fb9
Author: florian <florian@freepascal.org>
Date:   Fri Oct 15 23:12:59 2021 +0200

      + extend assembler optimization MovxMov2Mov to MovxOp2Op

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 21d843128d02fffcb8126811c16846420d570c32
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 15 14:33:43 2021 +0300

    + added a wrapper function around __wasi_path_readlink that calls it iteratively
      with doubling buffer sizes, starting with 64 bytes, until it reaches 16384
      bytes, and reads the link into a rawbytestring. Use that function in all
      places in the WASI rtl that need to read a symlink.

M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp
M	rtl/wasi/sysutils.pp

******************************************************************************
commit 0da5d57c1e54cafdfa4f2233a17e4d17dd5ff694
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 14:19:13 2021 +0300

    * replaced the 'if br end_if' sequence with the 'br_if' instruction, when
      generating WebAssembly code for try..finally blocks (in all exception modes)

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit dcae87bd5267914c8be0b57481f355a3eb700f3a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 12:29:59 2021 +0300

    + support cdecl and stdcall on the WebAssembly target. They are essentially the
      same, the only difference is that cdecl creates an unmangled alias

M	compiler/wasm32/cpuinfo.pas

******************************************************************************
commit b91fc3a0d3409b39e20bf0e0120ec8c072bc410a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 10:34:08 2021 +0300

    * fixed passing of singleton record parameters, containing a float in WebAssembly

M	compiler/defutil.pas
M	compiler/wasm32/cpupara.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit df92d88f39a81ef2ec20499ea82cfdee6df04df6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 09:34:00 2021 +0300

    + added support for the handling of singleton record and array types in
      defToWasmBasic

M	compiler/wasm32/cpupara.pas
M	compiler/wasm32/tgcpu.pas

******************************************************************************
commit 3511b8097269e7622ef97c9a6da7f0db8a948888
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 08:46:54 2021 +0300

    * fixed formatting in defToWasmBasic

M	compiler/wasm32/tgcpu.pas

******************************************************************************
commit ee387f7c66f418a23f78a0b6ceb162bec71a5d1b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Oct 14 08:29:16 2021 +0300

    * C ABI fixes for the passing of records in WebAssembly

M	compiler/wasm32/cpupara.pas

******************************************************************************
commit 236e10d03aab15949f7c2114ddc39b63cf2ea364
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 08:13:13 2021 +0300

    + pass 64-bit structures by address in WebAssembly for compatibility with LLVM's C ABI

M	compiler/wasm32/cpupara.pas

******************************************************************************
commit 321764bdd93a675343fa0045ec22a1c2d62639c3
Author: florian <florian@freepascal.org>
Date:   Wed Oct 13 23:07:39 2021 +0200

      * fix warnings with -dDEBUG_NODE_XML, resolves #38222

M	compiler/verbose.pas

******************************************************************************
commit 6cb24a392959e10186cb0bdc9347ef78ecc53882
Author: florian <florian@freepascal.org>
Date:   Wed Oct 13 22:55:22 2021 +0200

      * itcpugas unit for Z80 providing gas_regname to fix compilation with -dDEBUG_NODE_XML

A	compiler/z80/itcpugas.pas

******************************************************************************
commit 34587a647f791f29c0ac26fec13059e516507c40
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 06:39:42 2021 +0300

    + init the ansistring upper and lower case tables in the WASI SysUtils unit initialization

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 44f862fb4eac9ff7383bc57dbd18b87ea314defc
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 03:49:54 2021 +0300

    + added test for SysUtils.GetLocalTime

A	tests/test/units/sysutils/tgetlocaltime.pp

******************************************************************************
commit f21273612a6ab485cf408aaaf6b9c0c5381ae1b6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 02:39:04 2021 +0300

    + also fill DayOfWeek in the Unix implementation of SysUtils.GetLocalTime

M	rtl/unix/sysutils.pp

******************************************************************************
commit f20de5d583cb86f6ec3bf856716fc85ab9ce4a95
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 02:02:50 2021 +0300

    * fixed padding in the filerec to match textrec even on platforms where
      sizeof(pointer)<>sizeof(codepointer), like in the medium and compact i8086
      memory models

M	rtl/inc/filerec.inc

******************************************************************************
commit 0934df505cdf94d24ff93dcd6c23eefac8799795
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 13 01:28:45 2021 +0300

    + implemented SysUtils.GetLocalTime for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 00d4a6889dd2f79981ebaef3f839be5354d2933c
Author: florian <florian@freepascal.org>
Date:   Tue Oct 12 22:59:17 2021 +0200

      * add no internal flag when folding constants in taddnode.simplify, resolves #39308

M	compiler/nadd.pas
A	tests/webtbf/tw39308.pp

******************************************************************************
commit 099a92733113b683be425b3400f744394ae2897d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 11:27:27 2021 +0300

    * fix for the WASI datetime to epoch conversion

M	rtl/wasi/dos.pp
M	rtl/wasi/sysutils.pp

******************************************************************************
commit a55980bfb85a47c711b31f6ca6ccf3ad74c66d94
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 11:06:16 2021 +0300

    + implemented dos.SetFTime for WASI

M	rtl/wasi/dos.pp

******************************************************************************
commit c4d7773c0ed87047041bbf32d8773b70b75709aa
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 10:33:28 2021 +0300

    + added platform-specific helper function dos.DTToWasiDate, similar to
      DTToUnixDate on Unix

M	rtl/wasi/dos.pp

******************************************************************************
commit ca242e9ad0e3ba047fcca8cc95fb8e41599d2d0b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 09:14:14 2021 +0300

    + implemented DOS.GetFAttr for WASI

M	rtl/wasi/dos.pp

******************************************************************************
commit 4e605fb7643902e82de03ef4b43aaa166c30a42f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 07:08:32 2021 +0300

    + dummy implementation of dos.SetFAttr for WASI, based on the Unix version

M	rtl/wasi/dos.pp

******************************************************************************
commit 00aa7b8ab3843aa3d5521ffc1f15cd01c4814685
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 05:50:24 2021 +0300

    + implemented SysUtils.FileGetAttr for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 7f7c5785fc77b0e697c15c69be56ba7c84bf2fc9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 05:38:16 2021 +0300

    * always return an error in SysUtils.FileSetAttr on WASI - this function is not supported by the WASI API

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 809277d2b15b2c4e713cf7fc81d284429e935c2b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 05:32:53 2021 +0300

    + implemented SysUtils.FileGetSymLinkTarget for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 1e5ecccdc663ca646632cbd46a1fe5905cba99ab
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 03:50:23 2021 +0300

    + implemented SysUtils.DirectoryExists for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit aafb471bc880fc20a9b73cf0d60f109163793794
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 03:27:08 2021 +0300

    * don't set InOutRes in ConvertToFdRelativePath, but return it instead. This
      fixes issues in places where this function is used in a way that should not
      set IOResult.

M	rtl/wasi/dos.pp
M	rtl/wasi/sysdir.inc
M	rtl/wasi/sysfile.inc
M	rtl/wasi/system.pp
M	rtl/wasi/sysutils.pp

******************************************************************************
commit 4dc0c37678ca9102dc0de687cf27963124bf9bdf
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 03:08:18 2021 +0300

    + implemented SysUtils.FileExists for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit fe903f2ae413631591528c2ea9b33fcc05eac4e3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 01:42:20 2021 +0300

    * fixed range check error in HasDriveLetter when path is 1 character long

M	rtl/wasi/system.pp

******************************************************************************
commit 00d5bb5bbc52baad3f2e268c2d51ceba4b266b04
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 12 01:41:14 2021 +0300

    * fixed off-by-one error when initializing current_drive in the WASI system unit

M	rtl/wasi/system.pp

******************************************************************************
commit ca9384fd6c265aa76a9ef59229b3746153e6114a
Author: florian <florian@freepascal.org>
Date:   Mon Oct 11 18:43:59 2021 +0200

      * patch by Dean Mustakino to avoid generation of debug info for generics, resolves #38827
      + test

M	compiler/dbgdwarf.pas
A	tests/webtbs/tw38827.pp
A	tests/webtbs/uw38827.pp

******************************************************************************
commit 068f781c7a21335ae04ed8e63a5c18f1a841280e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 17:51:13 2021 +0300

    + also implemented FileSetDate(FileName) for WASI, via the __wasi_path_filestat_set_times API call

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 94d8c22c6ac229faf084188fe25bc04966a47d7a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 15:51:13 2021 +0300

    + implemented SysUtils.FileSetDate for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 38075ac30c61c95b9371b07312eede596bf0bd22
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 15:26:55 2021 +0300

    + implemented SysUtils.FileAge for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 8f95c14827ec62cfe7435e485825dff98b72a8f4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 15:08:48 2021 +0300

    + implemented SysUtils.FileGetDate for WASI

M	rtl/objpas/sysutils/dati.inc
M	rtl/wasi/sysutils.pp

******************************************************************************
commit 2a93340bcc22c2f6c45c22569b10a6d81ddadc56
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 11:27:57 2021 +0300

    + implemented SysUtils.DeleteFile for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit c8d5bd77a31e088d4f5345a8294a27a75b3bf6c7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 11:21:33 2021 +0300

    - don't call ToSingleByteFileSystemEncodedFileName in SysUtils.FileOpen and
      .FileCreate, because ConvertToFdRelativePath already calls it

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 05c6937fd9dd592eb643bc94d1e16c1f95dc6e82
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 11:14:05 2021 +0300

    + implemented SysUtils.RenameFile for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 4c89eaa6cf12074ffed3b01cdcf30a6aa507aafd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:50:44 2021 +0300

    + implemented SysUtils.FileSeek for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 14f361e13f82eceabe67317ba5e243d404419233
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:37:11 2021 +0300

    + implemented SysUtils.FileWrite for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 09e61201d221bf098a42d5f994592f7df51a203f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:33:54 2021 +0300

    * fixed WASI bug in do_read, where the result of the __wasi_fd_read syscall function was ignored

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 977b2f2a4bf7bda09554b034f2112d761d680517
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:32:50 2021 +0300

    + implemented SysUtils.FileRead for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 305393a9c11b8768a2aaa89ca8f1ff0e852ed94b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:26:06 2021 +0300

    - removed the zero constants from the implementation of SysUtils.FileOpen for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 0bbc5a75280fa0ad0ee39e046dedd9d6d97ab90e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:24:36 2021 +0300

    + implemented SysUtils.FileCreate for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 62846f54adbc08323ce660fbba6b33e1e0275d07
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 10:11:07 2021 +0300

    + implemented SysUtils.FileOpen for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit aa4070ca8a2c27b818269b42c7470e5b7b03ddad
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 09:52:09 2021 +0300

    + implemented SysUtils.FileClose for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 27df4e98d2f1bf8e64b6037edd8d4643bd764809
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 09:25:01 2021 +0300

    * use rawbytestring instead of ansistring for the WASI file name handling

M	rtl/wasi/dos.pp
M	rtl/wasi/sysdir.inc
M	rtl/wasi/sysfile.inc
M	rtl/wasi/system.pp

******************************************************************************
commit a0e7882692432d6487acf60ae54218335f709233
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 09:04:32 2021 +0300

    * use AllowDirectorySeparators, instead of checking for '/' and '\'

M	rtl/wasi/system.pp

******************************************************************************
commit 60d350f06788a6da9c2054f2dc2083066d9b10b7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 08:56:16 2021 +0300

    * another instance of ['/','\'] replaced with AllowDirectorySeparators

M	rtl/wasi/sysdir.inc

******************************************************************************
commit d7755a56f6fe705c8edfb955e0f071ac55ea5865
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 08:51:39 2021 +0300

    * replaced '/' with DirectorySeparator in the WASI directory parsing code

M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp

******************************************************************************
commit 13c344a3a078430d212f2f523822c5810157a3d8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 08:45:42 2021 +0300

    * replaced ['/','\'] with AllowDirectorySeparators in the WASI directory
      parsing code

M	rtl/wasi/dos.pp
M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp

******************************************************************************
commit 25ac1380921c96b933673c8ec9f3e10da66f47d5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 11 08:38:33 2021 +0300

    * keep the drive string separate in the preopen and the current dir records on
      the WASI platform

M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp

******************************************************************************
commit 07413be8b569f000a158c290fa856365557c3dd3
Author: florian <florian@freepascal.org>
Date:   Sun Oct 10 22:54:08 2021 +0200

      + being able to define change information for xmm0
      * corrected change information for SHA256RNDS2

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 64db584eefebcc5e5faeb287a9d10977adb4a886
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 10 12:33:36 2021 +0300

    * moved the preopened dir and current dir handling types and variables to the
      implementation part of the system unit, so their implementation is not exposed
      and can be changed in the future (e.g. for thread safety when WebAssembly
      gets multithreading support, etc.)

M	rtl/wasi/system.pp

******************************************************************************
commit a62c7555d78f049c711cfd594455f73fa04b6620
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 10 12:28:56 2021 +0300

    - removed the DebugWriteXXX functions from the WASI system unit, since console
      output is now quite stable and can be used for debugging

M	rtl/wasi/system.pp
M	rtl/wasm32/setjump.inc

******************************************************************************
commit 0d6b5338d0541b6a844d1d832b09b7709fe2948b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 10 12:17:35 2021 +0300

    + implemented ChDir() for WASI

M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp

******************************************************************************
commit 85ebd2c94c5fdad806ea96a1cdc3ff3400692dab
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 10 09:48:54 2021 +0300

    * fixed handling of relative paths that are not directly relative to a preopened
      dir in ConvertToFdRelativePath. This is a preparation for ChDir support.

M	rtl/wasi/system.pp

******************************************************************************
commit a925522ead1e0ccdbd0c77c57e2ccc147b61dc67
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Oct 10 09:15:43 2021 +0100

    xor optimisation now doesn't check to see if the REX prefix will actually be removed, as it's beneficial for speed reasons to only use the 32-bit register when zeroing the whole thing

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2c180cf101b6a49c1f8bdf462cd7b4e729600ad8
Author: florian <florian@freepascal.org>
Date:   Sun Oct 10 15:34:59 2021 +0200

      * by default, DEBUG_AOPTCPU is only enabled if the compiler is compiled with -dEXTDEBUG

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit d502bccc1b03094d5260f1494baf49387f674273
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Oct 10 06:31:57 2021 +0100

    A pair of inlines

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit a41e991a130a43f368a6cd1054fca2d38e417620
Author: florian <florian@freepascal.org>
Date:   Sun Oct 10 11:15:36 2021 +0200

      * fix also IDE building after fpccrc to fpchash renaming

M	packages/ide/fpini.pas

******************************************************************************
commit cc3cbbb7b96d75e816f38a83abcbb08b9fd8843d
Author: florian <florian@freepascal.org>
Date:   Sun Oct 10 10:21:21 2021 +0200

      * fix x86 compilation after my last commit

M	compiler/ogomf.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit a4672fbd1c097752430017fbe84a26d702e43e83
Author: florian <florian@freepascal.org>
Date:   Sun Oct 10 10:09:22 2021 +0200

      o based on a patch by Rika, resolves #39401:
        * use Base64 (62=_, 63=$) encoded FNV hash (instead of CR-32) to shorted identifiers
        * renamed fpccrc to fpchash
        + test

M	compiler/aasmbase.pas
R055	compiler/fpccrc.pas	compiler/fpchash.pas
M	compiler/link.pas
M	compiler/ncgvmt.pas
M	compiler/pcp.pas
M	compiler/pgenutil.pas
M	compiler/ppu.pas
M	compiler/symdef.pas
A	tests/webtbs/tw39401.pp

******************************************************************************
commit bae50d80d246622a958d57c8dc70c3eff91b1b53
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 10 09:11:19 2021 +0300

    * preopen fd names and current dir changed to use ansistring, as well as the
      parameters and result of ConvertToFdRelativePath. This will allow easier
      implementation of ChDir.

M	rtl/wasi/dos.pp
M	rtl/wasi/sysdir.inc
M	rtl/wasi/sysfile.inc
M	rtl/wasi/system.pp

******************************************************************************
commit bff09e8e9e2f6e09d351387fd22b1849c5975ce8
Author: florian <florian@freepascal.org>
Date:   Sat Oct 9 16:23:11 2021 +0200

      + CPU units: check for SHA support

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/units/cpu/tcpu1.pp

******************************************************************************
commit 6c7e6191f64ac8cea36e963028c190263d8a2ea9
Author: florian <florian@freepascal.org>
Date:   Sat Oct 9 15:44:46 2021 +0200

      + support of SHA extension in the internal assembler

M	compiler/i386/i386att.inc
M	compiler/i386/i386atts.inc
M	compiler/i386/i386int.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386op.inc
M	compiler/i386/i386prop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086att.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086int.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086op.inc
M	compiler/i8086/i8086prop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664att.inc
M	compiler/x86_64/x8664int.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664op.inc
M	compiler/x86_64/x8664pro.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 8f68988aefeec865263dfecb29140de582470949
Author: florian <florian@freepascal.org>
Date:   Sat Oct 9 14:24:14 2021 +0200

      * another location to use source register as second register in VCVTSD2SS and VCVTSS2SD
        to break dependency chains, hopefully final fix for #39360

M	compiler/x86/cgx86.pas

******************************************************************************
commit b4bf371b34b19d4505b8a330a1b9250047a4b8ca
Author: florian <florian@freepascal.org>
Date:   Fri Oct 8 22:58:41 2021 +0200

      * generate VMOVAPS for (V)Cvtss2CvtSd(V)Cvtsd2ss optimization, resolves #39360

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 344da9597f1dc072a634820a9431146d0b7c60f7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 8 23:50:28 2021 +0300

    + added the current WebAssembly exceptions mode to the .ppu module flags and
      perform a check to ensure all units are compiled in the same exceptions mode
      as the main program

M	compiler/fppu.pas
M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 7388735b11726d1263de7058d7492d9f87f9bcb4
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Oct 8 18:04:03 2021 +0300

    * Strength reduction optimization: - Use a temp for complex loop start values to prevent double evaluation.
      - For slow CPUs perform the optimization for all sizes of array elements.

M	compiler/optloop.pas

******************************************************************************
commit 6bf4c7a68d2491971350170e80414a07e11ab4f5
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Oct 8 16:51:42 2021 +0300

    * Optimized evaluation of the condition.

M	compiler/optloop.pas

******************************************************************************
commit b93998c17c7b2eb81e13fbb93bc987f0258a645c
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Oct 8 08:41:14 2021 +0000

    Disable utils for wasi target, because paszlib cannot be compiled due to use of goto labels

M	utils/fpmake.pp

******************************************************************************
commit 4752230c8f5f5f51774b90e52ceec3a142b3f62d
Author: florian <florian@freepascal.org>
Date:   Thu Oct 7 23:09:35 2021 +0200

      * use source register as second register in VCVTSD2SS and VCVTSS2SD, this should break
        dependency chains better and resolves partially #39360

M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas

******************************************************************************
commit ec40db3da7ab1d8143b4276518416aa2816d792e
Author: florian <florian@freepascal.org>
Date:   Wed Oct 6 21:57:24 2021 +0200

      + (V)Cvtss2CvtSd(V)Cvtsd2ss2Nop optimization, resolves #39360

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit d5867793f6d16bde39e0e209a11741ba8d8b0388
Author: florian <florian@freepascal.org>
Date:   Wed Oct 6 21:23:25 2021 +0200

      * partially applied patch by J. Gareth "Kit" Moreton to inline parts of cclasses, resolves #39344

M	compiler/cclasses.pas

******************************************************************************
commit e77bf0f3bd38071b6b635750896b1e27e6d09c40
Author: Bi0T1N <9175580-Bi0T1N@users.noreply.gitlab.com>
Date:   Sun Sep 26 14:35:30 2021 +0200

    Add two more templates to show the possibilities

A	.gitlab/issue_templates/Feature Request.md
A	.gitlab/merge_request_templates/Packages.md

******************************************************************************
commit 25af28de1ea5118b84464baeaaeedf1518ae0218
Author: Bi0T1N <9175580-Bi0T1N@users.noreply.gitlab.com>
Date:   Sat Sep 25 23:33:13 2021 +0200

    Add initial Description templates
    
    this adds a description template for issues as well as for
    merge requests that target the compiler

A	.gitlab/issue_templates/Bug.md
A	.gitlab/merge_request_templates/Compiler.md

******************************************************************************
commit d45915b6ba0f99a70c51243377471bd834a5f541
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 6 07:44:04 2021 +0300

    * preopened dirs structure in the system unit modified to be a pointer to an
      array of records

M	rtl/wasi/system.pp

******************************************************************************
commit e078408dcf76a282a7336afeb5476c75779817cd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 6 06:12:58 2021 +0300

    + implemented SysUtils.GetEnvironmentVariable, GetEnvironmentVariableCount and
      GetEnvironmentString for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 7533496505e52d2df2fa7bb3291c23adb91046c7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 6 05:39:11 2021 +0300

    + implemented SysUtils.Sleep for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit d134fc1ddfb6158945bc1751e0d2df1657f89a64
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Oct 6 04:46:44 2021 +0300

    + implemented SysUtils.GetTickCount64 for WASI

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 91cf1774dd59376434dde4581f8eaad74696aa0a
Author: florian <florian@freepascal.org>
Date:   Tue Oct 5 22:20:22 2021 +0200

      * replace MT random generator by Xoshiro128**, resolves #38237

M	rtl/inc/system.inc
M	tests/webtbs/tw14315b.pp

******************************************************************************
commit e19fcd2b8b826c69b9ca97ab19eb9d9b49a4cf16
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 20:49:32 2021 +0300

    + implemented GetMsCount in the DOS unit for WASI

M	rtl/wasi/dos.pp

******************************************************************************
commit 074ce9c50fa5d97afd1ebff5720ece287f767f6e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 18:02:11 2021 +0300

    + added call to g_maybe_checkforexceptions after generating call to fpc_iocheck

M	compiler/ncgcal.pas

******************************************************************************
commit 3c58f26e83b91e2d79e894b03403d469073c7113
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 17:54:35 2021 +0300

    * thlcgwasm.g_checkexceptions renamed .g_maybe_checkforexceptions, added also as
      an empty virtual method in thlcgobj and modified the WebAssembly
      implementation, so that it can be called from any exceptions mode (so it
      emits no code in exception modes that don't require it, instead of generating
      an internal error). This will allow .g_maybe_checkforexceptions to be called
      from the generic parts of the code generator, after calls to systemprocs that
      could raise an exceptions.

M	compiler/hlcgobj.pas
M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmcal.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 387c80cc57b691c887303cc224ee01dd46684a0d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 08:02:39 2021 +0300

    + default exception handling in WebAssembly native exceptions mode

M	rtl/wasi/si_prc.pp
M	rtl/wasm32/except_native.inc

******************************************************************************
commit fab4ca449bb6ba351500c5443a3e9c0567ba19eb
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 07:54:57 2021 +0300

    * twasmexceptionstatehandler_nativeexceptions.handle_nested_exception and
      twasmexceptionstatehandler_bfexceptions.handle_nested_exception should not be
      called, so now they cause an internal error

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 04a41fa5b08de0a837f11af30cfe9091c36a2830
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 07:43:47 2021 +0300

    - removed duplicated assignment

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 99ab6bd56d4d60aa3cf5ec2680514a143da4dd1b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 07:41:42 2021 +0300

    + proper exception object cleanup when using break, continue or exit in try
      except blocks in WebAssembly native exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit ddbdc529b1e3d99244e2d0cedcb20195c0fb55e7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 07:19:24 2021 +0300

    + proper exception cleanup for try except blocks that use exit, break or
      continue in WebAssembly branchful exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 023f08d54bef139841faaf7c954732498e139277
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 06:45:31 2021 +0300

    + exception cleanup when break, continue or exit is used inside a
      try .. except 'on' block, in WebAssembly native exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit cf7ad98dbfcaf699983d813452a0a5dabe68818c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 06:25:32 2021 +0300

    + support exception object cleanup, when 'exit', 'break' or 'continue' is used
      in the except 'on' statements, in branchful WebAssembly exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 7110d1e48e8fe40a95738cb993cb06fdf535afaa
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 05:29:10 2021 +0300

    * use 'br_if' instead of 'if br end_if' sequence in the code, generated by
      thlcgwasm.g_checkexceptions

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit d9eb8d75b9f6005cc36f66da635c46f3d4aad250
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 04:44:52 2021 +0300

    + return a small, fake backtrace for WebAssembly, so that in case of a runtime
      error, the message 'Runtime error XXX at $EEEEEEEE' appears.

M	rtl/wasm32/wasm32.inc

******************************************************************************
commit c0cec218d64e082c373a6f973d4cf2f5798f84fa
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 04:06:56 2021 +0300

    + added unhandled exception handling code for the branchful exceptions mode

M	rtl/wasi/si_prc.pp
M	rtl/wasm32/except_branchful.inc

******************************************************************************
commit a01a6021409f83d80ec80d95e73a66912d7d1211
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 03:48:47 2021 +0300

    - removed commented out code from the WASI startup code

M	rtl/wasi/si_prc.pp

******************************************************************************
commit f7b1ec24352fc4eb77adb23ec70fa47388734c75
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 03:38:33 2021 +0300

    + call g_checkexceptions after calls to fpc_reraise and fpc_raise_nested in
      branchful exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 464b3ebbed39dd87480513372caadb5214fb1e3e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 03:25:03 2021 +0300

    + implemented the 'on' node code generation (try except 'on' ...) for the
      branchful exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit a5dcd1c44ddeac28ca8fda44f6d60e3b179266e4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 03:14:58 2021 +0300

    + initial implementation of try..except in branchful exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 7ce19c1ad78a75d84765790f077f228b448129de
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 02:47:49 2021 +0300

    + implemented try..finally in branchful exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 7afb665c92e9e1787c518c1fbd6d205476b36d04
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 02:26:13 2021 +0300

    + insert exception flag check and branch after each function call, when
      compiling in WebAssembly branchful exceptions mode

M	compiler/wasm32/hlcgcpu.pas
M	compiler/wasm32/nwasmcal.pas
M	rtl/inc/compproc.inc
M	rtl/wasm32/except_branchful.inc

******************************************************************************
commit 5be1bfeecad2af3cc4acad908fa649849a231bf7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 01:11:31 2021 +0300

    + added comment that states that raiseBr is only used in branchful exceptions mode

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit d02921d66b14ea499ef783a834388be1322620ff
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 01:07:37 2021 +0300

    + introduced raiseBr, similar to exitBr, but will point to the current
      innermost exception handler, if there is such a handler in the current
      procedure, otherwise it will be the same as exitBr.

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 6599f1d898003773f70c24898419f4bf6bef78ee
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 01:01:24 2021 +0300

    - don't generate any WebAssembly native exception handling instructions, nor
      relocations, when compiling in branchful exceptions mode. This produces a
      currently not working, but accepted by wasmtime binary (otherwise, it
      complains it doesn't support exceptions and refuses to try to run it).

M	compiler/wasm32/nwasmflw.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 30b503abc4e628dc3c2299595ee76dba48d308fc
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 00:49:29 2021 +0300

    * instead of using the 'throw' intrinsic, set a boolean flag, in the branchful
      exceptions support code

M	rtl/wasm32/except_branchful.inc

******************************************************************************
commit 5124ab2521defb4623b6866e4d5c36726ab74608
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Oct 5 00:35:54 2021 +0300

    * cloned the WebAssembly native exceptions code generation and rtl support into
      the branchful exceptions (which will be modified later, but we're using this
      as their starting point, because we can get a snapshot built, without compiler
      internal errors)

M	compiler/options.pas
M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/nwasmflw.pas
M	compiler/wasm32/nwasmutil.pas
M	rtl/inc/compproc.inc
M	rtl/inc/objpas.inc
A	rtl/wasm32/except_branchful.inc

******************************************************************************
commit 7778d20003ab3b62779243cfde33bd0b129bb61f
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Oct 4 21:08:24 2021 +0000

     Avoid range check error in TCpuAsmOptimizer.OptPostAnd method

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 1e136b0cc7ff37f900adcb91b2783962cf9d7622
Author: florian <florian@freepascal.org>
Date:   Mon Oct 4 22:18:53 2021 +0200

      * bail out early in MatchInstruction

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 01a449c807e4ad9a4142977ee86b16d6461ad256
Author: florian <florian@freepascal.org>
Date:   Mon Oct 4 22:11:08 2021 +0200

      + debug msg added

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c745ae4836a0f19a1733347f208d263d1a5829e5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Oct 4 20:55:56 2021 +0200

    AArch64 popt: don't replace registers with X/WZR
    
    Most arithmetic/logica instructions don't support X/WZR as operand (since
    you should use movk with the calculated constant in that case)
    
    Resolves #39372

M	compiler/armgen/aoptarm.pas
A	tests/webtbs/tw39372.pp

******************************************************************************
commit 3989a01968ddee76110556f2cb2390da751b9694
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 4 00:34:18 2021 +0300

    - removed msg2inc. Stupid git added it without my consent.

D	compiler/msg2inc

******************************************************************************
commit 9a85ac204ce5e0996478c0c4ede0138ab5ecab15
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 4 00:28:31 2021 +0300

    + fixed compilation of ppudump

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 494dac5db57f60073f2d538f66b6570b9fd05beb
Author: florian <florian@freepascal.org>
Date:   Sun Oct 3 23:16:55 2021 +0200

      + x86: MovOp2Op optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1011c31a80e0ea9e67497b335a8293a49cbdecb7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 4 00:15:27 2021 +0300

    + increase string type to avoid const string truncation

M	compiler/globtype.pas

******************************************************************************
commit 2577180b935364b1a84ee8d38f8f6a42c0b812b0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Oct 4 00:10:31 2021 +0300

    + introduced WebAssembly branchful exceptions

M	compiler/globtype.pas
M	compiler/msg/errore.msg
A	compiler/msg2inc
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit ab01b0ebd72c646b66a6bb3fd55ed717b9852541
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 3 21:35:55 2021 +0200

    Typed constants: no internalerror on failure
    
    Don't check whether the expression queue is empty in the destructor in case
    there was an error. Also improved error messages (constant expression instead
    of variable expression expected).
    
    Resolves #39393

M	compiler/aasmcnst.pas
M	compiler/ngtcon.pas
A	tests/webtbf/tw39393.pp

******************************************************************************
commit 190c77e8633d185d983e3e59d62443bd443bb807
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Oct 3 19:45:22 2021 +0100

    Fixed bug where hp1 object was used after being freed

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2e8c99947a978f8614d4075b1ee0d9caac4945aa
Author: florian <florian@freepascal.org>
Date:   Sun Oct 3 18:40:20 2021 +0200

      * define DEBUG_AOPTCPU if EXTDEBUG is used

M	compiler/aarch64/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 890b899842b741f54f5191ff369c8a97a89ac845
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 18:33:00 2021 +0300

    + support the <= and >= operators for smallsets on the Z80

M	compiler/z80/nz80add.pas

******************************************************************************
commit b00c0e44a596bdf167ded7900b3ba71ea903591f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 18:16:11 2021 +0300

    + support equality comparison of smallsets on the Z80

M	compiler/z80/nz80add.pas

******************************************************************************
commit 3fb0fab410ac4c791227d74c1bbd8ceb45f653b8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 3 13:59:33 2021 +0200

    Fix bitpacking 62/63 bit fields on 64 bit targets
    
    As reported on the lazarus forum:
    * https://forum.lazarus.freepascal.org/index.php?topic=56341.new
    * https://forum.lazarus.freepascal.org/index.php/topic,56339.msg418608/topicseen.html
    
    Also optimized nextpowerof2 in the compiler

M	compiler/cutils.pas
M	compiler/symdef.pas
A	tests/test/tprec25.pp

******************************************************************************
commit 41db71c21c1c00dc83de8113ad0b35f5250ca2e0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 04:37:13 2021 +0300

    + implemented the <= operator for smallsets for WebAssembly

M	compiler/wasm32/nwasmadd.pas

******************************************************************************
commit 799cd957e625400427836e7309748bbba32e2d72
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 04:11:51 2021 +0300

    + added WASI .o files for the tests for linking with C

M	tests/test/cg/obj/readme.txt
A	tests/test/cg/obj/wasi/wasm32/cpptcl1.o
A	tests/test/cg/obj/wasi/wasm32/cpptcl2.o
A	tests/test/cg/obj/wasi/wasm32/ctest.o
A	tests/test/cg/obj/wasi/wasm32/tcext3.o
A	tests/test/cg/obj/wasi/wasm32/tcext4.o
A	tests/test/cg/obj/wasi/wasm32/tcext5.o
A	tests/test/cg/obj/wasi/wasm32/tcext6.o

******************************************************************************
commit be90ad1672cec33b15f8faa09715190f6279e75f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 03:29:54 2021 +0300

    + enabled compilation of unit heaptrc for the WASI target

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 5adec3ca98120bc2c4110ebe354dfc50d7095ebe
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 03:16:34 2021 +0300

    + workaround for WebAssembly treating the stack parameter of the store and load
      instructions as unsigned. This caused an 'out of bounds memory access' trap
      when accessing arrays with negative offset index, e.g. in test/cg/tvec.pp

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 0a383d8c0f50bf3ed3333dd57f295864fca02cae
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 02:27:19 2021 +0300

    * fixed WebAssembly method pointer assignment

M	compiler/ncgld.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 77ca8ba16d0a5ab9aa1b261b4d1b44c94a1aa2b3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 01:08:52 2021 +0300

    * always return error in SysUtils.FindFirst and .FindNext on the WASI platform,
      in order to prevent infinite loops in tests

M	rtl/wasi/sysutils.pp

******************************************************************************
commit 6f88919f3775a94c3df98f6b3d2c03f885202e03
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 00:59:11 2021 +0300

    - don't set casmdata in wasm32/aasmcpu.pas, so that the aasmdef unit can override it

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit c1eeb8beda0df3f74741677df85259e86b0a789f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Oct 3 00:49:32 2021 +0300

    + use the aasmdef unit in wasm32/cpunode.pas

M	compiler/wasm32/cpunode.pas

******************************************************************************
commit 020a58b0750902e161a29bb1f8218052ddcd2d54
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 23:14:24 2021 +0300

    + added system_wasm32_embedded to systems_embedded

M	compiler/systems.pas

******************************************************************************
commit c450b63f1ccd696c8034142a985222d3f01895f4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 22:42:20 2021 +0300

    + enabled compilation of the fpintres unit for the WASI target and enabled tf_has_winlike_resources for the target

M	compiler/systems/i_wasi.pas
M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 4b39f7dea0383c96f62f381ab46f866bd8e2270f
Author: J. Gareth "Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Oct 2 19:32:44 2021 +0000

    x86: Missed logic with CMP and MOV optimisations

M	compiler/x86/aoptx86.pas

******************************************************************************
commit cc2fa67dfa475710c57c4b3b73631a0f3a959e3f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 22:10:34 2021 +0300

    * fixed OS_S8 to OS_16 conversion for WebAssembly. This fixes test/cg/tcnvint6

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 3258937d97b8ca6a4ea6b6556fe46664da9d65fa
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 21:33:28 2021 +0300

    + implemented move() for WebAssembly via the memory.copy instruction

M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/wasm32.inc

******************************************************************************
commit 2e3e3edb5fb5b137c79875e5f018e456fdd8c664
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 20:31:37 2021 +0300

    + implemented FillChar for WebAssembly via the memory.fill instruction

M	compiler/wasm32/nwasminl.pas
M	rtl/wasm32/cpuh.inc
M	rtl/wasm32/wasm32.inc

******************************************************************************
commit 85207e94f8e4a1904a67ba2a3be06f7b69ef146c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 19:40:36 2021 +0300

    + added inline numbers for a memory.copy and a memory.fill intrinsic

M	compiler/wasm32/ccpuinnr.inc
M	rtl/wasm32/cpuinnr.inc

******************************************************************************
commit 026d23632aa3343756ebf454d4d0961048d34fcc
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Oct 2 19:35:26 2021 +0300

    + added the memory.copy and memory.fill WebAssembly instructions

M	compiler/systems.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/agllvmmc.pas
M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/strinst.inc

******************************************************************************
commit cc5ee6b868935bbc3fe22c349b9c312029d88523
Author: florian <florian@freepascal.org>
Date:   Sat Oct 2 16:24:47 2021 +0200

      + comments

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 39164ad732ea12af79ecf267172146569297aa1a
Author: florian <florian@freepascal.org>
Date:   Sat Oct 2 16:15:19 2021 +0200

      * cleanup

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit c1d8e32eaedd102759c3b5132228aaf493026b8d
Author: florian <florian@freepascal.org>
Date:   Sat Oct 2 16:07:00 2021 +0200

      + Aarch64: Ldr<Postfix>Mov2Ldr<Postfix> optimization

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit b5c7997c88f39c0803a8a5f48188848843f9cc6d
Author: florian <florian@freepascal.org>
Date:   Sat Oct 2 15:37:34 2021 +0200

      + Aarch64: AndCmpB.E/NE2Tbnz/Tbz optimization

M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 177b38dfe9423dd714a99e9fc34abaa7f032df66
Author: florian <florian@freepascal.org>
Date:   Fri Oct 1 23:05:48 2021 +0200

      * modified (cosmetics) patch by Rika: replace DJB2 with MurmurHash3, resolves #39377

M	compiler/cclasses.pas

******************************************************************************
commit 02745b0b83f9ea4e1fc98a44f753d513dfebfe62
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 06:34:52 2021 +0300

    + implemented GetDate, GetTime and WeekDay in the WASI dos unit. They return
      UTC time (I don't know how to obtain the local time zone from within WASI).

M	rtl/wasi/dos.pp

******************************************************************************
commit d2726c240648a1db264cab515969672355746c97
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 05:17:12 2021 +0300

    * fixed WebAssembly code generation for not(cbool64)

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 9aefda1e6a34940880f930df300985aa542e49d8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 04:56:36 2021 +0300

    * bug fix in test taddbool.pp - it was testing longbool conversion to boolean
      twice, and not testing wordbool conversion to boolean at all

M	tests/test/cg/taddbool.pp

******************************************************************************
commit 4fc763ac5033ae56e908ee263d538950f71e544d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 04:54:17 2021 +0300

    * fixed WebAssembly cbool support for OP_NOT

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit baf5ff4e05987a027d8912aa231ecd3c79147dd1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 04:40:50 2021 +0300

    * another WebAssembly cbool fix in twasmtypeconvnode.second_int_to_bool

M	compiler/wasm32/nwasmcnv.pas

******************************************************************************
commit 968e23546c6614cff0607478721e181800ac38b4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 04:20:02 2021 +0300

    * fixed second_int_to_bool for cbool types for WebAssembly

M	compiler/wasm32/nwasmcnv.pas

******************************************************************************
commit 188a21bbfdbbd2c5c0a2b6a8232bf5da9f6ffb90
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 03:01:55 2021 +0300

    * fixed 'not(boolean64)' for WebAssembly

M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit c6a549eb487f3bb5b0578a56f08db35559764b0d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 02:57:04 2021 +0300

    * int64/boolean64 fix in twasmtypeconvnode.second_int_to_bool

M	compiler/wasm32/nwasmcnv.pas

******************************************************************************
commit 2e5b895d70f68daaafe52ecee8a66736b055decf
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 02:47:08 2021 +0300

    * fixed WebAssembly code generation for 'if boolean64 then ... else ...'

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 4d571a19282490972e9434ec4059cf6a01fced72
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Oct 1 02:43:55 2021 +0300

    * fixed code generation for 'boolean64 and/or boolean64' for WebAssembly

M	compiler/wasm32/nwasmadd.pas

******************************************************************************
commit abd494624bf2e722938b14f2eb01ba91f4227799
Author: florian <florian@freepascal.org>
Date:   Wed Sep 29 22:29:47 2021 +0200

      * properly search in GetMMRegisterBetween and GetIntRegisterBetween for usable
        volatile registers (low(<set>) .. high(<set) just searched all possible elements
        and not only the included ones)

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1f19b113983906e1cbffd428eba4488e78b4cdeb
Author: J. Gareth "Kit" Moreton <gareth@moreton-family.com>
Date:   Wed Sep 29 18:32:31 2021 +0000

    x86_64: Fix to tw8573 overflow bug under -Cg option

M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw8573a.pp

******************************************************************************
commit 5446d53156de14483d6210297a99a934ebc5909c
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Sep 29 17:22:51 2021 +0200

     Update to use gitlab

M	tests/utils/testsuite/utests.pp

******************************************************************************
commit 91d8009b531b61d41604406e3a6a94e92f1b9c41
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 05:27:27 2021 +0300

    + implemented round(real) for WebAssembly via the fXX.nearest and i64.trunc_fXX_s instructions

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit 835bc62e2a8aa887170510ecc2ebdadee27bb4e7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 05:07:43 2021 +0300

    + implemented trunc(real) for WebAssembly via the i64.trunc_f32_s and i64.trunc_f64_s instructions

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit f6b4a54f7d2de15793e3da1a477d1ef274f31cb4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 04:57:19 2021 +0300

    * fixed output of 32-bit floating point constants in the llvm-mc asm output

M	compiler/wasm32/agllvmmc.pas

******************************************************************************
commit d84a7d1bdedae4f5bdb31c406c4f052ff728aaab
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 04:19:10 2021 +0300

    + implemented int(real) for WebAssembly via the f32.trunc and f64.trunc instructions

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit 8822be8a1f1c1b6affca58be1bf337be4c345bb1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 04:04:03 2021 +0300

    + implemented abs(real) for WebAssembly via the f32.abs and f64.abs instructions

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit f42817d1a2d3a3efa595c90d58aa82aa57f77cc8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 03:56:13 2021 +0300

    * fixed opcode generation for the f32.const in the WebAssembly internal asm

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 95243ed6ede742a891297e91d687bf510c9f31e0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 03:48:31 2021 +0300

    + implemented sqrt via the f32.sqrt and f64.sqrt instructions

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit 6e6c946e0fd1765f99110e12c79db27a400c6587
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 00:16:23 2021 +0300

    * the fpc_Catches result test code was inverted

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 7ce1a7c6a0722dcfb6db9f2c2c3a0a54e4a5fc8d
Author: florian <florian@freepascal.org>
Date:   Tue Sep 28 23:13:12 2021 +0200

      * x86_64-linux doesn't need .data.rel.ro either

M	compiler/aggas.pas

******************************************************************************
commit 99dbbcadcd19d4babe656949c20a5c643dd22a70
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Wed Sep 29 00:04:23 2021 +0300

    + generate functype directives for all functions in all used units, regardless
      of whether they have paraloc info created. This fixes linking of WebAssembly
      programs that declare their own classes, because that causes the compiler to
      generate a VMT, containing references to virtual methods, and these don't
      necessarily have paraloc info (if they're not called from within the program)

M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 6e7f0744ca11202c2defc6c7dfdd5863245612c8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 23:55:10 2021 +0300

    + implemented the 'on' node for WebAssembly in native exceptions mode

M	compiler/wasm32/cpupi.pas
M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 0e647a073e5978f2e6aefafc0b034b187dbffce7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 21:23:49 2021 +0300

    + override the 'on' node for WebAssembly

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit ef738f01cf32f00fdd58c7687dca7581fd54126b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 20:39:47 2021 +0300

    * fixed warning

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit f2abce7ea58decf10255bdfea14740578068dd4a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 20:23:27 2021 +0300

    + initial implementation of try..except..end in wasm native exceptions mode.
      The 'on' statements are not implemented yet.

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 93b3315691f3e89843c8c16edb9c0b22226a51d7
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 28 10:15:58 2021 +0200

    * Parse cookies also when setting variable based on name

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit bfe3afbc62ae65e79ffac64f12a2ce2e884388d2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 28 10:14:18 2021 +0200

     * Add error check

M	packages/libcurl/examples/teststream.pp

******************************************************************************
commit 99e449eaa1b34d4d45df59600ea65cd8c82b2e7f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 04:11:16 2021 +0300

    * decblock moved after end_try, instead of after catch

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 3836b0be04762387513cd7f6b95246cd5fc5e295
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 04:02:52 2021 +0300

    * longjmp in fpc_reraise changed to a throw instruction intrinsic in wasm native exceptions mode

M	rtl/wasm32/except_native.inc

******************************************************************************
commit 0c3e179652842f9f65b810ff64447aefaa9d76f4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 03:59:38 2021 +0300

    - get rid of fpc_PushExceptAddr and fpc_PopAddrStack entirely, when compiling in
      wasm native exceptions mode - these helper routines aren't necessary in this
      mode

M	compiler/wasm32/nwasmflw.pas
M	rtl/inc/compproc.inc
M	rtl/wasm32/except_native.inc

******************************************************************************
commit 91f0f1a86c293dbf972ed684ff196244f5292af4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 03:46:30 2021 +0300

    * don't include except.inc if wasm32 native exception is turned on, instead
      replace it with except_native.inc

M	rtl/inc/objpas.inc
M	rtl/wasm32/except_native.inc
M	rtl/wasm32/wasm32.inc

******************************************************************************
commit 73bc8edef3ad66e208cfb30fd0df3e13f3b9fbdf
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 03:31:04 2021 +0300

    + RTL support for raising exceptions in native wasm exceptions mode

M	rtl/wasm32/except_native.inc

******************************************************************************
commit c9fd115ec575728f9a8b3966b5de73f1477ea549
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 03:29:45 2021 +0300

    * fixes to the try..finally code generation in wasm native exceptions mode

M	compiler/wasm32/nwasmflw.pas

******************************************************************************
commit 21fd8cd5d3f98ecdd2847aa3bb43cce64af8f7b9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 03:01:09 2021 +0300

    * updated ppudump with the new asm symbol types and binding types

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit cdf1ceca765df8b62d4888981cc27f023978c39d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 02:52:40 2021 +0300

    * emit a weak symbol for the exception tag, since that's what the LLVM linker
      wants to treat them as shared between .o files

M	compiler/aasmbase.pas
M	compiler/aasmtai.pas
M	compiler/ogbase.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/nwasmflw.pas
M	compiler/wasm32/nwasminl.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit f701d2f29498bb4766d814265995bad14c68ad13
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 01:11:01 2021 +0300

    + support in_wasm32_throw_fpcexception in twasminlinenode.pass_typecheck_cpu

M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit ec0bdfbdd9235119d210efaf7243b0ce2c9decff
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 28 00:19:13 2021 +0300

    * fill exceptstate variables and update flowcontrol in
      twasmexceptionstatehandler_nativeexceptions.new_exception
    - removed the TODO comment, generated in the asm output by
      twasmexceptionstatehandler_nativeexceptions.free_exception

M	compiler/wasm32/cpupi.pas

******************************************************************************
commit 15b2f9a7b1482ab9b1abb457066d494f1e18b57b
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Sep 26 18:08:46 2021 +0100

    Changed get_volatile_registers_mm to not return XMM16 to XMM31 when not under AVX512

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit b463f2a141166cc739f27e5c93c9274db683ad2d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 21:44:09 2021 +0300

    + added support for exception tags and for the 'throw' and 'catch' instructions
      in the wasm internal assembler and object writer

M	compiler/aggas.pas
M	compiler/assemble.pas
M	compiler/ogbase.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/nwasmutil.pas
M	compiler/wasmbase.pas

******************************************************************************
commit 82b6450f198b15bd2823554d47a275eb836c9933
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 17:49:30 2021 +0300

    + introduced the AT_WASM_EXCEPTION_TAG asm symbol type, use that for specifying
      the parameter to the 'throw' and 'catch' instructions

M	compiler/aasmbase.pas
M	compiler/wasm32/itcpugas.pas
M	compiler/wasm32/nwasmflw.pas
M	compiler/wasm32/nwasminl.pas

******************************************************************************
commit e0ad427b6c83a334362f42f8d1d3782963f76fa3
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 17:38:28 2021 +0300

    + introduced the FPC_EXCEPTION_TAG_SYM string constant

M	compiler/wasm32/cpubase.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit b46c010f82aae51435dda77ca93d91b1401b0203
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 05:40:26 2021 +0300

    + also support immutable wasm globals in the wasm assembler writer (both internal and external)

M	compiler/aggas.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 7b3154911931d4b92c619c207e37194057c00b68
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 05:17:20 2021 +0300

    * the data section is now only written by the internal wasm object writer, when
      there are data segments in the module

M	compiler/ogwasm.pas

******************************************************************************
commit e85aff2b967839b9597ed00d613c268d1a6ccf50
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 04:53:35 2021 +0300

    * combined TWasmObjSymbol.ImportIndex and .FuncIndex into just .FuncIndex,
      because there's no point in having them separate, and the name ImportIndex
      is misleading, as there are multiple import indices (they are separate for
      functions, globals, tables, memories, etc.)

M	compiler/ogwasm.pas

******************************************************************************
commit 2bce4d36db45ada7533f2e6d3d42d84d5b58b711
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 04:24:49 2021 +0300

    + proper support for WASM globals in the internal object writer - emit
      relocations, generate a Global section, if they are declared in the object
      file, etc.

M	compiler/ogbase.pas
M	compiler/ogwasm.pas
M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 5ad2d47e236b80d0d091667a665c6a4da736c1f6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 03:03:57 2021 +0300

    * track wasm global types in the internal object writer

M	compiler/assemble.pas
M	compiler/ogwasm.pas

******************************************************************************
commit 812732cb6ad97a11c9aa8f2b0767f8dda2dd29e5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 02:52:29 2021 +0300

    + introduced the AT_WASM_GLOBAL asm symbol type

M	compiler/aasmbase.pas
M	compiler/wasm32/hlcgcpu.pas

******************************************************************************
commit 8226233aa3f6265e9c29b120493fd1fff3e6b5ee
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 02:39:43 2021 +0300

    * introduced the tai_globaltype asm directive, use that to declare the stack
      pointer global symbol

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/agllvmmc.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit a1c8e92904f3504fe6c3a7140134b910aadc04d9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 27 00:33:57 2021 +0300

    * emit a tai_tagtype for __FPC_exception instead of hardcoding the asm output
      directly when wasm native exceptions are enabled

M	compiler/aggas.pas
M	compiler/wasm32/agllvmmc.pas
M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 10db5ea5dc0093161900a4fc88d2905735c3d95f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 23:58:21 2021 +0300

    + implemented the 'delegate' and the 'rethrow' instructions in the wasm internal assembler

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 6fb4b9b7dd751e41d7ef808c31a33e7810169c24
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 23:50:02 2021 +0300

    + support the 'try' instruction in the wasm internal assembler

M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 0bb781c92876ed29bb962e9129a4f9f1c14df412
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 23:14:52 2021 +0300

    * omit writing the export section if there are no exported functions from
      the module. This reduces object file size slightly for modules without
      exports.

M	compiler/ogwasm.pas

******************************************************************************
commit d37117c460f1cb65e6d750d9085f628a0dcec562
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 23:10:55 2021 +0300

    * use an incrementing counter variable to determine the numbers for the code
      and data section, so they can be used in the relocation section, without
      hardcoding them as constants. This will automatically adjust the numbers
      when we add more sections, or when we make writing some of the sections
      optional.

M	compiler/ogwasm.pas

******************************************************************************
commit 77b898fe45cecf6a52176dcdb86ce0f63b9a8f57
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 22:21:34 2021 +0300

    * use objsym.size to determine the code size of the function (instead of
      writing until the end of the section) in the wasm internal object writer.
      This removes the extra padding of 'unreachable' instructions at the end of
      each function (which are zeroes, added for alignment - they are harmless,
      but are unnecessary and cause a slight increase of the size of the
      resulting binaries), after the final 'return' instruction of the function.

M	compiler/ogwasm.pas

******************************************************************************
commit bc76487b878e59133ce3c2cc19ebb13f9a9826ea
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 20:46:47 2021 +0300

    + enable the WebAssembly internal assembler and object writer

M	compiler/ppcwasm32.lpi
M	compiler/systems/i_embed.pas
M	compiler/systems/i_wasi.pas

******************************************************************************
commit db843287a2d21b94049af809161a9dab8884331c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 20:37:34 2021 +0300

    + generate funcdef for external procs, that don't have an import dll

M	compiler/wasm32/nwasmutil.pas

******************************************************************************
commit 2102fbdc97e9cdcdb56bb5e549018454197351c8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 20:13:35 2021 +0300

    - removed debug writelns from the wasm internal object writer

M	compiler/ogwasm.pas

******************************************************************************
commit 99c84da071bf59d35e0e0ec85f83dc0a2bde7bef
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 20:02:48 2021 +0300

    + generate the export section in the wasm internal obj writer

M	compiler/assemble.pas
M	compiler/ogwasm.pas

******************************************************************************
commit 1c8579da2e401ee0dfb54bcbd170130c0a653659
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 18:40:49 2021 +0300

    * simplified and integrated the WriteImportExport procedure into the case
      statement. Use similar statements to write the asm code for the export_name,
      like we use for the import_name directive.

M	compiler/aggas.pas

******************************************************************************
commit 346b57e238953710adbf9b576cba46a5f2e33817
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 18:35:10 2021 +0300

    * tai_impexp renamed tai_export_name
    * ait_importexport renamed ait_export_name

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/systems/t_wasi.pas
M	compiler/wasm32/aasmcpu.pas
M	compiler/wasm32/agwat.pas

******************************************************************************
commit 2940d0f45f41fd70107d2660a5059f4682833fb4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 18:29:28 2021 +0300

    - removed unused constructor of tai_impexp, as well as unused member variable extmodule

M	compiler/aggas.pas
M	compiler/wasm32/aasmcpu.pas

******************************************************************************
commit 79f60923bad6ba4e0dec027eacf66a892375fae8
Author: J. Gareth "Kit" Moreton <gareth@moreton-family.com>
Date:   Sun Sep 26 14:09:29 2021 +0000

    Bug fix to XMM block move optimisation

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit abf831c430aff63659113e53150debbd0bc8724f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 11:11:43 2021 +0300

    + fixed the addend in the relocations that point to data

M	compiler/ogwasm.pas

******************************************************************************
commit 2d1ebe4cb3087935ef30467d6d71ca74cb8967da
Author: florian <florian@freepascal.org>
Date:   Sun Sep 26 09:50:30 2021 +0200

      + re-added accidently removed internal error

M	compiler/aarch64/aasmcpu.pas

******************************************************************************
commit c881d057937f8146701634e884a44f58e29d24c4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 10:29:17 2021 +0300

    * fixed bug in the code, generated for the RELOC_FUNCTION_INDEX_LEB
      relocation

M	compiler/ogwasm.pas

******************************************************************************
commit 07461d0fc3a36fd6071aaa9bd13f2d651ae0a74d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 10:17:19 2021 +0300

    * made the constructor of TObjSymbol virtual, so it can be overriden

M	compiler/ogbase.pas
M	compiler/ogwasm.pas

******************************************************************************
commit efd58317428d3407d7ac5b5986f9674698a4de70
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 09:42:12 2021 +0300

    * generate an internal error if an attempt is made to emit a
      R_WASM_MEMORY_ADDR_LEB relocation, that points to code, instead of
      data

M	compiler/ogwasm.pas

******************************************************************************
commit 392ca81c20b781db7c33eba2b8609f71ce90ab15
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 09:40:28 2021 +0300

    + add threadvar symbols to the symbol table

M	compiler/ogwasm.pas

******************************************************************************
commit ea401ccc826b13e56965ea4dbc0b79b8a01bb7f2
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 06:27:02 2021 +0300

    + support writing R_WASM_MEMORY_ADDR_I32 relocations

M	compiler/ogwasm.pas

******************************************************************************
commit bd6bbb6cf4fd0ba52c1447dff58a26dfd98579b9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 05:36:51 2021 +0300

    + support writing imports from a different module in the wasm binary object writer

M	compiler/ogwasm.pas

******************************************************************************
commit 238d09d875d38d19c2ff77a12a8b463ed4a524a8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 05:15:50 2021 +0300

    + support writing RELOC_FUNCTION_INDEX_LEB relocations to non-external functions

M	compiler/ogwasm.pas

******************************************************************************
commit bf5048cb5e9655558802a7f369fee009d33b57e7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 04:46:46 2021 +0300

    + support generating R_WASM_TABLE_INDEX_I32 relocations

M	compiler/ogwasm.pas

******************************************************************************
commit acdb65c2a33517d623d8468388f323969a49d946
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 04:19:16 2021 +0300

    + support tai_symbolpair in the wasm internal obj writer, so that the
      PASCALMAIN alias of main can be created

M	compiler/ogwasm.pas

******************************************************************************
commit 83f2f7bf375bd50366d8ae859ae88fcdc8ad795d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 03:56:56 2021 +0300

    + introduced TObjData.SymbolPairDefine, to allow custom handling of symbol
      pairs in the internal object writer

M	compiler/aasmbase.pas
M	compiler/aasmtai.pas
M	compiler/assemble.pas
M	compiler/ogbase.pas

******************************************************************************
commit 6e7e6326822490236e1c46895221212bd1840366
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 03:16:01 2021 +0300

    * fixed another warning

M	compiler/ogwasm.pas

******************************************************************************
commit 4ebf857ffcf8997a3d5efca9c4f2ae2954d49b09
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 03:05:00 2021 +0300

    * fixed warning

M	compiler/ogwasm.pas

******************************************************************************
commit 67cbb7032e1025996309689fc2fb3687c48b64af
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 26 00:45:52 2021 +0300

    + fully implemented the RELOC_FUNCTION_INDEX_LEB relocations

M	compiler/ogwasm.pas

******************************************************************************
commit 4e4910cb8409adc60bcb4e02d907d75203785a15
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 23:47:30 2021 +0300

    + write the relocation tables for the code and data sections (empty for now)

M	compiler/ogwasm.pas

******************************************************************************
commit 217b3ea3cc200030e22b40831a479d5073bb299b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 23:30:43 2021 +0300

    + write the segment info (names and alignment) to the linking custom section

M	compiler/ogwasm.pas

******************************************************************************
commit 5066a7eb2464ad8d4a9d10bcbb8c848c66c63e78
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 23:20:15 2021 +0300

    + also write the data symbols to the symbol table

M	compiler/ogwasm.pas

******************************************************************************
commit ad8ed4b48d60ec8becdf5609d9b1a63cfbd1efdd
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 23:02:48 2021 +0300

    + write the non-external functions to the symbol table as well

M	compiler/ogwasm.pas

******************************************************************************
commit 2805e44ccb58b9c8a31864c6ccedccbcd024487c
Author: florian <florian@freepascal.org>
Date:   Sat Sep 25 21:59:47 2021 +0200

      * Aarch64: taicpu.spilling_get_operation_type with new instructions extended

M	compiler/aarch64/aasmcpu.pas

******************************************************************************
commit 2d2906205bbbdcc4769ea5587625deb9fa30c83f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 22:45:30 2021 +0300

    + write the externals to the symbol table

M	compiler/ogwasm.pas

******************************************************************************
commit 3e984294181d96a590a814476616c1d3e365f458
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 25 20:59:22 2021 +0200

    Revert "  * patch by J. Gareth Moreton: Nothing (NOP) node optimisation, resolves #38194"
    
    This reverts commit c2ff85ac5ba307d7cc10cae7ee17d479c83c9119.
    
    That change duplicates the logic of tstatementnode.simplify in
    tblocknode.simpify in a very complex way, and in case of issue #39336 results
    in adding a non-tstatementnode in a tblocknode, which is illegal. If
    tstatementnode.simplify cannot catch all cases, then that one should
    preferably be improved instead (and if not possible, we can look into
    catching those edge cases in tblocknode.simplify rather than duplicating
    everything).
    
    Resolves issue #39336

M	compiler/nbas.pas

******************************************************************************
commit 8c57d20abc119d71c86bf24088623dbced3565b7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 19:19:12 2021 +0300

    + write the linking section (empty for now)

M	compiler/ogwasm.pas
M	compiler/wasmbase.pas

******************************************************************************
commit 8295173f8665ba60a3b6df56581b280b448cf6f4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 19:05:36 2021 +0300

    + added enums for the wasm symbol type and constnats for the bitflags

M	compiler/wasmbase.pas

******************************************************************************
commit 12496a638b4c5b1ec45b5435c8db03ea34e851f1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 18:37:10 2021 +0300

    + add relocation objects for the RELOC_FUNCTION_INDEX_LEB relocation to
      the relocation list. They are not written to the object file, yet.

M	compiler/ogwasm.pas

******************************************************************************
commit a5d1ce26a00d1196bea7292c828caa5fb8a93f27
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 18:24:01 2021 +0300

    + partial implementation of emitting RELOC_FUNCTION_INDEX_LEB relocations

M	compiler/ogwasm.pas

******************************************************************************
commit cbf444bbbe699581354288d36b27c43ffcb47c17
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 18:08:01 2021 +0300

    + write the actual function code in the code section

M	compiler/ogwasm.pas

******************************************************************************
commit dbb6f95ea74a7d510502818c38e9dabbe8784448
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 17:49:19 2021 +0300

    * replaced TWasmObjData(Data) with FData in TWasmObjOutput.writeData

M	compiler/ogwasm.pas

******************************************************************************
commit 6d1df899e61fc69117a2e061b17cfe241d2637f1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 17:40:58 2021 +0300

    + write the code section (still, without the actual function code, but with
      the correct locals)

M	compiler/ogwasm.pas

******************************************************************************
commit fcb646bc3bae2cd53070cd608bf281b1da534271
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 25 16:14:30 2021 +0200

    obcpas: fix categories implementing protocols
    
    Allocate the ImplementedInterfaces array for them and save to/load from ppu
    
    Solves #39375

M	compiler/ppu.pas
M	compiler/symdef.pas
A	tests/webtbs/tw39375.pp

******************************************************************************
commit e924dd0d16c13c27bfee35e98376e05bcb887415
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 16:53:00 2021 +0300

    + generate and write the functions table in the wasm binary module,
      produced by the internal obj writer

M	compiler/ogwasm.pas

******************************************************************************
commit 7e53fecd092c55b7675af5e6bf5dfafbe9e74da0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 16:00:09 2021 +0300

    + handle tai_local in the internal asm writer and store the locals in the
      wasm obj extra symbol data object

M	compiler/assemble.pas
M	compiler/ogwasm.pas

******************************************************************************
commit 050519f16fb7f00d857776249fbceab350196b04
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 15:44:35 2021 +0300

    + handle the import_module and import_name directives in the internal
      assembler and store them as obj symbol extra data

M	compiler/assemble.pas
M	compiler/ogwasm.pas

******************************************************************************
commit 4ef2a889464dcf5b05569da5ef97cc883a4a6938
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 15:35:28 2021 +0300

    + added method TWasmObjData.AddOrCreateObjSymbolExtraData

M	compiler/ogwasm.pas

******************************************************************************
commit 27675967f85208af3308f342a4e2ca0d0a8dc0a9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 15:24:30 2021 +0300

    * store the funcname to functype index in a TFPHashObjectList, instead of
      TFPHashList with the index converted to pointer, which was a hack and didn't
      allow adding more fields, which we would need to do for e.g. import_module
      and import_name

M	compiler/ogwasm.pas

******************************************************************************
commit 72a49b68cef4c213f089c79fc1d47b2874ba146a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 25 00:39:03 2021 +0300

    * fixed the writing of the external functions in the import table

M	compiler/ogwasm.pas

******************************************************************************
commit f56aa9abe79fff9dd5f36e5f092aa2629dd1c6fc
Author: florian <florian@freepascal.org>
Date:   Fri Sep 24 22:27:22 2021 +0200

      * set expectloc properly for x87 on x86

M	compiler/ncal.pas

******************************************************************************
commit a3666aa8c96c198b294bd794cb1fbc6eed2c28dd
Author: florian <florian@freepascal.org>
Date:   Fri Sep 24 20:10:38 2021 +0200

    o manually applied merge request 46 by J. Gareth "Kit" Moreton:
        + x86_64: XMM-based block move optimisation

M	compiler/x86/aoptx86.pas
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit 5abfe21f39cf60800c77ee5f22198d94e8341054
Author: florian <florian@freepascal.org>
Date:   Thu Sep 23 22:43:51 2021 +0200

      + apply unary minus optimizations also to /
      * test extended

M	compiler/nmat.pas
M	tests/tbs/tb0685.pp

******************************************************************************
commit 8ae1b6eace7813158e0846dc6edf1c79216aeea1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 23 17:59:21 2021 +0200

    pastojs: clone multi dim static array

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcgenerics.pas
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit cc8f8dbde854bd3e6ae8663949660924817bb44b
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 23 17:58:59 2021 +0200

    fcl-js: fixed typo

M	packages/fcl-js/src/jstree.pp

******************************************************************************
commit 78af12b58483e701da0097898e26335382e4dcb4
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 23 16:19:15 2021 +0300

    + added function name to functype hashlist in the wasm objdata class

M	compiler/ogwasm.pas

******************************************************************************
commit 01d6358f93faadd4ec8f61c1146d6a5178792580
Author: florian <florian@freepascal.org>
Date:   Wed Sep 22 22:08:56 2021 +0200

      * some fixes for expectloc

M	compiler/x86/nx86add.pas
M	compiler/x86/nx86con.pas

******************************************************************************
commit a0c0a8fa8c1b8d9ab6113eaa6ab6705b2b071df1
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 22 13:10:05 2021 +0200

    pas2js: fixed rtl.tTypeMemberProperty

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 69d5d648a9630a85a0ba9dbe0f79345152294112
Author: florian <florian@freepascal.org>
Date:   Tue Sep 21 23:09:33 2021 +0200

      + more unary minus optimizations
      * test extended

M	compiler/nmat.pas
M	tests/tbs/tb0685.pp

******************************************************************************
commit 781da5e60d334d6f59cfe97a511660b353bd5ddc
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Sep 21 12:21:42 2021 +0200

    pas2js: nil typeinfo Module, Attr and params

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 3e760b33c736290988741ce7354824cab306e952
Author: florian <florian@freepascal.org>
Date:   Mon Sep 20 22:30:41 2021 +0200

      + more unary minus optimizations
      * test extended

M	compiler/nmat.pas
M	tests/tbs/tb0685.pp

******************************************************************************
commit ab0d7697c3038537c983dbedd52046fe27022d70
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 04:47:51 2021 +0300

    + added the TWasmLinkingSubsectionType enum

M	compiler/wasmbase.pas

******************************************************************************
commit b97570c8b3b0e1c0f3b5d6c337b026686d5d8a68
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 04:39:10 2021 +0300

    + added the TWasmRelocationType enum

M	compiler/wasmbase.pas

******************************************************************************
commit bb0155141ad1afa1869f503b585f9d29fc5bca6f
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 04:25:40 2021 +0300

    * fixed warning

M	compiler/ogwasm.pas

******************************************************************************
commit 92592be8e43db53a29b9f12d49efa317fefe844e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 04:16:25 2021 +0300

    + print more symbol properties to the console

M	compiler/ogwasm.pas

******************************************************************************
commit 3c3120845af13d067111b13bcdae08ce00247333
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 03:07:00 2021 +0300

    * fixed crash when writing a binary wasm module with a .bss section

M	compiler/ogwasm.pas

******************************************************************************
commit 455f603c8c6614f10993047e3c047fb8df3d3f2e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 00:14:02 2021 +0300

    + debug print the obj symbols to the console

M	compiler/ogwasm.pas

******************************************************************************
commit 8cb92fd49a8f89d830850e3f775550342ccb1a8e
Author: florian <florian@freepascal.org>
Date:   Sun Sep 19 23:07:59 2021 +0200

      * simplify real expressions involving unary minus
      + test

M	compiler/nadd.pas
A	tests/tbs/tb0685.pp

******************************************************************************
commit 12796d176d278f11843fde6abbd0935c21eba2da
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Mon Sep 20 00:05:28 2021 +0300

    + added the indirect function table to the imports section

M	compiler/ogwasm.pas

******************************************************************************
commit 905f0b1f7819d50eaa2a0cc0e4c9da7e491d6847
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 23:56:32 2021 +0300

    + add the __stack_pointer global import

M	compiler/ogwasm.pas

******************************************************************************
commit e8c3f5d6b0a19348358d039c2f975c920b39b26e
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 23:43:45 2021 +0300

    + create the data section and the first entry of the import section

M	compiler/ogwasm.pas

******************************************************************************
commit 2563cb6daa45b7b4ff2034f3c383a5c080c5f756
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 22:46:54 2021 +0300

    + start writing the wasm sections. The DataCount section is the first section to be implemented.

M	compiler/ogwasm.pas

******************************************************************************
commit e45d8578e8d8c5ee425f5efc31439f54ffd02ceb
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 21:04:55 2021 +0300

    + count the number of segments and assign segment indices to the wasm sections

M	compiler/ogwasm.pas

******************************************************************************
commit eea8f3277211a2df7cc299dacd03cf600dcd48b5
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 20:56:06 2021 +0300

    + introduced TWasmObjSection.IsCode and .IsData

M	compiler/ogwasm.pas

******************************************************************************
commit 698b5de389b0342acb28bc6f753b79aa1b922933
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 20:51:33 2021 +0300

    + added TWasmObjSection class

M	compiler/ogwasm.pas

******************************************************************************
commit 429454c8f48b197db4f8d25fb382cbc074f23e38
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 20:46:45 2021 +0300

    + write some debug info to the console in the wasm obj writer

M	compiler/ogwasm.pas

******************************************************************************
commit 967b721e4ffa310891361e6947a40181e7288d2d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 20:09:25 2021 +0300

    + enabled the WASM32_INTERNALASM define when compiling with the lazarus project file

M	compiler/ppcwasm32.lpi

******************************************************************************
commit c200bf531176074e75a0d8efab36ad34886a3cd6
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 19:41:27 2021 +0300

    * fixed TWasmObjData.sectionname_gas

M	compiler/ogwasm.pas

******************************************************************************
commit fd4d6b8fc3f139bbb41eaa96d82055b25868ea4b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 19:33:33 2021 +0300

    + write the wasm binary module header and version

M	compiler/ogwasm.pas

******************************************************************************
commit ffc5131087cc627c3ce957de0998d92518a3d958
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 19:24:16 2021 +0300

    + implemented TWasmObjData.sectionname

M	compiler/ogwasm.pas

******************************************************************************
commit 59ea39ce75fd1f8f5d3f9cb5afa264c3198d8a96
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sun Sep 19 18:49:25 2021 +0300

    + started the wasmbase unit (similar to elfbase and omfbase)

M	compiler/ogwasm.pas
A	compiler/wasmbase.pas

******************************************************************************
commit fc41306c4585c17e34d17a5f3618b59806152fdc
Author: florian <florian@freepascal.org>
Date:   Sun Sep 19 17:40:11 2021 +0200

      * fix alignment issues with -<single/double> when using SSE

M	compiler/x86/nx86mat.pas

******************************************************************************
commit a13694988df7925be96e917c3952e82036d2653e
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 17:27:34 2021 +0200

    pastojs: fixed assign external const to int

M	packages/pastojs/src/fppas2js.pp

******************************************************************************
commit a46261bc15ad93c953e8d116a2a7bb311a4fac0f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 17:03:20 2021 +0200

    pastojs: fixed tests

M	packages/pastojs/tests/tcprecompile.pas

******************************************************************************
commit 6c1c4a66e820f3f807edff51be7abbc357b661e8
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 16:56:36 2021 +0200

    pastojs: fixed invalidate directory cache

M	packages/pastojs/src/pas2jsfilecache.pp
M	packages/pastojs/src/pas2jspcucompiler.pp
M	packages/pastojs/tests/tcunitsearch.pas

******************************************************************************
commit 0b5c8030e40ec3176d667a3bce0db00222b3a809
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 16:55:12 2021 +0200

    pas2js: comment

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit f10fae66df3eac37f6e2b9808c48e0075921374f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 14:11:51 2021 +0200

    pastojs: error on linklib options

M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit d14c13fc7213b129d33f5ef83213c245ce85dd3f
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 14:04:29 2021 +0200

    pastojs: fixed compile tests

M	packages/pastojs/tests/tcprecompile.pas

******************************************************************************
commit 8a0fe7bc855ef5b4d17ee674c94bca42fa7719d9
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Sun Sep 19 14:04:07 2021 +0200

    fcl-js: less hints

M	packages/fcl-js/src/jswriter.pp

******************************************************************************
commit 5bcc530707062fc715a4dab703848388d67efd7c
Author: florian <florian@freepascal.org>
Date:   Sat Sep 18 22:11:03 2021 +0200

      * handle -<mm reg.> more cleverly if SSE is used

M	compiler/x86/nx86mat.pas

******************************************************************************
commit 5a2d884fe3f3f556bec5ae3a74917d31c5ce896c
Author: florian <florian@freepascal.org>
Date:   Sat Sep 18 19:24:37 2021 +0200

      * is_calljmp really means calls and jmp
      * is_calljmpuncondret includes ret

M	compiler/x86/aoptx86.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit f78818e38727ccefbd1c3b1415d186ca67f34fd4
Author: florian <florian@freepascal.org>
Date:   Sat Sep 18 19:24:05 2021 +0200

      * some warnings fixed

M	compiler/pdecl.pas
M	compiler/pexpr.pas
M	compiler/symsym.pas

******************************************************************************
commit d2929586652740f02401d6c9f603cc1b2faa56f9
Author: florian <florian@freepascal.org>
Date:   Sat Sep 18 14:25:40 2021 +0200

      * + .gitconfig with configuration for better diffing, needs a
        git config --local include.path ../.gitconfig
        to be activated

A	.gitconfig

******************************************************************************
commit 962c5bd727fe1930421e1897d0c8aaf6fba6a489
Author: J. Gareth "Kit" Moreton <gareth@moreton-family.com>
Date:   Sat Sep 18 08:30:50 2021 +0000

    x86: MOV constant optimisation

M	compiler/x86/aoptx86.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit 33e25a3dfed57b58ba8576e846e63779e8d6c9a0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Sat Sep 18 03:08:48 2021 +0300

    + added except_native.inc include file (empty for now, but will provide RTL
      support for the native wasm exceptions in the future)

A	rtl/wasm32/except_native.inc
M	rtl/wasm32/makefile.cpu
M	rtl/wasm32/wasm32.inc

******************************************************************************
commit a83f5749debb1409e18f0ef92b2e81bc9d0adba2
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Sep 17 23:54:41 2021 +0300

    * Reverted the accidentally committed debug code in 4a7a113a.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3f26551c42857ba03739f2e0d89fa1dfc64979bb
Author: FPK <florian@freepascal.org>
Date:   Fri Sep 17 20:01:23 2021 +0000

    Compile with -Oodfa to get better warnings

M	.gitlab-ci.yml

******************************************************************************
commit 4064694a5e438b10d71a24fe5d1d24bad40e4c48
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Sep 17 02:15:56 2021 +0300

    + support writing the new tai_tagtype directive in the asm output

M	compiler/aggas.pas

******************************************************************************
commit 6b26fa0f9a4c6c7f8d12a10737428c443c7750e2
Author: J. Gareth "Curious Kit" Moreton <gareth@moreton-family.com>
Date:   Thu Sep 16 18:06:08 2021 +0100

    Added correction to AllocRegBetween

M	compiler/aoptobj.pas

******************************************************************************
commit bdbdf2616830ee919a86d5181440b8db1b89ca84
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 23:09:20 2021 +0300

    + added validation to ensure no more than one WebAssembly exception support
      mode is enabled
    + set the NOEXCEPTIONS mode by default for the WebAssembly targets

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit 08b07122f8c0a270d4f9ccd1bd925e14402323e7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 22:23:18 2021 +0300

    + added usage info to the compiler help screen for the WebAssembly
      target-specific exception handling modes

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit cd244cbf7dbd85f2a28b67fabc27455fd23f1e33
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 21:48:28 2021 +0300

    * fixed compilation of ppudump

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 3a242a17f4ad59a3bccdbc1b7982ce92b9dcec76
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 21:44:05 2021 +0300

    * increased size of ttargetswitchinfo.define to fit the string added in my
      previous commit

M	compiler/globtype.pas

******************************************************************************
commit eda6b105b718d810129c752ec7749d6a8e6132a7
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Sep 16 21:41:54 2021 +0300

    + added target flags for the different WebAssembly exception modes that I'm
      planning to implement

M	compiler/globtype.pas

******************************************************************************
commit 81e83ffa675a60a8244c2a32723bbb00b70f3e46
Author: florian <florian@freepascal.org>
Date:   Wed Sep 15 23:16:53 2021 +0200

      * release temp

M	compiler/x86/nx86inl.pas

******************************************************************************
commit 4a7a113a30030675eb50c9b1d0e563b6d0b82c73
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 22:29:43 2021 +0300

    * x86: Fixed attributes of the LEAVE instruction - it reads EBP.
      This fixes crashes with -O3s in some cases due to an incorrect peephole
      optimization.

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/aoptx86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit e121a753e116701c5a8c68f44ca90b296b67b6e8
Author: Florian Klämpfl <florian.klaempfl@fau.de>
Date:   Wed Sep 15 20:20:00 2021 +0200

      * mark temps as deallocated
    
    (cherry picked from commit 50452e5707b1d5f8590042ed55fc5f47bce33962)

M	compiler/x86/nx86add.pas

******************************************************************************
commit b2165570de567ccd94e192353900000376492fbd
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 21:31:04 2021 +0300

    * Fixed missing assignments with the strength reduction optimization.

M	compiler/optloop.pas

******************************************************************************
commit bd4c2064726700790c5c6bdd0a55d3d471dd0c5b
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 18:07:12 2021 +0300

    * Fixed the strength reduction optimization for loops containing 'continue'.
      The compiler now cycles properly with -O3 -OoSTRENGTH.

M	compiler/optloop.pas

******************************************************************************
commit b8befe3d1fd54329845387d8c7109827c55a0b3c
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 12:25:48 2021 +0300

    * Fixed a typo in the condition, though it seems this code path is not used now.

M	compiler/x86/nx86add.pas

******************************************************************************
commit 3e621f201456c6f1cd7c297078f618ffcf953001
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 15 11:22:52 2021 +0200

    * Allow to specify address

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit 711e659f5c91098da657ac2f9dcb4cb52f14a937
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 15 11:18:27 2021 +0200

    * Allow to specify IP address

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit b08c12ff8ab31b63044bb03ef025dc3c175648a0
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 15 11:18:12 2021 +0200

    * Make some properties public

M	packages/fcl-web/src/base/custhttpapp.pp

******************************************************************************
commit abe3002b5badb867b33dfe4457e92535b089a954
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 00:31:10 2021 +0300

    * Fixed lack of the calculation code for the strength reduction optimization.

M	compiler/optloop.pas

******************************************************************************
commit a7e234254f19327d7053f390ac93d29f53d40803
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Wed Sep 15 00:27:13 2021 +0300

    * x86: Do not replace inc/dec with add/sub 1 because this code path is
      executed only for the C_Z,C_NZ,C_E,C_NE conditions, so inc/dec can be
      used.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e2624fdaaa0a73ba637629db116ed2c6287494d5
Author: florian <florian@freepascal.org>
Date:   Tue Sep 14 22:01:26 2021 +0200

      * fix test

M	tests/webtbs/tw39357.pp

******************************************************************************
commit 5d571853acdbf9ca26966ae9ddd0eff94aa565c4
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Sep 14 15:51:00 2021 +0300

    pas2js: compile httpcompiler with fpc 3.2.2

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit ffc3e1780d7fb636bd11692558012983e45127af
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Sep 14 11:47:10 2021 +0300

    pas2js: added SetPas2JSGetFileSrcAttrCallBack

M	packages/pastojs/src/pas2jslibcompiler.pp
M	utils/pas2js/pas2jslib.pp

******************************************************************************
commit 6c4198fdf3b71e24886479cae3fb529d82e4b556
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Tue Sep 14 10:53:12 2021 +0300

    pas2js: fixed typeinfo procvar resulttype nil

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 59b49addc0f257a695aedd57f28b73b96382ba3b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 14 09:16:48 2021 +0200

    Revert "* Export SetPas2JSGetFileSrcAttrCallBack"
    
    This reverts commit 0053cec8809421efc739d7f2e5610fa7c966e61a.

M	utils/pas2js/pas2jslib.pp

******************************************************************************
commit 0053cec8809421efc739d7f2e5610fa7c966e61a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 14 09:08:31 2021 +0200

    * Export SetPas2JSGetFileSrcAttrCallBack

M	utils/pas2js/pas2jslib.pp

******************************************************************************
commit 5065e4ba50b7bcda40c0c010b404eb228a4d3188
Author: florian <florian@freepascal.org>
Date:   Mon Sep 13 22:55:44 2021 +0200

      * fix code for ARM FPA, just in case ...

M	compiler/globals.pas
M	tests/webtbs/tw39357.pp

******************************************************************************
commit 9bd785c06bb6f3b7c1dfe2190cb5fbfcfc6f76d2
Author: florian <florian@freepascal.org>
Date:   Mon Sep 13 22:47:26 2021 +0200

      * fix handling of -0.0 in sse/avx code, resolves #39357

M	compiler/x86/nx86con.pas
M	compiler/x86/nx86mat.pas
A	tests/webtbs/tw39357.pp

******************************************************************************
commit 5e9eb673f8141c2a931e971448cf1264d55e7f04
Author: florian <florian@freepascal.org>
Date:   Sun Sep 12 20:28:40 2021 +0200

      * x86: only add mm capable consts to register candidate list, this is better
        than checking when they are assigned

M	compiler/optcse.pas

******************************************************************************
commit 5762e687a3ab8fa55d3d7b14177de991b044e9da
Author: florian <florian@freepascal.org>
Date:   Sun Sep 12 19:36:27 2021 +0200

      * (modified) patch by J. Gareth Moreton: ARM/AArch64 Some short-range LDR/STR optimisations, last part of #38841

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 1e072aef31dbc456da749011f2ede30dddd76546
Author: florian <florian@freepascal.org>
Date:   Sun Sep 12 10:54:09 2021 +0200

      + for loop optimizations can be controller by a switch (-Oo(no)forloop)

M	compiler/globtype.pas
M	compiler/psub.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit c30ce7108e3c6f5719a2be4b95b5d20e518813d5
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 20:40:36 2021 +0300

    * Do not run the tzlib1 test. It is not intended for this.

M	tests/test/packages/zlib/tzlib1.pp

******************************************************************************
commit 80c63fae3052241047931f7b0acc9dfacabb5f7f
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 20:35:50 2021 +0300

    * Explicitly specify DefaultRTLFileSystemCodePage for the test in order
      to be independent from the current system code page.

M	tests/test/units/sysutils/tffirst.pp

******************************************************************************
commit 64812bdc6013bc09f6e59e0d554c3e8e3542987f
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 20:11:40 2021 +0300

    * Modified the test to run properly on non-UTF8 systems.

M	tests/webtbs/tw29353.pp

******************************************************************************
commit daa05f19cb49aefb80c3ce974f29f45cd4148fbc
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 19:53:50 2021 +0300

    * Prevent a crash of the tw2423 test on some versions of Windows.

M	tests/webtbs/tw2423.pp

******************************************************************************
commit fca357e898814c4b8d8f83efb3fc82c6be4c8a2f
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 18:55:44 2021 +0300

    * Disabled running of the sharemem test since fpcmemdll.dll is never built.

M	tests/test/units/sharemem/test1.pp

******************************************************************************
commit 0567572faeb96cc58e54c2c48bcf6c2ada713936
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 18:20:21 2021 +0300

    * Weak externals from DLL are nor supported on Windows.

M	tests/test/tweaklib2.pp

******************************************************************************
commit c27823568a0c35eacd38cbd8428f8b30563dc452
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 11 18:01:37 2021 +0200

    * libimports added

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit bcaa2c9758c41fcc05971c35e14d02faf1163267
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 17:56:33 2021 +0300

    * Explicitly specify CP1252 for registry tests which depends on this CP.

M	tests/test/packages/fcl-registry/tw35060a.pp
M	tests/test/packages/fcl-registry/tw35060c.pp

******************************************************************************
commit c7c8e2e0086f1f257af5f4fb927beae687105f4e
Author: florian <florian@freepascal.org>
Date:   Sat Sep 11 16:24:41 2021 +0200

      * nicer spelling

M	compiler/comphook.pas

******************************************************************************
commit 9653406ac6c2633ac2ee2b12ee857beeed5efeeb
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sat Sep 11 16:34:59 2021 +0300

    * Updated json tests to run properly when the default code is non-UTF8.

M	packages/fcl-json/tests/testjson.pp
M	packages/fcl-json/tests/testjsonreader.pas

******************************************************************************
commit 7e158b6c9b70248ab9de3a12484a9c82f6c17ef2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 11 15:29:52 2021 +0200

    * Forgot to commit

M	packages/pastojs/src/pas2jsfiler.pp

******************************************************************************
commit 2781be118f8cb52757eaa7b369332f72550f6252
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 11 15:23:25 2021 +0200

    * Add linklib, add some formatting

M	utils/pas2js/docs/translation.html

******************************************************************************
commit a4821b1d0cacf6458dd21544caddbc52d10255ff
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 11 14:33:47 2021 +0200

    * Additional module platform
    
    (cherry picked from commit 664de8653dc56b13cddac2cd7024697756ae422d)

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jscompiler.pp

******************************************************************************
commit 6b7df6d22e246a54b7ce60e08ac4474664efe90d
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Sep 6 12:54:22 2021 +0200

    Add 'treated as Error:' to compiler messages

M	compiler/comphook.pas

******************************************************************************
commit b4df9dbe1d10937f7e61265cc58cab832f6b8506
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Sep 10 18:06:12 2021 +0300

    * Prevent spilling of spill-helper registers which contain the value of a
      previously spilled register. These helper registers must never be spilled.
      This fixes failures of the register allocator in rare corner cases.

M	compiler/rgobj.pas

******************************************************************************
commit 37bb10e893d97f44e4f130c06ad825a2b4693945
Author: florian <florian@freepascal.org>
Date:   Thu Sep 9 23:10:21 2021 +0200

      * make ShlOp2Op optimization more fool proof

M	compiler/x86/aoptx86.pas

******************************************************************************
commit bad14c5dbd1f72a2ed532636d390fff37b65b195
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 9 16:09:52 2021 +0200

    pas2js: httpcompiler: fixed reading values fomr config file

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit 61cf121533572a72ea65a7ec35bed1a5b3621a5b
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Thu Sep 9 16:32:55 2021 +0300

    * Use a register alias while handling reg deallocs in trgobj.instr_spill_register()
      to be in sync with commit b96057ad.

M	compiler/rgobj.pas

******************************************************************************
commit f4cc2447a2c9b751c0c31b35dcd9b92e3fd07749
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Sep 8 16:43:04 2021 +0200

    * fix memory leak in TFPCustomSimpleThreadPool.TThreadPoolList

M	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit ef0aea8ca241aa5d021d74efa830e690ca447bb9
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Sep 8 15:44:34 2021 +0200

    * fix memory leak in TFPPooledConnectionHandler

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 008214ca15812e7f4db97cc9e1ffadce94d68d2d
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Sep 1 22:01:29 2021 +0200

    fphttpclient: remove OnIdle and add protected methods so that the feature can be added in a descendant

M	packages/fcl-web/src/base/fphttpclient.pp
M	packages/fcl-web/src/base/fphttpclientasyncpool.pas

******************************************************************************
commit 67b08734cfe4bbe2aa19c4cf4020817abaf74c5d
Author: Florian Klämpfl <florian@freepascal.org>
Date:   Wed Sep 8 21:06:13 2021 +0200

    * to avoid that -Xg causes a failure during comparing ppc3.exe and ppc386.exe on windows, during the last compiler compilation step, the
        same executable name is used

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 25450a99ed7d01fa0df4b6a156fcbeb8e62a8d94
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 8 23:00:51 2021 +0200

    * Fix issue #39350 : strip extension dot in windows loadknowntypes

M	packages/fcl-web/src/base/fpmimetypes.pp

******************************************************************************
commit 679cfab709f7c6c9415524d384716b063a7dfb8a
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 8 18:31:12 2021 +0200

    pastojs: added hook GetFileSrcAttr to skip generating srcmap of some files

M	packages/pastojs/src/pas2jscompiler.pp
M	packages/pastojs/src/pas2jsfilecache.pp
M	packages/pastojs/src/pas2jsfiler.pp
M	packages/pastojs/src/pas2jsfileutils.pp
M	packages/pastojs/src/pas2jsfs.pp
M	packages/pastojs/src/pas2jsfscompiler.pp
M	packages/pastojs/src/pas2jslibcompiler.pp
M	utils/pas2js/compileserver.lpi

******************************************************************************
commit 7e57e4514a46336b724174503c7a628e812b24db
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Sep 8 18:25:50 2021 +0200

    pastojs: added TPas2jsMapper.SaveJSToStream

M	packages/pastojs/src/fppjssrcmap.pp

******************************************************************************
commit 9a1ccd2a16a48e980662be44f228d549871e8b22
Author: florian <florian@freepascal.org>
Date:   Tue Sep 7 23:05:08 2021 +0200

      * x86: ShlOp2Op optimization

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7c6f3810e3e73c4219e6f6f24bdf702c61843d13
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Mon Sep 6 22:39:04 2021 +0200

    * move freeing of the event log to a separate, virtual method so that this can be changed depending on the needs of TCustomWebApplication.CreateEventLog (e.g. when using a TCustomWebApplication descendant together with a TDaemonApplication)

M	packages/fcl-web/src/base/custweb.pp

******************************************************************************
commit 86d48207605bea3e2c72bf3734666999dfef14d8
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Mon Sep 6 22:37:07 2021 +0200

    + implement support for terminating a HTTPSys web service handler that's blocking inside WaitForRequest

M	packages/fcl-web/src/base/custhttpsys.pp

******************************************************************************
commit 2650049b2cb15178fddf77cacc477d910a5b5df0
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Mon Sep 6 22:36:29 2021 +0200

    * initialize Result variable of THTTPSysHandler.WaitForRequest

M	packages/fcl-web/src/base/custhttpsys.pp

******************************************************************************
commit 4acf8d36b8de9bdeda81fccf8968743e577c7a89
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Sep 7 20:18:53 2021 +0000

    Add symbol_order*.fpc files to .gitignore

M	.gitignore

******************************************************************************
commit 6007ceb9083c0b27313377c19f65dd8fea51fcc6
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Tue Sep 7 20:09:47 2021 +0300

    * Patch by J. Gareth "Kit" Moreton (issue #39343). x86 peephole
      optimization of conditions which are always true or false.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 06b659f787c8259881d9ac68e6bfb15e2c78f028
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Sep 7 13:57:53 2021 +0200

    * Fix issue #39342, after exception in doapplyupdates, res is not valid

M	packages/fcl-db/src/base/bufdataset.pas

******************************************************************************
commit 239557237fa4351aa0b35a0d2dc246b86d8d6334
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Tue Sep 7 14:32:06 2021 +0300

    * regenerated makefiles with the latest fpcmake from trunk

M	packages/fcl-web/Makefile
M	packages/gitlab/Makefile

******************************************************************************
commit 810de9eacacaad3a7b0093e64f61f4c95aa060c8
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Sep 6 23:31:15 2021 +0200

     Try to avoid infinite loop for revision target on svn repo

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit ae8972083f6e97772c480dabdf923d5165aa5faf
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Sep 6 18:10:00 2021 +0200

     Use pascal hunk for diff output for pascal source files

M	.gitattributes

******************************************************************************
commit dcf64d8fee683749998f54710fbebe4453f47906
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Mon Sep 6 23:27:37 2021 +0200

    * Export statement

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcwriter.pp

******************************************************************************
commit f8c92914c2f33be7a3f53b4278b50792c9c73b13
Author: florian <florian@freepascal.org>
Date:   Mon Sep 6 23:05:35 2021 +0200

      * indention fixed

M	rtl/linux/termios.inc

******************************************************************************
commit 33ad038bbbf5d724394d5c07aeb4bf7aa7ad71d3
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Sep 6 13:45:33 2021 +0200

      * Avoid some wrong error messages after initial error
    
      On x86_64-openbsd, cycling with -O3 option fails due to
    a wrong warning about uninitialized zeros variable in
    compilation of ogbase unit
    ogbase.pas(2310,41) Warning: Local variable "zeros" does not seem to be initialized
    ogbase.pas(2318,39) Error: Can't evaluate constant expression
    
    The second message is due to the fact that simplify is not
    called inside nadd unit if errorcount is non-zero.
      By replacing errorcount<>0 by not codegenerror,
    this message disappears.

M	compiler/nadd.pas

******************************************************************************
commit 213a0a704aed3270afbb0c9ec0070e4cbad85d9a
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Sep 6 18:49:33 2021 +0300

    * Added trgobj.remove_ai(), call it instead of code duplication.
      No functional changes.

M	compiler/rgobj.pas

******************************************************************************
commit d20f18634f5d0dd2bd365dbd8f2ff6b69f48e351
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Mon Sep 6 16:51:48 2021 +0200

    pas2js: git ignore linux binaries

A	utils/pas2js/.gitignore
M	utils/pas2js/compileserver.lpi

******************************************************************************
commit 54415f8f4e0458ae2ab2fb7d0b4ed97e8461cb7d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 23:49:44 2021 +0200

    * Import statement

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcwriter.pp

******************************************************************************
commit 677f8297324e2c089d0cada4a7a9185594088a8e
Author: florian <florian@freepascal.org>
Date:   Sun Sep 5 23:12:34 2021 +0200

      * tw39323  needs to turn on range check to test what it is supposed to test

M	tests/webtbs/tw39323.pp

******************************************************************************
commit 3cddfb4e2ff9fc38925ce973bd29fe36cef3fc98
Author: florian <florian@freepascal.org>
Date:   Sun Sep 5 22:15:57 2021 +0200

      * patch by J. Gareth Moreton: x86: SETcc/TEST/SETcc -> SETcc/SETcc optimisation, resolves #39271

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a5f6505edc01ba35c0fd05c2b048b6ab7aa306af
Author: florian <florian@freepascal.org>
Date:   Sun Sep 5 21:03:31 2021 +0200

      * fix range checking for zero based strings, resolves #39323

M	compiler/ncgmem.pas
M	rtl/inc/astrings.inc
M	rtl/inc/compproc.inc
M	rtl/inc/ustrings.inc
M	rtl/inc/wstrings.inc
A	tests/webtbs/tw39323.pp

******************************************************************************
commit 468975aa3046e252c5ebbf4c9a01088dc7d86952
Author: florian <florian@freepascal.org>
Date:   Sun Aug 29 20:38:29 2021 +0200

      + move often used floating point constants into registers

M	compiler/aarch64/cpuinfo.pas
M	compiler/globtype.pas
M	compiler/optcse.pas
M	compiler/psub.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit d2921dfb55646401ff156f85a7997ba1d17f2d22
Author: florian <florian@freepascal.org>
Date:   Sun Sep 5 18:00:11 2021 +0200

      * move more node tree optimizations to tcgprocinfo.OptimizeNodeTree

M	compiler/psub.pas

******************************************************************************
commit b3bf183fd37dcb46c4a89fc48005cb68dbed4a50
Author: florian <florian@freepascal.org>
Date:   Sun Sep 5 16:46:44 2021 +0200

      * pass the final name of the compiler executable when compiling the compiler to avoid
        moving the executable afterwards, this allows proper stack dumps with line numnbers
        on OSes with external debugging information (darwin)

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 6a9d2cae93de921b982958cbab49ac5ddf64aa58
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 15:20:13 2021 +0200

    * Debugger statement

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcwriter.pp

******************************************************************************
commit 652643499a88e937c4fbaf95169013339b207052
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 15:08:39 2021 +0200

    * const and let statements

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/src/jstoken.pp
M	packages/fcl-js/src/jstree.pp
M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-js/tests/tcparser.pp
M	packages/fcl-js/tests/tcscanner.pp
M	packages/fcl-js/tests/tcwriter.pp

******************************************************************************
commit a2146824956673e5e356da1b3f1429d73e5ebd36
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 14:10:12 2021 +0200

    * Parse async functions

M	packages/fcl-js/src/jsparser.pp
M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/tests/tcparser.pp

******************************************************************************
commit d1bbc99e4815cc1d70dbd9fa475150b8f0940613
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 14:09:04 2021 +0200

    * Pass all directives through OnDirective

M	packages/fcl-passrc/src/pscanner.pp

******************************************************************************
commit 985ebf3b6360c2850b38ccab36aee38828146843
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Sep 5 10:26:51 2021 +0200

    * New keywords for ECMA2021

M	packages/fcl-js/src/jsscanner.pp
M	packages/fcl-js/src/jstoken.pp
M	packages/fcl-js/tests/tcscanner.pp

******************************************************************************
commit 714f0364205c9d439ed762a868648c34dd3c3677
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 22:49:37 2021 +0200

    * Parse linklib directive

M	packages/fcl-passrc/src/pscanner.pp
M	packages/fcl-passrc/tests/tcscanner.pas

******************************************************************************
commit 396a030fc2e0389249e58231d8c3134952c7a78a
Author: florian <florian@freepascal.org>
Date:   Sat Sep 4 19:11:41 2021 +0200

      + debugging statement

M	rtl/inc/exeinfo.pp

******************************************************************************
commit b36154671b20b843607d3093c673f23bcfc89fcc
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 17:49:32 2021 +0200

    * Bring compileserver functionality up-to-date with simpleserver

M	utils/pas2js/httpcompiler.pp

******************************************************************************
commit bfc5fcb8d15ac2ce9dfcafc7cefe67b387b7fc8b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 17:48:21 2021 +0200

    * Compile httpjson

M	packages/fcl-web/fpmake.pp

******************************************************************************
commit 06ab6d7fa71af5b4f14a4a31b9d5dfa74c3a4ea3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:15:56 2021 +0200

    * Enable location management API

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit 886baf4cb901337929a5bbc7a21510835c089b41
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:15:38 2021 +0200

    * location management API

M	packages/fcl-web/src/base/fpwebfile.pp

******************************************************************************
commit a206deddfb5f6b634e5da5a7925c1f867d61eda9
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:15:14 2021 +0200

    * Improved solution for issue #38435, json helpers for http request/response

A	packages/fcl-web/src/base/httpjson.pp

******************************************************************************
commit 4dc1e22f1f8a8d1bf150c3ed1ebb6498439909d2
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:12:53 2021 +0200

    * Allow to move routes, make route management thread-safe

M	packages/fcl-web/src/base/httproute.pp

******************************************************************************
commit a390a2742024ea5a1820ea20ada0ba0ca325111d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:12:17 2021 +0200

    * Uppercase argument for GetHTTPStatusText

M	packages/fcl-web/src/base/httpprotocol.pp

******************************************************************************
commit 66a1486f325f7404ddc3679422366fc020185525
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:11:45 2021 +0200

    * SetStatus convenience call

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit f9c006ca9f5eff265bf1fdba8697e58a1d09a1ef
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Sep 4 13:11:18 2021 +0200

    * Remove module, move module before default

M	packages/fcl-web/src/base/fphttp.pp

******************************************************************************
commit cb73bb939bc433b9ce5137492fc69a6b5d993b7e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Sep 3 17:41:06 2021 +0200

    * Use FPC server by default

M	packages/fcl-web/examples/simpleserver/simpleserver.pas

******************************************************************************
commit 7ef2012151438c314d82b279c06939140dbf0c41
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Sep 3 17:40:46 2021 +0200

    * Fix wrong read loop

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 2ce34f7bd3a648cfa5c7af111bbd0ef0fc991f8f
Author: florian <florian@freepascal.org>
Date:   Thu Sep 2 22:03:54 2021 +0200

      * do constant folding on div <const. int> div <const. int>, resolves #39301

M	compiler/nmat.pas

******************************************************************************
commit 261c0ff708862fd8bfa3fc7487ef6747ff91ca45
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 2 15:13:53 2021 +0200

    pastojs: fixed typecast jsvalue to external class instance not checking if Object

M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas
M	packages/pastojs/tests/testpas2js.lpi

******************************************************************************
commit 84c2a0d89e1de298659b7e54ed7cf1b589493839
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Thu Sep 2 15:13:08 2021 +0200

    fcl-web: example missing semicolon and gitignore linux bin

A	packages/fcl-web/examples/websocket/server/.gitignore
M	packages/fcl-web/examples/websocket/server/wsserver.lpr

******************************************************************************
commit 22101432395ad7c81f2334e4f6db5079a7fd9a64
Author: Bernd Kreuss <b.kreuss@xecro.com>
Date:   Thu Sep 2 11:16:56 2021 +0200

    fix wording of error message when field not found during reading of lfm file

M	rtl/objpas/classes/reader.inc
M	rtl/objpas/rtlconst.inc

******************************************************************************
commit fe656ab4ef825d18ed9673ca1ce975f061aab621
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Thu Sep 2 09:32:43 2021 +0200

    fix for issue #39333

M	packages/hash/src/hmac.pp

******************************************************************************
commit 40dc7380dc3dda2d7b08082437de6bf285e21700
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 22:43:36 2021 +0200

    * Correct precisions

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit 3069d74ecce6a302ef844f6fa2819f46af7eff2d
Author: florian <florian@freepascal.org>
Date:   Wed Sep 1 21:32:27 2021 +0200

      * handle constant folding correctly for <pointer>+<ord. constant>+<ord. constant>, resolves #39332

M	compiler/nadd.pas
A	tests/webtbs/tw39332.pp

******************************************************************************
commit cb22b7a1d5d331b571b6efbcdff7a1eb8ff7659e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 14:57:51 2021 +0200

    * Fopefully last fix for non-select platforms

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 71457e64081e43116c8293ed7b28bf2594c53c27
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 14:26:28 2021 +0200

    * More platform fixes

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 0b96cc3a30112d75805553572a4ac75d9ad6110c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 14:05:27 2021 +0200

    * Fix for non-compilation on non-supported platforms: linux -> unix

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 6e5103f3c5da7a9ca8bc7881a543890de47ae30b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 14:03:36 2021 +0200

    * Fix for non-compilation on non-supported platforms

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit ccfb34c518291419b1ba48edbf651335b8d4f8ac
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 12:50:23 2021 +0200

    * Add http client pool from Ondrej Pokorny

M	packages/fcl-web/fpmake.pp
A	packages/fcl-web/src/base/fphttpclientasyncpool.pas
A	packages/fcl-web/src/base/fphttpclientpool.pas

******************************************************************************
commit 54e418c5e87435e6e1889d755c499da4554a1562
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 13:33:39 2021 +0200

    * fphttpclient: add new OnIdle event to keep the client responsive in case the server needs a lot of time to respond (and to be able to terminate the request while waiting for data)

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 8efae66956c35ef07d5dd817cfa20d6600b6fab7
Author: florian <florian@freepascal.org>
Date:   Tue Aug 31 21:24:28 2021 +0200

      * we cannot do SSA during partial writes to arrays which span multiple registers, resolves #39325

M	compiler/hlcgobj.pas
A	tests/webtbs/tw39325.pp

******************************************************************************
commit dca4bde3a2b43a31fa0e6dbc564c823f53a20da2
Author: florian <florian@freepascal.org>
Date:   Tue Aug 31 20:28:23 2021 +0200

      * unified internal error

M	compiler/cgobj.pas

******************************************************************************
commit be069c8fa8306d60332b952b9e98126b2096718a
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Mon Aug 30 14:51:35 2021 +0200

    * fix #39329: adjust visibilties of PT and TArr in TVector<> and TDeque<> so that they can be correctly used either by descendants or users outside of the class

M	packages/fcl-stl/src/gdeque.pp
M	packages/fcl-stl/src/gvector.pp

******************************************************************************
commit 4303d62c2bb5f45cd28fa672e280f83f953148c0
Author: florian <florian@freepascal.org>
Date:   Thu Aug 26 23:51:20 2021 +0200

      * do fullcycle with -j 4

M	.gitlab-ci.yml

******************************************************************************
commit b5fca5b094bb49c03264d6e33a4a1c308b7172dc
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Aug 30 17:33:32 2021 +0200

     Ignore all BuildUnit_{package_name}.pp generated file

M	.gitignore

******************************************************************************
commit bce2f262341b9b7dddf6c550582a6aacd24d2de9
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 28 16:53:04 2021 +0200

    * TEncoding.GetEncoding - create unicode encodings, not only MBCS

M	rtl/objpas/sysutils/sysencoding.inc

******************************************************************************
commit 5ab67753769a4dd11c3d6c4d2356a18a6bf14fba
Author: ccrause <christo.crause@gmail.com>
Date:   Wed Aug 25 20:46:48 2021 +0200

    Sorted help options.

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 9305bff861034a05c8919a8dcc3783017eff6c61
Author: florian <florian@freepascal.org>
Date:   Sun Aug 29 21:00:51 2021 +0200

      * generate a def. file only if really necessary

M	compiler/options.pas

******************************************************************************
commit 3ce6cae11d0f754038ac31a3249431903a7909c3
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Sat Aug 28 17:58:34 2021 +0200

    * fix for #39310 by fixing various small issues in tabstractrecordsymtable.has_single_field:
      - initialize the returned def to a safe default
      - correctly reset the found symbol for each loop
      - reset the result when descending into a record
    + added test

M	compiler/symtable.pas
A	tests/webtbs/tw39310.pp

******************************************************************************
commit d5d90499ee87981a8cb373dc53ed5105e98c36ab
Author: FPK <florian@freepascal.org>
Date:   Sat Aug 28 17:22:31 2021 +0000

      * factored out the fullcycle job as proposed by Marcus

M	.gitlab-ci.yml

******************************************************************************
commit 5d9968366bb9b52fda32bc3b99fc18b0383f5f42
Author: florian <florian@freepascal.org>
Date:   Fri Aug 27 22:31:11 2021 +0200

      * fix test for targets with FPC_COMP_IS_INT64 defined

M	packages/fcl-json/tests/testcomps.pas

******************************************************************************
commit c2eb68330cf48af3c1fd21a1a1317591b16d7c79
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 16:03:26 2021 +0000

      + do fullcycle

M	.gitlab-ci.yml

******************************************************************************
commit 94a5fd4a5ef66cfeff2a78fc134f4fbb68e368c9
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 15:11:39 2021 +0000

      * build fpts2junit after testing so all directories are present

M	.gitlab-ci.yml

******************************************************************************
commit 2ee32623fbf7d9f6a014d71036cf2624441bd61e
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 15:04:59 2021 +0000

      + build fpts2junit
      + generate testresult.xml artifact

M	.gitlab-ci.yml

******************************************************************************
commit 936a35b587afc45921cca0d0d7753b1cd9373061
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 12:57:49 2021 +0000

      * build and test must be one job

M	.gitlab-ci.yml

******************************************************************************
commit f43a65aec22e9cfd0085a928d05e5ba85d66f9ad
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 12:48:51 2021 +0000

      * Cleaned up .gitlab-ci.yml
      * Added regression testing

M	.gitlab-ci.yml

******************************************************************************
commit b31adddd7ed834ce5be5f15604ac14d528299757
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 12:33:57 2021 +0000

    Added make command to .gitlab-ci.yml

M	.gitlab-ci.yml

******************************************************************************
commit dbca95518bf69f6d236de3a23cdd91917d208065
Author: FPK <florian@freepascal.org>
Date:   Thu Aug 26 12:26:00 2021 +0000

    Initial .gitlab-ci.yml file

A	.gitlab-ci.yml

******************************************************************************
commit c28995494c33ff0cf4c66858e8a7de86e10dc411
Author: florian <florian@freepascal.org>
Date:   Wed Aug 25 10:41:03 2021 +0200

      * reverted wrongly committed file

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 9526fc64cde63ce5768ebc21f9cacdbd9b827219
Author: florian <florian@freepascal.org>
Date:   Tue Aug 24 23:16:52 2021 +0200

      + Aarch64: FMovFMov2FMov 2 optimization

M	compiler/aarch64/aoptcpu.pas
M	compiler/avr/aoptcpu.pas

******************************************************************************
commit e310be017eb68e356085ffb0495fc1d042aaf294
Author: ccrause <christo.crause@gmail.com>
Date:   Tue Aug 24 17:01:50 2021 +0000

      + Add support for -Adefault.
      * Move help message for option -sT to the correct group of messages.
      * Use shorter message to indicate switch to external asm.
      * Adapted -sX messages because -sT doesn't force external assembler writer.

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas

******************************************************************************
commit 23bf243acdec7fa418833975a25d80edf89cfa15
Author: Pierre Muller <pierre@freepascal.org>
Date:   Tue Aug 24 13:04:50 2021 +0000

    Add test for bug report 38973 (already fixed in trunk/main)

A	tests/webtbs/tw38973.pp

******************************************************************************
commit d354428f42a29010872e8aa19afc7cc2c3b1418d
Author: florian <florian@freepascal.org>
Date:   Mon Aug 23 23:46:45 2021 +0200

      * moved fwait

M	rtl/x86_64/math.inc

******************************************************************************
commit 19062ce8afd49bbdc65183f533286675ef5a55e4
Author: Bernd Kreuss <b.kreuss@xecro.com>
Date:   Mon Aug 23 15:25:12 2021 +0200

    gdeque: remove unused variable

M	packages/fcl-stl/src/gdeque.pp

******************************************************************************
commit 4fe3e1f8f8712a12969583853c4cd1059f5dfd16
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Aug 23 13:46:52 2021 +0200

     Add some more patterns to .gitignore

M	.gitignore

******************************************************************************
commit bc84f780ee3baba239b7cf99b16ac8ad70150c7b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 22 14:56:19 2021 +0000

    Solves #39296: x86-64 parameter zero/sign extension

M	compiler/x86_64/cpupara.pas
A	tests/webtbs/tw39296.pp

******************************************************************************
commit b4f939a4ab82eb56fadb74ee53c183d9c814f5c2
Author: florian <florian@freepascal.org>
Date:   Sat Aug 21 20:36:29 2021 +0200

      * check if git executable really exists

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 848bd3e0c0515ff84b72a5300f03992d8a05d55c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:20:50 2021 +0200

    * Fix compation

M	utils/fpdoc/dw_html.pp

******************************************************************************
commit 52c8ac0ca065c516f3195a532d83a132ca3f7b7a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:13:06 2021 +0200

    * Fix by Mark Paley to add IfThen for StringList and TStringDynArray. Issue #39314

M	packages/rtl-objpas/src/inc/strutils.pp
M	rtl/objpas/classes/classes.inc
M	rtl/objpas/classes/classesh.inc

******************************************************************************
commit c587f5a681b57e6ead82670bd4d19881ba3ce0d1
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:11:24 2021 +0200

    * fix compilation

M	rtl/objpas/types.pp

******************************************************************************
commit 592c2ea0fbf6b9fb44e911fa98725a005e6e1ded
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:05:57 2021 +0200

    * Remove unneeded diagnostic output

M	utils/fpdoc/dw_html.pp

******************************************************************************
commit c4069b5fe8d22d55bc667804aa0301fd00a308ef
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:05:23 2021 +0200

    * Remove spurious var, prevents fpdoc from handling record

M	rtl/objpas/types.pp

******************************************************************************
commit 2e608a3dd025db0a270cfdb17a382e46547fe62b
Author: florian <florian@freepascal.org>
Date:   Fri Aug 20 23:54:49 2021 +0200

      * change information for round* fixed

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 3892689ef77e8cb86add2760482a7eb72e93345e
Author: Pierre Muller <pierre@freepascal.org>
Date:   Fri Aug 20 21:16:48 2021 +0000

     Add several pattern from tests sub-directory to ignore list
    
    (cherry picked from commit a837c8d47a93f1f1c73a6c45b837f49d9d040c30)

M	.gitignore

******************************************************************************
commit 0f0b9833fefa846d3291d275d5d78602212c23be
Author: florian <florian@freepascal.org>
Date:   Thu Aug 19 23:01:00 2021 +0200

      * fix change information for popcnt

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit aecec2f6df34e7ddc759215a258899a19bb2eed4
Author: Don <LongDirtyAnimAlf@gmail.com>
Date:   Thu Aug 19 07:51:36 2021 +0100

    Allow custom definition of GIT.

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit b2d2c5dde3260dbb688849aead1fe72f05f458c5
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Aug 18 16:03:32 2021 +0200

    fcl-json: fixed testjson.lpi

M	packages/fcl-json/tests/testjson.lpi

******************************************************************************
commit 27529a7e748ff7580e0a05865f7738632c61a559
Author: florian <florian@freepascal.org>
Date:   Wed Aug 18 15:16:51 2021 +0200

      * always use $(GIT) to call git

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 56a8f295190f31bfb90d2503364ad462dc0726f5
Author: Pierre Muller <pierre@freepascal.org>
Date:   Wed Aug 18 12:00:07 2021 +0200

     Add support for hash generation for git repository (local modifier not implemented)

M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 838cc89faceda7b5439d6a816da8a3f7567a3855
Author: florian <florian@freepascal.org>
Date:   Wed Aug 18 10:34:08 2021 +0200

    * properly check if -unpushed should be appended in revision.inc

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 4fdeada0a5b43442f09ebe64cee3cac9f2a2a860
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Aug 18 09:45:26 2021 +0200

    pastojs: emulate compile time assign integer constant of different type

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 89d3d866d2370f8f332746506e97dea19c9fe382
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Jun 18 14:07:13 2021 +0000

    activate 'compressed disp8*N' for VCVTQQ2PS xmmreg, xmmrm and VCVTTPD2UDQ xmmreg, xmmrm
    
    git-svn-id: branches/tg74/avx512-0037785@49513 -

M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 85fffd7a77f5dafbf672ee80493fc42fe09aae5d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Jun 18 14:06:55 2021 +0000

    activate 'compressed disp8*N' for VCVTQQ2PS xmmreg, xmmrm and VCVTTPD2UDQ xmmreg, xmmrm
    
    git-svn-id: branches/tg74/avx512-0037785@49512 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit 24f33871c01400fd685e7850248677da0bb91cf8
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Mar 9 16:31:02 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48927 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 18b868bfcddada94c2f0398ea873cda70b7aad5b
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Mar 5 16:08:34 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48880 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit df49a3d067c591e06c511844edb6c0ae33c51151
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Mar 5 09:02:53 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48879 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit da4be71fc8befb8a2def2299c7f92b59e1c51541
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Mar 4 15:54:43 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48877 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit f9f0f9a1d1b388b18d80f648ad230b2ff0bd4039
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Mar 4 05:47:14 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48875 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit e6ed010e9221f2de56c39988762fcfe956ac0231
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Mar 3 16:27:21 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48873 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit afd1875834151ef12ccfdf156e9cd5ed65dc76a7
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Mar 3 05:26:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48872 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 4cc3a7fb120ab462c03757801f0561f7c6516605
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Mar 2 16:30:31 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48870 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 183fbf77af9c614b1201377e00a095a78ae52433
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Mar 1 16:28:11 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48853 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit efcc3b2ebaa8c3f84430c99e6eeb362b0efeee5a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Mar 1 05:54:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48845 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit a4b9fcffeb9db818dc6c620434612be3ceed3b65
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Feb 25 05:30:42 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48807 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 1893babd062d1cfc3b1db3632885f8c2c1fbd1ad
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 24 16:29:26 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48804 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 2f36069dae8eb1f6aa8ae4149c878fb55437868e
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 22 15:59:58 2021 +0000

    bugfix 0037785 cvtsi2ss and cvtsi2sd in x86_64 { att}
    
    git-svn-id: branches/tg74/avx512-0037785@48790 -

M	compiler/ppcx64.lpi
M	compiler/x86/itcpugas.pas

******************************************************************************
commit 6acf8abcc96bc1326a82233b81b409d83460e41a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 15 16:03:49 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48683 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit cdd2832ea7cac413d10a38e61491f1fd99622584
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 15 05:33:27 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48682 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 772ea61b12e2320750ed1b3b697d9328bfe2bf0d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Feb 12 16:23:55 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48658 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 5225dd00f60264f6906abd4006e2a4c477e6b364
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Feb 12 08:22:01 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48656 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 4cdc665ab742d4a019897802dc92c373154d380a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 10 14:13:30 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48606 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit aff1f4999c47aecd65f1f17bfe96e736a55b4ec7
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 8 11:04:21 2021 +0000

    bugfix 0037785 cvtsi2sd,cvtsi2ss for platform i386
    
    git-svn-id: branches/tg74/avx512-0037785@48526 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit b9fc7729c66f62da8345cb461bcc977dcd5a0abe
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Feb 4 04:53:13 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48508 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 2e54def8e5bc837a86138524a2a99c530b7d0399
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 3 16:30:41 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48506 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit d13d625090c4902ebcc2343c2265c0bac50eef52
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 3 09:03:04 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48505 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit cf1fa4cf7f0d84e4eb347ff33cbac74dc0872ce9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Feb 2 16:24:36 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48500 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 3ada628813023a9ff9eabb0892e835f6d5fb8fa2
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 1 16:16:06 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48492 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit bc6e837100933671e8960bb499f42341f2f22435
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 1 14:54:18 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48491 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit d38e2920824b9e9d6d129744afa3b8144d2579f7
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Jan 27 15:48:20 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48437 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp

******************************************************************************
commit 56cc421c77249e7efbe29493c27cdf174ba6d31b
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 16:23:56 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48420 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 334becf76b7140af2f79a7dbe64e32c143bfacc1
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 16:01:01 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48419 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit f172d87925680e203f51bb062d0a5e8b35d9ed10
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 05:24:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48416 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/options.pas

******************************************************************************
commit 84d05a5b0e7dc18cf58fbfe7e003b1580e811a94
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Jan 21 04:57:47 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48261 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 4737a937b17e6e4575ce5000952a3f0ab24b1a2e
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Jan 20 16:30:38 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48230 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit ef621e70141e881296ed835ac2730aee0d1ea13d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 19 11:01:32 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48189 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit fb6a892d9eb0babcbe7660c1d8985f207cae61d5
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 19 05:12:39 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48187 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp

******************************************************************************
commit 259c865667d580981c3b8b0e98287383f38b40a4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 16:27:07 2021 +0000

    cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@48149 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 472f8c900b8b5dd32333c930ba1c6f4a75828102
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 16:19:53 2021 +0000

    cleanup + add internal error if all asmr_e_not_supported_combination_attsuffix_memrefsize_type are reported
    
    git-svn-id: branches/tg74/avx512-0037785@48148 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit ee07cc4db5a9dc3fc14ce4661000f3a605e4bbce
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 11:01:31 2021 +0000

    avxtestgenerator add attsuffix in 'opcode-memrefsize-state - list' (command-line option '-l')
    
    git-svn-id: branches/tg74/avx512-0037785@48147 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 26442e45d542376c709ca18923c0ea47cca312b4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 10:57:15 2021 +0000

    bugfix testcases 0037785
    
    git-svn-id: branches/tg74/avx512-0037785@48146 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 17d1b8afdb7dfe862aaa84d4bb012c2674d8cfc6
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 09:47:18 2021 +0000

    cleanup bugfix 0037785
    
    git-svn-id: branches/tg74/avx512-0037785@48145 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit ce1f115b2d17e17832f36c91b285e83aa3fe8f74
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 13:52:29 2021 +0000

      * use str(...) instead of typinfo unit
    
    git-svn-id: branches/tg74/avx512-0037785@48085 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit c84c4eb1a4cfffe8cacef0193af7a854f34c5bc6
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 13:13:43 2021 +0000

    -- Rückwärtiges Zusammenführen von r47837 bis r47033 in »ppcx64.lpi«:
    U    ppcx64.lpi
    -- Aufzeichnung der Informationen für rückwärtiges Zusammenführen von r47837 bis r47033 in »ppcx64.lpi«:
     G   ppcx64.lpi
    -- Entfernung der Zusammenführungsinformationen von »ppcx64.lpi«:
     U   ppcx64.lpi
    
    git-svn-id: branches/tg74/avx512-0037785@48084 -

M	compiler/ppcx64.lpi

******************************************************************************
commit b6cf482fcf3fc1f916615c8fc80e552e241ad15c
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sat Jan 2 22:13:27 2021 +0000

    internal assembler-reader x86 (local/global var) - validate asm-opcode-attsuffix and memrefsize
    
    git-svn-id: branches/tg74/avx512-0037785@47984 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit 195c8b599c1ddd61ebaa739fd2def0db21436cec
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 30 07:10:37 2020 +0000

    internal assembler-reader x86 opsize local/global var - cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@47899 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 95fae1a81d7a92d9e7511e02400fa362d4763bbd
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 29 05:12:47 2020 +0000

    working on internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47886 -

M	compiler/x86/rax86.pas

******************************************************************************
commit b7ade3e566160485a9fa8c5f16c337fe7b5dc47a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 29 04:49:52 2020 +0000

    internal assembler-reader x86 opsize local/global var - cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@47885 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit e98771608e51c0ccb8b4910376e9e563b8b0c794
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 05:00:58 2020 +0000

    external gas assembler: special handling for correct suffix in vfpclass-opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47865 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 6d1553984e1a418d63d2bd4362b1e55255a073cb
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 04:56:47 2020 +0000

    avxtestgenerator: add new commandline param '-m', create only these testfile(s)
    
    git-svn-id: branches/tg74/avx512-0037785@47864 -

M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit 17cf72ff2de84dcf1414d664cfd6576e08c8e17d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 04:35:22 2020 +0000

    avx512: external gas assembler not supported gather/scatter-opcodes without mask-register =>> not generate testcode
    
    git-svn-id: branches/tg74/avx512-0037785@47863 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 11c17a87de784e7cd6dd4e412336a6d2094244d4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 23 03:56:23 2020 +0000

    external gas-assembler - handling special opcodes with multiple memref-size e.g. vfpclassps/pd - if operand-opsize < S_XMM =>> use memref-min-size
    
    git-svn-id: branches/tg74/avx512-0037785@47837 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/ppcx64.lpi
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit 75acaad1219d06bb3821c4d964dbd6bc17241ea9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sun Dec 20 04:44:37 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable - append correct gas-suffix on any vcvt.. opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47821 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 295e2d4dff621a17c042f1f48474b140f7bfb1d4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 18 16:24:57 2020 +0000

    working on internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47811 -

M	compiler/x86/rax86.pas

******************************************************************************
commit ecf5e515791cf5b1c7d22b89dc41477661ea19dc
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 18 05:27:56 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47807 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit fadac6a9a4169b7354b908e7ac7eb11b17927e68
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 15:43:34 2020 +0000

    cleanup x86ins.dat
    
    git-svn-id: branches/tg74/avx512-0037785@47789 -

M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 2a7ca7ddc721fee3a36a0af405a47fdad1449af0
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 15:39:19 2020 +0000

    cleanup x86ins.dat
    
    git-svn-id: branches/tg74/avx512-0037785@47788 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit a2b720da564edba0ab08efd53eba8a6aa126c0c5
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 11:02:14 2020 +0000

    cleanup and add comments to div. vcvt.. opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47785 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit 9597ae1f039493d4984f35fcb3b97e59ade2d06f
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sat Dec 12 21:36:31 2020 +0000

    add new option to avxtestgenerator to list opcodes-memrefsize-state
    
    git-svn-id: branches/tg74/avx512-0037785@47764 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit 7040587cc3a8be4e692a4eb85ebf0a73eaff2b52
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Dec 10 04:43:24 2020 +0000

    cleanup bugfix internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47745 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 6784bcb033971a2f6250e9d11cf17fd30e8298e3
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 7 04:45:24 2020 +0000

    bugfixing operandsize from 32-bit to (correct) 64-bit
    
    git-svn-id: branches/tg74/avx512-0037785@47708 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit b3680eb5bda0d635435859166223dcfae6d4690c
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 7 04:39:36 2020 +0000

    working on internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47707 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 8e5a54c92e47f1257e804bab50b5e045917870d8
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 4 16:19:48 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47685 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 96fcd2e760881dff0086fa86eb208e30f0d47fb2
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 4 08:35:00 2020 +0000

    bugfix internal assembler-reader x86 opsize local va
    
    git-svn-id: branches/tg74/avx512-0037785@47681 -

M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086tab.inc
M	compiler/ppcx64.lpi
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 0530a2f6e718ed0178d417551b0d4235506bd190
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Dec 3 16:24:00 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47678 -

M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/ppcx64.lpi
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit ec4556e03d6213debed73786cfa6e9f7cfdcd801
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 2 09:19:41 2020 +0000

    working on internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47663 -

M	compiler/x86/rax86.pas

******************************************************************************
commit d97929e9cf8db0b23a936830ec3e4e64206b6813
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 1 05:43:17 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47654 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 9730a50a5badf6803d2f7412d98cc227240e70c8
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Nov 30 16:31:51 2020 +0000

    working on new testmethods memref operands
    
    git-svn-id: branches/tg74/avx512-0037785@47642 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 9758bec36c75cdde8f63d4d2f822c6fe0ce5cf3a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Nov 30 13:53:25 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47640 -

M	compiler/ppcx64.lpi
M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 329ec242cf6c5391861c7f6ba2f65990fe1a4669
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Nov 27 15:54:47 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47608 -

M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit fdfe06382a17e6daa86523b886dd03e013853146
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Nov 27 05:45:44 2020 +0000

    bugfix internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47606 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 07a9767b630b72b0b3f8bb63c7241f395cb50142
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Nov 26 16:27:48 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47600 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 078ff5c2268c00a62407df7f753aa524c3752507
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 25 11:50:10 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47580 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 834bbc4c7bd835b600210041962f51dd5b9f70fe
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 25 09:11:07 2020 +0000

    add new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47579 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit 5633d5e8aac2d3da9cad03f29a803371f6a98244
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 18 04:38:21 2020 +0000

    bugfix gnu-assembler platform i386 vcvtsi2sd,vcvtsi2ss,vcvtusi2sd,vcvtusi2ss
    
    git-svn-id: branches/tg74/avx512-0037785@47443 -

M	compiler/x86/rax86.pas

******************************************************************************
commit aef337e67c4960aad357391e17a09dadfb1708e6
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Nov 17 16:22:27 2020 +0000

    bugfix gnu-assembler platform i386 vcvtsi2sd,vcvtsi2ss,vcvtusi2sd,vcvtusi2ss
    
    git-svn-id: branches/tg74/avx512-0037785@47441 -

M	compiler/i386/i386atts.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/utils/mkx86ins.pp
M	compiler/x86/itcpugas.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86att.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 955e495c217fa558e713aa82cab81ddf7f3c4ea6
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 09:13:50 2021 +0200

    * Websockets & examples

M	packages/fcl-web/Makefile
A	packages/fcl-web/examples/websocket/README.md
A	packages/fcl-web/examples/websocket/client/wsclient.lpi
A	packages/fcl-web/examples/websocket/client/wsclient.lpr
A	packages/fcl-web/examples/websocket/server/wsserver.lpi
A	packages/fcl-web/examples/websocket/server/wsserver.lpr
A	packages/fcl-web/examples/websocket/upgrade/httpupgrader.lpi
A	packages/fcl-web/examples/websocket/upgrade/httpupgrader.lpr
A	packages/fcl-web/examples/websocket/wschat.pp
M	packages/fcl-web/fpmake.pp
A	packages/fcl-web/src/websocket/fpcustwsserver.pp
A	packages/fcl-web/src/websocket/fpwebsocket.pp
A	packages/fcl-web/src/websocket/fpwebsocketclient.pp
A	packages/fcl-web/src/websocket/fpwebsocketserver.pp
A	packages/fcl-web/src/websocket/wsupgrader.pp

******************************************************************************
commit 5dc1d5e93b04b6a5d0afe4260fa2b40278ec0f0d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 08:46:09 2021 +0200

    * Better SetfieldByName/GetFieldByName

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 54e0d972783824a2172596154f73bea1d3481944
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 08:43:56 2021 +0200

    * Fix possible buffer overflow, issue #39330

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 8c5446a03ff70d74427b933ca13c9519e141c0ff
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Sep 1 08:42:52 2021 +0200

    * Update handler functionality

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 1f272f8f90cb1fc0a0a9ba3723aad13ebfcc5f03
Author: florian <florian@freepascal.org>
Date:   Tue Aug 31 21:24:28 2021 +0200

      * we cannot do SSA during partial writes to arrays which span multiple registers, resolves #39325

M	compiler/hlcgobj.pas
A	tests/webtbs/tw39325.pp

******************************************************************************
commit 4d8ecfb42270e418060c9de45ac5a1527150c66c
Author: florian <florian@freepascal.org>
Date:   Tue Aug 31 20:28:23 2021 +0200

      * unified internal error

M	compiler/cgobj.pas

******************************************************************************
commit 757868983c28a1dc93b564dcc8e38582566255bb
Author: Sven Barth <pascaldragon@gmail.com>
Date:   Mon Aug 30 14:51:35 2021 +0200

    * fix #39329: adjust visibilties of PT and TArr in TVector<> and TDeque<> so that they can be correctly used either by descendants or users outside of the class

M	packages/fcl-stl/src/gdeque.pp
M	packages/fcl-stl/src/gvector.pp

******************************************************************************
commit bb2fd561bb253910d57a33b067c269e7894acf08
Author: florian <florian@freepascal.org>
Date:   Thu Aug 26 23:51:20 2021 +0200

      * do fullcycle with -j 4

M	.gitlab-ci.yml

******************************************************************************
commit 133f76c8b7d13e00c891007cebc4a4ceaee80594
Author: Pierre Muller <pierre@freepascal.org>
Date:   Mon Aug 30 17:33:32 2021 +0200

     Ignore all BuildUnit_{package_name}.pp generated file

M	.gitignore

******************************************************************************
commit fec8cb76297e8a30e5c705c54e13cd769745f40f
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 28 16:53:04 2021 +0200

    * TEncoding.GetEncoding - create unicode encodings, not only MBCS

M	rtl/objpas/sysutils/sysencoding.inc

******************************************************************************
commit f134e3b0eec1866a21572feb012813fa14623b87
Author: ccrause <christo.crause@gmail.com>
Date:   Wed Aug 25 20:46:48 2021 +0200

    Sorted help options.

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit ae0cf1b50fc3f480dbed602d27174f84b77b8ec9
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 19:16:18 2021 +0200

    * don't execute DoBeforeDataRead unless OnIdle is set

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 35c45dfbe5a1f1d732071ee4e812684ed1a8e58b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Aug 29 18:13:59 2021 +0200

    * More clear variable names

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit cb05049c4ffbf9529cb1545ee497ac2a86c134ef
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 16:38:08 2021 +0200

    * TSocketHandler.Select: set LastError

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 14dd15373670d02e90897601df347344a3dee709
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 16:20:13 2021 +0200

    * http client: KeepConnectionReconnectLimit to prevent a dead-lock when a server is not available

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 1083746abf9bd7ec09161cc0819d7ef5c5541d1e
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 16:44:39 2021 +0200

    * check for LastError coming from CanRead()

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit df6d2896931c1f7b9bf9f7b401109bc61dc0fdc6
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 13:33:39 2021 +0200

    * fphttpclient: add new OnIdle event to keep the client responsive in case the server needs a lot of time to respond (and to be able to terminate the request while waiting for data)

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit f6587d950520e36b23d412c1b370b861e21e62a6
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 13:33:39 2021 +0200

    * fphttpclient: add new OnIdle event to keep the client responsive in case the server needs a lot of time to respond (and to be able to terminate the request while waiting for data)

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 56c3b5b2cd0acd8f0aa531049f7d5b5fc86849e6
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sun Aug 29 13:02:45 2021 +0200

    * Use FreeAndNil to clear field

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit bfa0c60e7725ed63f2148de95c4651541716515b
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sun Aug 29 12:50:41 2021 +0200

    * destroy FList in the destructor of TFPHTTPServerConnectionListHandler

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 9b8a6438c786637768ad435c10f5cf179b0c4760
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 28 10:36:50 2021 +0200

    * 64-bit ID for 64-bit platforms

M	packages/fcl-web/src/base/fphttpserver.pp
M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 72213d42da79cc35d4f158c8a8555eb0cbb3afd3
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 12:11:29 2021 +0200

    * Negative time value waits forever

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit bbb01506c710df62b55cf7e4127b4f088a7d6f4f
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Fri Aug 27 21:23:01 2021 +0200

    * windows compilation

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 4a67f098ee5f2077417ed8b47e6912a0e4794d1e
Author: florian <florian@freepascal.org>
Date:   Wed Aug 25 10:41:03 2021 +0200

      * reverted wrongly committed file

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit a18a6b4391ee8c0786fdbccf8154949b41be86b1
Author: florian <florian@freepascal.org>
Date:   Tue Aug 24 23:16:52 2021 +0200

      + Aarch64: FMovFMov2FMov 2 optimization

M	compiler/aarch64/aoptcpu.pas
M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 968d00fedf64ee56f23796069752cac3207d48e5
Author: ccrause <christo.crause@gmail.com>
Date:   Tue Aug 24 17:01:50 2021 +0000

      + Add support for -Adefault.
      * Move help message for option -sT to the correct group of messages.
      * Use shorter message to indicate switch to external asm.
      * Adapted -sX messages because -sT doesn't force external assembler writer.

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas

******************************************************************************
commit 26f4d957a0e50653dfac5a7e594d30154146fe89
Author: florian <florian@freepascal.org>
Date:   Mon Aug 23 23:46:45 2021 +0200

      * moved fwait

M	rtl/x86_64/math.inc

******************************************************************************
commit 0558fefc5179a79f11240d503789e3e538162a6a
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 22 12:51:53 2021 +0000

    Avoid range check errors
    (cherry picked from commit 1351ccb3bfe6adad6be0246acb7645203df8b3b0)
    
    # Conflicts:
    #       .gitattributes

M	tests/bench/bcase.pp

******************************************************************************
commit a73ee4f403dc037bdc0d45e2ae793f55f994771a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 22 14:56:19 2021 +0000

    Solves #39296: x86-64 parameter zero/sign extension

M	compiler/x86_64/cpupara.pas
A	tests/webtbs/tw39296.pp

******************************************************************************
commit 6c8b7577958cb4d7589ecaf9705a4568e24c7656
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:20:50 2021 +0200

    * Fix compation

M	utils/fpdoc/dw_html.pp

******************************************************************************
commit f138af02b9b67d26c31bdf1c5ce4bdd19a359dd8
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:13:06 2021 +0200

    * Fix by Mark Paley to add IfThen for StringList and TStringDynArray. Issue #39314

M	packages/rtl-objpas/src/inc/strutils.pp
M	rtl/objpas/classes/classes.inc
M	rtl/objpas/classes/classesh.inc

******************************************************************************
commit f069f272670ebc7579e80238ab10a55e37bc3b8f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:11:24 2021 +0200

    * fix compilation

M	rtl/objpas/types.pp

******************************************************************************
commit 06d99b1e6822a8c8cbf63b0af2b820068feb530b
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:05:57 2021 +0200

    * Remove unneeded diagnostic output

M	utils/fpdoc/dw_html.pp

******************************************************************************
commit 7b6f273023059d3a905fd35897f2db9eb5bf46d0
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:05:23 2021 +0200

    * Remove spurious var, prevents fpdoc from handling record

M	rtl/objpas/types.pp

******************************************************************************
commit 87e9958429835f501f83e8714f2a407c2ffffd12
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Sat Aug 21 09:03:56 2021 +0200

    * Allow to read handler

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 61a3f6603d2fac4f4b88cabb5c1ab1361bf6429b
Author: florian <florian@freepascal.org>
Date:   Fri Aug 20 23:54:49 2021 +0200

      * change information for round* fixed

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 58b252705ea9be56262b384f2b633e386b41f69a
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Aug 20 10:06:38 2021 +0200

    * Allow to compile also non-windows,linux

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 74ebc15596a6ba09eb663919c340df005291924c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Aug 20 10:00:15 2021 +0200

    * Select calls

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 4697de93793690818baef08586f3f06cf6c776b6
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Thu Aug 19 10:45:13 2021 +0000

    Keep-Alive fixes

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/examples/httpserver/testhttpserver.pas
M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas
M	packages/fcl-web/src/base/fphttpserver.pp
M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit c632736197642d2265e48731a22dfa8bda3d5a46
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 23:08:14 2021 +0200

    * No wait loop, use event

M	packages/fcl-base/examples/testthreadpool.pp
M	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit e6f40c196a4a76aeda73632a67eff84f56c2d7bb
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 22:26:09 2021 +0200

    * Make sure size is set after return

M	packages/fcl-web/src/base/fpwebfile.pp

******************************************************************************
commit bb9a1af24849031928f0db2ddfbd1991f91792bc
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 22:25:28 2021 +0200

    * Add interceptor (middleware) functionality to router + Demo

A	packages/fcl-web/examples/intercept/simpleserver.lpi
A	packages/fcl-web/examples/intercept/simpleserver.pas
M	packages/fcl-web/src/base/httproute.pp

******************************************************************************
commit 5a6bea6180fc8b7f37a3cdfa7b62d8e85efa47eb
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 22:24:41 2021 +0200

    * Fix some debug output

M	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit a68a6415f2f559afbde579f1333043090ff5db8d
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 16:37:09 2021 +0200

    * Request ID and connection ID for logging purposes

M	packages/fcl-web/examples/httpserver/testhttpserver.pas
M	packages/fcl-web/src/base/fphttpserver.pp
M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 4ac009846c7a61d2a3a9965b6e6fc7257691d427
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 16:36:29 2021 +0200

    * Smaller idle timeout

M	packages/fcl-web/examples/httpserver/simplehttpserver.pas

******************************************************************************
commit ab7de664719e8421f17c32307eae700c832f2787
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 16:10:30 2021 +0200

    * Working thread pool

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit aa9ff6c225997c84ded257d33219b60374470786
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Aug 18 16:03:32 2021 +0200

    fcl-json: fixed testjson.lpi

M	packages/fcl-json/tests/testjson.lpi

******************************************************************************
commit db0d1501e0bfe9166e94f8eb0204b31023f92940
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 14:39:30 2021 +0200

    * Correct property name

M	packages/fcl-web/examples/httpserver/simplehttpserver.pas

******************************************************************************
commit 181653162cfa3807e9077176b73800231c40d808
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 14:38:31 2021 +0200

    * Finish merge & rebase

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit f7265bf79e0945845c2b3e9472de654b5a2c9c35
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 14:11:50 2021 +0200

    * Some command-line options

M	packages/fcl-web/examples/httpserver/simplehttpserver.pas

******************************************************************************
commit 5bf9de22d696143e5e25a350cf407312603d183e
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 14:11:22 2021 +0200

    Thread pool start

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit f6c476ae79112ef1866dab22cee7c307fc8ec98f
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Wed Aug 18 11:44:47 2021 +0200

    * Start of thread pool.

M	packages/fcl-web/examples/httpserver/simplehttpserver.lpi
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit ed861e5343dba6e3e10d75a6db8919deaf4b350f
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 08:05:14 2021 +0200

    don't keep alive connections that failed

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 410916ab6bfad9c66f396fb94fef0a256f9610a6
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 07:40:47 2021 +0200

    Fix TFPHTTPConnectionThread.Execute repeat loop

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 8fc1bc276f14fd1deadf250385c408b0973074a7
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 06:18:09 2021 +0200

    Info about active connections

M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas

******************************************************************************
commit c4e20291797583b2d172f804c0c684747279e70a
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 06:17:46 2021 +0200

    Ignore exceptions

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit da10b8141c184e592b1d8d4ab65d675c0755fbcc
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 05:44:44 2021 +0200

    Remove the KeepAlive* properties from TFPCustomHttpServer, rename KeepAliveEnabled to EnableKeepAlive

M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit bf2e3bf51a1e9a5c2156edf112fbb8a83aabe42c
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:46:50 2021 +0200

    add threadedhttpserver demo

M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas

******************************************************************************
commit 722a37ab2f8b008c750a4a143d49aae8563032cd
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:46:12 2021 +0200

    Rename KeepAliveSupport->KeepAliveEnabled

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit eaffd1deca89d08f780f34c7788c28a0ac49b939
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:44:20 2021 +0200

    Read out KeepAlive only if enabled

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 1d18f2fdbf2b190f9abefd954bcea71795de8bc3
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:55:15 2021 +0200

    comment

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 162ecdc543f8022f77bac46223537ece7cbc4188
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:55:01 2021 +0200

    TFPCustomHttpServer KeepAlive* properties

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 9d9128a747adcbdc2a7a3fafb17237f895dbff21
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:12:40 2021 +0200

    httpserver keep-alive first attempt

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit c68c22e9e88413abd80866aa3293e553fb0c5b95
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 08:05:14 2021 +0200

    don't keep alive connections that failed

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit ae1c809a2de4d326571b2f086854feb70c35fdae
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 07:40:47 2021 +0200

    Fix TFPHTTPConnectionThread.Execute repeat loop

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 964a9839d1ed9a4fe9400ec95ef0a0db563f0659
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 07:39:34 2021 +0200

    Use InterlockedExchangeAdd to get ConnectionCount

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 7ccdcd3d14a35c350c5463d2488906f66d26163a
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 06:18:09 2021 +0200

    Info about active connections

M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas

******************************************************************************
commit 52c00037d3600f819bd8495b470c06a2f026dc10
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 06:17:46 2021 +0200

    Ignore exceptions

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 6a2f596b8eb7efa8fb672451a7afe0a00b5a03e9
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 05:44:44 2021 +0200

    Remove the KeepAlive* properties from TFPCustomHttpServer, rename KeepAliveEnabled to EnableKeepAlive

M	packages/fcl-web/examples/httpserver/threadedhttpserver.pas
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit af47d108af4e289f6018b2a386b9c96b2a65c12d
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:46:50 2021 +0200

    add threadedhttpserver demo

M	packages/fcl-web/examples/httpserver/simplehttpserver.pas
A	packages/fcl-web/examples/httpserver/testhttpserver.pas
A	packages/fcl-web/examples/httpserver/threadedhttpserver.pas

******************************************************************************
commit 676c9a7bf6e181662c5838ced35d0326fe5da564
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:46:12 2021 +0200

    Rename KeepAliveSupport->KeepAliveEnabled

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit c67a44c07a699e9c70b71f28370f875e1e010bb1
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:44:20 2021 +0200

    Read out KeepAlive only if enabled

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 3814df5b4a052afb5b0d28e761c8836212b353d9
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 04:42:14 2021 +0200

    set socket options in TSocketStream.SetSocketOptions

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 7d890608b8cea84f701e5f88a32f7a6edea3f173
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:55:15 2021 +0200

    comment

M	packages/fcl-net/src/ssockets.pp

******************************************************************************
commit 8bf5eb83229a05e2c630bc4015b9c622ff8e48df
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:55:01 2021 +0200

    TFPCustomHttpServer KeepAlive* properties

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 7fbc82a9ffd9fda11f0643f32dcfd675de7a53a4
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Sat Aug 14 02:12:40 2021 +0200

    httpserver keep-alive first attempt

M	packages/fcl-net/src/ssockets.pp
M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 4401ef32bb51ed138015821fc2c8f51c467fec6d
Author: mattias <nc-gaertnma@netcologne.de>
Date:   Wed Aug 18 09:45:26 2021 +0200

    pastojs: emulate compile time assign integer constant of different type

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 6b36229d3c1e202665ca7b34d731194534fccdf9
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Aug 17 16:47:00 2021 +0200

    * Allocate min threads

M	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit 6e8775f2a9934349c3f13921aaeed6945f9f919c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Aug 17 16:25:24 2021 +0200

    * Add thread pool to fpmake

M	packages/fcl-base/fpmake.pp

******************************************************************************
commit 2e0a88901e2b1ee57dae1caa5b803c012cbf315c
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Tue Aug 17 16:21:16 2021 +0200

    * Initial thread pool implementation

M	packages/fcl-base/examples/README.txt
A	packages/fcl-base/examples/testthreadpool.pp
A	packages/fcl-base/src/fpthreadpool.pp

******************************************************************************
commit 400e11e6cfdef0bc217dd92b5214e21222f09f08
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Tue Aug 17 10:20:25 2021 +0000

    Propagate SSL initialization errors as exceptions

M	packages/fcl-net/src/ssockets.pp
M	packages/openssl/src/opensslsockets.pp

******************************************************************************
commit 07dcd22b1c812f4dc659995c84c51fc580383a59
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 16 21:53:17 2021 +0300

    * sizeof(array) and length(array) must return sizeUint in case the array
      size does not fit in sizeint. This fixes a range check error during
      compilation on small CPU targets where allowed array size is 64K, but
      sizeint is 32K max.

M	compiler/ncon.pas
M	compiler/ninl.pas
M	compiler/pexpr.pas

******************************************************************************
commit 40c359a5510fdbda573a1eb75a50977382f0996d
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Mon Aug 16 17:42:01 2021 +0200

    TFPCustomHTTPClient: do not reconnect when terminated

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 3ca73da91282ae5ea53ab61ece3301dacb454a43
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 16 17:35:23 2021 +0300

    * In TP-style INLINE, allowed the > modifier for global vars and relaxed range checks.

M	compiler/pstatmnt.pas

******************************************************************************
commit fdaa1a12d03ab0af27d783a6ebd8c989673f145b
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Mon Aug 16 13:59:51 2021 +0000

    fphttpclient: new DoDataWrite/OnDataSent event

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit fc3685819c07008860e35f2d727d55365a4586e0
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 16 16:12:21 2021 +0300

    + Added a test for the TP-style INLINE() statement.

A	tests/test/ttpinl.pp

******************************************************************************
commit d502a38f2044a641fac2eb94501f1b49d3b698a5
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Mon Aug 16 11:33:53 2021 +0200

    TFPHTTPConnection: clear FBuffer when read from it in ReadRequestContent

M	packages/fcl-web/src/base/fphttpserver.pp

******************************************************************************
commit 675312c201c678c8446482f7e53b1209684b45bd
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Mon Aug 16 07:04:20 2021 +0200

    *http client: rewind RequestBody in SendRequest

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit 64ddf22e1b77cea0a29d13f5bcd1e09e8bb17ebf
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 16 00:40:06 2021 +0300

    * TP compatibility: For retro CPUs always copy the function result to
      the register(s) on function exit if assembler blocks are present.

M	compiler/pstatmnt.pas

******************************************************************************
commit c78e9557f81f7711a60400f8709b5b1fe017bdd5
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 16 00:31:08 2021 +0300

    * Added support for the old Turbo Pascal INLINE(data/data/...) statement.
      It is available only in the TP mode.

M	compiler/ncgbas.pas
M	compiler/pstatmnt.pas
M	compiler/tokens.pas

******************************************************************************
commit 122ed4b76a4e735ab76b44d52c845879e6fa5535
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Sun Aug 15 14:25:15 2021 +0300

    * Support for sleb128 and uleb128 constants in the NASM writer.
    * Added sleb128tostr() and uleb128tostr() methods to TExternalAssembler.
    * Use these methods in assembler writers instead of code duplication.

M	compiler/aggas.pas
M	compiler/assemble.pas
M	compiler/x86/agx86nsm.pas
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 5479663e560bbe906bf05274b74cd168dac41627
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Sun Aug 15 11:47:01 2021 +0000

    Move GetStatusCode from fphttpserver.pp to httpprotocol.pp in order to use it outside fphttpserver

M	packages/fcl-web/src/base/fphttpserver.pp
M	packages/fcl-web/src/base/fphttpstatus.pas
M	packages/fcl-web/src/base/httpprotocol.pp

******************************************************************************
commit c64c0e617d070de85b11e171d895886c064b1bec
Author: Ondrej Pokorny <ondrej@kluug.net>
Date:   Sun Aug 15 11:39:05 2021 +0000

    fphttpclient keepalive: failed socket operations raise exceptions - try to reconnect also in this case

M	packages/fcl-web/src/base/fphttpclient.pp

******************************************************************************
commit dd4b4af6a53514749c8ed329cbd9c41ab6f1b7b5
Author: Karl-Michael Schindler <609203+kamischi@users.noreply.github.com>
Date:   Sat Aug 14 23:48:45 2021 +0200

    compiler/msg/errord*.msg: Update of German error messages

M	compiler/msg/errord.msg
M	compiler/msg/errordu.msg

******************************************************************************
commit a7d608dd431df9e641b147bb9370daae4750f723
Author: Michaël Van Canneyt <michael@freepascal.org>
Date:   Fri Aug 13 14:09:34 2021 +0200

    * Add DB testsuite config file to ignore list

M	.gitignore

******************************************************************************
commit 07698050e56747de32c7ce580467cc8bbebb2a28
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Aug 13 13:53:22 2021 +0300

    * Before r35961 (back in 2017) some simple assignment optimizations, such as "x:=x+y" to "inc(x,y)", were performed when -O2 in tassignmentnode.simplify. In r35961 these optimizations were moved to a separate pass which is enabled only when -O3 by cs_opt_use_load_modify_store. This separate pass can benefit from other optimization. But worse code is generated with -O2 since then.
    This commit restores applying of simple assignment optimizations when -O2.

M	compiler/nld.pas
M	compiler/optloadmodifystore.pas

******************************************************************************
commit 777d536d9bc826fcf5d580dd80ba2c25a73de1ee
Author: florian <florian@freepascal.org>
Date:   Thu Aug 12 21:19:50 2021 +0200

      * extended routines int/frac/trunc shouldn't mess with precision or exception flags, should fix #39275

M	rtl/x86_64/math.inc

******************************************************************************
commit 306fae299e2b90543f863504cd9a35be802d103e
Author: florian <florian@freepascal.org>
Date:   Wed Aug 11 22:59:40 2021 +0200

      * patch by J. Gareth Moreton: AND/CMP optimisation, resolves #39287

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 25e937b0c92ee809951e29942089dda9e77d4675
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Wed Aug 11 22:03:36 2021 +0200

    * Correct reader signatures

M	packages/fcl-db/src/base/bufdataset.pas

******************************************************************************
commit 2f81580e04990ab194d0beb6fc8a4681c084cffc
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Wed Aug 11 21:53:49 2021 +0200

    * cast empty string to char no longer compiles

M	packages/fcl-db/tests/testdbexport.pas

******************************************************************************
commit 776790d01488b14c46ec0c912ba0604126056c43
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Wed Aug 11 21:53:00 2021 +0200

    * Rework packet handling

M	packages/fcl-db/src/base/bufdataset.pas

******************************************************************************
commit a55794d80d6f8af398d44f26c94b7abba55a6634
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Aug 11 11:57:53 2021 +0200

    DateTimeToString: do not write #0 separators

M	rtl/objpas/sysutils/dati.inc

******************************************************************************
commit 0ae0e741cfbbe66e0a87f5162608075bb359244f
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Aug 11 11:06:17 2021 +0200

    win: fix default ShortDateFormat and LongDateFormat

M	rtl/win/sysutils.pp

******************************************************************************
commit 2c81b44b1c9a5581dd20c7d6f6c49394f930cc13
Author: Ondrej Pokorny <lazarus@kluug.net>
Date:   Wed Aug 11 11:06:17 2021 +0200

    win: fix default ShortDateFormat and LongDateFormat

M	rtl/win/sysutils.pp

******************************************************************************
commit 10acbca82824b6a3ebf5dd829941da61211f947c
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 9 23:49:58 2021 +0300

    * x86: Added the "test $-1,%reg" condition to the MovAndTest2Test optimization.

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c0d57d03c232bafa06d80fee74b07e91300944c5
Author: Marcus Sackrow <alb42@web.de>
Date:   Mon Aug 9 17:20:48 2021 +0100

    amiga: removed some debugging settings

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 8117c97d921cb0b56f4e958a0ddb7b6d34acf0dd
Author: Marcus Sackrow <alb42@web.de>
Date:   Sun Aug 8 14:50:25 2021 +0100

    amiga: FPC_DOKEYCONVERSION env var if key conversation Ansi to IBM should be done for every key

M	packages/rtl-console/src/amicommon/keyboard.pp

******************************************************************************
commit e1a75bf6588284851b11c20f55791b496a764a86
Author: Marcus Sackrow <alb42@web.de>
Date:   Sun Aug 8 14:49:27 2021 +0100

    Amiga: Implemented GetVar for 1.x

M	packages/amunits/src/coreunits/amigados.pas
M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 6a3f32ba6983dfda5250d03b9b2d33c8ffc6022a
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Mon Aug 9 18:38:31 2021 +0300

    * optimize tests for a single bit "(a and one_bit_mask_const) = <> one_bit_mask_const" into "(a and one_bit_mask_const) <> = 0" to enable further CPU specific optimizations.

M	compiler/nadd.pas

******************************************************************************
commit 3cfec8f905a3edc27473e9ddf12f888e74d19bb5
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Mon Aug 9 16:34:35 2021 +0200

    * Fix error in calclookupvalue

M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit 352435cb75c53e081baf0dd311fc6cf90a804884
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Mon Aug 9 11:49:44 2021 +0200

    * only .pp is needed

D	packages/gitlab/examples/closetodo/closetodo.lpr

******************************************************************************
commit 5d826cfe3cf1bcb0c5da68e0d584ddeb6a3220f9
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Mon Aug 9 10:55:13 2021 +0200

    * Some additional filters

M	packages/gitlab/examples/closetodo/closetodo.pp

******************************************************************************
commit c5a128fae7e1c7671b05bbe286b4bf927a6c67b2
Author: Michaël Van Canneyt <michael.vancanneyt@cquel.be>
Date:   Sun Aug 8 15:22:33 2021 +0200

    * Gitlab client + example

M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc
A	packages/gitlab/Makefile
A	packages/gitlab/Makefile.fpc
A	packages/gitlab/examples/closetodo/closetodo.lpr
A	packages/gitlab/examples/closetodo/closetodo.pp
A	packages/gitlab/examples/closetodo/sample.cfg
A	packages/gitlab/fpmake.pp
A	packages/gitlab/src/gitlabclient.pas

******************************************************************************
commit c1f6a7afdd035f96168c58b3af8e453962c69de7
Author: Marcus Sackrow <alb42@web.de>
Date:   Fri Aug 6 19:48:27 2021 +0100

    Amiga: Workbench 1.x compatibilty via the AMIGA_V1_2_ONLY define

M	packages/ami-extra/src/muihelper.pas
M	packages/amunits/src/coreunits/agraphics.pas
M	packages/amunits/src/coreunits/amigados.pas
M	packages/amunits/src/coreunits/amigalib.pas
M	packages/amunits/src/coreunits/exec.pas
M	packages/amunits/src/coreunits/intuition.pas
M	packages/amunits/src/coreunits/keymap.pas
M	packages/amunits/src/coreunits/utility.pas
M	packages/amunits/src/utilunits/hisoft.pas
M	packages/amunits/src/utilunits/wbargs.pas
M	packages/fcl-process/src/amicommon/pipes.inc
M	packages/rtl-console/src/amicommon/crt.pp
M	packages/rtl-console/src/amicommon/keyboard.pp
M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 136f0429725919c7759358a0499a4cec09f8a3ad
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Aug 6 21:43:10 2021 +0300

    * It is still needed to release the temp allocated for the result of an assembler function if the result is not referenced. This fixes some EXTDEBUG warnings.

M	compiler/hlcgobj.pas

******************************************************************************
commit 5920d169c096737ad6288a96a37a9377fd8697dc
Author: Yuriy Sydorov <jura@cp-lab.com>
Date:   Fri Aug 6 21:29:05 2021 +0300

    * Prevent double release of a temp.

M	compiler/x86/nx86cnv.pas

******************************************************************************
commit 5350ac7d65f1f595ba4e3b6d582829fc9ad3bca1
Author: Marcus Sackrow <alb42@web.de>
Date:   Fri Aug 6 17:41:51 2021 +0100

    fpts2junit: prevent double entries in junit xml (in test log are double entries, one for compiles, one for runs)

M	tests/utils/fpts2junit.pp

******************************************************************************
commit b3744bf11fc50891c3769b1268f72dc93824d5bb
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 04:30:09 2021 +0300

    + added dependency on unit xmd for unit dpms

M	packages/x11/fpmake.pp

******************************************************************************
commit a061b2e76386729992137803cb9259df66202ab9
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 04:29:12 2021 +0300

    + added unit xtestext1 (header translation of X11/extensions/xtestext1.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/xtestext1.pp
A	packages/x11/src/xtestext1const.inc
A	packages/x11/tests/xtestext1_linktest.pp

******************************************************************************
commit 68e026ab2dc225e950bdd85a59d9106cd9de77aa
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 03:59:41 2021 +0300

    + added unit sync (header translation of X11/extensions/sync.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/sync.pp
A	packages/x11/src/syncconst.inc
A	packages/x11/tests/sync_linktest.pp

******************************************************************************
commit 650d2fcaa9a463f90e17de0b719c41b7cdb4e8ed
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 02:56:40 2021 +0300

    + added unit security (header translation of X11/extensions/security.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/secur.inc
A	packages/x11/src/security.pp
A	packages/x11/src/xauth.inc
A	packages/x11/tests/security_linktest.pp

******************************************************************************
commit d33e6d639b70ace8f97c4a47953b0b910612d2a1
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 02:27:14 2021 +0300

    + added unit multibuf (header translation of X11/extensions/multibuf.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/multibuf.pp
A	packages/x11/src/multibufconst.inc
A	packages/x11/tests/multibuf_linktest.pp

******************************************************************************
commit 68c964bf59c8380843fda383273a05d5aa44b27d
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 01:40:53 2021 +0300

    + added unit dpms (header conversion of X11/extensions/dpms.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/dpms.pp
A	packages/x11/src/dpmsconst.inc
M	packages/x11/src/xlib.pp
A	packages/x11/tests/dpms_linktest.pp

******************************************************************************
commit 261aff9de8ba3435e87d996689a074c6bcbcc783
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 01:24:41 2021 +0300

    + added unit xmd (header translation of X11/Xmd.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/xmd.pp

******************************************************************************
commit 63760fce6a05ed9743d7af4a758009b9ee8e1bb0
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 00:15:21 2021 +0300

    + added packrecords C directive to the xevi unit, because it contains records

M	packages/x11/src/xevi.pp

******************************************************************************
commit c6ef087850f57667612964049242965bbd452481
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Fri Aug 6 00:14:01 2021 +0300

    + added unit xdbe (header translation of X11/extensions/Xdbe.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/dbe.inc
A	packages/x11/src/xdbe.pp
A	packages/x11/tests/xdbe_linktest.pp

******************************************************************************
commit c3798a4a38335681a17ee0a35a63baaf8daa93d8
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Aug 5 23:48:05 2021 +0300

    + added unit xcup (header translation of X11/extensions/Xcup.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/cup.inc
A	packages/x11/src/xcup.pp
M	packages/x11/src/xlib.pp
A	packages/x11/tests/xcup_linktest.pp

******************************************************************************
commit 9846fd3f37424ef692f286dac238da33de9cd31b
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Aug 5 23:36:27 2021 +0300

    + added unit xag (header translation of X11/extensions/Xag.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/ag.inc
A	packages/x11/src/xag.pp
A	packages/x11/tests/xag_linktest.pp

******************************************************************************
commit 1699471b8dfba863d6624edaf18b63e075286b5c
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Aug 5 23:09:40 2021 +0300

    + added unit xlbx (header translation of X11/extensions/XLbx.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/lbx.inc
A	packages/x11/src/xlbx.pp
A	packages/x11/tests/xlbx_linktest.pp

******************************************************************************
commit cf1d3539feebe1e8726a42a1929b19449defec2a
Author: Nikolay Nikolov <nickysn@gmail.com>
Date:   Thu Aug 5 22:48:32 2021 +0300

    + added unit xevi (header translation of X11/extensions/XEVI.h)

M	packages/x11/fpmake.pp
A	packages/x11/src/evi.inc
A	packages/x11/src/xevi.pp
A	packages/x11/tests/xevi_linktest.pp

******************************************************************************
commit 7368fcf4c5a6845a0c2257ae0479556850184565
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Jun 18 14:07:13 2021 +0000

    activate 'compressed disp8*N' for VCVTQQ2PS xmmreg, xmmrm and VCVTTPD2UDQ xmmreg, xmmrm
    
    git-svn-id: branches/tg74/avx512-0037785@49513 -

M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 43b29375899276a2734571d2be8daef68e5b9008
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Jun 18 14:06:55 2021 +0000

    activate 'compressed disp8*N' for VCVTQQ2PS xmmreg, xmmrm and VCVTTPD2UDQ xmmreg, xmmrm
    
    git-svn-id: branches/tg74/avx512-0037785@49512 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit 314e55204655aaa8f2db239bcf34399e52a04718
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 21:49:17 2021 +0000

    * update revision.inc
    
    git-svn-id: branches/unicodekvm@48975 -

M	utils/fpcm/revision.inc

******************************************************************************
commit b4a002e3e777f7a26040bf42a2372a8f1908e9ba
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Mar 9 16:31:02 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48927 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 15ff16d85218ad77941878493af4b120cb11da47
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 19:47:13 2021 +0000

    * use FPC's integrated codepage conversion for non-Unicode unix consoles
    
    git-svn-id: branches/unicodekvm@48923 -

M	.gitattributes
D	packages/rtl-console/src/unix/convert.inc
M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit da569e952e0123da0e54570dfe32b5377e671939
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 18:55:18 2021 +0000

    * return RawByteString in the transform function result
    
    git-svn-id: branches/unicodekvm@48922 -

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 1c961a498677e41dd210869e4877a27a21cbddfd
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 18:50:45 2021 +0000

    * converted comments to utf-8, so the file is readable in modern text editors
    
    git-svn-id: branches/unicodekvm@48921 -

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 40eede3a7a778d383ce2156a595069b320fd8aa0
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 18:44:20 2021 +0000

    * converted tabs to spaces
    
    git-svn-id: branches/unicodekvm@48920 -

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit ce9e1e84669018bcd10c9cf3b163af37b66e0c54
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 18:21:31 2021 +0000

    - get rid of internal_codepage. Set CurrentLegacy2EnhancedTranslationCodePage instead.
    
    git-svn-id: branches/unicodekvm@48919 -

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit ed0ec9468095a870767b3cf0e54a9603548bcd98
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 18:18:14 2021 +0000

    * fixed bug in decide_codepages, which was checking the wrong variable for is_vga_code_page
    
    git-svn-id: branches/unicodekvm@48918 -

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit ed670d2ce7ea9d99f1dbd915d5adbd41f5467137
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 18:13:41 2021 +0000

    * converted internal_codepage and external_codepage to the TSystemCodePage type.
      Removed the unused codepage enum constants and sets.
    
    git-svn-id: branches/unicodekvm@48917 -

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 62f8899c1b13c58ab3d318c55c607ccefab9b811
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 17:56:06 2021 +0000

    * hide the (currently broken, to be fixed) unix internal/external code page
      stuff to the implementation part of the unit
    
    git-svn-id: branches/unicodekvm@48916 -

M	packages/fv/src/views.inc
M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 77279fb5ef2f4712d38ccd1fcab59f9f9e9802e1
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 17:34:36 2021 +0000

    * use the current legacy console code page in Enhanced2Legacy
    
    git-svn-id: branches/unicodekvm@48915 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit c6bce8915ff4b0a53ce295d6d14da5ebce9dd200
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 16:40:11 2021 +0000

    + implemented GetSupportedCodePageCount/GetSupportedCodePage for unicode consoles
    
    git-svn-id: branches/unicodekvm@48913 -

M	packages/rtl-console/src/amicommon/video.pp
M	packages/rtl-console/src/go32v2/video.pp
M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/msdos/video.pp
M	packages/rtl-console/src/netware/video.pp
M	packages/rtl-console/src/netwlibc/video.pp
M	packages/rtl-console/src/os2commn/video.pp
M	packages/rtl-console/src/unix/video.pp
M	packages/rtl-console/src/win/video.pp
M	packages/rtl-console/src/win16/video.pp

******************************************************************************
commit df95478d19bceedd41a86dbc3c8c006e91b2a0a3
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 15:22:11 2021 +0000

    * wire up the code page functions to call the driver functions in case of a legacy driver
    
    git-svn-id: branches/unicodekvm@48912 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit a4db719eb4ff6d62a733c0042c0b10716b0f141f
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 15:12:20 2021 +0000

    + introduced legacy code page functions to the video driver itself (they can
      optionally be implemented for operating systems with non-unicode consoles)
    
    git-svn-id: branches/unicodekvm@48911 -

M	packages/rtl-console/src/amicommon/video.pp
M	packages/rtl-console/src/go32v2/video.pp
M	packages/rtl-console/src/inc/videoh.inc
M	packages/rtl-console/src/msdos/video.pp
M	packages/rtl-console/src/netware/video.pp
M	packages/rtl-console/src/netwlibc/video.pp
M	packages/rtl-console/src/os2commn/video.pp
M	packages/rtl-console/src/unix/video.pp
M	packages/rtl-console/src/win/video.pp
M	packages/rtl-console/src/win16/video.pp

******************************************************************************
commit 14af3cb5cb48b39589a28dfd34618cdcd6000ca0
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 15:00:37 2021 +0000

    + added checks for certain code pages that should not be allowed to be set in Video.ActivateCodePage
    
    git-svn-id: branches/unicodekvm@48910 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 2abcf62a958476ba80b78b3c7875d9272d9f7e90
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 8 14:30:06 2021 +0000

    + added functions for getting/setting the current code page, when using the
      legacy (non-Unicode) video buffer
    
    git-svn-id: branches/unicodekvm@48908 -

M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/inc/videoh.inc

******************************************************************************
commit ad753c0bbd52d42685ef5cdb0406c2c7e369c605
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Mar 5 16:08:34 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48880 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit d6235174ac37b3aa7ba6ee1e03a5abe450d2a4d5
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Mar 5 09:02:53 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48879 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 5d3faa5ebd1f1d4acbf58d563b5b38c9a4ae6cf1
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Mar 4 15:54:43 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48877 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 798eb0e768dee97be6c729e35445765dbedb7d36
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Mar 4 05:47:14 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48875 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit bc42999a09d3acb45eb1b3daf3a2223e828f93ff
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Mar 3 16:27:21 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48873 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit fa8bbc43960c51ef1fa09ef630ab53c08e76ea29
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Mar 3 05:26:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48872 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 0569ab4a2859d1e5ff60e996deaa0bcf2fff737c
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Mar 2 16:30:31 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48870 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 063133f2f5726e0f71d74149c2f522ecd37a882e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 2 14:59:24 2021 +0000

    * replaced high ascii characters with #XXX equivalents and provided unicode equivalents
    
    git-svn-id: branches/unicodekvm@48869 -

M	packages/fv/src/tabs.inc

******************************************************************************
commit 12fb58325a6a24663582762f7296fc903cef3420
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 2 13:59:29 2021 +0000

    * converted some non-ascii characters to unicode
    * converted non-ascii characters to #XXX equivalents
    
    git-svn-id: branches/unicodekvm@48868 -

M	packages/fv/src/views.inc

******************************************************************************
commit 088a52a1cec23092d2c918cb121b44bd9391ee74
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 2 12:42:21 2021 +0000

    * converted non-ascii characters in stddlg.pas to unicode and #XXX equivalents in the non-unicode version
    
    git-svn-id: branches/unicodekvm@48867 -

M	packages/fv/src/stddlg.pas

******************************************************************************
commit 6aacb9696184f25755a7a0c51041eb953c60808c
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 2 12:29:57 2021 +0000

    * replaced non-ascii characters to #XXX equivalents
    
    git-svn-id: branches/unicodekvm@48866 -

M	packages/fv/src/dialogs.inc
M	packages/fv/src/inplong.inc
M	packages/fv/src/menus.inc
M	packages/fv/src/outline.inc

******************************************************************************
commit a57bda94defdebc54a9ea26cbda85d7fe6ab377e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 2 12:28:55 2021 +0000

    * unicode conversion of the non-ASCII characters in statuses.pas
    
    git-svn-id: branches/unicodekvm@48865 -

M	packages/fv/src/statuses.pas

******************************************************************************
commit 3b408e6a6a986e8c1f0493e00e1645db3ee502ef
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Mar 1 16:28:11 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48853 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit c1dca28cc5759a9190089849e83d6dd3c72a77e2
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 1 15:43:43 2021 +0000

    + added utabs - unicode version of the tabs unit
    
    git-svn-id: branches/unicodekvm@48852 -

M	.gitattributes
M	packages/fv/examples/testuapp.pas
M	packages/fv/fpmake.pp
M	packages/fv/src/tabs.inc
A	packages/fv/src/utabs.pas

******************************************************************************
commit 3149506d7f82ed315a809a0c76c10daf9c4ce3f1
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 1 15:32:45 2021 +0000

    + added tabs.pas that includes tabs.inc
    
    git-svn-id: branches/unicodekvm@48851 -

M	.gitattributes
M	packages/fv/fpmake.pp
A	packages/fv/src/tabs.pas

******************************************************************************
commit 0b7d4801b077856035a56c7a67806210306df21d
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 1 15:31:37 2021 +0000

    * tabs.pas renamed tabs.inc
    
    git-svn-id: branches/unicodekvm@48850 -

M	.gitattributes
R100	packages/fv/src/tabs.pas	packages/fv/src/tabs.inc

******************************************************************************
commit 52a29e0ba7e6dbf5cdc6dc0ba9b60c88e2307856
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 1 14:16:22 2021 +0000

    + added unit uinplong - unicode version of inplong
    
    git-svn-id: branches/unicodekvm@48849 -

M	.gitattributes
M	packages/fv/examples/testuapp.pas
M	packages/fv/fpmake.pp
M	packages/fv/src/inplong.inc
A	packages/fv/src/uinplong.pas

******************************************************************************
commit af19d2a98285e96995898cfee325f97cd706a9b2
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 1 13:30:12 2021 +0000

    * fixed compilation under Linux
    
    git-svn-id: branches/unicodekvm@48848 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 493879d28cc1c2f76193c44458344f838ac17160
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Mar 1 05:54:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48845 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 41a51e8e4a6220935ff65f6e313c80380c71c1e9
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 17:22:59 2021 +0000

    + added inplong.pas that includes inplong.inc
    
    git-svn-id: branches/unicodekvm@48831 -

M	.gitattributes
M	packages/fv/fpmake.pp
A	packages/fv/src/inplong.pas

******************************************************************************
commit 6ca821950d7dcd8579bd1e87ca22049aaf9e8b8d
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 17:21:16 2021 +0000

    * inplong.pas renamed inplong.inc
    
    git-svn-id: branches/unicodekvm@48830 -

M	.gitattributes
R100	packages/fv/src/inplong.pas	packages/fv/src/inplong.inc

******************************************************************************
commit 40870af6a7dc39322622f7c4646b974c0d0800be
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 17:15:29 2021 +0000

    + added unicode version of the timeddlg unit
    
    git-svn-id: branches/unicodekvm@48829 -

M	.gitattributes
M	packages/fv/fpmake.pp
M	packages/fv/src/timeddlg.inc
A	packages/fv/src/utimeddlg.pas

******************************************************************************
commit 4b6eea19189dce34125eb0e3de74b07de5cf8e43
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 13:39:41 2021 +0000

    + added timeddlg.pas that includes timeddlg.inc
    
    git-svn-id: branches/unicodekvm@48827 -

M	.gitattributes
M	packages/fv/fpmake.pp
A	packages/fv/src/timeddlg.pas

******************************************************************************
commit 78c3b698b183c690592e3f63fa8b2e6c12618607
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 13:37:43 2021 +0000

    * timeddlg.pas renamed timeddlg.inc
    
    git-svn-id: branches/unicodekvm@48826 -

M	.gitattributes
R100	packages/fv/src/timeddlg.pas	packages/fv/src/timeddlg.inc

******************************************************************************
commit 0c2a1ffba8bb86294b226db30e4f744eb2b1da9c
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 13:15:37 2021 +0000

    + added lpi file for compiling testuapp for windows
    
    git-svn-id: branches/unicodekvm@48825 -

M	.gitattributes
A	packages/fv/examples/testuapp_windows.lpi

******************************************************************************
commit 87777ea10b5285a27ac3cc4e387ee65392bbb6b1
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 10:44:17 2021 +0000

    + added graphemebreakproperty and eastasianwidth to the video unit uses clauses of all the remaining operating systems
    
    git-svn-id: branches/unicodekvm@48824 -

M	packages/rtl-console/src/amicommon/video.pp
M	packages/rtl-console/src/go32v2/video.pp
M	packages/rtl-console/src/msdos/video.pp
M	packages/rtl-console/src/netware/video.pp
M	packages/rtl-console/src/netwlibc/video.pp
M	packages/rtl-console/src/os2commn/video.pp
M	packages/rtl-console/src/win16/video.pp

******************************************************************************
commit 2181e7c61d14e894cabe6bae050720561164b685
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 10:39:26 2021 +0000

    + handle enhanced video buffer resizing
    
    git-svn-id: branches/unicodekvm@48823 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit b681e2cd7fb8c12eb55d374b2adc7e247706205f
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 10:27:20 2021 +0000

    - removed commented out code
    
    git-svn-id: branches/unicodekvm@48822 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 306cfa83e4f044665e23369d2ddd1bb513c8b839
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 10:20:09 2021 +0000

    + also convert characters in the range #128..#255 in ExtendedGraphemeCluster2LegacyChar
    
    git-svn-id: branches/unicodekvm@48821 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 2f442ab6d09cee0c7675eee9578288609f6fc510
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 09:55:24 2021 +0000

    + use a table convert_lowascii_to_Unicode to convert unicode to cp437 lowascii and vice versa
    
    git-svn-id: branches/unicodekvm@48820 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 3c3f43ac665385b2c259c5930da9452682ba3cb8
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 09:43:02 2021 +0000

    * convert unicode to the cp437 dingbats range (#0..#31,#127) in ExtendedGraphemeCluster2LegacyChar
    
    git-svn-id: branches/unicodekvm@48819 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit a203313bbf29d192763141b828b0077fec440f08
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 09:08:31 2021 +0000

    + added extra unit paths to rtl-unicode
    
    git-svn-id: branches/unicodekvm@48818 -

M	packages/rtl-console/tests/video1_windows.lpi
M	packages/rtl-console/tests/video2_windows.lpi

******************************************************************************
commit 38ef18b4f4af21230d751a546f71065ecd3512af
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 27 08:19:58 2021 +0000

    * fixed compilation of the video unit on Windows
    
    git-svn-id: branches/unicodekvm@48817 -

M	packages/rtl-console/src/win/video.pp

******************************************************************************
commit 1b1facf87991774ff536acd4bddbd00faac243bc
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 26 15:24:52 2021 +0000

    + optimization: use EgcWidth instead of StrWidth wherever possible
    
    git-svn-id: branches/unicodekvm@48813 -

M	packages/fv/src/dialogs.inc
M	packages/fv/src/views.inc

******************************************************************************
commit 00beafae5be8d267469128964c6e901a6817e0c3
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 26 15:19:13 2021 +0000

    + introduced UDrivers.EgcWidth
    
    git-svn-id: branches/unicodekvm@48812 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit ddd87e09ff91b16d0926a857787e753eda4baff0
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 26 13:32:11 2021 +0000

    * fixed double width character at the end of TInputLine covering the right
      scroll arrow
    
    git-svn-id: branches/unicodekvm@48811 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit fe312ab99ff41531686afed3ce0f7446d928a765
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 26 12:15:01 2021 +0000

    + wide and combining character support in TInputLine.HandleEvent.MousePos. This
      means cursor positioning and text selection with the mouse now works properly
      with these special unicode characters
    
    git-svn-id: branches/unicodekvm@48810 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 41399354ce3fdfa9683f310e168427480c01f9d1
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Feb 25 05:30:42 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48807 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit ca0d11e308a6c64fa6494d7c904032280ec83111
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 24 16:29:26 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48804 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 3dfefc25efa6ebced10e2e2dbde187130bbab2cc
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 24 06:54:54 2021 +0000

    + unicode combining and wide character support in TInputLine.Draw
    
    git-svn-id: branches/unicodekvm@48797 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 1c9fb8ec7dc83230dd264147ddc167eb5f323804
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 24 06:38:29 2021 +0000

    + wide and combining character support when determining the cursor position in TInputLine
    
    git-svn-id: branches/unicodekvm@48796 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit e430c92fcbb5b00680ac84579d6f969a4aa1c1c4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 22 15:59:58 2021 +0000

    bugfix 0037785 cvtsi2ss and cvtsi2sd in x86_64 { att}
    
    git-svn-id: branches/tg74/avx512-0037785@48790 -

M	compiler/ppcx64.lpi
M	compiler/x86/itcpugas.pas

******************************************************************************
commit c63534af487eb2972f258fcf5d84a91f9c902095
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 06:30:39 2021 +0000

    * fixed handling of non-BMP characters in Video.ExtendedGraphemeClusterDisplayWidth
    
    git-svn-id: branches/unicodekvm@48789 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit fe7324a04ca69b5d3f76fded91041f21111c671c
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 04:31:03 2021 +0000

    + TInputLine unicode keyboard text input fixed
    
    git-svn-id: branches/unicodekvm@48788 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit de770cf1bea6238680853db72816a29f55098760
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 04:23:56 2021 +0000

    + enable PInputLine in the unicode demo
    
    git-svn-id: branches/unicodekvm@48787 -

M	packages/fv/examples/testuapp.pas

******************************************************************************
commit 028c06219290b7f1aa35c581e27b7a7dcfdc2ed8
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 04:22:48 2021 +0000

    + added horizontal scrollbar to the demo
    
    git-svn-id: branches/unicodekvm@48786 -

M	packages/fv/examples/testuapp.pas

******************************************************************************
commit 6bef792f3303eba2da048ad8a9950cac2c2a787b
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 04:21:34 2021 +0000

    + unicode fixes in TCluster.DrawMultiBox
    
    git-svn-id: branches/unicodekvm@48785 -

M	packages/fv/examples/testuapp.pas
M	packages/fv/src/dialogs.inc

******************************************************************************
commit ea0213810b5f08a5c8df9ec16c160547101b0151
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 04:18:05 2021 +0000

    + use different languages in the list box
    
    git-svn-id: branches/unicodekvm@48784 -

M	packages/fv/examples/testuapp.pas

******************************************************************************
commit 46586902f4c11be78d26048061e7203da14ae9e9
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 04:14:14 2021 +0000

    + added scrollbar and listbox to the unicode example
    
    git-svn-id: branches/unicodekvm@48783 -

M	packages/fv/examples/testuapp.pas

******************************************************************************
commit c669b8ac83adfd33d415f1e52cfca03a36cb74bb
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 04:09:13 2021 +0000

    + another double width rendering bugfix
    
    git-svn-id: branches/unicodekvm@48782 -

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 7b71eefbdfeab44a93695f93dfefac81fa8d09fb
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 03:58:10 2021 +0000

    + bug fix in the rendering of double width characters
    
    git-svn-id: branches/unicodekvm@48781 -

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit ca1b315e2799cc3c94e9485312d1b7d2b36a60fb
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 03:48:38 2021 +0000

    * reset LastCharWasDoubleWidth in the beginning of every line
    
    git-svn-id: branches/unicodekvm@48780 -

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit f9cfc0aeb4de2e6ecb347b011ad2ab2ff2cac007
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 03:33:48 2021 +0000

    + button test
    
    git-svn-id: branches/unicodekvm@48779 -

M	packages/fv/examples/testuapp.pas

******************************************************************************
commit d4be82e87988cfe921c8843cbe6856176a1209d1
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 03:23:10 2021 +0000

    + unicode fixes for the window title
    
    git-svn-id: branches/unicodekvm@48778 -

M	packages/fv/examples/testuapp.pas
M	packages/fv/src/drivers.inc
M	packages/fv/src/views.inc

******************************************************************************
commit 2ecca003dd15e8f7c082eeb3c2ff6ea141487017
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 03:03:34 2021 +0000

    + test dialog box
    
    git-svn-id: branches/unicodekvm@48777 -

M	packages/fv/examples/testuapp.pas

******************************************************************************
commit 646ddb82173c7a55d7b4fa34c7b2cc75e9fa7c87
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 22 02:08:08 2021 +0000

    + Unicode aware implementation of TStaticText.Draw
    
    git-svn-id: branches/unicodekvm@48776 -

M	packages/fv/examples/testuapp.pas
M	packages/fv/src/dialogs.inc

******************************************************************************
commit b6d2c6ccb721bc8707fc992c407cb695a5c5eef7
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 23:31:28 2021 +0000

    + unicode fixes in TMenuBox.Draw
    
    git-svn-id: branches/unicodekvm@48775 -

M	packages/fv/src/menus.inc

******************************************************************************
commit 75e42870ae10ee5d446ab6d4d8335aa7eb02269e
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 23:21:18 2021 +0000

    + implement TView.TextWidth and TView.CTextWidth via StrWidth and CStrLen
    
    git-svn-id: branches/unicodekvm@48774 -

M	packages/fv/src/views.inc

******************************************************************************
commit 4944e9296fc9c3b55367babf31928e8fa7169369
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 22:04:09 2021 +0000

    + double width character support in the unix video unit
    
    git-svn-id: branches/unicodekvm@48771 -

M	packages/fv/examples/testuapp.pas
M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit e539696f29a48912a4e2cd92b9f8b0210a5e0535
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 21:54:08 2021 +0000

    + use Video.ExtendedGraphemeClusterDisplayWidth to support double width characters in MoveStr and MoveCStr
    
    git-svn-id: branches/unicodekvm@48770 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit 17f7cb0e45ac10f19dcb7e883365c2c365d1c16d
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 21:48:32 2021 +0000

    - removed no longer used local variable
    
    git-svn-id: branches/unicodekvm@48769 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit 59a60856dc0dff4041ff1f4cb33629a6aa04fbd6
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 21:48:10 2021 +0000

    + use Video.ExtendedGraphemeClusterDisplayWidth in UDriver.CStrLen in order to support wide characters
    
    git-svn-id: branches/unicodekvm@48768 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit cc643608a22e9410c9d6391f40a7ffd9480aa9eb
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 21:46:50 2021 +0000

    + introduced Video.ExtendedGraphemeClusterDisplayWidth
    
    git-svn-id: branches/unicodekvm@48767 -

M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/inc/videoh.inc

******************************************************************************
commit 8751e983397d0712e92c7d19bd2c8f7a8d02a41c
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 21:42:47 2021 +0000

    + use Video.StringDisplayWidth in UDrivers.StrWidth
    
    git-svn-id: branches/unicodekvm@48766 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit fdfc40e86bcfaa5f45bdc87eb8fa74a01b3be8f6
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 19:31:23 2021 +0000

    + introduced video.StringDisplayWidth
    
    git-svn-id: branches/unicodekvm@48761 -

M	packages/rtl-console/fpmake.pp
M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/inc/videoh.inc
M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 1bedcef063aa9e1753f6905afa4d1a65cc378a04
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:57:54 2021 +0000

    - more ifdefs removed by the use of Sw_NewStr
    
    git-svn-id: branches/unicodekvm@48749 -

M	packages/fv/src/menus.inc

******************************************************************************
commit 700b30851e8b1294a78c9a50d4619e26f011c3ca
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:53:50 2021 +0000

    - cleaned more ifdefs
    
    git-svn-id: branches/unicodekvm@48748 -

M	packages/fv/src/menus.inc

******************************************************************************
commit 91167f41a6f53a6db27085ab0ed9e930ede13ea9
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:50:04 2021 +0000

    - cleaned up more ifdefs
    
    git-svn-id: branches/unicodekvm@48747 -

M	packages/fv/src/menus.inc

******************************************************************************
commit febcfc8d20d5a57544fe394a8b4754731e68943c
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:46:20 2021 +0000

    - removed ifdefs from TMenuView.GetHelpCtx
    
    git-svn-id: branches/unicodekvm@48746 -

M	packages/fv/src/menus.inc

******************************************************************************
commit 60a7eac72b9292decc314749d9f5a12f4d48ac20
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:45:48 2021 +0000

    - cleanup ifdefs from TMenuView.Execute
    
    git-svn-id: branches/unicodekvm@48745 -

M	packages/fv/src/menus.inc

******************************************************************************
commit 9b419b800a2ab0a588615efd4b98f6190201c007
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:44:16 2021 +0000

    - removed one ifdef from TMenuView.Load
    
    git-svn-id: branches/unicodekvm@48744 -

M	packages/fv/src/menus.inc

******************************************************************************
commit 83e492235e99c1ae079c87995be30b5d624370c9
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:42:55 2021 +0000

    * use Sw_PString in TStatusItem to avoid an ifdef
    
    git-svn-id: branches/unicodekvm@48743 -

M	packages/fv/src/menus.inc

******************************************************************************
commit 1bc06ec2767faca0764880bf70605a1fcacdd2af
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:42:12 2021 +0000

    * use SW_PString in TMenuItem to avoid an ifdef
    
    git-svn-id: branches/unicodekvm@48742 -

M	packages/fv/src/menus.inc

******************************************************************************
commit fb7fdfaae438b1497c6041755bfb15dada8cffc0
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:40:37 2021 +0000

    - removed an ifdef from DisposeMenu
    
    git-svn-id: branches/unicodekvm@48741 -

M	packages/fv/src/menus.inc

******************************************************************************
commit c271a7106018c7acc056a2ef6bc01b0836923f1a
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:38:06 2021 +0000

    - removed ifdefs from TStatusLine.HandleEvent
    
    git-svn-id: branches/unicodekvm@48740 -

M	packages/fv/src/menus.inc

******************************************************************************
commit 0d171d91ae78ee7513370574128c5ca22789f613
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:36:42 2021 +0000

    - reduced the number of ifdefs in TStatusLine.DrawSelect
    
    git-svn-id: branches/unicodekvm@48739 -

M	packages/fv/src/menus.inc

******************************************************************************
commit 1b27a955fa60036ea77d34629d963f104a3bdc10
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:31:00 2021 +0000

    * updated unicode example string
    
    git-svn-id: branches/unicodekvm@48738 -

M	packages/fv/examples/testuapp.pas

******************************************************************************
commit f04d87bc3da1959e635b1645c4f8bfb36ef7f5f6
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 06:26:22 2021 +0000

    * fixed reference count bug in the unicode version of TView.do_writeViewRec1
    
    git-svn-id: branches/unicodekvm@48736 -

M	packages/fv/src/views.inc

******************************************************************************
commit 8ed768d48613b3f49621fe839f1be290def49abf
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 01:10:46 2021 +0000

    - disable optimizations to ease debugging
    
    git-svn-id: branches/unicodekvm@48735 -

M	packages/fv/examples/testuapp.lpi

******************************************************************************
commit 89c7ae42afc2511a8cb40000db251f8fbfec4c9a
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 20 04:03:15 2021 +0000

    + some fv unicode fixes for supporting complex (multi-char) enhanced grapheme clusters
    
    git-svn-id: branches/unicodekvm@48731 -

M	packages/fv/examples/testuapp.lpi
M	packages/fv/examples/testuapp.pas
M	packages/fv/src/menus.inc
M	packages/fv/src/views.inc
M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 545dd0353bfc15751c6d317370fb790d304647c8
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 20 01:56:11 2021 +0000

    + use the enhanced grapheme cluster enumerator in UDrivers.MoveCStr and MoveStr
    
    git-svn-id: branches/unicodekvm@48730 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit e583ba6cfaff78c2b890a32fbf00fd96bbc71237
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 20 01:46:42 2021 +0000

    + implemented StrWidth and CStrLen, using the new extended grapheme cluster string enumerator
    
    git-svn-id: branches/unicodekvm@48729 -

M	packages/fv/examples/testuapp.lpi
M	packages/fv/src/drivers.inc

******************************************************************************
commit a202b86f37a18c6bdd6b9d346ed20a481caf3c94
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 20 01:38:49 2021 +0000

    + added rtl-unicode as dependency for the fv unit
    
    git-svn-id: branches/unicodekvm@48728 -

M	packages/fv/fpmake.pp

******************************************************************************
commit a7e63b66ae0197943a89d4be7431acf61d302407
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 18 21:10:39 2021 +0000

    + introduced StrWidth
    
    git-svn-id: branches/unicodekvm@48713 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit 1f12cdefb98091c855b0e61d2f899204f943f0ca
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 15 16:03:49 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48683 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 1cd0364c50e44b6d2b7d859b4e4bc556bfd3593a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 15 05:33:27 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48682 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 8d21ab9d67d41f06f26a890ab7e346517c1f4f2d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Feb 12 16:23:55 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48658 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 3d37b958bcc1c171c66cb654aafbb5546217e7ea
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Feb 12 08:22:01 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48656 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 818d3f2f6c112fd8c2fb70e7128e198eb7a0d1aa
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 11 10:22:07 2021 +0000

    + initial attempt to switch the unix video unit to enhanced (unicode) mode. Only
      UTF-8 is supported for now, and it's not yet implemented for Linux VCSA.
    
    git-svn-id: branches/unicodekvm@48649 -

M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 8dc55d82942d36a5723b2b97f4ec5699563edb14
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 23:53:02 2021 +0000

    + unicode fix in TDesktop.InitBackground
    
    git-svn-id: branches/unicodekvm@48648 -

M	packages/fv/src/app.inc

******************************************************************************
commit 6c0491f7c2faf4f9c6ef7ad68e9ce5315fed1291
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 23:11:09 2021 +0000

    + test unicode app added
    
    git-svn-id: branches/unicodekvm@48647 -

M	.gitattributes
A	packages/fv/examples/testuapp.lpi
A	packages/fv/examples/testuapp.pas

******************************************************************************
commit c0482743af23100033e1af8490abc856ed70a580
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 22:48:50 2021 +0000

    + more unicode fixes; the unicode units uapp, udialogs, umsgbox and uvalidate now compile
    
    git-svn-id: branches/unicodekvm@48646 -

M	packages/fv/src/validate.inc

******************************************************************************
commit b8a2c613e31d808436a13ba2f747801f27632e42
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 22:41:16 2021 +0000

    * unicode fix
    
    git-svn-id: branches/unicodekvm@48645 -

M	packages/fv/src/validate.inc

******************************************************************************
commit b240b78c9fcb5daef7388e60f6287e7f93ec308a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 22:39:36 2021 +0000

    + more unicode fixes
    
    git-svn-id: branches/unicodekvm@48644 -

M	packages/fv/src/validate.inc

******************************************************************************
commit 9c4d842a6f6c80a1972d5ad8aaf47e66a3b7890a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 22:32:51 2021 +0000

    + more unicode fixes
    
    git-svn-id: branches/unicodekvm@48643 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit d96b84cf1f81413e6ff8f8978b7712e34cbe2e88
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 22:22:26 2021 +0000

    + unicode fixes
    
    git-svn-id: branches/unicodekvm@48642 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 5843d66a38276a1752766f5dfb853f44bdb08d16
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 22:17:27 2021 +0000

    + unicode fix
    
    git-svn-id: branches/unicodekvm@48641 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 2ac661f63e21363d0715a4d213f8a1710ac8f660
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 22:14:20 2021 +0000

    + unicode fixes
    
    git-svn-id: branches/unicodekvm@48640 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 98f42567130bbd6e47b357b93137f516b7ee8d1a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 22:13:00 2021 +0000

    + more unicode fixes
    
    git-svn-id: branches/unicodekvm@48639 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 0470ca8fe3958822745063a37481389e56127484
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 21:59:30 2021 +0000

    + added simple test for the TRawByteStringCollection object type
    
    git-svn-id: branches/unicodekvm@48638 -

M	.gitattributes
A	tests/test/units/objects/testobj3.pp

******************************************************************************
commit c466caa0c8b439e563c41259d98a872abb77b0d2
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 21:54:37 2021 +0000

    + unicode fixes
    
    git-svn-id: branches/unicodekvm@48637 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 5d3d64b3409efd9a109aa87f6bf2008a8da4b85c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 21:49:31 2021 +0000

    + unicode fix
    
    git-svn-id: branches/unicodekvm@48636 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 6cbf84eca626981e19a379371614a77b1838a6fb
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 21:48:54 2021 +0000

    * more unicode fixes
    
    git-svn-id: branches/unicodekvm@48635 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit af4d301af9beb51331fdd864bceda75e1710f2f6
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 21:44:19 2021 +0000

    + unicode fixes in TCluster.DrawMultiBox
    
    git-svn-id: branches/unicodekvm@48634 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 1c9c84d01eb06bc3550d67836db2926f54eebde2
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 21:36:56 2021 +0000

    * use a TUnicodeStringCollection in TCluster
    
    git-svn-id: branches/unicodekvm@48633 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit edad510ad413c909eac9b1c102e72887c3c14d9d
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 21:34:22 2021 +0000

    + added TUnicodeStringCollection
    
    git-svn-id: branches/unicodekvm@48632 -

M	packages/rtl-extra/src/inc/objects.pp

******************************************************************************
commit 7fc456c04f947f10d2de7615c4c3187a948b190a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 21:20:29 2021 +0000

    + added AtInsert method to TRawByteStringCollection
    
    git-svn-id: branches/unicodekvm@48631 -

M	packages/rtl-extra/src/inc/objects.pp

******************************************************************************
commit 0aaa75ba62b1d6f48f2ac9dc0e77634f0912fc79
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 20:44:38 2021 +0000

    + initial attempt at writing a TRawByteStringCollection
    
    git-svn-id: branches/unicodekvm@48629 -

M	packages/rtl-extra/src/inc/objects.pp

******************************************************************************
commit 7da5856dbd930ff246d76ec588438b7cceb87b49
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 17:55:36 2021 +0000

    * unicode fixes
    
    git-svn-id: branches/unicodekvm@48627 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit b8baf3bb85be26c3e10dfcb44ab61d3d98bd7738
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 17:51:56 2021 +0000

    + unicode fixes
    
    git-svn-id: branches/unicodekvm@48626 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 8a0a97576a5e762d6e6be33b82ea40acc06e8009
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 17:41:25 2021 +0000

    * unicode fixes
    
    git-svn-id: branches/unicodekvm@48625 -

M	packages/fv/src/dialogs.inc
M	packages/fv/src/platform.inc

******************************************************************************
commit 057b786fbde4ec4963a9d67dc57fe6daa0791642
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 17:37:21 2021 +0000

    * unicode bugfixes
    
    git-svn-id: branches/unicodekvm@48624 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 55337def9ab243847853ef9b1dd58c0b564fcabc
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 17:35:43 2021 +0000

    * more unicode fixes
    
    git-svn-id: branches/unicodekvm@48623 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit be726fdd09e05de3695f7eb75e8b95c17d02e8f0
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 17:30:17 2021 +0000

    * more unicode fixes
    
    git-svn-id: branches/unicodekvm@48622 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 829404a9570e15839ef15b845b43c009afe2055b
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 17:25:53 2021 +0000

    * more unicode fixes
    
    git-svn-id: branches/unicodekvm@48621 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit d41d6de6ec40a38ef495924e4cb77fb2cd5f3d15
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 17:11:02 2021 +0000

    + more unicode fixes in the dialogs unit
    
    git-svn-id: branches/unicodekvm@48620 -

M	packages/fv/src/dialogs.inc
M	packages/fv/src/fvcommon.inc

******************************************************************************
commit f64bd5c07974559809148d0872f786122b881b1f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 16:43:47 2021 +0000

    * unicode fixes in TInputLine.Valid
    
    git-svn-id: branches/unicodekvm@48619 -

M	packages/fv/src/dialogs.inc
M	packages/fv/src/fvcommon.inc
M	packages/fv/src/platform.inc

******************************************************************************
commit 1a643e250a070d873a2c7b4253767bf457a85643
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 16:28:54 2021 +0000

    * unicode fixes in TInputLine.DataSize
    
    git-svn-id: branches/unicodekvm@48618 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 5013e7039a3dc30df510941eac1cd365a50fe10a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 16:27:23 2021 +0000

    * more unicode fixes in the udialogs unit
    
    git-svn-id: branches/unicodekvm@48617 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 1d0ec1b96671437913c86e35deffd2f28a1ac153
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 16:17:56 2021 +0000

    * unicode fix in TInputLine.Init
    
    git-svn-id: branches/unicodekvm@48616 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 6e845e397fd1d96c6be0ad0caac80bde3c34b27e
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 16:15:33 2021 +0000

    * unicode fix in TDialog.NewLabel
    
    git-svn-id: branches/unicodekvm@48615 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit d5ef64fb91cddc665f25bf57c93d1d442604843a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 16:11:55 2021 +0000

    * unicode fix in TDialog.ChangeTitle
    
    git-svn-id: branches/unicodekvm@48614 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 25cf57b085ad8043e1a7a82ac4ea5f1335a8b537
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 16:10:14 2021 +0000

    * unicode conversion of the msgbox unit implementation, as well as the FormatStr function
    
    git-svn-id: branches/unicodekvm@48613 -

M	packages/fv/src/drivers.inc
M	packages/fv/src/msgbox.inc

******************************************************************************
commit f0adf5d6120953274e901e055edbb29b42b7f616
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 15:28:44 2021 +0000

    * unicode fixes in the implementation part of the uapp unit
    
    git-svn-id: branches/unicodekvm@48612 -

M	packages/fv/src/app.inc

******************************************************************************
commit 7cf1d227fb2435978788ec6f283a7410d5e544e8
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 14:57:38 2021 +0000

    * unicode fixes in the implementation of the TBackGround object
    
    git-svn-id: branches/unicodekvm@48611 -

M	packages/fv/src/app.inc

******************************************************************************
commit 0d844aaa4150d4884ebd1ad411c791fe779e41db
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 14:41:11 2021 +0000

    + introduced Sw_ExtendedGraphemeCluster
    
    git-svn-id: branches/unicodekvm@48610 -

M	packages/fv/src/app.inc
M	packages/fv/src/fvcommon.inc

******************************************************************************
commit 5b5f6b71581e282d9e7b68f953eb682269f9c79e
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 14:33:20 2021 +0000

    + use unit (u)fvcommon in (u)msgbox
    
    git-svn-id: branches/unicodekvm@48609 -

M	packages/fv/fpmake.pp
M	packages/fv/src/msgbox.inc

******************************************************************************
commit 4d7538a0da03e8c177c4367d1e7080bc73fd04f2
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 14:29:34 2021 +0000

    * umsgbox unit interface unicode conversion
    
    git-svn-id: branches/unicodekvm@48608 -

M	packages/fv/src/msgbox.inc

******************************************************************************
commit ddd262168846fbf2ba5372114ada135af71225cd
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 14:23:48 2021 +0000

    * more dialogs unit unicode conversion
    
    git-svn-id: branches/unicodekvm@48607 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit dfc65acfa8a117265260964da616d70a7f4d80bf
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 10 14:13:30 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48606 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 5e9ba29d89a34e1cc14f95f6ce47b7b87e6e683e
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 14:13:27 2021 +0000

    + introduced type Sw_PString
    
    git-svn-id: branches/unicodekvm@48605 -

M	packages/fv/src/fvcommon.inc

******************************************************************************
commit 297e9881c6f6fda8865e50267e033cc68224724d
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 14:10:28 2021 +0000

    * some interface unit compilation fixes in the udialogs unit
    
    git-svn-id: branches/unicodekvm@48604 -

M	packages/fv/src/dialogs.inc

******************************************************************************
commit 2cfab10cb1f9f6f6e44d438576db61d56f5aac99
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 14:05:40 2021 +0000

    + use Sw_String in unit histlist/uhistlist to reduce the number of ifdefs
    
    git-svn-id: branches/unicodekvm@48603 -

M	packages/fv/src/histlist.inc

******************************************************************************
commit 5dae243ffd4b2820b7e0bb54eeeefdb4e3bb2a30
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 14:03:08 2021 +0000

    + use Sw_String in unit menus/umenus to reduce the number of ifdefs
    
    git-svn-id: branches/unicodekvm@48602 -

M	packages/fv/fpmake.pp
M	packages/fv/src/menus.inc

******************************************************************************
commit ddde3628ba2c1da90fd28622221996cb341ba59f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:55:04 2021 +0000

    - reduced number of ifdefs by using sw_string in unit views/uviews
    
    git-svn-id: branches/unicodekvm@48601 -

M	packages/fv/src/views.inc

******************************************************************************
commit 79aac426fd35f18a52a986656abd7de8cdf84c95
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:46:42 2021 +0000

    * use ufvcommon in udialogs
    
    git-svn-id: branches/unicodekvm@48600 -

M	packages/fv/fpmake.pp
M	packages/fv/src/dialogs.inc

******************************************************************************
commit a9a0dfeae387f49a9108263f5498f78cbe024ca2
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:45:35 2021 +0000

    * use ufvcommon in unit uapp
    
    git-svn-id: branches/unicodekvm@48599 -

M	packages/fv/fpmake.pp
M	packages/fv/src/app.inc

******************************************************************************
commit f5005e46469f038ac3debcba16407bdb9f5c4e84
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:44:05 2021 +0000

    * use ufvcommon in uhistlist
    
    git-svn-id: branches/unicodekvm@48598 -

M	packages/fv/fpmake.pp
M	packages/fv/src/histlist.inc

******************************************************************************
commit 88e960cd00ee0f4efc259fce11e6c0eec287c0a9
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:42:02 2021 +0000

    * use ufvcommon in uviews
    
    git-svn-id: branches/unicodekvm@48597 -

M	packages/fv/fpmake.pp
M	packages/fv/src/views.inc

******************************************************************************
commit 047b435131103d0c4018745899b2cf2bb6a9e2ad
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:40:15 2021 +0000

    * replaced fvstring with sw_string in validate.inc
    
    git-svn-id: branches/unicodekvm@48596 -

M	packages/fv/src/validate.inc

******************************************************************************
commit 1ffb6c6fdf22c24e7740462c04d025df8b2d84ec
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:38:44 2021 +0000

    * use ufvcommon in unit uvalidate
    
    git-svn-id: branches/unicodekvm@48595 -

M	packages/fv/fpmake.pp
M	packages/fv/src/validate.inc

******************************************************************************
commit cb6a66fed0ddde682706434bf638b8158b616396
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:37:21 2021 +0000

    * fvstring replaced with sw_string in the drivers/udrivers unit
    
    git-svn-id: branches/unicodekvm@48594 -

M	packages/fv/examples/testapp.lpi
M	packages/fv/fpmake.pp
M	packages/fv/src/drivers.inc

******************************************************************************
commit 90b422b2d44eb1b54cd9c98d9bed8e6f97686296
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:35:11 2021 +0000

    + introduced Sw_String
    
    git-svn-id: branches/unicodekvm@48593 -

M	packages/fv/src/fvcommon.inc

******************************************************************************
commit 29dfb6131e6e1819591bf69a009387c6c8dfd07d
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:32:24 2021 +0000

    + ufvcommon unit
    
    git-svn-id: branches/unicodekvm@48592 -

M	.gitattributes
M	packages/fv/fpmake.pp
M	packages/fv/src/fvcommon.inc
A	packages/fv/src/ufvcommon.pas

******************************************************************************
commit e60b41f2ab405edaa1cb4020e6ca4503ac50b4fb
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:30:38 2021 +0000

    + fvcommon.inc include dependency
    
    git-svn-id: branches/unicodekvm@48591 -

M	packages/fv/fpmake.pp

******************************************************************************
commit 78862011b2dc79757a001c92b0e7bfa975ce5723
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:29:56 2021 +0000

    + fvcommon.pas that includes fvcommon.inc
    
    git-svn-id: branches/unicodekvm@48590 -

M	.gitattributes
A	packages/fv/src/fvcommon.pas

******************************************************************************
commit e1da44c21913bcfb21cd404276d37dd726ee11ff
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:29:12 2021 +0000

    * fvcommon.pas renamed fvcommon.inc
    
    git-svn-id: branches/unicodekvm@48589 -

M	.gitattributes
R100	packages/fv/src/fvcommon.pas	packages/fv/src/fvcommon.inc

******************************************************************************
commit 92334d86dfafcacc31c0c2b5c184c029e8ad2cdb
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:28:33 2021 +0000

    * use FVString in the interface part of the validate unit
    
    git-svn-id: branches/unicodekvm@48588 -

M	packages/fv/src/validate.inc

******************************************************************************
commit d659c731d8277b7beca49e25df704dc51259eaa4
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 13:20:21 2021 +0000

    + introduced the FVString type
    
    git-svn-id: branches/unicodekvm@48587 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit 0fe68e7c9edc24226fdfe9fe93d6ceef9fce4824
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 12:47:48 2021 +0000

    * updated the uses clauses of the unicode versions of the app, dialogs, msgbox
      and validate units to use only unicode units in their uses clause
    
    git-svn-id: branches/unicodekvm@48586 -

M	packages/fv/src/app.inc
M	packages/fv/src/dialogs.inc
M	packages/fv/src/msgbox.inc
M	packages/fv/src/validate.inc

******************************************************************************
commit d373397f30324be8f0e7f1085ed5322e17bd22a3
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 12:41:59 2021 +0000

    + added unicode versions of the app, dialogs, msgbox and validate units (unicode conversion not completed yet)
    
    git-svn-id: branches/unicodekvm@48585 -

M	.gitattributes
M	packages/fv/fpmake.pp
M	packages/fv/src/app.inc
M	packages/fv/src/dialogs.inc
M	packages/fv/src/msgbox.inc
A	packages/fv/src/uapp.pas
A	packages/fv/src/udialogs.pas
A	packages/fv/src/umsgbox.pas
A	packages/fv/src/uvalidate.pas
M	packages/fv/src/validate.inc

******************************************************************************
commit 3fd5f452cdc50dc2cec13ac9b03b750aa2c252c9
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 12:28:31 2021 +0000

    + added .inc dependencies in fpmake.pp for units app, dialogs, msgbox and validate
    
    git-svn-id: branches/unicodekvm@48584 -

M	packages/fv/fpmake.pp

******************************************************************************
commit 0172420df7dd4f317c050084d39ee271a6eba17a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 12:27:14 2021 +0000

    + added .pas files that include their respective .inc files for the units app, dialogs, msgbox and validate
    
    git-svn-id: branches/unicodekvm@48583 -

M	.gitattributes
A	packages/fv/src/app.pas
A	packages/fv/src/dialogs.pas
A	packages/fv/src/msgbox.pas
A	packages/fv/src/validate.pas

******************************************************************************
commit 3f0d1aca089fbc674fbd8a1e82674e4726d03c0d
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 12:25:39 2021 +0000

    * app, dialogs, msgbox and validate unites renamed .inc
    
    git-svn-id: branches/unicodekvm@48582 -

M	.gitattributes
R100	packages/fv/src/app.pas	packages/fv/src/app.inc
R100	packages/fv/src/dialogs.pas	packages/fv/src/dialogs.inc
R100	packages/fv/src/msgbox.pas	packages/fv/src/msgbox.inc
R100	packages/fv/src/validate.pas	packages/fv/src/validate.inc

******************************************************************************
commit c92235f4fd4c9430e3468e3b17868a68ccbd459a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 12:19:34 2021 +0000

    + unicode version of the histlist unit
    
    git-svn-id: branches/unicodekvm@48581 -

M	.gitattributes
M	packages/fv/fpmake.pp
M	packages/fv/src/histlist.inc
A	packages/fv/src/uhistlist.pas

******************************************************************************
commit 668d859cc2b0c341f6a12b0cb92e7dd4caca23f0
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 09:59:06 2021 +0000

    + added histlist.inc as dependency for histlist.pas in fpmake.pp
    
    git-svn-id: branches/unicodekvm@48579 -

M	packages/fv/fpmake.pp

******************************************************************************
commit ad35f14017ab89059ee8c608c77a34d93f902cd9
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 09:58:19 2021 +0000

    + added histlist.pas that include histlist.inc
    
    git-svn-id: branches/unicodekvm@48578 -

M	.gitattributes
A	packages/fv/src/histlist.pas

******************************************************************************
commit 4ff66758ee71ffdc5a99b86c3b824a0ab5f81b66
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 09:57:26 2021 +0000

    * histlist.pas renamed histlist.inc
    
    git-svn-id: branches/unicodekvm@48577 -

M	.gitattributes
R100	packages/fv/src/histlist.pas	packages/fv/src/histlist.inc

******************************************************************************
commit eb6d1dc73f9b2694fe6baf692936a65939c026b3
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 10 00:41:08 2021 +0000

    + unicode version of the menus unit
    
    git-svn-id: branches/unicodekvm@48576 -

M	.gitattributes
M	packages/fv/fpmake.pp
M	packages/fv/src/menus.inc
A	packages/fv/src/umenus.pas

******************************************************************************
commit e9024877110a89323c818a9d49979c6c627f62c4
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 23:38:59 2021 +0000

    + added include file menus.inc to the menus unit dependencies in fpmake.pp
    
    git-svn-id: branches/unicodekvm@48575 -

M	packages/fv/fpmake.pp

******************************************************************************
commit 08c5d9b00773c9f1bbf7d703109ba9cab2b89654
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 23:38:24 2021 +0000

    + added menus.pas that includes menus.inc
    
    git-svn-id: branches/unicodekvm@48574 -

M	.gitattributes
A	packages/fv/src/menus.pas

******************************************************************************
commit 17b748ef9ae87cdff765ff1aedfdf23f643f7367
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 23:37:31 2021 +0000

    * menus.pas renamed menus.inc
    
    git-svn-id: branches/unicodekvm@48573 -

M	.gitattributes
R100	packages/fv/src/menus.pas	packages/fv/src/menus.inc

******************************************************************************
commit 346cf6a32ff9d360f363715b940d081d713a475c
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 23:33:37 2021 +0000

    + unicode version of unit outline
    
    git-svn-id: branches/unicodekvm@48571 -

M	.gitattributes
M	packages/fv/fpmake.pp
M	packages/fv/src/outline.inc
A	packages/fv/src/uoutline.pas

******************************************************************************
commit 074f72b64b551ac877d216da62b17fa1dfb10aec
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 22:02:09 2021 +0000

    + added outline.inc include file to fpmake.pp
    
    git-svn-id: branches/unicodekvm@48570 -

M	packages/fv/fpmake.pp

******************************************************************************
commit 8b0747f5529cafaf0823adcb7d9c1184f09a2f04
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 22:01:23 2021 +0000

    + added outline.pas that includes outline.inc
    
    git-svn-id: branches/unicodekvm@48569 -

M	.gitattributes
A	packages/fv/src/outline.pas

******************************************************************************
commit 86f36c66c048f4ed692d829fcbd4a28e2f9b7a7b
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 22:00:25 2021 +0000

    * outline.pas renamed outline.inc
    
    git-svn-id: branches/unicodekvm@48568 -

M	.gitattributes
R100	packages/fv/src/outline.pas	packages/fv/src/outline.inc

******************************************************************************
commit c540ef3bf85d0bb8298d57025400e8fa1af4323a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 21:55:33 2021 +0000

    * TWindow.Title changed to UnicodeString
    
    git-svn-id: branches/unicodekvm@48567 -

M	packages/fv/src/views.inc

******************************************************************************
commit 3d74e5a5243c4302102d62592ac4c7ceb3e49c4d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 21:49:54 2021 +0000

    + introduced TStream.ReadUnicodeString and WriteUnicodeString
    
    git-svn-id: branches/unicodekvm@48566 -

M	packages/rtl-extra/src/inc/objects.pp

******************************************************************************
commit 2b0cdc0c15d6012f580a1e2e578ab1de291c5bd4
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 20:54:26 2021 +0000

    - removed the posidx, because it seems to be unused
    
    git-svn-id: branches/unicodekvm@48565 -

M	packages/fv/src/views.inc

******************************************************************************
commit 763124567d20c79d6bdd9ca550899588367bad2a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 20:49:23 2021 +0000

    * unicode versions of TView.TextWidth and CTextWidth
    
    git-svn-id: branches/unicodekvm@48564 -

M	packages/fv/src/views.inc

******************************************************************************
commit e8a0abf075a6ac777b3928f5623f6f3e67a0050a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 20:43:47 2021 +0000

    * unicode version of SpecialChars
    
    git-svn-id: branches/unicodekvm@48562 -

M	packages/fv/src/views.inc

******************************************************************************
commit 766162a3481880e0c0533c0309aeb9fd19a0e545
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 20:42:05 2021 +0000

    * unicode fixes in TListViewer.Draw
    
    git-svn-id: branches/unicodekvm@48561 -

M	packages/fv/src/views.inc

******************************************************************************
commit bb06c623c3100372c1cf7a769da0d7bf1eb94ce0
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 20:36:17 2021 +0000

    * unicode version of TListViewer.GetText
    
    git-svn-id: branches/unicodekvm@48560 -

M	packages/fv/src/views.inc

******************************************************************************
commit 6198d4a0a1eabe00f5ba947f24747f5c1bab9f94
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 20:30:02 2021 +0000

    * unicode conversion of TScrollBar.Init
    
    git-svn-id: branches/unicodekvm@48559 -

M	packages/fv/src/views.inc

******************************************************************************
commit c9cc530d948d4270e528b63ba2bb13493366d907
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 20:19:39 2021 +0000

    * TTitleStr redefined as UnicodeString in the unicode version of the views unit
    
    git-svn-id: branches/unicodekvm@48558 -

M	packages/fv/src/views.inc

******************************************************************************
commit 98132ce24e7eab0793065dea5d91d14ae8a4e075
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 20:17:41 2021 +0000

    * unicode fixes in TFrame.Draw
    
    git-svn-id: branches/unicodekvm@48557 -

M	packages/fv/src/views.inc

******************************************************************************
commit 6fa787674f53b7e01dfb9f2de12e92367c44ba0c
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 16:58:20 2021 +0000

    + unicode version of MoveBuf
    
    git-svn-id: branches/unicodekvm@48555 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit 7fd8562d4a19c3d271ca9d8ea912d006d1b8012c
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 15:38:03 2021 +0000

    + unicode version of MoveChar
    
    git-svn-id: branches/unicodekvm@48554 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit ae339ed8fb7d5678db9d5f9db3df4002a21074c7
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 14:36:14 2021 +0000

    + unicode version of CStrLen
    
    git-svn-id: branches/unicodekvm@48553 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit 3297a453ea0717b1c4858015adc494c4dd467239
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 14:32:27 2021 +0000

    + unicode version of MoveStr
    
    git-svn-id: branches/unicodekvm@48552 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit 8a7ba17e12daa3e03c89e4794daa07e852105f57
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 14:26:59 2021 +0000

    + unicode version of MoveCStr
    
    git-svn-id: branches/unicodekvm@48551 -

M	packages/fv/src/drivers.inc

******************************************************************************
commit 0d76565e50239b58176c9d8a298677c2093ac3a1
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 14:08:25 2021 +0000

    * partial unicode conversion of the views unit
    
    git-svn-id: branches/unicodekvm@48550 -

M	packages/fv/src/views.inc

******************************************************************************
commit 4b0edb61153aa71dea42c1f6e270daf72753384e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 9 10:56:27 2021 +0000

    * switched the fv units to objfpc mode
    
    git-svn-id: branches/unicodekvm@48549 -

M	packages/fv/src/platform.inc
M	packages/fv/src/stddlg.pas

******************************************************************************
commit b564e400fc76fa5f429922849a96580d6494bfac
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 20:42:14 2021 +0000

    + introduced unit uviews, which is going to be the unicode enabled version of the views unit
    
    git-svn-id: branches/unicodekvm@48546 -

M	.gitattributes
M	packages/fv/fpmake.pp
A	packages/fv/src/uviews.pas
M	packages/fv/src/views.inc

******************************************************************************
commit be64fd707a6ed1aa52ce366872b302dd18270a44
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 20:36:06 2021 +0000

    + add include file views.inc to fpmake
    
    git-svn-id: branches/unicodekvm@48545 -

M	packages/fv/fpmake.pp

******************************************************************************
commit 1f3e903c107ef366b8c1ed2d57e4e1efdad13d02
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 20:35:35 2021 +0000

    + added views.pas that includes views.inc
    
    git-svn-id: branches/unicodekvm@48544 -

M	.gitattributes
A	packages/fv/src/views.pas

******************************************************************************
commit c5541e9376af14246897f7013d1a72a62da7032f
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 20:34:42 2021 +0000

    * views.pas renamed views.inc
    
    git-svn-id: branches/unicodekvm@48543 -

M	.gitattributes
R100	packages/fv/src/views.pas	packages/fv/src/views.inc

******************************************************************************
commit 3d4a242974f5290302e7afc1f18cb462ce6942a7
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 20:29:23 2021 +0000

    + introduced unit udrivers, which calls InitEnhancedVideo instead of InitVideo (i.e. enables unicode mode in the video unit)
    
    git-svn-id: branches/unicodekvm@48542 -

M	.gitattributes
M	packages/fv/fpmake.pp
M	packages/fv/src/drivers.inc
A	packages/fv/src/udrivers.pas

******************************************************************************
commit e341e247e99e1adfb84f522ea6a9468415d722d5
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 20:19:34 2021 +0000

    + add drivers.inc to the include file dependencies of the drivers unit
    
    git-svn-id: branches/unicodekvm@48541 -

M	packages/fv/fpmake.pp

******************************************************************************
commit 28cc421b13ded883a6c2e6c39a7d2e3ee63271f6
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 20:18:42 2021 +0000

    + added drivers.pas that includes drivers.inc
    
    git-svn-id: branches/unicodekvm@48540 -

M	.gitattributes
A	packages/fv/src/drivers.pas

******************************************************************************
commit 44213e33895210b0b1ece2353414355ea364dbd8
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 20:17:50 2021 +0000

    * drivers.pas moved to drivers.inc
    
    git-svn-id: branches/unicodekvm@48539 -

M	.gitattributes
R100	packages/fv/src/drivers.pas	packages/fv/src/drivers.inc

******************************************************************************
commit 75db39f06434280c32980480d52def9c188a2c66
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 20:15:40 2021 +0000

    * all integers replaced with smallint, in order to be able to introduce objfpc mode
    
    git-svn-id: branches/unicodekvm@48538 -

M	packages/fv/src/app.pas
M	packages/fv/src/asciitab.pas
M	packages/fv/src/dialogs.pas
M	packages/fv/src/drivers.pas
M	packages/fv/src/editors.pas
M	packages/fv/src/fvcommon.pas
M	packages/fv/src/inplong.pas
M	packages/fv/src/memory.pas
M	packages/fv/src/menus.pas
M	packages/fv/src/msgbox.pas
M	packages/fv/src/outline.pas
M	packages/fv/src/resource.pas
M	packages/fv/src/statuses.pas
M	packages/fv/src/stddlg.pas
M	packages/fv/src/tabs.pas
M	packages/fv/src/validate.pas
M	packages/fv/src/views.pas

******************************************************************************
commit 834a6579d7ea7caab3b8e40d2a94ab6bda4dc198
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 15:27:39 2021 +0000

    * LineBuf converted to dynarray (to avoid buffer overflow for too big consoles) and made global to avoid reallocating it on the heap on each screen update
    
    git-svn-id: branches/unicodekvm@48537 -

M	packages/rtl-console/src/win/video.pp

******************************************************************************
commit ec0fa8f46f25ec4f307486dc6fc9b7fe2d8c3bc0
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 14:26:52 2021 +0000

    - removed unused variables and types from Video.SysUpdateScreen
    
    git-svn-id: branches/unicodekvm@48536 -

M	packages/rtl-console/src/win/video.pp

******************************************************************************
commit 6109c5606624c41923a1b3bb5ba2107e586ef2a9
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 14:20:29 2021 +0000

    - removed the cp850 code page mapping from the windows video unit (it is no longer used)
    
    git-svn-id: branches/unicodekvm@48535 -

M	packages/rtl-console/src/win/video.pp

******************************************************************************
commit 4864aba47a325c28674bc9581ed2cde92b94b016
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 14:13:40 2021 +0000

    - removed useunicodefunctions from the windows video unit
    
    git-svn-id: branches/unicodekvm@48534 -

M	packages/rtl-console/src/win/video.pp

******************************************************************************
commit 11db30ab3d347f358f6ca5e86bc1640f8930c11c
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 14:06:44 2021 +0000

    * use CP_OEMCP to convert characters in LegacyChar2ExtendedGraphemeCluster
    
    git-svn-id: branches/unicodekvm@48533 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 453bdaaafc71dcc467528063395aa3188886df6d
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 13:53:19 2021 +0000

    * switched the windows video driver to use the enhanced (unicode) video buffer
    
    git-svn-id: branches/unicodekvm@48532 -

M	packages/rtl-console/src/win/video.pp

******************************************************************************
commit 2746b0e035f558d7b67366a5633f929e73ed452e
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 13:52:39 2021 +0000

    + added operator = for comparison of TEnhancedVideoCell records
    
    git-svn-id: branches/unicodekvm@48531 -

M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/inc/videoh.inc

******************************************************************************
commit 1b2e13bf77c36b810e92609b199c687a6a0a3871
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 11:18:22 2021 +0000

    + enabled all debug code generation options in the video unit test .lpi files
    
    git-svn-id: branches/unicodekvm@48530 -

M	packages/rtl-console/tests/video1_windows.lpi
M	packages/rtl-console/tests/video2_windows.lpi

******************************************************************************
commit 3634e7823f3b50deecc14b4c9734501cb2567c7e
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 11:10:55 2021 +0000

    * .lpi updated
    
    git-svn-id: branches/unicodekvm@48528 -

M	packages/rtl-console/tests/video2_windows.lpi

******************************************************************************
commit d4913f490f30a2f4521573fadd6229f0a7e6402a
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 8 11:10:37 2021 +0000

    * fixed off by one errors in the new video unit routines
    
    git-svn-id: branches/unicodekvm@48527 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit 4e151d5a6d8b1b11617cc17f3fa3e08f612efe4a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 8 11:04:21 2021 +0000

    bugfix 0037785 cvtsi2sd,cvtsi2ss for platform i386
    
    git-svn-id: branches/tg74/avx512-0037785@48526 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit e309c47ed619cf7161ef355b4d1fa3128efaaa38
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Feb 4 04:53:13 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48508 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit c43787f7f8f30126563b9189d33f178916b47c1f
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 3 16:30:41 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48506 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit bc9629c446de8fbfec27dcd77e348adca0b1c218
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Feb 3 09:03:04 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48505 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 66cdab722370350681f7b381b815a23033ce7602
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Feb 2 16:24:36 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48500 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit e844f748825dc710c80277804bddfe65b90e1ec9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 1 16:16:06 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48492 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 6eb2cd6dfde2bb99e1bf7dac9fc7b963497f09e4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Feb 1 14:54:18 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48491 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit c907f4cb28fdd9f561086372f7f7f1404f99e916
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 1 11:29:09 2021 +0000

    + added lazarus projects for the video unit tests for Windows
    
    git-svn-id: branches/unicodekvm@48488 -

M	.gitattributes
A	packages/rtl-console/tests/video1_windows.lpi
A	packages/rtl-console/tests/video2_windows.lpi

******************************************************************************
commit d5283cae7fa84ede4b82743a762bebd51ede8a55
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 1 06:19:12 2021 +0000

    + support both legacy and enhanced video buffers in Video.ClearScreen
    
    git-svn-id: branches/unicodekvm@48487 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit cb6ba25e1b1a23ac2dfb3c17afb6ada075b54b9b
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 1 06:11:32 2021 +0000

    * formatting
    
    git-svn-id: branches/unicodekvm@48486 -

M	packages/rtl-console/src/inc/video.inc

******************************************************************************
commit ce6260c8971c9928f99b79b34a8e734a06288865
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 1 06:09:32 2021 +0000

    + added unicode video unit test
    
    git-svn-id: branches/unicodekvm@48485 -

M	.gitattributes
A	packages/rtl-console/tests/video2.pp
A	packages/rtl-console/tests/video2_unix.lpi

******************************************************************************
commit ea3124ed4af17414c0526ffac7a80b6ac6178842
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 1 06:08:13 2021 +0000

    + introduced initialization of the video unit in enhanced (Unicode) mode
    
    git-svn-id: branches/unicodekvm@48484 -

M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/inc/videoh.inc

******************************************************************************
commit 90113ef819430c8dc471551e5c953fec06cce03c
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 1 05:10:39 2021 +0000

    + added simple test for the video unit
    
    git-svn-id: branches/unicodekvm@48483 -

M	.gitattributes
A	packages/rtl-console/tests/video1.pp
A	packages/rtl-console/tests/video1_unix.lpi

******************************************************************************
commit b13c8e3ef68607a7a37694fc1605dbb743e8650b
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 1 03:26:56 2021 +0000

    * use UnicodeString instead of WideString in TEnhancedVideoCell
    
    git-svn-id: branches/unicodekvm@48482 -

M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/inc/videoh.inc

******************************************************************************
commit 0d1fef96a1d0b4c7c70f9eed24b6a8997e3e109b
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jan 31 14:28:41 2021 +0000

    + introduced OldEnhancedVideoBuf
    
    git-svn-id: branches/unicodekvm@48468 -

M	packages/rtl-console/src/inc/videoh.inc

******************************************************************************
commit 3f852e1444278f8d146f93cd39cdf239f0fc93e2
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jan 31 14:26:33 2021 +0000

    + introduced TVideoDriver.InitEnhancedDriver
    
    git-svn-id: branches/unicodekvm@48467 -

M	packages/rtl-console/src/amicommon/video.pp
M	packages/rtl-console/src/go32v2/video.pp
M	packages/rtl-console/src/inc/videoh.inc
M	packages/rtl-console/src/msdos/video.pp
M	packages/rtl-console/src/netware/video.pp
M	packages/rtl-console/src/netwlibc/video.pp
M	packages/rtl-console/src/os2commn/video.pp
M	packages/rtl-console/src/unix/video.pp
M	packages/rtl-console/src/win/video.pp
M	packages/rtl-console/src/win16/video.pp

******************************************************************************
commit f8320dff082272a41e6a2d6d0f8a5ba50b4ea80b
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jan 31 14:11:29 2021 +0000

    + added the EnhancedVideoBuf global variable to the video unit
    
    git-svn-id: branches/unicodekvm@48466 -

M	packages/rtl-console/src/inc/videoh.inc

******************************************************************************
commit b8dfa1b8e68946db2ce52deb37c681eccba73418
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jan 31 13:57:46 2021 +0000

    + initial attempt at defining an enhanced video cell record for the Unicode support in the video unit
    
    git-svn-id: branches/unicodekvm@48465 -

M	packages/rtl-console/src/inc/video.inc
M	packages/rtl-console/src/inc/videoh.inc

******************************************************************************
commit ee3c4629aa1157fcb97db79e962b522649c7abd3
Author: nickysn <nickysn@gmail.com>
Date:   Sat Jan 30 00:26:50 2021 +0000

    * update revision.inc
    
    git-svn-id: branches/unicodekvm@48454 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 1bcf50ce701c200fb6962226b2f48274d8a68985
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Jan 27 15:48:20 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48437 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp

******************************************************************************
commit ae97668967c8d2dd3ddc05e8ae7e4e54519bb6a0
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 16:23:56 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48420 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 684bdb0245b603c5c116d90f5fe2438089e1201f
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 16:01:01 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48419 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit 0a254b46bc0c01773778e93497609b5e27d139a9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Jan 25 05:24:29 2021 +0000

    avxtestgenerator: working on new tests for compressed disp8*N
    
    git-svn-id: branches/tg74/avx512-0037785@48416 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/options.pas

******************************************************************************
commit 22e8cd3fd3ebf6b1747cb17064419d9d90450985
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Jan 21 04:57:47 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48261 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 149f8ddfe9965e73e3e0acb94b46c623a9c0c087
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Jan 20 16:30:38 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48230 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit c2a3f03093d6a4814d0d740244afa7800194781d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 19 11:01:32 2021 +0000

    working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48189 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit 555ecd826bd9b6d28784f7e285eb648d49e251ee
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 19 05:12:39 2021 +0000

    avxtestgenerator: working on new testmethods avx512-memref-operands - 'compressed disp8*N'
    
    git-svn-id: branches/tg74/avx512-0037785@48187 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp

******************************************************************************
commit 54ea8468fc0fa0c2775c82a10ad62785c2a8f11a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 16:27:07 2021 +0000

    cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@48149 -

M	compiler/x86/rax86.pas

******************************************************************************
commit ecdac1dd399df3d5dade5151e320686db821ef9e
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 16:19:53 2021 +0000

    cleanup + add internal error if all asmr_e_not_supported_combination_attsuffix_memrefsize_type are reported
    
    git-svn-id: branches/tg74/avx512-0037785@48148 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 7a536df60e1acc939157b2608c7a68f33223c9b4
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 11:01:31 2021 +0000

    avxtestgenerator add attsuffix in 'opcode-memrefsize-state - list' (command-line option '-l')
    
    git-svn-id: branches/tg74/avx512-0037785@48147 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit db2051e2d2c07c5190c93d7f19409b2eec5c11c3
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 10:57:15 2021 +0000

    bugfix testcases 0037785
    
    git-svn-id: branches/tg74/avx512-0037785@48146 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 64e796ace2f58eda26c7c732c8d592029f5cf297
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Jan 12 09:47:18 2021 +0000

    cleanup bugfix 0037785
    
    git-svn-id: branches/tg74/avx512-0037785@48145 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit c3b5d0d5d5b522e8d1a594183e2b49dce34decfb
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 13:52:29 2021 +0000

      * use str(...) instead of typinfo unit
    
    git-svn-id: branches/tg74/avx512-0037785@48085 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 09c009868604cb1a9a065ea9c739a37c41c93923
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 13:13:43 2021 +0000

    -- Rückwärtiges Zusammenführen von r47837 bis r47033 in »ppcx64.lpi«:
    U    ppcx64.lpi
    -- Aufzeichnung der Informationen für rückwärtiges Zusammenführen von r47837 bis r47033 in »ppcx64.lpi«:
     G   ppcx64.lpi
    -- Entfernung der Zusammenführungsinformationen von »ppcx64.lpi«:
     U   ppcx64.lpi
    
    git-svn-id: branches/tg74/avx512-0037785@48084 -

M	compiler/ppcx64.lpi

******************************************************************************
commit f8fc0073248b2be95224d2419bb844b4bec0d5e9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sat Jan 2 22:13:27 2021 +0000

    internal assembler-reader x86 (local/global var) - validate asm-opcode-attsuffix and memrefsize
    
    git-svn-id: branches/tg74/avx512-0037785@47984 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit 7bba64854b52c877aac354180ba7928a903ff23f
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 30 07:10:37 2020 +0000

    internal assembler-reader x86 opsize local/global var - cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@47899 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 507f0b3362db9513e09255168306a3c46d35f0b3
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 29 05:12:47 2020 +0000

    working on internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47886 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 2452e991b86091045a296ca6251b66ca3f6cea5d
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 29 04:49:52 2020 +0000

    internal assembler-reader x86 opsize local/global var - cleanup
    
    git-svn-id: branches/tg74/avx512-0037785@47885 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	tests/utils/avx/asmtestgenerator.pas
******************************************************************************
commit 9b2bed6fdf168b694b7c62751b208bc82d075c16
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 05:00:58 2020 +0000

    external gas assembler: special handling for correct suffix in vfpclass-opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47865 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 402f0d348e68536880a06507689e175ab7428226
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 04:56:47 2020 +0000

    avxtestgenerator: add new commandline param '-m', create only these testfile(s)
    
    git-svn-id: branches/tg74/avx512-0037785@47864 -

M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit a0d21148b453cf1c6e879c4989737b829b0c8229
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 28 04:35:22 2020 +0000

    avx512: external gas assembler not supported gather/scatter-opcodes without mask-register =>> not generate testcode
    
    git-svn-id: branches/tg74/avx512-0037785@47863 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 2ec8145ec543c0babf24ecd8de10d0114a91dca0
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 23 03:56:23 2020 +0000

    external gas-assembler - handling special opcodes with multiple memref-size e.g. vfpclassps/pd - if operand-opsize < S_XMM =>> use memref-min-size
    
    git-svn-id: branches/tg74/avx512-0037785@47837 -

M	compiler/i386/i386atts.inc
M	compiler/i8086/i8086atts.inc
M	compiler/ppcx64.lpi
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit 213f84ad6ce093b49829e9411b597b626fb113b8
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sun Dec 20 04:44:37 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable - append correct gas-suffix on any vcvt.. opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47821 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 518db35eb075e4bbee9fd9f55324b96d292abe4b
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 18 16:24:57 2020 +0000

    working on internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47811 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 76dd6ff6e784410972d33fdd3aa77d0252a46ea5
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 18 05:27:56 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47807 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit 25b27281375284e07b7b9047d7cfcb14f2805555
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 15:43:34 2020 +0000

    cleanup x86ins.dat
    
    git-svn-id: branches/tg74/avx512-0037785@47789 -

M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 04b059268bb291cb1b5471481bacf5aa93a756eb
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 15:39:19 2020 +0000

    cleanup x86ins.dat
    
    git-svn-id: branches/tg74/avx512-0037785@47788 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit d6fdb384590bf8306e16b990dac52ca86f90deab
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 16 11:02:14 2020 +0000

    cleanup and add comments to div. vcvt.. opcodes
    
    git-svn-id: branches/tg74/avx512-0037785@47785 -

M	compiler/x86/x86ins.dat

******************************************************************************
commit 324032941a3b4171b59c99a1663c2a6407dbeec0
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Sat Dec 12 21:36:31 2020 +0000

    add new option to avxtestgenerator to list opcodes-memrefsize-state
    
    git-svn-id: branches/tg74/avx512-0037785@47764 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit 8c98be824df6e28fad2a957e4908cf96be65d400
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Dec 10 04:43:24 2020 +0000

    cleanup bugfix internal assembler-reader x86 opsize local/global var
    
    git-svn-id: branches/tg74/avx512-0037785@47745 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 7aa94f6191bb586ebf69cd93e13c3bebdf10001e
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 7 04:45:24 2020 +0000

    bugfixing operandsize from 32-bit to (correct) 64-bit
    
    git-svn-id: branches/tg74/avx512-0037785@47708 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit aeca33e80ad2db7c2c885c624b534c0b19aaef21
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Dec 7 04:39:36 2020 +0000

    working on internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47707 -

M	compiler/x86/rax86.pas

******************************************************************************
commit b2615a9ba11f613a7920efd59b2199cfbc4f4017
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 4 16:19:48 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47685 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit d8d472cf68aaa59c255456d23a5698d70858c45f
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Dec 4 08:35:00 2020 +0000

    bugfix internal assembler-reader x86 opsize local va
    
    git-svn-id: branches/tg74/avx512-0037785@47681 -

M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086tab.inc
M	compiler/ppcx64.lpi
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664tab.inc

******************************************************************************
commit 28fdba2c08f6fdee34557b1419e310e70b864a41
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Dec 3 16:24:00 2020 +0000

    working on new testmethods and bug-fixing size of (memref-operands | global and local variable
    
    git-svn-id: branches/tg74/avx512-0037785@47678 -

M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/ppcx64.lpi
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 06b229e1c33157af5d90c1596dd62b675ae34bc8
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Dec 2 09:19:41 2020 +0000

    working on internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47663 -

M	compiler/x86/rax86.pas

******************************************************************************
commit 84bf87b20dbacb2db9bc8770043968fe1d4e35d9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Dec 1 05:43:17 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47654 -

M	compiler/x86/rax86.pas

******************************************************************************
commit ae71ab728462e24367107623c19c4ba6aaaf8716
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Nov 30 16:31:51 2020 +0000

    working on new testmethods memref operands
    
    git-svn-id: branches/tg74/avx512-0037785@47642 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 0a3d980f7e883862dec13db1745e75646c5f6f09
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Mon Nov 30 13:53:25 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47640 -

M	compiler/ppcx64.lpi
M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit f4251bc11a21d64cf80df90db853c8df12558b73
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Nov 27 15:54:47 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47608 -

M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit 3af6a9826347573ff8a33b50748e48541e41a1e9
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Fri Nov 27 05:45:44 2020 +0000

    bugfix internal assembler-reader x86 opsize local var
    
    git-svn-id: branches/tg74/avx512-0037785@47606 -

M	compiler/x86/rax86.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 5207d0ee25a8bb2f37088e654b25dae2a5ade454
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Thu Nov 26 16:27:48 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47600 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit c69f1a20f498f1e8b5db8a59e83c3e5c53ec95fa
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 25 11:50:10 2020 +0000

    working on new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47580 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 912f8e8817dd15d27d7dddffcc471737c23050ef
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 25 09:11:07 2020 +0000

    add new testmethods (memref-operands)
    
    git-svn-id: branches/tg74/avx512-0037785@47579 -

M	tests/utils/avx/asmtestgenerator.pas
M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas

******************************************************************************
commit 33b4772eab459420afb5788ee18e4f4c5d21efc7
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Wed Nov 18 04:38:21 2020 +0000

    bugfix gnu-assembler platform i386 vcvtsi2sd,vcvtsi2ss,vcvtusi2sd,vcvtusi2ss
    
    git-svn-id: branches/tg74/avx512-0037785@47443 -

M	compiler/x86/rax86.pas

******************************************************************************
commit d41579fb2b8c8a5c35d280065944a2fa4aee3d7a
Author: tg74 <tg74@idefix.freepascal.org>
Date:   Tue Nov 17 16:22:27 2020 +0000

    bugfix gnu-assembler platform i386 vcvtsi2sd,vcvtsi2ss,vcvtusi2sd,vcvtusi2ss
    
    git-svn-id: branches/tg74/avx512-0037785@47441 -

M	compiler/i386/i386atts.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/utils/mkx86ins.pp
M	compiler/x86/itcpugas.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86att.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 6aa8b718f46b6926836aff4e40cda9e868701eb8
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jul 2 15:37:02 2019 +0000

    * check the LC_CTYPE env var instead of LANG on OpenBSD to check whether UTF-8
      is enabled
    
    git-svn-id: branches/unicodekvm@42321 -

M	packages/rtl-console/src/unix/unixkvmbase.pp

******************************************************************************
commit c964eab85d726ede55c745c4a0b9187fada7c858
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jul 2 15:32:11 2019 +0000

    * refactored slightly the BEOS ifdef in unixkvmbase.utf8enabled
    
    git-svn-id: branches/unicodekvm@42320 -

M	packages/rtl-console/src/unix/unixkvmbase.pp

******************************************************************************
commit 837659f4201aab4fee9c8678fe51ac8a3218ca16
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 18:51:25 2019 +0000

    + added comment about a Windows bug, which causes the keyboard layout change
      detection code to not work
    
    git-svn-id: branches/unicodekvm@41609 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit e583341877ff53bff386d038c2e387a224751121
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 18:30:27 2019 +0000

    + added comments, explaining the enhanced shift states in detail
    
    git-svn-id: branches/unicodekvm@41608 -

M	packages/rtl-console/src/inc/keybrdh.inc

******************************************************************************
commit b5575c0829373904a10e532dac7ef26764705ad6
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 17:46:15 2019 +0000

    * optimized UpdateKeyboardLayoutInfo, so it only calls GetKeyboardLayout once
      and only performs the HasAltGr check in case the keyboard layout has actually
      changed
    
    git-svn-id: branches/unicodekvm@41607 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit ead1eab3d7342ac6476ee87e871f6214872e5b1f
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 17:38:30 2019 +0000

    * update the keyboard layout info before every keystroke, since Windows can
      change between multiple layouts, while the program is running
    
    git-svn-id: branches/unicodekvm@41606 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 4034dcc2c68797c8159978fe6d5a68b550a589c6
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 17:14:42 2019 +0000

    * CheckAltGr moved above HandleKeyboard, because it will be invoked from there also
    
    git-svn-id: branches/unicodekvm@41605 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit eaa60e45465f1ab252030ee8fb79d201a6872a3c
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 17:09:49 2019 +0000

    * fix typo in comment
    
    git-svn-id: branches/unicodekvm@41604 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 1c86c0de48b20fdb2dd80fe4c867f4243eb1aa9e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 17:08:11 2019 +0000

    - removed the no-longer-used code for dealing with the legacy key events
    
    git-svn-id: branches/unicodekvm@41602 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 36899f65cf83f3f6f23428c313c561b02bca139e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 17:01:11 2019 +0000

    + enable the enhanced key events permanently on windows
    
    git-svn-id: branches/unicodekvm@41601 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 504bd61c7f56caebec1cf8fd75bbe11d8fe7d1eb
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 15:40:54 2019 +0000

    + added proper Windows AltGr support for the enhanced shift state
    
    git-svn-id: branches/unicodekvm@41599 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit bac79df17e156e6b2cdc457ee586b4cc1957d01d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 14:33:23 2019 +0000

    + added essAltGr to TEnhancedShiftState and added proper AltGr handling for the Linux console
    
    git-svn-id: branches/unicodekvm@41597 -

M	packages/rtl-console/src/inc/keyboard.inc
M	packages/rtl-console/src/inc/keybrdh.inc
M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit dba71de45bd7b7750383aec27608e092783b50f1
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 5 13:37:20 2019 +0000

    * fix typo in comment
    
    git-svn-id: branches/unicodekvm@41596 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 0e7f562d19387dfd8e60a6f67dd1754496927888
Author: nickysn <nickysn@gmail.com>
Date:   Fri Mar 1 17:35:57 2019 +0000

    * fix typo in comment
    
    git-svn-id: branches/unicodekvm@41541 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit bf3865a15a9429658c230b017d641e05cc38348b
Author: nickysn <nickysn@gmail.com>
Date:   Fri Mar 1 17:35:09 2019 +0000

    + also patch Ctrl+F1..Ctrl+F12 when running as root on the linux console, so they can also be read properly
    
    git-svn-id: branches/unicodekvm@41540 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit fe60708baca8ae1d15e81ae8f6c1aee2d2b09e85
Author: nickysn <nickysn@gmail.com>
Date:   Fri Mar 1 17:24:17 2019 +0000

    * fixed the linux keyboard patching table for handling F11 and F12 properly
    
    git-svn-id: branches/unicodekvm@41539 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 0b850d9883e8d956a749585a212f6c0473126159
Author: nickysn <nickysn@gmail.com>
Date:   Fri Mar 1 15:04:07 2019 +0000

    + add TEvent.UnicodeChar to the drivers unit
    
    git-svn-id: branches/unicodekvm@41534 -

M	packages/fv/src/drivers.pas

******************************************************************************
commit 5c6d6b030d0ef310f3b83470474c25c2f9332d3c
Author: nickysn <nickysn@gmail.com>
Date:   Fri Mar 1 14:28:33 2019 +0000

    * switch to using enhanced key events in the drivers unit
    
    git-svn-id: branches/unicodekvm@41533 -

M	packages/fv/src/drivers.pas

******************************************************************************
commit 41b93832c0ffe6c05cd2b14796642a9979414a6e
Author: nickysn <nickysn@gmail.com>
Date:   Fri Mar 1 14:26:38 2019 +0000

    + add ConvertEnhancedToLegacyShiftState to the interface of unit keyboard
    
    git-svn-id: branches/unicodekvm@41532 -

M	packages/rtl-console/src/inc/keybrdh.inc

******************************************************************************
commit 1e94304bf04a36497098ff282bdb0d64de6bb3db
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 28 17:38:31 2019 +0000

    * preserve the unicode keycode returned from ReadKey in the result of SysGetEnhancedKeyEvent
    
    git-svn-id: branches/unicodekvm@41525 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 982a4f4c63a4fcf424b9ff998f8aab846bced537
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 28 14:56:16 2019 +0000

    * reject surrogate characters when decoding UTF-8 keyboard input
    
    git-svn-id: branches/unicodekvm@41524 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit da978acfd97eaf08a66038b151f7f83cca83d769
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 28 14:51:04 2019 +0000

    + added UTF-8 keyboard input support
    
    git-svn-id: branches/unicodekvm@41523 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 774317788f1b2c3442ef78a759d9a60a8c7aff89
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 13:28:28 2019 +0000

    * moved the 'if not again' part after the repeat..until loop; it behaves the same, but improves code readability
    
    git-svn-id: branches/unicodekvm@41517 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 889e50ed58004611c225ceb82e6559f573072679
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 13:12:28 2019 +0000

    * initialize SState from the shift state, returned by ReadKey
    
    git-svn-id: branches/unicodekvm@41516 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit d8d6c857e59bdedba1657b56aef66c3818b84726
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 13:09:08 2019 +0000

    * simplified the initialization of MyScan, since ReadKey now returns a record, that contains both AsciiChar and ScanCode
    
    git-svn-id: branches/unicodekvm@41515 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 7e16f651ea41f4657d327d97f266ec196dcb40db
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 13:07:04 2019 +0000

    - removed commented out code
    
    git-svn-id: branches/unicodekvm@41514 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 9a82b32cde500d92b029746ad3c0847612f64187
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 13:05:45 2019 +0000

    - removed commented out code
    
    git-svn-id: branches/unicodekvm@41513 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit af12abc939bf12fbb48bd2ff4759f5021c057311
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 12:58:06 2019 +0000

    - removed check for the kbEsc scan code, since this is now made redundant,
      thanks to the fact that the sequence can return both non-zero AsciiChar
      and ScanCode at the same time.
    
    git-svn-id: branches/unicodekvm@41512 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 2d68b7c7a9e175fed0ea5607fa78e8a766041859
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 12:54:31 2019 +0000

    * the type of key_sequence.char changed from byte to 0..127 to enforce ASCII only use
    
    git-svn-id: branches/unicodekvm@41511 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 0f1a20b8a48722ff00214869c30a7e99883bdb4c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 12:53:28 2019 +0000

    * handle sequences that return both char and scan code
    
    git-svn-id: branches/unicodekvm@41510 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 3c89ec6f83f2581ca0a8d42705424464a48d27c8
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 12:49:38 2019 +0000

    * set char to 27 for the Esc key (for the linux patched console) in the sequence table
    
    git-svn-id: branches/unicodekvm@41509 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 97995773a0fd567f3528d0729285420715460a87
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 12:42:29 2019 +0000

    - removed FAltKey, because it is not used
    
    git-svn-id: branches/unicodekvm@41508 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit d68e48d1ead5f2ad7d5fab090f094679ff632db9
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 27 12:40:56 2019 +0000

    - removed some no longer used commented out code
    
    git-svn-id: branches/unicodekvm@41507 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 1961c8f27c62a67561d9844f433ef6db5175a548
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 26 18:28:36 2019 +0000

    - removed the IsAlt local variable, because it is not used
    
    git-svn-id: branches/unicodekvm@41493 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 5f9f97e75d35f70a93bf8f95f8f3416093ea48fb
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 26 18:27:57 2019 +0000

    - removed the IsAlt parameter from ReadKey, because it is not used
    
    git-svn-id: branches/unicodekvm@41492 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 23957bddaaaadc8f174367f135c82ad2f4809677
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 26 18:10:35 2019 +0000

    + introduced PutBackIntoInBuf - procedure that returns a key back into InBuf
    
    git-svn-id: branches/unicodekvm@41491 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit d3310cc731fea0ed1e3cb2bb473d93f53f6fc24e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 26 18:03:04 2019 +0000

    * fixed off-by-one error when putting a character back into the input buffer
    
    git-svn-id: branches/unicodekvm@41490 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 529c76504137cb99b98d11f153999410a38f6bf4
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 26 18:01:21 2019 +0000

    * simplify an 'if A' followed by an 'if not A' sequence to 'if A then...else...'
    
    git-svn-id: branches/unicodekvm@41489 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit c23df60ae5c3f16bda2ce2e7530368a65324caa5
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 26 17:54:54 2019 +0000

    * the variables only used by ReadKey made local, and not visible in its nested routines
    
    git-svn-id: branches/unicodekvm@41488 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit ba1450f7e9488e1ae05c6bf46f3c13065180f642
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 26 17:53:59 2019 +0000

    * return the shiftstate in ReadKey
    
    git-svn-id: branches/unicodekvm@41487 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 258ed213e43932ba3a44dd47264269517887c669
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 26 17:50:55 2019 +0000

    * moved ReadKey after GetEnhShiftState, so it can be used to return the shift state
    
    git-svn-id: branches/unicodekvm@41486 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit ac4f00af1eaf877d9d6288b9df0b3e5be5e2eb6e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 26 17:47:29 2019 +0000

    * modified ReadKey to return TEnhancedKeyEvent (partially constructed - contains only asciichar and virtualscancode)
    
    git-svn-id: branches/unicodekvm@41484 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 9c63675368559a4b41e15624190c09a0c0cf9164
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 20 16:22:46 2019 +0000

    + add shift state to TTreeElement and DoAddSequence
    
    git-svn-id: branches/unicodekvm@41402 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 9dd394a5f74d358db135dc4ad948879096080080
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 20 16:00:45 2019 +0000

    + added shift state to the escape sequence structure
    
    git-svn-id: branches/unicodekvm@41401 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 0f8db5f590342c65f72e2d26faa4691a1929a1a9
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 20 13:55:11 2019 +0000

    * fixed Shift-F1..F8 on the Linux console
    
    git-svn-id: branches/unicodekvm@41399 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 2b1297c3970f9815a35c3694920c634e0a30c3e3
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 20 13:35:16 2019 +0000

    * gnome3 (clarifies gnome version tested)
    
    git-svn-id: branches/unicodekvm@41398 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 97807af58d437998181982b77bb62cdee0e24a30
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 20 13:23:51 2019 +0000

    + handled the 'center' (numpad 5) key properly in linux, xterm and gnome
    
    git-svn-id: branches/unicodekvm@41397 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit ab67fe179567312d0c8124086e22ea60b23f1aa1
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 19 13:58:53 2019 +0000

    + return enhanced key events in the unix keyboard driver; unicode not supported yet
    
    git-svn-id: branches/unicodekvm@41379 -

M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 0f61895194672675bfcce07389a8099c71ce2fca
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 17 23:32:29 2019 +0000

    + added a global variable Utf8KeyboardInputEnabled in the implementation of the
      unix keyboard unit. Initialize it in SysInitKeyboard with the value, returned
      by UnixKvmBase.UTF8Enabled (the same function that checks whether UTF-8 output
      should be enabled in the video unit).
    
    git-svn-id: branches/unicodekvm@41369 -

M	packages/rtl-console/fpmake.pp
M	packages/rtl-console/src/unix/keyboard.pp

******************************************************************************
commit 4ea55963ef78a168686761578fc8a3e840279ee6
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 17 20:33:56 2019 +0000

    + introduced unit UnixKvmBase, which is going to contain miscellaneous routines,
      commonly used by the unix keyboard, video and mouse units. Currently, it only
      contains the UTF8Enabled function, which was moved away from the video unit
      and which will also be used by the keyboard unit in the future, as soon as
      that unit also gets UTF-8 input support.
    
    git-svn-id: branches/unicodekvm@41357 -

M	.gitattributes
M	packages/rtl-console/fpmake.pp
A	packages/rtl-console/src/unix/unixkvmbase.pp
M	packages/rtl-console/src/unix/video.pp

******************************************************************************
commit 43db73cb54e82f5d40448969c090cda730e5ecd1
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 15 15:45:45 2019 +0000

    * updated fpcm revision.inc
    
    git-svn-id: branches/unicodekvm@41322 -

M	utils/fpcm/revision.inc

******************************************************************************
commit ac81dc399611d348fe81df7a4a96288b2f6d1e13
Author: nickysn <nickysn@gmail.com>
Date:   Fri Nov 16 17:52:27 2018 +0000

    - get rid of the ss:TEnhancedShiftState local variable in TranslateEnhancedKeyEvent
    
    git-svn-id: branches/unicodekvm@40332 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 55c9af86f44712251fccf54d518205b5c39bad5d
Author: nickysn <nickysn@gmail.com>
Date:   Fri Nov 16 17:19:24 2018 +0000

    + distinguish between left and right shift and detect num/caps/lock key down using GetKeyState
    
    git-svn-id: branches/unicodekvm@40330 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 7b880b2eee41a61f1ddf5e9c21f428a67e2a5012
Author: nickysn <nickysn@gmail.com>
Date:   Fri Nov 16 17:00:17 2018 +0000

    + added test, that reads enhanced keyboard events
    
    git-svn-id: branches/unicodekvm@40329 -

M	.gitattributes
A	packages/rtl-console/tests/kbd2.pp

******************************************************************************
commit 5648bd9bdc283697604608f4c9b43f18f85ad047
Author: nickysn <nickysn@gmail.com>
Date:   Fri Nov 16 16:51:20 2018 +0000

    + introduced TEnhancedShiftStateElement - an enum type, containing the elements of TEnhancedShiftState set
    
    git-svn-id: branches/unicodekvm@40328 -

M	packages/rtl-console/src/inc/keybrdh.inc

******************************************************************************
commit baa6525a9e73f885381e94a7a8acf03c2d4f406f
Author: nickysn <nickysn@gmail.com>
Date:   Fri Nov 16 14:26:32 2018 +0000

    + add enhanced shift state to the TFPKeyEventRecord object and call
      transEnhShiftState only in HandleKeyboard, when the new key event is added to
      the queue. This way we can use GetKeyState to determine the parts of the shift
      state that are not in dwControlKeyState.
    * transEnhShiftState moved to be a local function inside HandleKeyboard to
      ensure it's not called outside this procedure.
    
    git-svn-id: branches/unicodekvm@40327 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit a8da1b51309069b1c274793ddf47472af131df2f
Author: nickysn <nickysn@gmail.com>
Date:   Thu Nov 15 17:00:59 2018 +0000

    + introduce TFPKeyEventRecord - a wrapper record around TKeyEventRecord, so it
      can store additional data (not added yet) to our keyboard events; this way we
      can later add extended shift state (e.g. distinguishing between left and right
      shift), etc.
    
    git-svn-id: branches/unicodekvm@40320 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit aac266e82de41fb899e2e2be34b8ca3ebcc02389
Author: nickysn <nickysn@gmail.com>
Date:   Thu Nov 15 15:18:40 2018 +0000

    + detect and return the state of num lock, caps lock and scroll lock in the enhanced shift state on win32/win64
    
    git-svn-id: branches/unicodekvm@40317 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 4f482516ddfff69c94bdcc0872ca6e6e8d04ed4e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 13 17:20:30 2018 +0000

    * TEnhancedKeyEvent.ShiftState changed to TEnhancedShiftState
    
    git-svn-id: branches/unicodekvm@40311 -

M	packages/rtl-console/src/inc/keyboard.inc
M	packages/rtl-console/src/inc/keybrdh.inc
M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 3e135c02e79abff3fc26da2319c811b007074d7b
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 13 16:20:45 2018 +0000

    + added generic Shift, Ctrl and Alt values to TEnhancedShiftState
    
    git-svn-id: branches/unicodekvm@40310 -

M	packages/rtl-console/src/inc/keybrdh.inc

******************************************************************************
commit 658730ee85e39e97635a2822653e452c7f8d32ca
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 12 23:10:28 2018 +0000

    + added the 102-th key on international keyboards (outputs "<" or ">" with the US layout)
    
    git-svn-id: branches/unicodekvm@40299 -

M	packages/rtl-console/tests/bios/kbd_us.ods

******************************************************************************
commit d681d51e38659918dcef5a7322d286ee94dcd698
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 12 17:50:42 2018 +0000

    + introduced TEnhancedShiftState. Not used yet, but will eventually be used inside TEnhancedKeyEvent.
    
    git-svn-id: branches/unicodekvm@40298 -

M	packages/rtl-console/src/inc/keybrdh.inc

******************************************************************************
commit f05c6666fe97f365f376fb3b7d8d8c0f6b91fb3b
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 12 16:31:06 2018 +0000

    + switch the win32/win64 keyboard unit to use enhanced key events (they are
      converted to legacy key events by the generic converter in keyboard.inc)
    
    git-svn-id: branches/unicodekvm@40296 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 7d638a1e390970658014f762bcd8c8d743bc2e9c
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 12 16:29:37 2018 +0000

    * handle nil key events properly in ConvertToLegacyKeyEvent
    
    git-svn-id: branches/unicodekvm@40295 -

M	packages/rtl-console/src/inc/keyboard.inc

******************************************************************************
commit 0a511ddb30bb1af327136091a99123f8876b105b
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 12 15:49:25 2018 +0000

    + implemented generic conversion from enhanced to legacy key events as well
    
    git-svn-id: branches/unicodekvm@40294 -

M	packages/rtl-console/src/inc/keyboard.inc

******************************************************************************
commit 18a752d20ab3e0b1fd835d01a62d0843f6141af7
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 12 14:32:26 2018 +0000

    * use :=NilEnhancedKeyEvent instead of FillChar to clear the result of ConvertToEnhancedKeyEvent
    
    git-svn-id: branches/unicodekvm@40293 -

M	packages/rtl-console/src/inc/keyboard.inc

******************************************************************************
commit 2593a69eaf0a96b39821dab37f402efc0fbbf4ab
Author: nickysn <nickysn@gmail.com>
Date:   Wed Nov 7 18:10:29 2018 +0000

    + implemented SysGetEnhancedKeyEvent and SysPollEnhancedKeyEvent for win32/win64
    
    git-svn-id: branches/unicodekvm@40266 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 9a2e1b99cb890ef06a238b37b7873fd6efd6b31a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Nov 7 18:09:54 2018 +0000

    + overloaded the = operator for pairs of TEnhancedKeyEvent
    
    git-svn-id: branches/unicodekvm@40265 -

M	packages/rtl-console/src/inc/keyboard.inc
M	packages/rtl-console/src/inc/keybrdh.inc

******************************************************************************
commit db8f3eb0a7d55df62b6345be3e140c9cd19ba76c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Nov 7 17:55:54 2018 +0000

    * use x:=NilEnhancedKeyEvent instead of FillChar for setting an enhanced key
      event variable to 0
    
    git-svn-id: branches/unicodekvm@40262 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 1d2414a2b880b7c4320a6a6105472b298dc72177
Author: nickysn <nickysn@gmail.com>
Date:   Wed Nov 7 17:47:21 2018 +0000

    + added the NilEnhancedKeyEvent const (equivalent to the value 0 of TKeyEvent)
    
    git-svn-id: branches/unicodekvm@40260 -

M	packages/rtl-console/src/inc/keybrdh.inc

******************************************************************************
commit 4212b6a92f513812e59fe0072a1f66b79326da90
Author: nickysn <nickysn@gmail.com>
Date:   Wed Nov 7 17:25:45 2018 +0000

    + add svn:needs-lock to kbd_us.ods, because it's a binary file (and therefore,
      unmerge-able)
    
    git-svn-id: branches/unicodekvm@40257 -

******************************************************************************
commit e1e52e334d4f71438c10b1d12ed08e4cc5686d5f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Nov 7 15:32:47 2018 +0000

    + added color codes for the keys
    
    git-svn-id: branches/unicodekvm@40256 -

M	packages/rtl-console/tests/bios/kbd_us.ods

******************************************************************************
commit d65d96d49fd7331e0139be0ff87f9e7ced0c2965
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 6 23:47:49 2018 +0000

    * right justify text columns in spreadsheet
    
    git-svn-id: branches/unicodekvm@40253 -

M	packages/rtl-console/tests/bios/kbd_us.ods

******************************************************************************
commit 33c7d4c67d179e92088aed30184ce635ab8a1979
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 6 23:39:55 2018 +0000

    + added the lalt+lshift bios keycode dump to the spreadsheet
    
    git-svn-id: branches/unicodekvm@40252 -

M	packages/rtl-console/tests/bios/kbd_us.ods

******************************************************************************
commit 98e77922bf2d5667315633180e563e6b9406463b
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 6 23:35:08 2018 +0000

    * .bdf files renamed .bios.txt
    
    git-svn-id: branches/unicodekvm@40251 -

M	.gitattributes
R100	packages/rtl-console/tests/bios/us101.bdf	packages/rtl-console/tests/bios/us101.bios.txt
R100	packages/rtl-console/tests/bios/us101_capslock.bdf	packages/rtl-console/tests/bios/us101_capslock.bios.txt
R100	packages/rtl-console/tests/bios/us101_capslock_lshift.bdf	packages/rtl-console/tests/bios/us101_capslock_lshift.bios.txt
R100	packages/rtl-console/tests/bios/us101_lalt.bdf	packages/rtl-console/tests/bios/us101_lalt.bios.txt
R100	packages/rtl-console/tests/bios/us101_lalt_lctrl.bdf	packages/rtl-console/tests/bios/us101_lalt_lctrl.bios.txt
R100	packages/rtl-console/tests/bios/us101_lalt_lctrl_lshift.bdf	packages/rtl-console/tests/bios/us101_lalt_lctrl_lshift.bios.txt
R100	packages/rtl-console/tests/bios/us101_lalt_lshift.bdf	packages/rtl-console/tests/bios/us101_lalt_lshift.bios.txt
R100	packages/rtl-console/tests/bios/us101_lctrl.bdf	packages/rtl-console/tests/bios/us101_lctrl.bios.txt
R100	packages/rtl-console/tests/bios/us101_lctrl_lshift.bdf	packages/rtl-console/tests/bios/us101_lctrl_lshift.bios.txt
R100	packages/rtl-console/tests/bios/us101_lshift.bdf	packages/rtl-console/tests/bios/us101_lshift.bios.txt
R100	packages/rtl-console/tests/bios/us101_numlock.bdf	packages/rtl-console/tests/bios/us101_numlock.bios.txt
R100	packages/rtl-console/tests/bios/us101_numlock_lshift.bdf	packages/rtl-console/tests/bios/us101_numlock_lshift.bios.txt
R100	packages/rtl-console/tests/bios/us101_ralt.bdf	packages/rtl-console/tests/bios/us101_ralt.bios.txt
R100	packages/rtl-console/tests/bios/us101_rctrl.bdf	packages/rtl-console/tests/bios/us101_rctrl.bios.txt
R100	packages/rtl-console/tests/bios/us101_rshift.bdf	packages/rtl-console/tests/bios/us101_rshift.bios.txt

******************************************************************************
commit c632b232342b544d62c4849b2932b6ae6269729a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 6 23:29:07 2018 +0000

    * the 'left ctrl + left shift' column moved to the right of 'right ctrl'
    
    git-svn-id: branches/unicodekvm@40250 -

M	packages/rtl-console/tests/bios/kbd_us.ods

******************************************************************************
commit 71c55b4e533c0db4236261e9d2a31516547af02e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 6 23:22:32 2018 +0000

    + added bios key dump with the left alt and left shift combination pressed
    
    git-svn-id: branches/unicodekvm@40249 -

M	.gitattributes
A	packages/rtl-console/tests/bios/us101_lalt_lshift.bdf

******************************************************************************
commit d6d4c68c86e0f93648e8ed0f41a87537ac2d3e62
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 6 23:20:01 2018 +0000

    - removed the executable flag from the *.bdf files
    
    git-svn-id: branches/unicodekvm@40248 -

M	packages/rtl-console/tests/bios/us101.bdf
M	packages/rtl-console/tests/bios/us101_capslock.bdf
M	packages/rtl-console/tests/bios/us101_capslock_lshift.bdf
M	packages/rtl-console/tests/bios/us101_lalt.bdf
M	packages/rtl-console/tests/bios/us101_lalt_lctrl.bdf
M	packages/rtl-console/tests/bios/us101_lalt_lctrl_lshift.bdf
M	packages/rtl-console/tests/bios/us101_lctrl.bdf
M	packages/rtl-console/tests/bios/us101_lctrl_lshift.bdf
M	packages/rtl-console/tests/bios/us101_lshift.bdf
M	packages/rtl-console/tests/bios/us101_numlock.bdf
M	packages/rtl-console/tests/bios/us101_numlock_lshift.bdf
M	packages/rtl-console/tests/bios/us101_ralt.bdf
M	packages/rtl-console/tests/bios/us101_rctrl.bdf
M	packages/rtl-console/tests/bios/us101_rshift.bdf

******************************************************************************
commit bbe65d06b9a9aca06cd646a978c82da3597d7f20
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 6 17:06:36 2018 +0000

    + added a LibreOffice spreadsheet with the BIOS key codes, as dumped in the .bdf files
    
    git-svn-id: branches/unicodekvm@40247 -

M	.gitattributes
A	packages/rtl-console/tests/bios/kbd_us.ods

******************************************************************************
commit 72919d64ef2caacaea28851fa8288bfb444fe092
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 6 12:52:30 2018 +0000

    + added BIOS int 16h keycode dumps
    
    git-svn-id: branches/unicodekvm@40239 -

M	.gitattributes
A	packages/rtl-console/tests/bios/us101.bdf
A	packages/rtl-console/tests/bios/us101_capslock.bdf
A	packages/rtl-console/tests/bios/us101_capslock_lshift.bdf
A	packages/rtl-console/tests/bios/us101_lalt.bdf
A	packages/rtl-console/tests/bios/us101_lalt_lctrl.bdf
A	packages/rtl-console/tests/bios/us101_lalt_lctrl_lshift.bdf
A	packages/rtl-console/tests/bios/us101_lctrl.bdf
A	packages/rtl-console/tests/bios/us101_lctrl_lshift.bdf
A	packages/rtl-console/tests/bios/us101_lshift.bdf
A	packages/rtl-console/tests/bios/us101_numlock.bdf
A	packages/rtl-console/tests/bios/us101_numlock_lshift.bdf
A	packages/rtl-console/tests/bios/us101_ralt.bdf
A	packages/rtl-console/tests/bios/us101_rctrl.bdf
A	packages/rtl-console/tests/bios/us101_rshift.bdf

******************************************************************************
commit 3101c29dba54326550bdbc87f30921ff961b5ad6
Author: nickysn <nickysn@gmail.com>
Date:   Tue Nov 6 02:15:03 2018 +0000

    + added a keyboard BIOS dump tool
    
    git-svn-id: branches/unicodekvm@40235 -

M	.gitattributes
A	packages/rtl-console/tests/kbdbdump.pp

******************************************************************************
commit ba4d10ade0776de1c8bb10a6a41d3afe33c9ee5d
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 5 18:23:31 2018 +0000

    + initial implementation of a windows key event to TEnhancedKeyEvent conversion function
    
    git-svn-id: branches/unicodekvm@40234 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 58d899bf75308e6b69159dd531e1daef7b4b06e8
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 5 17:54:08 2018 +0000

    - removed redundant setting of result in TranslateKey
    
    git-svn-id: branches/unicodekvm@40233 -

M	packages/rtl-console/src/win/keyboard.pp

******************************************************************************
commit 28235033d742b7fb75e08fd661724b754e2d9d45
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 5 16:35:56 2018 +0000

    * switch to using ReadConsoleInputW instead of ReadConsoleInputA in the windows
      keyboard unit. This way the console input is read using Unicode and is later
      translated to the OEM character set via WideCharToMultiByte. This is will
      allow returning Unicode character codes once enhanced key events are
      implemented.
    
    git-svn-id: branches/unicodekvm@40232 -

M	packages/rtl-console/src/win/keyboard.pp
M	packages/rtl-console/src/win/winevent.pp

******************************************************************************
commit d38e97c6616ada8556c94de84668ae26f69fa4f1
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 5 15:45:00 2018 +0000

    + added a keyboard dump using the Bulgarian Phonetic Traditional keyboard layout and code page 866
    
    git-svn-id: branches/unicodekvm@40231 -

M	.gitattributes
A	packages/rtl-console/tests/fpc-3.0.4-win64/us101-bgph1-cp866.dmp

******************************************************************************
commit aefe3d8c552287fc0a79d1b3a626531108b98fa6
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 5 15:21:02 2018 +0000

    + added kbd dump file with num lock on
    
    git-svn-id: branches/unicodekvm@40230 -

M	.gitattributes
A	packages/rtl-console/tests/fpc-3.0.4-win64/us101-us-numlock.dmp

******************************************************************************
commit 91766375c73f7c7e77b5c9eb0865549efe3b7097
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 5 15:07:55 2018 +0000

    + added keyboard dumps, obtained with FPC 3.0.4 under Windows, using the US keyboard locale
    
    git-svn-id: branches/unicodekvm@40229 -

M	.gitattributes
A	packages/rtl-console/tests/fpc-3.0.4-win64/us101-us-lalt.dmp
A	packages/rtl-console/tests/fpc-3.0.4-win64/us101-us-lctrl.dmp
A	packages/rtl-console/tests/fpc-3.0.4-win64/us101-us-lshift.dmp
A	packages/rtl-console/tests/fpc-3.0.4-win64/us101-us-ralt.dmp
A	packages/rtl-console/tests/fpc-3.0.4-win64/us101-us-rctrl.dmp
A	packages/rtl-console/tests/fpc-3.0.4-win64/us101-us-rshift.dmp
A	packages/rtl-console/tests/fpc-3.0.4-win64/us101-us.dmp

******************************************************************************
commit 12e66de0a60ddf16adc466bce267675c72568e53
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 5 15:04:36 2018 +0000

    + added an interactive keyboard test
    
    git-svn-id: branches/unicodekvm@40228 -

M	.gitattributes
A	packages/rtl-console/tests/kbdtest.pp

******************************************************************************
commit f964dacd24b0e79df796036f788e8dd50fc79b71
Author: nickysn <nickysn@gmail.com>
Date:   Mon Nov 5 14:17:27 2018 +0000

    * moved some drawing routines to a new unit 'vidutil'
    
    git-svn-id: branches/unicodekvm@40222 -

M	.gitattributes
M	packages/rtl-console/tests/kbddump.pp
A	packages/rtl-console/tests/vidutil.pp

******************************************************************************
commit a7e13587a06f91b42ac671c7a01ae15d524612af
Author: nickysn <nickysn@gmail.com>
Date:   Thu Nov 1 17:46:05 2018 +0000

    + added a keyboard dump test tool
    
    git-svn-id: branches/unicodekvm@40154 -

M	.gitattributes
A	packages/rtl-console/tests/kbddump.pp
A	packages/rtl-console/tests/kbdutil.pp
A	packages/rtl-console/tests/us101.txt

******************************************************************************
commit e7ea79d71dd0821336edb3f2e337ca2fd30e91dd
Author: nickysn <nickysn@gmail.com>
Date:   Tue Oct 30 02:05:23 2018 +0000

    * show all details about the key event, without using KeyEventToString (because it
      sometimes outputs control (<#32) ASCII characters)
    
    git-svn-id: branches/unicodekvm@40095 -

M	packages/rtl-console/tests/kbd1.pp

******************************************************************************
commit c10c9607f1bdd0810304842349acb812718dee47
Author: nickysn <nickysn@gmail.com>
Date:   Tue Oct 30 01:52:51 2018 +0000

    + also invoke TranslateKey to get more data (either Ascii or virtual key translation)
      when converting a TKeyEvent to TExtendedKeyEvent
    + also fill UnicodeChar from AsciiChar if AsciiChar is in the standard Ascii range
      (#0..#127)
    
    git-svn-id: branches/unicodekvm@40094 -

M	packages/rtl-console/src/inc/keyboard.inc

******************************************************************************
commit c5e35e8d117c75fa2c0fb181fe31ddc135871b62
Author: nickysn <nickysn@gmail.com>
Date:   Mon Oct 29 21:03:28 2018 +0000

    * write physical key numbers both in decimal and hex
    
    git-svn-id: branches/unicodekvm@40093 -

M	packages/rtl-console/tests/kbd1.pp

******************************************************************************
commit eb30bfa9f0291b247fcb7d3f84ade24fe8776c47
Author: nickysn <nickysn@gmail.com>
Date:   Mon Oct 29 20:51:49 2018 +0000

    * print ASCII characters better
    
    git-svn-id: branches/unicodekvm@40092 -

M	packages/rtl-console/tests/kbd1.pp

******************************************************************************
commit 59aeb8260345ed2899a780a4352bcaf6e875b339
Author: nickysn <nickysn@gmail.com>
Date:   Mon Oct 29 18:00:17 2018 +0000

    + slight fixes and improvements to the test
    
    git-svn-id: branches/unicodekvm@40089 -

M	packages/rtl-console/tests/kbd1.pp

******************************************************************************
commit 82b2e8a0804fefda6ab19dca1e434d6671ee35eb
Author: nickysn <nickysn@gmail.com>
Date:   Mon Oct 29 17:43:25 2018 +0000

    + added an interactive keyboard unit test
    
    git-svn-id: branches/unicodekvm@40088 -

M	.gitattributes
A	packages/rtl-console/tests/kbd1.pp

******************************************************************************
commit aa7bddc62129bf70e79272e11a492f2b66a15d17
Author: nickysn <nickysn@gmail.com>
Date:   Mon Oct 29 17:34:51 2018 +0000

    + added tests directory
    
    git-svn-id: branches/unicodekvm@40087 -

******************************************************************************
commit b6f0fa055f03a70056f4b9447fde0c880b0233bf
Author: nickysn <nickysn@gmail.com>
Date:   Mon Oct 29 17:33:57 2018 +0000

    + added functions GetEnhancedKeyEvent and PollEnhancedKeyEvent and implemented
      default fallbacks, which revert to calling GetKeyEvent and PollKeyEvent for
      drivers that don't support the enhanced functions
    
    git-svn-id: branches/unicodekvm@40086 -

M	packages/rtl-console/src/inc/keyboard.inc
M	packages/rtl-console/src/inc/keybrdh.inc

******************************************************************************
commit 685d090bf2b5db6671b77e33a39c7594ec42fac3
Author: nickysn <nickysn@gmail.com>
Date:   Mon Oct 29 16:14:01 2018 +0000

    + added GetEnhancedKeyEvent and PollEnhancedKeyEvent to TKeyboardDriver
    
    git-svn-id: branches/unicodekvm@40079 -

M	packages/rtl-console/src/amicommon/keyboard.pp
M	packages/rtl-console/src/go32v2/keyboard.pp
M	packages/rtl-console/src/inc/keybrdh.inc
M	packages/rtl-console/src/msdos/keyboard.pp
M	packages/rtl-console/src/netware/keyboard.pp
M	packages/rtl-console/src/netwlibc/keyboard.pp
M	packages/rtl-console/src/os2commn/keyboard.pp
M	packages/rtl-console/src/unix/keyboard.pp
M	packages/rtl-console/src/win/keyboard.pp
M	packages/rtl-console/src/win16/keyboard.pp

******************************************************************************
commit cee3065f9321d84ce0d76cf6c016a51814077c54
Author: nickysn <nickysn@gmail.com>
Date:   Mon Oct 29 16:00:19 2018 +0000

    + introduced the TEnhancedKeyEvent record
    
    git-svn-id: branches/unicodekvm@40078 -

M	packages/rtl-console/src/inc/keybrdh.inc

******************************************************************************
commit 6a612f90032fe3b129865fcfa59ed5191638faab
Author: nickysn <nickysn@gmail.com>
Date:   Sun Oct 28 17:26:54 2018 +0000

    + created branch for keyboard/video/mouse unit unicode support development
    
    git-svn-id: branches/unicodekvm@40069 -

******************************************************************************
commit b878d461c8e7f1eaa4a928c285f0208ea8f5ad7a
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jul 23 23:23:47 2021 +0000

    * fixed compilation for i8086 and 8-bit targets after r49622. The conditional
      ifdef checks for the ordinal helpers rewritten to be less dependendant on
      defines, such as CPU16/CPU32/CPU64 and instead use sizeof(integer),
      sizeof(nativeint) and sizeof(nativeuint)
    
    git-svn-id: trunk@49634 -

M	rtl/objpas/sysutils/syshelp.inc
M	rtl/objpas/sysutils/syshelph.inc

******************************************************************************
commit f0d92b74c1341cc1d09177718accb889d3791aa3
Author: florian <florian@freepascal.org>
Date:   Fri Jul 23 20:50:39 2021 +0000

      - x86_64: some more fwaits removed
    
    git-svn-id: trunk@49633 -

M	rtl/x86_64/math.inc

******************************************************************************
commit cebf880df914dceb662155d130bc6b565dc65a35
Author: florian <florian@freepascal.org>
Date:   Thu Jul 22 21:15:03 2021 +0000

      * x86-64: fpc_frac_real further improved: memory loads of extendeds are expensive
    
    git-svn-id: trunk@49632 -

M	rtl/x86_64/math.inc

******************************************************************************
commit 0e3d95b589923d8701e9f8c2dcb3cb06e9c27f95
Author: michael <michael@freepascal.org>
Date:   Thu Jul 22 05:53:06 2021 +0000

    * Restored disappeared test
    
    git-svn-id: trunk@49631 -

M	tests/test/units/fmtbcd/tfmtbcd.pp

******************************************************************************
commit c48ac0a71e7dbf1a6072e8ccc16b7430e5e8fe41
Author: michael <michael@freepascal.org>
Date:   Thu Jul 22 05:50:22 2021 +0000

    * Enable TDatasource.Enabled, patch from Laco
    
    git-svn-id: trunk@49630 -

M	packages/fcl-db/src/base/datasource.inc

******************************************************************************
commit fafee8b85b91942bd60adba63c1348a6d89d5177
Author: florian <florian@freepascal.org>
Date:   Wed Jul 21 20:41:31 2021 +0000

      * x86-64: removed some fwait instructions from fpc_frac_real, they shouldn't be necessary
    
    git-svn-id: trunk@49626 -

M	rtl/x86_64/math.inc

******************************************************************************
commit 4fac31d1c76c39926ab0b0f3108a32f0028c8293
Author: michael <michael@freepascal.org>
Date:   Wed Jul 21 15:59:37 2021 +0000

    * Patch by Werner Pamler to improve ISO8601 to datetime conversion
    
    git-svn-id: trunk@49624 -

M	.gitattributes
M	packages/rtl-objpas/src/inc/dateutil.inc
A	tests/test/units/dateutil/tisotodt.pp

******************************************************************************
commit 573917706fb5a5cffd76239e90ef62fdee041f68
Author: michael <michael@freepascal.org>
Date:   Wed Jul 21 15:08:53 2021 +0000

    * Patch from Laco to fix issue #39261
    
    git-svn-id: trunk@49623 -

M	packages/rtl-objpas/src/inc/fmtbcd.pp
M	tests/test/units/fmtbcd/tfmtbcd.pp

******************************************************************************
commit e6a593c5fae1bdf3ff77da7b50e1bfe272a33674
Author: michael <michael@freepascal.org>
Date:   Wed Jul 21 11:36:05 2021 +0000

    * Patch from Zeljko Avramovic to extend ordinal/float helpers
    
    git-svn-id: trunk@49622 -

M	rtl/inc/objpas.inc
M	rtl/objpas/sysutils/syshelp.inc
M	rtl/objpas/sysutils/syshelph.inc
M	rtl/objpas/sysutils/syshelpo.inc

******************************************************************************
commit 415bf22e01cbb676fbefc4de83ee4d18bfa6145e
Author: florian <florian@freepascal.org>
Date:   Mon Jul 19 20:55:41 2021 +0000

      * remove mhs_exceptions in might_have_sideeffects call for C operators: it improves code
        and shouldn't hurt as this is no regression in comparison with current 3.2.x
    
    git-svn-id: trunk@49621 -

M	compiler/pexpr.pas

******************************************************************************
commit 7a8893396d2598628075a4f3e001622d731e1191
Author: florian <florian@freepascal.org>
Date:   Sun Jul 18 21:47:22 2021 +0000

      * revert last commit, avr4 has no call/jmp
    
    git-svn-id: trunk@49620 -

M	compiler/avr/cpuinfo.pas

******************************************************************************
commit eb96734b2062ee19daf54cd52266164d70e84b02
Author: florian <florian@freepascal.org>
Date:   Sun Jul 18 21:41:57 2021 +0000

      * avr4 has mul instructions
    
    git-svn-id: trunk@49619 -

M	compiler/avr/cpuinfo.pas

******************************************************************************
commit 46507f956552ac35f745568284ca6ca7de4f328f
Author: florian <florian@freepascal.org>
Date:   Sun Jul 18 21:40:43 2021 +0000

      * Xtensa: optimize constant multiplications
    
    git-svn-id: trunk@49618 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit db8c723b9d503f0eee1b7058495170b97326752f
Author: florian <florian@freepascal.org>
Date:   Sat Jul 17 21:07:02 2021 +0000

      * Xtensa: unified DataMov2Data optimization
    
    git-svn-id: trunk@49616 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit c67d35b8ccfe8a4de74ea6f33017fbd9f68979b0
Author: florian <florian@freepascal.org>
Date:   Fri Jul 16 21:47:36 2021 +0000

      * patch by J. Gareth Moreton: x86: Minor bitwise optimisations, resolves #39299
    
    git-svn-id: trunk@49614 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 2a2576b1d5c6335deb98c92f51344903e912c7ee
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Jul 15 21:52:27 2021 +0000

    * further fix for Mants #26760: applied patch by Ondrej Pokorny to fix recompilation of units referenced with an "in" clause if no file extension is provided
    + added (interactive) test
    
    git-svn-id: trunk@49613 -

M	.gitattributes
M	compiler/fppu.pas
A	tests/webtbs/tw26760b.pp

******************************************************************************
commit 2629bd7ba92a03ed6b106448b7eae6429b63e94a
Author: florian <florian@freepascal.org>
Date:   Thu Jul 15 20:58:46 2021 +0000

      * patch by J. Gareth Moreton: x86: Lea2Nop for stack pointer, resolves #39225
    
    git-svn-id: trunk@49612 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1c13db554cb9f11246951089bef3647f760ab2f4
Author: florian <florian@freepascal.org>
Date:   Wed Jul 14 21:47:29 2021 +0000

      * patch by Christo Crause: Xtensa [patch] Use syscall 0 to spill registers on ESP32, resolves #39221
    
    git-svn-id: trunk@49609 -

M	rtl/xtensa/xtensa.inc

******************************************************************************
commit 0d6a1d24bd0adb93608b17fff1e956564cc4d975
Author: florian <florian@freepascal.org>
Date:   Tue Jul 13 18:31:38 2021 +0000

      * might_have_sideeffects in gen_c_style_operator as proposed by runewalsh, resolves #39206
    
    git-svn-id: trunk@49608 -

M	.gitattributes
M	compiler/pexpr.pas
A	tests/webtbs/tw39206.pp

******************************************************************************
commit 9394158fe228595a8ede81b3a9f9b69a89aa413d
Author: michael <michael@freepascal.org>
Date:   Tue Jul 13 08:16:14 2021 +0000

    * Test for fix of issue #38489
    
    git-svn-id: trunk@49605 -

M	tests/test/units/fmtbcd/tfmtbcd.pp

******************************************************************************
commit 2486d58db958108a1f1ddfd3b49385e9f53e3c5d
Author: michael <michael@freepascal.org>
Date:   Tue Jul 13 08:15:25 2021 +0000

    * Fix bug ID #38489, patch by Laco
    
    git-svn-id: trunk@49604 -

M	packages/rtl-objpas/src/inc/fmtbcd.pp

******************************************************************************
commit 723371b30a1ab3707e30292e4906cc983f92c0f8
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 23:14:26 2021 +0000

    + added header translation of the shape X11 extension
    
    git-svn-id: trunk@49602 -

M	.gitattributes
M	packages/x11/fpmake.pp
A	packages/x11/src/shape.pp
A	packages/x11/src/shapeconst.inc
A	packages/x11/tests/shape_linktest.pp

******************************************************************************
commit 6c0b79c258dbb242931b90418c458b610ef018ea
Author: florian <florian@freepascal.org>
Date:   Sun Jul 11 20:09:57 2021 +0000

      + AVX512*Support functions
      * call cpuid with eax=7 only if it is supported by the CPU
    
    git-svn-id: trunk@49601 -

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp

******************************************************************************
commit f0a78f48f3ed43d40632c17fbaa8ac8058d35066
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 00:40:08 2021 +0000

    + added link test for the xext unit
    
    git-svn-id: trunk@49597 -

M	.gitattributes
A	packages/x11/tests/xext_linktest.pp

******************************************************************************
commit 296cdf89ef05cdcfddc9d71fe1b84533d5b93aa7
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 00:37:14 2021 +0000

    + added link test for the mitmisc unit
    
    git-svn-id: trunk@49596 -

M	.gitattributes
A	packages/x11/tests/mitmisc_linktest.pp

******************************************************************************
commit 9bc7df23578e59166cb0bfee9097c36587f4acc8
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 00:32:42 2021 +0000

    * fixed filename extension of the xext.pp source file in fpmake.pp
    
    git-svn-id: trunk@49595 -

M	packages/x11/fpmake.pp

******************************************************************************
commit 2247691e71814b68089dec04bd0b7f4b804d6700
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 00:30:03 2021 +0000

    + added unit mitmisc
    
    git-svn-id: trunk@49594 -

M	.gitattributes
M	packages/x11/fpmake.pp
A	packages/x11/src/mitmisc.pp
A	packages/x11/src/mitmiscconst.inc

******************************************************************************
commit dfaa12e9d907cb7a8923cd6431e0817a6aa653a6
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jul 11 00:03:28 2021 +0000

    * use prettier parameter names in the XShm unit
    
    git-svn-id: trunk@49593 -

M	packages/x11/src/xshm.pp

******************************************************************************
commit d16160be915fc86a6ba634f9ea8500255ff996c9
Author: florian <florian@freepascal.org>
Date:   Sat Jul 10 20:29:00 2021 +0000

      * patch by J. Gareth Moreton: CMP chain shortcutting, resolves #39141
    
    git-svn-id: trunk@49592 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d7b509e1498336660abaa1e35ca179c724861140
Author: nickysn <nickysn@gmail.com>
Date:   Sat Jul 10 12:25:46 2021 +0000

    + added Xext.h header translation
    
    git-svn-id: trunk@49591 -

M	.gitattributes
M	packages/x11/fpmake.pp
A	packages/x11/src/xext.pp

******************************************************************************
commit c185ce02cc24c43f5213563669fce7c2c9727747
Author: florian <florian@freepascal.org>
Date:   Fri Jul 9 20:58:42 2021 +0000

      * patch by J. Gareth Moreton: x86: RegLoadedWIthNewValue overhaul and bug fix, resolves #39187
    
    git-svn-id: trunk@49588 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 924f9466f0219cab6ea5c52da9b5676c97f9cf5d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 9 15:52:00 2021 +0000

    * fix for Mantis #26760: apply patch by Ondrej Pokorny to ensure that units referenced by an "in"-clause are recompiled when they have been changed
    + added test (though due to the nature of the bug it needs to be interactive)
    
    git-svn-id: trunk@49587 -

M	.gitattributes
M	compiler/fppu.pas
A	tests/webtbs/tw26760.pp
A	tests/webtbs/uw26760/uw26760.pp

******************************************************************************
commit cb0f422eb1f04ba531b1acdc0212194eb1c565e6
Author: florian <florian@freepascal.org>
Date:   Thu Jul 8 20:40:10 2021 +0000

      * patch by J. Gareth Moreton: x86: MovMovSar2MovCltd bug fix, resolves #39180
    
    git-svn-id: trunk@49586 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5ca73c61f4d95f688a592a93cea607417a734c9c
Author: florian <florian@freepascal.org>
Date:   Wed Jul 7 20:26:59 2021 +0000

      + CPU.BMI1Support and CPU.BMI2Support
    
    git-svn-id: trunk@49582 -

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp

******************************************************************************
commit 229506acd06f531f56c3d0e61b9eea02a6f2a385
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jul 6 21:16:04 2021 +0000

    * fix for Mantis #39147: apply adjusted patch (especially more paranoid checks) from Serge Anvarov
    
    git-svn-id: trunk@49581 -

M	rtl/win/sysutils.pp

******************************************************************************
commit ea47cb313def016b4f6359126d45ba9da4054411
Author: florian <florian@freepascal.org>
Date:   Tue Jul 6 20:55:41 2021 +0000

      * patch by J. Gareth Moreton: improve MovAndTest2Test optimization, resolves #39156
    
    git-svn-id: trunk@49580 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7d6b01bfc429e2bc70eaf7449a2f899f0ce4b0dd
Author: florian <florian@freepascal.org>
Date:   Mon Jul 5 21:07:46 2021 +0000

      + SHXXMov2SHXX optimization
    
    git-svn-id: trunk@49579 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 7a4110cca91f7fcb4097d156104bf7e12021bc52
Author: florian <florian@freepascal.org>
Date:   Sun Jul 4 20:46:02 2021 +0000

      * DeepMovOpt requires that the target reg of the mov is not modified before hp2
    
    git-svn-id: trunk@49577 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 94a15faa7f435b1b8a5e0776446b2352b0359065
Author: florian <florian@freepascal.org>
Date:   Sat Jul 3 21:05:27 2021 +0000

      * patch by J. Gareth Moreton to fix faulty conditional jump logic, resolves #38985
    
    git-svn-id: trunk@49576 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit b463d511bfbbc7bd3a4570c7c4d56ad3d5127884
Author: florian <florian@freepascal.org>
Date:   Fri Jul 2 20:00:33 2021 +0000

      * serial handles higher baudrates if constants are available
    
    git-svn-id: trunk@49575 -

M	packages/rtl-extra/src/unix/serial.pp

******************************************************************************
commit f0543ad8d523e40068359ddc096ad120c55cb5db
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jul 1 01:48:25 2021 +0000

    * use -1 instead of 0 for indicating empty DirFD
    
    git-svn-id: trunk@49574 -

M	rtl/wasi/dos.pp

******************************************************************************
commit 0219b4018cc400bb18f8ea3a924a5a0775186408
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jul 1 01:34:07 2021 +0000

    + initial working implementation of FindFirst/FindNext
    
    git-svn-id: trunk@49573 -

M	rtl/wasi/dos.pp

******************************************************************************
commit 49ff6f512693b6c6a0ef94822ccc31be0d4a2595
Author: florian <florian@freepascal.org>
Date:   Wed Jun 30 21:01:48 2021 +0000

      * patch by Alfred to fix cross building to darwin, resolves #39109
    
    git-svn-id: trunk@49572 -

M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc

******************************************************************************
commit 1e6952264b61d66f62db499f9ffbf405f7f4bcd2
Author: michael <michael@freepascal.org>
Date:   Wed Jun 30 10:10:38 2021 +0000

    * BitSizeOf Documentation sub (issue #39110)
    
    git-svn-id: trunk@49571 -

M	rtl/inc/system.fpd

******************************************************************************
commit aca327d7873f16e89b3ed89846c1a91b6e2cf0ca
Author: florian <florian@freepascal.org>
Date:   Tue Jun 29 21:09:31 2021 +0000

      + added baud rate constants for arm as proposed by Piotr Kardasz in #39101
    
    git-svn-id: trunk@49570 -

M	rtl/linux/termios.inc

******************************************************************************
commit 51326e94f38d72e89bc833c60e20df237502d811
Author: florian <florian@freepascal.org>
Date:   Mon Jun 28 20:35:33 2021 +0000

      * allow char constant to be used for const string parameters in generic specializations, resolves #39030
    
    git-svn-id: trunk@49569 -

M	.gitattributes
M	compiler/pgenutil.pas
A	tests/webtbs/tw39030.pp

******************************************************************************
commit ce1f9cce01e1f58859886593ea04e5a5bfd0da32
Author: florian <florian@freepascal.org>
Date:   Sun Jun 27 21:21:19 2021 +0000

      * throw an error if esp/rsp are used as index register
    
    git-svn-id: trunk@49568 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/aasmcpu.pas
A	tests/tbf/tb0275.pp

******************************************************************************
commit ba1b0883c2771b3a4b9e5ab3954d2a9ea960cad6
Author: florian <florian@freepascal.org>
Date:   Sun Jun 27 20:51:03 2021 +0000

      * r/esp cannot be used as index register
    
    git-svn-id: trunk@49567 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 48f259589b47fb1eaf3adf9fbed517f9f21f06d4
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sat Jun 26 16:05:37 2021 +0000

    fpSQLParser: fix float literal parsing (make it locale-independent)
    
    git-svn-id: trunk@49564 -

M	packages/fcl-db/src/sql/fpsqlparser.pas

******************************************************************************
commit 51996d628079dbbf5f6aa74d55674a1ba1bad2d3
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sat Jun 26 08:46:38 2021 +0000

    Amiga video unit: fixed not initialized TInputEvent field, 2nd try, now the deadkeys actually work as they should
    
    git-svn-id: trunk@49562 -

M	packages/rtl-console/src/amicommon/keyboard.pp

******************************************************************************
commit 4236bee6f1832b11845869ffe99cb8ea0a96a230
Author: florian <florian@freepascal.org>
Date:   Fri Jun 25 21:15:08 2021 +0000

      * win64: factored out cpu specific code
    
    git-svn-id: trunk@49561 -

M	.gitattributes
M	rtl/win64/Makefile
M	rtl/win64/Makefile.fpc
A	rtl/win64/aarch64/cpuwin.inc
M	rtl/win64/system.pp
A	rtl/win64/x86_64/cpuwin.inc

******************************************************************************
commit 820e0dddcdce4beac67320a4a3d683f00db46883
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Jun 25 16:37:38 2021 +0000

    Amiga video unit: fixed not initialized TInputEvent field
    
    git-svn-id: trunk@49560 -

M	packages/rtl-console/src/amicommon/keyboard.pp

******************************************************************************
commit d7a9a7319493dcd61d41e68b3baedcaf9442ec5a
Author: florian <florian@freepascal.org>
Date:   Thu Jun 24 20:02:26 2021 +0000

      + stack pages need to be touched on aarch64-win64 as well
    
    git-svn-id: trunk@49559 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 5eac35664fa0a3df98a3fa7b6bbe8c129e5fe7c0
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jun 24 01:35:24 2021 +0000

    + started working on DOS.FindFirst
    
    git-svn-id: trunk@49555 -

M	rtl/wasi/dos.pp

******************************************************************************
commit 73aa30ee0ad204f280309e9e36102d75f847cc3c
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jun 24 00:27:15 2021 +0000

    * set the exeext for WASI properly in dotest.pp
    
    git-svn-id: trunk@49554 -

M	tests/utils/dotest.pp

******************************************************************************
commit 618237a1c75ec3d2c19cc26ef9f9595084b7bc10
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jun 24 00:17:52 2021 +0000

    * update revision.inc
    
    git-svn-id: trunk@49553 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 433050a2c41069ba5dd519058e47166aba1adfc5
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jun 24 00:16:00 2021 +0000

    * set EXEEXT to .wasm for the WASI target in fpcmake
    
    git-svn-id: trunk@49552 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-mustache/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit afb9c2ae94e020a1061aaeaaf8d44bff2b95e797
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 23:15:15 2021 +0000

    + implemented environment variables support in the DOS unit for the WASI target
    
    git-svn-id: trunk@49551 -

M	rtl/wasi/dos.pp
M	rtl/wasi/system.pp

******************************************************************************
commit c275c3c7f2df5eaaaf1080d5685280062db1d246
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 22:11:11 2021 +0000

    + implemented Randomize
    
    git-svn-id: trunk@49550 -

M	rtl/wasi/system.pp

******************************************************************************
commit 4240279a848b8cc4dffb4dba278d3c1c1be60bb7
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:48:10 2021 +0000

    + always request pollfd_readwrite rights, when opening a file
    
    git-svn-id: trunk@49549 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit ca3f1d7b6d507c5f4f3e4d681b85cb9ad51b659d
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:45:52 2021 +0000

    + always request FD_ADVISE rights, when opening a file
    
    git-svn-id: trunk@49548 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 5ff2af5176ecef0e9f0deda6a007089f82d5840f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:44:19 2021 +0000

    + always request FD_FDSTAT_SET_FLAGS rights
    
    git-svn-id: trunk@49547 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 90eb1351dcf77267e4a02a699b6f21ad2995ab2b
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:42:49 2021 +0000

    + request FD_DATASYNC and FD_SYNC rights when a file is opened for writing
    
    git-svn-id: trunk@49546 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 67c152092835268be95e6e35f1f31b50d6546bbd
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:41:12 2021 +0000

    * changed the formatting of the setting of fs_rights_base in Do_Open. No functional changes.
    
    git-svn-id: trunk@49545 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 9efcd4e5548637e8c970dd693bd52b4c859ceeee
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:39:10 2021 +0000

    + request fd_allocate rights when opening a file for writing
    
    git-svn-id: trunk@49544 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 3fd6704582a29832f9aa518bd7a178cff083aef7
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:36:22 2021 +0000

    + request the rights to set size (truncate) and set times, when a file is opened for writing
    
    git-svn-id: trunk@49543 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit a5309a5d0cdeb9791a4ac59f666aca5628ed6f0a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:31:55 2021 +0000

    + request fd_seek and fd_tell rights when opening a file
    
    git-svn-id: trunk@49542 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 720068360ea09dac6fcd35dd47e763baa5805c6b
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:22:15 2021 +0000

    + workaround for newer wasmtime versions that don't report the fd type of
      stdin/stdout/stderr. Always assume handles 0..2 are a device, so that
      standard input and output are flushed.
    
    git-svn-id: trunk@49541 -

M	rtl/wasi/sysos.inc

******************************************************************************
commit 827f543289dd3f8ff80c09d36cad489b583c3410
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 21:01:30 2021 +0000

    * fixed date calculation in WasiDateToDT
    
    git-svn-id: trunk@49540 -

M	rtl/wasi/dos.pp

******************************************************************************
commit c48f27225e0ca6dccbcba86f3000f48f374df7a4
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 20:58:10 2021 +0000

    + request the FD_FILESTAT_GET capability when opening files
    
    git-svn-id: trunk@49539 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 25a9843ea4488a7fcd462ba7a20964c20933e96f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 20:57:50 2021 +0000

    * also set doserror to 5 for access denied in dos.getfattr
    
    git-svn-id: trunk@49538 -

M	rtl/wasi/dos.pp

******************************************************************************
commit 953893267bb45dc8179f55da4c4c203468b2777c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 20:04:03 2021 +0000

    + initial WASI implementation of DOS.GetFTime. Not working yet, due to a
      compiler bug, related to the import of fd_filestat_get from the wasiapi unit.
    
    git-svn-id: trunk@49536 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
M	rtl/wasi/dos.pp

******************************************************************************
commit ba1dcfc6a4136c6b8154ba16d05d977553b30160
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 15:44:17 2021 +0000

    + also resolve absolute paths in ConvertToFdRelativePath
    
    git-svn-id: trunk@49535 -

M	rtl/wasi/system.pp

******************************************************************************
commit 615e1c0431038c38ed1a2fc7710129438d05fe2a
Author: pierre <pierre@freepascal.org>
Date:   Wed Jun 23 14:37:34 2021 +0000

     Only set llvm to true if LLVM custom option variable is set, but not to false if not (as true might be the default value)
    
    git-svn-id: trunk@49534 -

M	packages/ide/fpmake.pp

******************************************************************************
commit 125dbdc21cd23fe9f4184d3c2444b1291439b154
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 00:30:47 2021 +0000

    + implemented Do_Rename for the WASI target
    
    git-svn-id: trunk@49532 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 539ea53babd8f10c5e1b2a2404bf2e2639a6ceeb
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 00:20:48 2021 +0000

    + implemented Do_Seek and Do_Seekend for the WASI target
    
    git-svn-id: trunk@49531 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 17fac45ddce93a1769433e72688eddea046cd597
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 00:12:22 2021 +0000

    + implemented Do_FileSize for the WASI target
    
    git-svn-id: trunk@49530 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 5718b33dd868a8266c933a51547e168a301a7ca0
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 23 00:03:44 2021 +0000

    + implemented Do_FilePos for the WASI target
    
    git-svn-id: trunk@49529 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 5ee902800cf318036eb74044e4e87ecc542b080f
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 23:57:39 2021 +0000

    + implemented do_truncate for the WASI target
    
    git-svn-id: trunk@49528 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit a7b3747b7beac97be48a3d868355c6dd564853f9
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 23:52:22 2021 +0000

    + implemented Erase() for the WASI target
    
    git-svn-id: trunk@49527 -

M	rtl/wasi/sysfile.inc

******************************************************************************
commit 0af333bd0f04010aa86fca053d29b8c53bb01796
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 23:36:30 2021 +0000

    + implemented RmDir for the WASI target
    
    git-svn-id: trunk@49526 -

M	rtl/wasi/sysdir.inc

******************************************************************************
commit 144d7ed97896b31ce9c18cddbeb3ffb998aec35d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 23:33:54 2021 +0000

    + implemented MkDir for the WASI target
    
    git-svn-id: trunk@49525 -

M	rtl/wasi/sysdir.inc

******************************************************************************
commit bc08af99b04772a62fdae261eeb9ddfa8c147fed
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 23:14:33 2021 +0000

    + initial implementation of resolving relative paths
    
    git-svn-id: trunk@49524 -

M	rtl/wasi/sysfile.inc
M	rtl/wasi/system.pp

******************************************************************************
commit ba3383f7e350afb3ca07b3ed50941edbd4170604
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 22:44:20 2021 +0000

    + keep also the fds for the current dirs
    
    git-svn-id: trunk@49523 -

M	rtl/wasi/system.pp

******************************************************************************
commit d3ce008cd3c8069b1b9cfae5f989c52c756a89ee
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 22:35:32 2021 +0000

    + initial implementation of GetDir() for WASI
    
    git-svn-id: trunk@49522 -

M	rtl/wasi/sysdir.inc
M	rtl/wasi/system.pp

******************************************************************************
commit 0a384b09058aab280c58752a46916d8e53cd71e2
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 22 20:51:19 2021 +0000

    * enumerate preopened dirs on startup and store them in a list, accessible via global vars in the system unit
    
    git-svn-id: trunk@49521 -

M	rtl/wasi/system.pp

******************************************************************************
commit bbcc3966445438e2d97e07d21491a83e9b0bbb99
Author: florian <florian@freepascal.org>
Date:   Mon Jun 21 21:36:32 2021 +0000

      * ARM: fix for Merge Add/Sub optimization
    
    git-svn-id: trunk@49520 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 356afdd25bd80af7c674633df6eda10826dbbf4b
Author: florian <florian@freepascal.org>
Date:   Sun Jun 20 18:14:30 2021 +0000

      * ARM (thumb): do not save registers in routines marked as noreturn
    
    git-svn-id: trunk@49519 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 15f25da1fa4d295e642fd79fd1fd6b1a9cdd484b
Author: michael <michael@freepascal.org>
Date:   Sun Jun 20 08:06:08 2021 +0000

    * Fix issue ID #0039024, potential wrong write
    
    git-svn-id: trunk@49518 -

M	packages/paszlib/src/zipper.pp

******************************************************************************
commit 492a0ffcac7035e9f096e353db41bacabedcc91d
Author: michael <michael@freepascal.org>
Date:   Sun Jun 20 08:00:01 2021 +0000

    * Better precision for samedatetime. Issue ID #39023, patch by Zoran Vučenović
    
    git-svn-id: trunk@49517 -

M	packages/rtl-objpas/src/inc/dateutil.inc

******************************************************************************
commit 436b8c212154e4935b3f030e92169a639db7895c
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Jun 18 17:05:09 2021 +0000

    AROS: some fixes for AVL_ functions, added missing NewCreateTaskA
    
    git-svn-id: trunk@49516 -

M	packages/arosunits/src/exec.pas

******************************************************************************
commit 810e62b7c9ab3e56f6c49e4a2a5b2b297dfbfd0e
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Jun 18 16:35:05 2021 +0000

    Amiga, MorphOS, AROS: unified function results to LongBool in amigados unit, correct type for GFXBase
    
    git-svn-id: trunk@49515 -

M	packages/amunits/src/coreunits/agraphics.pas
M	packages/amunits/src/coreunits/amigados.pas
M	packages/arosunits/src/amigados.pas
M	packages/morphunits/src/agraphics.pas
M	packages/morphunits/src/amigados.pas
M	packages/os4units/src/amigados.pas
M	packages/rtl-console/src/amicommon/crt.pp

******************************************************************************
commit ddb572513c5530c024a83801b13227b6b2ce5578
Author: florian <florian@freepascal.org>
Date:   Fri Jun 18 16:15:19 2021 +0000

      + LICENSE and README.md added, taken from git test conversion as committed by Michael
    
    git-svn-id: trunk@49514 -

M	.gitattributes
A	LICENSE
A	README.md

******************************************************************************
commit 50648f2a6052a27c6ab8591c5817d63c830aa0ff
Author: florian <florian@freepascal.org>
Date:   Thu Jun 17 21:12:08 2021 +0000

      + ARM: PushPop optimziation
    
    git-svn-id: trunk@49510 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit ce2984e16abac4c2b1ee1ab11d19a9edff8bf25b
Author: pierre <pierre@freepascal.org>
Date:   Wed Jun 16 21:04:25 2021 +0000

     Fix compilation of tiso8601 test by adding -Mobjfpc option
    
    git-svn-id: trunk@49509 -

M	tests/test/units/dateutil/tiso8601.pp

******************************************************************************
commit e1d9d1be0aa9b4029bdd144bb97374c3bf559d5a
Author: florian <florian@freepascal.org>
Date:   Wed Jun 16 19:53:56 2021 +0000

      + Merge Add/Sub optimization
    
    git-svn-id: trunk@49508 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit f3e7d96053a43b661ef1604e8fe52d222e764a47
Author: michael <michael@freepascal.org>
Date:   Wed Jun 16 09:33:45 2021 +0000

    * Fix issue #39009, remove size 20 limit on float types
    
    git-svn-id: trunk@49507 -

M	packages/fcl-db/src/dbase/dbf_fields.pas

******************************************************************************
commit 3f8aeadb916de0d20cdef18897275c348133e90a
Author: florian <florian@freepascal.org>
Date:   Tue Jun 15 20:09:46 2021 +0000

      * do not generate exit code for arm (thumb and thumb-2) if a routine is marked as noreturn
    
    git-svn-id: trunk@49506 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 2c418b988cbfd4d9737fb34f6c81c52bd32c0bcc
Author: florian <florian@freepascal.org>
Date:   Tue Jun 15 19:52:07 2021 +0000

      * use smaller alignment when generating thumb code
    
    git-svn-id: trunk@49505 -

M	compiler/options.pas

******************************************************************************
commit c19355198034141ea35c2e75cc148052e677618b
Author: florian <florian@freepascal.org>
Date:   Tue Jun 15 19:34:39 2021 +0000

      * HaltProc does not return
    
    git-svn-id: trunk@49504 -

M	rtl/embedded/arm/cortexm0_start.inc
M	rtl/embedded/arm/cortexm3_start.inc

******************************************************************************
commit 7ee31ae252e6796fc32a3e1de90193e6f936920a
Author: florian <florian@freepascal.org>
Date:   Tue Jun 15 19:05:34 2021 +0000

      * optimization "Merging stores: STR/STR -> STM" cannot be carried out when generating thumb code
    
    git-svn-id: trunk@49503 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 4e159b3d455d51054b400595723f80c76998327e
Author: florian <florian@freepascal.org>
Date:   Mon Jun 14 21:32:35 2021 +0000

      * set no result in NoBeginThread, it never returns
    
    git-svn-id: trunk@49502 -

M	rtl/embedded/systhrd.inc

******************************************************************************
commit 2e086a25703995d5f636025fd9d478988c261104
Author: florian <florian@freepascal.org>
Date:   Mon Jun 14 21:24:18 2021 +0000

    + skeleton of an embedded thread manager
    
    git-svn-id: trunk@49501 -

M	rtl/embedded/system.pp
M	rtl/embedded/systhrd.inc

******************************************************************************
commit 8608b82c015f13461728170613e4eafbcad067aa
Author: pierre <pierre@freepascal.org>
Date:   Mon Jun 14 08:58:59 2021 +0000

     Re-generate Makefile after wrong commit #49495, fixes bug report 39001
    
    git-svn-id: trunk@49500 -

M	packages/ide/Makefile

******************************************************************************
commit 776667366feec2f8f00a81ba8d3f016730fd1e5d
Author: florian <florian@freepascal.org>
Date:   Sun Jun 13 20:46:46 2021 +0000

      * patch by J. Gareth Moreton: ARM - str/str -> stm optimisation, second part of #38975
    
    git-svn-id: trunk@49499 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 9d2e71ff699c447a2fc954ef15928f6697d60a8e
Author: florian <florian@freepascal.org>
Date:   Sat Jun 12 20:45:15 2021 +0000

      * patch by Alfred to use new linker names for Android NDK >=22, resolves #38987
    
    git-svn-id: trunk@49498 -

M	compiler/systems/t_android.pas

******************************************************************************
commit 97b2f7a5e13190319754c19a688e000f8a6f50d7
Author: pierre <pierre@freepascal.org>
Date:   Fri Jun 11 11:58:47 2021 +0000

     Exchange REQUIREDVERSION and REQUIREDVERSION2 values to get 3.2.2 version in reuired release version message
    
    git-svn-id: trunk@49496 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit 9374155344b33b1880042527540133700e286089
Author: pierre <pierre@freepascal.org>
Date:   Fri Jun 11 08:49:24 2021 +0000

     Add --NOLLVM and use LLVM by default of compiler is llvm variant
    
    git-svn-id: trunk@49495 -

M	packages/ide/Makefile
M	packages/ide/Makefile.fpc
M	packages/ide/fpmake.pp

******************************************************************************
commit 464730dc44dbffcdd9fb0d3ef0847e7f0a04c633
Author: florian <florian@freepascal.org>
Date:   Thu Jun 10 20:26:17 2021 +0000

      + patch by J. Gareth Moreton: New label debugging feature, resolves #38980
    
    git-svn-id: trunk@49494 -

M	compiler/aggas.pas

******************************************************************************
commit 214936b90e2f67c323cc530a4f022d3ab957e2ed
Author: florian <florian@freepascal.org>
Date:   Wed Jun 9 18:31:52 2021 +0000

      * patch by J. Gareth Moreton: refactoring to standardise the "Peephole Optimization: " prefix on peephole debug messages, part of #38975
    
    git-svn-id: trunk@49493 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 134bc7eb423c398b8ae1d1b93b105c2d1dc66667
Author: florian <florian@freepascal.org>
Date:   Mon Jun 7 21:20:43 2021 +0000

      * ARM: split TCpuThumb2AsmOptimizer.PeepHoleOptPass1Cpu
    
    git-svn-id: trunk@49489 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit e41c1ec118deaa1a65b58a933dc962699a932c9b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 6 20:51:46 2021 +0000

    * fix test so that it will work correctly on non-Windows as well
    
    git-svn-id: trunk@49488 -

M	tests/test/tcustomvar1.pp

******************************************************************************
commit 2b3edb2c53ec39856b771cee3717044c93164ec3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 6 17:06:24 2021 +0000

    * in the default exception handler add the captured exception to the exception object stack as well
    + added test (needs to work with any exception handling mechanism; currently tested with SetJmp/LongJmp, SEH 32-bit and SEH 64-bit based exception handling)
    
    git-svn-id: trunk@49486 -

M	.gitattributes
M	rtl/win32/seh32.inc
A	tests/test/texception11.pp

******************************************************************************
commit b3ced4de97192b965f90325e14466e7f247d8bd9
Author: michael <michael@freepascal.org>
Date:   Sun Jun 6 12:49:37 2021 +0000

    * Test from werner pamler for issue #38968
    
    git-svn-id: trunk@49485 -

M	.gitattributes
A	tests/test/units/dateutil/tiso8601.pp

******************************************************************************
commit aedd0e4518c0517a9791be003e9a87ee5243c00d
Author: michael <michael@freepascal.org>
Date:   Sun Jun 6 12:47:49 2021 +0000

    * Fix issue #38968, patch from Werner Pamler to fix fractional seconds in IS8061conversion
    
    git-svn-id: trunk@49484 -

M	packages/rtl-objpas/src/inc/dateutil.inc

******************************************************************************
commit 40e1a09e6c73c245cbc1bb3ea1b97a0816fb29e8
Author: florian <florian@freepascal.org>
Date:   Sat Jun 5 21:14:30 2021 +0000

      * improved AndUtxh2And optimization
    
    git-svn-id: trunk@49483 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit be1461654f507d8210fca21236e7b5d6c3e9e1ba
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 5 17:44:00 2021 +0000

    - remove unused copy of tw17904 (wrong extension)
    
    git-svn-id: trunk@49482 -

M	.gitattributes
D	tests/webtbs/tw17904.pas

******************************************************************************
commit e89e87372e90016506c9a0bb904bc3e4ade3032e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 5 17:43:57 2021 +0000

    + add a test for Variant dispatch and the generated call description format (this is for the previous three fixes)
    
    git-svn-id: trunk@49481 -

M	.gitattributes
A	tests/test/tcustomvar1.pp

******************************************************************************
commit 6e4984184b94547a91ffdd96dc47046377693a0d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 5 17:43:53 2021 +0000

    * for variant dispatch calls, use the parameter name in source case, not upper case
    
    git-svn-id: trunk@49480 -

M	compiler/pexpr.pas

******************************************************************************
commit 04ebdf8df81632e5e3e8dd13d80dba4c75ea9c3f
Author: pierre <pierre@freepascal.org>
Date:   Sat Jun 5 06:47:46 2021 +0000

     Fix compilation for x86_64 llvm variant
    
    git-svn-id: trunk@49477 -

M	compiler/llvm/agllvm.pas

******************************************************************************
commit 4483343d00693632b120151f8ea67abf2a2c2d5f
Author: pierre <pierre@freepascal.org>
Date:   Fri Jun 4 21:15:46 2021 +0000

    Return -1 if size of file is smaller tham header size in tppufile.readheader method
    
    git-svn-id: trunk@49476 -

M	compiler/ppu.pas

******************************************************************************
commit aadcb0097781d53e6b555da644d3dc05dcb5f3a8
Author: pierre <pierre@freepascal.org>
Date:   Fri Jun 4 21:14:34 2021 +0000

     Add -march option to clang call for llvm target
    
    git-svn-id: trunk@49475 -

M	compiler/llvm/agllvm.pas

******************************************************************************
commit 33b29b0df4454ea4fde0782c6542668b324780b5
Author: Mattias Gaertner <nc-gaertnma@netcologne.de>
Date:   Thu Jun 3 15:37:44 2021 +0000

    pastojs: low/high(astring)
    
    git-svn-id: trunk@49472 -

M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/tests/tcresolver.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jsfiler.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit d2e2ac5181619d7676b2a02c4f4d103f3f841162
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Jun 3 15:26:26 2021 +0000

    odbc: fix comments
    
    git-svn-id: trunk@49471 -

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit 3fa35f258b7b0d5049f6f7b5c55c029f72b2eb1a
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Jun 3 15:22:49 2021 +0000

    odbc: use ftMemo/ftWideMemo for SQL_VARCHAR/SQL_WVARCHAR declared as nvarchar(max)
    
    git-svn-id: trunk@49470 -

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit e841e95390eecdfc83dd7747597d3bc15195f171
Author: florian <florian@freepascal.org>
Date:   Wed Jun 2 20:03:55 2021 +0000

      * aarch64-darwin supports unaligned memory access, confirmed by testing with clang 12
    
    git-svn-id: trunk@49469 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit e6e49baed14c826a83e384fca0e29e739d3aef22
Author: pierre <pierre@freepascal.org>
Date:   Wed Jun 2 20:00:28 2021 +0000

     Add A_CALL to the list of instructions considered as a calljmp, even though it is a pseudo-instruction, fixes a long list of -O3 and -O4 testsuite failures
    
    git-svn-id: trunk@49468 -

M	compiler/riscv32/cpubase.pas
M	compiler/riscv64/cpubase.pas

******************************************************************************
commit c2c7982a22f940366468c2b78e6625739d584be4
Author: pierre <pierre@freepascal.org>
Date:   Wed Jun 2 19:58:38 2021 +0000

     Fix check that third parameter of ADDI hp1 instruction is a constant
    
    git-svn-id: trunk@49467 -

M	compiler/riscv/aoptcpurv.pas

******************************************************************************
commit 5dd48078a65fee0363c11b44e80bc72b4b194bba
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:26:22 2021 +0000

    + enabled package fcl-registry for the WASI target
    
    git-svn-id: trunk@49465 -

M	packages/fcl-registry/fpmake.pp

******************************************************************************
commit 378b5f73a5e5d74b2504828dcba698475a56d245
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:23:31 2021 +0000

    + enabled package fcl-stl for the WASI target
    
    git-svn-id: trunk@49464 -

M	packages/fcl-stl/fpmake.pp

******************************************************************************
commit 56aa1e1bbe51ecf1143700e03119cfcccfd834a1
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:17:33 2021 +0000

    + enabled the regexpr package for the WASI target
    
    git-svn-id: trunk@49463 -

M	packages/regexpr/fpmake.pp

******************************************************************************
commit 7c09f0be9673f9b95326ed2a442e496f011b50a4
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:14:28 2021 +0000

    + enabled the fcl-sound package for the WASI target
    
    git-svn-id: trunk@49462 -

M	packages/fcl-sound/fpmake.pp

******************************************************************************
commit 14ec15be7b0f91cc2892928e38380f8f98b16308
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:11:54 2021 +0000

    + enabled the fcl-xml package for the WASI target
    
    git-svn-id: trunk@49461 -

M	packages/fcl-xml/fpmake.pp

******************************************************************************
commit 5b192cb82a38a4960734493e781827d34124f14a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:09:41 2021 +0000

    + enabled the hash package for the WASI target
    
    git-svn-id: trunk@49460 -

M	packages/hash/fpmake.pp

******************************************************************************
commit 1eec91056173d563a084787159f1607c1e712b39
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:06:40 2021 +0000

    + enabled compilation of fcl-base for the WASI target
    
    git-svn-id: trunk@49459 -

M	packages/fcl-base/fpmake.pp

******************************************************************************
commit eed9bc1f356acc9da3471b862ae0b35e8fca0908
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 23:04:41 2021 +0000

    + enabled several rtl-objpas units for the WASI target
    
    git-svn-id: trunk@49458 -

M	packages/rtl-objpas/fpmake.pp

******************************************************************************
commit 385c130e8d0f1f2035dd1f9059879e3b80cf5f3c
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:58:56 2021 +0000

    + enabled some rtl-extra units on the WASI target (matrix, ucomplex, objects)
    
    git-svn-id: trunk@49457 -

M	packages/rtl-extra/fpmake.pp

******************************************************************************
commit cdd7aaf2eb015e2f60a49b263bee54d74998c0ef
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:50:19 2021 +0000

    + compile the unicode collations and extra code pages for the WASI target
    
    git-svn-id: trunk@49456 -

M	packages/rtl-unicode/fpmake.pp

******************************************************************************
commit e00dca144860bb2c8d5e25d4d57f54853700ddde
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:43:01 2021 +0000

    + enabled compilation of unit extpas for the WASI target
    
    git-svn-id: trunk@49455 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit e830ed6cbc39f0b8899447a1e9f732aaccd49eba
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:38:54 2021 +0000

    + compile the unit dos (OS-specific functions are dummies for now) for the WASI target
    
    git-svn-id: trunk@49454 -

M	.gitattributes
M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
A	rtl/wasi/dos.pp

******************************************************************************
commit de7ebe219c562ddc18e07c9f437d25cd42c3e1d6
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:22:45 2021 +0000

    + enabled compilation of unit uuchar for the WASI platform
    
    git-svn-id: trunk@49453 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit fa7444a0d81bea369311fbc3b353bd5ffcdd993a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 22:16:16 2021 +0000

    + enabled compilation of unit classes for the WASI target
    
    git-svn-id: trunk@49452 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit c69649782a27d9234c3c9d4f6f066fdb67a1e0e4
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 21:58:02 2021 +0000

    + added tthread.inc rtl include file for WASI
    
    git-svn-id: trunk@49450 -

M	.gitattributes
A	rtl/wasi/tthread.inc

******************************************************************************
commit c02b43fb93381fec8823752d0ac24e76e143868b
Author: florian <florian@freepascal.org>
Date:   Tue Jun 1 21:16:52 2021 +0000

      * change fma cpu flag into an fpu flag
    
    git-svn-id: trunk@49448 -

M	compiler/i386/cpuinfo.pas
M	compiler/options.pas
M	compiler/x86/nx86add.pas
M	compiler/x86/nx86inl.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 84b3036574bfcc4acb20b211afd2ae9df63f8f50
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 20:32:10 2021 +0000

    + added classes unit for the WASI target (not yet enabled in the makefiles)
    
    git-svn-id: trunk@49446 -

M	.gitattributes
A	rtl/wasi/classes.pp

******************************************************************************
commit 9bebe9bcb7cc581f700600cfd0f3b9b100154bd0
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 20:19:16 2021 +0000

    + enabled compilation of unit fpwidestring for the WASI target
    
    git-svn-id: trunk@49445 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 3d56f75ba7ac99a0bb6527b860209dda548a287d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 20:14:58 2021 +0000

    + enabled compilation of units unicodedata and unicodenumtable for the WASI target
    * fixed the dependencies of unit character
    
    git-svn-id: trunk@49444 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit d6fc3129b390702dc0ebf94a07ef44032402a343
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 20:02:36 2021 +0000

    + enabled compilation of unit character for the WASI target
    
    git-svn-id: trunk@49443 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit cf857a22eec513f3d131912a7d53c4239fc8924b
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:38:02 2021 +0000

    + enabled compilation of unit cpall for the WASI target
    
    git-svn-id: trunk@49442 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 47b664ba92ac1e129b9401d7c0b1a0265f68c4a0
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:34:31 2021 +0000

    + enabled compilation of unit charset for the WASI target
    
    git-svn-id: trunk@49441 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 2a688eb948ac869dbf4165d2315e563b9d790e17
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:30:23 2021 +0000

    + enabled compilation of unit getopts for the WASI target
    
    git-svn-id: trunk@49440 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit a7dfbf012441cd54a960c7c1c153ca1a4f77582e
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:25:42 2021 +0000

    + enabled compilation of unit iso7185 for the WASI target
    
    git-svn-id: trunk@49439 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 1e34f047291dcf6140f89250d85a7b5fa5f907fe
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:20:40 2021 +0000

    + enabled compilation of unit macpas for the WASI target
    
    git-svn-id: trunk@49438 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit d0b3a599a300945a46abd020fae9878c97d75c4c
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:15:41 2021 +0000

    + enabled compilation of unit fgl for the WASI target
    
    git-svn-id: trunk@49437 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 08520e032a7dfdb7cf01c355d5a2a451ae4f91fc
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 19:11:54 2021 +0000

    + enabled compilation of unit typinfo for the WASI target
    
    git-svn-id: trunk@49436 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 27ff471ff4f9c54bed5df5e04fbdf654a8bdb5dd
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 17:14:24 2021 +0000

    + enabled compilation of unit types for the WASI target
    
    git-svn-id: trunk@49433 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 390be44cce0d32775bf1e24756f0535a1e55d1c5
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 17:06:14 2021 +0000

    + enable compilation of unit rtlconsts for the WASI target
    
    git-svn-id: trunk@49432 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 45620b11c0cca007cb38c94fc201cd8eef7875da
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 16:56:55 2021 +0000

    + enabled compilation of unit math for the WASI target
    
    git-svn-id: trunk@49431 -

M	.gitattributes
M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc
A	rtl/wasm32/mathu.inc

******************************************************************************
commit 87111246ca24629d15385f9ec00fc9ee57421ea5
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 15:53:22 2021 +0000

    + enabled compilation of unit sortbase for the WASI target
    
    git-svn-id: trunk@49429 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 5085a04930268442e1dfd07f325291dc1f95d086
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 15:36:01 2021 +0000

    - removed the (deflist[i] is tdef) check from the tmodule destructor, since
      only tdef descendants are added to the deflist and casting deflist entries to
      tdef directly appears to be safe and is done in other parts of the compiler
    
    git-svn-id: trunk@49428 -

M	compiler/fmodule.pas

******************************************************************************
commit f59aab1371a008ff7c5f46d2b4d2fa56019cc15d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 15:27:45 2021 +0000

    * fixed typecast in tmodule.destroy after r49426, since registered_in_module is introduced in tdef, not in tstoreddef
    
    git-svn-id: trunk@49427 -

M	compiler/fmodule.pas

******************************************************************************
commit 3ecb41cd2dbbededc213dc54ee4e44880dbd8336
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 1 15:02:26 2021 +0000

    * improvements to the prevention of dangling pointers in tmodule.deflist,
      introduced in r49417. Now it no longer depends on current_module, so it
      handles the case when current_module changes between the time the tdef was
      registered and the time it was freed. It also supports freeing the tmodule
      before the defs, so the freeing order of the object is once again flexible.
    
    git-svn-id: trunk@49426 -

M	compiler/fmodule.pas
M	compiler/symdef.pas
M	compiler/symtype.pas

******************************************************************************
commit 1957ea11cba7537976c6600b2334a9df386d7aa7
Author: pierre <pierre@freepascal.org>
Date:   Tue Jun 1 08:22:44 2021 +0000

     Fix duplicate source_cpu_string after last patch, by using cpuwasm32 instead of wasm32 conditional
    
    git-svn-id: trunk@49425 -

M	compiler/version.pas

******************************************************************************
commit d23feee55e406a1b04363e353be06fafcd170cda
Author: michael <michael@freepascal.org>
Date:   Tue Jun 1 08:00:42 2021 +0000

    * Correctly initialize total_out
    
    git-svn-id: trunk@49424 -

M	packages/paszlib/src/gzio.pas

******************************************************************************
commit affefb6ce01dd202065c8281350aa53cf02d2cda
Author: michael <michael@freepascal.org>
Date:   Mon May 31 20:07:18 2021 +0000

    * Fix issue ID #36822. Total was being misused in check
    
    git-svn-id: trunk@49421 -

M	packages/paszlib/src/gzio.pas

******************************************************************************
commit 99f33824a7994a8e4fdbedfed79093cffcda03ad
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 31 19:33:03 2021 +0000

    * patch from Alfred for setting source_cpu_string for the wasm32 platform
    
    git-svn-id: trunk@49420 -

M	compiler/version.pas

******************************************************************************
commit ea5ffd597f3b8a50300e9e7d1ea2fcd0f1e14f48
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 30 21:27:57 2021 +0000

    * set self to nil in current_module.deflist for registered defs in the
      tstoreddef.destroy destructor, instead of doing it after each call to
      x.owner.deletedef(x)
    
    git-svn-id: trunk@49417 -

M	compiler/pdecvar.pas
M	compiler/pmodules.pas
M	compiler/pparautl.pas
M	compiler/symdef.pas

******************************************************************************
commit 93fea6de3a0252bee42d8fb20f38960907994184
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 30 20:52:21 2021 +0000

    + enabled compilation of unit SysUtils for the WASI target. Note that WASI
      snapshot building fails, when compiler is built with -CR, because of a
      use-after-free bug in the compiler, related to generics. A fix for this bug
      is currently being worked on.
    
    git-svn-id: trunk@49416 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 5e3efa4455a0c20e72ee2d970df1fa630308192e
Author: florian <florian@freepascal.org>
Date:   Sun May 30 18:08:37 2021 +0000

      * Aarch64: apply OptPass1Data to CSEL as well
    
    git-svn-id: trunk@49414 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 9bc8f17f16a6d450b72ca7fdb60ef5cbce77ca3d
Author: marco <marco@freepascal.org>
Date:   Sun May 30 13:00:00 2021 +0000

     * implemented LeftPromotion to fmtbcd to fix mantis 38496 but unfortunately FPC doesn't call it.
    
    git-svn-id: trunk@49413 -

M	packages/rtl-objpas/src/inc/fmtbcd.pp

******************************************************************************
commit 0ed69fc662821756b873ad3bf9e81fd0c26ca9e4
Author: pierre <pierre@freepascal.org>
Date:   Sat May 29 21:25:16 2021 +0000

     Fix compilation with 3.2.2 release for arm and i386 CPUs
    
    git-svn-id: trunk@49411 -

M	rtl/linux/system.pp

******************************************************************************
commit 8cdbf5887b7cf1bd5a17dcf0c406e52fd6b27d4a
Author: joost <joost@cnoc.nl>
Date:   Sat May 29 11:30:54 2021 +0000

     * test for r49387
    
    git-svn-id: trunk@49410 -

M	packages/fcl-web/tests/integrationtests/fcl-web_integrationtests.jmx

******************************************************************************
commit 1e3de5db58072959e8d6f75aaa21e922d38f322e
Author: joost <joost@cnoc.nl>
Date:   Sat May 29 11:17:54 2021 +0000

     * Parse the contenttype according to rfc1341 also for non-streaming
       processing
    
    git-svn-id: trunk@49409 -

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 52813c8965efe348a94bee65ebceb9bc0e81be76
Author: joost <joost@cnoc.nl>
Date:   Sat May 29 10:57:51 2021 +0000

     * Fixed mime-multipart processing for solutions that do
       not support chunked processing of content. (like CGI)
    
    git-svn-id: trunk@49408 -

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 0a3efb67020967ab55c4bb96f87507a45a85d572
Author: florian <florian@freepascal.org>
Date:   Sat May 29 10:05:54 2021 +0000

      + test for already fixed #26016
    
    git-svn-id: trunk@49407 -

M	.gitattributes
A	tests/webtbf/tw26016.pp

******************************************************************************
commit d5a0dd3d2577809d169cfe18aa78e8372fc3b856
Author: nickysn <nickysn@gmail.com>
Date:   Fri May 28 21:59:57 2021 +0000

    * prevent a range check error in TFPList.IndexOfItem when searching backwards in
      an empty list and the compiler is compiled with range checking turned on
    
    git-svn-id: trunk@49406 -

M	compiler/cclasses.pas

******************************************************************************
commit f2e0af6d37956caac79c5acf8c8cf5ad08475443
Author: florian <florian@freepascal.org>
Date:   Fri May 28 21:23:09 2021 +0000

      * check used registers properly for SETcc/TEST/Jcc -> Jcc, resolves #38940
    
    git-svn-id: trunk@49405 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw38940.pp

******************************************************************************
commit 30df9550019731ed3cf29d5e30fc6bff4bc4cc03
Author: florian <florian@freepascal.org>
Date:   Thu May 27 21:13:23 2021 +0000

      * the MovOpMov2Op optimization needs to take care of the second operand, should resolve #38359
    
    git-svn-id: trunk@49404 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit cb953f68c24fdb97ed1e8b5c2c59c7cdcf3c38e8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu May 27 05:43:01 2021 +0000

    * as 3.2.0 is now the oldest compiler we support we can now use {$push} {$pop} to reset the $minenumsize in the RTTI header
    
    git-svn-id: trunk@49403 -

M	rtl/inc/rttih.inc

******************************************************************************
commit bae583118a0e685032f2712943d2ec5bcdbb900b
Author: florian <florian@freepascal.org>
Date:   Wed May 26 21:03:56 2021 +0000

      * patch by J. Gareth Moreton: x86 JccMovJmpMov2MovSetcc improvement, resolves #38761
    
    git-svn-id: trunk@49402 -

M	compiler/aoptutils.pas
M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cpubase.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 73448deda64923dae27270f9eaf7f3b9b9bf2987
Author: yury <jura@cp-lab.com>
Date:   Tue May 25 16:03:34 2021 +0000

    * Windows: Prevent removal of the TLS directory by the linker when RTL is compiled with -O4 or when inlining is enabled.
    
    git-svn-id: trunk@49400 -

M	rtl/win32/sysinit.inc
M	rtl/win64/sysinit.pp

******************************************************************************
commit 8006900e8e969fd4f8078398ce762f1575fff961
Author: florian <florian@freepascal.org>
Date:   Mon May 24 09:26:44 2021 +0000

      - clean up
    
    git-svn-id: trunk@49399 -

M	compiler/cgbase.pas

******************************************************************************
commit 814b68fac0e7a2328bf4cb0adc995bf20947383a
Author: florian <florian@freepascal.org>
Date:   Sun May 23 19:46:40 2021 +0000

      * more fixes for VASM for ARM
    
    git-svn-id: trunk@49398 -

M	compiler/arm/agarmgas.pas
M	compiler/fpcdefs.inc

******************************************************************************
commit e9b3db0d78ec4a3043d69de785b951b25179c2ae
Author: florian <florian@freepascal.org>
Date:   Sat May 22 20:22:53 2021 +0000

      * more fixes to support vasm on arm
      * do not crash on empty eabi attribute strings
    
    git-svn-id: trunk@49397 -

M	compiler/aggas.pas
M	compiler/arm/agarmvasm.pas

******************************************************************************
commit 19876ca805828d1d59625790bd443fdecfc43e63
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 14:48:00 2021 +0000

    qlunits: added channel definition structures based on C equivalents, added test code
    
    git-svn-id: trunk@49396 -

M	.gitattributes
M	packages/qlunits/fpmake.pp
M	packages/qlunits/src/qdos.pas
A	packages/qlunits/tests/trecsize.pas

******************************************************************************
commit 7b03bac5d6171b3c1c29e38ad81fdc12373647fe
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 11:51:22 2021 +0000

    qlunits: remove word alignment test from sysvar test, as there are byte-sized vars, which are not aligned
    
    git-svn-id: trunk@49395 -

M	packages/qlunits/tests/tsysvars.pas

******************************************************************************
commit 94693e5f70828ae617af1a4c1c008e1f4af4b366
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 09:43:31 2021 +0000

    sinclairql: make sure smsfuncs.inc is in sync with the one in packages
    
    git-svn-id: trunk@49394 -

M	rtl/sinclairql/smsfuncs.inc
M	rtl/sinclairql/system.pp

******************************************************************************
commit 70011c2306dbf89b7b1b5c92c464550c6ef8b126
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 09:42:32 2021 +0000

    qlunits: add a test program to test sysvar offsets
    
    git-svn-id: trunk@49393 -

M	.gitattributes
M	packages/qlunits/fpmake.pp
A	packages/qlunits/tests/tsysvars.pas

******************************************************************************
commit 54f761b4dafc35325e2d49dbfb12720dddef0d42
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 09:20:45 2021 +0000

    qlunits: make sure everything is two byte aligned
    
    git-svn-id: trunk@49392 -

M	packages/qlunits/src/qdos.pas
M	packages/qlunits/src/qdos_sysvars.inc
M	packages/qlunits/src/sms.pas
M	packages/qlunits/src/sms_sysvars.inc

******************************************************************************
commit c9f875b15ff458afb0c28dc1e8e95aa155234657
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 08:21:10 2021 +0000

    qlunits: fix SMS unit build, declare all const/vars/types before functions, and minor tweaks
    
    git-svn-id: trunk@49391 -

M	packages/qlunits/src/qdos.pas
M	packages/qlunits/src/sms.pas
M	packages/qlunits/src/sms_sysvars.inc

******************************************************************************
commit 2bf7676f00a35ef8e1f252bae8e118b5088638a2
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 08:10:10 2021 +0000

    qlunits: fixed comments in qdos_sysvars.inc to avoid compiler directives warnings
    
    git-svn-id: trunk@49390 -

M	packages/qlunits/src/qdos_sysvars.inc

******************************************************************************
commit 61cd38e6db176dd006be6adb8c6c350011a8b108
Author: michael <michael@freepascal.org>
Date:   Sat May 22 07:54:30 2021 +0000

    * Fixed Issue ID38920: twriter crashes on readonly nil component
    
    git-svn-id: trunk@49389 -

M	rtl/objpas/classes/writer.inc

******************************************************************************
commit cd5c2b82717d3168587fc9e853f8a0a0c71ac565
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 22 07:30:00 2021 +0000

    qlunits: merged a modified version of a patch by Norman Dunbar, defines system variables as a record
    
    git-svn-id: trunk@49388 -

M	.gitattributes
M	packages/qlunits/README.txt
M	packages/qlunits/examples/mtinf.pas
A	packages/qlunits/examples/sms_info.pas
M	packages/qlunits/fpmake.pp
M	packages/qlunits/src/qdos.pas
A	packages/qlunits/src/qdos_sysvars.inc
M	packages/qlunits/src/sms.pas
A	packages/qlunits/src/sms_sysvars.inc
M	packages/qlunits/src/smsfuncs.inc

******************************************************************************
commit fd91e8263c8acc492a928027b55ed8d44ffa83f9
Author: joost <joost@cnoc.nl>
Date:   Fri May 21 21:46:39 2021 +0000

     * Fixed processing post-content of unknown content-types
    
    git-svn-id: trunk@49387 -

M	packages/fcl-web/src/base/httpdefs.pp

******************************************************************************
commit 5726428dccfb87159f31ce505ab1bef04a5f59e6
Author: florian <florian@freepascal.org>
Date:   Fri May 21 20:36:15 2021 +0000

      * patch by J. Gareth Moreton: Additional SETcc optimisations, resolves #38767
    
    git-svn-id: trunk@49386 -

M	compiler/cgutils.pas
M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 578424cf51d3c1a127c5eaddfe462e82a5588586
Author: florian <florian@freepascal.org>
Date:   Thu May 20 20:45:38 2021 +0000

      * patch by J. Gareth Moreton: TEST chain shortcutting, resolves #38908
    
    git-svn-id: trunk@49385 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 6f482952dee00a2e14dc900815d660a32e46bc8d
Author: florian <florian@freepascal.org>
Date:   Wed May 19 20:29:04 2021 +0000

      * patch by J. Gareth Moreton: Memory CMP optimisation, resolves #38907
    
    git-svn-id: trunk@49382 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 12a0083c5924a69f6928a7f28379df4cca86f12d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed May 19 07:45:04 2021 +0000

    sinclairql: return true as default for do_isdevice to work around weird console flushing issues.
    
    git-svn-id: trunk@49381 -

M	rtl/sinclairql/sysfile.inc

******************************************************************************
commit 906d0ba06ef076fa6bebc994e1145bf222449b47
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed May 19 07:39:24 2021 +0000

    sinclairql: make sure the end of bss (hence the bss size) is also aligned to two bytes
    
    git-svn-id: trunk@49380 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit c43d8e4adf47edacce499563558c0bbcc9c7fc3c
Author: florian <florian@freepascal.org>
Date:   Tue May 18 19:13:49 2021 +0000

      * indention fixed
    
    git-svn-id: trunk@49379 -

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 430b2fd7917e4689de57e75a67ad864f38b570aa
Author: florian <florian@freepascal.org>
Date:   Tue May 18 19:13:13 2021 +0000

      * AVR: second part of assembler optimizer rework
    
    git-svn-id: trunk@49378 -

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 6f1d965dace0a9e093ce73faa9e02828db463694
Author: florian <florian@freepascal.org>
Date:   Mon May 17 20:02:12 2021 +0000

      * first part of AVR assembler optimizer reword
    
    git-svn-id: trunk@49377 -

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 59d4aaf5ec462b841b1ffc06af5a36de0674fa9b
Author: michael <michael@freepascal.org>
Date:   Mon May 17 14:56:09 2021 +0000

    * Fix issue ID #38900: union wrongly implemented
    
    git-svn-id: trunk@49376 -

M	rtl/objpas/types.pp

******************************************************************************
commit 83253676a34dfabecc58aa44bfd0c2694f974b29
Author: michael <michael@freepascal.org>
Date:   Mon May 17 14:53:37 2021 +0000

    * Some case fixes
    
    git-svn-id: trunk@49375 -

M	packages/rtl-objpas/src/inc/strutils.pp

******************************************************************************
commit 90afbc81146d59c0cd85d73f7cb8e8091fdc4c8c
Author: florian <florian@freepascal.org>
Date:   Sat May 15 20:53:56 2021 +0000

      * RiscV: unified cpu initialization and FPU exception handling, resolves #38893
    
    git-svn-id: trunk@49374 -

M	.gitattributes
A	rtl/riscv/riscv.inc
M	rtl/riscv32/riscv32.inc
M	rtl/riscv64/riscv64.inc

******************************************************************************
commit e57059eea3959cfc9daeee5bd558b07a4ad21713
Author: florian <florian@freepascal.org>
Date:   Sat May 15 16:02:22 2021 +0000

      * fix building on i386 after r49366
    
    git-svn-id: trunk@49372 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e72665051f16a80d673a8d1f92a9997fb35a5f26
Author: Mattias Gaertner <nc-gaertnma@netcologne.de>
Date:   Sat May 15 12:09:26 2021 +0000

    pastojs: fixed float / 0.0 results at compiletime in inf instead of divbyzero, issue #38815
    
    git-svn-id: trunk@49370 -

M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/tests/tcmodules.pas

******************************************************************************
commit 884d24e321d3db6a74c25a2d0bf09b1e755645e0
Author: florian <florian@freepascal.org>
Date:   Fri May 14 20:50:03 2021 +0000

      * patch by J. Gareth Moreton: x86 MOVZX/CMP optimisation, resolves #38882
    
    git-svn-id: trunk@49366 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 13f3cd2ae3f3d5197a85035b8d8ee40792eb66ff
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 14 17:32:40 2021 +0000

    sinclairql: for setting the exit message of the default console, use a helper function instead.
    
    git-svn-id: trunk@49365 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit 6fbf4dfd9059f8a3bdcf5efdf257262dcd17d178
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 14 15:26:31 2021 +0000

    sinclairql: introduce a way to override the system unit's console opening/closing and exit message via weakexternals
    
    git-svn-id: trunk@49364 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit f0cc2c38b8aaff7b6b407aeeeb8bfe9556fbfa5f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 14 14:49:14 2021 +0000

    sinclairql: enable weak linking support for the Sinclair QL
    
    git-svn-id: trunk@49363 -

M	compiler/systems.pas

******************************************************************************
commit bc21634b467631b3350b42f83894a7339bea54b1
Author: florian <florian@freepascal.org>
Date:   Thu May 13 18:59:28 2021 +0000

      * AVR: made avr_des intrinsic more usefull
    
    git-svn-id: trunk@49362 -

M	compiler/avr/navrinl.pas
M	rtl/avr/intrinsics.pp
M	tests/test/tdes1.pp
M	tests/test/tdes2.pp

******************************************************************************
commit d77f249332f6a73ebd3750a5c7463ed5b738a587
Author: michael <michael@freepascal.org>
Date:   Thu May 13 17:18:37 2021 +0000

    * Fix compilation
    
    git-svn-id: trunk@49361 -

M	packages/fcl-passrc/examples/test_parser.pp

******************************************************************************
commit 20039e3b77a094ea807ccb318e06df4cce4dcacd
Author: joost <joost@cnoc.nl>
Date:   Thu May 13 15:03:30 2021 +0000

     * Parse the ContentType according to rfc1341
    
    git-svn-id: trunk@49360 -

M	packages/fcl-web/src/base/httpdefs.pp
M	packages/fcl-web/tests/integrationtests/fcl-web_integrationtests.jmx

******************************************************************************
commit 6db4ab5012c6a32a4c66da973e0b7e7163b54503
Author: joost <joost@cnoc.nl>
Date:   Thu May 13 14:10:33 2021 +0000

     - Switch to block-based processing of http-content
    
    git-svn-id: trunk@49359 -

M	.gitattributes
M	packages/fcl-web/src/base/custfcgi.pp
M	packages/fcl-web/src/base/httpdefs.pp
A	packages/fcl-web/tests/integrationtests/README.md
A	packages/fcl-web/tests/integrationtests/UploadFile1.txt
A	packages/fcl-web/tests/integrationtests/UploadFile2.txt
A	packages/fcl-web/tests/integrationtests/UploadFile3.txt
A	packages/fcl-web/tests/integrationtests/fcgi_dump_request.pp
A	packages/fcl-web/tests/integrationtests/fcl-web_integrationtests.jmx

******************************************************************************
commit 022a9b210ffce670dbe4d675baf3b70db3e74b92
Author: florian <florian@freepascal.org>
Date:   Thu May 13 09:26:53 2021 +0000

      + AVR: avr_des intrinsic
    
    git-svn-id: trunk@49353 -

M	.gitattributes
M	compiler/avr/ccpuinnr.inc
M	compiler/avr/cpubase.pas
M	compiler/avr/itcpugas.pas
M	compiler/avr/navrinl.pas
M	compiler/avr/raavr.pas
M	rtl/avr/cpuinnr.inc
M	rtl/avr/intrinsics.pp
A	tests/test/tdes1.pp
A	tests/test/tdes2.pp

******************************************************************************
commit da3eb5c1785feb0dbd417632bff6f791b4b458e6
Author: pierre <pierre@freepascal.org>
Date:   Wed May 12 22:54:59 2021 +0000

     Try to fix handle of large stack size in xtensa gen_proc_entry/gen_proc_exit
    
    git-svn-id: trunk@49352 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 4ddaa26fc06824c8212e34d8ed99f20a0298eb74
Author: Mattias Gaertner <nc-gaertnma@netcologne.de>
Date:   Wed May 12 19:47:26 2021 +0000

    pastojs: nested external class constructor
    
    git-svn-id: trunk@49351 -

M	packages/pastojs/tests/tcmodules.pas
M	utils/pas2js/docs/translation.html

******************************************************************************
commit 929fc500043b93f1e06976d0735c3cfffcb2c446
Author: florian <florian@freepascal.org>
Date:   Mon May 10 20:30:31 2021 +0000

      * cleanup
    
    git-svn-id: trunk@49349 -

M	compiler/arm/agarmvasm.pas

******************************************************************************
commit 8535c758efc41d890c3d343d43e064deed88d132
Author: florian <florian@freepascal.org>
Date:   Sun May 9 20:42:31 2021 +0000

      + initial support for ARMv2
      * check for unassigned valuestr when writing ntbs eabi attributes
    
    git-svn-id: trunk@49348 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/narmmat.pas
M	compiler/arm/narmutil.pas
M	compiler/assemble.pas

******************************************************************************
commit 4ab310e0ed49cf72441c1072beb3e24206eb6e12
Author: florian <florian@freepascal.org>
Date:   Sat May 8 20:48:59 2021 +0000

      + ARM: basic vasm support
    
    git-svn-id: trunk@49347 -

M	.gitattributes
A	compiler/arm/agarmvasm.pas
M	compiler/arm/cputarg.pas
M	compiler/systems.inc

******************************************************************************
commit 4de8ca83938b98367f4326d5cdb993521173288a
Author: florian <florian@freepascal.org>
Date:   Sat May 8 20:10:14 2021 +0000

      * fpcr and fpsr are 64 bit on aarch64
    
    git-svn-id: trunk@49346 -

M	rtl/aarch64/aarch64.inc

******************************************************************************
commit ac9d2b3cc5d8eaf34ea5aa3cb89cd850607be49c
Author: michael <michael@freepascal.org>
Date:   Sat May 8 15:36:50 2021 +0000

    * Convert array of jsvalue to array of const where appropriate
    
    git-svn-id: trunk@49345 -

M	packages/fcl-js/src/jswriter.pp
M	packages/fcl-passrc/src/pasresolveeval.pas
M	packages/fcl-passrc/src/pasresolver.pp
M	packages/fcl-passrc/src/pasuseanalyzer.pas
M	packages/fcl-passrc/src/pparser.pp
M	packages/fcl-passrc/src/pscanner.pp
M	packages/pastojs/src/fppas2js.pp
M	packages/pastojs/src/pas2jscompiler.pp
M	packages/pastojs/src/pas2jslogger.pp
M	packages/pastojs/src/pas2jspparser.pp

******************************************************************************
commit 964c04aded9d81191c5030d1bd75be285e36d8b8
Author: florian <florian@freepascal.org>
Date:   Thu May 6 18:44:18 2021 +0000

      * patch by J. Gareth Moreton, second part of #38841
    
    git-svn-id: trunk@49341 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 9bad5180bb210fa49437353c7643d9bc574af68b
Author: pierre <pierre@freepascal.org>
Date:   Thu May 6 16:17:16 2021 +0000

     Avoid using UXT and SXT instructions on arm version below 6
    
    git-svn-id: trunk@49340 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit d936280c6b5810d72bcf1db26189339025343143
Author: florian <florian@freepascal.org>
Date:   Wed May 5 20:38:05 2021 +0000

      * (modified) patch by J. Gareth Moreton to unify ldr/str optimizations on Aarch64/ARM, part of #38841
    
    git-svn-id: trunk@49338 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 3c205f895c6499b31004cb82a58942d69c34a42b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue May 4 19:56:22 2021 +0000

      * LLVM does not have an intrinsic for int/frac, so don't replace frac with
        a call to runerror(207) there
    
    git-svn-id: trunk@49337 -

M	rtl/aarch64/math.inc

******************************************************************************
commit a6525062547065325350639064508a3abbb6a57e
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Mon May 3 22:56:59 2021 +0000

      * fix for wrongly chosen conditional define name
    
    git-svn-id: trunk@49335 -

M	tests/test/units/system/ttxtflsh.pp

******************************************************************************
commit cb2c0ae59406caae7672f2f8d7488515c150e04d
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Mon May 3 22:16:36 2021 +0000

      * fix for wrong nested comments resulting in wrong results under *nix, etc., with redirected output
    
    git-svn-id: trunk@49334 -

M	tests/test/units/system/ttxtflsh.pp

******************************************************************************
commit aa03991088eb1856cf7ed2e88a3173dd5709d210
Author: Mattias Gaertner <nc-gaertnma@netcologne.de>
Date:   Mon May 3 19:32:52 2021 +0000

    pastojs: fixed classmethod pointer
    
    git-svn-id: trunk@49333 -

M	utils/pas2js/dist/rtl.js

******************************************************************************
commit dd9179043e1dd2839249ca4aa2b5eb25bb4760e3
Author: pierre <pierre@freepascal.org>
Date:   Mon May 3 16:10:59 2021 +0000

     Fix message about unsupported OS_TARGET for LLVM
    
    git-svn-id: trunk@49330 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 39896a1b113912c28ee09155ab6f81cc9a14428e
Author: pierre <pierre@freepascal.org>
Date:   Mon May 3 16:04:19 2021 +0000

     Destroy tfornode class loopiteration field if assigned
    
    git-svn-id: trunk@49329 -

M	compiler/nflw.pas

******************************************************************************
commit f383cf4deb29c6ba3d89c830bd40fc1e6632e98c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun May 2 19:08:42 2021 +0000

    * fix for Mantis #38381: apply patch by Bi0T1N to add two Delphi compatible overloads for TValue.Make
    
    git-svn-id: trunk@49327 -

M	packages/rtl-objpas/src/inc/rtti.pp
M	packages/rtl-objpas/tests/tests.rtti.pas

******************************************************************************
commit 0ba689de84df28a0a690aa5607ee83df7bba26b4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun May 2 19:08:38 2021 +0000

    * fix test compilation with Delphi
    
    git-svn-id: trunk@49326 -

M	packages/rtl-objpas/tests/tests.rtti.pas
M	packages/rtl-objpas/tests/tests.rtti.util.pas

******************************************************************************
commit 0d37e0e0f8cbc66df8267d6cb1b571d0c919dd67
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun May 2 15:03:36 2021 +0000

      + added a test for Get/SetTextAutoFlush feature
    
    git-svn-id: trunk@49325 -

M	.gitattributes
A	tests/test/units/system/ttxtflsh.pp

******************************************************************************
commit 9f6651fdb7fc4e9b37a7f3ac1d417e6de95f1f34
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun May 2 14:59:21 2021 +0000

      + added Get/SetTextAutoFlush feature
    
    git-svn-id: trunk@49324 -

M	rtl/inc/systemh.inc
M	rtl/inc/text.inc

******************************************************************************
commit d0b1402e103cec251219270215591240103d8bd3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun May 2 12:46:39 2021 +0000

    * fix for Mantis #37252: apply patch by Bi0T1N to implement TThread.NameThreadForDebugging for Mac OS X 10.6 and newer (older versions don't provide the required functions)
    
    git-svn-id: trunk@49323 -

M	rtl/darwin/pthread.inc
M	rtl/unix/cthreads.pp

******************************************************************************
commit c38b8ac28fd17072e2db87f4d008c36e68e8e0a7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun May 2 09:32:13 2021 +0000

    sinclairql: enable most of rtl-objpas and rtl-extra on the QL
    
    git-svn-id: trunk@49322 -

M	packages/rtl-extra/fpmake.pp
M	packages/rtl-objpas/fpmake.pp

******************************************************************************
commit 210674b9a039da69dfd1444c0cbcbe7d5cbaf4c6
Author: florian <florian@freepascal.org>
Date:   Sat May 1 18:56:25 2021 +0000

      * patch by J. Gareth Moreton: AArch64: Improved speed and efficiency with constant generation, resolves #38837
    
    git-svn-id: trunk@49321 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit cc5814dac195e6c3a60030015339e18d0296fbb3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 1 13:58:10 2021 +0000

      * support arbitrary record regvars on AArch64: it has fairly complete support
        for inserting/extracting bitfields (although the compiler doesn't use those
        instructions yet in all possible cases, it seems)
    
    git-svn-id: trunk@49313 -

M	compiler/symsym.pas

******************************************************************************
commit 6a35227a50cb62bd454f46d4637a798084dc5e36
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 1 13:25:30 2021 +0000

    qlunits: really add the a new example missed from the previous commit
    
    git-svn-id: trunk@49311 -

M	.gitattributes
A	packages/qlunits/examples/mtinf.pas

******************************************************************************
commit 8c1ebd8353f7aadc5b79706e5bf8b65ac9a450fd
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 1 13:24:34 2021 +0000

    qlunits: some refactors and updates. added system vars offsets to qdos unit, and a new example
    
    git-svn-id: trunk@49310 -

M	.gitattributes
M	packages/qlunits/fpmake.pp
M	packages/qlunits/src/qdos.pas
A	packages/qlunits/src/qdosfuncs.inc
M	packages/qlunits/src/sms.pas
A	packages/qlunits/src/smsfuncs.inc

******************************************************************************
commit 53674e387f1eff6ec7febaa7bd763a2c657002aa
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 1 11:48:39 2021 +0000

    sinclairql: include qdosh.inc directly. this will allow easier sharing of qdosfuncs.inc with the qlunits package
    
    git-svn-id: trunk@49308 -

M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/si_prc.pp
M	rtl/sinclairql/sysutils.pp

******************************************************************************
commit 394fd2037a81b069f77b0704c63a651967aeb6db
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 1 11:32:13 2021 +0000

    sinclairql: sysdeps must include qdosh.inc too
    
    git-svn-id: trunk@49307 -

M	rtl/sinclairql/Makefile
M	rtl/sinclairql/Makefile.fpc

******************************************************************************
commit 02e63411617bcd6f99f666cf341fba063fb47532
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 1 09:59:31 2021 +0000

    sinclairql: implemented a selection of I/O functions, patch by Norman Dunbar
    
    git-svn-id: trunk@49306 -

M	rtl/sinclairql/sysutils.pp

******************************************************************************
commit 9977889f4a2dc700ff8bfdaf231d59910fc08739
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 1 09:28:58 2021 +0000

      * fix finally block getting unconditionally removed if try-block is empty
        (hasnocode(nil) always returns true). Regression from r48174
    
    git-svn-id: trunk@49305 -

M	.gitattributes
M	compiler/nflw.pas
A	tests/webtbs/tw38833.pp

******************************************************************************
commit 5cde6facdb15f08e636b32eafa3928e54758937c
Author: michael <michael@freepascal.org>
Date:   Sat May 1 06:32:48 2021 +0000

    * Patch from Werner Pamler to fix count of digits in periods
    
    git-svn-id: trunk@49299 -

M	rtl/objpas/sysutils/dati.inc

******************************************************************************
commit 5ef44c550a605a72a6f8b34fc3690185097aa49a
Author: pierre <pierre@freepascal.org>
Date:   Fri Apr 30 09:55:11 2021 +0000

     Avoid range/overflow error after commit #49290
    
    git-svn-id: trunk@49298 -

M	compiler/aarch64/ncpumat.pas

******************************************************************************
commit c9b90ccde0e43d3a26a812289a383353b83ca220
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 29 22:23:58 2021 +0000

    m68k: sinclair ql now requires vlink 0.16h or newer.
    
    git-svn-id: trunk@49296 -

M	compiler/globals.pas
M	compiler/options.pas
M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit f76bb5fc5e29998effe2021ba7fa563a9a4a8e2b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 29 22:21:36 2021 +0000

    m68k-sinclairql: apply the same hack as for amiga and atari to avoid vlink section attribute warning
    
    git-svn-id: trunk@49295 -

M	compiler/aggas.pas

******************************************************************************
commit cdc7fec019bc6e77d40e11c9c3bb173f95a3b364
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 29 22:06:26 2021 +0000

    m68k: D2 is considered volatile on macosclassic
    
    git-svn-id: trunk@49294 -

M	compiler/m68k/cpupara.pas

******************************************************************************
commit f0b322f4ed22a2164aba0abad84925a1f40e383d
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 29 21:59:32 2021 +0000

    Add -TFreeBSD target OS option to -h output for aarch64 compiler ppc64
    
    git-svn-id: trunk@49293 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit bf5f7144972fe1b99f2dabf2f6910b5e93090eca
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 29 20:16:31 2021 +0000

     Also check *.pas and *.inc files inside sub-directories in msgused.pl
    
    git-svn-id: trunk@49292 -

M	compiler/utils/msgused.pl

******************************************************************************
commit dc13516dee4daf6fca861122adf329177d1e6131
Author: florian <florian@freepascal.org>
Date:   Thu Apr 29 20:00:36 2021 +0000

      + patch by J. Gareth Moreton: improved tests for constant divisions including benchmark,
        second part of #38806
    
    git-svn-id: trunk@49291 -

M	.gitattributes
A	tests/bench/bdiv.pp
A	tests/bench/bdiv_s32.inc
A	tests/bench/bdiv_s64.inc
A	tests/bench/bdiv_u32.inc
A	tests/bench/bdiv_u64.inc
A	tests/test/cg/tmoddiv6.pp

******************************************************************************
commit 256ca9d210e9fb9ddc11ca3caeaf811ff1d97dea
Author: florian <florian@freepascal.org>
Date:   Thu Apr 29 19:48:54 2021 +0000

      * patch by J. Gareth Moreton: AArch64 "magic division"
        (replace division by constant with multiplication), part of #38806
    
    git-svn-id: trunk@49290 -

M	compiler/aarch64/ncpumat.pas

******************************************************************************
commit 595edf6f9b5bdf4d04ce6580cae49debc72cba89
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 28 23:03:47 2021 +0000

    Use as-clang as idtxt for as_aarch64_clang_gas_info
    
    git-svn-id: trunk@49287 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit b464d3877781b483ed4a1af04784cbbf175019aa
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 28 23:02:44 2021 +0000

     Add several missing -AXXX options
    
    git-svn-id: trunk@49286 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 837b433abc0378039d91f0f03061d982b2cbcc9d
Author: florian <florian@freepascal.org>
Date:   Wed Apr 28 18:32:48 2021 +0000

      * avoid overflow during register allocation
    
    git-svn-id: trunk@49285 -

M	compiler/rgobj.pas

******************************************************************************
commit 72667f41ad1e1b310052fe05a244276c7f813ad4
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 28 14:56:30 2021 +0000

    Avoid warning with -O4 option
    
    git-svn-id: trunk@49284 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit 0ffd4f87808838f1ddb563eaa2863a4d0f984a6d
Author: florian <florian@freepascal.org>
Date:   Tue Apr 27 16:36:40 2021 +0000

      * fix compilation of arm compiler on 32 bit hosts
    
    git-svn-id: trunk@49281 -

M	compiler/arm/narmset.pas

******************************************************************************
commit 77e3a402dabc6622fc48d31c641177452ed49867
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 27 14:52:22 2021 +0000

     Set string length before calling move to avoid problems with global data analysis on systems using C library
    
    git-svn-id: trunk@49280 -

M	compiler/assemble.pas
M	compiler/ogcoff.pas

******************************************************************************
commit 7721995c71a089a8796aac9c6570dd6eed606d20
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 27 14:20:09 2021 +0000

     Make sure nf_usercode_entry get transferred inside firstpass procedure
    
    git-svn-id: trunk@49279 -

M	compiler/pass_1.pas

******************************************************************************
commit 423940afd7c7d8afaa4d45a5c08d36f83fcf5401
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 27 14:01:35 2021 +0000

    Avoid range check error inside genitem_thumb2 by changing local variable i type
    
    git-svn-id: trunk@49278 -

M	compiler/arm/narmset.pas

******************************************************************************
commit d06cb1a20ac5674bc70b8e8da0c419f004afeb7c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 27 06:25:13 2021 +0000

    m68k: fixed a comment. no functional change
    
    git-svn-id: trunk@49275 -

M	compiler/m68k/ag68kvasm.pas

******************************************************************************
commit d03c3c0669d0c135c8f1a832d73042823a267ddc
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 21:51:42 2021 +0000

    Disable overflow/range check in some part of the arm code
    
    git-svn-id: trunk@49274 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/cpubase.pas

******************************************************************************
commit c2faf6a8fd63727b392123b69f5a403b9ed991cd
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 21:50:53 2021 +0000

     Avoid invalid typecast if hp is not an instruction
    
    git-svn-id: trunk@49273 -

M	compiler/arm/rgcpu.pas

******************************************************************************
commit f1d30a5bc63f4bf5916ad20a81c12922ceae68e3
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 21:14:27 2021 +0000

     Add .force_thumb pseudo-directive support forarm reader
    
    git-svn-id: trunk@49271 -

M	compiler/aasmtai.pas
M	compiler/arm/raarmgas.pas
M	compiler/assemble.pas

******************************************************************************
commit db02c7c85aea5f66f4e083bba8a8ba649e06c313
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 21:10:25 2021 +0000

     Add -march=XXX option for aarch64 external assemblers
    
    git-svn-id: trunk@49269 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 1b22962140eee3b11bef19380d071ce49f5f4329
Author: florian <florian@freepascal.org>
Date:   Mon Apr 26 20:52:02 2021 +0000

      * patch by Christo Crause to fix #38789: writing of linker commands should not depent in -s
    
    git-svn-id: trunk@49267 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 43910756170672062ac57847b98c16a4096f7f78
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 26 20:43:07 2021 +0000

      * Use FGeneralCriticalSection for LogIndent and LogUnindent.
        Add FIndentCount integer field.
        Add FWorkerPrefix string field.
        Use try/finally block to keep track of LogLevel
    
    git-svn-id: trunk@49266 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 77cc2f4ceda166a09eaf04ca07756f950d1ca806
Author: florian <florian@freepascal.org>
Date:   Sun Apr 25 19:49:26 2021 +0000

      * decrease macro nesting counter early when expanding empty macro
        to avoid errors about too depth macro nesting, resolves #38802
    
    git-svn-id: trunk@49265 -

M	.gitattributes
M	compiler/scanner.pas
A	tests/webtbs/tw38802.pp

******************************************************************************
commit 822b46009626d3893cf23c2159d3a632f2c1168a
Author: florian <florian@freepascal.org>
Date:   Sun Apr 25 19:24:18 2021 +0000

      * fix bootstrapping on aarch64-linux with 3.2.x
    
    git-svn-id: trunk@49264 -

M	rtl/aarch64/math.inc

******************************************************************************
commit f261146b6fe454bb829bcdcde98b2b68c332bf22
Author: nickysn <nickysn@gmail.com>
Date:   Sun Apr 25 16:09:24 2021 +0000

    * makefile regenerated with latest fpcmake
    
    git-svn-id: trunk@49263 -

M	packages/fcl-mustache/Makefile

******************************************************************************
commit 1a71ca410691438f182910025443da0580df5a47
Author: nickysn <nickysn@gmail.com>
Date:   Sun Apr 25 15:58:59 2021 +0000

    * prevention of dangling pointers and use after free after free_unregistered_localsymtable_elements
    
    git-svn-id: trunk@49262 -

M	compiler/pmodules.pas

******************************************************************************
commit 5557dbedf27c88984a322047c57b486fb7a9fccd
Author: florian <florian@freepascal.org>
Date:   Sun Apr 25 09:26:47 2021 +0000

      + Aarch64: directly inline code for frac(...)
    
    git-svn-id: trunk@49261 -

M	compiler/aarch64/ncpuinl.pas
M	rtl/aarch64/math.inc

******************************************************************************
commit cd3570caf14145f0f75af95171ca4e773cb9bfb6
Author: florian <florian@freepascal.org>
Date:   Sun Apr 25 08:53:12 2021 +0000

      + Aarch64: use frintz for int(...) instead of creating a helper call
    
    git-svn-id: trunk@49260 -

M	compiler/aarch64/ncpuinl.pas
M	rtl/aarch64/math.inc

******************************************************************************
commit 17e3c31b7ef802363f2b721f076427735d7802e7
Author: pierre <pierre@freepascal.org>
Date:   Fri Apr 23 21:52:24 2021 +0000

    Fix gotpcrel relocation for TESTQ x86_64 instruction
    
    git-svn-id: trunk@49252 -

M	.gitattributes
M	compiler/ogelf.pas
M	compiler/x86/aasmcpu.pas
A	tests/webtbs/tw38353.pp

******************************************************************************
commit c3f95f65eddd3cd96601243c3b69b6bd689a5dfe
Author: florian <florian@freepascal.org>
Date:   Fri Apr 23 21:16:16 2021 +0000

      * improved system unit dependencies
    
    git-svn-id: trunk@49251 -

M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc

******************************************************************************
commit e540e8f52e9cdb96392e806f26ae81ddea452480
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 23 14:05:23 2021 +0000

    * use $IF DEFINED instead of $IFDEF for consistency (and is required for 3.2.2)
    
    git-svn-id: trunk@49249 -

M	packages/openssl/src/openssl.pas

******************************************************************************
commit a19e461ee05154f1934c39bfd925740b3f28e4da
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 23 14:05:21 2021 +0000

    * NDS: fix condition when to default to apptype arm9
    
    git-svn-id: trunk@49248 -

M	compiler/systems/t_nds.pas

******************************************************************************
commit dbee3bcc0dc38ff2a72ffb854850a6f5cda91dc0
Author: florian <florian@freepascal.org>
Date:   Thu Apr 22 20:14:00 2021 +0000

      * fixed MSecsToTimeStamp by Lagunov Aleksey, resolves #38631
    
    git-svn-id: trunk@49247 -

M	.gitattributes
M	rtl/objpas/sysutils/dati.inc
A	tests/webtbs/tw38631.pp

******************************************************************************
commit 43c50d0a3266282a69f9e2d316fbc73b478c0774
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 22 15:26:15 2021 +0000

     Remove unused, obsolete -dBROWSERLOG option
    
    git-svn-id: trunk@49246 -

M	compiler/MPWMake
M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 29a5d3267cc3329ed313bdf3e6b8d59e659260fc
Author: florian <florian@freepascal.org>
Date:   Wed Apr 21 19:51:22 2021 +0000

      * moved warning about suspicious comp assignment to type check pass, catches also
        assignments of constants
    
    git-svn-id: trunk@49242 -

M	.gitattributes
M	compiler/ncnv.pas
M	compiler/x86/nx86cnv.pas
A	tests/tbf/tb0274.pp

******************************************************************************
commit 02ec94c81831f969732b95b27f4fbb35a8de7507
Author: michael <michael@freepascal.org>
Date:   Tue Apr 20 12:21:07 2021 +0000

    * Forgot to commit
    
    git-svn-id: trunk@49241 -

M	.gitattributes
A	packages/fcl-mustache/Makefile
A	packages/fcl-mustache/Makefile.fpc
A	packages/fcl-mustache/fpmake.pp

******************************************************************************
commit 5e2bf257904d57b5f5d5b3ccb2b9791351e7bcbd
Author: michael <michael@freepascal.org>
Date:   Tue Apr 20 11:39:30 2021 +0000

    * Mustache templates implementation
    
    git-svn-id: trunk@49240 -

M	.gitattributes
A	packages/fcl-mustache/examples/README.txt
A	packages/fcl-mustache/examples/demo1.lpi
A	packages/fcl-mustache/examples/demo1.lpr
A	packages/fcl-mustache/examples/demo2.lpi
A	packages/fcl-mustache/examples/demo2.lpr
A	packages/fcl-mustache/examples/family.csv
A	packages/fcl-mustache/examples/family.json
A	packages/fcl-mustache/examples/family.tmpl
A	packages/fcl-mustache/examples/mustache.lpi
A	packages/fcl-mustache/examples/mustache.lpr
A	packages/fcl-mustache/src/fpdbmustache.pp
A	packages/fcl-mustache/src/fpexmustache.pp
A	packages/fcl-mustache/src/fpmustache.pp
A	packages/fcl-mustache/tests/spec/comments.json
A	packages/fcl-mustache/tests/spec/delimiters.json
A	packages/fcl-mustache/tests/spec/interpolation.json
A	packages/fcl-mustache/tests/spec/inverted.json
A	packages/fcl-mustache/tests/spec/partials.json
A	packages/fcl-mustache/tests/spec/sections.json
A	packages/fcl-mustache/tests/tcbasemustache.pas
A	packages/fcl-mustache/tests/tcdbmustache.pas
A	packages/fcl-mustache/tests/tcexmustache.pas
A	packages/fcl-mustache/tests/tcmustache.pas
A	packages/fcl-mustache/tests/tcspecs.pas
A	packages/fcl-mustache/tests/testmustache.lpi
A	packages/fcl-mustache/tests/testmustache.lpr
M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc

******************************************************************************
commit b1497185660cfd390c20390e00cc7fd61b0d2606
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 20 10:02:39 2021 +0000

    sinclairql: added an entirely stub (for now) sysutils unit. added a classes unit. enabled building the whole rtl
    
    git-svn-id: trunk@49239 -

M	.gitattributes
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/sinclairql/buildrtl.pp
A	rtl/sinclairql/classes.pp
A	rtl/sinclairql/sysutils.pp

******************************************************************************
commit d7bef47c24e8a7b55c5fe18f73ec8c3d1453047d
Author: lacak <lacak@idefix.freepascal.org>
Date:   Tue Apr 20 06:38:41 2021 +0000

    fcl-db: return default values for (published) properties where getters are not implemented yet.
    
    git-svn-id: trunk@49238 -

M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit 77681333f520d55157353f13183ef0dce9dd0e4e
Author: florian <florian@freepascal.org>
Date:   Mon Apr 19 19:54:39 2021 +0000

      * patch by J. Gareth Moreton: AArch64 OptPass1Shift register tracking fault fix, resolves #38691
    
    git-svn-id: trunk@49235 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit f718567c95fdc28f629bbf213c0e8f2507064f3a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 19 19:09:34 2021 +0000

    sinclairql: support the upcoming QL binary linking feature of vlink (still in development). it's behind an undocumented -WL switch now. also, reduce the amount of used dataspace by the size of the relocation table in the current linking mode
    
    git-svn-id: trunk@49234 -

M	compiler/globals.pas
M	compiler/options.pas
M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit 2a7aa1116397a409066dcef8048db673e50f77f4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 19 09:13:02 2021 +0000

    m68k: added support to references like (a0,d0.w) in inline assembly, also fixed a bug, where sometimes the index register would have been randomly set as smaller than .l size, when the size wasn't specified
    
    git-svn-id: trunk@49233 -

M	compiler/m68k/cpubase.pas
M	compiler/m68k/r68kgri.inc
M	compiler/m68k/r68ksri.inc
M	compiler/m68k/ra68kmot.pas
M	compiler/utils/mk68kreg.pp

******************************************************************************
commit 6dbcd17f54cd8b4e2e4853785d405233e1948762
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 19 05:42:18 2021 +0000

    sinclairql: hopefully fix off-by-one processing in the packed relocs code
    
    git-svn-id: trunk@49232 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit 71dc62dde61909bd587485a20f3c234c832b9389
Author: florian <florian@freepascal.org>
Date:   Sun Apr 18 19:19:35 2021 +0000

    * if left is a smaller type, then an extension operation for shr can be removed
    
    git-svn-id: trunk@49231 -

M	compiler/ncnv.pas

******************************************************************************
commit 70760208bbc0574bd170e3acd7e8baad3cd90cf2
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 18 15:41:11 2021 +0000

     Add systems_openbsd to suppported_targets_x_smallr and modify GenerateExecutable in t_bsd unit accordingly
    
    git-svn-id: trunk@49229 -

M	compiler/options.pas
M	compiler/systems/t_bsd.pas

******************************************************************************
commit f9957f30a5a70def090032b803925a9733d4cc43
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 18 14:01:09 2021 +0000

    * fix for Mantis #38771: the owner of the procdef might be Nil in case of a specialization (that virtual can't be used on generics is caught later on)
    + added test
    
    git-svn-id: trunk@49228 -

M	.gitattributes
M	compiler/pdecsub.pas
A	tests/webtbf/tw38771.pp

******************************************************************************
commit f5e5f9645cc90c01a6fcc2c89413ccbf0d1d3d5d
Author: pierre <pierre@freepascal.org>
Date:   Sat Apr 17 22:17:46 2021 +0000

     Add fForceUseForwardSlash to TLinkRes class, used for vlink linker on hosts using backslashes
    
    git-svn-id: trunk@49223 -

M	compiler/cscript.pas
M	compiler/systems/t_amiga.pas
M	compiler/systems/t_atari.pas
M	compiler/systems/t_morph.pas
M	compiler/systems/t_msxdos.pas
M	compiler/systems/t_sinclairql.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit d8f02107a1c79c2c4560c5e6ac260f516f083198
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 17 19:42:49 2021 +0000

    * avoid leaving a dangling pointer in pparautl.proc_add_definition to prevent
      use after free in different parts of the compiler
    
    git-svn-id: trunk@49222 -

M	compiler/pparautl.pas

******************************************************************************
commit 711efc3e3aa0e87dddf71663036337434065bdcd
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 17 14:39:54 2021 +0000

    + started working on the SysUtils unit for the WASI platform
    
    git-svn-id: trunk@49220 -

M	.gitattributes
A	rtl/wasi/sysutils.pp

******************************************************************************
commit a0e88efa6a73f044718f233cff76cee983a96dc2
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 17 11:26:21 2021 +0000

    + compile the sysconst unit for wasm32-wasi
    
    git-svn-id: trunk@49216 -

M	rtl/wasi/Makefile
M	rtl/wasi/Makefile.fpc

******************************************************************************
commit 9969da24e17ba35e319a904afe1f55cdfb888e1a
Author: florian <florian@freepascal.org>
Date:   Sat Apr 17 11:14:37 2021 +0000

      * { ... } is no a longer valid comment in aarch64 assembler
    
    git-svn-id: trunk@49215 -

M	tests/tbs/tb0669.pp

******************************************************************************
commit b336155be64943a16b297d1684c45f1daf3f9b6e
Author: florian <florian@freepascal.org>
Date:   Sat Apr 17 07:53:09 2021 +0000

      * improved .gitignore
    
    git-svn-id: trunk@49214 -

******************************************************************************
commit d53b17cadcad90200962c5942a47cec174047612
Author: florian <florian@freepascal.org>
Date:   Fri Apr 16 19:33:31 2021 +0000

      + Aarch64: completed LSE support for all interlocked operations
    
    git-svn-id: trunk@49212 -

M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc
M	compiler/aarch64/aasmcpu.pas
M	rtl/aarch64/aarch64.inc

******************************************************************************
commit 0d5260396cc16d63e444670ea9c32cc6392c7241
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 16 17:03:41 2021 +0000

    sinclairql: added startup code support for the 'packed' relocation table format in vlink. disabled for now.
    
    git-svn-id: trunk@49211 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit 665180a579b47a5d7843c4912086bc6e2060aee1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 16 11:42:04 2021 +0000

    m68k: always use ELF objects with vasm for improved cross-compatibility with other tools and compilers
    
    git-svn-id: trunk@49210 -

M	compiler/m68k/ag68kvasm.pas

******************************************************************************
commit 5442e9f9d86ab7807f917694eab6a06e037ef45a
Author: florian <florian@freepascal.org>
Date:   Wed Apr 14 19:02:54 2021 +0000

      * insert explicit type cast for the count parameter of move/fillchar wrapping C functions,
        avoids a warning in combination with -O3 and negative count values
    
    git-svn-id: trunk@49205 -

M	rtl/inc/cgeneric.inc

******************************************************************************
commit 8f61df817aa2d6f254ab5f118f569b826079806d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 14 14:59:08 2021 +0000

    atari: implemented stacktop for working stacktraces, implemented stacksize dependent stackmargin, and a system specific backtracestr. however, offs display still doesn't work properly, due to a linker issue (reported)
    
    git-svn-id: trunk@49203 -

M	rtl/atari/si_prc.pp
M	rtl/atari/sysos.inc
M	rtl/atari/system.pp

******************************************************************************
commit 2f90dbbd4403147c2131c03b0d25876cdf819d2c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 14 04:05:33 2021 +0000

    sinclairql: implemented StackTop, this results in working stacktraces and working stack checking. Implemented a custom 5% stack safety margin and a system specific SysBackTraceStr()
    
    git-svn-id: trunk@49201 -

M	rtl/sinclairql/si_prc.pp
M	rtl/sinclairql/sysos.inc
M	rtl/sinclairql/system.pp

******************************************************************************
commit 7b9ed5fe466532e6057a7378ce8028f36fed3b97
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 14 02:35:01 2021 +0000

    rtl: make STACK_MARGIN a variable instead of a const. this allows adjusting margin size on system unit init, based on the actual stack length of the executable. useful for small systems running with little stack. allow overwriting SysBackTraceStr with a platform-specific implementation
    
    git-svn-id: trunk@49200 -

M	rtl/inc/system.inc

******************************************************************************
commit 695665c393c0c3b0a67b060b5da4c86249c77f38
Author: florian <florian@freepascal.org>
Date:   Tue Apr 13 21:16:56 2021 +0000

    + optimized multiplication for "symmetric" bit patterns on arm
    
    git-svn-id: trunk@49199 -

M	compiler/arm/cgcpu.pas
M	tests/test/cg/taddcard.pp

******************************************************************************
commit 86c036d9ed8a63040dbe4adf22c96668d94fc7cb
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 13 20:57:18 2021 +0000

     Explicitly disable range and overflow checking to avoid troubles with pointer arithmetics
    
    git-svn-id: trunk@49198 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit da252e2f4b81ff3e626500454c1974c2b4feb62a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 13 10:20:29 2021 +0000

    sinclairql: turn the anyKey string const into a pchar, this reduces the final binary size by 200-odd bytes
    
    git-svn-id: trunk@49196 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit f90324a02af28994799012e81c4bcf1dfb106bbc
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 12 21:34:03 2021 +0000

     Add strings unit to buildrtl meta-unit, and update Makefile.fpc accordingly
    
    git-svn-id: trunk@49195 -

M	rtl/sinclairql/Makefile
M	rtl/sinclairql/Makefile.fpc
M	rtl/sinclairql/buildrtl.pp

******************************************************************************
commit 8ac821613fc84d5488adc81ac10f6b371bcde021
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 12 21:32:34 2021 +0000

     Disable sinclairql target OS for most utils packages
    
    git-svn-id: trunk@49194 -

M	utils/h2pas/fpmake.pp
M	utils/ihxutil/fpmake.pp
M	utils/json2pas/fpmake.pp
M	utils/pas2fpm/fpmake.pp
M	utils/pas2jni/fpmake.pp
M	utils/pas2ut/fpmake.pp
M	utils/tply/fpmake.pp
M	utils/unicode/fpmake.pp

******************************************************************************
commit a6d475b9b35f345bbe4dead1e176a99afe8f9f50
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 13:48:54 2021 +0000

    qlunits: updates, new API and utility functions, improved README
    
    git-svn-id: trunk@49193 -

M	.gitattributes
M	packages/qlunits/README.txt
M	packages/qlunits/fpmake.pp
M	packages/qlunits/src/qdos.pas
A	packages/qlunits/src/qlutil.pas
A	packages/qlunits/src/sms.pas

******************************************************************************
commit 9e7a8f44aa47d53c47bdf6081ddaba0a99c622d3
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 13:23:03 2021 +0000

    sinclairql: add right spelling for iof_mkdr, add the QDOS equivalent alias
    
    git-svn-id: trunk@49192 -

M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/sms.inc
M	rtl/sinclairql/smsfuncs.inc
M	rtl/sinclairql/sysdir.inc

******************************************************************************
commit 81287362339a70ad44e20162e6ee02b135d1cebf
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 12:21:25 2021 +0000

    sinclairql: also have a function which returns a pointer directly to the QLstring job name
    
    git-svn-id: trunk@49191 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit 3280ec322060dfd6fb333d5f789d1b148c35c5ca
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 11:58:14 2021 +0000

    sinclairql: have a max. 48 char buffer for job name. set the job name to the program name by default on system unit init
    
    git-svn-id: trunk@49190 -

M	rtl/sinclairql/si_prc.pp
M	rtl/sinclairql/system.pp

******************************************************************************
commit b5216a19907d45ffa87661879b2a571e589fce75
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 11:51:12 2021 +0000

    m68k: on the Sinclair QL insert the main program's name into the object, so the RTL later can set it as default job name
    
    git-svn-id: trunk@49189 -

M	.gitattributes
M	compiler/m68k/cpunode.pas
A	compiler/m68k/n68kutil.pas

******************************************************************************
commit 5d81c6c43b1f97dcce0df3a816aa72fc3eba4935
Author: lacak <lacak@idefix.freepascal.org>
Date:   Mon Apr 12 10:15:59 2021 +0000

    fcl-db: Introduce TObjectField and TArrayField. Only essential interface parts (added new objects, new properties and methods according to Delphi documentation).
    There is no implementation of methods in fields.inc and dataset.inc.
    Only references to Delphi documentation is added as comments. These comments should be deleted after implementation.
    
    git-svn-id: trunk@49188 -

M	packages/fcl-db/src/base/dataset.inc
M	packages/fcl-db/src/base/db.pas
M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit c8e712f400aeb5f56d8b370f7e0feb5a6405b6cb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 12 09:33:51 2021 +0000

    m68k: cleaned up some ancient mess from cpunode.pas, no significant functional change, apart from unit inclusion order
    
    git-svn-id: trunk@49187 -

M	compiler/m68k/cpunode.pas

******************************************************************************
commit 75a9c5b5009e094dd4f1abd166f9ef47aab97c1a
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 12 08:57:23 2021 +0000

     Also avoid invalid typecast for RegLoadedWithNewValue method for mips, sparcgen and xtensa
    
    git-svn-id: trunk@49186 -

M	compiler/mips/aoptcpu.pas
M	compiler/sparcgen/aoptcpu.pas
M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit 726ac5a5a6afb3017e06ccdd75d6a593b97a72a7
Author: florian <florian@freepascal.org>
Date:   Sun Apr 11 18:25:40 2021 +0000

      - forgotten file, obsolete define removed, belongs to last commit
    
    git-svn-id: trunk@49185 -

M	compiler/systems/i_os2.pas

******************************************************************************
commit 0188a558d1fb63818129f3adc8513dddb6bd42c7
Author: florian <florian@freepascal.org>
Date:   Sun Apr 11 18:18:30 2021 +0000

      - obsolete defines removed
    
    git-svn-id: trunk@49184 -

M	compiler/cclasses.pas
M	compiler/constexp.pas
M	compiler/cutils.pas
M	compiler/systems/i_emx.pas
M	compiler/verbose.pas

******************************************************************************
commit f1e748512bfa4c4f4d9aafa1eb69ad7528c3e4ff
Author: florian <florian@freepascal.org>
Date:   Sun Apr 11 17:30:22 2021 +0000

      * fix test for case sensitive and case preserving file systems
    
    git-svn-id: trunk@49183 -

M	tests/test/units/sysutils/tfilenamecase1.pp

******************************************************************************
commit 1bd9d4173e21a73f4b2fefd1b7daa2207e17d7d4
Author: florian <florian@freepascal.org>
Date:   Sun Apr 11 17:30:21 2021 +0000

      * never ignore BINUTILSPREFIX environment variable in fpmake
      + search also $(BINUTILSPREFIX)-gnu-gcc for a usable gcc to get the libgcc directory
    
    git-svn-id: trunk@49181 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit f5bd3d81e78881e7311d4642ac4d41445b0d86d9
Author: florian <florian@freepascal.org>
Date:   Sun Apr 11 17:30:20 2021 +0000

      + common assembler optimizer base class for powerpc and powerpc64
      * factored out TPPCAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@49180 -

M	.gitattributes
M	compiler/powerpc/aoptcpu.pas
M	compiler/powerpc64/aoptcpu.pas
A	compiler/ppcgen/aoptppc.pas

******************************************************************************
commit c7f3469a3f6135de5990605db59ff5286c6ecbe9
Author: nickysn <nickysn@gmail.com>
Date:   Sun Apr 11 13:38:05 2021 +0000

    * use up to 16 bytes alignment for the WASI target
    
    git-svn-id: trunk@49178 -

M	compiler/systems/i_wasi.pas

******************************************************************************
commit 6ec6d2043b1c2c2fa2c5554b142610d9d333075e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Apr 11 00:19:06 2021 +0000

    sinclairql: enable commandargs and exitcode features
    
    git-svn-id: trunk@49177 -

M	compiler/options.pas

******************************************************************************
commit 81bd47343918e8de171f1f53f26db490934ece79
Author: nickysn <nickysn@gmail.com>
Date:   Sat Apr 10 21:05:58 2021 +0000

    * fixed win32 testsuite regressions after r49084
    
    git-svn-id: trunk@49175 -

M	compiler/pdecvar.pas

******************************************************************************
commit ad05434401e59e015f311cbda833ed0678b39fa7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 17:23:32 2021 +0000

    sinclairql: add the used includes to the system unit deps
    
    git-svn-id: trunk@49174 -

M	rtl/sinclairql/Makefile
M	rtl/sinclairql/Makefile.fpc

******************************************************************************
commit 9432aa4b69a471904eaa57f44edb1e0cb0e82511
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 17:20:50 2021 +0000

    sinclairql: do_mkdir implemented, patch by Norman Dunbar
    
    git-svn-id: trunk@49173 -

M	rtl/sinclairql/sysdir.inc
M	rtl/sinclairql/sysos.inc

******************************************************************************
commit 3d4e677db0e3c2aa309c6513249bb4affc498bc4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 17:20:08 2021 +0000

    sinclairql: new files to contain SMS only functions, iof_rename implemented, based on a patch by Norman Dunbar
    
    git-svn-id: trunk@49172 -

M	.gitattributes
A	rtl/sinclairql/sms.inc
A	rtl/sinclairql/smsfuncs.inc

******************************************************************************
commit 541c65feb758859aadbb99ef66022f79394cbbfb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 17:04:47 2021 +0000

    sinclairql: implemented do_rename(), based on the patch of Norman Dunbar
    
    git-svn-id: trunk@49171 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/sysfile.inc

******************************************************************************
commit 992fa3eea700295201d78e109b33140f63e28dc2
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 15:16:13 2021 +0000

    qlunits: updated to match the latest RTL qdosfuncs.inc
    
    git-svn-id: trunk@49170 -

M	packages/qlunits/src/qdos.pas

******************************************************************************
commit fc26e2629bd22a1b8d7df4dd033dd15c2773cb21
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 15:15:12 2021 +0000

    sinclairql: various seeking, FS_POSAB/FS_POSRE and ERR_EF related fixes
    
    git-svn-id: trunk@49169 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/sysfile.inc

******************************************************************************
commit f3a19aaf5976d5356a4def9355bf2866ff2aa675
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 10 15:12:45 2021 +0000

    sinclairql: first version of working argc/argv generation. implemented ParamCount and ParamStr()
    
    git-svn-id: trunk@49168 -

M	rtl/sinclairql/si_prc.pp
M	rtl/sinclairql/system.pp

******************************************************************************
commit c1f85ac3a11e6fd2ed02371d17ab3c0a1522493a
Author: florian <florian@freepascal.org>
Date:   Sat Apr 10 13:29:59 2021 +0000

      + initial implementation of path dependent IsFileNameCaseSensitive/IsFileNameCasePreserving functions for darwin
    
    git-svn-id: trunk@49164 -

M	.gitattributes
M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/unix/oscdeclh.inc
M	rtl/unix/sysutils.pp
M	tests/test/units/sysutils/texpfncase.pp
A	tests/test/units/sysutils/tfilenamecase1.pp

******************************************************************************
commit ad66a1966650d522a1d9ca2543c9b0de2ce4c93d
Author: marco <marco@freepascal.org>
Date:   Sat Apr 10 10:59:00 2021 +0000

     * on second thought, and a byte typecast so that an expanded intrinsics doesn't loop over unnecessary bits.
    
    git-svn-id: trunk@49162 -

M	packages/fcl-image/src/fpreadbmp.pp

******************************************************************************
commit f26c366e9ba6dda24a080f7d0958f4915b584850
Author: marco <marco@freepascal.org>
Date:   Sat Apr 10 10:56:47 2021 +0000

     * use popcnt instead of countbits.
     * change countbits to popcnt in case it is used by others.
    
    suggestion by Bi0t1n, mantis 0038728
    
    git-svn-id: trunk@49161 -

M	packages/fcl-image/src/fpreadbmp.pp

******************************************************************************
commit ff3f812d979e57b49463224a814c64e027670d2d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 10 10:56:02 2021 +0000

      * fix conversion of true/false macro definitions to boolean values
        (mantis #38492)
       o since the macro lookups are recursive, "mac" will usually be nil
         afterwards (unless we found an undefined macro)
    
    git-svn-id: trunk@49160 -

M	.gitattributes
M	compiler/scanner.pas
A	tests/webtbs/tw38492.pp

******************************************************************************
commit 500e29e5e2c9b1ae310bd2193c493a221e55972c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 10 08:19:40 2021 +0000

      * regenerated with FreeBSD/AArch64 support
    
    git-svn-id: trunk@49159 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit c970c17ecab522488e125c6541c1368a43d1295f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 10 08:19:20 2021 +0000

      * updated revision.inc
    
    git-svn-id: trunk@49158 -

M	utils/fpcm/revision.inc

******************************************************************************
commit d8021a11029990117503179f27e8b9af6418d32c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 10 07:57:28 2021 +0000

      + FreeBSD/AArch64 support (patch by Mikaël Urankar, mantis #38441)
    
    git-svn-id: trunk@49157 -

M	.gitattributes
M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cputarg.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/systems/i_bsd.pas
M	compiler/systems/t_bsd.pas
M	compiler/utils/ppuutils/ppudump.pp
A	rtl/bsd/aarch64/syscall.inc
A	rtl/bsd/aarch64/syscallh.inc
M	rtl/bsd/bunxsysc.inc
A	rtl/freebsd/aarch64/bsyscall.inc
A	rtl/freebsd/aarch64/cprt0.as
A	rtl/freebsd/aarch64/dllprt0.as
A	rtl/freebsd/aarch64/gprt0.as
A	rtl/freebsd/aarch64/prt0.as
A	rtl/freebsd/aarch64/si_c.inc
A	rtl/freebsd/aarch64/sighnd.inc
M	rtl/freebsd/signal.inc
M	rtl/freebsd/ucontexth.inc
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 9f8566dd84cd77faf02816ff11b6b4092af5a0d4
Author: pierre <pierre@freepascal.org>
Date:   Fri Apr 9 23:11:53 2021 +0000

    Refactor code to avoid problems with -CR option
    
    git-svn-id: trunk@49155 -

M	compiler/powerpc/aoptcpu.pas

******************************************************************************
commit 243ddea68697120e162f5facac53b0ed59578ee0
Author: florian <florian@freepascal.org>
Date:   Fri Apr 9 20:20:53 2021 +0000

      * PowerPC: initial (and primitive) implemenation of TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@49153 -

M	compiler/powerpc/aoptcpu.pas

******************************************************************************
commit b0c434b2b2e41bc2fed97ca70e85eff44134a7c3
Author: pierre <pierre@freepascal.org>
Date:   Fri Apr 9 20:15:48 2021 +0000

    Disable most utils for SinclairQL for now
    
    git-svn-id: trunk@49152 -

M	utils/fpcm/fpmake.pp
M	utils/fpcmkcfg/fpmake.pp
M	utils/fpcres/fpmake.pp
M	utils/fpcreslipo/fpmake.pp
M	utils/fpdoc/fpmake.pp
M	utils/fpmake.pp
M	utils/fppkg/fpmake.pp
M	utils/fprcp/fpmake.pp

******************************************************************************
commit b09669dffe04ed05fa7f4c19cdde5a2531be0668
Author: florian <florian@freepascal.org>
Date:   Fri Apr 9 20:09:19 2021 +0000

      * allow also CSUBSETREG in tx86inlinenode.second_IncludeExclude, resolves #38733
    
    git-svn-id: trunk@49151 -

M	.gitattributes
M	compiler/x86/nx86inl.pas
A	tests/webtbs/tw38733.pp

******************************************************************************
commit ca475537e886a36b1ba76127db7a3c0bf454e3a2
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 04:35:54 2021 +0000

    sinclairql: instead of tinyheap, made the QL port to use the new OS heap by default, also implemented Randomize, based on patch by Norman Dunbar
    
    git-svn-id: trunk@49150 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit f5c22b7a9310e0f9f0fa118b04aec75914bc05df
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 04:34:38 2021 +0000

    sinclairql: various file and directory handling improvements, based on patch by Norman Dunbar
    
    git-svn-id: trunk@49149 -

M	rtl/sinclairql/sysdir.inc
M	rtl/sinclairql/sysfile.inc

******************************************************************************
commit e7681dfe5beaf76263c2fb7d080e12f8f8c682f8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 04:24:06 2021 +0000

    sinclairql: implemented io_delet and mt_rclck QDOS functions, patch by Norman Dunbar
    
    git-svn-id: trunk@49148 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc

******************************************************************************
commit d48019247745e8e1b644aa3381ae0303d6310fdd
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 04:22:47 2021 +0000

    sinclairql: implemented Error2InOutRes, patch by Norman Dunbar
    
    git-svn-id: trunk@49147 -

M	rtl/sinclairql/sysos.inc

******************************************************************************
commit 08023bbad0df203030f1998f7f5ea724446efaab
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 03:04:24 2021 +0000

    sinclairql: fixed parameter trashing in several QDOS function assembler wrappers
    
    git-svn-id: trunk@49146 -

M	rtl/sinclairql/qdos.inc

******************************************************************************
commit caa2735203b91db513fe8af1e835aa711c0ccf77
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 9 02:20:22 2021 +0000

    osheap: new very small heap manager which only acts as a thin layer above an OS provided heap API. mainly aimed for small and embedded systems
    
    git-svn-id: trunk@49145 -

M	.gitattributes
A	rtl/inc/osheap.inc

******************************************************************************
commit 80d549a73449381204174b98462fd83ba9aeb538
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 8 23:51:48 2021 +0000

    sinclairql: further tweaks to the startup code. enable optimizations. mark functions as noreturn to save a few bytes
    
    git-svn-id: trunk@49144 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit ab0de8eec00aba5b957e2db1b31528a65dac18c7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 8 23:33:54 2021 +0000

    sinclairql: fix and simplify the startup code changes in r49134. accessing global variables is not possible before relocation
    
    git-svn-id: trunk@49143 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit f13b47289e016d61dbf154ba63de090699e0694d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 8 19:50:40 2021 +0000

      * handle case where the first instruction with line information is looked up
       o this should be handled better. The common way is looking up address - 1,
         but that doesn't seem to work here.
    
    git-svn-id: trunk@49142 -

M	rtl/inc/lnfodwrf.pp

******************************************************************************
commit 7b5e58382b8cfd6f97b6928ee1107512741db426
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 8 19:50:37 2021 +0000

      * regenerated
    
    git-svn-id: trunk@49141 -

M	rtl/darwin/Makefile

******************************************************************************
commit 4166e8c46409c6730e19c5dd3b1cc651b7bcc1de
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 8 19:50:30 2021 +0000

      * Darwin/BSD: fixed StackBottom calculation
    
    git-svn-id: trunk@49139 -

M	rtl/bsd/system.pp

******************************************************************************
commit ca399f3c7166947e42e507c3cb141cfec46f9e0f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 8 19:50:27 2021 +0000

      * don't generate high-level CFI statements when the selected assembler
        does not support them, even if the target normally uses them
       o fixes assembling with -Aas-darwin for i386/arm/x86-64 (on OS
         versions that used those)
    
    git-svn-id: trunk@49138 -

M	compiler/aarch64/agcpugas.pas
M	compiler/arm/agarmgas.pas
M	compiler/cfidwarf.pas
M	compiler/systems.pas
M	compiler/x86/agx86att.pas

******************************************************************************
commit 1b34fe90a33567d41a103838648df4dc930ba2cb
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 8 19:50:24 2021 +0000

      * don't override specified assembler on the command line when leaving
        assembler files in case that specified assembler is already an
        external one
    
    git-svn-id: trunk@49137 -

M	compiler/options.pas

******************************************************************************
commit c90616944d3bde7b36e924d27a0790195d61f95c
Author: florian <florian@freepascal.org>
Date:   Thu Apr 8 17:21:59 2021 +0000

      + Aarch64: create better code for not(<byte>)
    
    git-svn-id: trunk@49135 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 44e39f454a38bb3cfc8a61b8587fa225c3ebec61
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 7 15:58:42 2021 +0000

     Add basic support for setting argc and argv for sinclairql OS
    
    git-svn-id: trunk@49134 -

M	rtl/sinclairql/si_prc.pp
M	rtl/sinclairql/system.pp

******************************************************************************
commit 3ac0522f70fd2e0eaf66858f64d3d00b73eed42a
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 7 15:49:31 2021 +0000

     Add sinclairql to NO_NATIVE_COMPILER_OS_LIST
    
    git-svn-id: trunk@49133 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 9a39124118cc4b065774f84a7a7d7cfdcc8456c1
Author: florian <florian@freepascal.org>
Date:   Wed Apr 7 13:54:58 2021 +0000

      * Xtensa: fix crash in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@49132 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit 432cd5bdd36b3057283b1907fbe7dc4f0170b99f
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 6 21:14:42 2021 +0000

    Update after commit 49123
    
    git-svn-id: trunk@49130 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 9ec85f940e650d196a66510be981d6f8b8a774a6
Author: florian <florian@freepascal.org>
Date:   Tue Apr 6 19:16:17 2021 +0000

      * do not remove register deallocations/allocation pairs if the register is written
    
    git-svn-id: trunk@49129 -

M	compiler/aopt.pas

******************************************************************************
commit e4cc8af8fc4e66ca5bf7d2741d749c2b5d30c195
Author: florian <florian@freepascal.org>
Date:   Mon Apr 5 15:39:07 2021 +0000

      * Makefiles regenerated
    
    git-svn-id: trunk@49124 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/wasi/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile
M	utils/wasmbin/Makefile

******************************************************************************
commit 755c574a87c2505c793dc7fa51fdcb2c572ace70
Author: florian <florian@freepascal.org>
Date:   Sun Apr 4 14:54:56 2021 +0000

      + lazarus project
    
    git-svn-id: trunk@49119 -

M	.gitattributes
A	rtl/darwin/buildrtl.lpi
A	rtl/darwin/buildrtl.pp

******************************************************************************
commit 87a67a3222693a0b627cda9a47197d8c4893a205
Author: florian <florian@freepascal.org>
Date:   Sat Apr 3 22:01:47 2021 +0000

      * typo fixed
    
    git-svn-id: trunk@49118 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 08817f1aed8b29c9e30d7d9edc9530e89bb0bea0
Author: florian <florian@freepascal.org>
Date:   Sat Apr 3 21:28:09 2021 +0000

      * fixes to deadstore optimization
    
    git-svn-id: trunk@49117 -

M	compiler/optdeadstore.pas

******************************************************************************
commit d12dd1bdae222b6a7e30c46ed31d5428e1c516a6
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Apr 3 18:13:51 2021 +0000

    * CortexM4: Add some missing system registers
    
    git-svn-id: trunk@49114 -

M	rtl/embedded/arm/cortexm4.pp

******************************************************************************
commit e6f01065ec67ea82b1d8a4484f07d4680be82b8e
Author: florian <florian@freepascal.org>
Date:   Sat Apr 3 11:59:36 2021 +0000

      + Aarch64: use LSE if available for atomic intrinsics
    
    git-svn-id: trunk@49113 -

M	rtl/aarch64/aarch64.inc

******************************************************************************
commit f3d8efc8ec3690b97f3d5f15d6874359435271fe
Author: florian <florian@freepascal.org>
Date:   Sat Apr 3 11:30:23 2021 +0000

      * Aarch64: support LSE instructions
    
    git-svn-id: trunk@49112 -

M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc
M	compiler/aarch64/aasmcpu.pas

******************************************************************************
commit f879d764917721ff3bd99c7e6fb6134cc8ee7197
Author: florian <florian@freepascal.org>
Date:   Fri Apr 2 21:41:31 2021 +0000

      * forgotten " added
    
    git-svn-id: trunk@49109 -

M	compiler/options.pas

******************************************************************************
commit f38f9ff930b754f2b94f8dc876f53d22ab0d23a6
Author: florian <florian@freepascal.org>
Date:   Fri Apr 2 20:57:12 2021 +0000

      * Aarch64: cpu capabilites defines properly named
      * Aarch64: enable defining cpu capabilites
    
    git-svn-id: trunk@49108 -

M	compiler/aarch64/cpuinfo.pas
M	compiler/fpcdefs.inc

******************************************************************************
commit 9e7d80a8bd1f1fcfd60bab5750b30c05db3c3f6a
Author: florian <florian@freepascal.org>
Date:   Fri Apr 2 19:52:00 2021 +0000

      * Aarch64: the M1 is an ARM v8.4-a CPU
    
    git-svn-id: trunk@49107 -

M	compiler/options.pas

******************************************************************************
commit 3999d037e3f66961a2ee4993db53d1d8e9fa21f0
Author: florian <florian@freepascal.org>
Date:   Fri Apr 2 17:13:11 2021 +0000

      + write controller unit wiht -ix as well
    
    git-svn-id: trunk@49106 -

M	compiler/options.pas

******************************************************************************
commit bf65bad5c5c92a2bffcc5dff4a5ced917116a8a1
Author: florian <florian@freepascal.org>
Date:   Fri Apr 2 17:08:34 2021 +0000

      + Aarch64: cpu_capabilities support
    
    git-svn-id: trunk@49105 -

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cpuinfo.pas

******************************************************************************
commit e53d18d876349d27b75a9dc00340b4a8edaceaf9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 2 15:25:05 2021 +0000

    * Windows on ARM64 adheres to the usual Aarch64 ABI, thus references need to be copied on the caller side as well
    
    git-svn-id: trunk@49103 -

M	compiler/systems.pas

******************************************************************************
commit 2885d3ab569ac5143b094419de211b2c1405f568
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 2 15:25:01 2021 +0000

    * fix for Mantis #37426: don't allow an instance function of a type helper to be used on the type instead of a concrete value
    + added test
    
    git-svn-id: trunk@49102 -

M	.gitattributes
M	compiler/pexpr.pas
A	tests/webtbf/tw37426.pp

******************************************************************************
commit d712c64236a3e5d684975ee2a94a77c17141ceb0
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Thu Apr 1 20:55:21 2021 +0000

    * thumb2: Optimize fillchar a bit more with a wider inner loop chunk size
    
    git-svn-id: trunk@49100 -

M	rtl/arm/thumb2.inc

******************************************************************************
commit 682e29c4ff6b494b468fdf0f1295ec85fee37ec4
Author: florian <florian@freepascal.org>
Date:   Thu Apr 1 16:32:52 2021 +0000

      + enable colored output on darwin, resolves #38693
    
    git-svn-id: trunk@49099 -

M	compiler/comptty.pas

******************************************************************************
commit 8b779975aa1d93f7a4e64b280ff02179dcff0d70
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Thu Apr 1 12:36:06 2021 +0000

    * thumb2: Make fillchar smaller, faster and more reliable. Some gas versions remove the "mov r0,r0" making the calculated branch break
    
    git-svn-id: trunk@49098 -

M	rtl/arm/thumb2.inc

******************************************************************************
commit 7811b915a918cd014806bfde2085bdbad62c8b2f
Author: florian <florian@freepascal.org>
Date:   Wed Mar 31 21:23:22 2021 +0000

      * x86-64: we can spill replace 32 bit operations if the operation does not modify a register
    
    git-svn-id: trunk@49097 -

M	compiler/x86/rgx86.pas

******************************************************************************
commit 8ea95e9b9518ff3c9b52672a2575287d613bf5c9
Author: pierre <pierre@freepascal.org>
Date:   Wed Mar 31 21:03:50 2021 +0000

    Use value $00000F00 instead of $F0000000 for IF_FPMASK, and adapt all floating point constants, to avoid IF_VFPv4 having the same value as IF_PASS2
    
    git-svn-id: trunk@49096 -

M	compiler/arm/aasmcpu.pas

******************************************************************************
commit c8c6e647be33882b84c2ffffd9c4b84ea4fee1a0
Author: pierre <pierre@freepascal.org>
Date:   Wed Mar 31 20:53:08 2021 +0000

     Avoid keeping optimized out node in callcleanupblock.statements or callinitblock.statements
    
    git-svn-id: trunk@49094 -

M	compiler/ncal.pas

******************************************************************************
commit 07a8e6c1d61cfa4a588d3e88997940c22f25fd6a
Author: florian <florian@freepascal.org>
Date:   Wed Mar 31 18:53:31 2021 +0000

      + some more change information entries added
    
    git-svn-id: trunk@49092 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit a8df728548dcfd0e607021ba296fe41901f1bca0
Author: michael <michael@freepascal.org>
Date:   Tue Mar 30 22:11:26 2021 +0000

    * Apparently, taking code from freeclx is not OK
    
    git-svn-id: trunk@49091 -

M	packages/fcl-db/src/base/dataset.inc
M	packages/fcl-db/src/base/db.pas
M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit bc4a22e24d21870fe797d495cf5a749cdf89a12c
Author: florian <florian@freepascal.org>
Date:   Tue Mar 30 21:43:20 2021 +0000

      + Xtensa: tcpuinlinenode.second_prefetch
    
    git-svn-id: trunk@49090 -

M	compiler/xtensa/ncpuinl.pas

******************************************************************************
commit 47557e0ad24e6df119fecbf2d42a65dc9cd20b8a
Author: florian <florian@freepascal.org>
Date:   Tue Mar 30 16:44:19 2021 +0000

      * cpubase.cgsize2subreg should handle all valid sizes, resolves #38557
    
    git-svn-id: trunk@49087 -

M	.gitattributes
M	compiler/x86/cpubase.pas
A	tests/webtbs/tw38557.pp

******************************************************************************
commit 89fc5b7f8d60971b555b7da24970e3b7f2f83b17
Author: lacak <lacak@idefix.freepascal.org>
Date:   Tue Mar 30 11:30:19 2021 +0000

    fcl-db: Introduce TArrayField. Only essential parts (added new object properties according to Delphi documentation). Some code taken from FreeCLX project (https://sourceforge.net/projects/freeclx/)
    
    git-svn-id: trunk@49085 -

M	packages/fcl-db/src/base/dataset.inc
M	packages/fcl-db/src/base/db.pas
M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit 8ec71bc810be192183c9dea7ef4bab8a33a2df66
Author: nickysn <nickysn@gmail.com>
Date:   Tue Mar 30 11:05:00 2021 +0000

    * fixed memory leak, introduced accidentally in r48998
    
    git-svn-id: trunk@49084 -

M	compiler/pdecvar.pas

******************************************************************************
commit 803402b2250e231094507f581924a0dbeeeda7b0
Author: lacak <lacak@idefix.freepascal.org>
Date:   Tue Mar 30 09:54:04 2021 +0000

    fcl-db: Introduce TObjectField. Only essential parts (added new object properties according to Delphi documentation)
    
    git-svn-id: trunk@49083 -

M	packages/fcl-db/src/base/db.pas

******************************************************************************
commit f517d21507d66cef0b6a1144f41c8359982e9c2e
Author: lacak <lacak@idefix.freepascal.org>
Date:   Tue Mar 30 09:37:30 2021 +0000

    fcl-db: Introduce TObjectField. Only essential parts (added new object properties according to Delphi documentation). Some code taken from FreeCLX project (https://sourceforge.net/projects/freeclx/)
    
    git-svn-id: trunk@49082 -

M	packages/fcl-db/src/base/db.pas
M	packages/fcl-db/src/base/fields.inc

******************************************************************************
commit 0d895c5826f0425712611001128e5575e06b392b
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 28 21:51:30 2021 +0000

     Fix short name for utils-fpcres for OS/2 and EMX
    
    git-svn-id: trunk@49077 -

M	installer/install.dat

******************************************************************************
commit b4eb1780adc03586278a8780b376300308b33727
Author: florian <florian@freepascal.org>
Date:   Sun Mar 28 21:10:13 2021 +0000

      * added test, issue is fixed by r48758 already
    
    git-svn-id: trunk@49075 -

M	.gitattributes
A	tests/webtbs/tw34232.pp

******************************************************************************
commit 47eb7cec0cbe9a6c944ff570569138a3d5aff41c
Author: florian <florian@freepascal.org>
Date:   Sun Mar 28 21:09:35 2021 +0000

      * test needs objfpc mode else i is 16 bit only
    
    git-svn-id: trunk@49074 -

M	tests/webtbs/tw38636.pp

******************************************************************************
commit 9b61b538d8216a27fc02e03c203ddaaf5ca1b96b
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 28 16:31:12 2021 +0000

    Use utils also for short version for OS/2 and emx
    
    git-svn-id: trunk@49072 -

M	installer/install.dat

******************************************************************************
commit ff71c51e4ec7950e7297c57178a3e575ed2bd83e
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 28 00:11:06 2021 +0000

     Remove double source entry for utils lexyacc  package
    
    git-svn-id: trunk@49070 -

M	installer/install.dat

******************************************************************************
commit 3ea0c335c9e22f066f59fdb7f0e6cf4529d701ac
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 28 00:07:58 2021 +0000

     Replace p2fp by p2fm as short version for pas2fpm utils package and add some missing -3.3.1 to long source zip names
    
    git-svn-id: trunk@49069 -

M	installer/install.dat

******************************************************************************
commit 5a20531d9be85ad43f38fbd240bc65f27c57c801
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Mar 27 19:48:32 2021 +0000

    * rework the basic event on Windows so that peventstate directly represents the Event handle
    
    git-svn-id: trunk@49068 -

M	rtl/win/systhrd.inc

******************************************************************************
commit 793ecb3fa67214c2b6da67609c5f4e6ddef96bd3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 27 19:01:04 2021 +0000

      * fixed assembling via pipe on Darwin
    
    git-svn-id: trunk@49067 -

M	compiler/assemble.pas

******************************************************************************
commit 6218254e53d3bd9bd6cc2c62b5d6ecb86235dcd7
Author: florian <florian@freepascal.org>
Date:   Sat Mar 27 17:13:14 2021 +0000

      * allow also 8 byte string constants in assembler, resolves #28640
    
    git-svn-id: trunk@49066 -

M	.gitattributes
M	compiler/raatt.pas
M	compiler/x86/rax86int.pas
A	tests/webtbs/tw28640.pp
A	tests/webtbs/tw28640a.pp

******************************************************************************
commit 308aee42a011e796260906a9d99699dc6521d3c2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 27 15:31:33 2021 +0000

      * the offset parameter of reference_reset* must be asizeint rather than
        longint (mantis #38636)
    
    git-svn-id: trunk@49065 -

M	.gitattributes
M	compiler/cgutils.pas
A	tests/webtbs/tw38636.pp

******************************************************************************
commit ca7c775e3671ce703894d6ad4b13fa11ae5c1ff3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Mar 27 09:35:07 2021 +0000

    * fix for Mantis #38642: for enumerations with jumps Delphi behaves as follows:
      - GetTypeKind returns tkEnumeration (FPC previously generated a compile error here)
      - GetTypeInfo on a generic parameters returns Nil for such types (FPC previously generated a compile error here)
      - GetTypeInfo otherwise generates a compile error (as before)
    
    git-svn-id: trunk@49064 -

M	.gitattributes
M	compiler/ninl.pas
A	tests/test/trtti21.pp
A	tests/test/trtti22.pp
A	tests/test/trtti23.pp
A	tests/webtbs/tw38642.pp

******************************************************************************
commit 57e040cb8234aac29a28a76a2befe3f46eb35faf
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Mar 27 09:35:02 2021 +0000

    * don't use GetTypeData() when ATypeInfo is Nil
    
    git-svn-id: trunk@49063 -

M	packages/rtl-generics/src/generics.defaults.pas

******************************************************************************
commit 067b9b2922824a6801001abe1f2c67559cdad78c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Mar 27 09:34:59 2021 +0000

    * copy and compare the typesym inside type nodes as well
    
    git-svn-id: trunk@49062 -

M	compiler/nld.pas

******************************************************************************
commit 2d255cec9146f690285cf34bd56e49a6065da38b
Author: pierre <pierre@freepascal.org>
Date:   Fri Mar 26 23:58:46 2021 +0000

     Update OS/2 packages
    
    git-svn-id: trunk@49061 -

M	installer/install.dat

******************************************************************************
commit 869f6993911b6bbfbe48c424077413f6510eb3ea
Author: pierre <pierre@freepascal.org>
Date:   Fri Mar 26 23:51:54 2021 +0000

     Update EMX packages
    
    git-svn-id: trunk@49060 -

M	installer/install.dat

******************************************************************************
commit 2ed3bfb58771edfb9882e193506554f1a52051d2
Author: pierre <pierre@freepascal.org>
Date:   Fri Mar 26 23:38:07 2021 +0000

     Add missing go32v2 zips and corresponding sources
    
    git-svn-id: trunk@49059 -

M	installer/install.dat

******************************************************************************
commit 632e3ff2cdabd20aa38f8e1f43fab0fcbf79adc3
Author: pierre <pierre@freepascal.org>
Date:   Fri Mar 26 23:35:38 2021 +0000

     Use utils as shortname also
    
    git-svn-id: trunk@49058 -

M	utils/fpmake.pp

******************************************************************************
commit 1ad9091763169ddc571e28756f400706c8ac5a68
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Mar 26 07:19:17 2021 +0000

    fcl-db: odbc: make TODBCCursor.STMTHandle and ODBCSuccess public
    
    git-svn-id: trunk@49056 -

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit c2ff85ac5ba307d7cc10cae7ee17d479c83c9119
Author: florian <florian@freepascal.org>
Date:   Thu Mar 25 21:51:52 2021 +0000

      * patch by J. Gareth Moreton: Nothing (NOP) node optimisation, resolves #38194
    
    git-svn-id: trunk@49054 -

M	compiler/nbas.pas

******************************************************************************
commit 50cb5707eff57d51a30dc2d2953dcf91a7a93f68
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Mar 25 16:33:22 2021 +0000

    amiga: check if P is nil while processing params. this should never happen, except sometimes in real world it still happens. so lets be defensive about it
    
    git-svn-id: trunk@49052 -

M	rtl/amicommon/paramhandling.inc

******************************************************************************
commit 6b0d010a677841fc38b0b298d5c94d09c2bc3a79
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Mar 25 14:47:47 2021 +0000

    fcl-db: odbc: partially revert #49049
    
    git-svn-id: trunk@49051 -

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas

******************************************************************************
commit fa0b053b21c87c80e5fa1d01b283194febae5746
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Mar 25 09:44:14 2021 +0000

    fcl-db: odbc: go to first selectable result. issue #38664
    
    git-svn-id: trunk@49049 -

M	packages/fcl-db/src/sqldb/odbc/odbcconn.pas
M	packages/odbc/src/odbcsql.inc

******************************************************************************
commit 7a0c6ab591659dd05274fb4c8a05d39b760bb12d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Mar 24 14:33:13 2021 +0000

      - removed unused leftovers from old t_bsd code
      * no longer execute the linker via a shell script, but directly
    
    git-svn-id: trunk@49046 -

M	compiler/link.pas
M	compiler/systems/t_darwin.pas

******************************************************************************
commit 7fbda0e0e8b1d071e72ccbc5e487dbb1c2173c63
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Mar 24 14:33:09 2021 +0000

      * support building with FPC 3.2.2
    
    git-svn-id: trunk@49045 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit e99c9ddd7522d2d07c1bf4f736ea33aa0d0bba55
Author: michael <michael@freepascal.org>
Date:   Tue Mar 23 11:53:33 2021 +0000

    * Add deprecation message
    
    git-svn-id: trunk@49038 -

M	rtl/objpas/classes/classesh.inc

******************************************************************************
commit 1b1e1009c117d76b91b780147feecce12eda4526
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Mar 23 09:36:45 2021 +0000

    rtl: reverted some accidental but harmless extra changes committed in r49036
    
    git-svn-id: trunk@49037 -

M	rtl/objpas/sysutils/dati.inc

******************************************************************************
commit 45b5e9215cc4bb6e1b199034aab9ce893d5b526e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Mar 23 09:32:49 2021 +0000

    rtl: remove defines for v2.x compiler from the common part of the RTL. It's no longer suppported to build with that
    
    git-svn-id: trunk@49036 -

M	rtl/inc/compproc.inc
M	rtl/inc/dynlib.inc
M	rtl/inc/filerec.inc
M	rtl/inc/generic.inc
M	rtl/inc/rtti.inc
M	rtl/inc/rttidecl.inc
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc
M	rtl/inc/textrec.inc
M	rtl/objpas/character.pas
M	rtl/objpas/classes/lists.inc
M	rtl/objpas/fgl.pp
M	rtl/objpas/objpas.pp
M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/sysencoding.inc
M	rtl/objpas/sysutils/sysencodingh.inc
M	rtl/objpas/sysutils/sysstr.inc

******************************************************************************
commit 1105726dcf0065083c5f23921c1e87c9172eb61b
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Mar 22 18:40:12 2021 +0000

    * Add SAMD51P19A controller type. Unit generated by Michael Ring and slightly modified.
    
    git-svn-id: trunk@49034 -

M	.gitattributes
M	compiler/arm/cpuinfo.pas
M	compiler/systems/t_embed.pas
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
A	rtl/embedded/arm/samd51p19a.pp

******************************************************************************
commit bae6ca6883d84aff6c9061af6ddf35a7766b51b4
Author: florian <florian@freepascal.org>
Date:   Mon Mar 22 18:11:41 2021 +0000

      * Dwarf: write variant fields only if the require features are present, resolves #38651
    
    git-svn-id: trunk@49032 -

M	compiler/dbgdwarf.pas

******************************************************************************
commit 4c209a7dc2aa1f0fe43b104255d7d7670942bd4d
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 21 18:21:53 2021 +0000

    * JVM compilation fixed
    
    git-svn-id: trunk@49026 -

M	rtl/java/jsystemh.inc

******************************************************************************
commit e8b92a4a7692c4922d7f8d4e394c6f145b193103
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Mar 21 11:14:24 2021 +0000

    qlunits: fix the return value of longint_to_qlfp
    
    git-svn-id: trunk@49023 -

M	packages/qlunits/src/qlfloat.pas

******************************************************************************
commit 90d9f80aa5716874c72948aff282de6ee9f6c035
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 21 10:41:06 2021 +0000

     Change short name of qlunits package to 'qlun' to respect 4 char limitation
    
    git-svn-id: trunk@49022 -

M	packages/qlunits/fpmake.pp

******************************************************************************
commit c4ddb94cb42420c8e47c6daf181a64550ece1615
Author: florian <florian@freepascal.org>
Date:   Sat Mar 20 21:28:58 2021 +0000

      * remove nf_write from the counter node when converting for loops into while loops if the counter is only read
    
    git-svn-id: trunk@49020 -

M	compiler/nflw.pas

******************************************************************************
commit 800bb3adc2362456af74494503cca82bd12c0598
Author: nickysn <nickysn@gmail.com>
Date:   Fri Mar 19 21:13:20 2021 +0000

    * instead of using discardresult, wrap the uniquestring functions in procedures,
      that are declared as inline
    
    git-svn-id: trunk@49016 -

M	rtl/inc/astrings.inc
M	rtl/inc/systemh.inc
M	rtl/inc/ustringh.inc
M	rtl/inc/ustrings.inc
M	rtl/inc/wstringh.inc
M	rtl/inc/wstrings.inc

******************************************************************************
commit b9affc3406b07c24ffc76005f71d41adf22b08aa
Author: florian <florian@freepascal.org>
Date:   Fri Mar 19 17:39:52 2021 +0000

      * RiscV64: type conversion to 8 bit improved
    
    git-svn-id: trunk@49015 -

M	compiler/riscv64/cgcpu.pas

******************************************************************************
commit 2a96ad2715a9699b5a592e11b6e319557c953d4d
Author: michael <michael@freepascal.org>
Date:   Fri Mar 19 14:25:21 2021 +0000

    * Check buffer overflow when reading
    
    git-svn-id: trunk@49012 -

M	rtl/unix/timezone.inc

******************************************************************************
commit 28e359f09127e0a179ba5294839d7d21251688d2
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Mar 19 14:13:04 2021 +0000

    pqconnection: refactoring - use variable
    
    git-svn-id: trunk@49011 -

M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp

******************************************************************************
commit 72fc981c7fe2ce8e6cc3da0aa3a82bea98a97403
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Mar 19 14:09:02 2021 +0000

    pqconnection: support ftVarBytes parameters (TParam.SetAsBytes)
    
    git-svn-id: trunk@49010 -

M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp

******************************************************************************
commit 3575369989aec5abd254bca433d60df24e47f2a8
Author: michael <michael@freepascal.org>
Date:   Fri Mar 19 09:22:13 2021 +0000

    * Fix leap second reading
    
    git-svn-id: trunk@49006 -

M	rtl/unix/timezone.inc

******************************************************************************
commit 2a61397d373f2ef7e8df8c5112be64770309b626
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Mar 19 08:11:10 2021 +0000

    unix: fix timezone info for timers after the last transition
    
    git-svn-id: trunk@49005 -

M	rtl/unix/timezone.inc
M	tests/test/units/unix/ttimezone1.pp

******************************************************************************
commit 85a8169c486dce73aadf89a0a1b1de6b28c55df6
Author: pierre <pierre@freepascal.org>
Date:   Thu Mar 18 22:28:55 2021 +0000

     Use 4 char-long ShortName for ihxutil utils package
    
    git-svn-id: trunk@49003 -

M	utils/ihxutil/fpmake.pp

******************************************************************************
commit 9e2bcd940aa579c470990d60525be160ee191760
Author: florian <florian@freepascal.org>
Date:   Thu Mar 18 21:49:25 2021 +0000

      + RiscV: initial OpAddi02Op implementation
    
    git-svn-id: trunk@49002 -

M	compiler/riscv/aoptcpurv.pas

******************************************************************************
commit 881235b489d285aa2f437fbb3efdb13035968629
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Mar 18 19:21:51 2021 +0000

    unix: fix RefreshTZInfo UTC parameter
    
    git-svn-id: trunk@49001 -

M	rtl/unix/timezone.inc

******************************************************************************
commit 3072df59ff4a6ae0cd4665180d68078ed8da4bff
Author: florian <florian@freepascal.org>
Date:   Wed Mar 17 21:30:41 2021 +0000

      * overflow checked mul helpers do not need to check all bits either
    
    git-svn-id: trunk@48999 -

M	rtl/inc/generic.inc

******************************************************************************
commit d608b4b689181bd3bde42078d6c9641348f0a050
Author: nickysn <nickysn@gmail.com>
Date:   Wed Mar 17 19:16:38 2021 +0000

    * instead of registering all and then deleting non-propgetter/setter procdefs in
      pdecvar.read_property_dec, don't register them by default, and then only
      register them, if they are propgetter/setter. This prevents dangling pointers
      in current_module.deflist and potential use-after-free bugs.
    
    git-svn-id: trunk@48998 -

M	compiler/pdecvar.pas

******************************************************************************
commit 39c060dfa726274fa05e22652431622de3cf57c4
Author: pierre <pierre@freepascal.org>
Date:   Wed Mar 17 09:33:14 2021 +0000

     Avoid copying of objpas.pp into local rtl/macos directory
    
    git-svn-id: trunk@48994 -

M	rtl/macos/Makefile
M	rtl/macos/Makefile.fpc

******************************************************************************
commit 53effea0f5cbbe4e8670c65fc55ec65b507829fe
Author: florian <florian@freepascal.org>
Date:   Tue Mar 16 22:19:21 2021 +0000

      + X86: JccMovJmpMov2MovSetcc optimization
    
    git-svn-id: trunk@48993 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 82450e1d57d684b3858b280cf96f045a4505b631
Author: marcus <marcus@idefix.freepascal.org>
Date:   Tue Mar 16 20:54:13 2021 +0000

    Amiga, AROS, MorphOS, OS4: Unified ExecBase for all Amiga Platforms
    
    git-svn-id: trunk@48991 -

M	packages/amunits/src/coreunits/exec.pas
M	packages/arosunits/src/exec.pas
M	packages/morphunits/src/exec.pas
M	packages/os4units/src/exec.pas

******************************************************************************
commit 612f063795d944b9dc7ea0ffc36a9a0fdc4ef73a
Author: florian <florian@freepascal.org>
Date:   Mon Mar 15 21:12:02 2021 +0000

      + patch by J. Gareth Moreton: AddMov2LeaAdd and AddMov2Lea optimizations, resolves #38579
    
    git-svn-id: trunk@48989 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6a9279860356ec61d0f133b00345da12744fef1f
Author: marcus <marcus@idefix.freepascal.org>
Date:   Mon Mar 15 20:46:29 2021 +0000

    amiga: examples fixed and updated
    
    git-svn-id: trunk@48988 -

M	packages/amunits/examples/asltest.pas
M	packages/amunits/examples/bezier.pas
M	packages/amunits/examples/deviceinfo.pas
M	packages/amunits/examples/easygadtools.pas
M	packages/amunits/examples/otherlibs/requestmodeid.pas

******************************************************************************
commit c4dfb2c8bda32f6b1279419accb7b58f294ff27b
Author: marcus <marcus@idefix.freepascal.org>
Date:   Mon Mar 15 19:08:17 2021 +0000

    fpts2junit: remove ../ at start for the classname
    
    git-svn-id: trunk@48987 -

M	tests/utils/fpts2junit.pp

******************************************************************************
commit 811cf381ad4f00636cf8b5628b663d7bb8cd07f4
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 15 18:13:45 2021 +0000

    * when parsing unions, set the uniondef reference to nil in
      current_module.deflist after freeing the object to prevent dangling pointers
      and use after free
    
    git-svn-id: trunk@48986 -

M	compiler/pdecvar.pas

******************************************************************************
commit f7dd8755ccd15cd31e30863a62b0214249eb2907
Author: nickysn <nickysn@gmail.com>
Date:   Mon Mar 15 18:06:44 2021 +0000

    + introduced TFPList.IndexOfItem and TFPObjectList.IndexOfItem, which are like
      IndexOf, but can also search backwards. The same method already exists in
      FPC's classes unit.
    
    git-svn-id: trunk@48984 -

M	compiler/cclasses.pas

******************************************************************************
commit a70feeca7e984ee20d6e36298bca6a59db539ca8
Author: pierre <pierre@freepascal.org>
Date:   Mon Mar 15 15:39:30 2021 +0000

     Add sinclairql/Makefile
    
    git-svn-id: trunk@48981 -

M	.gitattributes
A	rtl/sinclairql/Makefile

******************************************************************************
commit a7de0b365b9d10dac141f7a7b8889e92e12370fb
Author: pierre <pierre@freepascal.org>
Date:   Mon Mar 15 13:25:59 2021 +0000

     Avoid invalid typecast error when using -CR option
    
    git-svn-id: trunk@48978 -

M	compiler/htypechk.pas

******************************************************************************
commit 85fa313e597796aa2035f39504c467078f51110a
Author: pierre <pierre@freepascal.org>
Date:   Mon Mar 15 13:24:27 2021 +0000

     Use uvalue field to get unsigned and avoid range check or overflow errors
    
    git-svn-id: trunk@48977 -

M	compiler/x86/nx86mat.pas

******************************************************************************
commit 77f3acdf76d54e924dbb77682eb9352b5626f88e
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 23:17:44 2021 +0000

    * the TFPList.List property made protected in order to discourage using it
      directly, as this circumvents range checking
    
    git-svn-id: trunk@48976 -

M	compiler/cclasses.pas

******************************************************************************
commit 649bfecf62a644bf0ae1f79c79af5639a9a07414
Author: florian <florian@freepascal.org>
Date:   Sun Mar 14 21:34:51 2021 +0000

      + compiled C object files, generated by riscv32-unknown-linux-gnu-gcc (GCC) 10.2.0 with -O3
    
    git-svn-id: trunk@48973 -

M	.gitattributes
A	tests/test/cg/obj/linux/riscv32/cpptcl1.o
A	tests/test/cg/obj/linux/riscv32/cpptcl2.o
A	tests/test/cg/obj/linux/riscv32/ctest.o
A	tests/test/cg/obj/linux/riscv32/tcext3.o
A	tests/test/cg/obj/linux/riscv32/tcext4.o
A	tests/test/cg/obj/linux/riscv32/tcext5.o
A	tests/test/cg/obj/linux/riscv32/tcext6.o

******************************************************************************
commit 03d353c1f5203640f225f84930fafc8787372b66
Author: florian <florian@freepascal.org>
Date:   Sun Mar 14 16:41:34 2021 +0000

      - cosmetics: superfluous newlines removed
    
    git-svn-id: trunk@48970 -

M	compiler/riscv32/cgcpu.pas

******************************************************************************
commit d1881d09519768a8b2fac9ae78bdebaf49ac7f83
Author: florian <florian@freepascal.org>
Date:   Sun Mar 14 16:40:14 2021 +0000

      * RiscV: integer type conversions fixed
    
    git-svn-id: trunk@48969 -

M	compiler/riscv32/cgcpu.pas

******************************************************************************
commit f5389cbc2884d9d3a77026ae159f86855c7dae38
Author: michael <michael@freepascal.org>
Date:   Sun Mar 14 15:31:52 2021 +0000

    * test for bin2hex
    
    git-svn-id: trunk@48968 -

M	.gitattributes
A	tests/test/units/strutils/tbin2hex.pp

******************************************************************************
commit d399df83ba9478ed63150abb045fb2db9fb2a186
Author: florian <florian@freepascal.org>
Date:   Sun Mar 14 13:34:30 2021 +0000

      * RiscV32: fpc_longjmp needs nostackframe directive
      * RiscV: unified procedure directives of fpc_*jmp
    
    git-svn-id: trunk@48961 -

M	rtl/riscv32/setjump.inc
M	rtl/riscv64/setjump.inc

******************************************************************************
commit 9ccdf2b3bf4a4da9d61cb657c1800fbfe3e8ecba
Author: florian <florian@freepascal.org>
Date:   Sun Mar 14 10:29:23 2021 +0000

      * RiscV: unified itcpugas.pas
    
    git-svn-id: trunk@48960 -

M	.gitattributes
R095	compiler/riscv64/itcpugas.pas	compiler/riscv/itcpugas.pas
D	compiler/riscv32/itcpugas.pas

******************************************************************************
commit 9775a13e0263f14cd74692b3df566752c8de16c1
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 14 09:10:29 2021 +0000

     Rough fix for riscv32 failure
    
    git-svn-id: trunk@48959 -

M	compiler/riscv/cgrv.pas
M	compiler/riscv32/cpubase.pas
M	compiler/riscv32/itcpugas.pas

******************************************************************************
commit a9f4c8a16b904ad483b802f4507a392d314faf42
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 02:53:41 2021 +0000

    * compilation on Windows fixed
    
    git-svn-id: trunk@48958 -

M	rtl/inc/wstringh.inc

******************************************************************************
commit 445ca8b995c14e9143c771836813cb8d0a4a17be
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 00:53:41 2021 +0000

    * update revision.inc
    
    git-svn-id: trunk@48957 -

M	utils/fpcm/revision.inc

******************************************************************************
commit fc32428639cf7761c5d3f1c73afb44921d6be014
Merge: 62ea31f255 6ac633e594
Author: nickysn <nickysn@gmail.com>
Date:   Sun Mar 14 00:48:18 2021 +0000

    * merged the wasm branch. Adds support for the wasm32 (WebAssembly 32-bit)
      target.
    
    git-svn-id: trunk@48955 -

MM	.gitattributes

******************************************************************************
commit 62ea31f255cf83b7037e4d56c6a6f4e184d26084
Author: florian <florian@freepascal.org>
Date:   Sat Mar 13 16:33:31 2021 +0000

      * riscv64-linux: generate PIC for all units as it is required for shared libraries
    
    git-svn-id: trunk@48948 -

M	Makefile
M	compiler/systems/i_linux.pas
M	rtl/Makefile
M	rtl/linux/Makefile
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit e047e7db91918a6356b18e5a76eed56aff2db155
Author: florian <florian@freepascal.org>
Date:   Sat Mar 13 16:18:00 2021 +0000

      + RiscV: initial support of pic generation
    
    git-svn-id: trunk@48947 -

M	compiler/cgbase.pas
M	compiler/riscv/aasmcpu.pas
M	compiler/riscv/agrvgas.pas
M	compiler/riscv/cgrv.pas
M	compiler/riscv64/cpubase.pas
M	compiler/riscv64/itcpugas.pas

******************************************************************************
commit 1e5cbfe546555493b7ff115a326b2722e0c5c978
Author: florian <florian@freepascal.org>
Date:   Fri Mar 12 21:59:18 2021 +0000

      * RiscV: if shared libraries are involved, we have to link always against the crt*S.o variants
    
    git-svn-id: trunk@48946 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit a399627aee3c1696a6d34d2005f6577c77f3cefd
Author: florian <florian@freepascal.org>
Date:   Fri Mar 12 21:27:51 2021 +0000

      + RiscV: initial implementation of gprof support
      * cleanup
    
    git-svn-id: trunk@48945 -

M	.gitattributes
M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
M	rtl/linux/riscv64/si_c.inc
A	rtl/linux/riscv64/si_g.inc

******************************************************************************
commit 5821143387d15b370508efafef84fc12f6d26f80
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Mar 12 19:42:15 2021 +0000

    AmigaOS4: added missing varargs function
    
    git-svn-id: trunk@48944 -

M	packages/os4units/src/cybergraphics.pas

******************************************************************************
commit 61a4eaa30212cd6fac0f6e955e3c449981ca191e
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Mar 12 19:20:47 2021 +0000

    Amiga: removal of includes not in use anymore
    
    git-svn-id: trunk@48943 -

M	.gitattributes
M	packages/amunits/src/otherlibs/ahi_sub.pas
M	packages/amunits/src/otherlibs/amarquee.pas
M	packages/amunits/src/otherlibs/cybergraphics.pas
D	packages/amunits/src/useamigasmartlink.inc
D	packages/amunits/src/useautoopenlib.inc
M	packages/amunits/src/utilunits/amigautils.pas
M	packages/amunits/src/utilunits/consoleio.pas
M	packages/amunits/src/utilunits/doublebuffer.pas
M	packages/amunits/src/utilunits/easyasl.pas
M	packages/amunits/src/utilunits/hisoft.pas
M	packages/amunits/src/utilunits/linklist.pas
M	packages/amunits/src/utilunits/pastoc.pas
M	packages/amunits/src/utilunits/timerutils.pas
M	packages/amunits/src/utilunits/vartags.pas
M	packages/amunits/src/utilunits/wbargs.pas

******************************************************************************
commit 8b84ef9f4b7f66c9ff85afcec81082d7b481133c
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Mar 12 18:55:25 2021 +0000

    AROS: AGraphics, removal of AROS defines, the unit is only for AROS
    
    git-svn-id: trunk@48942 -

M	packages/arosunits/src/agraphics.pas

******************************************************************************
commit a04cd9b9ce7a0dad694fd8bc7fbf51354c4fbb21
Author: marcus <marcus@idefix.freepascal.org>
Date:   Fri Mar 12 18:48:08 2021 +0000

    Aros: Layers unit updated with AROS specific extensions
    
    git-svn-id: trunk@48941 -

M	packages/arosunits/src/layers.pas

******************************************************************************
commit e8fbe6696b453d9a0c299e68e10386c51b0f0188
Author: pierre <pierre@freepascal.org>
Date:   Fri Mar 12 13:23:41 2021 +0000

     Update Makefile's after commits 48929/48930
    
    git-svn-id: trunk@48940 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/ggi/Makefile
M	packages/gmp/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk2/Makefile
M	packages/hash/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd22/Makefile
M	packages/httpd24/Makefile
M	packages/ibase/Makefile
M	packages/iconvenc/Makefile
M	packages/ide/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libogcfpc/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/ncurses/Makefile
M	packages/newt/Makefile
M	packages/numlib/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengles/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/os2units/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/rexx/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/symbolic/Makefile
M	packages/syslog/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/utmp/Makefile
M	packages/uuid/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/dxegen/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 3c436779521e71c2cd5828508206e25e82be60ec
Author: florian <florian@freepascal.org>
Date:   Thu Mar 11 21:55:41 2021 +0000

      * re-build c objects with a fixed C compiler regarding floating point parameter passing: riscv64-linux-gnu-gcc (Ubuntu 9.3.0-17ubuntu1~20.04) 9.3.0 with -O3
    
    git-svn-id: trunk@48939 -

M	tests/test/cg/obj/linux/riscv64/cpptcl1.o
M	tests/test/cg/obj/linux/riscv64/cpptcl2.o
M	tests/test/cg/obj/linux/riscv64/ctest.o
M	tests/test/cg/obj/linux/riscv64/tcext3.o
M	tests/test/cg/obj/linux/riscv64/tcext4.o
M	tests/test/cg/obj/linux/riscv64/tcext5.o
M	tests/test/cg/obj/linux/riscv64/tcext6.o

******************************************************************************
commit 3ac178f519ecb990b425b5bfcc65467f55ef7d0f
Author: florian <florian@freepascal.org>
Date:   Thu Mar 11 21:10:04 2021 +0000

      * RiscV: corrected setup of gp
    
    git-svn-id: trunk@48938 -

M	rtl/linux/riscv64/si_c.inc

******************************************************************************
commit 577e584c771de341a03c62bc93f1ed2fcda3e2de
Author: florian <florian@freepascal.org>
Date:   Wed Mar 10 20:55:37 2021 +0000

      * RiscV: basic CFI stuff fixed
    
    git-svn-id: trunk@48937 -

M	compiler/cfidwarf.pas
M	compiler/systems/i_linux.pas

******************************************************************************
commit 8fa04a0cee8de2d8f6d1c5a72090b4f9a0a44698
Author: florian <florian@freepascal.org>
Date:   Wed Mar 10 20:33:49 2021 +0000

      * finished -ix output
    
    git-svn-id: trunk@48936 -

M	compiler/options.pas

******************************************************************************
commit dc3bb933ee23dfcd7a4090e043d39c2afbf96e35
Author: pierre <pierre@freepascal.org>
Date:   Tue Mar 9 23:14:29 2021 +0000

    Update revision after commit #48929
    
    git-svn-id: trunk@48930 -

M	utils/fpcm/Makefile
M	utils/fpcm/revision.inc

******************************************************************************
commit 96acda5ac9d49ca3e574aedf3a3b288e66d7bdbf
Author: pierre <pierre@freepascal.org>
Date:   Tue Mar 9 23:12:17 2021 +0000

    Add special gcc options for riscv32/riscv64 gcc calls
    
    git-svn-id: trunk@48929 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit b7fe338bbee54f18f2ed4e7bb44883972a5e2fbc
Author: florian <florian@freepascal.org>
Date:   Tue Mar 9 21:07:51 2021 +0000

      * mips and xtensa compilation fixed
    
    git-svn-id: trunk@48928 -

M	rtl/unix/cthreads.pp

******************************************************************************
commit bb97c5ab693b170a31bb7844d2bcff1e809da1f0
Author: florian <florian@freepascal.org>
Date:   Mon Mar 8 22:07:07 2021 +0000

      + RiscV: set threadvarblocksize
      * sanity check if threadvarblocksize is really set
    
    git-svn-id: trunk@48925 -

M	rtl/unix/cthreads.pp

******************************************************************************
commit c603477ec4c19a62a35e5ca3036705ffe565a1dc
Author: florian <florian@freepascal.org>
Date:   Mon Mar 8 17:12:19 2021 +0000

      * fix test for RiscV
    
    git-svn-id: trunk@48914 -

M	tests/webtbs/tw2242.pp

******************************************************************************
commit 813cf7b45ec3dc7c0b5c4e3fc681ac9026fb56b6
Author: florian <florian@freepascal.org>
Date:   Sun Mar 7 22:28:18 2021 +0000

      o RiscV64 glibc startup code fixed:
        * there is no _init/_fini, call libc_csu_* instead
        * fix loading of global_pointer
    
    git-svn-id: trunk@48904 -

M	rtl/linux/riscv64/si_c.inc

******************************************************************************
commit 4be5f07f276e2f8c9080a05f7c297fc9d578b5d5
Author: florian <florian@freepascal.org>
Date:   Sun Mar 7 22:28:17 2021 +0000

      + support for .dc.a directive
      * read multiple section flags
    
    git-svn-id: trunk@48903 -

M	compiler/raatt.pas

******************************************************************************
commit 5149e58525a560334f4ac1b1064887939769f63c
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Mar 7 21:00:01 2021 +0000

    morphos: new functions and structures from current SDK 3.16
    
    git-svn-id: trunk@48902 -

M	packages/morphunits/src/amigados.pas
M	packages/morphunits/src/asl.pas
M	packages/morphunits/src/exec.pas
M	packages/morphunits/src/intuition.pas
M	packages/morphunits/src/locale.pas
M	packages/morphunits/src/workbench.pas

******************************************************************************
commit b0772ae749bd1c8073b7638d0d511caa54fb5078
Author: florian <florian@freepascal.org>
Date:   Sun Mar 7 14:11:09 2021 +0000

      + initial (and so far experimental) implementation of -ix to output -i in xml format for further automated processing
    
    git-svn-id: trunk@48897 -

M	compiler/options.pas

******************************************************************************
commit 6166084f08a6ca4141a846c45b4e07708539a9d7
Author: florian <florian@freepascal.org>
Date:   Sun Mar 7 09:16:10 2021 +0000

      + new test
    
    git-svn-id: trunk@48895 -

M	.gitattributes
A	tests/test/cg/taddbyte.pp

******************************************************************************
commit d1fb44044f4711db2430d267ab8c884d242cb13e
Author: florian <florian@freepascal.org>
Date:   Sun Mar 7 08:53:03 2021 +0000

      * unified RiscV32 and RiscV64 GAS readers
    
    git-svn-id: trunk@48894 -

M	.gitattributes
R100	compiler/riscv64/rarv.pas	compiler/riscv/rarv.pas
M	compiler/riscv/rarvgas.pas
M	compiler/riscv32/cputarg.pas
D	compiler/riscv32/rarv32.pas
D	compiler/riscv32/rarv32gas.pas
M	compiler/riscv64/cputarg.pas
D	compiler/riscv64/rarv64gas.pas

******************************************************************************
commit 8735d09894a9162ff2e4d73181f8c2748bef6b6c
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 22:19:30 2021 +0000

      + RiscV32: setjmp/longjmp implementation, based on the RiscV64 one
    
    git-svn-id: trunk@48893 -

M	rtl/riscv32/setjump.inc
M	rtl/riscv32/setjumph.inc

******************************************************************************
commit 6f3fccddd1ac5b363a3e02657cf838b87d741a40
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 22:19:00 2021 +0000

      * RiscV32: properly read references with record offsets and base register
      + RiscV32: sanity check in assembler writer
    
    git-svn-id: trunk@48892 -

M	compiler/riscv/agrvgas.pas
M	compiler/riscv32/rarv32gas.pas

******************************************************************************
commit f620f61d3b0ca68f601c3b76d9e5335fe0a77ae5
Author: pierre <pierre@freepascal.org>
Date:   Sat Mar 6 22:06:23 2021 +0000

     Update to objects compiled using GNU gcc 5.5.0 for sparc-solaris
    
    git-svn-id: trunk@48891 -

M	tests/test/cg/obj/readme.txt
M	tests/test/cg/obj/solaris/sparc/cpptcl1.o
M	tests/test/cg/obj/solaris/sparc/cpptcl2.o
M	tests/test/cg/obj/solaris/sparc/ctest.o
M	tests/test/cg/obj/solaris/sparc/tcext3.o
M	tests/test/cg/obj/solaris/sparc/tcext4.o
M	tests/test/cg/obj/solaris/sparc/tcext5.o
M	tests/test/cg/obj/solaris/sparc/tcext6.o

******************************************************************************
commit 81402bb077acdaad13e50dd6e093e886e8de3ad8
Author: pierre <pierre@freepascal.org>
Date:   Sat Mar 6 22:00:30 2021 +0000

      * Improve DEBUG_PPU code
      * Move flog file closing from closefile method to destroy destructor.
      * Fix write_data output into flog
    
    git-svn-id: trunk@48890 -

M	compiler/entfile.pas

******************************************************************************
commit d7a45c646e8e557dde5917cb7ca1451d8c502fb5
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sat Mar 6 20:18:40 2021 +0000

    AmigaOS4: renamed reserved name "class" as field name
    
    git-svn-id: trunk@48888 -

M	packages/os4units/src/intuition.pas

******************************************************************************
commit ba0f08018f7980cb7ce02190e4586370ce070251
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 15:16:29 2021 +0000

      * fix test so it really uses random values for the boolean, thanks Jonas for the hint!
    
    git-svn-id: trunk@48887 -

M	tests/test/tandorandnot1.pp

******************************************************************************
commit 83ce289ea4f738bc0599fedb7fe153e804d1ea42
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 15:03:33 2021 +0000

      * last commit fixed, hopefully final fix
    
    git-svn-id: trunk@48886 -

M	compiler/nadd.pas

******************************************************************************
commit f4486039704b5ee3ae17e74e3a537b51fddb44f7
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 14:55:50 2021 +0000

      * improved last commit, better handling of boolean expressions
    
    git-svn-id: trunk@48885 -

M	compiler/nadd.pas

******************************************************************************
commit 62bd0068b65cb0fe8b553d08fa4a667276b40625
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 14:48:15 2021 +0000

      * do not apply the (a and b) or (c and not(b)) into c xor ((c xor a) and b) optimziation if short boolean evaluation is used, should resolve #38576
      * improved test
    
    git-svn-id: trunk@48884 -

M	compiler/nadd.pas
M	tests/test/tandorandnot1.pp

******************************************************************************
commit c15bb07bf60ec1b6d14ee4954ab67dce787e1e79
Author: florian <florian@freepascal.org>
Date:   Sat Mar 6 14:23:54 2021 +0000

      * do not generate mul instructions if the mul extension is not available
    
    git-svn-id: trunk@48883 -

M	compiler/riscv/cgrv.pas
M	compiler/riscv/nrvadd.pas

******************************************************************************
commit 3dd6272891f18c415998e167f55b53c00354c8dd
Author: pierre <pierre@freepascal.org>
Date:   Sat Mar 6 10:42:50 2021 +0000

     Add new make rule named full_targets
    
    git-svn-id: trunk@48882 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 6b9a3bf28333ddf87a1af3182eaebfd5d977f2d9
Author: florian <florian@freepascal.org>
Date:   Fri Mar 5 21:48:22 2021 +0000

      + new RiscV32 SUBARCH rv32i
    
    git-svn-id: trunk@48881 -

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc

******************************************************************************
commit 913bd009e9cef31344cee42d9351fa25dac3724e
Author: florian <florian@freepascal.org>
Date:   Thu Mar 4 21:35:13 2021 +0000

      * patch by J. Gareth Moreton: take care of -Os for SubMov2*, part of #38579
    
    git-svn-id: trunk@48878 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 01a351f804430a1c8ed701bbb945736c3750b88f
Author: pierre <pierre@freepascal.org>
Date:   Wed Mar 3 22:15:20 2021 +0000

      Fix for bug report 38549 about wrong code generation
      for mips/mipsel and riscv32/riscv64 CPUs for
      set operators '<=' and '>='.
      New tests for this bug report.
      tw38549.pp, main source, also included
      by tw38549a.pp, tw38549b.pp, tw38459c.pp and tw38459d.pp
      with explicit {$packset X}, with X=1,2,4, or 8 added.
    
    git-svn-id: trunk@48874 -

M	.gitattributes
M	compiler/mips/ncpuadd.pas
M	compiler/riscv/nrvadd.pas
A	tests/webtbs/tw38549.pp
A	tests/webtbs/tw38549a.pp
A	tests/webtbs/tw38549b.pp
A	tests/webtbs/tw38549c.pp
A	tests/webtbs/tw38549d.pp

******************************************************************************
commit 01937c4630f20652dee29b92dfbb2ab3d58cee8d
Author: florian <florian@freepascal.org>
Date:   Tue Mar 2 21:27:43 2021 +0000

      * patch by J. Gareth Moreton: SubMov2LeaSub optimisation improvement, resolves #38555
    
    git-svn-id: trunk@48871 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 893cf511bc5240d230c70c233c4cf768ac308c59
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Mar 2 08:06:05 2021 +0000

    * fix casing of "VAr", no code changes
    
    git-svn-id: trunk@48862 -

M	rtl/objpas/sysutils/fina.inc

******************************************************************************
commit 8ffa01e95fec30fbec3961b0df8080020e5b71ac
Author: florian <florian@freepascal.org>
Date:   Mon Mar 1 20:39:57 2021 +0000

      * patch by J. Gareth Moreton: MOV/SHR reference optimisation, resolves #38560
    
    git-svn-id: trunk@48857 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 316f2429f02f3f4ceb1d1fdbd857df0c500ee5b1
Author: florian <florian@freepascal.org>
Date:   Mon Mar 1 20:21:42 2021 +0000

      * do not omit location_force_reg on second operand of sar/ro* if
        it is used to adapt the size of the operand
    
    git-svn-id: trunk@48855 -

M	compiler/ncginl.pas

******************************************************************************
commit 01178532e5ce1180f56697fe7d22e907d1afee11
Author: florian <florian@freepascal.org>
Date:   Sun Feb 28 22:11:05 2021 +0000

      * sar*/ro* do not call location_force_reg if not needed
    
    git-svn-id: trunk@48844 -

M	compiler/ncginl.pas

******************************************************************************
commit fb6867963fcc3e2e1c7a9e4e5b26d1dc4c1723dc
Author: florian <florian@freepascal.org>
Date:   Sun Feb 28 21:58:32 2021 +0000

      * write execution time more precisely
    
    git-svn-id: trunk@48843 -

M	packages/hash/examples/sha1performancetest.pas

******************************************************************************
commit e0a1bc66750d810d57af27e21139203bfc2f3125
Author: florian <florian@freepascal.org>
Date:   Sun Feb 28 18:20:46 2021 +0000

      + optimize (a and b) or (c and not(b)) into c xor ((c xor a) and b)
      + test
    
    git-svn-id: trunk@48841 -

M	.gitattributes
M	compiler/nadd.pas
M	compiler/nutils.pas
A	tests/test/tandorandnot1.pp

******************************************************************************
commit 272a0e3e267eb40a3c3e1a0cfaab9d2656792331
Author: florian <florian@freepascal.org>
Date:   Sun Feb 28 10:52:11 2021 +0000

      + apply excess precision also to unary minus nodes
      * made excess precision really working
    
    git-svn-id: trunk@48840 -

M	compiler/nadd.pas
M	compiler/nmat.pas

******************************************************************************
commit fe57cd353657f96ea5846d9f2575811e1456ec6d
Author: florian <florian@freepascal.org>
Date:   Sat Feb 27 22:07:58 2021 +0000

      * fix LLVM after r48828
      * global gotos really use the return type of fpc_setjmp to test where we come from
    
    git-svn-id: trunk@48835 -

M	compiler/cgexcept.pas
M	compiler/llvm/llvmpi.pas
M	compiler/ncgflw.pas
M	compiler/psabiehpi.pas
M	compiler/psub.pas
M	compiler/symdef.pas

******************************************************************************
commit 9c831677ff1f6d00592d7bea91a3fdb6d65e0aea
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 27 21:44:53 2021 +0000

      * support Objective-C classes and protocols with -gw3 (mantis #36250)
    
    git-svn-id: trunk@48834 -

M	.gitattributes
M	compiler/dbgdwarf.pas
A	tests/webtbs/tw36250.pp

******************************************************************************
commit 803779002d5bdfae8960d95520a4e5e5107f61fd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 27 19:30:37 2021 +0000

      * the new constant string arraydefs are also implicit pointers types for JVM
    
    git-svn-id: trunk@48833 -

M	compiler/defutil.pas
M	compiler/jvm/jvmdef.pas

******************************************************************************
commit ab0531f0ce5b02a4a91430a979f025a4684e2245
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 27 19:30:34 2021 +0000

      * fixed JVM stack height calculation after calls returning an
        implicit pointer tpe
    
    git-svn-id: trunk@48832 -

M	compiler/jvm/hlcgcpu.pas

******************************************************************************
commit 4c2e0b9ff0ce9c285f1aedeef6a7146c81a55d0b
Author: florian <florian@freepascal.org>
Date:   Sat Feb 27 16:47:36 2021 +0000

      * for setjmp based exception handling, get the type of the exception reason from the setjmp result
    
    git-svn-id: trunk@48828 -

M	compiler/cgexcept.pas
M	compiler/ncgflw.pas
M	compiler/psub.pas
M	compiler/symdef.pas

******************************************************************************
commit 58171b4308cc2c7825fbd0d33f84c1b67345ee0d
Author: pierre <pierre@freepascal.org>
Date:   Fri Feb 26 23:39:14 2021 +0000

     Extend list of CPUs defining slowcpu conditional in tmt1 and tw8177 sources
    
    git-svn-id: trunk@48816 -

M	tests/test/tmt1.pp
M	tests/webtbs/tw8177.pp

******************************************************************************
commit 2932787dee07a24703a24e165ee44973f6839ac1
Author: florian <florian@freepascal.org>
Date:   Fri Feb 26 22:47:06 2021 +0000

      * use SizeInt for counters in math unit, all non-32 bit targets should benefit from this
    
    git-svn-id: trunk@48815 -

M	rtl/objpas/math.pp

******************************************************************************
commit 8d0ef71e37e6a59066547ebb898b17ca21e3b601
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Feb 26 10:57:05 2021 +0000

    m68k-linux: revert maxCrecordalign to 2, as an experiment to fix some linking-against-C regressions since the alignment changes
    
    git-svn-id: trunk@48809 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit c6443809bae23d8f0a519b4b3da501858a2f50c8
Author: florian <florian@freepascal.org>
Date:   Thu Feb 25 22:07:40 2021 +0000

      + SETcc/Mov -> SETcc optimization
    
    git-svn-id: trunk@48808 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 857cbddf04ae8d54abca518b94792e30ee481042
Author: florian <florian@freepascal.org>
Date:   Wed Feb 24 21:10:05 2021 +0000

      * applied patch by Pierre to fix make cycle -Cr
    
    git-svn-id: trunk@48806 -

M	compiler/symdef.pas

******************************************************************************
commit 53d847f26831a212e928d4970a1f2373df60db76
Author: marcus <marcus@idefix.freepascal.org>
Date:   Wed Feb 24 19:00:58 2021 +0000

    Amiga, AROS, MorphOS: Prevent crash when access socket without TCP/IP Stack running
    
    git-svn-id: trunk@48805 -

M	packages/fcl-net/src/amiga/resolve.inc
M	packages/fcl-net/src/aros/resolve.inc
M	packages/rtl-extra/src/amiga/sockets.pp
M	packages/rtl-extra/src/aros/sockets.pp

******************************************************************************
commit cfa3f4fa8c3a23fe72849a14532d02cf8bfe7730
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Feb 24 15:40:22 2021 +0000

      + added b.cc/b.cs support to AArch64 assembler reader (mantis #38485)
    
    git-svn-id: trunk@48803 -

M	compiler/aarch64/racpugas.pas

******************************************************************************
commit 236bef961c21611f2969259c8c8fdec54364a225
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 24 12:58:04 2021 +0000

      Patch by Gareth Moreton
      * Fix lea optimizations which lead to more failures with -O3 and -O4 options.
    
     - LeaLea2Lea now checks to see if the index register is in use.
     - For both the base and index registers, RegUsedBetween is changed to
     RegModifiedBetween, since just reading the register is harmless for the
     optimisation (it finds additional optimisations in the RTL as a result).
     - Because I saw the mis-optimisation with MOVZX that occurred (even
     though it was due to the mis-optimisation of LEA instructions), I wrote
     some extra code in OptPass2Movx as a safety measure to ensure this
     doesn't happen (although no additional instances of it happening have
     been noted so far - best be safe than sorry).
    
    git-svn-id: trunk@48802 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e2386ae876c8f9a0772be80ff7711499ca4d721e
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 24 10:40:15 2021 +0000

      * Remove obsolete -OG2p3 option for extcycle
      + Add extoptcycle to cycle compiler with both -dEXTDEBUG and -dDEBUG_ALL_OPT
    
    git-svn-id: trunk@48801 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 0216f778193aa057395c3632482e751402a21048
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Feb 24 09:20:04 2021 +0000

    m68k: adjusted some max alignment values for m68k-linux based on i386-linux, because the ELF loader on m68k should be able to provide the same alignments for globals
    
    git-svn-id: trunk@48799 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit 2703b36fe16907fb9fbbbeaa8d497e17eb13b4b3
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Feb 24 09:10:40 2021 +0000

    m68k: removed some helper function which was added, but in the end it never saw any use
    
    git-svn-id: trunk@48798 -

M	compiler/m68k/n68kmem.pas

******************************************************************************
commit f85d7d25912e308b7d77acb246f77633141d6266
Author: pierre <pierre@freepascal.org>
Date:   Tue Feb 23 22:04:18 2021 +0000

     Fix tw28713 for big endian CPUs
    
    git-svn-id: trunk@48795 -

M	tests/webtbs/tw28713.pp

******************************************************************************
commit 5afa26ddd1e80d78959af421ff64edf756e5ab13
Author: florian <florian@freepascal.org>
Date:   Tue Feb 23 20:39:25 2021 +0000

    * fix compilation for CPUs without thumb
    
    git-svn-id: trunk@48794 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 2cd695120564fd22f063cefeddc882523a86fd69
Author: pierre <pierre@freepascal.org>
Date:   Mon Feb 22 23:15:31 2021 +0000

      Apply patch proposed by J. Gareth Moreton in bug report #0038527
    
      The patch reworks the LeaLea2Lea optimisation and hopefully fixes the bug (admittedly by adding a brand new optimisation!).
    
    git-svn-id: trunk@48792 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw38527.pp

******************************************************************************
commit cefa05c8b1749d9f5b3d322f93eca52a13ae42ba
Author: florian <florian@freepascal.org>
Date:   Mon Feb 22 20:39:12 2021 +0000

      * correctly allocate edx for mulx, resolves #38533
    
    git-svn-id: trunk@48791 -

M	compiler/i386/n386add.pas

******************************************************************************
commit 0ca1e2fb424c67f6c6b02eda1dd1ff22773af2aa
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Feb 21 23:00:41 2021 +0000

    * attempt to fix bitpacked records with qwords in them (tw36156) when cross-compiling to big endian targets from x86. essentially the x86 shifting workarounds in the code already weren't covering all corner cases.
    
    git-svn-id: trunk@48773 -

M	compiler/ngtcon.pas

******************************************************************************
commit 6beb28316e004311744aaa46f047f7048b989889
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 21 21:41:09 2021 +0000

      * Darwin targets that don't support link order sym files can't smart link
        vectorized sections
    
    git-svn-id: trunk@48765 -

M	compiler/aasmcnst.pas

******************************************************************************
commit 5a26c582852c9e6486bfeaa164158a9521eb45b9
Author: florian <florian@freepascal.org>
Date:   Sun Feb 21 21:29:40 2021 +0000

      * allow in-operator to be used on type parameters, resolves #38497
    
    git-svn-id: trunk@48763 -

M	.gitattributes
M	compiler/nset.pas
A	tests/webtbs/tw38497.pp

******************************************************************************
commit c7f4be71dc1048ed4364609f838bb5e79e372088
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Feb 21 19:15:52 2021 +0000

    * correctly set the defowner of the exception symtable to the surrounding routine as suggested by Blaise.ru
    
    git-svn-id: trunk@48760 -

M	compiler/pstatmnt.pas

******************************************************************************
commit 60c8b71bae73cec85e5bde74239f2bc057f264a8
Author: florian <florian@freepascal.org>
Date:   Sun Feb 21 18:46:00 2021 +0000

      * string constants have a size of 0, resolves #38504
    
    git-svn-id: trunk@48759 -

M	.gitattributes
M	compiler/ncon.pas
M	packages/fcl-db/src/export/fpxmlxsdexport.pp
A	tests/webtbf/tw38504.pp
A	tests/webtbf/tw38504b.pp

******************************************************************************
commit 34f7c3e6d40e1702c5b9008ab852e5fe23cee7a2
Author: florian <florian@freepascal.org>
Date:   Sun Feb 21 18:45:58 2021 +0000

      + array defs. of open arrays are now marked by ado_OpenArray, so (internally!) zero sized array can be declared with 0..-1
    
    git-svn-id: trunk@48758 -

M	compiler/defutil.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit f333fb08ec41d4886a8dc9a35479bcdcc08f3b78
Author: florian <florian@freepascal.org>
Date:   Sun Feb 21 18:04:12 2021 +0000

      * patch by Alfred to fix cutils.CompareVersionStrings, resolves #38514
    
    git-svn-id: trunk@48757 -

M	compiler/cutils.pas

******************************************************************************
commit 71887b902b76261ed14f8cdab37723f585c89125
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 17:43:42 2021 +0000

    + added unit EastAsianWidth, which contains the EastAsianWidth unicode data property
    
    git-svn-id: trunk@48755 -

M	.gitattributes
M	packages/rtl-unicode/fpmake.pp
A	packages/rtl-unicode/src/inc/eastasianwidth.pp
A	packages/rtl-unicode/src/inc/eastasianwidth_code.inc

******************************************************************************
commit 0c22ee86781c2aae8457bddae8b88fbfc38b6cfb
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 17:21:13 2021 +0000

    + added an eawparser tool - tool for parsing the EastAsianWidth.txt unicode
      property table and converting it to code
    
    git-svn-id: trunk@48754 -

M	.gitattributes
A	utils/unicode/eawparser.lpi
A	utils/unicode/eawparser.lpr
M	utils/unicode/fpmake.pp

******************************************************************************
commit 99f3a03386df8edd37c2eba09898d39a23314c94
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 21 16:23:41 2021 +0000

    - excluded embedded,zxspectrum,msxdos,amstradcpc from the targets that compile GraphemeBreakProperty
    
    git-svn-id: trunk@48753 -

M	packages/rtl-unicode/fpmake.pp

******************************************************************************
commit 3d0eac3ee60b948487d491fe851e2eb981c59bcf
Author: florian <florian@freepascal.org>
Date:   Sun Feb 21 09:02:29 2021 +0000

      * patch by Michael Ring: remove lm4f120 from armv7m as it is armv7em
    
    git-svn-id: trunk@48750 -

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc

******************************************************************************
commit 29b071241818cc4e75ada65bd7eb6fbd08df323e
Author: florian <florian@freepascal.org>
Date:   Sat Feb 20 20:50:04 2021 +0000

      * patch by Michael Ring to fix errors introduced by r48722
    
    git-svn-id: trunk@48734 -

M	rtl/embedded/arm/cortexm4f_start.inc
M	rtl/freertos/arm/cortexm4f_start.inc

******************************************************************************
commit fb5cd1aefd30fcf278f494acf5959cb178dd5c38
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sat Feb 20 18:39:40 2021 +0000

    MorphOS: TProcess implementation supporting async mode and pipes
    
    git-svn-id: trunk@48733 -

M	packages/fcl-process/src/amicommon/pipes.inc
M	packages/fcl-process/src/amicommon/process.inc
M	packages/fcl-process/src/pipes.pp

******************************************************************************
commit 2ffe777b446a42bc98d278288906bb924bb806c3
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Feb 20 11:21:14 2021 +0000

    m68k: extend the the register to full size, when multiplied by an immediate in memory references. Patch based on the work of Pierre Muller.
    
    git-svn-id: trunk@48732 -

M	compiler/m68k/n68kmem.pas

******************************************************************************
commit 8c06529ae21c71b8f9251628d1265ec31c2b0ae2
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 20 01:24:46 2021 +0000

    + added and implemented a TUnicodeStringExtendedGraphemeClustersEnumerator class
      in the graphemebreakproperty unit - an enumerator that splits a UTF-16 string
      into extended grapheme clusters (i.e. user-perceived characters), conforming
      to the Unicode 9.0 algorithm:
      https://www.unicode.org/reports/tr29/tr29-29.html
    
    git-svn-id: trunk@48726 -

M	packages/rtl-unicode/src/inc/graphemebreakproperty.pp

******************************************************************************
commit 4ab485225c97d77ecd8e9bb7d1836d97da0ab461
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 23:39:18 2021 +0000

    + added modified LGPL license header to the new graphemebreakproperty.pp unit
    
    git-svn-id: trunk@48725 -

M	packages/rtl-unicode/src/inc/graphemebreakproperty.pp

******************************************************************************
commit 80bd080293c5e81123da68799d866a28a1dc55e8
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 22:29:12 2021 +0000

    + added unit GraphemeBreakProperty, containing the grapheme break property character data from Unicode 9.0
    
    git-svn-id: trunk@48723 -

M	.gitattributes
M	packages/rtl-unicode/fpmake.pp
A	packages/rtl-unicode/src/inc/graphemebreakproperty.pp
A	packages/rtl-unicode/src/inc/graphemebreakproperty_code.inc

******************************************************************************
commit 12139483933b35388a7fcae02c28a4572174e0f3
Author: florian <florian@freepascal.org>
Date:   Fri Feb 19 21:11:12 2021 +0000

      * (modified) patch by Michael Ring to enable the FPU on Cortex-M4F if available
    
    git-svn-id: trunk@48722 -

M	rtl/embedded/arm/cortexm4f_start.inc
M	rtl/freertos/arm/cortexm4f_start.inc

******************************************************************************
commit 715fb8007f1f7788e8fc2dfe28cff63dd90e6261
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 20:16:09 2021 +0000

    + added the gbpparser tool to fpmake.pp
    
    git-svn-id: trunk@48721 -

M	utils/unicode/fpmake.pp

******************************************************************************
commit 9bc0f62f45d9fb8291d16e760abdd7d60b7199db
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 19:32:10 2021 +0000

    + added tool for parsing GraphemeBreakProperty.txt and converting it to code
    
    git-svn-id: trunk@48720 -

M	.gitattributes
A	utils/unicode/gbpparser.lpi
A	utils/unicode/gbpparser.lpr

******************************************************************************
commit 26253b9e88b568da27460734798b26555ec58eac
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 19:27:55 2021 +0000

    * updated readme with URLs of the Unicode 9.0 and CLDR 30 data files (to the best of my knowledge)
    
    git-svn-id: trunk@48719 -

M	utils/unicode/data/readme.txt

******************************************************************************
commit 5677ef4bdd585b07b2669cc38e3aa519a528a4d6
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 19:24:58 2021 +0000

    * fixed the file name in the cldrparser help screen
    
    git-svn-id: trunk@48718 -

M	utils/unicode/cldrparser.lpr

******************************************************************************
commit 2b73b5bf9a867a8d7b6527835bcd0c9cf657aab6
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 19 19:24:20 2021 +0000

    * fixed the parse-collations script/bat file
    
    git-svn-id: trunk@48717 -

M	utils/unicode/parse-collations.bat
M	utils/unicode/parse-collations.sh

******************************************************************************
commit ef8d520e8277925f08c06e3b635a54ea80b2dfa7
Author: florian <florian@freepascal.org>
Date:   Thu Feb 18 21:44:12 2021 +0000

      * more cfi support for aarch64
    
    git-svn-id: trunk@48714 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 22ad12d5b7a578f21c9a59345ada3c6ad3f1872e
Author: michael <michael@freepascal.org>
Date:   Thu Feb 18 15:09:04 2021 +0000

    * Fix compilation, additional mysql
    
    git-svn-id: trunk@48710 -

M	packages/fcl-db/tests/sqldbtoolsunit.pas

******************************************************************************
commit 599ba8cc2a1d68bb9dc6dae9600cac6b1847d046
Author: florian <florian@freepascal.org>
Date:   Wed Feb 17 20:43:37 2021 +0000

      + generate initial cfi for aarch64
    
    git-svn-id: trunk@48701 -

M	compiler/aarch64/cpubase.pas
M	compiler/cfidwarf.pas

******************************************************************************
commit 5b29e7a3ecfdc47203c64ee8b26e5db5cba35b60
Author: florian <florian@freepascal.org>
Date:   Tue Feb 16 21:16:54 2021 +0000

      + (safe) heuristics to use DW_CFA_advance_loc1 in CFI
    
    git-svn-id: trunk@48687 -

M	compiler/cfidwarf.pas

******************************************************************************
commit 436a0d3f9ee306b55bb8d0b232587668c8ecf48a
Author: florian <florian@freepascal.org>
Date:   Mon Feb 15 22:26:49 2021 +0000

      * generate advance_loc records only if there was code/data since the last advance_loc entry
    
    git-svn-id: trunk@48686 -

M	compiler/cfidwarf.pas

******************************************************************************
commit 09d6398942ffd3e1b139d72067cc20e8ccd7a400
Author: florian <florian@freepascal.org>
Date:   Mon Feb 15 22:25:18 2021 +0000

      * arm: better cfi
    
    git-svn-id: trunk@48685 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit e694897bb3bdea5f4606946dbad784ba7bf0af1c
Author: florian <florian@freepascal.org>
Date:   Mon Feb 15 21:34:07 2021 +0000

      * initial implementation of CFI support for arm (non-thumb)
    
    git-svn-id: trunk@48684 -

M	compiler/arm/cgcpu.pas
M	compiler/cfidwarf.pas

******************************************************************************
commit a3d68e6839f1803353d6b575f34fc91686ff5088
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 21:26:41 2021 +0000

      * arm thumb: generate proper cfi
    
    git-svn-id: trunk@48678 -

M	compiler/arm/cgcpu.pas
M	compiler/cfidwarf.pas
M	compiler/systems/i_linux.pas

******************************************************************************
commit 44856e660c4ee3931003802128192b2d77415244
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 21:25:36 2021 +0000

      * ARM: NR_RETURN_ADDRESS_REG is R14
    
    git-svn-id: trunk@48677 -

M	compiler/arm/cpubase.pas

******************************************************************************
commit c3fb1e3a658af94ce69f431f739a80522ddcc546
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 21:25:01 2021 +0000

      * initialize current_settings as early as possible so cs_debugswitch is set correctly if needed
    
    git-svn-id: trunk@48676 -

M	compiler/parser.pas

******************************************************************************
commit 0316a7697f9b6c3782abf8c6188df983ca1e9f7d
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 17:52:26 2021 +0000

      * arm thumb1: several fixes for the internal assembler writer
    
    git-svn-id: trunk@48675 -

M	compiler/arm/agarmgas.pas
M	compiler/arm/armins.dat
M	compiler/arm/armtab.inc
M	compiler/arm/cgcpu.pas
M	compiler/arm/narmset.pas
M	compiler/arm/raarm.pas

******************************************************************************
commit 33ce19799b268409d89e0ed8c1598b73728ba970
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 17:15:37 2021 +0000

      * forgotten part of last commit
    
    git-svn-id: trunk@48674 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit f1883c4e617085250b91f579760247865abd01fc
Author: florian <florian@freepascal.org>
Date:   Sun Feb 14 15:51:48 2021 +0000

      * arm: taicpu uses set instead of boolean to store instruction states
      + track if an instruction is a thumb instruction in taicpu
    
    git-svn-id: trunk@48673 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/raarm.pas
M	compiler/assemble.pas
M	compiler/sparc/cpuelf.pas

******************************************************************************
commit a4b35d16f2b168c58016334e1f0c54731db2d84d
Author: florian <florian@freepascal.org>
Date:   Sat Feb 13 22:17:35 2021 +0000

      + throw an error if hardware floating point operations are used in thumb(-1) mode, this is not supported
    
    git-svn-id: trunk@48672 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit dda9f83dfe2f4841bf4fdd87aac87b46b0ae833c
Author: florian <florian@freepascal.org>
Date:   Sat Feb 13 22:16:59 2021 +0000

      * factored out tbasecgarm.init_mmregister_allocator
    
    git-svn-id: trunk@48671 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 5e7a512777b6c1ca9aa544fedcf5c28c7f42b87c
Author: florian <florian@freepascal.org>
Date:   Sat Feb 13 21:26:15 2021 +0000

      * arm-linux: sighnd.inc must check for CPUTHUMB and CPUTHUMB2
    
    git-svn-id: trunk@48670 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 87e1dc159d85ad4f56cc8cb3ed3eec71c93cd273
Author: florian <florian@freepascal.org>
Date:   Sat Feb 13 17:04:03 2021 +0000

      * do not mess with FPA registers if they are not available
    
    git-svn-id: trunk@48669 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 50bc387688daa395ec4fb1092400cb53a8d2c10c
Author: florian <florian@freepascal.org>
Date:   Sat Feb 13 14:37:07 2021 +0000

      * handle -Ca (as proposed by Michael Ring) and -Cf in the first option pass as well
    
    git-svn-id: trunk@48668 -

M	compiler/options.pas

******************************************************************************
commit afc80a84cf383fb885ae3366d429a5a0c6ffcd3d
Author: yury <jura@cp-lab.com>
Date:   Fri Feb 12 11:26:37 2021 +0000

    * Fixed r48650.
    
    git-svn-id: trunk@48657 -

M	compiler/ncal.pas

******************************************************************************
commit 7f1aac8bd71488208af65d46e2bd3783d8efe725
Author: florian <florian@freepascal.org>
Date:   Thu Feb 11 21:27:12 2021 +0000

      - armv5 never existed (without extension), removed
    
    git-svn-id: trunk@48652 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cpuinfo.pas

******************************************************************************
commit 1c99c2655e3996df83e847a442e52eec3ae171e5
Author: florian <florian@freepascal.org>
Date:   Thu Feb 11 20:51:53 2021 +0000

      * more helpful message if an unknown field is accessed in the assembler reader, resolves #38475
    
    git-svn-id: trunk@48651 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/rautils.pas

******************************************************************************
commit 4245b20a32206201500e7d9c646b003b93f4c6e9
Author: yury <jura@cp-lab.com>
Date:   Thu Feb 11 10:39:41 2021 +0000

    * Fixed expectloc of local variables passed as a formal parameter. This issue is caught by cycling the compiler with -dEXTDEBUG. Yet the compiler can't cycle with EXTDEBUG due to other issues with wrong expectloc.
    
    git-svn-id: trunk@48650 -

M	compiler/ncal.pas

******************************************************************************
commit 71c314d7d498c6c346f11f5f703272a2307bac1e
Author: florian <florian@freepascal.org>
Date:   Wed Feb 10 20:46:15 2021 +0000

      * another FPC_VERSION => FPC_FULLVERSIOn fix
      * switch back to 32 Bit mode if no thumb code is generated
    
    git-svn-id: trunk@48630 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 3b49e95415b79b02d6d74ee7786ddf1c1177c1a3
Author: florian <florian@freepascal.org>
Date:   Wed Feb 10 19:52:52 2021 +0000

      * do not initialize unncessary register allocators
    
    git-svn-id: trunk@48628 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 47be45830c4547fa4e3844bde338a8d35c0ec2ba
Author: michael <michael@freepascal.org>
Date:   Wed Feb 10 11:00:22 2021 +0000

    * Fix issue ID #38462
    
    git-svn-id: trunk@48580 -

M	.gitattributes
M	packages/rtl-objpas/src/inc/dateutil.inc
M	rtl/objpas/sysconst.pp
A	tests/test/units/dateutil/test_scandatetime_ampm.pas

******************************************************************************
commit ecce39a3b253b55250ffa0133d8d6bf3cdacb4cb
Author: florian <florian@freepascal.org>
Date:   Tue Feb 9 20:48:27 2021 +0000

      + throw a warning in ISO mode if a constant string is assigned to a char and the sizes do not match, resolves #38439
    
    git-svn-id: trunk@48563 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ncnv.pas
A	tests/webtbf/tw38439.pp

******************************************************************************
commit 3a0eb110ec513fad178844309b16d66347f7525d
Author: florian <florian@freepascal.org>
Date:   Mon Feb 8 21:41:04 2021 +0000

      * FPC_VERSION => FPC_FULLVERSION
    
    git-svn-id: trunk@48547 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 3e453f92fcdc22caa1b76a695a096929b3bc1f8c
Author: florian <florian@freepascal.org>
Date:   Sun Feb 7 17:59:28 2021 +0000

      * statx based Sysutils.FileGetDate with handle fixed
      + test
    
    git-svn-id: trunk@48520 -

M	rtl/unix/sysutils.pp
M	tests/test/units/sysutils/tfile1.pp

******************************************************************************
commit b08717fef665774b150453e3b2ed979dc851d098
Author: florian <florian@freepascal.org>
Date:   Sun Feb 7 17:41:27 2021 +0000

      * make statx based Sysutils.FileAge working with relative pathes
      + test
    
    git-svn-id: trunk@48519 -

M	rtl/unix/sysutils.pp
M	tests/test/units/sysutils/tfileage.pp

******************************************************************************
commit 539a578cce5f4e05bf46dc283a0fc96952f22bfa
Author: florian <florian@freepascal.org>
Date:   Sat Feb 6 16:59:02 2021 +0000

      * create \index entries in the messages.inc for an index of message texts and numbers in the user manual
    
    git-svn-id: trunk@48517 -

M	compiler/utils/msg2inc.pp

******************************************************************************
commit b1f7fb4ba18b56be4ea098f93393306d14e013ce
Author: florian <florian@freepascal.org>
Date:   Sat Feb 6 12:53:04 2021 +0000

      * test for already fixed issue #24434
    
    git-svn-id: trunk@48516 -

M	.gitattributes
A	tests/webtbf/tw24434.pp

******************************************************************************
commit d0910b5ac837d58c141ceb758c366bb8a87f56ff
Author: florian <florian@freepascal.org>
Date:   Fri Feb 5 22:10:27 2021 +0000

      * allow sub/add nodes in constant pointer expressions, resolves #34027
    
    git-svn-id: trunk@48514 -

M	.gitattributes
M	compiler/aasmcnst.pas
M	compiler/ngtcon.pas
A	tests/webtbs/tw34027.pp

******************************************************************************
commit 91586331b550f102ee2a90e460807b75177ceb2d
Author: florian <florian@freepascal.org>
Date:   Thu Feb 4 20:57:11 2021 +0000

      * x86_64-linux: assembler helpers syscalls do not need a stackframe
    
    git-svn-id: trunk@48512 -

M	rtl/linux/x86_64/syscall.inc

******************************************************************************
commit 1e960a9aeb12ae75877ef9321efbb89f34bbbdce
Author: florian <florian@freepascal.org>
Date:   Wed Feb 3 20:05:56 2021 +0000

      * the size of the CIE_pointer in an FDE is always 32 bit
    
    git-svn-id: trunk@48507 -

M	compiler/cfidwarf.pas

******************************************************************************
commit 64bd8336f17aa61d2d0fcc60e3f073f174e2a4eb
Author: pierre <pierre@freepascal.org>
Date:   Tue Feb 2 23:56:22 2021 +0000

     Fix compilation of linux unit with -dFPC_USE_LIBC option
    
    git-svn-id: trunk@48504 -

M	rtl/linux/linux.pp

******************************************************************************
commit a67c184200c266f2cc586323a8e55f5f3e01b85f
Author: florian <florian@freepascal.org>
Date:   Tue Feb 2 21:36:54 2021 +0000

      * test for already fixed issue #32139
    
    git-svn-id: trunk@48501 -

M	.gitattributes
A	tests/webtbs/tw32139.pp

******************************************************************************
commit 3922926d17a594a84ec3a39a8d6d3c0d9bfb21d2
Author: florian <florian@freepascal.org>
Date:   Mon Feb 1 21:05:23 2021 +0000

      * disable new syscalls on android
    
    git-svn-id: trunk@48495 -

M	rtl/linux/linux.pp

******************************************************************************
commit b4a1c27c5827ed633802b6b6c6e0f9486156b719
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 22:25:18 2021 +0000

      * renamed new syscall wrapper in linux to be consist with the others
    
    git-svn-id: trunk@48479 -

M	rtl/linux/linux.pp
M	rtl/unix/sysutils.pp
M	tests/test/units/linux/tfutimesen.pp
M	tests/test/units/linux/tstatx.pp
M	tests/test/units/linux/tutimensat.pp

******************************************************************************
commit d13838ac0b8509eece4f43b7750bb9b33016f851
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 31 21:23:29 2021 +0000

    + add a test which ensures that a "const TVarData" parameter is passed as a reference.
      This is required for Delphi compatibility as implementers of IVarInvokable or
      inheritors of TInvokableVariantType need to modify the variant data by using
      a pointer to the TVarData because it's passed as const and thus not modifyable
      by itself.
      This behavior is documented in so far as the C++ builder documentation shows
      that the same parameter is implemented as "const&".
    
    git-svn-id: trunk@48478 -

M	.gitattributes
A	tests/test/cg/tpara4.pp

******************************************************************************
commit 90ba89a1280b408cbc31d90e96a81eb34d41ac08
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 18:38:50 2021 +0000

      * linux: FileGetDate makes use of statx if needed
    
    git-svn-id: trunk@48476 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit ef04e3983f4e258e7c07fb3c9c67038909ea556b
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 18:20:01 2021 +0000

      * sysutils on linux uses only the new syscalls if the system has no suitable clong type
    
    git-svn-id: trunk@48475 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit c3656c6b1c220860458cda0c4f123055b609c738
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 18:09:57 2021 +0000

      * fallback to fputime if fputimensat fails as not being available
    
    git-svn-id: trunk@48474 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit d402e0b940515d6c781b18ee921fd6c42f2f1ca8
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 18:02:55 2021 +0000

      * Y2K38 problem for linux in sysutils.findfirst/findnext should be solved
    
    git-svn-id: trunk@48473 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit b8ab06aae74b3cdd9dee2d9340a466f681dfcd77
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 17:12:39 2021 +0000

      + futimens syscall
      * make use of futimens syscall in sysutils unit
      + tests
    
    git-svn-id: trunk@48472 -

M	.gitattributes
M	rtl/linux/linux.pp
M	rtl/unix/sysutils.pp
A	tests/test/units/linux/tfutimesen.pp
M	tests/test/units/sysutils/tfile1.pp

******************************************************************************
commit e6f575d43cac8c900564910c65d8a7bde8285c8b
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 16:43:53 2021 +0000

      + make use of the fputimensat syscall on linux to enable always times beyond 32 bit
    
    git-svn-id: trunk@48471 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit 0c77536f11a75d737878da941c178c29c85b7541
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 16:24:47 2021 +0000

      + linux.fputimensat which properly uses the _tim64 version if needed and available
      + test
    
    git-svn-id: trunk@48470 -

M	.gitattributes
M	rtl/linux/linux.pp
A	tests/test/units/linux/tutimensat.pp

******************************************************************************
commit 33cd5778cd1c2f1543029f9f30e4497fd6ef4c75
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 16:23:23 2021 +0000

      * properly check for linux version supporting statx
    
    git-svn-id: trunk@48469 -

M	tests/test/units/linux/tstatx.pp

******************************************************************************
commit 8b24d60df752458f3b2ec1eba42a1143529a7af6
Author: florian <florian@freepascal.org>
Date:   Sun Jan 31 13:19:55 2021 +0000

      * removed accidently committed printnode
    
    git-svn-id: trunk@48464 -

M	compiler/nmem.pas

******************************************************************************
commit 8496690ed0f812c72b008f609106c933871be484
Author: florian <florian@freepascal.org>
Date:   Sat Jan 30 22:47:38 2021 +0000

      * additional fix for r48449
    
    git-svn-id: trunk@48461 -

M	compiler/nmem.pas

******************************************************************************
commit f39f8d0f1a0c0bc3d3a79f9c1366fc163d5c348f
Author: florian <florian@freepascal.org>
Date:   Sat Jan 30 18:47:27 2021 +0000

      * linux: make use of statx in Sysutils.FileAge if available
    
    git-svn-id: trunk@48457 -

M	.gitattributes
M	rtl/unix/sysutils.pp
A	tests/test/units/sysutils/tfileage.pp

******************************************************************************
commit de62cb8b021a39dcbd2835e2c8459d492afee10f
Author: florian <florian@freepascal.org>
Date:   Sat Jan 30 18:46:58 2021 +0000

      * do not execute xend twice which was introduced in r48430
    
    git-svn-id: trunk@48456 -

M	rtl/i386/cpu.pp

******************************************************************************
commit a90315c3a0ff135ac64f3a199755d511c6b867ce
Author: michael <michael@freepascal.org>
Date:   Sat Jan 30 08:28:13 2021 +0000

    * Patch from Noel Duffy to implement DNS over TCP and test
    
    git-svn-id: trunk@48455 -

M	.gitattributes
M	packages/fcl-net/src/netdb.pp
A	packages/fcl-net/tests/netdbtest.pp
A	packages/fcl-net/tests/tresolvertests.pp
M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 4bec57702f93cd54d61f68b1f8078ce4a4d985fc
Author: florian <florian@freepascal.org>
Date:   Fri Jan 29 21:31:59 2021 +0000

      * handle generic with ord call of sub-range and enumeration data excluding 0 correctly, resolves #38412
    
    git-svn-id: trunk@48452 -

M	.gitattributes
M	compiler/ncon.pas
A	tests/webtbs/tw38412.pp

******************************************************************************
commit e99827246e52288205bf3dff3533634aa553acb3
Author: florian <florian@freepascal.org>
Date:   Thu Jan 28 20:56:15 2021 +0000

      * fix type conversion for array indicies if the ordinal ranges of the involved types do not overlap, resolves #38413
    
    git-svn-id: trunk@48449 -

M	.gitattributes
M	compiler/nmem.pas
A	tests/webtbs/tw38413.pp

******************************************************************************
commit 706e72e1fd681d688ba504b2e7ce1f78694ad686
Author: florian <florian@freepascal.org>
Date:   Wed Jan 27 21:28:55 2021 +0000

      * better error message for runtime errors 202 and 210, resolves #38254
    
    git-svn-id: trunk@48438 -

M	rtl/objpas/sysconst.pp

******************************************************************************
commit 5dbd9eb2e059de506eb9e13317b7645db130918a
Author: pierre <pierre@freepascal.org>
Date:   Tue Jan 26 14:50:58 2021 +0000

     Introduce USE_REAL_INSTRUCTIONS to handle expressions not accepted by old assemblers
    
    git-svn-id: trunk@48430 -

M	rtl/i386/cpu.pp

******************************************************************************
commit 1112e9f30137de9ae545fef8bda72a397d473f3e
Author: yury <jura@cp-lab.com>
Date:   Mon Jan 25 15:44:55 2021 +0000

    * Fixed wrong buffers in the XML registry test.
    
    git-svn-id: trunk@48418 -

M	packages/fcl-registry/tests/regtcxmlreg.pp

******************************************************************************
commit 67fcf0f03e9b81241040ce5e31f8a8290384d029
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 25 00:42:01 2021 +0000

    m68k: revert r48224, the fix proposed in that patch was just hiding an underlying issue
    
    git-svn-id: trunk@48415 -

M	compiler/m68k/n68kadd.pas

******************************************************************************
commit 0ab4515e587d6eba0c82700a003dc3a0ba6a25bb
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 21:32:27 2021 +0000

      * properly mangle interface wrapper names to avoid duplicate label errors, resolves #38385
    
    git-svn-id: trunk@48411 -

M	.gitattributes
M	compiler/ncgvmt.pas
A	tests/webtbs/tw38385.pp
A	tests/webtbs/uw38385a.pp
A	tests/webtbs/uw38385b.pp
A	tests/webtbs/uw38385c.pp

******************************************************************************
commit 0b76059b37bdb2553beec800b2d4134a9d0df826
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 21:13:41 2021 +0000

      * use generic VFP type instead of VFP list prone to changes
    
    git-svn-id: trunk@48410 -

M	compiler/msg/errord.msg
M	compiler/msg/errorda.msg
M	compiler/msg/errordu.msg
M	compiler/msg/errore.msg
M	compiler/msg/errores.msg
M	compiler/msg/errorfi.msg
M	compiler/msg/errorheu.msg
M	compiler/msg/errorid.msg
M	compiler/msg/errorn.msg
M	compiler/msg/errorptu.msg
M	compiler/msg/errorru.msg
M	compiler/msg/errorues.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 6bdd7dc3b920431d4eadd9ce7c57b9a82e2ce27c
Author: michael <michael@freepascal.org>
Date:   Sun Jan 24 18:37:27 2021 +0000

    * Fix issue ID #38358
    
    git-svn-id: trunk@48409 -

M	packages/fcl-db/src/sqldb/interbase/ibconnection.pp

******************************************************************************
commit 5950a5f97b1a920fb9622f8897da0d1eef2ec04f
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 18:07:13 2021 +0000

      * compiler utils cannot depend on StrUtils
    
    git-svn-id: trunk@48408 -

M	compiler/utils/mkx86inl.pp
M	compiler/utils/mkz80ins.pp

******************************************************************************
commit 6975437da8f582ce6f964ba1f3d95972477784e0
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 17:53:42 2021 +0000

    * rgobj: ungetiftemp can't be used here since it frees only temps of the tt_normal type.
    
    git-svn-id: trunk@48407 -

M	compiler/rgobj.pas

******************************************************************************
commit e5c6e91bd0deb773586b10741d8435409313bf56
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 17:43:15 2021 +0000

      + write message number to docs
      + enclose arguments in text angles
    
    git-svn-id: trunk@48406 -

M	compiler/utils/msg2inc.pp

******************************************************************************
commit 91649eb2e5e882700c3f08a339c163b7f24837ca
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 17:40:02 2021 +0000

      * missing programs added to rules, so make clean works better
    
    git-svn-id: trunk@48404 -

M	compiler/utils/Makefile
M	compiler/utils/Makefile.fpc

******************************************************************************
commit b446023e5b2655f9dad6a47462edc7062762f767
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 24 14:57:24 2021 +0000

    * use Str instead of IntToStr to avoid overload problems with unsigned types
    
    git-svn-id: trunk@48400 -

M	rtl/objpas/sysutils/syshelpo.inc

******************************************************************************
commit c3fd06b6b5986d7a1db7971cd0633d8b2421615b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 24 14:57:20 2021 +0000

    * fix for Mantis #38390: use Val instead of StrToInt to avoid overload problems
    + added test
    
    git-svn-id: trunk@48399 -

M	.gitattributes
M	rtl/objpas/sysutils/syshelpo.inc
A	tests/webtbs/tw38390.pp

******************************************************************************
commit 268f7bfb5c73b8e6dc11bfba6bcd1c61ec0353d0
Author: pierre <pierre@freepascal.org>
Date:   Sun Jan 24 14:45:25 2021 +0000

    Add cs_generate_uf2 entry into ppudump
    
    git-svn-id: trunk@48398 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 225eb8ed12ef191cf97a185f1a405bbdaf9634b2
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 14:34:02 2021 +0000

      * do not output error numbers for options
    
    git-svn-id: trunk@48397 -

M	compiler/verbose.pas

******************************************************************************
commit 04727844b5c663cadd8620aef3ec2fc892115d0e
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 14:29:39 2021 +0000

    * Fixed value of the LF_PAD13 enum element.
    
    git-svn-id: trunk@48396 -

M	compiler/dbgcodeview.pas

******************************************************************************
commit 2567631aad9684c8b6c4cae9e4d94e3c93a2466f
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 14:28:49 2021 +0000

    * Removed in_x86mm_last (the duplicate no and unused) from the tinlinenumber enum.
    
    git-svn-id: trunk@48395 -

M	compiler/x86/cx86mminnr.inc

******************************************************************************
commit 1f49e633b6599ef4acf917a4190a62bf171843bf
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 14:21:03 2021 +0000

      + modified patch by Christo Crause: if the target support, the switch -Xu can be used to generate the executable as an uf2 file
    
    git-svn-id: trunk@48394 -

M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.pas
M	compiler/systems/t_embed.pas

******************************************************************************
commit 9b1567f0546a7df6e7a5818dab3c614146f95c7b
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 14:06:35 2021 +0000

    * Corrected method's visibility.
    
    git-svn-id: trunk@48393 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 4fa99cff624119b65aba0c5c6fd0af267ad0dc42
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 14:05:21 2021 +0000

    * Removed more assigned but unused vars.
    
    git-svn-id: trunk@48392 -

M	compiler/avr/cgcpu.pas
M	compiler/avr/cpupara.pas
M	compiler/rgobj.pas

******************************************************************************
commit 75491ae21c54217fc1838dad300f5c86a247db4b
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 13:58:17 2021 +0000

    * Removed/ifdefed the assigned and unused variables.
    
    git-svn-id: trunk@48391 -

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/aoptcpu.pas
M	compiler/jvm/dbgjasm.pas
M	compiler/jvm/njvmmem.pas
M	compiler/nflw.pas
M	compiler/ogomf.pas
M	compiler/pgenutil.pas
M	compiler/psabiehpi.pas
M	compiler/systems/t_freertos.pas
M	compiler/systems/t_win16.pas
M	compiler/x86/cgx86.pas

******************************************************************************
commit 0ab6b1ab4dcc5a513a83831fdd1070ed8fbe49db
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 13:35:32 2021 +0000

    * Commented out the unneeded/unfinished code.
    
    git-svn-id: trunk@48390 -

M	compiler/psabiehpi.pas

******************************************************************************
commit 31cd3df783edbe1bec40a90ccf4df82b5c327f2b
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 13:32:11 2021 +0000

    * Fixed r44145. To test if a constant is declared it is needed to use {$if declared()} instead of {$if defined()}.
    
    git-svn-id: trunk@48389 -

M	compiler/rgobj.pas

******************************************************************************
commit 402876bc1f6ceefe3109ecb7ea16add202d8865d
Author: florian <florian@freepascal.org>
Date:   Sun Jan 24 13:26:49 2021 +0000

      * let theapthread wait unneededly less so the total run time is shorter
    
    git-svn-id: trunk@48388 -

M	tests/test/theapthread.pp

******************************************************************************
commit 9c265d71f0fc92ec1065d0a19c2565ff884dcc9c
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 13:08:54 2021 +0000

    * Fixed a wrong code caused by a typo. It has been revealed by a note about an unused var.
    
    git-svn-id: trunk@48387 -

M	compiler/pgenutil.pas

******************************************************************************
commit 221efd7a806a778f59a29b7f9baf74048e8b3978
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 13:04:17 2021 +0000

    * Commented out some unused (yet?) local variables.
    
    git-svn-id: trunk@48386 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 0a021be803f923bae563abf7eacc9a1d6bf36b66
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 12:41:12 2021 +0000

    * Corrected visibility of overridden methods.
    
    git-svn-id: trunk@48385 -

M	compiler/avr/navradd.pas
M	compiler/i8086/n8086mem.pas
M	compiler/i8086/symcpu.pas
M	compiler/jvm/hlcgcpu.pas
M	compiler/nflw.pas
M	compiler/ogomf.pas

******************************************************************************
commit 64c586b86dc064d1bdb07655975f1787f17129df
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 12:24:01 2021 +0000

    * Removed/ifdefed lots of unused variables.
    
    git-svn-id: trunk@48384 -

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/aoptcpu.pas
M	compiler/aggas.pas
M	compiler/arm/aoptcpu.pas
M	compiler/avr/agavrgas.pas
M	compiler/avr/aoptcpu.pas
M	compiler/avr/cgcpu.pas
M	compiler/avr/cpupara.pas
M	compiler/avr/navrmat.pas
M	compiler/avr/raavrgas.pas
M	compiler/avr/rgcpu.pas
M	compiler/i8086/cpupara.pas
M	compiler/i8086/n8086tcon.pas
M	compiler/jvm/agjasmin.pas
M	compiler/jvm/cpubase.pas
M	compiler/jvm/njvminl.pas
M	compiler/jvm/njvmmat.pas
M	compiler/nadd.pas
M	compiler/nbas.pas
M	compiler/ncginl.pas
M	compiler/ogomf.pas
M	compiler/optloop.pas
M	compiler/psub.pas
M	compiler/scandir.pas
M	compiler/symdef.pas
M	compiler/systems/t_bsd.pas
M	compiler/systems/t_darwin.pas
M	compiler/systems/t_embed.pas
M	compiler/systems/t_freertos.pas
M	compiler/systems/t_win.pas
M	compiler/systems/t_win16.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/agx86nsm.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/nx86inl.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86/nx86set.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit 67a3af29a0eb072b08e9e18990a2c1104136691e
Author: michael <michael@freepascal.org>
Date:   Sun Jan 24 10:58:05 2021 +0000

    * Patch from Laco to fix bug ID #37849
    
    git-svn-id: trunk@48381 -

M	packages/fcl-db/src/sqldb/mysql/mysqlconn.inc

******************************************************************************
commit 55485228ca7a426164d90b9c779dedfe710f9be3
Author: michael <michael@freepascal.org>
Date:   Sun Jan 24 10:56:11 2021 +0000

    * Allow milliseconds up to 1000 milliseconds
    
    git-svn-id: trunk@48380 -

M	packages/rtl-objpas/src/inc/dateutil.inc

******************************************************************************
commit e84fbcedaca496d292598a9800c89b90cf8ed6c5
Author: yury <jura@cp-lab.com>
Date:   Sun Jan 24 10:05:28 2021 +0000

    * Changed the registry test. TRegistry.DeleteKey must delete all sub-keys. It is Delphi compatible despite the incorrect statement in the online Delphi docs.
    
    git-svn-id: trunk@48378 -

M	packages/fcl-registry/tests/testbasics.pp

******************************************************************************
commit 25e2f29e01dfac449cd05de3ad9e5c353aa855b2
Author: michael <michael@freepascal.org>
Date:   Sat Jan 23 22:04:40 2021 +0000

    * Add Port to SQLConnector
    
    git-svn-id: trunk@48358 -

M	packages/fcl-db/src/sqldb/sqldb.pp

******************************************************************************
commit 9803318feffd8cbf8904be68d784f062eee3ed90
Author: florian <florian@freepascal.org>
Date:   Sat Jan 23 21:29:37 2021 +0000

      * give a proper error if macros are too deeply nested
    
    git-svn-id: trunk@48357 -

M	.gitattributes
M	compiler/scanner.pas
A	tests/webtbf/tw38287.pp

******************************************************************************
commit 2519fb126663d9dc4184d8ed9d7edca2e65baf78
Author: florian <florian@freepascal.org>
Date:   Fri Jan 22 22:02:44 2021 +0000

      * patch by J. Gareth Moreton: aarch64 EXTDEBUG fixes and extensions, resolves #38383
    
    git-svn-id: trunk@48337 -

M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 1351ccb3bfe6adad6be0246acb7645203df8b3b0
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 22 12:51:53 2021 +0000

     Avoid range check errors
    
    git-svn-id: trunk@48317 -

M	.gitattributes
M	tests/bench/bcase.pp

******************************************************************************
commit f28629e8e122887b3658de1e061a1b6ed036e5f4
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 22 08:57:56 2021 +0000

     Only set FNotifyMainThreadEvent at start of Execute method and after finishing the compilation of a package
    
    git-svn-id: trunk@48316 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 2b79b117445d6a9f7f1cb1669390ee7737c0e443
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 21 16:15:35 2021 +0000

     Add some colors for comparison between two run results
    
    git-svn-id: trunk@48270 -

M	tests/utils/testsuite/utests.pp

******************************************************************************
commit 3bfb995a4871cfe088d6753086b13b06a613e4b1
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 21 09:20:19 2021 +0000

     Add sleep inside loop to find package that can be compiled, if none is ready in ProcessThreadResult
    
    git-svn-id: trunk@48262 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 8ad127ca309d4fe1e5761c02207b43a66b363aa5
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Jan 21 03:04:20 2021 +0000

    powerpc-amiga: added some exec functions which will be required for some athreads rework
    
    git-svn-id: trunk@48253 -

M	rtl/amiga/powerpc/execf.inc

******************************************************************************
commit b88f9ad57cb67ae1b565d9564f2d8e938c239ce0
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 20 22:11:15 2021 +0000

     Reset paratargetdbg to dbg_none when handling -g- option, to really suppress debug information generation
    
    git-svn-id: trunk@48243 -

M	compiler/options.pas

******************************************************************************
commit 7a3eb453d40af468faa5c395a6bf301cc0a0cc40
Author: florian <florian@freepascal.org>
Date:   Wed Jan 20 21:14:09 2021 +0000

      * arm/aarch64: patch by J. Gareth Moreton: fix register allocation information for Mov2None 2, should resolve #38055
    
    git-svn-id: trunk@48235 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 62edfa558412e5708469db173957eb5799ce828b
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 20 13:20:11 2021 +0000

     Change parameter type of Build* procedure from out to var, as the StringList is created in calling main
     This avoid a warning during compliaztion and a crash when compiled with -gt* option.
    
    git-svn-id: trunk@48228 -

M	tests/webtbs/tw37060.pp

******************************************************************************
commit 4111e13017f90f992971a522ec67f3bdf3b46b85
Author: pierre <pierre@freepascal.org>
Date:   Tue Jan 19 22:33:32 2021 +0000

    Avoid inlining of real constant for m68k if type is not best precision
    
    git-svn-id: trunk@48224 -

M	compiler/m68k/n68kadd.pas

******************************************************************************
commit 0055023394e23271b641f9bcfc38606b6b4e4f36
Author: pierre <pierre@freepascal.org>
Date:   Tue Jan 19 22:30:59 2021 +0000

     Also set __stkptr inside cprt0.as and dllprt0.as startup assembly sources
    
    git-svn-id: trunk@48223 -

M	rtl/linux/m68k/cprt0.as
M	rtl/linux/m68k/dllprt0.as

******************************************************************************
commit 83a1f5fbc3f60760e36fa2832648b82690543b45
Author: pierre <pierre@freepascal.org>
Date:   Tue Jan 19 22:28:37 2021 +0000

     Also set __stkptr inside cprt0.as startup assembly source
    
    git-svn-id: trunk@48222 -

M	rtl/linux/mips/cprt0.as
M	rtl/linux/mips/prt0.as

******************************************************************************
commit 85afaf528916ef20938b019e802619d65dc3f778
Author: florian <florian@freepascal.org>
Date:   Tue Jan 19 21:04:41 2021 +0000

      * patch by J. Gareth Moreton: Unitialized result variable fix on non-x86 debug builds, resolves #38371
    
    git-svn-id: trunk@48221 -

M	compiler/nbas.pas

******************************************************************************
commit 30587299ea290ed23669ba95a96e1d1503a347b3
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 19 17:38:36 2021 +0000

    * TRegIniFile: When accessing a section do not change/close the current open key.
    * TRegIniFile should work properly with the XML registry. The tregistry2 test should work on any platform.
    
    git-svn-id: trunk@48210 -

M	packages/fcl-registry/src/regini.inc
M	packages/fcl-registry/src/registry.pp

******************************************************************************
commit 5d69ba2cd895cb74fb6a13bbe3ea23f3c29e781a
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 19 17:30:11 2021 +0000

    * TXmlRegistry: When a key name starts with \ or / it means the absolute path to the key is specified. So ignore the currently selected key when an absolute key is requested.
    
    git-svn-id: trunk@48209 -

M	packages/fcl-registry/src/xmlreg.pp

******************************************************************************
commit 050a342101549189ada47267944d9494b610f7de
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 19 17:25:56 2021 +0000

    * Reverted r41816 to allow TXmlRegistry.DeleteKey() delete the key and all its children. It is Delphi compatible. Windows implementation of TRegistry.DeleteKey() was fixed accordingly.
    
    git-svn-id: trunk@48208 -

M	packages/fcl-registry/src/xmlreg.pp

******************************************************************************
commit 2c196ee8a9f1c0cc419b561f55996b7b86a04f5d
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 19 17:13:44 2021 +0000

    * TRegistryIniFile: Fixed uninitialized Result in ValueExists(). Implemented SectionExists().
    
    git-svn-id: trunk@48206 -

M	packages/fcl-registry/src/registry.pp

******************************************************************************
commit dc799a9d49d234980b4184d2561bb0ba04337177
Author: pierre <pierre@freepascal.org>
Date:   Mon Jan 18 23:29:24 2021 +0000

     Fix clearing of single type register variable in initialize_regvars method for ARM cpu (with -Ooregvar)
    
    git-svn-id: trunk@48186 -

M	compiler/hlcgobj.pas

******************************************************************************
commit 16f201292c0690d29ee40a4b525a60c13d203c7c
Author: florian <florian@freepascal.org>
Date:   Mon Jan 18 21:29:52 2021 +0000

      + remove try ... finally statements if the finally block is empty
    
    git-svn-id: trunk@48174 -

M	compiler/nflw.pas

******************************************************************************
commit d4ad618a702802f02fe4196ce6487f15c5535bed
Author: florian <florian@freepascal.org>
Date:   Sun Jan 17 19:01:14 2021 +0000

      * similiar fix to r48167 for OptPass1SXTH
    
    git-svn-id: trunk@48168 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 14ddc59edbfafc8f7ff20ca7bfaeecee4ee3fd16
Author: florian <florian@freepascal.org>
Date:   Sun Jan 17 10:12:55 2021 +0000

      * arm*: fix SxtbAndImm2Sxtb (now SxtbAndImm2Uxtb) optimization as proposed by Pierre and Gareth
    
    git-svn-id: trunk@48167 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit ecc3ce64eaeeca34fbcdf297fdea90420845fb11
Author: florian <florian@freepascal.org>
Date:   Sat Jan 16 22:46:25 2021 +0000

      * x86: some fixes to enable 8 and 16 bit operations
    
    git-svn-id: trunk@48166 -

M	compiler/x86/cgx86.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86_64/nx64mat.pas

******************************************************************************
commit 8618a3b21f4079b12a7b439c9026d3ace63d3925
Author: florian <florian@freepascal.org>
Date:   Sat Jan 16 15:38:29 2021 +0000

      * simplify tx8664shlshrnode.pass_generate_code, it should not mess with the result type, this
        is a matter of the type check pass
    
    git-svn-id: trunk@48164 -

M	compiler/x86_64/nx64mat.pas

******************************************************************************
commit 707bce74d765b6442a28036f5bbb0320c61b7560
Author: florian <florian@freepascal.org>
Date:   Fri Jan 15 21:24:44 2021 +0000

      * patch by J. Gareth Moreton: refactor OptPass2Jcc, resolves #38343
    
    git-svn-id: trunk@48162 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 50a13b4df4e2b0016883d14571eb2bc79d15e334
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 14 22:59:16 2021 +0000

     Function GetDefaultLibGCCDir adapted to case of Defaults not assigned (required for fpcmkcfg utility) reported by Andrew Kurushin
    
    git-svn-id: trunk@48157 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 9003114a8f7cf994275dbfc88b93a0c8d0ce25d5
Author: florian <florian@freepascal.org>
Date:   Thu Jan 14 21:36:12 2021 +0000

      + support R_X86_64_GOTPCRELX and R_X86_64_REX_GOTPCRELX
    
    git-svn-id: trunk@48156 -

M	compiler/ogbase.pas
M	compiler/x86_64/cpuelf.pas

******************************************************************************
commit 1fa5edd34e6fe5bb45b76893a5a8b3b83f8d03ce
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 13 10:07:37 2021 +0000

      Try to avoid use of native libgcc directory when cross-compiling.
    
      Add FSourceCPU, FSourceOS, FCompilerDate FFullCompilerVersion fields to TCustomDefaults class.
      Set these new fields by also parsing FPC -iDWSPSO output.
      Use these fields to try to correctly guess if native gcc should be used to
      try to find libgcc directory, or only $BINUTILSPREFIX prepended gcc.
    
    git-svn-id: trunk@48152 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 344aadebb9e2cc9abe51bfad885a57400508d088
Author: florian <florian@freepascal.org>
Date:   Tue Jan 12 21:45:38 2021 +0000

      * avoid widening of shl operations, this is not necessary for them either
    
    git-svn-id: trunk@48150 -

M	compiler/ncnv.pas

******************************************************************************
commit a286ad9d774c19718bea0cbfc84347dc67dd4862
Author: florian <florian@freepascal.org>
Date:   Mon Jan 11 21:47:32 2021 +0000

      * do not extend 8 bit return values to 32 bit when loading them into eax,
        this is not required by the api, neither does e.g. clang it
    
    git-svn-id: trunk@48136 -

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 5c2303a76b1a616d24f9e41679bf61f79020f4c4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jan 10 15:47:27 2021 +0000

      * add parameter cleanup nodes to the call cleanup block (mantis #38316)
    
    git-svn-id: trunk@48130 -

M	.gitattributes
M	compiler/ncal.pas
A	tests/webtbs/tw38316.pp

******************************************************************************
commit b7c519de81316bccb8fb8e71458ef89d8b1f48df
Author: pierre <pierre@freepascal.org>
Date:   Sun Jan 10 14:43:22 2021 +0000

    Add check for bug fix in bug report 38339
    
    git-svn-id: trunk@48129 -

M	.gitattributes
A	tests/webtbs/tw38339.pp

******************************************************************************
commit 217e9ac5a5714fa60214616b33f0e7a0860c2a64
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 10 10:55:26 2021 +0000

    * regenerate msg*.inc files
    
    git-svn-id: trunk@48126 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 469959d9b52e49254c45885e9e9f6d631a3481b6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 10 10:55:18 2021 +0000

    * clear up message that a global generic references a static symbol a bit
    
    git-svn-id: trunk@48125 -

M	compiler/msg/errore.msg

******************************************************************************
commit eb81b981cd66a1ab82fa0dcc05119e3a9c5a09d6
Author: florian <florian@freepascal.org>
Date:   Sun Jan 10 10:23:40 2021 +0000

      * patch by J. Gareth Moreton to fix MovzxCmp2CmpMovzx, resolves #38339
    
    git-svn-id: trunk@48124 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 227bd3e9041fa1347905fcf666a951382c1a0f09
Author: florian <florian@freepascal.org>
Date:   Sat Jan 9 18:21:49 2021 +0000

      * simplified code for JccAdd2SetccAdd optimization
    
    git-svn-id: trunk@48122 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit efe6b32638c26cdd511b8ed35ffa9074817dcf20
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 9 15:58:18 2021 +0000

    + add declaration of FpSchedGetAffinity when the Linux target is compiled with FPC_USE_LIBC
    
    git-svn-id: trunk@48121 -

M	rtl/unix/oscdeclh.inc

******************************************************************************
commit 359bb64aedafca34fee136e053b69a897b9c428a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 9 15:58:13 2021 +0000

    * if the Linux target is compiled with FPC_USE_LIBC the initialization of TLS is not required (according to one comment by Florian), so disable all related code in that case (as for example the syscall numbers are not available then)
    
    git-svn-id: trunk@48120 -

M	rtl/linux/i386/si_prc.inc
M	rtl/linux/si_impl.inc
M	rtl/linux/system.pp
M	rtl/linux/x86_64/si_prc.inc

******************************************************************************
commit f42f62565bf31b15c943b91eab9fc5a9569e01fe
Author: florian <florian@freepascal.org>
Date:   Fri Jan 8 22:29:24 2021 +0000

      * patch by J. Gareth Moreton to resolve bug introduced in the first patch, resolves #38294
    
    git-svn-id: trunk@48117 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4e9b42344e5e19210d8ffec442f1bba631df9078
Author: florian <florian@freepascal.org>
Date:   Fri Jan 8 22:22:56 2021 +0000

      + AddLea2Lea optimization
      * improved LeaLea2Lea
    
    git-svn-id: trunk@48116 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 7f775abb6dc5c5b3b3a1dfe347304a81d970df77
Author: florian <florian@freepascal.org>
Date:   Fri Jan 8 14:19:19 2021 +0000

      * throw a proper error if a contructur has a type parameter in delphi mode, resolves #37217
    
    git-svn-id: trunk@48113 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecsub.pas
A	tests/webtbf/tw37217.pp

******************************************************************************
commit 37201319bf44a5b61336a8273329212d109bc816
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 8 09:57:31 2021 +0000

     Add two new button to simplify inspecting evolutiontestsuite difference in time
    
    git-svn-id: trunk@48110 -

M	tests/utils/testsuite/utests.pp

******************************************************************************
commit d2b0bcdf1fbc5426b6f4c2331f3ea34cb38f99cc
Author: florian <florian@freepascal.org>
Date:   Thu Jan 7 22:44:49 2021 +0000

      + linux implementation of System.GetCPUCount
    
    git-svn-id: trunk@48106 -

M	rtl/linux/ossysc.inc
M	rtl/linux/ostypes.inc
M	rtl/linux/system.pp

******************************************************************************
commit 80282d6effe141239c36d02d418c51142b38f6f5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 6 22:35:40 2021 +0000

      * llvm: only set custom parameter alignments for byval parameters, the rest
        is handled automatically by llvm (and since llvm 11.0 you get an error if
        you specify an alignment for them anyway)
    
    git-svn-id: trunk@48100 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 38cde3817754458936db1662687ae37498500da5
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Jan 6 20:25:12 2021 +0000

    * make TProxyStream.Check an abstract method; as it is right now one had to override it anyway because it always raised an exception
    
    git-svn-id: trunk@48097 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit 6160abe37ec2fd61fcd1424cd62cf95fd2f8b1f6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Jan 6 12:57:59 2021 +0000

    * have the generic dummy symbols for procsyms keep track of their overloaded generic procsyms so that they can be easily found (will be needed for implicit specializations)
    
    git-svn-id: trunk@48096 -

M	compiler/pdecsub.pas
M	compiler/ppu.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppuout.pp

******************************************************************************
commit aec18c2426a503c0c85e057bbc2f029d649fe3bf
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 22:39:16 2021 +0000

      * weight currency->float conversions the same regardless if
        the currency type is handled by the integer unit or the x87 fpu,
        resolves #38309
    
    git-svn-id: trunk@48089 -

M	.gitattributes
M	compiler/defcmp.pas
A	tests/webtbs/tw38309.pp

******************************************************************************
commit 57d9884d964cc8e1208814fc3b0f381c3140e642
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jan 5 20:58:46 2021 +0000

    * fix for Mantis #38310: ignore procsyms that have no procdefs for checking overloads, or more precisely to stop checking for overloads; these are generic dummy symbols
    + added (simplified) tests
    
    git-svn-id: trunk@48088 -

M	.gitattributes
M	compiler/htypechk.pas
A	tests/webtbs/tw38310a.pp
A	tests/webtbs/tw38310b.pp
A	tests/webtbs/tw38310c.pp

******************************************************************************
commit 28efcfba65295ebf1b88238906b79594fe54fda4
Author: florian <florian@freepascal.org>
Date:   Tue Jan 5 15:15:41 2021 +0000

      + patch by J. Gareth Moreton: Advanced MOVZX optimisations, resolves #38294
    
    git-svn-id: trunk@48086 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit de36d6c0499c2ce4ceba4825d004767f0ba944bb
Author: florian <florian@freepascal.org>
Date:   Mon Jan 4 21:54:36 2021 +0000

      + added newly used opcodes to avx_opcode_only_op0_may_be_memref
    
    git-svn-id: trunk@48070 -

M	compiler/x86/rgx86.pas

******************************************************************************
commit 38ddf2e8c5883189c13fdce704f28862c91fec07
Author: pierre <pierre@freepascal.org>
Date:   Mon Jan 4 08:35:36 2021 +0000

     Fix spelling error of revision 48023
    
    git-svn-id: trunk@48024 -

M	rtl/arm/mathu.inc

******************************************************************************
commit 7d5b0d23827e124da3eab2f39fe6cd52673ff4c4
Author: florian <florian@freepascal.org>
Date:   Sun Jan 3 22:55:37 2021 +0000

      * handle rawbytestrings in Win32Ansi2UnicodeMove properly, resolves #38299
    
    git-svn-id: trunk@48021 -

M	.gitattributes
M	rtl/win/syswin.inc
A	tests/webtbs/tw38299.pp

******************************************************************************
commit f2568e37e422b9767766ef686ff77c8b3e9b04ad
Author: pierre <pierre@freepascal.org>
Date:   Sun Jan 3 22:03:27 2021 +0000

    Add testing for single float type in trndmode.pp
    
    git-svn-id: trunk@48020 -

M	tests/test/units/math/trndcurr.pp

******************************************************************************
commit 57861c934d5830f9187b2a06bb8b6c1dd781ab8b
Author: pierre <pierre@freepascal.org>
Date:   Sun Jan 3 21:55:35 2021 +0000

     Check also that SetRoundMode returns correctly previous rounding mode
    
    git-svn-id: trunk@48019 -

M	tests/test/units/math/trndcurr.pp

******************************************************************************
commit 3362abb30c9eee50eab4181333c3a99b866c8633
Author: pierre <pierre@freepascal.org>
Date:   Sun Jan 3 21:44:18 2021 +0000

     * Set softfloat_rounding_mode indise SetRoundMode function for all CPUs.
     * SetRoundMode returns previous rounding mode value for all CPUs.
    
    git-svn-id: trunk@48018 -

M	rtl/aarch64/mathu.inc
M	rtl/arm/mathu.inc
M	rtl/i386/mathu.inc
M	rtl/i8086/mathu.inc
M	rtl/m68k/mathu.inc
M	rtl/mips/mathu.inc
M	rtl/powerpc/mathu.inc
M	rtl/powerpc64/mathu.inc
M	rtl/riscv64/mathu.inc
M	rtl/sparc/mathu.inc
M	rtl/sparc64/mathu.inc
M	rtl/x86_64/mathu.inc
M	rtl/xtensa/mathu.inc
M	tests/test/units/math/trndcurr.pp

******************************************************************************
commit 12adb47d65e06d4d730cbb860c711bb668a94367
Author: florian <florian@freepascal.org>
Date:   Sun Jan 3 15:03:27 2021 +0000

      * clean up
    
    git-svn-id: trunk@48011 -

M	compiler/nadd.pas

******************************************************************************
commit b8578f804f48a7e7fc45a176f4556cf729dab2db
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jan 3 12:11:44 2021 +0000

    * fix compilation on targets that use Stabs debug information: ignore generic dummy symbols with no procdefs for generating stabs data
    
    git-svn-id: trunk@48007 -

M	compiler/dbgstabs.pas

******************************************************************************
commit c96029ebd57c852dd3f006cf8769d9fd5473a605
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:39 2021 +0000

    * Delphi does not allow a generic method to be overloaded by a non generic type of the same name (unlike for generic types and non generic routines); this is probably done to simplify the implementation of implicit specializations of generic methods so we do this as well. For this we change the dummy symbol for generic routines from a typesym to a procsym
    + added tests
    
    Note: what Delphi /does/ allow however is to overload a generic routine with a generic type... go figure. :/ We currently don't allow that
    
    git-svn-id: trunk@48002 -

M	.gitattributes
M	compiler/pdecsub.pas
A	tests/test/tgenfunc24.pp
A	tests/test/tgenfunc25.pp
A	tests/test/tgenfunc26.pp
A	tests/test/tgenfunc27.pp

******************************************************************************
commit 7343e9c4a273b789577856915e0edf6613fa4b41
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:34 2021 +0000

    * correctly handle the case should the generic dummy symbol be a procsym instead of a typesym
    
    git-svn-id: trunk@48001 -

M	compiler/pexpr.pas
M	compiler/symtable.pas

******************************************************************************
commit e4eed4e25994349c28dec79ab566831565bec643
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:29 2021 +0000

    * when only a symbol name is provided to generate_specialization_phase1 allow a symbol table to be provided as well
    
    git-svn-id: trunk@48000 -

M	compiler/pexpr.pas
M	compiler/pgenutil.pas

******************************************************************************
commit a65d778f73ae920d4eeec28438c254ad9ee0f8cb
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:24 2021 +0000

    * also handle call nodes when determining the generic symbol for inline specializations
    
    git-svn-id: trunk@47999 -

M	compiler/pexpr.pas

******************************************************************************
commit f42b39a7b5c586378c5baef31567ee53cc427715
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:20 2021 +0000

    * use a case statement instead of nested if-then statements
    
    git-svn-id: trunk@47998 -

M	compiler/pexpr.pas

******************************************************************************
commit 43ba5b69d2b86a6b00908c0c1664cd893db22f9d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:16 2021 +0000

    * ensure that the dummy symbol is registered if it's added due to a routine
    
    git-svn-id: trunk@47997 -

M	compiler/pdecsub.pas

******************************************************************************
commit 9179f9d43b5ebc1ba356a7d0ad12a13a2ac52b3f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:12 2021 +0000

    * always add a generic dummy if it is a procsym
    
    git-svn-id: trunk@47996 -

M	compiler/pgenutil.pas

******************************************************************************
commit d854d18bd9730ffbe4340dd8a1dc9c2c1efd65b8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 2 23:23:08 2021 +0000

    * instead of blindly consuming whatever comes next trigger an explicit error if the parsed expression does not match for "INDEX ordexpr" or "NAME strexpr"
    + added tests
    
    git-svn-id: trunk@47995 -

M	.gitattributes
M	compiler/pexports.pas
A	tests/webtbf/tw38289a.pp
A	tests/webtbf/tw38289b.pp

******************************************************************************
commit 3109005791794f433437c6d452e72f1bffbd4a4a
Author: florian <florian@freepascal.org>
Date:   Sat Jan 2 22:18:38 2021 +0000

      + fold also (string const+(string const+string var))
      * string tree folding code moved into level 2 opt. block
    
    git-svn-id: trunk@47986 -

M	compiler/nadd.pas
M	tests/webtbs/tw38267b.pp

******************************************************************************
commit 7de94e7a1dd1ee7de675c334fc936a64f72fb978
Author: florian <florian@freepascal.org>
Date:   Sat Jan 2 17:18:54 2021 +0000

      * properly fold string+string const+string const., resolves #38267
    
    git-svn-id: trunk@47977 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw38267b.pp

******************************************************************************
commit 8b080792240467c8df06d80cc87deeb06fca1434
Author: florian <florian@freepascal.org>
Date:   Sat Jan 2 16:39:39 2021 +0000

      * fpc_AnsiStr_Concat: if one of the strings is empty and CP_NONE is passed, the code page
        of the other string is taken, this is also like fpc_AnsiStr_Concat_multi works if length(sarr)=2
    
    git-svn-id: trunk@47976 -

M	rtl/inc/astrings.inc

******************************************************************************
commit e6037961e3be89a55dcb273dd8327fdb85d5338c
Author: florian <florian@freepascal.org>
Date:   Fri Jan 1 21:58:12 2021 +0000

      * refactored constant folding code
    
    git-svn-id: trunk@47935 -

M	compiler/nadd.pas

******************************************************************************
commit 97abf6b49557961c9fdd525b4b4db4e4763d6e37
Author: florian <florian@freepascal.org>
Date:   Fri Jan 1 15:26:13 2021 +0000

      * first part of fixing #38267: do not bail out early during constant folding
        if the constant is 1 or -1
    
    git-svn-id: trunk@47933 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw38267a.pp

******************************************************************************
commit b4a6c22234aeb9982a3d27ca0c37e0f2b7963958
Author: florian <florian@freepascal.org>
Date:   Thu Dec 31 15:52:02 2020 +0000

      * do not check inlined exit nodes for unset results, resolves #38259
    
    git-svn-id: trunk@47926 -

M	compiler/optdfa.pas
M	tests/webtbs/tw38259.pp

******************************************************************************
commit 32999fbaba853286412aed98a5d2a89262a0cd65
Author: joost <joost@cnoc.nl>
Date:   Wed Dec 30 15:41:44 2020 +0000

     * Fixed missing slash in fppkg.cfg when installed in the root
    
    git-svn-id: trunk@47913 -

M	compiler/utils/samplecfg

******************************************************************************
commit b5725ac3ed071ec564e8f49a80e89b9d46b54bf6
Author: florian <florian@freepascal.org>
Date:   Wed Dec 30 09:34:22 2020 +0000

      * while not official supported, bootstrapping with 3.0.4 fixed
    
    git-svn-id: trunk@47901 -

M	rtl/i386/cpu.pp

******************************************************************************
commit edfbf2ce30215262b7e8c2d5f0b9c516bead4fc3
Author: florian <florian@freepascal.org>
Date:   Tue Dec 29 22:35:33 2020 +0000

      * correctly handle inlined exits in dfa, resolves #38259
    
    git-svn-id: trunk@47894 -

M	.gitattributes
M	compiler/optdfa.pas
M	compiler/optutils.pas
A	tests/webtbs/tw38259.pp

******************************************************************************
commit 6866b0726693946e7e15903c10e83a2df1bc2bdd
Author: florian <florian@freepascal.org>
Date:   Tue Dec 29 18:26:20 2020 +0000

      * simplified test after r47892
    
    git-svn-id: trunk@47893 -

M	tests/test/cg/tm128.pp

******************************************************************************
commit eb7702bea42c58dc4591524ef35fce8ea9b5b62b
Author: florian <florian@freepascal.org>
Date:   Tue Dec 29 18:19:35 2020 +0000

      + implement align directive for records, resolves #28927
    
    git-svn-id: trunk@47892 -

M	.gitattributes
M	compiler/ptype.pas
A	tests/webtbs/tw28927.pp

******************************************************************************
commit 2fc672452d27fe93609cb52bfca8a90a1b002cd7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 29 13:07:41 2020 +0000

      * fixed error in load_fpu_location triggered by round() (fixes webtbs/tw32671
        on i386 after r47854)
    
    git-svn-id: trunk@47890 -

M	compiler/x86/nx86inl.pas

******************************************************************************
commit ea55c5f7e39447230d15779135130b2aa860cee0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 28 16:58:58 2020 +0000

      - disable the i386 assembly code for Linux/i386 as it doesn't work with a
        fixed stack (uses hardcoded stack offsets) (mantis #38260)
    
    git-svn-id: trunk@47871 -

M	packages/hash/src/sha1.pp

******************************************************************************
commit 93be88b270d425ff7725db6f653519d2459ae3dc
Author: florian <florian@freepascal.org>
Date:   Mon Dec 28 16:18:55 2020 +0000

      * reverted r47862
    
    git-svn-id: trunk@47869 -

M	compiler/dirparse.pas

******************************************************************************
commit 185f20b9ecfaa598d6d6e3c042707c4e87273e0f
Author: marco <marco@freepascal.org>
Date:   Mon Dec 28 10:46:35 2020 +0000

     * fix comment typo mentioned by Bart
    
    git-svn-id: trunk@47866 -

M	compiler/psub.pas

******************************************************************************
commit 6169bbeed5936ec152279666681362007726f3cb
Author: florian <florian@freepascal.org>
Date:   Sun Dec 27 21:54:01 2020 +0000

      + $codealign directive accepts setting maxcrecord
    
    git-svn-id: trunk@47862 -

M	compiler/dirparse.pas

******************************************************************************
commit 6d03f2807a94366b797af7c01350beda4fd19b3b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:19:05 2020 +0000

      * made exit codes unique
    
    git-svn-id: trunk@47860 -

M	tests/test/tprec8.pp

******************************************************************************
commit b359080f42f427da88a6dc8790f00f486ac2351e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:19:02 2020 +0000

      * fixed round(currency) so it takes the rounding mode into account on
        platforms where currency is "type int64"
      * inline trunc(currency), trunc(comp) and round(comp) on platforms where
        currency and comp are "type int64"
    
    git-svn-id: trunk@47859 -

M	.gitattributes
M	rtl/inc/currh.inc
M	rtl/inc/gencurr.inc
A	tests/test/units/math/trndcurr.pp

******************************************************************************
commit 514db355b1fce2eaedf4efd2ac2b637946f4efe4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:59 2020 +0000

      * darwin/AArch64: always clear fpu exception flags regardless of the
        triggered signal, as the kernel currently triggers SIGILL rather
        than SIGFPE for FPU exceptions
    
    git-svn-id: trunk@47858 -

M	rtl/darwin/aarch64/sighnd.inc

******************************************************************************
commit 8ba4c4bcf0ccb8f927c6a15dd9cf07bb02789946
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:56 2020 +0000

      * factored out the creation of loadnodes for special variables/parameters
    
    git-svn-id: trunk@47857 -

M	compiler/nld.pas
M	compiler/nutils.pas
M	compiler/symsym.pas

******************************************************************************
commit 5e3e4437c442a0e916cc3137f1a17583161a78de
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:53 2020 +0000

      * use new TSym.EscapedRealName property when creating new symbols with the
        same name as existing symbols
    
    git-svn-id: trunk@47856 -

M	compiler/symbase.pas
M	compiler/symcreat.pas

******************************************************************************
commit 5d51a788f77f5a9b6610375c5b7f7598274bc6ae
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:50 2020 +0000

      - revert r47208
      * properly fix the internalerror it hid: only replace the local symbols
        migrated to the parentfpstruct right before generating debug information,
        so that internally generated self/result loads during optimisation passes
        don't get confused by the replacement absolutevarsyms (those are normally
        never encountered during optimisation, as regular absolutevarsyms are
        replaced during parsing)
    
    git-svn-id: trunk@47855 -

M	compiler/nutils.pas
M	compiler/optdfa.pas
M	compiler/psub.pas

******************************************************************************
commit 3e047d3691851aa988e95fd76fe241fdb2386470
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:47 2020 +0000

      * generate more efficient code for trunc(currency), trunc(comp), and
        round(comp) on platforms where currency and comp are handled using the FPU
       o also fixes trunc(comp) and trunc(currency) compilation for x86 on LLVM
         with -Oofastmath
     * add missing removal of excess fpu precision typecasts for trunc/round
    
    git-svn-id: trunk@47854 -

M	.gitattributes
M	compiler/defutil.pas
M	compiler/ninl.pas
A	tests/tbs/tb0683.pp

******************************************************************************
commit c0c0acbcb9edd11007a891b0942d2d74ee315209
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 27 13:18:44 2020 +0000

      * fixed llvm shadow symtable construction in case fields are reordered
        (-Ooorderfields) and hence their offsets are no longer monotonically rising
      * also fixed padding for variant bitpacked records in llvm shadow symtable
    
    git-svn-id: trunk@47853 -

M	compiler/symtable.pas

******************************************************************************
commit 98d3473a1a699919fa8e27f616cb2e2e660c2430
Author: florian <florian@freepascal.org>
Date:   Sat Dec 26 21:11:12 2020 +0000

      * i386: disable InterlockedCompareExchange128 implementation if PIC is enabled
    
    git-svn-id: trunk@47852 -

M	rtl/i386/cpu.pp

******************************************************************************
commit 33afecd117abbd8c48433ff6396bc3b7419cda09
Author: florian <florian@freepascal.org>
Date:   Sat Dec 26 18:51:45 2020 +0000

      + support got modifier on labels
    
    git-svn-id: trunk@47851 -

M	.gitattributes
M	compiler/x86/rax86att.pas
A	tests/tbs/tb0682.pp

******************************************************************************
commit 8b34e11da36947a064d53dc7ce367069abd69bbf
Author: pierre <pierre@freepascal.org>
Date:   Sat Dec 26 17:08:56 2020 +0000

     Add code to test Linux version, try statx syscall only if version is >= to 4.11
    
    git-svn-id: trunk@47850 -

M	tests/test/units/linux/tstatx.pp

******************************************************************************
commit 6190258f5d0c9b9992e8346bffbc8c18070f976b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Dec 26 00:21:31 2020 +0000

    m68k: new CPU capability - the LINK instruction supports LONG displacements (68020+)
    
    git-svn-id: trunk@47849 -

M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit 053c42da3376a83975d1b45b78587f466d28fcba
Author: florian <florian@freepascal.org>
Date:   Fri Dec 25 18:18:09 2020 +0000

      + Xtensa: support large stack frames for the call0 abi
    
    git-svn-id: trunk@47848 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 16a21eea87c564e9bd99c95eefb5980c9b230cfa
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Dec 25 09:07:21 2020 +0000

    m68k: the LEA+MOVEM to MOVEM optimization is not feasible on a ColdFire
    
    git-svn-id: trunk@47847 -

M	compiler/m68k/aoptcpu.pas

******************************************************************************
commit 0fd7a5cb1fb05d0ee521c98cdcff695e95194b79
Author: florian <florian@freepascal.org>
Date:   Thu Dec 24 13:13:42 2020 +0000

      * lines with 255 chars a little bit long, reformated them
    
    git-svn-id: trunk@47845 -

M	compiler/nflw.pas

******************************************************************************
commit 26170815b410639e9a1b233a854884f913d47068
Author: pierre <pierre@freepascal.org>
Date:   Thu Dec 24 11:26:01 2020 +0000

     Fix compilation of i8086 compiler after commit #47840
    
    git-svn-id: trunk@47844 -

M	compiler/x86/nx86inl.pas

******************************************************************************
commit 6db164c9936938755328022913d2985b1d3eec66
Author: florian <florian@freepascal.org>
Date:   Wed Dec 23 22:41:37 2020 +0000

      * min/max optimization needs to check both operands of the if condition, even if no else-statement is passed, resolves #38249
    
    git-svn-id: trunk@47843 -

M	.gitattributes
M	compiler/nflw.pas
M	tests/test/tminmax.pp
A	tests/webtbs/tw38249.pp

******************************************************************************
commit b03eefd5d0bc17a5bcd03eb7850280509aa17b0b
Author: florian <florian@freepascal.org>
Date:   Wed Dec 23 17:58:07 2020 +0000

      * Ch_ information for vreduce* fixed
    
    git-svn-id: trunk@47842 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 3a668d9b7c1720851d9980e132e0201d02b6a1aa
Author: florian <florian@freepascal.org>
Date:   Wed Dec 23 17:55:22 2020 +0000

      * i386 compilation fixed
    
    git-svn-id: trunk@47841 -

M	compiler/i386/cpuinfo.pas

******************************************************************************
commit b713c7380bbd705f224c1bc1ad1e26eb8f5694e4
Author: florian <florian@freepascal.org>
Date:   Wed Dec 23 17:25:09 2020 +0000

      * implemented UseAVX512 properly
      + make use of VREDUCE* for frac(...) if AVX512QD is a available
    
    git-svn-id: trunk@47840 -

M	compiler/x86/cpubase.pas
M	compiler/x86/nx86inl.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 2bcd2a4a937cb2c8eb5e2e090e03816e934b8549
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 23 10:19:44 2020 +0000

     Appply fix from Gareth Moreton in bug report 38247
    
    git-svn-id: trunk@47838 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 01691e9ecbe3a4cccd531799227886d3d1ac92b1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Dec 22 23:14:25 2020 +0000

    * fix the m68k cross-builds by disabling part of r47824
    
    git-svn-id: trunk@47835 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit cc92af8423a84a63ca73688c50f211869af3be97
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Dec 22 22:22:35 2020 +0000

    * apply patch by Blaise.ru to enable the correct generation of names for classes/interfaces inside local symtables; these will be required for reference function types which are in fact interfaces and classes, this does not mean that ordinary classes can be declared inside functions
    Note: no test as the functionality is not yet used
    
    git-svn-id: trunk@47834 -

M	compiler/symdef.pas

******************************************************************************
commit 4f05523db92992b8fd91fc7d7620c5ae267b08bc
Author: florian <florian@freepascal.org>
Date:   Tue Dec 22 22:00:08 2020 +0000

      + RTMSupport function
      + if available use RTM to support InterlockedCompareExchange128 on i386
    
    git-svn-id: trunk@47833 -

M	rtl/i386/cpu.pp
M	rtl/x86_64/cpu.pp
M	tests/test/tcas128.pp

******************************************************************************
commit da468719df559b3d0e0e0561fc8537de10a5ce2e
Author: florian <florian@freepascal.org>
Date:   Mon Dec 21 21:43:06 2020 +0000

      * patch by Christo Crause to take care of the fact that the esp8266 read function is non-blocking, resolves #38243
    
    git-svn-id: trunk@47832 -

M	rtl/freertos/xtensa/esp8266.pp

******************************************************************************
commit 2a990b8167e0da36ce24a4e90263ac8e6cb47aae
Author: florian <florian@freepascal.org>
Date:   Sun Dec 20 18:05:43 2020 +0000

      + patch by J. Gareth Moreton: some new x86 assembler optimizations, resolves #38130
    
    git-svn-id: trunk@47824 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit b8fc193b0ce6c478d9d7ea0fca2486e3817fea55
Author: florian <florian@freepascal.org>
Date:   Sat Dec 19 12:58:35 2020 +0000

      * extended test
    
    git-svn-id: trunk@47818 -

M	tests/test/texception4.pp

******************************************************************************
commit 3f605a5b5033cb7acfe46b673e10c5a020a9b085
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sat Dec 19 11:57:58 2020 +0000

    win rtl: load GetTimeZoneInformationForYear dynamically. Issue #38192
    
    git-svn-id: trunk@47817 -

M	rtl/win/sysutils.pp
M	rtl/win/wininc/redef.inc

******************************************************************************
commit 1d92cc43bb5a80894d732202acd658d0add06c70
Author: florian <florian@freepascal.org>
Date:   Fri Dec 18 22:36:17 2020 +0000

      * fpc_ln_real raises an exception for invalid operands if they exception is not masked
    
    git-svn-id: trunk@47813 -

M	rtl/inc/genmath.inc
M	tests/test/texception4.pp

******************************************************************************
commit 072be7b0f7dd383df9653c900080513e12a38afc
Author: florian <florian@freepascal.org>
Date:   Fri Dec 18 21:39:35 2020 +0000

      * Aarch64: fix 32 bit div operations with constant denominators, resolves #38225
    
    git-svn-id: trunk@47812 -

M	.gitattributes
M	compiler/aarch64/ncpumat.pas
A	tests/webtbs/tw38225.pp

******************************************************************************
commit 2a897f5b6b36e4817a73b18bc9e2d3c346befd30
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Dec 18 13:50:39 2020 +0000

    * apply slightly adjusted patch by Blaise.ru which moves parsing of result types to a separate functions thus ensuring that File types can't be used for procedure variables (just like they already couldn't be used as a result type for normal functions)
    + added test
    
    git-svn-id: trunk@47810 -

M	.gitattributes
M	compiler/pdecsub.pas
M	compiler/ptype.pas
A	tests/tbf/tb0273.pp

******************************************************************************
commit a1b252538fc592ad908f881b5b7aa63bc152696e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Dec 18 13:50:36 2020 +0000

    * change def parameter of single_type() from var to out (part of patch by Blaise.ru)
    
    git-svn-id: trunk@47809 -

M	compiler/ptype.pas

******************************************************************************
commit 4b3fee38a5a20c1f5db4a9b536e1b6e833258889
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Dec 18 11:55:21 2020 +0000

    dati.inc: tabs 2 spaces and whitespaces formatting fix. no functional changes
    
    git-svn-id: trunk@47808 -

M	rtl/objpas/sysutils/dati.inc

******************************************************************************
commit 80f87edffd5b383a3530571bebdf15899c7c1724
Author: florian <florian@freepascal.org>
Date:   Thu Dec 17 22:09:23 2020 +0000

      * x86-64: correctly translate and with large constants in mod optimizations, resolves #38164
    
    git-svn-id: trunk@47805 -

M	.gitattributes
M	compiler/x86/nx86mat.pas
A	tests/webtbs/tw38164.pp

******************************************************************************
commit 9af9f140a52981f0d88b7d26bdcf2f915c95ad89
Author: florian <florian@freepascal.org>
Date:   Wed Dec 16 21:55:05 2020 +0000

      * do an unsigned division if one operand is unsigned an the other
        one a constant in its range, resolves #38180
    
    git-svn-id: trunk@47797 -

M	compiler/nmat.pas
M	compiler/x86/nx86mat.pas

******************************************************************************
commit 9858d9c5e67ffc9580feda5de1789b8e7f6d1b2f
Author: florian <florian@freepascal.org>
Date:   Wed Dec 16 21:55:05 2020 +0000

      * apply doremoveinttypeconvs to unary minus and not on 8 and 16 bit targets as well
    
    git-svn-id: trunk@47796 -

M	compiler/ncnv.pas

******************************************************************************
commit 9a0107a19dee80cf629e147e6ccf70ac5843500b
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 16 00:07:39 2020 +0000

     Fix compilation failure for avr compiler with -dDEBUG_NODE_XML, to fix bug report 38222
    
    git-svn-id: trunk@47783 -

M	compiler/verbose.pas

******************************************************************************
commit aeff5b3577af8d13b99a78e0021306a2c03aacf5
Author: florian <florian@freepascal.org>
Date:   Tue Dec 15 21:33:33 2020 +0000

      * improved change information
    
    git-svn-id: trunk@47781 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 2e2f2eb78467fd70d59196033a7197e9428f3992
Author: florian <florian@freepascal.org>
Date:   Mon Dec 14 21:55:42 2020 +0000

      - remove could which prevented that rte is triggered even if we are inside
        an exception block but *without* using sysutils. The remove code
        was once added to have primitive exception handling even if
        no sysutils is used. But if this is desired, an appropriate handler
        to ErrorProc should be assigned. Resolves #38201
    
    git-svn-id: trunk@47775 -

M	.gitattributes
M	rtl/inc/system.inc
A	tests/webtbs/tw38201.pp

******************************************************************************
commit 00af340febfa4f8b38630d5818f3003d8e74d4dc
Author: florian <florian@freepascal.org>
Date:   Mon Dec 14 21:55:41 2020 +0000

      * cleanup
    
    git-svn-id: trunk@47774 -

M	compiler/psub.pas

******************************************************************************
commit eb722c8294f91f274806673ee4941fd40334890a
Author: pierre <pierre@freepascal.org>
Date:   Mon Dec 14 11:21:10 2020 +0000

     Fix ash_savefregp_x handling, as revealed by range check error
    
    git-svn-id: trunk@47773 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 6d7d567a25a28dccb3f5603644a4fccbb9f1bacf
Author: florian <florian@freepascal.org>
Date:   Sun Dec 13 09:52:45 2020 +0000

      * min/max optimization on x86 can be applied now without fastmath as NaN is handled properly now
    
    git-svn-id: trunk@47769 -

M	compiler/nflw.pas

******************************************************************************
commit b90ec52a0eb7042ce95d12843c246c80a05caa4f
Author: florian <florian@freepascal.org>
Date:   Sun Dec 13 09:52:45 2020 +0000

      * x86: apply VOpVmov2VOp optimization to vmins*/vmaxs*
    
    git-svn-id: trunk@47768 -

M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 88a0d4d64bc49b3c18150773506a11a487467132
Author: florian <florian@freepascal.org>
Date:   Sun Dec 13 09:52:44 2020 +0000

      + optimize if x>a then x:=a; into min(a,x);, similiar for max
      * test extended
    
    git-svn-id: trunk@47767 -

M	compiler/nflw.pas
M	tests/test/tminmax.pp

******************************************************************************
commit 53a4e6c513bf1a7e3d98e869027a92041b2b40ee
Author: florian <florian@freepascal.org>
Date:   Sat Dec 12 21:39:17 2020 +0000

      * patch by Zoran Vučenović: fixes TDoubleRec.SetFrac, resolves #38202
      + test
    
    git-svn-id: trunk@47765 -

M	.gitattributes
M	rtl/inc/genmath.inc
A	tests/webtbs/tw38202.pp

******************************************************************************
commit c82aae59a11fdfde4b5cf400392450312126e869
Author: florian <florian@freepascal.org>
Date:   Fri Dec 11 22:14:18 2020 +0000

      * call node_complexity correctly in order_parameters when sorting parameters
    
    git-svn-id: trunk@47763 -

M	compiler/ncal.pas

******************************************************************************
commit 0ab69ea0ad067a2114eb1e5142afc99cf5f5d965
Author: florian <florian@freepascal.org>
Date:   Fri Dec 11 22:14:17 2020 +0000

      + m68k: LEA, MOVE(M) to MOVE(M) predecremented optimization and MOVE(M), LEA to MOVE(M) postincremented optimization
    
    git-svn-id: trunk@47762 -

M	compiler/m68k/aoptcpu.pas

******************************************************************************
commit a0a8a6911a1d0f9e17fbd6c7f4a54bcdb1a9adca
Author: florian <florian@freepascal.org>
Date:   Fri Dec 11 22:14:16 2020 +0000

      * m68k: proper values for first_*_reg
    
    git-svn-id: trunk@47761 -

M	compiler/m68k/cpubase.pas

******************************************************************************
commit f0298f63d0a2442d867f9565155ac77ead27541c
Author: florian <florian@freepascal.org>
Date:   Fri Dec 11 17:32:41 2020 +0000

      * allow absolute variables with an address to be used as syscall base
    
    git-svn-id: trunk@47757 -

M	compiler/pdecsub.pas

******************************************************************************
commit 67284c7452b0d81090c90b80233320ad6759c6b2
Author: yury <jura@cp-lab.com>
Date:   Fri Dec 11 14:17:18 2020 +0000

    + Added a test for proper setting of fc_no_direct_exit in flowcontrol.
    
    git-svn-id: trunk@47755 -

M	.gitattributes
A	tests/test/cg/texit2.pp

******************************************************************************
commit 0d592e8d1a3c232754f0de04a8803ed0dfc1b8a8
Author: pierre <pierre@freepascal.org>
Date:   Fri Dec 11 11:14:33 2020 +0000

      * Try to read command line exec name on linux, using argv[0], in order to be able
        to use the symbolic link name instead of the real executable name.
        This allows to use symbolic links to gppc386, named gppc1
        to be able to launch ppc1 under gdb, as it is already possible
        under OpenBSD (which returns the command line name via paramstr(0),
        or under Windows if <SYMLINK> is used (generated by mklink).
      + Generate errors if compiler executable is not found, or if gdb binary
        is not found.
    
    git-svn-id: trunk@47753 -

M	compiler/utils/gppc386.pp

******************************************************************************
commit 729c1dee8cc0d3aff441f55ce93e30d71af6527c
Author: michael <michael@freepascal.org>
Date:   Fri Dec 11 09:14:25 2020 +0000

    * Fix bug ID #38193: order on darwin is same as openbsd
    
    git-svn-id: trunk@47752 -

M	packages/fcl-net/src/cnetdb.pp

******************************************************************************
commit 817ef6949ae0334c4cb2ffd3a1251b4f16439bee
Author: florian <florian@freepascal.org>
Date:   Thu Dec 10 21:51:26 2020 +0000

      * m68k:  MOVE, TST, Jxx/Sxx to MOVE, Jxx optimization
    
    git-svn-id: trunk@47751 -

M	compiler/m68k/aoptcpu.pas

******************************************************************************
commit bb8c3fd153083180e5f527eaa95ec5a70f0b08fd
Author: florian <florian@freepascal.org>
Date:   Thu Dec 10 21:09:20 2020 +0000

      * made optimization JSR, RTS to JMP more bullet proof, added comment
    
    git-svn-id: trunk@47750 -

M	compiler/m68k/aoptcpu.pas

******************************************************************************
commit 6eb37beb2420409c9e113b06fb651c9cb91c7e72
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Dec 10 17:04:12 2020 +0000

    win32: SysErrorMessage: ignore inserts (when not used the messages with inserts are empty) and allocate message buffer
    
    git-svn-id: trunk@47748 -

M	rtl/win/sysutils.pp

******************************************************************************
commit 1efeb5851ada4f52ab63cda11fc1862198744a63
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Dec 10 06:11:46 2020 +0000

    * fix regression introduced with r47625 for Mantis #38122: when checking for a dereferentiation of the Self parameter subscript and vec nodes need to be kept
    + added test
    
    git-svn-id: trunk@47747 -

M	.gitattributes
M	compiler/ncal.pas
A	tests/webtbs/tw38122b.pp

******************************************************************************
commit 2bd7877ec00e5de5cb954ce87403c604aad204b4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Dec 10 04:56:26 2020 +0000

    amiga: fixed the recently added link map generation to work properly. needs recent vlink to work
    
    git-svn-id: trunk@47746 -

M	compiler/systems/t_amiga.pas

******************************************************************************
commit 7f96a26de03564f81ba124211601a0b969243b97
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Dec 10 04:17:06 2020 +0000

    m68k: in g_concatcopy, check the actual alignment of references being copied rather than always excluding word and dword sized direct copies on a 68000
    
    git-svn-id: trunk@47744 -

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit a849e51a3c698f59fe89facb9b161b2d8d91bfdb
Author: florian <florian@freepascal.org>
Date:   Wed Dec 9 20:57:06 2020 +0000

      + m68k: JSR, RTS to JMP optimization
    
    git-svn-id: trunk@47740 -

M	compiler/m68k/aoptcpu.pas
M	compiler/m68k/cpubase.pas

******************************************************************************
commit a0e96fd55111b9f4512653f9f782b43a8e7b479d
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 9 12:36:46 2020 +0000

     Fix pos field closing in XML node output after commit 47720
    
    git-svn-id: trunk@47737 -

M	compiler/node.pas

******************************************************************************
commit 3707cb4b1ec8931596f2e0c33e820358bbf0a085
Author: florian <florian@freepascal.org>
Date:   Tue Dec 8 20:41:58 2020 +0000

      * handle min/max properly if it is applied to NaNs
      * test extended
    
    git-svn-id: trunk@47729 -

M	compiler/nflw.pas
M	tests/test/tminmax.pp

******************************************************************************
commit 348be7657df8af9c28ad0230bd81e85ebb42dc2c
Author: pierre <pierre@freepascal.org>
Date:   Tue Dec 8 11:28:50 2020 +0000

     Fix bug introduced in commit #47709, by only calling node_complexity if first pass was already done (bug report 38183)
    
    git-svn-id: trunk@47720 -

M	compiler/node.pas

******************************************************************************
commit 674c3f04e042493b93c3b89990bc321b20df1287
Author: florian <florian@freepascal.org>
Date:   Mon Dec 7 21:31:07 2020 +0000

      + added explanation for min/max intrinsics
      * prepared x86 implementation for proper NaN handling
    
    git-svn-id: trunk@47715 -

M	compiler/compinnr.pas
M	compiler/x86/nx86inl.pas

******************************************************************************
commit a7232669fff29a5a4054bb64ea000f402d31bc45
Author: pierre <pierre@freepascal.org>
Date:   Mon Dec 7 07:28:04 2020 +0000

       * Adapted from patch node-dump-pass-1.patch submitted by J. Gareth Moreton from bug report 38156.
         This patch extends the DEBUG_NODE_XML debug feature by also outputting,
         to the *-node-dump.xml files, the node tree as it appears after the first pass,
         since it often contains many more internal nodes like temporary allocations that may need
         to be evaluated for debugging and development purposes, or node-level optimisation opportunities.
    
    git-svn-id: trunk@47709 -

M	compiler/psub.pas

******************************************************************************
commit 8d238cfaa17fdc886d8465f3d2416243400f30bc
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 20:22:39 2020 +0000

      * limit min/max optimization to fastmath for now, as the NaN handling is not working yet
    
    git-svn-id: trunk@47704 -

M	compiler/nflw.pas

******************************************************************************
commit d49453edbadd3242cb7a1077d5d5390aeb7573ed
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 19:31:03 2020 +0000

      * quick fix for llvm compilation
    
    git-svn-id: trunk@47702 -

M	compiler/nflw.pas

******************************************************************************
commit 1a9678f4c4fd4dc138cdfb5e1e94dee81877ce97
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 18:09:30 2020 +0000

      + min/max support for x86
    
    git-svn-id: trunk@47701 -

M	compiler/nflw.pas
M	compiler/x86/nx86inl.pas

******************************************************************************
commit c0d75c1c69f804e924f79271a188a2f5bc590397
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 16:40:30 2020 +0000

      * patch Christo Crause: Use LDS for 8 bit references, resolves #38173
    
    git-svn-id: trunk@47700 -

M	compiler/cgobj.pas

******************************************************************************
commit 4f3271500a84ec359824d38ec2a0f1da564dc4d3
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 16:37:54 2020 +0000

      * (modified) patch by Christo Crause: ESP8266 doesn't support min/max instructions, resolves #38175
    
    git-svn-id: trunk@47699 -

M	compiler/nflw.pas
M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit 92520c423e7d6a78f7f657ddae930b6abb404794
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 16:22:38 2020 +0000

      * x86 change information updated
    
    git-svn-id: trunk@47698 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit a16b34d951e1b1ae145419cea7bc6c8c6682f794
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 14:19:00 2020 +0000

      * test for min/max intrinsics
    
    git-svn-id: trunk@47697 -

M	.gitattributes
A	tests/test/tminmax.pp

******************************************************************************
commit 19ce665b3d95ffd9a59577f980819665b32aa8fc
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 14:18:59 2020 +0000

      * compilation fixed
    
    git-svn-id: trunk@47696 -

M	compiler/nflw.pas

******************************************************************************
commit 7da0284bfce4513392431f80b2b4ea35e29c0011
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 10:23:18 2020 +0000

      + read 64-Bit ELF executable info correctly
    
    git-svn-id: trunk@47695 -

M	compiler/link.pas
M	compiler/systems/t_linux.pas

******************************************************************************
commit e60a367f1b325b10428f3c7a274a4b6d24d60ffe
Author: florian <florian@freepascal.org>
Date:   Sun Dec 6 10:23:17 2020 +0000

      + project file for PowerPC64LE
    
    git-svn-id: trunk@47694 -

M	.gitattributes
A	compiler/ppcppc64le.lpi

******************************************************************************
commit 57dc416d9608f12749c1a50f7b058b0f62fd2c10
Author: florian <florian@freepascal.org>
Date:   Sat Dec 5 22:00:59 2020 +0000

      + replace appropriate if statements by min/max intrinsics
      + support min/max intrinsic on xtensa
    
    git-svn-id: trunk@47693 -

M	compiler/defutil.pas
M	compiler/nflw.pas
M	compiler/nutils.pas
M	compiler/xtensa/ncpuinl.pas

******************************************************************************
commit 6e4997265ca10e315fa140d645b9166c64c95b7b
Author: florian <florian@freepascal.org>
Date:   Sat Dec 5 22:00:58 2020 +0000

      + min/max intrinsics for internal use by the compiler
    
    git-svn-id: trunk@47692 -

M	compiler/compinnr.pas
M	compiler/ncginl.pas
M	compiler/ninl.pas
M	compiler/optcse.pas

******************************************************************************
commit 28d248c9d41e47fff2237448b7c30d1096d7908d
Author: florian <florian@freepascal.org>
Date:   Sat Dec 5 22:00:57 2020 +0000

      * cleanup merge overlefts
    
    git-svn-id: trunk@47691 -

M	compiler/ninl.pas

******************************************************************************
commit 19d5e4361575564889b0d4230a10fd84973c43e9
Author: pierre <pierre@freepascal.org>
Date:   Sat Dec 5 21:23:09 2020 +0000

     Avoid internalerror in RemoveCurrentP for arm compiler
    
    git-svn-id: trunk@47690 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 0189276a12c2784225e4d97baacb0a7bea6aac6c
Author: pierre <pierre@freepascal.org>
Date:   Sat Dec 5 21:22:18 2020 +0000

     Raise internalerror inside RemoveCurentP is called with p=hp1, because it leads to using a class instance after it has been freed
    
    git-svn-id: trunk@47689 -

M	compiler/aoptobj.pas

******************************************************************************
commit 4f3a21eeecdcd63d878b4d010796a2bba43bb380
Author: florian <florian@freepascal.org>
Date:   Fri Dec 4 22:43:55 2020 +0000

      * don't do x*x -> optimziation for xtensa as it causes a recursive call in sqr(...)
    
    git-svn-id: trunk@47688 -

M	compiler/nadd.pas

******************************************************************************
commit 9c6bdcfbb793f7557fc0339c251a727e8f14b701
Author: florian <florian@freepascal.org>
Date:   Thu Dec 3 21:22:07 2020 +0000

      * fix in r47632 should be enabled for all targets as it is a stack tainting
        parameter
    
    git-svn-id: trunk@47680 -

M	compiler/psub.pas

******************************************************************************
commit 0cc91a50c782509d8fac0ed8f977f60a727fb387
Author: pierre <pierre@freepascal.org>
Date:   Thu Dec 3 11:05:36 2020 +0000

     Fix z80 compiler failure after change to ConcatConstSymbol in commit #47668
    
    git-svn-id: trunk@47675 -

M	compiler/z80/raz80asm.pas

******************************************************************************
commit 482698e566a62166d5cbb129409ba2d4cba8ea86
Author: florian <florian@freepascal.org>
Date:   Wed Dec 2 21:44:12 2020 +0000

      + add endsym to ConcatConstSymbol
    
    git-svn-id: trunk@47668 -

M	compiler/aasmtai.pas
M	compiler/raatt.pas
M	compiler/rautils.pas
M	compiler/x86/rax86int.pas

******************************************************************************
commit 6230de31bb7507f9a4eb6694f283f769fe0eae9a
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 2 21:01:40 2020 +0000

       * Second patch  xml-node-dump-defs.patch from J. Gareth Moreton from bug report 36882.
         With same changes to ensure that xmllint find no errors in generated xml files.
    
    git-svn-id: trunk@47667 -

M	compiler/pdecl.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtype.pas
M	compiler/verbose.pas

******************************************************************************
commit a7fa31aa10ffd22de56175d14a6321fdcad160b5
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 2 09:29:08 2020 +0000

     Fix i8086 compiler failure due to move of printnodeindention variable into verbose unit in commit #47658
    
    git-svn-id: trunk@47664 -

M	compiler/i8086/n8086con.pas

******************************************************************************
commit cbec395907c9c3e8871c2ef08f6fe1fa57e4e44d
Author: florian <florian@freepascal.org>
Date:   Tue Dec 1 21:54:45 2020 +0000

      * test needs -Cg to trigger the warning
    
    git-svn-id: trunk@47661 -

M	tests/webtbf/tw22665b.pp

******************************************************************************
commit 0b63068ad2b7270cd9abcdb79026f77956303d7d
Author: florian <florian@freepascal.org>
Date:   Tue Dec 1 21:39:38 2020 +0000

      * dir_push might not flush pending switch changes but has to read the pending
        record if needed
    
    git-svn-id: trunk@47660 -

M	compiler/scandir.pas

******************************************************************************
commit 8b06b43c1aad9b68467844ca51acbb017d0650f4
Author: florian <florian@freepascal.org>
Date:   Tue Dec 1 21:18:47 2020 +0000

      * meanwhile all linux targets support the checkpointer directive
    
    git-svn-id: trunk@47659 -

M	tests/webtbf/tw25862.pp

******************************************************************************
commit af17e9460b17f9e0cebf469fde8c221f8b501768
Author: pierre <pierre@freepascal.org>
Date:   Tue Dec 1 11:45:14 2020 +0000

      Apply patch proposed by J. Gareth Moreton in:
      bug report #0036882: [Feature] Class and record definition XML dump extension
    
      These patches extend the node dump feature (enabled with DEBUG_NODE_XML)
      so it also dumps class and record definitions to the XML file. They are contained within <definition> tags.
      Currently only fields and constants are dumped to the XML file. Methods, constant and variable definitions may be added later.
    
    git-svn-id: trunk@47658 -

M	compiler/node.pas
M	compiler/psub.pas
M	compiler/verbose.pas

******************************************************************************
commit 9901a11d223ff5407a9d243a343e0811b1e41bf4
Author: pierre <pierre@freepascal.org>
Date:   Tue Dec 1 10:41:16 2020 +0000

     Add internalerror when V_Error level is used in Test_double_checksum code, only with TEST_CRC_ERROR macro set
    
    git-svn-id: trunk@47657 -

M	compiler/ppu.pas

******************************************************************************
commit 7f07c9f94d9e963f5bd457ea667178ec0b73c1e3
Author: florian <florian@freepascal.org>
Date:   Mon Nov 30 22:08:04 2020 +0000

      + range check enumeration array indicies, range checking is after all a safety mean
    
    git-svn-id: trunk@47652 -

M	compiler/nmem.pas

******************************************************************************
commit 792b629aa6e33ed5f9dc8bd6427bd87aa9c2606d
Author: florian <florian@freepascal.org>
Date:   Mon Nov 30 22:07:34 2020 +0000

      + -Xa option: generate code which allows to use more than 2 GB of static data on 64 Bit targets
      + implemented support for x86-64
      * more than 2 GB static data requires to use the --no-relax option on linux
    
    git-svn-id: trunk@47651 -

M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems/t_linux.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/x86/cgx86.pas
M	tests/tbs/tb0528.pp
M	tests/webtbs/tw17236.pp

******************************************************************************
commit c890a126fe2ce05614b0bbff10b8046146824d86
Author: florian <florian@freepascal.org>
Date:   Mon Nov 30 22:07:33 2020 +0000

      * allow an AT&T suffix for movabs
    
    git-svn-id: trunk@47650 -

M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc

******************************************************************************
commit a82ac3fb6a78dc97743ef5200f97080c6d8c89c3
Author: michael <michael@freepascal.org>
Date:   Mon Nov 30 17:13:07 2020 +0000

    * Only set cursor name for selectable queries
    
    git-svn-id: trunk@47643 -

M	packages/fcl-db/src/sqldb/interbase/ibconnection.pp

******************************************************************************
commit a9e7d1ef0d5fae4fcad4487af4b8510e108a6230
Author: michael <michael@freepascal.org>
Date:   Mon Nov 30 14:55:46 2020 +0000

    * Allow for async apply updates
    
    git-svn-id: trunk@47641 -

M	packages/fcl-db/src/base/bufdataset.pas
M	packages/fcl-db/src/base/dbconst.pas

******************************************************************************
commit 8ddcb34e60d63a85c93a845c968d5bfb89816b97
Author: florian <florian@freepascal.org>
Date:   Sun Nov 29 21:21:34 2020 +0000

      * fix test for x86_64 targets using the SysV abi
    
    git-svn-id: trunk@47638 -

M	tests/webtbs/tw29957.pp

******************************************************************************
commit b7e2b751cf1683e7f4f93b1b13ec706a7b7bb3ff
Author: florian <florian@freepascal.org>
Date:   Sun Nov 29 20:53:15 2020 +0000

      * fix test for targets not having a real wide string
    
    git-svn-id: trunk@47637 -

M	tests/webtbs/tw17904.pp
M	tests/webtbs/tw5086.pp

******************************************************************************
commit 706d89d6cc695c0740db66e5f141f21d787210d0
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 29 18:49:36 2020 +0000

    * GlobalNameSpace must EndWrite before it is released to unlock the critical section
    
    git-svn-id: trunk@47636 -

M	rtl/objpas/classes/classes.inc

******************************************************************************
commit f982317ebd3fbbd180f354b72dad502d8e5f694b
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 29 17:09:19 2020 +0000

    * cwstring: open iconv with the transliterate flag if iconvctl is not available
    
    git-svn-id: trunk@47635 -

M	rtl/unix/cwstring.pp

******************************************************************************
commit 6854f171d1ab1e7bbe3916d29b0e379e21e75f4e
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 29 14:59:18 2020 +0000

    * revert r47631: cwstring: open iconv with the transliterate flag instead of setting it later with iconvctl because it may be unavailable
    
    git-svn-id: trunk@47633 -

M	rtl/unix/cwstring.pp

******************************************************************************
commit c47d6d7af0ee2eedcf79aa76b91156ed4845e48b
Author: florian <florian@freepascal.org>
Date:   Sun Nov 29 13:38:33 2020 +0000

      * check if an invisible parameter for the result occupies parameter space
    
    git-svn-id: trunk@47632 -

M	compiler/psub.pas

******************************************************************************
commit 91229dcee9f6b783f7268da54aec3fe416735657
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 29 12:08:55 2020 +0000

    * cwstring: open iconv with the transliterate flag instead of setting it later with iconvctl because it may be unavailable
    
    git-svn-id: trunk@47631 -

M	rtl/unix/cwstring.pp

******************************************************************************
commit a33256c1fbd5896ef346b95fb95ef966361afd92
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 29 10:53:23 2020 +0000

    * cwstring: try to load the iconv library with .6 suffix as well
    
    git-svn-id: trunk@47630 -

M	rtl/unix/cwstring.pp

******************************************************************************
commit fbb2e63fea518aa03f018f42589c14d8db8ed78f
Author: florian <florian@freepascal.org>
Date:   Sun Nov 29 10:16:00 2020 +0000

      + #QLvember work: stack frame optimization for m68k
    
    git-svn-id: trunk@47629 -

M	compiler/m68k/cgcpu.pas
M	compiler/psub.pas

******************************************************************************
commit 8192bf1b3373484e96c6a31c368b9dfbdddddbbc
Author: florian <florian@freepascal.org>
Date:   Sun Nov 29 09:40:54 2020 +0000

      * version update
    
    git-svn-id: trunk@47628 -

M	compiler/ppc68k.lpi

******************************************************************************
commit 8e13adad4c6ad7e1b5a3a2f6358f0ae564eef30b
Author: pierre <pierre@freepascal.org>
Date:   Sat Nov 28 18:32:46 2020 +0000

      * Improve Test_Double_checksum with Test_Double_checksum_write CRC testing code.
        Pass the three checksum arrays from ppufile to module owner,
        to be able to check that the checksums computed at the time pf ppu writing
        are compatible with the ones computed at interface level.
    
    git-svn-id: trunk@47626 -

M	compiler/fppu.pas
M	compiler/ppu.pas

******************************************************************************
commit 82957ec5a382eb151a7fcde2bed5f5ca041b887c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Nov 28 18:32:24 2020 +0000

    * Fix for Mantis #38122: when a deref node is passed as a Self parameter for a type helper (which is a var parameter) we need to pass the non-derefentiated value so that the data it points to can be modified by the helper's method (this is Delphi compatible)
    + added tests
    
    git-svn-id: trunk@47625 -

M	.gitattributes
M	compiler/ncal.pas
A	tests/test/tthlp29.pp
A	tests/webtbs/tw38122.pp

******************************************************************************
commit ece9c98362c68a9eee6527153e8c36c5cdf424cb
Author: michael <michael@freepascal.org>
Date:   Sat Nov 28 18:09:59 2020 +0000

    * Avoid using volatile if NO_THREADING is defined
    
    git-svn-id: trunk@47624 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 5ca2356638e7c3a144d832668a06e8dbe035993c
Author: florian <florian@freepascal.org>
Date:   Sat Nov 28 16:02:51 2020 +0000

      * take care of po_noreturn in more cases
    
    git-svn-id: trunk@47623 -

M	compiler/m68k/cgcpu.pas
M	compiler/ncgutil.pas

******************************************************************************
commit ff87df758174e4f7be7303fb40f03895beaf270b
Author: florian <florian@freepascal.org>
Date:   Sat Nov 28 16:02:50 2020 +0000

      + factor out PostProcessELFExecutable
      + write executable section size on linux
    
    git-svn-id: trunk@47622 -

M	compiler/link.pas
M	compiler/systems/t_embed.pas
M	compiler/systems/t_linux.pas

******************************************************************************
commit 99d88b91a9ec759fca2b345d7c38362ed1c285ee
Author: florian <florian@freepascal.org>
Date:   Sat Nov 28 16:02:49 2020 +0000

      * do not include fpcdefs in the cepiktimer unit
    
    git-svn-id: trunk@47621 -

M	compiler/cepiktimer.pas

******************************************************************************
commit 7b88d1127ff9e4d011b4ad4cab8dac70e190811f
Author: florian <florian@freepascal.org>
Date:   Sat Nov 28 13:41:44 2020 +0000

      * remove unused file
    
    git-svn-id: trunk@47619 -

M	.gitattributes
D	rtl/linux/m68k/cprt21.as

******************************************************************************
commit f8c84dd1fd36d1647cca55943c640964579d13d9
Author: pierre <pierre@freepascal.org>
Date:   Sat Nov 28 12:06:36 2020 +0000

     Fix compilation with DEBUG_PPU macro set
    
    git-svn-id: trunk@47615 -

M	compiler/entfile.pas

******************************************************************************
commit b0cbff646399f64905cf29fdb82857a1856adf56
Author: michael <michael@freepascal.org>
Date:   Fri Nov 27 17:16:20 2020 +0000

    * Try all OS/CPU combinations
    
    git-svn-id: trunk@47611 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 63a231a93d93ce645fcdf97141314ef42784af8a
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Nov 27 09:45:03 2020 +0000

    * fcl-db: PQConnection needs a lowercase port param
    
    git-svn-id: trunk@47607 -

M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp
M	packages/fcl-db/src/sqldb/sqldb.pp

******************************************************************************
commit 1a0ba60de6d14f019d6b3fec2126037047bf7211
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Nov 27 04:53:06 2020 +0000

    * revert r47598: implement TRandomGenerator
    
    git-svn-id: trunk@47605 -

M	rtl/aix/system.pp
M	rtl/amiga/system.pp
M	rtl/aros/system.pp
M	rtl/atari/system.pp
M	rtl/beos/system.pp
M	rtl/bsd/system.pp
M	rtl/embedded/system.pp
M	rtl/emx/system.pas
M	rtl/freertos/system.pp
M	rtl/gba/system.pp
M	rtl/go32v2/system.pp
M	rtl/haiku/system.pp
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc
M	rtl/linux/system.pp
M	rtl/macos/system.pp
M	rtl/morphos/system.pp
M	rtl/msdos/system.pp
M	rtl/msxdos/system.pp
M	rtl/nativent/system.pp
M	rtl/nds/system.pp
M	rtl/netware/system.pp
M	rtl/netwlibc/system.pp
M	rtl/os2/system.pas
M	rtl/palmos/system.pp
M	rtl/sinclairql/system.pp
M	rtl/solaris/system.pp
M	rtl/symbian/system.pp
M	rtl/watcom/system.pp
M	rtl/wii/system.pp
M	rtl/win/syswin.inc
M	rtl/win16/system.pp
M	rtl/wince/system.pp
M	rtl/zxspectrum/system.pp

******************************************************************************
commit 48271b880cba5d4479fc27890f3b4bb4bf69e60c
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 26 10:34:02 2020 +0000

     Add {$i fpcdefs.inc} to units that do not have that include
    
    git-svn-id: trunk@47599 -

M	compiler/cepiktimer.pas
M	compiler/z80/cpuinfo.pas

******************************************************************************
commit c4dd3b661a6c7a91b75e4f6d834702092dad6a40
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 26 05:59:00 2020 +0000

    * rtl: implement TRandomGenerator for thread-safe random
    
    git-svn-id: trunk@47598 -

M	rtl/aix/system.pp
M	rtl/amiga/system.pp
M	rtl/aros/system.pp
M	rtl/atari/system.pp
M	rtl/beos/system.pp
M	rtl/bsd/system.pp
M	rtl/embedded/system.pp
M	rtl/emx/system.pas
M	rtl/freertos/system.pp
M	rtl/gba/system.pp
M	rtl/go32v2/system.pp
M	rtl/haiku/system.pp
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc
M	rtl/linux/system.pp
M	rtl/macos/system.pp
M	rtl/morphos/system.pp
M	rtl/msdos/system.pp
M	rtl/msxdos/system.pp
M	rtl/nativent/system.pp
M	rtl/nds/system.pp
M	rtl/netware/system.pp
M	rtl/netwlibc/system.pp
M	rtl/os2/system.pas
M	rtl/palmos/system.pp
M	rtl/sinclairql/system.pp
M	rtl/solaris/system.pp
M	rtl/symbian/system.pp
M	rtl/watcom/system.pp
M	rtl/wii/system.pp
M	rtl/win/syswin.inc
M	rtl/win16/system.pp
M	rtl/wince/system.pp
M	rtl/zxspectrum/system.pp

******************************************************************************
commit 9c1c2acd64559533d3c01ff58a1c0c2938f8f25c
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 25 23:40:02 2020 +0000

     Improve CRC_checksum testing code with -dDEBUG_UNIT_CRC_CHANGES -dTest_Double_checksum -dTest_Double_checksum_write
    
    git-svn-id: trunk@47597 -

M	compiler/fppu.pas
M	compiler/ppu.pas

******************************************************************************
commit 787899b9216cf4e13cc1f584e803b2081baa8987
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 25 22:40:04 2020 +0000

     Allow easier disabling of $inline on, by using -dDISABLE_INLINE
    
    git-svn-id: trunk@47593 -

M	compiler/fpcdefs.inc

******************************************************************************
commit bb80851d656c15fb20ddc4626ee230f8098ee074
Author: florian <florian@freepascal.org>
Date:   Wed Nov 25 22:34:17 2020 +0000

      * .def must be set on linux else it might be that the created executable is
        deleted after compilation
    
    git-svn-id: trunk@47592 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit 5cd4e5a016fda0f446fe775e6b0de4a4a08c5b7d
Author: florian <florian@freepascal.org>
Date:   Wed Nov 25 20:20:08 2020 +0000

      * pass lp64d to GNU AS for abi_riscv_hf to get the right ABI set
    
    git-svn-id: trunk@47585 -

M	compiler/riscv/agrvgas.pas

******************************************************************************
commit c3e2285c45a80f3683daaa9b98863b77f6580442
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 25 18:44:44 2020 +0000

      * when getting an llvm temporary recorddef, recurse into arrays rather than
        treating them as opaque defs. This is required to ensure that the temporary
        recorddef for all x86-64 function results are the same on the caller and
        callee side, as we allocate new arrays when generating them
    
    git-svn-id: trunk@47584 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit 64866179a980ed3070ff888603b9e44347a90612
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 25 09:03:11 2020 +0000

     Add missing llvm directory for ppu unit compilation
    
    git-svn-id: trunk@47578 -

M	compiler/utils/Makefile
M	compiler/utils/Makefile.fpc

******************************************************************************
commit d8997405c55b3454df147adae413ff263f50d1eb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 04:57:33 2020 +0000

    sinclairql: mark the qhdr metadata format as default in the help text
    
    git-svn-id: trunk@47572 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit fcd9625d6b2cec2f9886a02fa1df9e0319ce71a8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 04:54:57 2020 +0000

    qlunits: make qlcube example still build with the current RTL
    
    git-svn-id: trunk@47571 -

M	packages/qlunits/examples/qlcube.pas

******************************************************************************
commit 2294472ac7fc458043166f8972806ace349de4e8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 04:42:44 2020 +0000

    sinclairql: changed startup code to be able to run directly as job without a BASIC loader. based on a patch by Marcel Kilgus in qlforum.co.uk
    
    git-svn-id: trunk@47570 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit 6a88f2fc28bef9aefa6bf0ed3cef4693273ef7fa
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 04:39:42 2020 +0000

    sinclairql: drop support for the BASIC loader, write Q-emuLator or XTcc compatible metadata to the executable instead. based on a patch by Marcel Kilgus in qlforum.co.uk
    
    git-svn-id: trunk@47569 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit 3eece73a89b8433cdb9400ce426b87857e95d456
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 04:33:05 2020 +0000

    sinclairql: fix exitCode parameter accidentally overwritten in mt_frjob. also save d2 register.
    
    git-svn-id: trunk@47568 -

M	rtl/sinclairql/qdos.inc

******************************************************************************
commit 45fc515400db981d1bc9f9bf94435b23943f9752
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 25 01:48:36 2020 +0000

    sinclairql: added platform specific options to allow specifying executable metadata format
    
    git-svn-id: trunk@47567 -

M	compiler/globals.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit 74eb7b5050dc2dd172e2804b9a1cae3505799a02
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Nov 24 23:09:01 2020 +0000

      + added coloured compiler output support for OS/2 and DOS targets, platform-specific parts refactored to a standalone unit to remove the heap of ifdefs in unit comphook
    
    git-svn-id: trunk@47566 -

M	.gitattributes
M	compiler/comphook.pas
A	compiler/comptty.pas

******************************************************************************
commit 6ac2957187119df2b0e6295fd99faa6de10abb2a
Author: florian <florian@freepascal.org>
Date:   Tue Nov 24 22:04:28 2020 +0000

      * Xtensa: cleanup of getreferencestring
    
    git-svn-id: trunk@47565 -

M	compiler/xtensa/agcpugas.pas

******************************************************************************
commit 4a050536501595ee343b8581c3278e7a22786497
Author: florian <florian@freepascal.org>
Date:   Tue Nov 24 21:22:20 2020 +0000

      + Xtensa: make use of the LSX/SSX instructions
    
    git-svn-id: trunk@47564 -

M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 9dcf85a8efe7d502d9095949b17fe0ec34f8a337
Author: florian <florian@freepascal.org>
Date:   Tue Nov 24 20:59:47 2020 +0000

      + Xtensa: FMA support
    
    git-svn-id: trunk@47563 -

M	.gitattributes
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpuinl.pas
M	tests/test/tfma1.inc
A	tests/test/tfma1xtensa.pp

******************************************************************************
commit f9d54b7cb746a3567a67493940252cf9da000f76
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 19:55:13 2020 +0000

    sinclairql: system unit changes and improvements, patch by Marcel Kilgus in qlforum.co.uk, merged with minor tweaks
    
    git-svn-id: trunk@47562 -

M	rtl/sinclairql/system.pp

******************************************************************************
commit aa1bbb591c1aab4b1731ecd3e85039719899ac6a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 19:28:47 2020 +0000

    sinclairql: initial implementation of RTL file I/O functions, patch by Marcel Kilgus in qlforum.co.uk
    
    git-svn-id: trunk@47561 -

M	rtl/sinclairql/sysfile.inc

******************************************************************************
commit ab2db33b4cb91e2897263feecce167f40a3ee391
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 19:07:15 2020 +0000

    * backported vlink map file generation to other targets using vlink: Amiga, Atari and ZXSpectrum
    
    git-svn-id: trunk@47560 -

M	compiler/systems/t_amiga.pas
M	compiler/systems/t_atari.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit ffa1b24f7e9bc8c7292367cf1a58c08f61740c7c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 18:34:09 2020 +0000

    sinclairql: map file generation support with vlink, inspired by a patch posted by Marcel Kilgus in qlforum.co.uk
    
    git-svn-id: trunk@47559 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit 75eaca8ab4880c58ecf5643ea05c4630e2ad1892
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 16:24:34 2020 +0000

    sinclairql: QDOS interface wrapper function improvements, patch by Marcel Kilgus in qlforum.co.uk, merged with minor tweaks
    
    git-svn-id: trunk@47558 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc

******************************************************************************
commit 96f2e683e7b4e27d7e12473ea3960ba800204a80
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 15:31:26 2020 +0000

     Also accept s80bit real constants when FPC_SOFT_FPUX80 macro is defined
    
    git-svn-id: trunk@47557 -

M	compiler/llvm/agllvm.pas

******************************************************************************
commit 9cf99b818d67babe783f4d9c48f87a46d8fc87c3
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 15:18:05 2020 +0000

    sinclairql: use .exe as extension for executables instead of .bin, patch by Marcel Kilgus at qlforum.co.uk
    
    git-svn-id: trunk@47556 -

M	compiler/systems/i_sinclairql.pas

******************************************************************************
commit 40b7af10257e530132327cf4d3d90f911fbc5269
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 13:57:06 2020 +0000

     Use pascal code for LLVM fpc_sqr_real, because fmultp instruction is not accepted by llvm
    
    git-svn-id: trunk@47555 -

M	rtl/x86_64/math.inc

******************************************************************************
commit e4e1ea586c5ce61a5862f27c19fe787418189ee4
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 13:55:27 2020 +0000

     Revert wrong change, llvm supports extended constants
    
    git-svn-id: trunk@47554 -

M	rtl/inc/genmath.inc

******************************************************************************
commit de6f3ea9b5d941931ba9f0140be5a97609a00504
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 24 09:43:46 2020 +0000

    * rename generic TStringBuilder to TGenericStringBuilder to make code tools happy
    
    git-svn-id: trunk@47553 -

M	rtl/objpas/sysutils/syssb.inc
M	rtl/objpas/sysutils/syssbh.inc
M	rtl/objpas/sysutils/sysstr.inc
M	rtl/objpas/sysutils/sysstrh.inc

******************************************************************************
commit 233d883731ca365b96d9ba4c1e54fa452accab99
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 09:39:55 2020 +0000

     Correct computation of operatingsystem_parameter_envp, which wrongly pointed to the NIL pointer separating argv from environment variables
    
    git-svn-id: trunk@47552 -

M	rtl/linux/riscv64/si_c.inc
M	rtl/linux/riscv64/si_prc.inc
M	rtl/linux/xtensa/si_c.inc
M	rtl/linux/xtensa/si_prc.inc

******************************************************************************
commit 6d900039c4e731978286ac35747a7cd7accd03cc
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 08:02:29 2020 +0000

     Fix LLVM compilation by casting untyped real constants to double type, as LLVM does not support extended type constant apparently
    
    git-svn-id: trunk@47551 -

M	rtl/inc/genmath.inc

******************************************************************************
commit e35e5ad34914c11ae2c76a7c2f45334cde844503
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 24 07:59:46 2020 +0000

     Add missing CPULLVM versions for fpc_abs_real and fpc_sqr_real in x86_64/math.inc
    
    git-svn-id: trunk@47550 -

M	rtl/x86_64/math.inc

******************************************************************************
commit 6b1c5861afbf20bac0a2462b7340166fa7b64142
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 05:47:09 2020 +0000

    * remove obsolete comment from rautils/ConcatConstant, issue reported/initial patch by Marcel Kilgus in QLForum.co.uk
    
    git-svn-id: trunk@47549 -

M	compiler/rautils.pas

******************************************************************************
commit 7444733f5d8e946afc88555d0073f32ba7f5ad5a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 24 05:42:38 2020 +0000

    m68k: fix DB/DW/DD handling in inline assembler, update BuildConstant() method to current standards. issue reported/initial patch by Marcel Kilgus in QLForum.co.uk
    
    git-svn-id: trunk@47548 -

M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit 7169b6d04c04c30fd6a5259fea903566f7d7dab4
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Nov 24 00:45:00 2020 +0000

      * provided additional information in comments in the include file header
    
    git-svn-id: trunk@47547 -

M	rtl/objpas/sysutils/tzenv.inc

******************************************************************************
commit 91da9eae170879a977272dc1df88c958aa263079
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Nov 24 00:35:52 2020 +0000

      + TZ variable based offset calculation included for DOS targets
    
    git-svn-id: trunk@47546 -

M	rtl/go32v2/sysutils.pp
M	rtl/msdos/sysutils.pp
M	rtl/watcom/sysutils.pp

******************************************************************************
commit 63beb1e83a056978603c0b10f6eb7bd4ad2c0cab
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Nov 23 15:17:52 2020 +0000

    * revert r47532, r47527 (use timezone information from fpgettimeofday) because they are not available on all Linux distributions
    
    git-svn-id: trunk@47541 -

M	rtl/unix/dos.pp
M	rtl/unix/sysutils.pp

******************************************************************************
commit 95394d7f988e4ce245c1069ba4415e52c2844394
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Mon Nov 23 01:08:39 2020 +0000

      + added TZ variable based offset calculation
    
    git-svn-id: trunk@47535 -

M	.gitattributes
A	rtl/objpas/sysutils/tzenv.inc
M	rtl/os2/sysutils.pp

******************************************************************************
commit 4c0dac48649acc8b85729a7b6689661cd786d781
Author: florian <florian@freepascal.org>
Date:   Sun Nov 22 21:20:51 2020 +0000

      + Aarch64: implemented FMovFMov2FMov, not yet used
    
    git-svn-id: trunk@47534 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit ef1ba48cc43b53d103b09b23906531f67d2f7812
Author: florian <florian@freepascal.org>
Date:   Sun Nov 22 21:19:51 2020 +0000

      + Aarch64: call OptPass1FData for FMA instructions as well
    
    git-svn-id: trunk@47533 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 28d88b9999b36b065a4fc0a230b73e3356219138
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 22 19:50:40 2020 +0000

    * GetLocalTimeOffset: use timezone information from fpgettimeofday
    
    git-svn-id: trunk@47532 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit 1014e530813f01757a6ee4b4b16518fe2a7206e1
Author: florian <florian@freepascal.org>
Date:   Sun Nov 22 19:47:34 2020 +0000

    * patch by J. Gareth Moreton: fixes crash on ARM with -CriotR, resolves #38116
    
    git-svn-id: trunk@47531 -

M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 7ad8f94ec4ca74e2fc30ac8278ed0c0accb090ab
Author: florian <florian@freepascal.org>
Date:   Sun Nov 22 19:47:12 2020 +0000

    * set reasonable defaults for arm eabi
    
    git-svn-id: trunk@47530 -

M	compiler/options.pas

******************************************************************************
commit f5a95782a94e41a09184808b54f3857b9afe8b2e
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 22 15:39:37 2020 +0000

    * use timezone information from fpgettimeofday for getting local datetime
    
    git-svn-id: trunk@47527 -

M	rtl/unix/dos.pp
M	rtl/unix/sysutils.pp

******************************************************************************
commit 76406dbc36564d820b900665579540f4d5b1ff6a
Author: florian <florian@freepascal.org>
Date:   Sun Nov 22 10:27:06 2020 +0000

      + implement prefetch intrinsic for aarch64
    
    git-svn-id: trunk@47526 -

M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/ncpuinl.pas

******************************************************************************
commit 9c7cb3dbd7c02c54cb0da8f14f5c05743903742e
Author: florian <florian@freepascal.org>
Date:   Sat Nov 21 22:30:34 2020 +0000

      * fix spilling of avx(512) registers
      * get_scalar_mm_op fixed for M256
    
    git-svn-id: trunk@47524 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/cgx86.pas

******************************************************************************
commit 1d474f822e015968b3a0a5b592a454cad726ffc4
Author: florian <florian@freepascal.org>
Date:   Sat Nov 21 22:30:33 2020 +0000

    * fits_in_mm_register takes care of avx(512) support
    
    git-svn-id: trunk@47523 -

M	compiler/defutil.pas

******************************************************************************
commit d5dcf5cd7ac8b28c6079aa2bd7358f40bf6f3e20
Author: florian <florian@freepascal.org>
Date:   Sat Nov 21 21:58:30 2020 +0000

      * cleanup
    
    git-svn-id: trunk@47522 -

M	compiler/ncnv.pas

******************************************************************************
commit ea11517d27fa00f40b626e47213f0caa8832d155
Author: florian <florian@freepascal.org>
Date:   Sat Nov 21 21:58:28 2020 +0000

      + optimization type converted (modulo) divisions as well by removing up/down converting but,
        insert a test and separate code path for -1 if needed
    
    git-svn-id: trunk@47521 -

M	compiler/ncnv.pas

******************************************************************************
commit ebb199b9d465a72c1784c5cfcb4f07b4d324f38c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Nov 21 21:42:33 2020 +0000

    sinclairql: make sure the Sinclair QL defaults to vlink
    
    git-svn-id: trunk@47520 -

M	compiler/options.pas

******************************************************************************
commit f68804e9cdc1a0489145ddd82b4a7e8ea9713b09
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 15:15:17 2020 +0000

     Replace cs_link_on_target by cs_assemble_on_target in assemble unit
    
    git-svn-id: trunk@47490 -

M	compiler/assemble.pas

******************************************************************************
commit 152208c0be1952cebbb1636d86f89f277df3b8c8
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 15:14:14 2020 +0000

     In FindObjectFile check the assembly file if cs_assemble_on_target is in globlaswitches
    
    git-svn-id: trunk@47489 -

M	compiler/link.pas

******************************************************************************
commit 47d96efe2913d5dcf8064da8697aae359713c3dd
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 15:09:24 2020 +0000

      + options.pas: Add new option -sT, to do only the linking on target, by
        opposition to the old -st option, which does
        both assembling and linking on target.
        msg/errore.msg: Add new -sT help message
        modify -st help message, to explicitly say that both assembling and linking
        scripts are prepared for target system.
      * msgidx.txt, msgtxt.inc: Regenerated
    
    git-svn-id: trunk@47488 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit c06a931d5b7366d766fc9e5f2797ed557e9a95fd
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 14:14:46 2020 +0000

     Add separate cs_assemble_on_target tglobalswitch entry
    
    git-svn-id: trunk@47486 -

M	compiler/globtype.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 5b3240c8f1cf913530ca5cadb6274d52f44255c0
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 14:12:55 2020 +0000

     Do not set USE_FAKE_SYSUTILS for MacOS anymore
    
    git-svn-id: trunk@47485 -

M	compiler/utils/ppumove.pp

******************************************************************************
commit 68d39628891463f399871e60c4432cd06ad034f8
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 14:03:57 2020 +0000

     Regenerate all Makefile's, and update utils/fpcm/fpcmake.inc and utils/fpcm/revision.inc after commit 47483
    
    git-svn-id: trunk@47484 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/qlunits/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/revision.inc
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit ec112842228d124a3c6e9fb746b1544b796ad11d
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 20 14:01:51 2020 +0000

     Only add -Xr option if RLINKPATH variable is not empty
    
    git-svn-id: trunk@47483 -

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit d88db13211bae46e7a9f05841288708d6a7e7ff2
Author: michael <michael@freepascal.org>
Date:   Fri Nov 20 13:18:53 2020 +0000

    * Make fpdoc happy, semicolon before final end
    
    git-svn-id: trunk@47481 -

M	packages/fcl-db/src/sqldb/postgres/pqconnection.pp

******************************************************************************
commit 84e1be805c5888ff85e8c564d8e4e89759da0ac8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Nov 19 05:08:12 2020 +0000

    qlunits: updated QDOS unit, added a QLfloat unit to convert longints and doubles to 48bit QLfloats, added a rotating cube example
    
    git-svn-id: trunk@47456 -

M	.gitattributes
A	packages/qlunits/examples/qlcube.pas
M	packages/qlunits/fpmake.pp
M	packages/qlunits/src/qdos.pas
A	packages/qlunits/src/qlfloat.pas

******************************************************************************
commit 6f59167c644a4a4a4090e8a1ecbfc5183816b00f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Nov 19 04:51:56 2020 +0000

    sinclairql: more work on the QL port. very basic stdio (console writeln) works.
    
    git-svn-id: trunk@47455 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/qdosh.inc
M	rtl/sinclairql/sysfile.inc
M	rtl/sinclairql/system.pp

******************************************************************************
commit 9d67adcbb6e2c71709eb2e40ee69050c0eef28b6
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Nov 19 02:58:27 2020 +0000

    * regenerated all Makefiles after Sinclair QL support was added
    
    git-svn-id: trunk@47453 -

M	.gitattributes
M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/tplylib/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
A	rtl/sinclairql/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 1d34f0f139616b1336712ff0e25ce8e8e929e4a1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Nov 19 02:43:42 2020 +0000

    tosunits: it's actually not ami-extra
    
    git-svn-id: trunk@47451 -

M	packages/tosunits/Makefile.fpc

******************************************************************************
commit b0deefec4530dad64851d3aec5f1d55b003049fa
Author: florian <florian@freepascal.org>
Date:   Tue Nov 17 20:32:10 2020 +0000

      * do not run the test, it is only about a compilation issue
    
    git-svn-id: trunk@47442 -

M	tests/webtbs/tw37621.pp

******************************************************************************
commit e154b9933fc030f4f4e894c48c91b026f688f8c0
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 16 22:37:04 2020 +0000

     Add some types and records to rtl/linux/t_linux.h2paschk and set macro _LARGEFILE64_SOURCE for __i386__ C code
    
    git-svn-id: trunk@47439 -

M	rtl/linux/t_linux.h2paschk

******************************************************************************
commit c44095733c36ca1505caea5d389a35c0ebc0476c
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 16 22:34:38 2020 +0000

      * Give access to CPU specific fields of tsettings record
        in GENERIC_CPU mode, to be used by ppudump utility.
    
      generic/cpuinfo.pas: Add tinstructionset, used for ARM cpu.
      globals.pas: Put all CPU specific fields of tsettings record
      inside a variant part when GENERIC_CPU is defined.
      Also import llvm unit when GENERIC_CPU is defined.
    
      + utils/Makefile.fpc: Add -Fu../llvm option to compile ppudump,
      as it now also needs llvm specific code decause of globals unit change.
    
    git-svn-id: trunk@47438 -

M	compiler/generic/cpuinfo.pas
M	compiler/globals.pas
M	compiler/utils/Makefile
M	compiler/utils/Makefile.fpc

******************************************************************************
commit 6380df9b42d29b7db0301f50fa948f90f78521ca
Author: florian <florian@freepascal.org>
Date:   Mon Nov 16 21:47:19 2020 +0000

      * correctly simplify tree transforms of (a+c1+c2) if a is a pointer, resolves #37671
    
    git-svn-id: trunk@47437 -

M	.gitattributes
M	compiler/nadd.pas
M	compiler/ncnv.pas
A	tests/webtbs/tw37621.pp

******************************************************************************
commit e94fb2edc3aa38c27a17dfebf42cec19eb6345ef
Author: florian <florian@freepascal.org>
Date:   Mon Nov 16 21:47:18 2020 +0000

      * better writing of ordinal const. nodes
    
    git-svn-id: trunk@47436 -

M	compiler/ncon.pas

******************************************************************************
commit edb555f34f166984adda0c40a82420f914b2214b
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 16 17:14:39 2020 +0000

     Register sinclairql target directory
    
    git-svn-id: trunk@47435 -

M	rtl/Makefile.fpc

******************************************************************************
commit 14b34e4f556dc4e473c69569569a8e130592fa40
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 16 17:13:48 2020 +0000

     Update after commit 47376
    
    git-svn-id: trunk@47434 -

M	utils/fpcm/revision.inc

******************************************************************************
commit f0b22a1569e315faa4954c7afc00450a35dbf2c8
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 16 17:04:46 2020 +0000

      Revert commit #47257, Disable use of cmov instructions in alignment patterns for some i386 targets (it prevents use of some emulators)
      Replace it by a new set of i386 targets, for which the default cpu is set to i80486 instead of pentium2
      to avoid (for default configuration) use of CMOVxx or PREFETCHyyy instructions, not supported by some emulators.
    
    git-svn-id: trunk@47433 -

M	compiler/options.pas
M	compiler/systems.pas
M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 2a733aa751453b8cb285026da61e716488d7b03f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 23:19:38 2020 +0000

    sinclairql: fixed the relocation marker comment in the startup code. no functional change
    
    git-svn-id: trunk@47432 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit f2ee1dae523eb5b505aa1f9aaf78fa2a7cf5ea8b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 22:59:33 2020 +0000

    sinclairql: startup code fixes. set the top of the new stack as stack pointer, not the bottom of it. initialize the .bss section following the new linker script. better protection against re-relocation.
    
    git-svn-id: trunk@47429 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit 24226ef4af57e9fd94deea2fdda3d23913054da1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 22:56:31 2020 +0000

    sinclairql: following Frank Wille's advices, reworked the linker script to omit .bss section from the binary. this reduces a simple 'hello, world' size by ~5K. needs matching startup code.
    
    git-svn-id: trunk@47428 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit a0543f7f9bb7702d795e4facdd4da7dc4d3efbe7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 19:45:06 2020 +0000

    sinclairql: the newline on this system is LF, not CRLF
    
    git-svn-id: trunk@47427 -

M	compiler/systems/i_sinclairql.pas

******************************************************************************
commit b2a67d4656b8b57fba8239583f6c6e5bf7924230
Author: florian <florian@freepascal.org>
Date:   Sun Nov 15 19:30:19 2020 +0000

      * fixed comments in sysnr.inc files
    
    git-svn-id: trunk@47426 -

M	rtl/linux/arm/sysnr.inc
M	rtl/linux/i386/sysnr.inc
M	rtl/linux/m68k/sysnr.inc
M	rtl/linux/powerpc/sysnr.inc
M	rtl/linux/powerpc64/sysnr.inc
M	rtl/linux/sparcgen/sysnr.inc
M	rtl/linux/x86_64/sysnr.inc

******************************************************************************
commit 98eab07abd080e37907c99ef0934a62a54574df3
Author: florian <florian@freepascal.org>
Date:   Sun Nov 15 16:17:54 2020 +0000

      * simplified and fixed code of (v1=const1) and (v2=const2) optimization, resolves #38066
    
    git-svn-id: trunk@47423 -

M	compiler/nadd.pas

******************************************************************************
commit 157e8792c58f6bb207d766c38c8e30dd93f25975
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 04:55:42 2020 +0000

    sinclairql: add a few more QDOS function wrappers which are useful at early stage
    
    git-svn-id: trunk@47420 -

M	rtl/sinclairql/qdos.inc
M	rtl/sinclairql/qdosfuncs.inc
M	rtl/sinclairql/qdosh.inc

******************************************************************************
commit e5d2c1a9803158671d8e7e2e32b27a3ed7ad2fbd
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 03:55:42 2020 +0000

    m68k: fixed parsing of constants to absolute addresses
    
    git-svn-id: trunk@47419 -

M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit a82a587a1b750cf5fd2a409c9f1a942e78d49c64
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 15 03:43:26 2020 +0000

    m68k: fixed parsing of absolute addresses in the assembler reader
    
    git-svn-id: trunk@47418 -

M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit 1635d04b7bee15f943952680129098c58d295348
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Nov 14 23:51:37 2020 +0000

    sinclairql: add a note about .bss sections and the binary size, no functional change
    
    git-svn-id: trunk@47417 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit b64edc0170da3fa6a366f9564c95b985ea566613
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Nov 14 23:50:35 2020 +0000

    sinclairql: reduce default stack size to 8K
    
    git-svn-id: trunk@47416 -

M	compiler/systems/i_sinclairql.pas

******************************************************************************
commit bf7961a9016220e8f4ebf9a4b2b62a39863cdc54
Author: florian <florian@freepascal.org>
Date:   Fri Nov 13 21:39:16 2020 +0000

      * fixes for nasm writer, resolves #38074
      + test
    
    git-svn-id: trunk@47413 -

M	.gitattributes
M	compiler/x86/agx86nsm.pas
A	tests/webtbs/tw38074.pp

******************************************************************************
commit a4995e3852d7e81e64ba3a986575bf48b6648ca1
Author: michael <michael@freepascal.org>
Date:   Fri Nov 13 21:35:40 2020 +0000

    * Set defaults for boolean props
    
    git-svn-id: trunk@47412 -

M	packages/fcl-db/src/base/sqlscript.pp

******************************************************************************
commit e440bf0e00d4d344b855693664da99ed9221e3aa
Author: florian <florian@freepascal.org>
Date:   Thu Nov 12 20:32:00 2020 +0000

      * cosmetics
    
    git-svn-id: trunk@47403 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit fc960879dee7f26270e4baf2bee8dacf4c6f9b33
Merge: 06f5e293df 897322868b
Author: florian <florian@freepascal.org>
Date:   Thu Nov 12 20:31:29 2020 +0000

    -- Zusammenführen von r47033 bis r47401 in ».«:
    C    compiler/i386/i386nop.inc
    U    compiler/i386/i386tab.inc
    U    compiler/i386/i386atts.inc
    U    compiler/i386/i386att.inc
    C    compiler/i8086/i8086nop.inc
    U    compiler/i8086/i8086tab.inc
    U    compiler/i8086/i8086atts.inc
    U    compiler/i8086/i8086att.inc
    U    compiler/x86/x86ins.dat
    C    compiler/x86/rax86.pas
    U    compiler/x86/aasmcpu.pas
    U    compiler/x86/cpubase.pas
    U    compiler/x86/agx86att.pas
    U    compiler/x86/itcpugas.pas
    U    compiler/x86/rax86att.pas
    C    compiler/x86_64/x8664nop.inc
    U    compiler/x86_64/x8664tab.inc
    U    compiler/x86_64/x8664ats.inc
    U    compiler/x86_64/x8664att.inc
    U    compiler/utils/mkx86ins.pp
    U    tests/utils/avx/asmtestgenerator.pas
    U    tests/utils/avx/avxopcodes.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r47033 bis r47401 in ».«:
     U   .
    Konfliktübersicht:
      Textkonflikte: 4
    Konfliktübersicht:
      Textkonflikte: 4
    
    git-svn-id: trunk@47402 -

MM	compiler/i386/i386att.inc
MM	compiler/i386/i386atts.inc
MM	compiler/i386/i386nop.inc
MM	compiler/i386/i386tab.inc
MM	compiler/i8086/i8086att.inc
MM	compiler/i8086/i8086atts.inc
MM	compiler/i8086/i8086nop.inc
MM	compiler/i8086/i8086tab.inc
MM	compiler/x86/aasmcpu.pas
MM	compiler/x86/agx86att.pas
MM	compiler/x86/cpubase.pas
MM	compiler/x86/rax86.pas
MM	compiler/x86/rax86att.pas
MM	compiler/x86/x86ins.dat
MM	compiler/x86_64/x8664ats.inc
MM	compiler/x86_64/x8664att.inc
MM	compiler/x86_64/x8664nop.inc
MM	compiler/x86_64/x8664tab.inc
MM	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 06f5e293dfea645d41ea9dcc69aca4dae671c73b
Author: michael <michael@freepascal.org>
Date:   Thu Nov 12 14:59:35 2020 +0000

    * Fix bug ID #37645: allocate cursor in firebird to walk result set
    
    git-svn-id: trunk@47400 -

M	packages/fcl-db/src/sqldb/interbase/ibconnection.pp

******************************************************************************
commit e34e4b452a68722ea44175b2bc4f628b804a88c7
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 12 14:41:43 2020 +0000

    * FileSetDate linux compilation
    
    git-svn-id: trunk@47399 -

M	rtl/objpas/sysutils/filutil.inc

******************************************************************************
commit 8ce015535aea73d3f10dad623dd469c05d357a0f
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 12 14:36:12 2020 +0000

    * FileSetDate with TDateTime and UTC for file names
    
    git-svn-id: trunk@47398 -

M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/win/sysutils.pp

******************************************************************************
commit 3ea339400e82ce78d63e4e329f79667baf76f33e
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 12 13:55:01 2020 +0000

    * FileGetDate, FileSetDate linux compilation
    
    git-svn-id: trunk@47397 -

M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/win/sysutils.pp

******************************************************************************
commit d899c9fca47b5b547719ab484f55fbe59285df33
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 12 13:36:39 2020 +0000

    * FileGetDate, FileSetDate with TDateTime and UTC
    
    git-svn-id: trunk@47396 -

M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/win/sysutils.pp

******************************************************************************
commit 33fe3f3ede164fcc55357f82cae9227aed3fdef5
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 12 12:17:46 2020 +0000

    TSearchRec.GetTimeStamp: fix ifdefs
    
    git-svn-id: trunk@47395 -

M	rtl/objpas/sysutils/filutil.inc

******************************************************************************
commit 477929d6fead9a49ff9662a89777e1e35b12675e
Author: michael <michael@freepascal.org>
Date:   Thu Nov 12 10:48:03 2020 +0000

    * Fix bug ID #0037265, setting paper property needs to calc tranformationmatrix
    
    git-svn-id: trunk@47394 -

M	packages/fcl-pdf/src/fppdf.pp

******************************************************************************
commit 257ef24a1e9647c25b6607f3889251d55e4006f6
Author: michael <michael@freepascal.org>
Date:   Thu Nov 12 09:17:09 2020 +0000

    * Fix bug ID #38008: allow UTF8 to unicode conversion to react on/ignore invalid input
    
    git-svn-id: trunk@47391 -

M	rtl/inc/ustringh.inc
M	rtl/inc/ustrings.inc

******************************************************************************
commit f75e6d8a4899ab053ffb33a727e54d0d0de04ed7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Nov 11 08:28:37 2020 +0000

    * fix copy-paste mistake from Mantis (due to replacement of '#' with links...)
    
    git-svn-id: trunk@47387 -

M	tests/webtbs/tw38051.pp

******************************************************************************
commit 27125b760ec7d07abfbd47eda7814ffdfa141ece
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 11 00:00:39 2020 +0000

    qlunits: package skeleton to support the Sinclair QL
    
    git-svn-id: trunk@47385 -

M	.gitattributes
M	packages/fpmake_add.inc
M	packages/fpmake_proc.inc
A	packages/qlunits/Makefile
A	packages/qlunits/Makefile.fpc
A	packages/qlunits/README.txt
A	packages/qlunits/fpmake.pp
A	packages/qlunits/src/qdos.pas

******************************************************************************
commit eb67d87dec24d79a68f523e0a2e3683d2ed59137
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 23:52:51 2020 +0000

     Avoid uninitialized variable warning with -O4 option
    
    git-svn-id: trunk@47384 -

M	compiler/systems/t_msdos.pas

******************************************************************************
commit d2247f6539e5cea8e6b31a3a4da63b307169a66c
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 22:37:24 2020 +0000

    Use MPW linker variant also for m68k-macosclassic target
    
    git-svn-id: trunk@47383 -

M	compiler/systems/i_macos.pas

******************************************************************************
commit 10273e54dd198984719a932ced572c056ef464f7
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 22:36:31 2020 +0000

     Remove setting of USE_FAKE_SYSUTILS macro for MacOSClassic, as sysutils is now compiled for that OS
    
    git-svn-id: trunk@47382 -

M	compiler/fpcdefs.inc

******************************************************************************
commit 245e0f7cfee4e11d8e9eb02bd409e551f7fe5dc3
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 22:33:42 2020 +0000

     Add sysutils, typinfo, and math to explicit units list for macosclassic target OS
    
    git-svn-id: trunk@47381 -

M	rtl/macos/Makefile
M	rtl/macos/Makefile.fpc

******************************************************************************
commit eadcaa5dfc55dab3ed673f4d104fd16c0472bc51
Author: florian <florian@freepascal.org>
Date:   Tue Nov 10 22:04:55 2020 +0000

      * Arm Thumb does not support complex references including SP, resolves #38056
    
    git-svn-id: trunk@47380 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit c06a020c9cd174fd641da587b10283ef56329d04
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 10 21:36:48 2020 +0000

    * fixed the packages build after r47376
    
    git-svn-id: trunk@47378 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 3abee173f4c473633fb4e9e1875ea18fbac71128
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 10 21:31:47 2020 +0000

    * regenerated msgidx/msgtxt after r47376
    
    git-svn-id: trunk@47377 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 51d8ec90a7556a5a641ad5250ed26ece45456919
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 10 21:31:04 2020 +0000

    sinclairql: now the target short name is also sinclairql as proposed by Pierre, so it's unified everywhere
    
    git-svn-id: trunk@47376 -

M	compiler/msg/errore.msg
M	compiler/systems/i_sinclairql.pas
M	packages/bzip2/fpmake.pp
M	packages/chm/fpmake.pp
M	packages/fcl-base/fpmake.pp
M	packages/fcl-db/fpmake.pp
M	packages/fcl-fpcunit/fpmake.pp
M	packages/fcl-image/fpmake.pp
M	packages/fcl-js/fpmake.pp
M	packages/fcl-json/fpmake.pp
M	packages/fcl-net/fpmake.pp
M	packages/fcl-passrc/fpmake.pp
M	packages/fcl-pdf/fpmake.pp
M	packages/fcl-process/fpmake.pp
M	packages/fcl-registry/fpmake.pp
M	packages/fcl-res/fpmake.pp
M	packages/fcl-sdo/fpmake.pp
M	packages/fcl-sound/fpmake.pp
M	packages/fcl-stl/fpmake.pp
M	packages/fcl-xml/fpmake.pp
M	packages/fpmkunit/fpmake.pp
M	packages/fppkg/fpmake.pp
M	packages/hash/fpmake.pp
M	packages/hermes/fpmake.pp
M	packages/libgd/fpmake.pp
M	packages/libtar/fpmake.pp
M	packages/pasjpeg/fpmake.pp
M	packages/paszlib/fpmake.pp
M	packages/regexpr/fpmake.pp
M	packages/rtl-generics/fpmake.pp
M	packages/sdl/fpmake.pp
M	packages/symbolic/fpmake.pp
M	packages/unzip/fpmake.pp
M	packages/webidl/fpmake.pp
M	rtl/sinclairql/Makefile.fpc
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit da042f77009d70a65e01126fae4216392a1fa18b
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 10 16:23:22 2020 +0000

     Regenerated automatically after commit #47358
    
    git-svn-id: trunk@47373 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 5515b62c9e803da400a307cb68dc72e8503c37a8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 10 11:51:05 2020 +0000

    sinclairql: also disable fcl-stl which was missed in r47370
    
    git-svn-id: trunk@47371 -

M	packages/fcl-stl/fpmake.pp

******************************************************************************
commit 55b99cad045514328e9284a6944b5fb2978ff053
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Nov 10 11:49:10 2020 +0000

    sinclairql: disable most packages for the QL
    
    git-svn-id: trunk@47370 -

M	packages/bzip2/fpmake.pp
M	packages/chm/fpmake.pp
M	packages/fcl-base/fpmake.pp
M	packages/fcl-db/fpmake.pp
M	packages/fcl-fpcunit/fpmake.pp
M	packages/fcl-image/fpmake.pp
M	packages/fcl-js/fpmake.pp
M	packages/fcl-json/fpmake.pp
M	packages/fcl-net/fpmake.pp
M	packages/fcl-passrc/fpmake.pp
M	packages/fcl-pdf/fpmake.pp
M	packages/fcl-process/fpmake.pp
M	packages/fcl-registry/fpmake.pp
M	packages/fcl-res/fpmake.pp
M	packages/fcl-sdo/fpmake.pp
M	packages/fcl-sound/fpmake.pp
M	packages/fcl-xml/fpmake.pp
M	packages/fpmkunit/fpmake.pp
M	packages/fppkg/fpmake.pp
M	packages/hash/fpmake.pp
M	packages/hermes/fpmake.pp
M	packages/libgd/fpmake.pp
M	packages/libtar/fpmake.pp
M	packages/pasjpeg/fpmake.pp
M	packages/paszlib/fpmake.pp
M	packages/regexpr/fpmake.pp
M	packages/rtl-generics/fpmake.pp
M	packages/sdl/fpmake.pp
M	packages/symbolic/fpmake.pp
M	packages/unzip/fpmake.pp
M	packages/webidl/fpmake.pp

******************************************************************************
commit c3a0e0c6d2e401496bed2b9a377ad2d949e76c3c
Author: florian <florian@freepascal.org>
Date:   Mon Nov 9 21:46:25 2020 +0000

      * compilation on i386 fixed
    
    git-svn-id: trunk@47369 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 78244d89dc7bcafd58ff04c29e7d6f1ddbb0777c
Author: florian <florian@freepascal.org>
Date:   Mon Nov 9 21:21:36 2020 +0000

      * use VPXORD in avx-512 mode as VPXOR does not work for the upper 16 registers
    
    git-svn-id: trunk@47368 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/cgx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 3d374727dd2e635beb37ed5de8a8f5b9ca44228c
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 9 21:19:40 2020 +0000

     Move explicit typecast to after check to avoid RTE when compiled with -CR
    
    git-svn-id: trunk@47367 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 664283af9e6222af40668aa1b05ac87ebc41398b
Author: michael <michael@freepascal.org>
Date:   Mon Nov 9 19:34:06 2020 +0000

    * Optimized DiskAdd/DiskFree/AddDisk, bug ID #37523
    
    git-svn-id: trunk@47365 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit a17ad61240ee2a0c6ab6c3b384437a0d1836fb52
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 9 12:24:27 2020 +0000

    Adapt to change of chr function in commit 47353, to change chr() a real intrinsics
    
    git-svn-id: trunk@47363 -

M	rtl/java/jsystemh.inc

******************************************************************************
commit c3bafd3a8d454bc3f335a117e07f37afe4e41d26
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 9 01:40:41 2020 +0000

    sinclairql: added to fpmkunit
    
    git-svn-id: trunk@47362 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 3870c4791c18ae55c748e04b362cfc020de424de
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 9 01:34:24 2020 +0000

    sinclairql: disabled a bunch of things in RTL until they're implemented
    
    git-svn-id: trunk@47361 -

M	rtl/sinclairql/Makefile.fpc
M	rtl/sinclairql/buildrtl.pp

******************************************************************************
commit 82e16f02ca05cf1e64b877c92918321bf14da188
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 9 01:03:44 2020 +0000

    sinclairql: make sure the default CPU target is 68000 for the QL. also, some cleanups
    
    git-svn-id: trunk@47360 -

M	compiler/options.pas

******************************************************************************
commit 05d680902e71ce9a482384009bb3aaaed9f231ae
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 9 00:24:29 2020 +0000

    * make sure things still build with 3.0 after r47353
    
    git-svn-id: trunk@47359 -

M	rtl/inc/systemh.inc

******************************************************************************
commit e0555c307f44c89b2d70abe11cf955c8ff407d1e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 9 00:14:13 2020 +0000

    sinclairql: added support to fpcmake
    
    git-svn-id: trunk@47358 -

M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 53928dc0edd2818dcf55b9cdda7eca3bf9aa73b1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 8 23:56:00 2020 +0000

    m68k: fix references like <symbol>(An) to parse properly in the assembler reader
    
    git-svn-id: trunk@47356 -

M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit 091b0fde0ca1d8ab1aa2e7904f3a95cbfec60431
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Nov 8 22:42:38 2020 +0000

      * fixed type of size parameter passed to fpc_getmem() when translating
        new(pointer) (mantis #38054)
    
    git-svn-id: trunk@47355 -

M	.gitattributes
M	compiler/pinline.pas
A	tests/webtbs/tw38054.pp

******************************************************************************
commit 359ff64afdf1eb6b134f69f7caa5c60d79a91222
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Nov 8 22:23:09 2020 +0000

    * increase PPU version so that the change of Chr() to a full intrinsic will not lead to problems
    
    git-svn-id: trunk@47354 -

M	compiler/ppu.pas

******************************************************************************
commit c496b609d18b20208fb0ca54f0b9137fe413f5db
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Nov 8 22:23:02 2020 +0000

    * fix for Mantis #38051: make Chr() a real intrinsics so that it can be used in type declarations as well
    + added test
    
    git-svn-id: trunk@47353 -

M	.gitattributes
M	compiler/pexpr.pas
M	compiler/psystem.pas
M	rtl/inc/systemh.inc
A	tests/webtbs/tw38051.pp

******************************************************************************
commit d5596ef21da4ce337f95cd8a3e4df272a378652f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 8 20:50:32 2020 +0000

    sinclairql: initial heap allocation code, and minor system unit bits
    
    git-svn-id: trunk@47351 -

M	rtl/sinclairql/sysheap.inc
M	rtl/sinclairql/sysos.inc
M	rtl/sinclairql/system.pp

******************************************************************************
commit b425c97fce8bee5326e55e28151ddaa6e8d65d54
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 8 20:48:04 2020 +0000

    sinclairql: implemented startup code, including binary relocation and stack allocation
    
    git-svn-id: trunk@47349 -

M	rtl/sinclairql/si_prc.pp

******************************************************************************
commit c8d18f5ac64f8c42447d5596eb3eb63fac58ac0e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 8 20:43:01 2020 +0000

    sinclairql: implemented some OS trap wrappers, to be used by the RTL
    
    git-svn-id: trunk@47348 -

M	.gitattributes
A	rtl/sinclairql/qdos.inc
A	rtl/sinclairql/qdosfuncs.inc
A	rtl/sinclairql/qdosh.inc

******************************************************************************
commit 954123deb3b2d134860fc9dcd4424a3abca23e64
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Nov 8 20:38:42 2020 +0000

    sinclairql: when linking with vlink, generate an unrelocated binary with appended relocation info, so the startup code can relocate it
    
    git-svn-id: trunk@47347 -

M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit 47066f0ce7e8dc21393d07516de90e094610e52b
Author: florian <florian@freepascal.org>
Date:   Sun Nov 8 19:39:18 2020 +0000

    * moved UseAVX from cgx86 to cpubase
    + UseAVX512
    
    git-svn-id: trunk@47346 -

M	compiler/x86/cgx86.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit e46b426ca13519093fabc509cc2ce2adb507300c
Author: florian <florian@freepascal.org>
Date:   Sun Nov 8 19:39:17 2020 +0000

    + tx86addnode.second_opvector makes use of AVX instructions
    
    git-svn-id: trunk@47345 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 4fa33623552902ffcb2719b7d16b2147ee0d3457
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sun Nov 8 07:18:49 2020 +0000

    * forgotten int64 parameter type
    
    git-svn-id: trunk@47339 -

M	rtl/unix/timezone.inc

******************************************************************************
commit 49fbe53cf36a122eeb6526e7c7f9effd069c1f62
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Nov 7 16:09:51 2020 +0000

      + test for mantis #36381 (seems already fixed)
    
    git-svn-id: trunk@47337 -

M	.gitattributes
A	tests/webtbs/tw36381.pp

******************************************************************************
commit f7050ef41ab48de9884816ddda2c2b1f713fe200
Author: florian <florian@freepascal.org>
Date:   Sat Nov 7 10:42:44 2020 +0000

      + take care of vzeroupper in exit code optimizations
    
    git-svn-id: trunk@47333 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 81e8982dd4d8d0d19899e55e511605be8174f926
Author: florian <florian@freepascal.org>
Date:   Sat Nov 7 10:42:43 2020 +0000

       + completed Ch_* information for VMOVD*
    
    git-svn-id: trunk@47332 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 6ec460c619cb339eefb54d4b83a456882a2047a3
Author: florian <florian@freepascal.org>
Date:   Fri Nov 6 21:41:59 2020 +0000

      * patch by J. Gareth Moreton: MOV/LDR/STR/MOV optimisations for ARM/AArch64, resolves #37638
    
    git-svn-id: trunk@47330 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 2e48a13bfbea0ec59613140edb9d271148edbb2f
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 6 15:43:19 2020 +0000

    * android: In some android versions time zone names are available only after first call of localtime().
    
    git-svn-id: trunk@47329 -

M	rtl/android/unixandroid.inc

******************************************************************************
commit 3ae370b1908f4be08df639ed6069f6e34fad2c26
Author: florian <florian@freepascal.org>
Date:   Thu Nov 5 22:13:58 2020 +0000

      * also use avx copying for mod 4=0 memory blocks
    
    git-svn-id: trunk@47328 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 7ded8307c91c55e965dbe0c1090964b88a73fa16
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 18:39:11 2020 +0000

    * timezones android compilation
    
    git-svn-id: trunk@47326 -

M	rtl/android/unixandroid.inc
M	rtl/unix/unix.pp

******************************************************************************
commit d2a517389f7da8d331eaaba4de5a4772cac3fe06
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 17:16:27 2020 +0000

    * forgotten int64 parameter type
    
    git-svn-id: trunk@47325 -

M	rtl/unix/timezone.inc

******************************************************************************
commit be4c907117372f5f15b4d5cc250f2e3b8a727b9d
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 17:10:12 2020 +0000

    * read int64 transition table from linux timezone files if available
    
    git-svn-id: trunk@47324 -

M	rtl/unix/timezone.inc
M	rtl/unix/unix.pp
M	tests/test/units/unix/ttimezone1.pp

******************************************************************************
commit 39674e28521512efe9e3be18579be344ee382cb7
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 12:54:35 2020 +0000

    * win: fix GetLocalTimeOffset lower boundary
    
    git-svn-id: trunk@47323 -

M	rtl/win/sysutils.pp

******************************************************************************
commit 691fb2c9fe7fda02868baddb8c0ddfe730df6287
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 12:53:51 2020 +0000

    * add unix timezone test
    
    git-svn-id: trunk@47322 -

M	.gitattributes
A	tests/test/units/unix/ttimezone1.pp

******************************************************************************
commit 3ee2097f1acd9f992fb223da4d27a286d1d054ca
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Thu Nov 5 12:45:35 2020 +0000

    * unix timezone optimizations
    
    git-svn-id: trunk@47321 -

M	rtl/unix/sysutils.pp
M	rtl/unix/timezone.inc
M	rtl/unix/unix.pp

******************************************************************************
commit 0d36b05df5d7e045c106817d54e9d4df0ea6af7f
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 22:17:46 2020 +0000

      * i386 can use only 8 mm registers with avx-512
    
    git-svn-id: trunk@47318 -

M	compiler/i386/cpuinfo.pas

******************************************************************************
commit 1add3490c326215fb09024fa987c80435c1c1b6c
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 22:10:35 2020 +0000

      + i386 supports also avx-512
    
    git-svn-id: trunk@47317 -

M	compiler/i386/cpuinfo.pas

******************************************************************************
commit b47d2bd2c206114dbf07007ad6fce88f208015d4
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 21:31:50 2020 +0000

      * allow var alignment up to 64 bytes
    
    git-svn-id: trunk@47316 -

M	compiler/systems/i_linux.pas
M	compiler/systems/i_win.pas

******************************************************************************
commit f8d33dc1885af3d8eed394bac11f86455ae491a3
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 21:31:49 2020 +0000

      * fix tcgx86.a_loadmm_reg_ref and tcgx86.a_loadmm_ref_reg for 64 OS_M512
    
    git-svn-id: trunk@47315 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 60bb8600a1248ab490f5b5344e781967ba423bf7
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 21:31:48 2020 +0000

      + copy mode avx512
    
    git-svn-id: trunk@47314 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 37e934ffbd0864c0893f250e14c45130f11edb1b
Author: florian <florian@freepascal.org>
Date:   Wed Nov 4 21:31:48 2020 +0000

      * using ymm registers for copying data is always useful, regardless of alignment
    
    git-svn-id: trunk@47313 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit eda7d535bd5d232c91f8c23fedfb26c8e17c98e7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 4 21:01:34 2020 +0000

    * m68k: enabled vasm assembler support for the Sinclair QL, and added linking
    
    git-svn-id: trunk@47312 -

M	compiler/m68k/ag68kvasm.pas
M	compiler/systems/i_sinclairql.pas
M	compiler/systems/t_sinclairql.pas

******************************************************************************
commit a65158bfe8eaae169e75549f02e96b50b3873a63
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Nov 4 20:10:43 2020 +0000

    * fix memory leak in RegisterLazyInitThreadingProc
    
    git-svn-id: trunk@47311 -

M	rtl/inc/thread.inc

******************************************************************************
commit 18f364a497a75c718537ba3157ee36735ff933fe
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 4 15:59:50 2020 +0000

    + RTL skeleton for the Sinclair QL
    
    git-svn-id: trunk@47310 -

M	.gitattributes
A	rtl/sinclairql/Makefile.fpc
A	rtl/sinclairql/buildrtl.pp
A	rtl/sinclairql/rtl.cfg
A	rtl/sinclairql/rtldefs.inc
A	rtl/sinclairql/si_prc.pp
A	rtl/sinclairql/sysdir.inc
A	rtl/sinclairql/sysfile.inc
A	rtl/sinclairql/sysheap.inc
A	rtl/sinclairql/sysos.inc
A	rtl/sinclairql/sysosh.inc
A	rtl/sinclairql/system.pp
A	rtl/sinclairql/tthread.inc

******************************************************************************
commit 7fbceaac2193b92552f631669ab8f20862f6e813
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Nov 4 14:56:56 2020 +0000

    * thread-safe time zone info read/write
    
    git-svn-id: trunk@47309 -

M	rtl/android/unixandroid.inc
M	rtl/unix/sysutils.pp
M	rtl/unix/timezone.inc
M	rtl/unix/unix.pp

******************************************************************************
commit c64429cdd0465c60e775c77c41afa464ab0a527f
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Nov 4 14:55:40 2020 +0000

    * lazy thread initialization support
    
    git-svn-id: trunk@47308 -

M	rtl/beos/bethreads.pp
M	rtl/inc/thread.inc
M	rtl/inc/threadh.inc
M	rtl/netware/systhrd.inc
M	rtl/netwlibc/systhrd.inc
M	rtl/unix/cthreads.pp
M	rtl/win/systhrd.inc

******************************************************************************
commit 519701960c0893ce801572c9604a91cb8912940f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Nov 4 14:20:28 2020 +0000

    m68k: initial commit to add the Sinclair QL as a compiler target
    
    git-svn-id: trunk@47307 -

M	.gitattributes
M	compiler/m68k/cputarg.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas
A	compiler/systems/i_sinclairql.pas
A	compiler/systems/t_sinclairql.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 934f2dc55da6dfe6c053b08ebf6a7ed8e9ab41c1
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Nov 4 09:34:08 2020 +0000

    * introduce NowUTC() and GetUniversalTime()
    
    git-svn-id: trunk@47306 -

M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/unix/sysutils.pp
M	rtl/win/sysutils.pp
M	rtl/wince/sysutils.pp

******************************************************************************
commit 7ad4694e4bd4f2b369b0599b880ad0b9b3031aca
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Nov 4 05:52:58 2020 +0000

    * remove the BaseUnix dependency added by mistake
    
    git-svn-id: trunk@47305 -

M	rtl/unix/unixutil.pp

******************************************************************************
commit 0bf1af08c4262d560977260b9f12029fbed5605f
Author: florian <florian@freepascal.org>
Date:   Tue Nov 3 21:44:57 2020 +0000

      + test for #38022
    
    git-svn-id: trunk@47304 -

M	.gitattributes
A	tests/webtbs/tw38022.pp

******************************************************************************
commit 629b2a89517222e73f472b78a365f262741609c1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 3 21:34:30 2020 +0000

      * regenerated
    
    git-svn-id: trunk@47303 -

M	rtl/aix/Makefile
M	rtl/darwin/Makefile
M	rtl/freebsd/Makefile
M	rtl/linux/Makefile
M	rtl/solaris/Makefile

******************************************************************************
commit 312f1436b1fbf5445bd97935be451272ff4fc80f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 3 21:34:22 2020 +0000

      * changed TIDString and tsymentry.realname to TSymStr
       o for TIDString: prevents shortstring -> ansistring conversions with
         -dsymansistr when looking up symbols
       o for realname: consistency with name
    
    git-svn-id: trunk@47301 -

M	compiler/globtype.pas
M	compiler/ppu.pas
M	compiler/symbase.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppuout.pp

******************************************************************************
commit 38a059f0398a3f0594300f1a39a222c45c3821bd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 3 21:34:19 2020 +0000

      * give an error when trying to define a macro/compiler variable with
        an empty name
    
    git-svn-id: trunk@47300 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/scanner.pas
A	tests/tbf/tb0272.pp

******************************************************************************
commit 1c61c30cd23c625aabb759d0080ecf6965a3fe22
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 3 21:34:15 2020 +0000

      * added "const" to some string parameters
    
    git-svn-id: trunk@47299 -

M	compiler/aasmcnst.pas
M	compiler/pdecl.pas
M	compiler/pdecsub.pas

******************************************************************************
commit 3e16ad9d6c3cf176706ea2cabdb2d66cfd79879d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 3 21:34:10 2020 +0000

      * sysutils depends on initc
    
    git-svn-id: trunk@47298 -

M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc

******************************************************************************
commit 9b5d2322b6dc6a252cebb81829217c4319ed0599
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 20:15:04 2020 +0000

    Fix tepoch1 test
    
    git-svn-id: trunk@47297 -

M	.gitattributes
R086	tests/test/units/unixutil/tepoch1.pp	tests/test/units/unix/tepoch1.pp

******************************************************************************
commit f296bf3f2d1d3a7181b1b01578b8bdaccaff4ff6
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 19:40:04 2020 +0000

    Unix timezone: fix search around TZ change back to be the same as on Windows
    
    git-svn-id: trunk@47296 -

M	rtl/unix/timezone.inc

******************************************************************************
commit a36caf90435ae9ebdf620d75efffcbea057c0e07
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 19:38:04 2020 +0000

    Unix LocalToEpoch: fix typo
    
    git-svn-id: trunk@47295 -

M	rtl/unix/unix.pp

******************************************************************************
commit ac36eec71ae5a5c654ab9f4e8ac366005179d97e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Nov 3 19:25:32 2020 +0000

    * protect GetFullName with FPC_HAS_FEATURE_UNICODESTRINGS instead of _WIDESTRINGS
    
    git-svn-id: trunk@47294 -

M	rtl/inc/file.inc
M	rtl/inc/systemh.inc
M	rtl/inc/text.inc

******************************************************************************
commit a02d676b060c64cc628746446a1ffdf77e7b95cc
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 18:15:16 2020 +0000

    GetLocalTimeOffset: add InputIsUTC parameter to DateTime-aware overloads
    
    git-svn-id: trunk@47293 -

M	packages/fcl-pdf/src/fppdf.pp
M	packages/rtl-objpas/src/inc/dateutil.inc
M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/unix/sysutils.pp
M	rtl/win/sysutils.pp
M	rtl/wince/sysutils.pp

******************************************************************************
commit 6df9ad8e502cdb023be508d4ce3816539b8bcd69
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 14:31:24 2020 +0000

    LocalToEpoch, EpochToLocal: android compilation
    
    git-svn-id: trunk@47292 -

M	rtl/android/unixandroid.inc

******************************************************************************
commit f4cff81881a37f95fc32028c8bded9381af9e66a
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 14:27:07 2020 +0000

    LocalToEpoch, EpochToLocal: fix for arbitrary datetime
    
    git-svn-id: trunk@47291 -

M	packages/libxml/src/xmlxsdparser.pas
M	rtl/unix/dos.pp
M	rtl/unix/sysutils.pp
M	rtl/unix/timezone.inc
M	rtl/unix/unix.pp
M	rtl/unix/unixutil.pp
M	utils/fppkg/lnet/lcommon.pp

******************************************************************************
commit 282aa0daa7f469eed11978569842255b0c46e1d5
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 11:41:28 2020 +0000

    GetLocalTimeOffset: DateTime-aware overloads for Unix. Issue #35710
    
    git-svn-id: trunk@47290 -

M	rtl/unix/sysutils.pp
M	rtl/unix/timezone.inc
M	rtl/unix/unix.pp
M	rtl/unix/unixutil.pp

******************************************************************************
commit e10ee5ccb4febf9787280ccb1bd3026e804373e9
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Nov 3 09:46:14 2020 +0000

    GetLocalTimeOffset - fix overload call
    
    git-svn-id: trunk@47289 -

M	rtl/objpas/sysutils/dati.inc

******************************************************************************
commit e80b1d9e70ec37dea35becb348a1052c55301677
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 3 07:13:59 2020 +0000

     Put GetFullName functions inside $ifdef FPC_WIDESTRING_EQUAL_UNICODESTRING
    
    git-svn-id: trunk@47287 -

M	rtl/inc/file.inc
M	rtl/inc/systemh.inc
M	rtl/inc/text.inc

******************************************************************************
commit 12843498d1747a87b7e0c0bd8d07e5e861b92140
Author: florian <florian@freepascal.org>
Date:   Mon Nov 2 21:24:40 2020 +0000

    + patch by Anton Kavalenka to support coloured output on windows, resolves #38025
    
    git-svn-id: trunk@47285 -

M	compiler/comphook.pas

******************************************************************************
commit c2454d5386b90c99bee22aa293284c07f5f66893
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Nov 2 16:42:32 2020 +0000

    * fix for Mantis #38023: the code to convert LF to CRLF when converting to UTF-8 is disabled anyway, so disable unnecessary, duplicate if-branches as well
    
    git-svn-id: trunk@47284 -

M	rtl/inc/ustrings.inc

******************************************************************************
commit 58a56e38d108e6ec129ccf1ffe1bca4822dc74a6
Author: pierre <pierre@freepascal.org>
Date:   Mon Nov 2 08:50:34 2020 +0000

     Add m68k specific option to gcc call to be sure to generate an error if the gcc does not target m68k CPU
    
    git-svn-id: trunk@47282 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 92beecb6fe00ff0af31bb52bdafefe6cc6c2b255
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 2 02:19:06 2020 +0000

    * bump ppu version after r47279. it changes the ABI (m68k only), so units are incompatible even if the format didn't change
    
    git-svn-id: trunk@47280 -

M	compiler/ppu.pas

******************************************************************************
commit 9d425ff4ca3d855ba303b815a93bfff98fe153a8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Nov 2 02:01:24 2020 +0000

    m68k: change the stack push order in the register calling convention to left-to-right. This should fix parameter handling in nested procedures (tnest5)
    
    git-svn-id: trunk@47279 -

M	compiler/m68k/cpupara.pas

******************************************************************************
commit 71c30761dd68aab76b080b3388f55118321ded10
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Nov 1 19:40:39 2020 +0000

    * fix for Mantis #38020: apply patch by Sergey Larin to use GetModuleHandle instead of LoadLibrary to retrieve GetTickCount64
    
    git-svn-id: trunk@47274 -

M	rtl/win/sysutils.pp

******************************************************************************
commit 5c119d5f67a4c54069636bc7cded4d0b497d02c5
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun Nov 1 16:46:52 2020 +0000

      * fix for bug #38021 based on patch by Sergey Larin
    
    git-svn-id: trunk@47269 -

M	rtl/win/sysfile.inc

******************************************************************************
commit dbb0b24de8b842780b547985e52c434d5b8a2d71
Author: florian <florian@freepascal.org>
Date:   Sun Nov 1 14:27:59 2020 +0000

      * reverted accidental change
    
    git-svn-id: trunk@47268 -

M	compiler/fpcdefs.inc

******************************************************************************
commit c2c4048e928ac7e6bbb806c30fae4a35221b03bb
Author: pierre <pierre@freepascal.org>
Date:   Sun Nov 1 08:23:40 2020 +0000

     Fix compilation of RTL when USE_FILEREC_FULLNAME is not defined
    
    git-svn-id: trunk@47267 -

M	rtl/inc/file.inc

******************************************************************************
commit 55d4ffa9de2999f1f8f36b7ead07d53ce281b4d4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Oct 31 21:57:59 2020 +0000

    m68k: add missing FINT and FINTRZ instructions to spilling_get_operation_type()
    
    git-svn-id: trunk@47266 -

M	compiler/m68k/aasmcpu.pas

******************************************************************************
commit 3aa0d92c792b4ecb32eb2fc867b770a3160fa9eb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Oct 31 20:46:19 2020 +0000

    fix casting typo in r47263
    
    git-svn-id: trunk@47265 -

M	rtl/inc/text.inc

******************************************************************************
commit 8369f035bf5bae7a9d6af7902e514722f89a55bd
Author: florian <florian@freepascal.org>
Date:   Sat Oct 31 19:54:41 2020 +0000

      * use AnsiString for file names to overcome length limitations
    
    git-svn-id: trunk@47264 -

M	compiler/cstreams.pas

******************************************************************************
commit 408fc819b399947025669f134ff779bd78c5602c
Author: florian <florian@freepascal.org>
Date:   Sat Oct 31 19:54:40 2020 +0000

      + initial implementation of a FullName field in file records to overcome length limitions of the name field
    
    git-svn-id: trunk@47263 -

M	rtl/inc/file.inc
M	rtl/inc/filerec.inc
M	rtl/inc/systemh.inc
M	rtl/inc/text.inc
M	rtl/inc/textrec.inc

******************************************************************************
commit 3d049a33096ee1906af356dad7f8830c95d895d2
Author: florian <florian@freepascal.org>
Date:   Fri Oct 30 22:10:56 2020 +0000

      - remove unused trimbspace
      + added ansistring variants for some helpers
    
    git-svn-id: trunk@47260 -

M	compiler/cutils.pas

******************************************************************************
commit f674ed0324fa2af19d0c3a896ec06e33a1db024a
Author: pierre <pierre@freepascal.org>
Date:   Fri Oct 30 16:12:47 2020 +0000

     Disable use of cmov instructions in alignment patterns for some i386 targets (it prevents use of some emulators)
    
    git-svn-id: trunk@47257 -

M	compiler/systems.pas
M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 7966b29b2f3a2e98dec9a097a3da18be690584b2
Author: pierre <pierre@freepascal.org>
Date:   Fri Oct 30 15:33:27 2020 +0000

     i386-go32v2 also does not support progbits, as other COFF targets
    
    git-svn-id: trunk@47255 -

M	compiler/aggas.pas

******************************************************************************
commit ff31d95a694c2c9bfd4f788ccc280c1d6593e527
Author: florian <florian@freepascal.org>
Date:   Wed Oct 28 21:37:27 2020 +0000

      * excess precision should not be applied to comp or currency
    
    git-svn-id: trunk@47246 -

M	compiler/nadd.pas

******************************************************************************
commit 5b06af888693055fb9d52146b70c356d28d06389
Author: florian <florian@freepascal.org>
Date:   Wed Oct 28 21:37:26 2020 +0000

      * delphi has excessprecision turned on by default
    
    git-svn-id: trunk@47245 -

M	compiler/scanner.pas

******************************************************************************
commit 075966f142ca9ccc05cb5db2291a565832c141ba
Author: pierre <pierre@freepascal.org>
Date:   Wed Oct 28 10:48:06 2020 +0000

     Display xtensa specific options for ppcxtensa -h
    
    git-svn-id: trunk@47232 -

M	compiler/options.pas

******************************************************************************
commit b8e6610617d5067d8010610b50878c64771296a4
Author: pierre <pierre@freepascal.org>
Date:   Wed Oct 28 09:46:02 2020 +0000

     Add explicit longint typecast to avoid range check errors with unwindrec longword variable
    
    git-svn-id: trunk@47231 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 1fdf940d0b2937969df7ce2c7fa14a27bef30e62
Author: pierre <pierre@freepascal.org>
Date:   Wed Oct 28 07:08:48 2020 +0000

     Fix compilation failure of i386-netbsd target after last commit
    
    git-svn-id: trunk@47230 -

M	rtl/netbsd/i386/sighnd.inc

******************************************************************************
commit f80bd9b034171030819d9ff7efb0f45de375c1e4
Author: pierre <pierre@freepascal.org>
Date:   Tue Oct 27 23:11:23 2020 +0000

     Fix typo in script comment
    
    git-svn-id: trunk@47229 -

M	rtl/unix/scripts/check_rtl_types.sh

******************************************************************************
commit 8a543dbc8ad339c0a2693a2df1848a5bb070a06a
Author: pierre <pierre@freepascal.org>
Date:   Tue Oct 27 23:09:32 2020 +0000

     Use RTE 207 for FPU_Invalid and FPU_Denormal exceptions on i386/x86_64 beos/haiku/*bsd as for Linux
    
    git-svn-id: trunk@47227 -

M	rtl/beos/i386/sighnd.inc
M	rtl/freebsd/i386/sighnd.inc
M	rtl/freebsd/x86_64/sighnd.inc
M	rtl/haiku/i386/sighnd.inc
M	rtl/haiku/x86_64/sighnd.inc
M	rtl/netbsd/i386/sighnd.inc
M	rtl/netbsd/x86_64/sighnd.inc
M	rtl/openbsd/i386/sighnd.inc
M	rtl/openbsd/x86_64/sighnd.inc

******************************************************************************
commit 13f1fb60b4cc7ee884a00de755d983ae0790bb6e
Author: florian <florian@freepascal.org>
Date:   Tue Oct 27 21:42:51 2020 +0000

      * directly copy the result of set <op> set into the left side of an assignment
    
    git-svn-id: trunk@47226 -

M	compiler/nadd.pas

******************************************************************************
commit 6d5816085d94fd8498cd9d34d5e0cf8839d74c9c
Author: michael <michael@freepascal.org>
Date:   Tue Oct 27 08:25:28 2020 +0000

    * Fix for 37993, attempt to prevent memory leak in case of database shutdown
    
    git-svn-id: trunk@47216 -

M	packages/fcl-db/src/sqldb/sqldb.pp

******************************************************************************
commit 3baddff71e3e04ee92cb792b904c9b9f5a4e4043
Author: florian <florian@freepascal.org>
Date:   Mon Oct 26 22:18:03 2020 +0000

      + inline subroutines with formal parameters as well
    
    git-svn-id: trunk@47214 -

M	compiler/ncal.pas
M	compiler/psub.pas

******************************************************************************
commit dfaee4f04b1c2ec66e01978b3d2377685f366354
Author: florian <florian@freepascal.org>
Date:   Mon Oct 26 20:58:24 2020 +0000

      * patch by Jan Bruns to solve an issue with the new overloading selection code, resolves #37969
    
    git-svn-id: trunk@47211 -

M	.gitattributes
M	compiler/htypechk.pas
A	tests/webtbs/tw37969.pp

******************************************************************************
commit b51729dac5db8f713b2e777e374d9811c83e0f52
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Oct 26 20:39:21 2020 +0000

    File datetime UTC support
    
    git-svn-id: trunk@47210 -

M	packages/rtl-objpas/src/inc/dateutil.inc
M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/unix/unixutil.pp

******************************************************************************
commit 438bba76b9d154b8d963b54f8d67721c39252009
Author: yury <jura@cp-lab.com>
Date:   Mon Oct 26 17:53:40 2020 +0000

    + Added a test for: When {$mode delphi} and {$modeswitch nestedprocvars} it is allowed to assign a nested routine which does not use parentfp to a regular procvar. And then call this procvar without any side effects.
    
    git-svn-id: trunk@47209 -

M	.gitattributes
A	tests/test/tnest5.pp

******************************************************************************
commit bf5b85e5e539afd6c964afe225614d0c90d84ac4
Author: pierre <pierre@freepascal.org>
Date:   Mon Oct 26 14:45:34 2020 +0000

     Also look for function name of 'result' is not found in load_result_node
    
    git-svn-id: trunk@47208 -

M	compiler/nutils.pas

******************************************************************************
commit 0d08b98d47c67169574ff4b2d72d650d67ed5243
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Oct 26 12:29:18 2020 +0000

    GetLocalTimeOffset: DateTime-aware overloads (Windows supported, Unix is a ToDo). Issue #35710
    
    git-svn-id: trunk@47206 -

M	packages/fcl-pdf/src/fppdf.pp
M	packages/rtl-objpas/src/inc/dateutil.inc
M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/unix/sysutils.pp
M	rtl/win/sysutils.pp
M	rtl/win/wininc/redef.inc
M	rtl/win/wininc/struct.inc
M	rtl/wince/sysutils.pp

******************************************************************************
commit f529253c0b39dd374ef076e83f9416a3b96e156e
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Oct 26 09:31:54 2020 +0000

    Deprecate TUnicodeSearchRec.Time and TRawbyteSearchRec.Time
    
    git-svn-id: trunk@47204 -

M	rtl/objpas/sysutils/filutilh.inc

******************************************************************************
commit 34d3429e4326759192862dd4f4a6300132bc4bc6
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Oct 26 09:15:26 2020 +0000

    More precise FileAge
    
    git-svn-id: trunk@47203 -

M	rtl/objpas/sysutils/filutil.inc

******************************************************************************
commit 17c0291e86d90a27181304b8adb1d51d79c5b618
Author: florian <florian@freepascal.org>
Date:   Sun Oct 25 19:07:44 2020 +0000

      * cache IsATTY value
    
    git-svn-id: trunk@47201 -

M	compiler/comphook.pas

******************************************************************************
commit ff6a58ff89a0334a64329a29db000a0dbf91d9df
Author: florian <florian@freepascal.org>
Date:   Sun Oct 25 17:04:33 2020 +0000

      * colored message output as requested in #37331, so far linux only
    
    git-svn-id: trunk@47200 -

M	compiler/comphook.pas

******************************************************************************
commit 52cf07d96831bf8def50a45521582e75256f2dda
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Oct 25 15:20:39 2020 +0000

    * the define to check for inclusion in the System unit is FPC_IS_SYSTEM, *not* FPC_IN_SYSTEM
    
    git-svn-id: trunk@47197 -

M	rtl/inc/softfpu.pp

******************************************************************************
commit d51213d26ada2eddcae37b82be384355361a554c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Oct 25 10:18:18 2020 +0000

    * adjust softfpu unit so that it can be really used as a standalone unit instead of mainly as part of the System unit
    
    git-svn-id: trunk@47193 -

M	rtl/inc/softfpu.pp

******************************************************************************
commit 225bc70e7e5592b0c33f219ccde334c442d62be9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Oct 25 10:18:14 2020 +0000

    * regenerate Makefiles
    
    git-svn-id: trunk@47192 -

M	rtl/amiga/Makefile
M	rtl/aros/Makefile
M	rtl/morphos/Makefile
M	rtl/win32/Makefile

******************************************************************************
commit 8badcbdd0d77bc2393f23e51e44356ff2b13b3dd
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Oct 25 10:18:09 2020 +0000

    * explicit build rules are not required for the softfpu units that are build with a buildrtl
    
    git-svn-id: trunk@47191 -

M	rtl/amiga/Makefile.fpc
M	rtl/aros/Makefile.fpc
M	rtl/morphos/Makefile.fpc
M	rtl/win32/Makefile.fpc

******************************************************************************
commit 8eefb37b42ba8edf21d2473c44cfabb25bf258ac
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 24 21:25:04 2020 +0000

    * fix buildrtl units on Amiga-likes
    
    git-svn-id: trunk@47190 -

M	rtl/amiga/buildrtl.pp
M	rtl/aros/buildrtl.pp
M	rtl/morphos/buildrtl.pp

******************************************************************************
commit 985c4fafeba5fb46477a227e90868ac70263bb77
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 24 20:58:24 2020 +0000

    * regenerate Makefiles after adding the softfpu units
    
    git-svn-id: trunk@47188 -

M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/aros/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/nativent/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/solaris/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile

******************************************************************************
commit 0df460f56e6b48b294ee3b0a476587c066535e0e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 24 20:57:56 2020 +0000

    * simplify rules for softfpu units
    
    git-svn-id: trunk@47186 -

M	rtl/linux/Makefile.fpc
M	rtl/macos/Makefile.fpc

******************************************************************************
commit b5148304b7b71721e696f37191038d6748f3cfb8
Author: michael <michael@freepascal.org>
Date:   Sat Oct 24 16:29:33 2020 +0000

    * Added InitSSLInterface overload where the library names can be specified
    
    git-svn-id: trunk@47174 -

M	packages/openssl/src/openssl.pas

******************************************************************************
commit 297f468cd6677a0d16b78c36ae34df5f33f1f63e
Author: pierre <pierre@freepascal.org>
Date:   Fri Oct 23 22:21:06 2020 +0000

     Use // comments as curly brackets not recognized as comment start inside aarch64 assembly blocks
    
    git-svn-id: trunk@47164 -

M	rtl/win64/system.pp

******************************************************************************
commit 8fa62752d4e8a21b569cdde4644f4d1b006e6d1e
Author: florian <florian@freepascal.org>
Date:   Fri Oct 23 20:05:18 2020 +0000

      * patch by J. Gareth Moreton: minor refactor of reduced iterations of pass 1 of the assembler optimizer, resolves #37972
    
    git-svn-id: trunk@47163 -

M	compiler/aoptobj.pas

******************************************************************************
commit 703941dde56a38672779439d3aa3cfe93a6c3426
Author: florian <florian@freepascal.org>
Date:   Fri Oct 23 20:05:17 2020 +0000

      + x86: MovxMov2Mov optimization
    
    git-svn-id: trunk@47162 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6d0ce1c4b60c142db8d968ea82200784c512de3c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Oct 23 15:09:34 2020 +0000

      * LLVM: ensure that the parameter types are processed of procdefs that are
        declared when they get first called
       o fixes compilation of several tests/test/tobjc* tests after r46675
    
    git-svn-id: trunk@47160 -

M	compiler/llvm/llvmtype.pas

******************************************************************************
commit 072934081799accd4acfc667b7046e13a0a54734
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Oct 23 13:34:24 2020 +0000

      * try_make_mul32to64: restore original node order if transformation failed
       o this gets called by taddnode.pass_1, which caches the left/right
       node types/resultdefs
    
    git-svn-id: trunk@47158 -

M	compiler/nadd.pas

******************************************************************************
commit dc547b1426bcf6f2a15ae2eb384a20c41f9365f5
Author: florian <florian@freepascal.org>
Date:   Thu Oct 22 21:25:37 2020 +0000

      + remove type conversions also for unary operations if possible
    
    git-svn-id: trunk@47155 -

M	compiler/ncnv.pas

******************************************************************************
commit 74d145bb16994e08bb5255a15f4d0d547b81c0ec
Author: florian <florian@freepascal.org>
Date:   Thu Oct 22 21:25:36 2020 +0000

      * simplify tcgunaryminusnode.second_integer
    
    git-svn-id: trunk@47154 -

M	compiler/ncgmat.pas

******************************************************************************
commit 6fc930a0fc30a339624476fe1f0f79a261632387
Author: florian <florian@freepascal.org>
Date:   Wed Oct 21 20:46:28 2020 +0000

      * better complexity calculation of tvecnodes
    
    git-svn-id: trunk@47151 -

M	compiler/nutils.pas

******************************************************************************
commit 044133fc87e120b53f7091d4dcba965028b2ad58
Author: florian <florian@freepascal.org>
Date:   Wed Oct 21 20:46:28 2020 +0000

      * explicitly convert array indicies to pointer sized integers, so cse
        can handle the conversion
    
    git-svn-id: trunk@47150 -

M	compiler/nmem.pas

******************************************************************************
commit 91a622328105fddad75b9a1794450c9ccda65d49
Author: florian <florian@freepascal.org>
Date:   Tue Oct 20 20:03:25 2020 +0000

      * (slight modified) patch by J. Gareth Moreton to reduce number of assembler optimizer passes, resolves #37959
    
    git-svn-id: trunk@47146 -

M	compiler/aopt.pas
M	compiler/aoptobj.pas

******************************************************************************
commit 8bbc7d5df3d76fa56b90b07ea762ccea1b10a686
Author: florian <florian@freepascal.org>
Date:   Mon Oct 19 19:46:10 2020 +0000

      * patch by J. Gareth Moreton to improve LEA/SHL -> LEA optimisation, resolves #37954
    
    git-svn-id: trunk@47143 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 099134b54554c0c4ed5b871f23952dd40647393d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Oct 19 19:10:16 2020 +0000

      * fix try_make_mul32to64() if it's called with a constant node on the
        left (mantis #37878)
       o can happen if use_generic_mul32to64 returns false
    
    git-svn-id: trunk@47142 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw37878.pp

******************************************************************************
commit 0e474f4748f84595788103b867f9d6fccc47d235
Author: michael <michael@freepascal.org>
Date:   Mon Oct 19 11:25:21 2020 +0000

    * Patch from Laco with additions
    
    git-svn-id: trunk@47138 -

M	packages/odbc/src/odbcsql.inc

******************************************************************************
commit 3f19bd693ff42aacf053098d507cab586a642195
Author: pierre <pierre@freepascal.org>
Date:   Mon Oct 19 09:19:25 2020 +0000

      + Add new LastCommonAsmOp constant to arm and aarch64 CPU targets.
      * Uses this new constant to define TCommonAsmOps set type.
      + Use this constant in armgen/aoptarm MatchInstruction function,
        to avoid a range check error when compiling with -CriotR with optimization.
    
    git-svn-id: trunk@47137 -

M	compiler/aarch64/cpubase.pas
M	compiler/arm/cpubase.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 080d8c28f7a9725d93943ed6e4014ea729627046
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 17 14:59:04 2020 +0000

      * LLVM 11.0 support
    
    git-svn-id: trunk@47121 -

M	compiler/llvm/agllvm.pas
M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 80394fc6e8bbc3965ab72236e2c51f99f99156ff
Author: florian <florian@freepascal.org>
Date:   Fri Oct 16 21:19:10 2020 +0000

      - removed cvs remainders ($Id$ and $Log$ tags)
    
    git-svn-id: trunk@47119 -

M	rtl/linux/m68k/cprt21.as
M	rtl/linux/m68k/gprt0.as
M	rtl/linux/m68k/gprt21.as
M	rtl/qnx/dos.inc
M	rtl/qnx/errno.inc
M	rtl/qnx/osposix.inc
M	rtl/qnx/osposixh.inc
M	rtl/qnx/posix.pp
M	rtl/qnx/qnx.inc
M	rtl/qnx/signal.inc
M	rtl/qnx/system.pp

******************************************************************************
commit 9376f5a43ab500b5577ad71bc9b5b2fce4afcbc7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Oct 15 20:29:36 2020 +0000

      * AArch64: added SIMD instructions (only plain ARMv8-A for now)
       o added AArch64 regset parsing support in assembler reader, means that "{"
         no longer starts comments there (like in the ARM assembler reader)
       o added AArch64 indexed SIMD register support and removed old cg hacks
         that worked around its absence
    
    git-svn-id: trunk@47116 -

M	.gitattributes
M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc
M	compiler/aarch64/a64reg.dat
M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cgcpu.pas
M	compiler/aarch64/cpubase.pas
M	compiler/aarch64/cpupara.pas
M	compiler/aarch64/ra64con.inc
M	compiler/aarch64/ra64dwa.inc
M	compiler/aarch64/ra64nor.inc
M	compiler/aarch64/ra64num.inc
M	compiler/aarch64/ra64rni.inc
M	compiler/aarch64/ra64sri.inc
M	compiler/aarch64/ra64sta.inc
M	compiler/aarch64/ra64std.inc
M	compiler/aarch64/ra64sup.inc
M	compiler/aarch64/racpu.pas
M	compiler/aarch64/racpugas.pas
M	compiler/aasmtai.pas
M	compiler/armgen/aoptarm.pas
M	compiler/cgbase.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/raatt.pas
M	compiler/rautils.pas
M	compiler/utils/gena64vfp.pp
M	compiler/x86/cpubase.pas
M	rtl/aarch64/aarch64.inc
M	rtl/aarch64/math.inc
A	tests/test/traa641.pp

******************************************************************************
commit d0d07dc3bf21ab5cbe90f242202556f942233f95
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Oct 15 20:29:32 2020 +0000

      * naturally align threadvar lists/tables
       o required for (future) Darwin arm64e target, and a good idea elsewhere too
         (on constrained targets, it won't make a difference because the alignment
         of pointers won't be > sizeof(longint))
    
    git-svn-id: trunk@47115 -

M	compiler/ngenutil.pas
M	compiler/options.pas
M	rtl/inc/threadvr.inc

******************************************************************************
commit 3b0168ae162ff2b7a57aeb9114ad6beb42c8b02b
Author: florian <florian@freepascal.org>
Date:   Wed Oct 14 20:08:10 2020 +0000

      * (slightly) modified (formatting, warning) patch by Jan Bruns to speed up overloading search, resolves #36666
    
    git-svn-id: trunk@47111 -

M	compiler/htypechk.pas
M	compiler/symdef.pas

******************************************************************************
commit 7dff106d14e7f9800853e63b4267dfba8f01a91b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Oct 14 09:11:37 2020 +0000

    * use the name of the symbol instead of the name of the section as the later is always lowercased
    
    git-svn-id: trunk@47109 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 5e6ec33a59602b4fb5ecfc9ce6d1ba9ee5d0e03b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Oct 14 09:11:32 2020 +0000

    * reset the stored symbol for SEH data once a new section is encountered
    
    git-svn-id: trunk@47108 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 0c2494bec82fe3595b77efa1b55ca38a7c853269
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Oct 14 09:11:27 2020 +0000

    * when setting up the symbol for the SEH data don't check whether it is global, instead check whether it's a function
    
    git-svn-id: trunk@47107 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 7a1903cc8f084acdd210300c16d39641ff468924
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Oct 14 01:52:12 2020 +0000

    * turn the recently added 3357 warning into an error, to avoid another compiler IE later
    
    git-svn-id: trunk@47105 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/powerpc/cpupara.pas

******************************************************************************
commit f4898588551c5c96111e2a3d8c9dd0d716f33c08
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Oct 14 01:45:14 2020 +0000

    powerpc: added support for 64bit explicit locations in legacy MorphOS syscalls. improved error handling of various corner cases or explicit paraloc handling
    
    git-svn-id: trunk@47104 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/powerpc/cpupara.pas

******************************************************************************
commit 637976e83fc692df21a49930461d41137145d1c4
Author: florian <florian@freepascal.org>
Date:   Tue Oct 13 19:59:01 2020 +0000

      * patch by Marģers to unify internal error numbers, resolves #37888
    
    git-svn-id: trunk@47103 -

M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cgcpu.pas
M	compiler/aarch64/cpupara.pas
M	compiler/aarch64/hlcgcpu.pas
M	compiler/aarch64/ncpuflw.pas
M	compiler/aarch64/racpugas.pas
M	compiler/aasmbase.pas
M	compiler/aasmcnst.pas
M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpuelf.pas
M	compiler/arm/cpupara.pas
M	compiler/arm/hlcgcpu.pas
M	compiler/arm/narmadd.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/narminl.pas
M	compiler/arm/narmld.pas
M	compiler/arm/narmmat.pas
M	compiler/arm/raarmgas.pas
M	compiler/arm/rgcpu.pas
M	compiler/assemble.pas
M	compiler/avr/aasmcpu.pas
M	compiler/avr/agavrgas.pas
M	compiler/avr/cgcpu.pas
M	compiler/avr/cpupara.pas
M	compiler/avr/navrmat.pas
M	compiler/avr/raavrgas.pas
M	compiler/cg64f32.pas
M	compiler/cgobj.pas
M	compiler/dbgdwarf.pas
M	compiler/dbgstabs.pas
M	compiler/fpcp.pas
M	compiler/hlcg2ll.pas
M	compiler/hlcgobj.pas
M	compiler/i386/cgcpu.pas
M	compiler/i386/cpuelf.pas
M	compiler/i386/cpupara.pas
M	compiler/i386/hlcgcpu.pas
M	compiler/i386/n386add.pas
M	compiler/i386/n386flw.pas
M	compiler/i386/n386mat.pas
M	compiler/i8086/cgcpu.pas
M	compiler/i8086/cpupara.pas
M	compiler/i8086/hlcgcpu.pas
M	compiler/i8086/n8086add.pas
M	compiler/i8086/n8086inl.pas
M	compiler/i8086/n8086ld.pas
M	compiler/i8086/n8086mat.pas
M	compiler/i8086/n8086mem.pas
M	compiler/i8086/symcpu.pas
M	compiler/jvm/agjasmin.pas
M	compiler/jvm/hlcgcpu.pas
M	compiler/jvm/jvmdef.pas
M	compiler/jvm/njvmcnv.pas
M	compiler/jvm/njvmmem.pas
M	compiler/jvm/njvmtcon.pas
M	compiler/jvm/pjvm.pas
M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmpara.pas
M	compiler/llvm/llvmpi.pas
M	compiler/llvm/llvmtype.pas
M	compiler/llvm/nllvmmem.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/m68k/cgcpu.pas
M	compiler/m68k/cpupara.pas
M	compiler/m68k/n68kadd.pas
M	compiler/m68k/n68kcal.pas
M	compiler/m68k/n68kmat.pas
M	compiler/m68k/n68kmem.pas
M	compiler/mips/aasmcpu.pas
M	compiler/mips/cgcpu.pas
M	compiler/mips/cpuelf.pas
M	compiler/mips/cpugas.pas
M	compiler/mips/hlcgcpu.pas
M	compiler/mips/ncpucnv.pas
M	compiler/mips/ncpuinln.pas
M	compiler/mips/racpugas.pas
M	compiler/nadd.pas
M	compiler/nbas.pas
M	compiler/ncgadd.pas
M	compiler/ncgcal.pas
M	compiler/ncgcon.pas
M	compiler/ncginl.pas
M	compiler/ncnv.pas
M	compiler/ngenutil.pas
M	compiler/ngtcon.pas
M	compiler/ninl.pas
M	compiler/nmat.pas
M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogomf.pas
M	compiler/ogrel.pas
M	compiler/omfbase.pas
M	compiler/options.pas
M	compiler/optloadmodifystore.pas
M	compiler/optvirt.pas
M	compiler/pbase.pas
M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pexports.pas
M	compiler/pexpr.pas
M	compiler/pkgutil.pas
M	compiler/powerpc/agppcmpw.pas
M	compiler/powerpc/cgcpu.pas
M	compiler/powerpc/cpupi.pas
M	compiler/powerpc/nppcadd.pas
M	compiler/powerpc/nppcmat.pas
M	compiler/powerpc/rappcgas.pas
M	compiler/powerpc64/cgcpu.pas
M	compiler/powerpc64/nppcadd.pas
M	compiler/powerpc64/nppcmat.pas
M	compiler/powerpc64/rappcgas.pas
M	compiler/ppcgen/agppcgas.pas
M	compiler/ppcgen/cgppc.pas
M	compiler/ppcgen/hlcgppc.pas
M	compiler/ppcgen/ngppcadd.pas
M	compiler/ppcgen/ngppcinl.pas
M	compiler/ppcgen/rgcpu.pas
M	compiler/psub.pas
M	compiler/rgobj.pas
M	compiler/riscv/hlcgrv.pas
M	compiler/riscv32/rarv32gas.pas
M	compiler/riscv64/rarv64gas.pas
M	compiler/sparc/cgcpu.pas
M	compiler/sparc64/cpugas.pas
M	compiler/sparcgen/aasmcpu.pas
M	compiler/sparcgen/cpugas.pas
M	compiler/sparcgen/ncpucnv.pas
M	compiler/sparcgen/racpugas.pas
M	compiler/sparcgen/rgcpu.pas
M	compiler/symbase.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas
M	compiler/symtype.pas
M	compiler/systems/t_win16.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/agx86att.pas
M	compiler/x86/agx86int.pas
M	compiler/x86/agx86nsm.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/cpubase.pas
M	compiler/x86/nx86add.pas
M	compiler/x86/nx86cnv.pas
M	compiler/x86/nx86inl.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86att.pas
M	compiler/x86/symx86.pas
M	compiler/x86_64/cpuelf.pas
M	compiler/x86_64/hlcgcpu.pas
M	compiler/x86_64/rax64int.pas
M	compiler/x86_64/win64unw.pas
M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpumat.pas
M	compiler/xtensa/ncpumem.pas
M	compiler/xtensa/racpugas.pas
M	compiler/z80/aasmcpu.pas
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas
M	compiler/z80/aoptcpu.pas
M	compiler/z80/aoptcpub.pas
M	compiler/z80/cgcpu.pas
M	compiler/z80/cpubase.pas
M	compiler/z80/cpupara.pas
M	compiler/z80/nz80add.pas
M	compiler/z80/tgcpu.pas

******************************************************************************
commit 56c58b517d9290198f50e8efa58290a5724ebc0b
Author: florian <florian@freepascal.org>
Date:   Sun Oct 11 09:10:42 2020 +0000

      * is_signed does not check the ordtype but the ranges, so it cannot be used to
        check for valid types for cvtsi2sd/s
    
    git-svn-id: trunk@47083 -

M	compiler/x86/nx86cnv.pas

******************************************************************************
commit 99d3651da964ea05c6baf3929c8f9fe70c8c95d8
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:16 2020 +0000

      * generate simplified code for unary minus when sse/avx is used
    
    git-svn-id: trunk@47082 -

M	compiler/x86/nx86mat.pas

******************************************************************************
commit 23af096ef6c0fa3d0f74666c56b8b54c3b843354
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:16 2020 +0000

      * copy only the instruction table related inc files during make insdat
    
    git-svn-id: trunk@47081 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit a3920d535629614e9d03ec76d143d7d0a8f34167
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:15 2020 +0000

      * proper change information for avx-512 vcvt* instructions
    
    git-svn-id: trunk@47080 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit f284a6eda9e33a6617b958e476e92b4d09e64fcb
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:14 2020 +0000

      * improved (V)MOVA*(V)MOVA*2(V)MOVA* 2 optimization
    
    git-svn-id: trunk@47079 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a8b387a166210f5ca575c65981d4706ea51d7025
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:13 2020 +0000

      + make use of avx-512 instructions vcvtuis2s* if possible
    
    git-svn-id: trunk@47078 -

M	compiler/x86/nx86cnv.pas
M	compiler/x86_64/cpuinfo.pas
M	compiler/x86_64/nx64cnv.pas

******************************************************************************
commit ad8b2eaf8a2225dfa1059870c0e601e89ab8e6eb
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 21:08:12 2020 +0000

      * mm registers 16-31 are also volatile during a call
    
    git-svn-id: trunk@47077 -

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit c2684c0dc35bee9fb91c408187c1fe344af147ab
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 13:50:35 2020 +0000

      * use V* instructions if possible
      * fix i386 compilation
    
    git-svn-id: trunk@47076 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/cgx86.pas

******************************************************************************
commit 00c6d530b56e7a1c52ef4a07d130e6e234825bea
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 13:50:35 2020 +0000

      * test needs delphi mode apparently
    
    git-svn-id: trunk@47075 -

M	tests/test/units/sysutils/testspo.pp

******************************************************************************
commit cf153b0854ebc825c54303fdf943fe42382fb612
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 13:50:34 2020 +0000

      * use (V)XORPS/D for unary minus
    
    git-svn-id: trunk@47074 -

M	compiler/x86/cgx86.pas
M	compiler/x86/nx86mat.pas

******************************************************************************
commit 8e62bf649ee02a9f4486fd2e9340962449a1429e
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 13:23:35 2020 +0000

      * load 0.0 by (V)XORPS/D instead of (V)PXOR in mm registers
    
    git-svn-id: trunk@47073 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/nx86con.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit f3a660212de69847743829a0cac380bf3450a61f
Author: florian <florian@freepascal.org>
Date:   Sat Oct 10 13:23:34 2020 +0000

      * avx-512 has 32 mm registers
    
    git-svn-id: trunk@47072 -

M	compiler/x86/cpubase.pas

******************************************************************************
commit be371d901c436215490ea3a16c4f3fbe90f85b17
Author: michael <michael@freepascal.org>
Date:   Fri Oct 9 11:33:57 2020 +0000

    * test for new split option
    
    git-svn-id: trunk@47069 -

M	.gitattributes
A	tests/test/units/sysutils/testspo.pp

******************************************************************************
commit e4f53a7e4100a9671745a7e5ad1f8ac20d49cf5d
Author: florian <florian@freepascal.org>
Date:   Wed Oct 7 19:48:35 2020 +0000

      * don't do illegal type conversions on GetNextInstructionUsingReg results
    
    git-svn-id: trunk@47063 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c9fcc68ec19dcebaf16dedb4cb0d3d3c69bfe726
Author: florian <florian@freepascal.org>
Date:   Tue Oct 6 19:43:17 2020 +0000

    * enable the compiler to optimize away parts of System.PushExceptObject, if System.get_frame is not implemented, i.e. returning nil
    
    git-svn-id: trunk@47058 -

M	rtl/inc/except.inc

******************************************************************************
commit ab9fa2012b7edc18d637f63cd2cd55c4a78cc0a5
Author: florian <florian@freepascal.org>
Date:   Tue Oct 6 19:43:16 2020 +0000

    * inline more aggressively, if the ie for the initial change re-appears, it must be fixed differently
    
    git-svn-id: trunk@47057 -

M	compiler/ncal.pas

******************************************************************************
commit 722e8d94cde8a8d880d69088b506106413d710da
Author: michael <michael@freepascal.org>
Date:   Tue Oct 6 08:09:50 2020 +0000

    * Error when seek fails
    
    git-svn-id: trunk@47056 -

M	rtl/objpas/sysconst.pp
M	rtl/objpas/sysutils/filutil.inc

******************************************************************************
commit 549bc49c4ae33ae3075dc5d2a8bb452e92ef4cf3
Author: florian <florian@freepascal.org>
Date:   Mon Oct 5 20:11:42 2020 +0000

      + more pxor/vpxor optimizations
    
    git-svn-id: trunk@47054 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 36d21d2d81dce53761c035f1fd68b59d9dd04424
Author: florian <florian@freepascal.org>
Date:   Mon Oct 5 20:11:41 2020 +0000

      + use pxor/vpxor to load 0.0
    
    git-svn-id: trunk@47053 -

M	compiler/x86/nx86con.pas

******************************************************************************
commit e718cb985ebb6cb444455abc48ac674cd3fd44a5
Author: florian <florian@freepascal.org>
Date:   Sun Oct 4 20:50:39 2020 +0000

    * replace some longint by ObjpasInt
    
    git-svn-id: trunk@47047 -

M	rtl/inc/system.inc

******************************************************************************
commit 399552d3509eafa399565e66ab36f3a89fd4665e
Author: pierre <pierre@freepascal.org>
Date:   Sat Oct 3 15:27:57 2020 +0000

      Refactor setting of NoNativeBinaries:
      Added NO_NATIVE_COMPILER_CPU_LIST and NO_NATIVE_COMPILER_OS_LIST
      Set NoNativeBinaries if target CPU is different from source CPU
      and target CPU is in NO_NATIVE_COMPILER_CPU_LIST.
      Set NoNativeBinaries if target OS is different from source OS
      and target CPU is in NO_NATIVE_COMPILER_CPU_LIST.
      Add FORCE_NATIVE_BINARIES variable to be able to overrule
      default behavior of NoNativeBinaries=1
    
    git-svn-id: trunk@47043 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 963fe73d195362fc615e4a8ee08b0534ebb43851
Author: florian <florian@freepascal.org>
Date:   Sat Oct 3 14:51:31 2020 +0000

      + support all XSAVE instructions, resolves #37864
    
    git-svn-id: trunk@47042 -

M	compiler/i386/i386att.inc
M	compiler/i386/i386atts.inc
M	compiler/i386/i386int.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386op.inc
M	compiler/i386/i386prop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086att.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086int.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086op.inc
M	compiler/i8086/i8086prop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664att.inc
M	compiler/x86_64/x8664int.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664op.inc
M	compiler/x86_64/x8664pro.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 0685319be877914bf420f3a47d21dfbb4d8a4ff2
Author: pierre <pierre@freepascal.org>
Date:   Sat Oct 3 14:23:52 2020 +0000

     Treat metadata as data in agppcmpw.pas
    
    git-svn-id: trunk@47041 -

M	compiler/powerpc/agppcmpw.pas

******************************************************************************
commit bb51a2134a6d5b19ca3300a0b7f262feb7b0c834
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Oct 3 01:38:01 2020 +0000

    z80-zxspectrum: fix the the linking order in the bss section, so the startup code doesn't crash when linked with vlink
    
    git-svn-id: trunk@47036 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit e47f44234c68c167b7a6123e56d74a1097ac1869
Author: florian <florian@freepascal.org>
Date:   Fri Oct 2 20:13:17 2020 +0000

      * AVR: MovMov2Mov 2 optimization
    
    git-svn-id: trunk@47035 -

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 3463d469bf0d6c8da57c9157e2592d5b1cb59598
Author: florian <florian@freepascal.org>
Date:   Fri Oct 2 19:40:09 2020 +0000

      * set default processor for i386 to Pentium2
    
    git-svn-id: trunk@47034 -

M	compiler/globals.pas

******************************************************************************
commit 65047cecdb6a57fff0ff84673bd5e70a88be55d0
Author: florian <florian@freepascal.org>
Date:   Thu Oct 1 20:33:03 2020 +0000

      + optimize comparisons of constant pointers
    
    git-svn-id: trunk@47031 -

M	compiler/nadd.pas

******************************************************************************
commit af20b064ed643cd726bea2d5b5a3cc03282e28d0
Author: florian <florian@freepascal.org>
Date:   Thu Oct 1 20:33:03 2020 +0000

      * make framecount and framebufsize dependent on the pointer size
    
    git-svn-id: trunk@47030 -

M	rtl/inc/except.inc

******************************************************************************
commit 1bf58c2a55dfb16d6b000ff62812eae3002614c7
Author: florian <florian@freepascal.org>
Date:   Thu Oct 1 20:33:02 2020 +0000

      + introduce TExitCode
    
    git-svn-id: trunk@47029 -

M	rtl/inc/compproc.inc
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc

******************************************************************************
commit 7e0c21fa5fffcbf548f70ca3d59e436ff3d6a045
Author: pierre <pierre@freepascal.org>
Date:   Thu Oct 1 08:41:03 2020 +0000

     Fix NDS RTL compilation for default armv4 CPU, which does not have CLZ instruction
    
    git-svn-id: trunk@47027 -

M	rtl/nds/system.pp

******************************************************************************
commit 1e4dc56155d14f7531da51fad19b8986bb669b1d
Author: florian <florian@freepascal.org>
Date:   Wed Sep 30 21:18:33 2020 +0000

      * inlinable frame handling dummies for avr
      * inline frame handler if possible
    
    git-svn-id: trunk@47025 -

M	rtl/avr/avr.inc
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc

******************************************************************************
commit 284aca734872cdc6c60e9d5c3b94047907ec81fe
Author: florian <florian@freepascal.org>
Date:   Wed Sep 30 19:20:14 2020 +0000

      + x86: FstpFld2Fst optimization (re-enabled for safe cases)
    
    git-svn-id: trunk@47024 -

M	compiler/x86/aoptx86.pas
M	tests/tbs/tb0519.pp
M	tests/test/tthlp4.pp
M	tests/test/units/sysutils/tfloattostr.pp
M	tests/webtbs/tw25121.pp

******************************************************************************
commit 58bca9cce18f26cd9c7c4a7dadae39995621a53b
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 15:38:39 2020 +0000

     Various Watcom changes to enable compilation of packages and utils
    
    git-svn-id: trunk@47023 -

M	packages/chm/fpmake.pp
M	packages/libgd/src/gd.pas
M	packages/rtl-generics/fpmake.pp
M	packages/rtl-objpas/fpmake.pp
M	packages/rtl-unicode/fpmake.pp
M	utils/fpcreslipo/fpmake.pp
M	utils/fpdoc/fpmake.pp

******************************************************************************
commit 875bb32e0be3e0557ba3d2a1b1bafc12d3c5e197
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 15:22:13 2020 +0000

     Add character, fpwidestring, unicodedata and unicodenumtable units to watcom RTL
    
    git-svn-id: trunk@47022 -

M	rtl/watcom/Makefile
M	rtl/watcom/Makefile.fpc

******************************************************************************
commit 4a6358bfc1c2433ca4a17ff95cec2844b51f7e3e
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 13:50:43 2020 +0000

      * Fix NaN for watcom assembler (C000h is considered as a label, use 0xC000 instead)
      * Also use ApplyAsmSymbolRestrictions for label names (required for units using embedded '.'
      * Add ':' after a label if there is hp^.next is not assigned
    
    git-svn-id: trunk@47018 -

M	compiler/x86/agx86int.pas

******************************************************************************
commit d72170f9a33cc70bff2748a07978964d28526d38
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 12:20:26 2020 +0000

     Fix compilation for watcom RTL
    
    git-svn-id: trunk@47015 -

M	.gitattributes
M	rtl/watcom/sysutils.pp
A	rtl/watcom/tthread.inc

******************************************************************************
commit fa12dfa7b5fc86551e7bbbbccd64300c780a7e96
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 12:18:39 2020 +0000

     Rename pvmt internal type to lower_pvmt for i386-watcom as watcom assembler is not case sensitive
    
    git-svn-id: trunk@47014 -

M	compiler/psystem.pas

******************************************************************************
commit c20b51a80679c899df57fa933ec3d4d32d939520
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 12:17:24 2020 +0000

     Use ApplyAsmSymbolRestrictions function and limit label sie to 247 for watcom assembler
    
    git-svn-id: trunk@47013 -

M	compiler/x86/agx86int.pas

******************************************************************************
commit 64da07da48c3206567b97cbd03872a73206afd54
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 30 12:16:21 2020 +0000

     Add conversion from "$" to "." for i386-watcom target and avoid iteration if no char modification is wanted in ApplyAsmSymbolRestrictions function
    
    git-svn-id: trunk@47012 -

M	compiler/aasmbase.pas

******************************************************************************
commit 69fcacc9487aac44b1bc9b5cc9aef2d219122369
Author: florian <florian@freepascal.org>
Date:   Tue Sep 29 20:59:29 2020 +0000

      * use fld/fst on i386 to copy doubles
    
    git-svn-id: trunk@47009 -

M	compiler/ncgld.pas

******************************************************************************
commit e124b07e868dc1a1441aae5306d5d8cadd1e375d
Author: florian <florian@freepascal.org>
Date:   Tue Sep 29 20:14:27 2020 +0000

    + evaluate typeinfo(<type1>)=/<>typeinfo(<type2>) at compile time, resolves #30260
    
    git-svn-id: trunk@47008 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw30260.pp

******************************************************************************
commit 202976b457fc706bc54091d2c1c3cdc1ab132f17
Author: michael <michael@freepascal.org>
Date:   Mon Sep 28 14:05:12 2020 +0000

    * Fix windows compilation
    
    git-svn-id: trunk@46991 -

M	packages/openssl/src/openssl.pas

******************************************************************************
commit 322d04cdee3e455656296bd2c04357175f41d9d1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Sep 28 14:02:03 2020 +0000

      * regenerated after adding unixtype dependencies
    
    git-svn-id: trunk@46990 -

M	rtl/darwin/Makefile
M	rtl/linux/Makefile

******************************************************************************
commit f3e140fc50d30b617fb1bab28b7e20e7eac13cd3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Sep 28 14:01:55 2020 +0000

      * test for mantis #34543 (already fixed)
    
    git-svn-id: trunk@46988 -

M	.gitattributes
A	tests/webtbs/tw34543.pp

******************************************************************************
commit ce3335affebeac822e3fd9acf8298512325ed696
Author: michael <michael@freepascal.org>
Date:   Mon Sep 28 13:23:43 2020 +0000

    * LibreSSL support
    
    git-svn-id: trunk@46987 -

M	packages/openssl/src/openssl.pas

******************************************************************************
commit 9f8417ba522dddcbf40268f500d7cb3eaec440de
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 27 22:58:01 2020 +0000

    z80: added handling of sections provided by the startup code to the vlink linker script. this fixes executable building, but the resulting executables still don't work at this point
    
    git-svn-id: trunk@46980 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit aa745e031988c17c151427e3f61034b348baac48
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 27 22:55:59 2020 +0000

    z80: re-enabled af_smartlink_sections for vasm which is required for the vasm + vlink combo, partially reverting r46916
    
    git-svn-id: trunk@46979 -

M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 7c195d2062b07943d9bf363702d985ab84fc9d2f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 27 22:52:06 2020 +0000

    z80: cleaned up some tabs vs. spaces indentation mess in the vasm writer. no functional change.
    
    git-svn-id: trunk@46978 -

M	compiler/z80/agz80vasm.pas

******************************************************************************
commit bb92fbafa061f028aded7d3e3a22149b87af31a1
Author: florian <florian@freepascal.org>
Date:   Sun Sep 27 21:05:43 2020 +0000

      patch by J. Gareth Moreton: GetNextInstructionUsingReg drops out earlier, second part of #37526
    
    git-svn-id: trunk@46976 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit eec51afadd209e60c37699ad2cda4b628a6e3060
Author: florian <florian@freepascal.org>
Date:   Sun Sep 27 21:05:42 2020 +0000

      * patch (with little modification) by J. Gareth Moreton: refactor ARM/Aarch64 peephole optimizer, first part of #37526
    
    git-svn-id: trunk@46975 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 7f53d04ffdc6b44800ac1caf9276116754975ef1
Author: florian <florian@freepascal.org>
Date:   Sat Sep 26 22:03:13 2020 +0000

      + xtensa: make use of nsau to implement Bsr*
    
    git-svn-id: trunk@46963 -

M	compiler/options.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas
M	rtl/inc/systemh.inc

******************************************************************************
commit 1c370ccde1767aadb4d89aa9eb48b4ba68a39733
Author: florian <florian@freepascal.org>
Date:   Sat Sep 26 20:12:29 2020 +0000

      + xtensa: make use of float.s instruction
    
    git-svn-id: trunk@46962 -

M	compiler/xtensa/ncpucnv.pas

******************************************************************************
commit 4ced513363c3a2a387b144a2b5639cc331957b02
Author: florian <florian@freepascal.org>
Date:   Sat Sep 26 20:12:28 2020 +0000

      * xtensa-freertos: run python helpers only on non unix by directly calling python
    
    git-svn-id: trunk@46961 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 112f8a41add94fb12a75636a4b45a155725d9b1e
Author: florian <florian@freepascal.org>
Date:   Sat Sep 26 20:12:27 2020 +0000

      * Xtensa: set is_jmp flag so branch optimization works
    
    git-svn-id: trunk@46960 -

M	compiler/aoptobj.pas
M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit aa8fdabe1f0ed4157fef8c25c4a4ef688877a843
Author: florian <florian@freepascal.org>
Date:   Sat Sep 26 15:44:37 2020 +0000

      * xtensa-freertos: patch by Alfred for better tool search, resolves #37308
    
    git-svn-id: trunk@46958 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 1fb7603f615884cb678045ae687636fe27a00da1
Author: florian <florian@freepascal.org>
Date:   Fri Sep 25 20:06:27 2020 +0000

      * x86: ImulMov2Imul optimization
      * x86: apply OptPass1VOP also to vsqrts*
    
    git-svn-id: trunk@46955 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 61da70bb72ebfc5b119b836c6b74cb763740a4cf
Author: florian <florian@freepascal.org>
Date:   Fri Sep 25 20:06:26 2020 +0000

    * do not copy unused paravarsyms
    
    git-svn-id: trunk@46954 -

M	compiler/hlcgobj.pas

******************************************************************************
commit 882ab946ed9db7e860e6eedc3b1659fa1bd276ab
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 25 04:37:44 2020 +0000

    z80-zxspectrum: delete and remove the prt0.asm file. it's not used any more, as it doesn't contain the interrupt code required for stable operation of the target, and this removes sdasz80 dependency from the RTL build process, if another assembler is used by the compiler
    
    git-svn-id: trunk@46950 -

M	.gitattributes
M	rtl/zxspectrum/Makefile
M	rtl/zxspectrum/Makefile.fpc
D	rtl/zxspectrum/prt0.asm

******************************************************************************
commit df6baa888b23c4b43c8d083b68eeff8eedb1983a
Author: florian <florian@freepascal.org>
Date:   Thu Sep 24 20:09:33 2020 +0000

      * another error message changed into a better one
    
    git-svn-id: trunk@46947 -

M	compiler/ngtcon.pas

******************************************************************************
commit a4e520180f0ab00ea3d030a151081c2598c9d39e
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 16:06:49 2020 +0000

     Avoid range check error in a_op_const_reg_reg method when compiled with -CriotR
    
    git-svn-id: trunk@46945 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 0e72cc94f6669825ac24d96cec22cadf16207041
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 15:46:45 2020 +0000

     Set FBuildEngine.Verbose also for -d option
    
    git-svn-id: trunk@46944 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit ea4950ee910bf3508bdc57117e601682571faf63
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 10:14:42 2020 +0000

     Add missing svn:ignore in some directories
    
    git-svn-id: trunk@46942 -

M	.gitignore

******************************************************************************
commit 78dca42b0e30644e0514a9abc0ca62e92933dbe2
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 10:00:53 2020 +0000

     Use sdasz80 instead of sdcc-sdasz80 to assemble prt0.asm, as sdasz80 is used by ppcz80
    
    git-svn-id: trunk@46938 -

M	rtl/zxspectrum/Makefile
M	rtl/zxspectrum/Makefile.fpc

******************************************************************************
commit 85f14ad3577848238a217654db0fe5087bc6dc8e
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 09:49:33 2020 +0000

     Change list of compiled units for msxdos
    
    git-svn-id: trunk@46936 -

M	rtl/msxdos/Makefile
M	rtl/msxdos/Makefile.fpc

******************************************************************************
commit d52aaf63eba440f2d8c8c13ce38c76e88a7f4e7e
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 24 09:48:49 2020 +0000

     msxdos target uses same __fpc_envp symbol as msdos
    
    git-svn-id: trunk@46935 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit dfc485c4f44ff22cab66875a50e9a7e4178f8391
Author: florian <florian@freepascal.org>
Date:   Wed Sep 23 20:25:04 2020 +0000

      * better error message in case of illegal nodes for string constants, resolves #34054
    
    git-svn-id: trunk@46931 -

M	compiler/ngtcon.pas

******************************************************************************
commit 37f1d085104ede10a8118595679d8fce7db34c94
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 23 12:07:06 2020 +0000

     Fix problems in xtensa fpc_setjmp/fpc_longjmp for linux
    
    git-svn-id: trunk@46925 -

M	rtl/xtensa/setjump.inc

******************************************************************************
commit 4de5195a9ac9a3dd0e90af7f93c717a3c6b10cd1
Author: florian <florian@freepascal.org>
Date:   Tue Sep 22 19:51:42 2020 +0000

      + modified patch by J. Gareth Moreton: Aarch64: LDR/STR pairing optimisation, resolves #37580
    
    git-svn-id: trunk@46917 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 74e83e9d8ba5be9c594849ce8ef3caab36ea0700
Author: pierre <pierre@freepascal.org>
Date:   Tue Sep 22 15:44:15 2020 +0000

     Disable af_smartlink_sections option for Z80 vasm and z80asm assemblers, as it leads to errors
    
    git-svn-id: trunk@46916 -

M	compiler/z80/agz80asm.pas
M	compiler/z80/agz80vasm.pas

******************************************************************************
commit ff4e1345ffa0adb4d28fb269aee7b1dc138528fd
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Sep 21 20:17:55 2020 +0000

    * fix for Mantis #37779: use init RTTI instead of full RTTI when copying an array
    + added test
    
    git-svn-id: trunk@46915 -

M	.gitattributes
M	compiler/ninl.pas
A	tests/webtbs/tw37779.pp

******************************************************************************
commit 9d6e34ffc8e4776b8bdf83c522b7c10c621be7bd
Author: florian <florian@freepascal.org>
Date:   Mon Sep 21 19:46:47 2020 +0000

      * compilation on i386 fixed
    
    git-svn-id: trunk@46914 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b55c74070211d90ee90c925b1f6576b07e9c95bd
Author: florian <florian@freepascal.org>
Date:   Mon Sep 21 17:57:19 2020 +0000

      * extended AndMovzToAnd to support more variants
    
    git-svn-id: trunk@46912 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 08b61997ca9e025df4355079a3b58a1db189d736
Author: florian <florian@freepascal.org>
Date:   Mon Sep 21 17:57:18 2020 +0000

      * MovzAnd2Movz* optimization improved
      + MovzAnd2And optimization introduced
    
    git-svn-id: trunk@46911 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6902539bd8fae39fe3a2426ff5d6bd824c31dc55
Author: pierre <pierre@freepascal.org>
Date:   Mon Sep 21 13:43:39 2020 +0000

     Disable ucomplex and matrix units for z80-embedded target
    
    git-svn-id: trunk@46909 -

M	packages/rtl-extra/fpmake.pp

******************************************************************************
commit 0bdc1fdea4812db1a728171fe9148a5fe95d2209
Author: florian <florian@freepascal.org>
Date:   Sun Sep 20 18:57:00 2020 +0000

      * do not set nonlocal for inter-procedural labels, this is not needed, they use
        the jmpbuf to reach the target
    
    git-svn-id: trunk@46907 -

M	compiler/nflw.pas
M	compiler/pexpr.pas
M	compiler/pstatmnt.pas

******************************************************************************
commit 0904ea0c3fc4935d25173ed734e7ac16ed283283
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 20 12:43:49 2020 +0000

      * added missing "end." (fixup for r46904)
    
    git-svn-id: trunk@46906 -

M	tests/tbs/tb0676a.pp

******************************************************************************
commit aa75d39ab5e07a783f97247d544f774a67151579
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 20 12:43:45 2020 +0000

      * don't perform "(x=y) or (z=u)" -> "(x xor y) or (z xor u)" optimization
        if z or u may raise exceptions (mantis #37780)
    
    git-svn-id: trunk@46905 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw37780.pp

******************************************************************************
commit 9f42931eeb56a4073864ecb6a1d0d45d11cfb53f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 20 10:29:51 2020 +0000

      * don't print range check warnings when evaluating inlined explicit typecasts
    
    git-svn-id: trunk@46904 -

M	.gitattributes
M	compiler/ncnv.pas
A	tests/tbs/tb0676a.pp

******************************************************************************
commit e83d214e984bd5e8eb4f3d64fe7c78a3dc0f38a8
Author: florian <florian@freepascal.org>
Date:   Sun Sep 20 08:47:00 2020 +0000

      + allow in ISO mode that { ... } and (* ... *) comments are paired, resolves at least partly #37428
    
    git-svn-id: trunk@46903 -

M	compiler/scanner.pas
M	tests/webtbs/tw37428.pp

******************************************************************************
commit 2c372071fd140265dafc10645cabda2080c57e2e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Sep 19 21:20:07 2020 +0000

    * correctly handle static arrays with a lower index <> 0
    + added test
    
    git-svn-id: trunk@46901 -

M	.gitattributes
M	compiler/ncnv.pas
A	tests/test/tarrconstr16.pp

******************************************************************************
commit 449cc8f152991ccd697dd7eb52dec1e03fa5d478
Author: florian <florian@freepascal.org>
Date:   Sat Sep 19 21:06:11 2020 +0000

      * make use of AllocMem in fpc_dynarray_setlength
    
    git-svn-id: trunk@46900 -

M	rtl/inc/dynarr.inc

******************************************************************************
commit 15141124f4462ec01e052f93aac2ae4c679b5c92
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Sep 19 13:54:25 2020 +0000

    * restore ability to cycle with 3.0.4 (at least until 3.2.2 is released) after r46890
    
    git-svn-id: trunk@46895 -

M	rtl/inc/compproc.inc
M	rtl/inc/dynarr.inc

******************************************************************************
commit b596b71130a1b18e08388c0d5853968043e0deb2
Author: florian <florian@freepascal.org>
Date:   Fri Sep 18 19:28:53 2020 +0000

      * patch by Joe care to make fv more 64 Bit save, resolves #37772
    
    git-svn-id: trunk@46893 -

M	packages/fv/src/sysmsg.pas
M	packages/fv/src/views.pas
M	packages/fv/src/w32smsg.inc

******************************************************************************
commit bf1eae7bd67e6fb7d3c29733068083f66f4a8762
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Sep 18 15:00:17 2020 +0000

    * small formatting adjustments for the sake of consistency
    
    git-svn-id: trunk@46892 -

M	compiler/ncnv.pas

******************************************************************************
commit 2ff18e48a0dbc1fa9ba54c0ce9f0bf670ddc7d80
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Sep 18 15:00:15 2020 +0000

    * fix for Mantis #36909: apply patch by Ryan Joseph so that array constructors can be used for static arrays as well.
    + added test
    
    git-svn-id: trunk@46891 -

M	.gitattributes
M	compiler/defcmp.pas
M	compiler/ncnv.pas
A	tests/test/tarrconstr10.pp
A	tests/test/tarrconstr11.pp
A	tests/test/tarrconstr12.pp
A	tests/test/tarrconstr13.pp
A	tests/test/tarrconstr14.pp
A	tests/test/tarrconstr15.pp
A	tests/test/tarrconstr9.pp

******************************************************************************
commit d3e18ccb5eef80f35ccaab8f8551cdbc7acd9f7d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Sep 18 15:00:10 2020 +0000

    * fix for Mantis #37221: apply adjusted patch by Ondrej Pokorny to allow the use of Copy() on open array parameters (the result will be a dynamic array)
    + added test
    
    git-svn-id: trunk@46890 -

M	.gitattributes
M	compiler/ninl.pas
M	rtl/inc/compproc.inc
M	rtl/inc/dynarr.inc
A	tests/test/tarray22.pp

******************************************************************************
commit de180d765636fe651f86a239e98b0ebb5538041f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 17 20:51:25 2020 +0000

    * m68k: fix index register usage in memory references, when the index is 8 or 16 bit wide and unsigned
    
    git-svn-id: trunk@46886 -

M	compiler/m68k/n68kmem.pas

******************************************************************************
commit 60bd9c5ba094da176c97adbe10f61d4ec878ec2e
Author: florian <florian@freepascal.org>
Date:   Thu Sep 17 19:58:55 2020 +0000

      * write a proper error message if types are read/written which are not supported in iso mode, resolves #37763
    
    git-svn-id: trunk@46885 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ninl.pas
A	tests/webtbf/tw37763.pp

******************************************************************************
commit f316121d53dcb540390ca8fcda64a67e53cf0f17
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 16 20:44:44 2020 +0000

      Add handling of extra parameters, using eval if equal sign is found.
      + Add TMP_DIR variable and use it.
      * Only remove temp files if verbose is not set.
    
    git-svn-id: trunk@46883 -

M	rtl/unix/scripts/check_rtl_types.sh

******************************************************************************
commit 2b023c62c5bd7877c890a7701b38fd3275d0af93
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 16 20:40:36 2020 +0000

     Do not set __USE_LARGEFILE64 macro for sparc CPU, as it does not seem to be used for regular linux kernels
    
    git-svn-id: trunk@46882 -

M	rtl/linux/ptypes.inc

******************************************************************************
commit 16bdee8fcb093dee4c57d49bea4b6848892c0b5f
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 16 20:37:04 2020 +0000

     Update revision.inc after commit #46877
    
    git-svn-id: trunk@46881 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 660cfc49e86ae4b141544a526281883538397a49
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 16 12:41:44 2020 +0000

     Add gcc specific options -mabi=32/-mabi=64 for mips CPU
    
    git-svn-id: trunk@46877 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 1a4fdc7313a85c25efdf0279a422dbe26fecd34d
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Sep 15 21:36:01 2020 +0000

      * fix for broken wince compilation after r46863
    
    git-svn-id: trunk@46874 -

M	rtl/win/sysfile.inc

******************************************************************************
commit 288c7e3c9eeea0b079dafe0f73c98c23426eb968
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun Sep 13 22:08:18 2020 +0000

      * Do_IsDevice treats pipes and sockets the same way as character devices
    
    git-svn-id: trunk@46863 -

M	rtl/aix/sysos.inc
M	rtl/beos/sysos.inc
M	rtl/bsd/sysos.inc
M	rtl/emx/sysfile.inc
M	rtl/gba/sysfile.inc
M	rtl/haiku/sysos.inc
M	rtl/linux/sysos.inc
M	rtl/nds/sysfile.inc
M	rtl/os2/sysfile.inc
M	rtl/solaris/sysos.inc
M	rtl/win/sysfile.inc
M	rtl/win16/sysfile.inc

******************************************************************************
commit 2c54477807cf33e8ac18cecb469969a65bdf6797
Author: florian <florian@freepascal.org>
Date:   Sun Sep 13 19:35:09 2020 +0000

      * patch by J. Gareth Moreton: introduce RemoveInstruction and make as much as possible use of RemoveCurrentP, resolves #37399
    
    git-svn-id: trunk@46862 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7f8f733963df9d4afa363f206ee71aa50f619cf7
Author: florian <florian@freepascal.org>
Date:   Sat Sep 12 21:32:11 2020 +0000

      * RiscV32 correctly set operands of div/mod operations, resolves #37743
    
    git-svn-id: trunk@46859 -

M	compiler/riscv32/nrv32mat.pas

******************************************************************************
commit d7fe9914a79453141c419fdfa3e9bac379868fcc
Author: florian <florian@freepascal.org>
Date:   Sat Sep 12 21:23:57 2020 +0000

      + introduce tcgobj.a_loadfpu_reg_intreg
      + make use of it in tcgtypeconvnode.second_nothing
      + Xtensa: implementation of a_tcgcpu.a_loadfpu_intreg_reg and tcgcpu.a_loadfpu_reg_intreg
    
    git-svn-id: trunk@46858 -

M	compiler/cgobj.pas
M	compiler/fpcdefs.inc
M	compiler/hlcg2ll.pas
M	compiler/ncgcnv.pas
M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 2f21f5ae93a99d573bbfca779593100b70db1f5a
Author: yury <jura@cp-lab.com>
Date:   Sat Sep 12 10:13:00 2020 +0000

    * Reverted r46836, since it does not work as expected for yet unknown reason.
    
    git-svn-id: trunk@46856 -

M	compiler/rgobj.pas

******************************************************************************
commit f8b17c410b1e347f39de7d988b5f95336b73a1a4
Author: florian <florian@freepascal.org>
Date:   Fri Sep 11 21:51:48 2020 +0000

      + Xtensa: make use of ABS.S
      + extended test for abs(...) with single tests
    
    git-svn-id: trunk@46852 -

M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/ncpuinl.pas
M	tests/test/units/system/tabs.pp

******************************************************************************
commit d1521e80616f2f52b6c8fa6a1db55f872e3e763c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Sep 11 21:24:59 2020 +0000

    * a classrefdef might also be created with a forwarddef, so handle that correctly
    
    git-svn-id: trunk@46850 -

M	compiler/symdef.pas

******************************************************************************
commit b5abefe03ed357ffdc0e7c69f76827899c9fb87f
Author: yury <jura@cp-lab.com>
Date:   Fri Sep 11 13:32:18 2020 +0000

    * Moved spilling of registers which have the initial memory location and are used only once to a stage after coalescing is done. This produces a better code.
    
    git-svn-id: trunk@46836 -

M	compiler/rgobj.pas

******************************************************************************
commit c06744b62b251146be8ecab4bfb42cc5fcbbc169
Author: yury <jura@cp-lab.com>
Date:   Fri Sep 11 12:36:31 2020 +0000

    * Include stack location of spilled variables in the assembler output.
    
    git-svn-id: trunk@46835 -

M	compiler/rgobj.pas

******************************************************************************
commit 8e74a04dc5fb758057bf1cc3d856d7596123e698
Author: florian <florian@freepascal.org>
Date:   Thu Sep 10 20:53:11 2020 +0000

      * Xtensa: stack size calculation for the call0 abi fixed
    
    git-svn-id: trunk@46833 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupara.pas

******************************************************************************
commit ddf26cb3d2aa757a578531e5f59ba2bef189fdbf
Author: florian <florian@freepascal.org>
Date:   Wed Sep 9 21:08:04 2020 +0000

      * Xtensa: trgcpu.do_spill_op fixed
      * cleanup
    
    git-svn-id: trunk@46820 -

M	compiler/xtensa/cpupi.pas
M	compiler/xtensa/rgcpu.pas

******************************************************************************
commit 27b4f3df60156766fee4f681dac5f3d784de856f
Author: florian <florian@freepascal.org>
Date:   Wed Sep 9 21:08:03 2020 +0000

      * Xtensa: taicpu.spilling_get_operation_type improved
    
    git-svn-id: trunk@46819 -

M	compiler/xtensa/aasmcpu.pas

******************************************************************************
commit 277d98431c0aa3a72664b639fcc02124bf870a14
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Sep 9 15:15:52 2020 +0000

    * linux: use ugetrlimit syscall on m68k for rlimits retrieval. this fixes fpgetrlimit() call, and stack checking on Linux/m68k (tstack.pp test), at least on anything newer than kernel 2.4+ (2001)
    
    git-svn-id: trunk@46811 -

M	rtl/linux/osdefs.inc

******************************************************************************
commit b49aa071ca8e4d2396afee7a85cdf34695a664d8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Sep 9 14:58:45 2020 +0000

    * linux: fix some formatting in ostypes.inc, no functional change
    
    git-svn-id: trunk@46810 -

M	rtl/linux/ostypes.inc

******************************************************************************
commit c8f592d26055bf2ad05afb611fc5bef0522a732e
Author: florian <florian@freepascal.org>
Date:   Tue Sep 8 20:30:59 2020 +0000

      * RiscV32: corrected tcpuparamanager.getcgtempparaloc, resolves #37709
      * cleanup
    
    git-svn-id: trunk@46803 -

M	compiler/riscv32/cpupara.pas

******************************************************************************
commit d34168742e56e3b6e9f38ac2961eec23333f0317
Author: yury <jura@cp-lab.com>
Date:   Tue Sep 8 20:17:50 2020 +0000

    * Fixed r46801 for the case of int64 params with a single paralocation.
    
    git-svn-id: trunk@46802 -

M	compiler/ncgutil.pas

******************************************************************************
commit e159c9296703c2ae67c48efbab431db049467474
Author: yury <jura@cp-lab.com>
Date:   Tue Sep 8 18:50:58 2020 +0000

    * Do not use stack parameter location for spilling if its size is less than the register size for all CPU targets except x86.
    
    git-svn-id: trunk@46801 -

M	compiler/ncgutil.pas

******************************************************************************
commit 93eef547ae2ef3996a290ad16ce73d783f339977
Author: florian <florian@freepascal.org>
Date:   Mon Sep 7 20:28:38 2020 +0000

      * improve call0 calling conventions
    
    git-svn-id: trunk@46797 -

M	compiler/psub.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 60c23daa91f9ed7154c8566e86113aee573e53f7
Author: yury <jura@cp-lab.com>
Date:   Mon Sep 7 12:54:20 2020 +0000

    * Fixed the stack parameters optimization (r46776) for big endian CPUs.
    
    git-svn-id: trunk@46794 -

M	compiler/ncgutil.pas
M	compiler/rgobj.pas

******************************************************************************
commit cdf1f710e58de512d1e3504b5cd61b66cfebc49b
Author: florian <florian@freepascal.org>
Date:   Sun Sep 6 20:23:25 2020 +0000

      + C objects for for xtensa-freertos with call0 abi, build with:
    
          make create_c_objects TEST_CCOMPILER=xtensa-lx106-elf-gcc TEST_ABI=call0 TEST_FPC=fpc TEST_CPU_TARGET=xtensa TEST_OS_TARGET=freertos "TEST_CFLAGS=-O3 -mlongcalls"
    
        using xtensa-lx106-elf-gcc (crosstool-NG crosstool-ng-1.22.0-100-ge567ec7) 5.2.0
    
    git-svn-id: trunk@46790 -

M	.gitattributes
A	tests/test/cg/obj/freertos/xtensa-call0/cpptcl1.o
A	tests/test/cg/obj/freertos/xtensa-call0/cpptcl2.o
A	tests/test/cg/obj/freertos/xtensa-call0/ctest.o
A	tests/test/cg/obj/freertos/xtensa-call0/tcext3.o
A	tests/test/cg/obj/freertos/xtensa-call0/tcext4.o
A	tests/test/cg/obj/freertos/xtensa-call0/tcext5.o
A	tests/test/cg/obj/freertos/xtensa-call0/tcext6.o

******************************************************************************
commit 02df6283998d2b90f4f4ab94c8068f24f3159031
Author: florian <florian@freepascal.org>
Date:   Sun Sep 6 20:23:23 2020 +0000

      * regenerated
    
    git-svn-id: trunk@46789 -

M	tests/Makefile

******************************************************************************
commit 9337b2a3acf2ffdc6a43077a4902e71e7f4f616f
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:32 2020 +0000

      * Xtensa: handle references with offset only properly
    
    git-svn-id: trunk@46784 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 243300c85fb465f5cc250bc3574667ba75dd8b5f
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:31 2020 +0000

      * more ABI compliant parameter passing
    
    git-svn-id: trunk@46783 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit aea85fcd66002e9c80162781f6d9b3458f4c5a75
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:30 2020 +0000

      * Xtensa-freeRTOS: fix linking against libc
    
    git-svn-id: trunk@46782 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 8ef63723407a4467752d2c482d92cae4ec67100f
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:29 2020 +0000

      * Xtensa: tcgcpu.g_concatcopy makes use of loop extensions if available
    
    git-svn-id: trunk@46781 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit 451bb09e8f570a00db9949f7b6e3ed81652a2ec8
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:28 2020 +0000

      * Xtensa: tcgcpu.g_concatcopy uses OC_NE so the branch requires one instruction less
    
    git-svn-id: trunk@46780 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 1edf99c324592b9d220984f35b754ccb8b52eff9
Author: florian <florian@freepascal.org>
Date:   Sat Sep 5 20:25:28 2020 +0000

      * Xtensa: tcpuunaryminusnode.second_float fixed for double
    
    git-svn-id: trunk@46779 -

M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit 71fcb74e956c0022724c7428c171146994bdf2ef
Author: yury <jura@cp-lab.com>
Date:   Sat Sep 5 18:39:09 2020 +0000

    * Fixed r46776: With -O3 do not "coalesce" spilled nodes if the initial location is set.
    
    git-svn-id: trunk@46777 -

M	compiler/rgobj.pas

******************************************************************************
commit c2dc342c556e5fd9a6db27b7de8f12e193b0fbb0
Author: yury <jura@cp-lab.com>
Date:   Sat Sep 5 18:20:18 2020 +0000

    * Use the initial location of stack parameters as a spilling location if spilling is needed. This leads to the following optimizations:
      - no spill temp is allocated;
      - no load of a stack parameter to a spill temp;
      - if a stack parameter is used only once do not preload it to a register. The parameter can be accessed directly in the stack if the target CPU supports this.
    
    git-svn-id: trunk@46776 -

M	compiler/ncgutil.pas
M	compiler/rgobj.pas

******************************************************************************
commit acef1e22d36eb351e2d9e7bf7b3c8929a894d118
Author: yury <jura@cp-lab.com>
Date:   Sat Sep 5 16:06:41 2020 +0000

    * Improved output of spilling statistics:
      - Do not use count_uses, since weight already represents a usage count of a register.
      - Do not count spills of registers with weight less than 100.
    
    git-svn-id: trunk@46775 -

M	compiler/rgobj.pas

******************************************************************************
commit 23956e9f10e8bad74b4521ae2db58b2d75b9d6d6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 5 12:25:13 2020 +0000

      * prevent quadratic complexity in the size of the inheritance chain when
        comparing objectdefs for equality
    
    git-svn-id: trunk@46774 -

M	compiler/defcmp.pas

******************************************************************************
commit cc315e0ac7d0022197a7b49f4473ab219c3aa6b7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 5 12:25:09 2020 +0000

      * fix tw3930 after r37927
       o "unique" class (and interface) type aliases should actually not exist at
         all except for overload resolution. All the rest (VMT, UUID, RTTI, ...)
         should be taken from the aliased class/interface
       o there is one Delphi-incompatibily left after this change, but it shouldn't
         matter: tw8180 does not compile if you change the declaration to
         "tcl=class(TInterfacedObject,XStr,iinterface)", while Kylix does compile
         that. It doesn't really matter though, because in Kylix this actually
         adds iinterface twice as implemented interface, so there is no point
         in accepting this.
    
    git-svn-id: trunk@46773 -

M	compiler/ncgrtti.pas
M	compiler/ncgvmt.pas
M	compiler/pdecl.pas
M	compiler/symdef.pas
M	compiler/symtable.pas
M	tests/webtbs/tw29367.pp
M	tests/webtbs/tw8180.pp

******************************************************************************
commit 965f759c0df8ec5383a0f0f6fad9b5203d86d99a
Author: florian <florian@freepascal.org>
Date:   Fri Sep 4 20:58:14 2020 +0000

      * Xtensa: arrays are always passed as by reference but still returned in up to 4 registers
    
    git-svn-id: trunk@46770 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit b2177fb50e628d3a1fccde2245428b431940ca4b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Sep 4 15:44:23 2020 +0000

    * fix for Mantis #37650: apply adjusted patch by Ryan Joseph do not range check the length of ShortStrings if their length parameter is based on a generic constant
    + added test
    
    git-svn-id: trunk@46766 -

M	.gitattributes
M	compiler/pexpr.pas
A	tests/webtbs/tw37650.pp

******************************************************************************
commit 9a7e9771677176ee2e84883424ce146a95a4f095
Author: florian <florian@freepascal.org>
Date:   Fri Sep 4 15:37:01 2020 +0000

      * replace tcaldefs.inc by cpudefs.inc
    
    git-svn-id: trunk@46765 -

M	.gitattributes
M	tests/test/cg/cpudefs.inc
D	tests/test/cg/tcaldefs.inc

******************************************************************************
commit 28e2fae09d4580c6df1cf1a3f726c19fbe8cdc91
Author: florian <florian@freepascal.org>
Date:   Fri Sep 4 15:33:29 2020 +0000

      + forgotten file
    
    git-svn-id: trunk@46764 -

M	.gitattributes
A	tests/test/cg/cpudefs.inc

******************************************************************************
commit 03778f9b7f74d53acba2c9368931202b0b543e08
Author: florian <florian@freepascal.org>
Date:   Thu Sep 3 21:02:27 2020 +0000

      * unified settings for CPU "size"
    
    git-svn-id: trunk@46757 -

M	tests/test/cg/tcalcla1.pp
M	tests/test/cg/tcalcst1.pp
M	tests/test/cg/tcalcst2.pp
M	tests/test/cg/tcalcst3.pp
M	tests/test/cg/tcalcst4.pp
M	tests/test/cg/tcalcst5.pp
M	tests/test/cg/tcalcst6.pp
M	tests/test/cg/tcalcst7.pp
M	tests/test/cg/tcalcst8.pp
M	tests/test/cg/tcalfun1.pp
M	tests/test/cg/tcalfun2.pp
M	tests/test/cg/tcalfun3.pp
M	tests/test/cg/tcalfun4.pp
M	tests/test/cg/tcalfun6.pp
M	tests/test/cg/tcalfun7.pp
M	tests/test/cg/tcalfun8.pp
M	tests/test/cg/tcalobj1.pp
M	tests/test/cg/tcalobj2.pp
M	tests/test/cg/tcalobj3.pp
M	tests/test/cg/tcalobj4.pp
M	tests/test/cg/tcalobj6.pp
M	tests/test/cg/tcalobj7.pp
M	tests/test/cg/tcalval1.pp
M	tests/test/cg/tcalval2.pp
M	tests/test/cg/tcalval3.pp
M	tests/test/cg/tcalval4.pp
M	tests/test/cg/tcalval5.pp
M	tests/test/cg/tcalval7.pp
M	tests/test/cg/tcalval8.pp
M	tests/test/cg/tcalvar1.pp
M	tests/test/cg/tcalvar2.pp
M	tests/test/cg/tcalvar3.pp
M	tests/test/cg/tcalvar4.pp
M	tests/test/cg/tcalvar5.pp
M	tests/test/cg/tcalvar6.pp
M	tests/test/cg/tcalvar7.pp
M	tests/test/cg/tcalvar8.pp
M	tests/test/cg/tsubst.pp
M	tests/test/cg/tvec.pp

******************************************************************************
commit 1e38369d06eea6c5e8c7fbda743b6af27d147a62
Author: florian <florian@freepascal.org>
Date:   Wed Sep 2 20:47:53 2020 +0000

      * Xtensa: set expectloc of not nodes correctly
    
    git-svn-id: trunk@46752 -

M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit 1cbdc9cc9aadd23470954741b89771f417014e35
Author: florian <florian@freepascal.org>
Date:   Tue Sep 1 20:32:45 2020 +0000

      * enable initialization of exceptions and threading on FreeRTOS
    
    git-svn-id: trunk@46743 -

M	rtl/freertos/system.pp

******************************************************************************
commit 2dcb31efcea8273af940376a91f35bf8639bc722
Author: florian <florian@freepascal.org>
Date:   Tue Sep 1 20:32:44 2020 +0000

      + dummy implementation for FreeRTOS threading support
    
    git-svn-id: trunk@46742 -

M	rtl/freertos/systhrd.inc

******************************************************************************
commit d5ce344b67a811e9360b47ee0f02cbeeebd44953
Author: florian <florian@freepascal.org>
Date:   Mon Aug 31 21:01:26 2020 +0000

      * stack size estimation again improved
    
    git-svn-id: trunk@46739 -

M	compiler/xtensa/cpupi.pas

******************************************************************************
commit d0c9b4f982beb1bd90eb8f693d4d0ff6b80b92dd
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Aug 31 06:41:38 2020 +0000

    sql parser: identifier can start with the "_" character - test case
    
    git-svn-id: trunk@46738 -

M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 39c8d5c635d21c04fed3cacfe7cfb29a68e2818f
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Aug 31 06:39:02 2020 +0000

    sql parser: identifier can start with the "_" character
    
    git-svn-id: trunk@46737 -

M	packages/fcl-db/src/sql/fpsqlscanner.pp

******************************************************************************
commit 4407670d15bd4110dc758305a4d74923a3710f89
Author: florian <florian@freepascal.org>
Date:   Sun Aug 30 21:32:45 2020 +0000

      * Xtensa: fix operand size and location handling in TCPUAddNode.second_cmp
    
    git-svn-id: trunk@46735 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 6879a16cc33d649b0084668fb59e9775f2f9d966
Author: florian <florian@freepascal.org>
Date:   Sun Aug 30 20:54:00 2020 +0000

      * Xtensa: rewrote parameter handling
      * Xtensa: aggregate types up to 16 bytes are returned in registers
    
    git-svn-id: trunk@46734 -

M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit b36597c76ae267ba6b245209b1bd3e14e6eaff5e
Author: florian <florian@freepascal.org>
Date:   Sun Aug 30 20:53:59 2020 +0000

      * better calculation of estimated stack frame size
    
    git-svn-id: trunk@46733 -

M	compiler/ncal.pas
M	compiler/nld.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 867ed59459168b90f10f42cb7d9b2450347fe61c
Author: florian <florian@freepascal.org>
Date:   Sat Aug 29 20:24:32 2020 +0000

      * Xtensa: various stack handling fixes
    
    git-svn-id: trunk@46732 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 2c00016fdde15638a0737f51c75582409eea4e12
Author: florian <florian@freepascal.org>
Date:   Sat Aug 29 20:24:31 2020 +0000

      + Xtensa: reused constant pool entries if possible
    
    git-svn-id: trunk@46731 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 55e6ffb428b5990d330179053f2547e5812e5a5a
Author: florian <florian@freepascal.org>
Date:   Sat Aug 29 20:24:30 2020 +0000

      + common include file for tcal*.pp tests to define cpusmall
    
    git-svn-id: trunk@46730 -

M	.gitattributes
M	tests/test/cg/tcalcla1.pp
M	tests/test/cg/tcalcst1.pp
M	tests/test/cg/tcalcst2.pp
M	tests/test/cg/tcalcst3.pp
M	tests/test/cg/tcalcst4.pp
M	tests/test/cg/tcalcst5.pp
M	tests/test/cg/tcalcst6.pp
M	tests/test/cg/tcalcst7.pp
M	tests/test/cg/tcalcst8.pp
A	tests/test/cg/tcaldefs.inc
M	tests/test/cg/tcalfun1.pp
M	tests/test/cg/tcalfun2.pp
M	tests/test/cg/tcalfun3.pp
M	tests/test/cg/tcalfun4.pp
M	tests/test/cg/tcalfun6.pp
M	tests/test/cg/tcalfun7.pp
M	tests/test/cg/tcalfun8.pp
M	tests/test/cg/tcalobj1.pp
M	tests/test/cg/tcalobj2.pp
M	tests/test/cg/tcalobj3.pp
M	tests/test/cg/tcalobj4.pp
M	tests/test/cg/tcalobj6.pp
M	tests/test/cg/tcalobj7.pp
M	tests/test/cg/tcalval1.pp
M	tests/test/cg/tcalval2.pp
M	tests/test/cg/tcalval3.pp
M	tests/test/cg/tcalval4.pp
M	tests/test/cg/tcalval5.pp
M	tests/test/cg/tcalval7.pp
M	tests/test/cg/tcalval8.pp
M	tests/test/cg/tcalvar1.pp
M	tests/test/cg/tcalvar2.pp
M	tests/test/cg/tcalvar3.pp
M	tests/test/cg/tcalvar4.pp
M	tests/test/cg/tcalvar5.pp
M	tests/test/cg/tcalvar6.pp
M	tests/test/cg/tcalvar7.pp
M	tests/test/cg/tcalvar8.pp

******************************************************************************
commit 3eb7a130885beda849b90b73e4cb54cc3c92c711
Author: florian <florian@freepascal.org>
Date:   Fri Aug 28 20:18:36 2020 +0000

      + Xtensa: implemented tcpuparamanager.ret_in_param according to API
      * fixed passing of variant parameters
    
    git-svn-id: trunk@46728 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit fd0515344cd7b29f9b3cded698d44cbea3e30ebc
Author: florian <florian@freepascal.org>
Date:   Fri Aug 28 20:18:35 2020 +0000

      * Xtensa: record alignment is upto 8 bytes done
    
    git-svn-id: trunk@46727 -

M	compiler/systems/i_freertos.pas

******************************************************************************
commit 292574f3fc2bd068c68d7fba9425954ca3fa6eb0
Author: florian <florian@freepascal.org>
Date:   Fri Aug 28 20:18:35 2020 +0000

      * Xtensa: fix single<>single
    
    git-svn-id: trunk@46726 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit f4e27dcfb655923b02424008658622cbc36f48ba
Author: florian <florian@freepascal.org>
Date:   Fri Aug 28 20:18:34 2020 +0000

      + created xtensa-freertos object files using gcc xtensa-esp32-elf-gcc (crosstool-NG esp-2019r2) 8.2.0 with:
        make TEST_CCOMPILER=xtensa-esp32-elf-gcc create_c_objects TEST_FPC=fpc TEST_ABI=windowed TEST_OS_TARGET=freertos TEST_CPU_TARGET=xtensa TEST_SUBARCH=lx6 TEST_CFLAGS=-mlongcalls
    
    git-svn-id: trunk@46725 -

M	.gitattributes
A	tests/test/cg/obj/freertos/xtensa-windowed/cpptcl1.o
A	tests/test/cg/obj/freertos/xtensa-windowed/cpptcl2.o
A	tests/test/cg/obj/freertos/xtensa-windowed/ctest.o
A	tests/test/cg/obj/freertos/xtensa-windowed/tcext3.o
A	tests/test/cg/obj/freertos/xtensa-windowed/tcext4.o
A	tests/test/cg/obj/freertos/xtensa-windowed/tcext5.o
A	tests/test/cg/obj/freertos/xtensa-windowed/tcext6.o

******************************************************************************
commit 47d6699a2ee7a439b7bf02c4b53ed1f3638b2d99
Author: florian <florian@freepascal.org>
Date:   Thu Aug 27 21:31:31 2020 +0000

      * Xtensa: some issues with large parameters fixed
    
    git-svn-id: trunk@46720 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit de7cb543e625d9b911dafb6bb2cb003ba2d55449
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 27 20:35:25 2020 +0000

     Move dbugsrv.pp example program from fcl-base/fpmake.pp to fcl-process/fpmake.pp where the source really is
    
    git-svn-id: trunk@46719 -

M	packages/fcl-base/fpmake.pp
M	packages/fcl-process/fpmake.pp

******************************************************************************
commit 250c0750a2ab541cb22a57490ef1c2dab64238f8
Author: florian <florian@freepascal.org>
Date:   Wed Aug 26 21:03:42 2020 +0000

      * Xtensa: several issues with parameter passing of the windowed api fixed
    
    git-svn-id: trunk@46708 -

M	compiler/psub.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas
M	compiler/xtensa/symcpu.pas

******************************************************************************
commit 1041bc5a17a99b5584d67b523442429d5febe323
Author: florian <florian@freepascal.org>
Date:   Wed Aug 26 21:01:38 2020 +0000

      * made test more verbose
    
    git-svn-id: trunk@46707 -

M	tests/test/cg/taddreal1.pp

******************************************************************************
commit f4ded560cca46d7230e612511bf63349ba4ab3a1
Author: florian <florian@freepascal.org>
Date:   Wed Aug 26 21:01:00 2020 +0000

      * Xtensa: OP_NOT fixed
    
    git-svn-id: trunk@46706 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit f30f62231f1231664b155cbff22f37ad60ad78b5
Author: florian <florian@freepascal.org>
Date:   Tue Aug 25 21:39:40 2020 +0000

      * reverted 46417: if a assembler subroutine needs an entry instruction, it should be added explicitly
    
    git-svn-id: trunk@46696 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 6e25a014e636af31e6985d017fa63455312b9a98
Author: florian <florian@freepascal.org>
Date:   Tue Aug 25 21:39:39 2020 +0000

      * Xtensa: force correct location into a register in tcpunotnode.second_boolean
    
    git-svn-id: trunk@46695 -

M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit 3c6c403b7b8b289f64fbb909539e6b4c71e75319
Author: florian <florian@freepascal.org>
Date:   Tue Aug 25 21:39:38 2020 +0000

      * Xtensa-FreeRTOS: use setjmp/longjmp provided by the Xtensa libraries, we
        have to link against them anyways
    
    git-svn-id: trunk@46694 -

M	rtl/xtensa/setjump.inc
M	rtl/xtensa/setjumph.inc

******************************************************************************
commit 5aa3da26f5ed043a0eb93cf4b7bcb9e09b4196d7
Author: florian <florian@freepascal.org>
Date:   Tue Aug 25 21:39:38 2020 +0000

      * fix test for targets with little memory
    
    git-svn-id: trunk@46693 -

M	tests/test/opt/tcse2.pp

******************************************************************************
commit 836a932b9ab9a993bf4c88db06d08e037bec2453
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 25 15:15:51 2020 +0000

     Move z80 specific -Sf options from rtl.cfg to system.cfg, as -Sf options are only accepted when compiliing system unit
    
    git-svn-id: trunk@46691 -

M	rtl/embedded/rtl.cfg
M	rtl/embedded/system.cfg

******************************************************************************
commit d4c9e1f26047eaf2b6a6f339db190d82a93f9975
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 25 13:29:16 2020 +0000

     Replace outdated cgop2string function by tcgsize2str function from cgbase unit to fix EXTDEBUG cycle on powerpc64le-linux
    
    git-svn-id: trunk@46689 -

M	compiler/powerpc64/cgcpu.pas
M	compiler/powerpc64/hlcgcpu.pas
M	compiler/ppcgen/cgppc.pas
M	compiler/riscv/cgrv.pas
M	compiler/riscv64/hlcgcpu.pas

******************************************************************************
commit 46c354ae583e0e983ffa0bca2d46402108c6cc9e
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 25 13:27:53 2020 +0000

     Fix EXTDEBUG code: tai_comment requires use of strpnew function with constant string
    
    git-svn-id: trunk@46688 -

M	compiler/powerpc64/nppcadd.pas

******************************************************************************
commit 03b147eef8abda8567224e3c91f4c17afef584ec
Author: florian <florian@freepascal.org>
Date:   Tue Aug 25 12:45:06 2020 +0000

      * compilation fixed
    
    git-svn-id: trunk@46685 -

M	rtl/freertos/xtensa/esp32.pp

******************************************************************************
commit c73c98d995bb251f0d9b504eb638e6f2d7b5deb2
Author: florian <florian@freepascal.org>
Date:   Mon Aug 24 21:02:09 2020 +0000

      * Xtensa FreeRTOS: unified haltproc
    
    git-svn-id: trunk@46679 -

M	rtl/freertos/xtensa/esp32.pp
M	rtl/freertos/xtensa/esp8266.pp

******************************************************************************
commit 03a0e6e82f4c6616fe6215e8a241b9aba7b00c23
Author: florian <florian@freepascal.org>
Date:   Mon Aug 24 21:02:08 2020 +0000

      * Xtensa: fixed TCPUAddNode.second_cmpsmallset
    
    git-svn-id: trunk@46678 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 3208929e176a2e6664f803ccb6db0fa03b22c246
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 23 21:11:13 2020 +0000

      * add Xcode-11.0 as LLVM target version versin
    
    git-svn-id: trunk@46676 -

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 453bfcd37094c40c7baafdfe477eaa137a3eaa43
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 23 21:11:09 2020 +0000

      * emit the correct declaration for procdefs used to force a procname in LLVM
       o fixes lazarus startup on macOS/AArch64 when compiled with the LLVM cg
    
    git-svn-id: trunk@46675 -

M	compiler/jvm/njvmcal.pas
M	compiler/llvm/nllvmcal.pas
M	compiler/ncal.pas
M	compiler/ncgcal.pas

******************************************************************************
commit 27fbf8c91e97f06d972c43315f2fa9c2fb6d2b88
Author: florian <florian@freepascal.org>
Date:   Sun Aug 23 19:13:19 2020 +0000

      * Xtensa: tcpunotnode.second_boolean fixed
    
    git-svn-id: trunk@46672 -

M	compiler/ncgutil.pas
M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit ea2ae3b8f0a677dbda1288f158eab2e57379b0f4
Author: florian <florian@freepascal.org>
Date:   Sun Aug 23 14:17:01 2020 +0000

      + Xtensa: use extui for and with constants
    
    git-svn-id: trunk@46664 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit ac18c0090a4b12f532378b3860a85d57c3444fbd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 23 11:31:16 2020 +0000

      * non-zero exit code on failure
    
    git-svn-id: trunk@46661 -

M	tests/webtbs/tw37465.pp

******************************************************************************
commit d1d3d7cd089fdf840bae5269fa4655f6c8054884
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 23 11:27:59 2020 +0000

      * never create a regular temp for inline parameters that can be modified by
        the caller (mantis #37465)a
       o in theory, the regular checks for doing so should never trigger, but due
         to compiler-generated nodes (such as calls to fpc_ansistr_unique), they
         could. Internal address nodes can deal with taking the address of the
         function result in this case.
    
    git-svn-id: trunk@46660 -

M	.gitattributes
M	compiler/ncal.pas
A	tests/webtbs/tw37465.pp

******************************************************************************
commit e5a923eb7abe7a6dc063a1c297381d573418be66
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 23 10:26:54 2020 +0000

    * 8086: Proper implementation of: If a far procvar is called, it must be in a memory location. This fixes a hack to emulate CALL reg1:reg2.
    
    git-svn-id: trunk@46641 -

M	compiler/i8086/cgcpu.pas
M	compiler/i8086/hlcgcpu.pas
M	compiler/i8086/n8086cal.pas
M	compiler/ncal.pas

******************************************************************************
commit 04baeb2bcf31735ca563e3806e7c6d4c3fecf4c3
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 23 00:17:40 2020 +0000

    * 8086: Reverted r46557. It must be implemented differently.
    
    git-svn-id: trunk@46561 -

M	compiler/i8086/cgcpu.pas
M	compiler/i8086/hlcgcpu.pas
M	compiler/i8086/n8086cal.pas

******************************************************************************
commit 00db7646c8b9dee96948af82c76d2aba55a13089
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 23:42:12 2020 +0000

    * 8086: Fixed register allocation failure after r46559.
    
    git-svn-id: trunk@46560 -

M	compiler/i8086/n8086cal.pas

******************************************************************************
commit 5ec101d578ec46059cf5a619e3b30ad85d0be7eb
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 23:06:55 2020 +0000

    * 8086: Do not destroy contents of the BX parameter when calling a procvar by ref with a base.
    
    git-svn-id: trunk@46559 -

M	compiler/i8086/n8086cal.pas
M	compiler/x86/nx86cal.pas

******************************************************************************
commit eee67af68444314bc1668862a77548d1c8882628
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 22:17:03 2020 +0000

    * 8086: Fixed using far procvars in a near code memory model and vice versa.
    
    git-svn-id: trunk@46558 -

M	compiler/i8086/hlcgcpu.pas

******************************************************************************
commit 6a3971c9b631c0e8a0f214d27125278dbd6aa6bd
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 22:12:40 2020 +0000

    * 8086: If a far procvar is called, it must be in a memory location. This fixes a hack to emulate CALL reg1:reg2.
    
    git-svn-id: trunk@46557 -

M	compiler/i8086/cgcpu.pas
M	compiler/i8086/hlcgcpu.pas
M	compiler/i8086/n8086cal.pas

******************************************************************************
commit a45f71d0dcf5b8c9605c20f63fa2bbe62ad6c0ce
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 21:28:08 2020 +0000

      * Xtensa: optimize some shifts by constants
    
    git-svn-id: trunk@46556 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit 4dcdaa259a4396078bc00bbe98b7fe2853a4b415
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 20:50:02 2020 +0000

    * 8086: Use CX as a scratch register instead of BX.
    
    git-svn-id: trunk@46554 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 8cc58423174fd272b2890011b5315b2d30f294db
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 20:47:54 2020 +0000

    * Use TExternalAssembler.WriteComments() also by nasm and intel assembler writers.
    
    git-svn-id: trunk@46553 -

M	compiler/x86/agx86int.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit 832c3d89c83841bbf21cea783064b14c6a5ad6d4
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 20:36:26 2020 +0000

      * Xtensa: disable simple random again, committed by accident
    
    git-svn-id: trunk@46552 -

M	rtl/inc/systemh.inc

******************************************************************************
commit 04846345b2c8b7d805869582e9f3b6f96fa124ca
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 20:33:30 2020 +0000

      * Xtensa: more fixes to tcg64fxtensa.a_op64_const_reg_reg and tcg64fxtensa.a_op64_reg_reg_reg
    
    git-svn-id: trunk@46551 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/ncpuadd.pas
M	rtl/inc/systemh.inc

******************************************************************************
commit 6e777d89671eb2d303c33a31645b9529e6848d38
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 19:53:39 2020 +0000

    * ait_comment,ait_regalloc,ait_tempalloc,ait_varloc instructions produce only comments in the external assembler output. Moved handling of these instructions to TExternalAssembler.WriteComments().
      This eliminates code duplication and improves maintainability.
    
    git-svn-id: trunk@46550 -

M	compiler/aggas.pas
M	compiler/assemble.pas
M	compiler/jvm/agjasmin.pas
M	compiler/llvm/agllvm.pas
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 26e2759c272b992021388c1cf0685194f6d45aa3
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 19:38:10 2020 +0000

      * Xtensa: fixed tcg64fxtensa.a_op64_reg_reg_reg for unsigned operations
    
    git-svn-id: trunk@46549 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit eaa7d95a9d1994bff8d476b57ae61e93cb663760
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 19:38:09 2020 +0000

      + Xtensa: implemented TCPUAddNode.second_cmp64bit properly
    
    git-svn-id: trunk@46548 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 15fe9f104786ec06addb735eaa3e4aba863ebcf2
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 19:38:08 2020 +0000

      * cosmetics
    
    git-svn-id: trunk@46547 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit e81920af7bb3c8ec19ab284707c357187a8250ec
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 19:38:07 2020 +0000

      * made test more usefull
    
    git-svn-id: trunk@46546 -

M	tests/test/tint641.pp

******************************************************************************
commit 6f222e276ed1cba81b3a1cfd328b859eb00d2556
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 18:00:25 2020 +0000

      * Xtensa: make use of divide extension if available
    
    git-svn-id: trunk@46545 -

M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit 31cb670b2013c0128101c3b4556891b48b897386
Author: florian <florian@freepascal.org>
Date:   Sat Aug 22 17:21:36 2020 +0000

      + Xtensa: make use of muluh/mulsh instructions
    
    git-svn-id: trunk@46544 -

M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 11b601d44cfbcb80f32c6d83c90e678dbabcf711
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 22 15:56:13 2020 +0000

    * TThread.Terminate does not have any platform specific behavior (it should only set FTerminated to true and call TerminatedSet), thus move it to the platform independant part
    Notes:
    - Netware had a ThreadSwitch in there, but that is not really required
    - some platform were missing the setting of FTerminated to True, thus they'll now do that as well
    
    git-svn-id: trunk@46543 -

M	rtl/amicommon/tthread.inc
M	rtl/atari/tthread.inc
M	rtl/beos/tthread.inc
M	rtl/embedded/tthread.inc
M	rtl/freertos/tthread.inc
M	rtl/gba/tthread.inc
M	rtl/go32v2/tthread.inc
M	rtl/macos/tthread.inc
M	rtl/msdos/tthread.inc
M	rtl/nativent/tthread.inc
M	rtl/nds/tthread.inc
M	rtl/netware/tthread.inc
M	rtl/netwlibc/tthread.inc
M	rtl/objpas/classes/classes.inc
M	rtl/os2/tthread.inc
M	rtl/symbian/tthread.inc
M	rtl/unix/tthread.inc
M	rtl/wii/tthread.inc
M	rtl/win/tthread.inc
M	rtl/win16/tthread.inc

******************************************************************************
commit c2c7ac634a3e201575638f6e4452ccc0b1afb28a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 22 13:33:53 2020 +0000

    * fix for Mantis #37616: apply patch by Kai Burghardt to complain about the correct type used by setjmp/longjmp
    
    git-svn-id: trunk@46542 -

M	compiler/psub.pas

******************************************************************************
commit 5ec489c018f207fa13ef58ef1f86a07bfd93fae7
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 22 10:58:21 2020 +0000

    * ait_varloc instructions are handled and removed by Trgobj.translate_registers() and never left for an assembler.
    
    git-svn-id: trunk@46541 -

M	compiler/aggas.pas
M	compiler/llvm/agllvm.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit 92d5e613b5bc2a33c97153c0a736848b10eb6a37
Author: florian <florian@freepascal.org>
Date:   Fri Aug 21 21:35:50 2020 +0000

      * Xtensa: needs no mul helper, all variants have the MULL instruction
    
    git-svn-id: trunk@46539 -

M	compiler/fpcdefs.inc

******************************************************************************
commit 8a36e63a56821d703a543085ddd8b5de42cdca68
Author: florian <florian@freepascal.org>
Date:   Fri Aug 21 21:15:36 2020 +0000

      + initial implementation of setjmp/longjmp
    
    git-svn-id: trunk@46537 -

M	rtl/xtensa/setjump.inc
M	rtl/xtensa/setjumph.inc

******************************************************************************
commit 1f073818bad405b90da52ca942da5f70db6a1ec4
Author: florian <florian@freepascal.org>
Date:   Fri Aug 21 21:02:01 2020 +0000

      * cleanup ARM remainders
      * locals can have 0 as offset, force a reference in this case
    
    git-svn-id: trunk@46536 -

M	compiler/xtensa/racpugas.pas

******************************************************************************
commit 5801a7431c7f923681ab48ad4f29332ba2fd4d9e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 21 12:37:42 2020 +0000

    * reset idfpath when globals are initialized (needed for the textmode IDE)
    
    git-svn-id: trunk@46535 -

M	compiler/globals.pas

******************************************************************************
commit 213d2905dfc44bdbb83e475efc04aa5de59c5f59
Author: michael <michael@freepascal.org>
Date:   Fri Aug 21 10:44:48 2020 +0000

    * Change some methods from using var to using out (bug ID 37376)
    
    git-svn-id: trunk@46533 -

M	rtl/inc/dynlib.inc
M	rtl/inc/dynlibh.inc
M	rtl/inc/thread.inc
M	rtl/inc/threadh.inc
M	rtl/inc/ustringh.inc
M	rtl/inc/ustrings.inc
M	rtl/inc/variant.inc
M	rtl/inc/varianth.inc

******************************************************************************
commit 85d19af48c004817142f0542782741e0d4a46c3a
Author: pierre <pierre@freepascal.org>
Date:   Fri Aug 21 09:13:59 2020 +0000

       * Remove debug ECHO lines
       * Fix detection of -dFPC_SOFT_FPUX80, as OPT is reset after
         being copied over to LOCALOPT.
       + Add FULL_TARGETS that list all targets concerned by fullcyle and associated targets.
    
    git-svn-id: trunk@46532 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 0881e4fd9827791a508b5ad985e6f8def25f496a
Author: florian <florian@freepascal.org>
Date:   Thu Aug 20 21:29:49 2020 +0000

      * insert literals after the section start which belongs to the current procedure
    
    git-svn-id: trunk@46528 -

M	compiler/xtensa/hlcgcpu.pas

******************************************************************************
commit 7157bac9fddade13cb9325499b12202009d0f7d5
Author: florian <florian@freepascal.org>
Date:   Thu Aug 20 21:29:48 2020 +0000

      * patch by Christo Crause, resolves #37335
        * ESP8266 support for t_freertos.pas
        + -Ff switch to be able to pass the IDF_PATH without using an evironment variable
    
    git-svn-id: trunk@46527 -

M	compiler/globals.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems/t_freertos.pas

******************************************************************************
commit 1ad31dd32d342622dc7b63a28facc251a58ce5e3
Author: florian <florian@freepascal.org>
Date:   Thu Aug 20 21:29:47 2020 +0000

      * reduce number of default libs
    
    git-svn-id: trunk@46526 -

M	rtl/freertos/xtensa/esp8266.pp

******************************************************************************
commit de3a479be3a56a2bcb4f43c778d735b4b95e4d99
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 20:08:10 2020 +0000

    * Added assembler comments about unused parameters.
    
    git-svn-id: trunk@46522 -

M	compiler/ncgcal.pas

******************************************************************************
commit 0a34a090e0f6676bae0ed2afb9570969b37a461b
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 19:59:36 2020 +0000

    x86: It is more optimal to push some register (NR_FRAME_POINTER_REG) instead of a constant value in a_load_undefined_cgpara().
    
    git-svn-id: trunk@46521 -

M	compiler/x86/hlcgx86.pas

******************************************************************************
commit e28fca97299911fbf77142d001c0b905f4337711
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 18:30:09 2020 +0000

    * If parentfp is passed in the stack it can be skipped only if po_delphi_nested_cc is set for the routine.
    
    git-svn-id: trunk@46520 -

M	compiler/ncgcal.pas

******************************************************************************
commit c69090446ae513ade58e3c803a3f1d6092b8e6aa
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 17:39:45 2020 +0000

    * msdos: Fixed AV in the internal linker in some cases when code or data exceeds 64k.
    
    git-svn-id: trunk@46519 -

M	compiler/ogomf.pas

******************************************************************************
commit 75e5afd45b8ad8fae83c2931a7d04e66de893f7f
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 16:59:10 2020 +0000

    * When optimization is off always load unused parentfp to a local location to be debugger friendly.
    
    git-svn-id: trunk@46514 -

M	compiler/ncgutil.pas

******************************************************************************
commit 1002a7c5901cdb185711fc197b4b0c6cee1de91d
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 16:35:27 2020 +0000

    * 8086: Fixed very long section names when $HUGECODE is ON and section based smartlinking is used.
    * Added a utility function TrimStrCRC32().
    
    git-svn-id: trunk@46511 -

M	compiler/fpccrc.pas
M	compiler/ogomf.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit b1ee6f7fdc9bcaa9e249d6e7403e3ee2b5bdc113
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 20 16:01:34 2020 +0000

      Fix error in previous commit
      Try to avoid unneeded steps for fullinstallsymlink
    
    git-svn-id: trunk@46510 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit ac36a214bff45a88a2018584105934233a524b60
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 20 13:17:59 2020 +0000

     Do not set EXCLUDE_80BIT_TARGETS to 1 if OPT variable contains -dFPC_SOFT_FPUX80
    
    git-svn-id: trunk@46507 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 82346563c118fa536cdc0b5472be1f2be0e74c6f
Author: michael <michael@freepascal.org>
Date:   Thu Aug 20 12:06:14 2020 +0000

    * Add StoredAttribute class, bug ID #37602
    
    git-svn-id: trunk@46506 -

M	rtl/inc/objpas.inc
M	rtl/inc/objpash.inc

******************************************************************************
commit 8bc2326b772fb85d3fbd297582a04d9008c34d60
Author: michael <michael@freepascal.org>
Date:   Thu Aug 20 11:53:43 2020 +0000

    * Fix bug #37601: add some attribte definitions
    
    git-svn-id: trunk@46505 -

M	rtl/inc/objpash.inc

******************************************************************************
commit 5d0e1dbe5a148350b5aa041c511a5115a04a5ae0
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 11:20:10 2020 +0000

    * msdos: Fixed section based smartlinking after my recent changes.
    
    git-svn-id: trunk@46504 -

M	compiler/systems/t_msdos.pas

******************************************************************************
commit 9a01bcf3dc185dac2d310d178b62d5e48e608529
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 20 10:31:56 2020 +0000

    * Changed Integer to Longint in definitions of RTTI structures. It fixes typinfo for 16-bit CPUs.
    
    git-svn-id: trunk@46503 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 120825d1d6976806b5e7ab02e77ef1455598b03c
Author: florian <florian@freepascal.org>
Date:   Wed Aug 19 21:09:44 2020 +0000

      * do not throw an internal error on illegal assembler expressions, resolves #37439
    
    git-svn-id: trunk@46499 -

M	.gitattributes
M	compiler/x86/rax86att.pas
A	tests/webtbf/tw37459.pp

******************************************************************************
commit e200fde888ff418fd79566e42a0b84c9cd2740d9
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 19 11:02:29 2020 +0000

    * Fixed tests for 16-bit CPUs.
    
    git-svn-id: trunk@46494 -

M	tests/test/dumpclass.pp
M	tests/test/dumpmethods.pp

******************************************************************************
commit 1b9927961788a4f4106512a1f5e96f6d35763dce
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 19 10:49:40 2020 +0000

    * msdos: Enabled $HUGECODE for sysutils and classes to overcome 64K per unit code limit.
    
    git-svn-id: trunk@46493 -

M	rtl/msdos/classes.pp
M	rtl/msdos/sysutils.pp

******************************************************************************
commit 9d41a435c2c9524623f4c6002cfcd33f3c0822d4
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 19 10:48:00 2020 +0000

    * tinyheap: Disable inline when FPC_TINYHEAP_HUGE is defined to prevent code bloat.
    
    git-svn-id: trunk@46492 -

M	rtl/inc/tinyheap.inc

******************************************************************************
commit 97eb32e6fd2216cb5e284329b4eb9758720b8a16
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 19 10:27:19 2020 +0000

    * 8086: Also fixed loading a register to a 32-bit ref in case the source register is used as the ref base or index.
    
    git-svn-id: trunk@46491 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit 4873ec73a796b55e7002e8b5971189dd9ce570da
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 19 10:20:47 2020 +0000

    * 8086: Fixed loading a 32-bit ref to a register in case the target register is used as the ref base or index.
    
    git-svn-id: trunk@46490 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit 809db09169a8d95117fb9a3db4e63d62823a99aa
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Wed Aug 19 08:45:00 2020 +0000

    sql parser: support CASE with selector (CASE A WHEN 1 THEN B ELSE C END)
    
    git-svn-id: trunk@46489 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit b267f6fcb3f3e7d7f2e99b10dce495d510863b27
Author: florian <florian@freepascal.org>
Date:   Tue Aug 18 21:10:25 2020 +0000

      * internal error unified
    
    git-svn-id: trunk@46486 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 004ac4d1f4e0d67c811fdc51d3070c0203b0c774
Author: florian <florian@freepascal.org>
Date:   Tue Aug 18 21:10:06 2020 +0000

      * Xtensa: set abi correctly
    
    git-svn-id: trunk@46485 -

M	compiler/options.pas

******************************************************************************
commit 580e9e516970c6788ec04994e130f3192d5f8faf
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 20:02:19 2020 +0000

    * wlib: calculate the record size according to the number of files in the library.
    
    git-svn-id: trunk@46483 -

M	compiler/link.pas

******************************************************************************
commit 9e11f8122f49356bf6f3429c67052d95ddc0fef0
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 12:27:46 2020 +0000

    * Corrected r46481. Use both tcalo_new_section and tcalo_make_dead_strippable flags since only the default implementation implies a new section creation when tcalo_make_dead_strippable is specified.
    
    git-svn-id: trunk@46482 -

M	compiler/aasmcnst.pas

******************************************************************************
commit 17e75004c5fac061abeecb38bd55f136292faba3
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 12:02:20 2020 +0000

    * Allow library based smartlinking of indirect symbol entries.
    
    git-svn-id: trunk@46481 -

M	compiler/aasmcnst.pas

******************************************************************************
commit c75953c12bf0ce476422c8b9ab4964de607bf97b
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 11:36:39 2020 +0000

    * msdos: Implemented library based smartlinking of the dead stripable vectorized lists. It is enabled for the internal linker and wlink. These linkers sort sections by name by default.
    
    git-svn-id: trunk@46480 -

M	compiler/systems/t_msdos.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit 764227193a358e8e5ab83e5a141631a8abfde89a
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 11:31:39 2020 +0000

    * Added on option to implement library based smartlinking of the dead stripable vectorized lists (e.g. resource strings index). By default smartlinking of such lists only supported when the section based smartlinking (tf_smartlink_sections) is enabled for a target.
    
    git-svn-id: trunk@46479 -

M	compiler/aasmcnst.pas
M	compiler/cresstr.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit e4b717c81766d4ee4b614e4627887045a781d771
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 09:52:40 2020 +0000

    * 8086: More fixes for Ofs() handling.
    
    git-svn-id: trunk@46478 -

M	compiler/i8086/n8086cnv.pas
M	compiler/i8086/symcpu.pas

******************************************************************************
commit 2186846ab1d273fdab3ad47a053db8bf3cfb717e
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 18 09:19:20 2020 +0000

    * 8086: Fixed an internal error for cases like FarPtr2 := FarPointer($12345678) + int16;
    
    git-svn-id: trunk@46477 -

M	compiler/i8086/n8086add.pas

******************************************************************************
commit 075057f929f9a197b4c3abca520edcd61315ed6a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Aug 17 19:45:13 2020 +0000

    * fix for Mantis #37579: mark the 'German' tokens with the characters they represent
    
    git-svn-id: trunk@46475 -

M	compiler/tokens.pas

******************************************************************************
commit 7e8a50452b06928db65533720819a259caa877ef
Author: florian <florian@freepascal.org>
Date:   Mon Aug 17 17:50:43 2020 +0000

      * StackTop must be OS specific (and not CPU specific)
    
    git-svn-id: trunk@46474 -

M	rtl/freertos/system.pp
M	rtl/xtensa/xtensa.inc

******************************************************************************
commit 15d1d00c34f1cd0b913afb83bbd88486a6ca8053
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 17 14:23:27 2020 +0000

    * fixed a typo.
    
    git-svn-id: trunk@46473 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 0b440758eacb6fa3d0f38c13ab0daba7f5d40dc8
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Aug 17 13:56:14 2020 +0000

    sql parser: support "SELECT 'a' 'b'" syntax (MSSQL)
    
    git-svn-id: trunk@46472 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 222f981dd17189cc46d30d248c13d9e50e128797
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 17 13:37:55 2020 +0000

    * 8086: Fixed Ofs() for far routines.
      resultdef of typeconvnode.typecheck_proc_to_procvar() is reused every time you get an address of a proc. So it is forbidden to change the far/near attribute of resultdef - it leads to mess during code generation.
      Instead it is needed to use separate reusable resultdefs with new flags pc_far_address and pc_offset.
    
    git-svn-id: trunk@46470 -

M	compiler/i8086/n8086cnv.pas
M	compiler/symdef.pas

******************************************************************************
commit 6878ffbf041008c0300f263ec901ae645ec0414d
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 17 09:25:45 2020 +0000

    * In the TP mode for 16-bit CPUs uint8+uint8 is extended to sint16+sint16. This is TP compatible.
    
    git-svn-id: trunk@46468 -

M	compiler/nadd.pas
M	tests/test/cpu16/taddint1.pp

******************************************************************************
commit b814c41ea9969abf730e581f393c7e3c6deb2056
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Aug 17 09:24:32 2020 +0000

    sql parser: support functions with identifier path (MSSQL)
    
    git-svn-id: trunk@46467 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 86360152650fffd6720af949cd52579a735badd2
Author: florian <florian@freepascal.org>
Date:   Sun Aug 16 21:48:30 2020 +0000

      + Xtensa: consider also floating point stores in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@46465 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit f9ddc3ac66d587eb8547bc09d33e855db16b033e
Author: florian <florian@freepascal.org>
Date:   Sun Aug 16 21:41:56 2020 +0000

      + Xtensa: L32IMov2L32I optimization
    
    git-svn-id: trunk@46464 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit 66e682dfdd0d61ff6ed172e40df4fbaa8d10e0d8
Author: florian <florian@freepascal.org>
Date:   Sun Aug 16 21:05:15 2020 +0000

      * Xtensa: patch by Christo Crause: add support for windowed ABI stack dump, resolves #37583
    
    git-svn-id: trunk@46463 -

M	rtl/freertos/consoleio.pp
M	rtl/freertos/system.pp
M	rtl/xtensa/xtensa.inc

******************************************************************************
commit 324deca817a97a8513ffe60bda659485b739a734
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 16 17:08:00 2020 +0000

    * wlib: Explicitly specify the smallest possible record align to reduce the size of .a files.
    
    git-svn-id: trunk@46462 -

M	compiler/link.pas
M	compiler/systems.pas

******************************************************************************
commit f72f021da42839f838f8161a5d186becd1f21368
Author: florian <florian@freepascal.org>
Date:   Sun Aug 16 16:26:39 2020 +0000

      + AAarch64: FMovFMov2FMov optimization
    
    git-svn-id: trunk@46461 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit b4139720e60b86e64780e535c74176676ee2b67f
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 16 13:27:56 2020 +0000

    * RTTI: Offset of record fields is defined as SizeInt not ptruint.
    
    git-svn-id: trunk@46460 -

M	compiler/ncgrtti.pas

******************************************************************************
commit a88288bab3803476bfa3e54c432f8cc3ed264b0f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 16 12:46:21 2020 +0000

      - reverted r46457, accidentally committed (breaks -Oooptcse)
    
    git-svn-id: trunk@46459 -

M	compiler/nbas.pas
M	compiler/ncgbas.pas
M	compiler/nutils.pas

******************************************************************************
commit 8d3ef67218bc4c3583177afd75b1f3efb119e703
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 16 12:29:35 2020 +0000

      - disable {$optimization on} setting so the (fp)make settings are used
    
    git-svn-id: trunk@46458 -

M	packages/regexpr/src/regexpr.pas

******************************************************************************
commit f26735fc778f7f1a9ce234c93f1fad5002fa04f2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 16 12:29:31 2020 +0000

      * execute the tempinitcode whent the tempcreate node gets processed rather
        than when the first temprefnode to it gets processed. Solves the issue
        the foreachnodestatic processes the tempinitcode when seeing the
        tempcreatenode and ignores it when seeing temprefnodes, even though
        it may actually be executed/generated for the temprefnode. It's
        impossible to easily process it for the "correct" temprefnode
        (since there may be multiple temprefnodes for the same tempcreatenode)
       o fixes tarray12 for Darwin/i386 and Linux/i386
    
    git-svn-id: trunk@46457 -

M	compiler/nbas.pas
M	compiler/ncgbas.pas
M	compiler/nutils.pas

******************************************************************************
commit 2ab7cceeaae9b79a984bf6b8041f70c207511753
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 16 10:48:10 2020 +0000

    * Added the $F+ switch (forced far calls) for some TP mode tests.
    
    git-svn-id: trunk@46456 -

M	tests/tbs/tb0184.pp
M	tests/tbs/tb0218.pp
M	tests/tbs/tb0251.pp
M	tests/tbs/tb0433.pp
M	tests/test/cg/taddr2.pp
M	tests/test/tprocvar2.pp
M	tests/webtbs/tw2059.pp
M	tests/webtbs/tw2268.pp

******************************************************************************
commit 721e89fafde6662c200a5efc3d67bc5480e4386e
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 16 10:45:45 2020 +0000

    * msdos: Force names of external routines to be all uppercase only in TP mode.
    
    git-svn-id: trunk@46455 -

M	compiler/pdecsub.pas

******************************************************************************
commit 154ada9e86cd4b6b42857d97437caedbd4d0104e
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 16 10:34:23 2020 +0000

    * 8086: enable cs_force_far_calls when m_nested_procvars is enabled.
    * 8086: when the compiler mode switches to a non-TP mode, enable cs_force_far_calls.
    
    git-svn-id: trunk@46454 -

M	compiler/scanner.pas

******************************************************************************
commit 18b8b9c566f597015de7e0c3a03ac98cedc2a6fb
Author: florian <florian@freepascal.org>
Date:   Sat Aug 15 18:29:26 2020 +0000

      * do not apply range test optimization if the variable is a string being compared against a char constants, resolves #37476
    
    git-svn-id: trunk@46453 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbf/tw37476.pp

******************************************************************************
commit cc14f066771b4f7814b8295a2f85e037fc14f6bf
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 15 15:13:08 2020 +0000

      * when a function returns a value in a register, but normally that type
        would never be put in that kind of register by the compiler, store
        it to memory to avoid issues down the line
       o fixes tcalext6 on darwin/i386
    
    git-svn-id: trunk@46449 -

M	compiler/ncgcal.pas

******************************************************************************
commit ad7c3d9a098dd5d354390c3497e95681b2ee0f73
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 15 12:14:45 2020 +0000

      * don't convert lea to add/inc/dec/sub if there's a symbol in the reference
      o fixes make cycle on Darwin/i386
    
    git-svn-id: trunk@46448 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 313790502da4de79b8c7b67c1d5e5df59025e923
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Aug 15 09:07:30 2020 +0000

    * linux-m68k: depend on FPU defines to compile FPU code, instead of CPU68020. also, minor cosmetics
    
    git-svn-id: trunk@46447 -

M	rtl/linux/m68k/sighnd.inc
M	rtl/linux/m68k/sighndh.inc

******************************************************************************
commit bcde18f8797fc1a0b06819ced39907433d367c83
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Sat Aug 15 08:26:42 2020 +0000

    sql parser: fallback for all parser keywords to identifiers/functions if they are used in an expression (e.g. LEFT was affected)
    
    git-svn-id: trunk@46446 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 672e59317afd0702cfeeb64aff47a5814f6f7d37
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 19:56:36 2020 +0000

    sql parser: add source position information to element lists
    
    git-svn-id: trunk@46439 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 98036f52be23acb93c458284a3eebcd29da33f28
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 19:23:45 2020 +0000

    sql parser: support SELECT without a FROM clause
    
    git-svn-id: trunk@46438 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit f89650c4706eaa76ad62c5033e6fb0cc7f474a18
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 19:14:37 2020 +0000

    sql parser: fix A*B, A/B and add tests
    
    git-svn-id: trunk@46437 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 5bac4c25e0e34bbaf5aad0e006bad792d240236c
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 18:40:46 2020 +0000

    sql parser: support A.* syntax
    
    git-svn-id: trunk@46436 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 1ba8255af07aa5e3c5a75d487c47b7e97d4a2016
Author: florian <florian@freepascal.org>
Date:   Fri Aug 14 18:10:56 2020 +0000

      * do not try to unroll a loop if previously an error was thrown, resolves #37475
    
    git-svn-id: trunk@46435 -

M	.gitattributes
M	compiler/optloop.pas
A	tests/webtbf/tw37475.pp

******************************************************************************
commit 9fca033ac33faffd4fa4257311decd9b888a3010
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 17:46:38 2020 +0000

    sql parser: unify identifier path code
    
    git-svn-id: trunk@46434 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcgensql.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit f7d14128b53ad2147e50042d1d148e4ae9de62b3
Author: yury <jura@cp-lab.com>
Date:   Fri Aug 14 16:56:13 2020 +0000

    * 8086: Do not force far calls in the TP mode by default. This is TP compatible. Other modes need forced far calls by default in order to compile non-TP code.
    
    git-svn-id: trunk@46433 -

M	compiler/scanner.pas

******************************************************************************
commit 9d3b105fab0d6d66192678520c14c20d9d638357
Author: yury <jura@cp-lab.com>
Date:   Fri Aug 14 16:21:12 2020 +0000

    * msdos: By default external routine names with the pascal calling convention must be all upper case. This is TP and TASM compatible.
    
    git-svn-id: trunk@46432 -

M	compiler/pdecsub.pas

******************************************************************************
commit 631ec771578492fefe448d4f861283f04f1a5521
Author: yury <jura@cp-lab.com>
Date:   Fri Aug 14 16:17:18 2020 +0000

    * 8086: Fixed calling of local routines with the near attribute in the 'far code' memory models.
    
    git-svn-id: trunk@46431 -

M	compiler/i8086/hlcgcpu.pas

******************************************************************************
commit 56613723b9f60c582df39bf0154dd7dccbe6d1b0
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 14:17:54 2020 +0000

    sql parser: fix source position
    
    git-svn-id: trunk@46429 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqlscanner.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 0fb6419edd5cbb83e26043f7f14891938d4da6ca
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 13:48:29 2020 +0000

    sql parser: support CASE expression
    
    git-svn-id: trunk@46428 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqlscanner.pp
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcgensql.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 887de9f27c255dfcba30973cd24b1c98431d6b05
Author: yury <jura@cp-lab.com>
Date:   Fri Aug 14 13:10:12 2020 +0000

    * Fixed nasm writer by adding a new line after the GLOBAL directive.
    
    git-svn-id: trunk@46427 -

M	compiler/x86/agx86nsm.pas

******************************************************************************
commit 6caf046df2e50fdd173502bc7d518e220cddeff5
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 12:35:20 2020 +0000

    sql parser: support LIMIT for FireBird/MSSQL/Postgres/MySQL
    
    git-svn-id: trunk@46426 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqlscanner.pp
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcgensql.pas
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 0ca6707e95661bb73a6517c2bd11f197478ead24
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 10:32:37 2020 +0000

    sql parser: support []-identifiers
    
    git-svn-id: trunk@46424 -

M	packages/fcl-db/src/sql/fpsqlscanner.pp
M	packages/fcl-db/tests/tcsqlscanner.pas

******************************************************************************
commit 67d2c51b8d0cdbeda377a687444a4bea9498eb06
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 10:15:40 2020 +0000

    sql parser: add test for SQL generation of fields with path
    
    git-svn-id: trunk@46422 -

M	packages/fcl-db/tests/tcgensql.pas

******************************************************************************
commit 97ced59af04004398a4a4688c082089a7cf05063
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 10:06:33 2020 +0000

    sql parser: support field with schema
    
    git-svn-id: trunk@46421 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit 49f1d08467bd7d5bb8251965de26aa6e148ddc2c
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 09:03:43 2020 +0000

    sql parser: change Functions to Properties for better debugging
    
    git-svn-id: trunk@46420 -

M	packages/fcl-db/src/sql/fpsqlparser.pas

******************************************************************************
commit f368c848a5ca0f82c162eace5278b2b904d9e844
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Aug 14 09:01:06 2020 +0000

    sql parser: support table with schema
    
    git-svn-id: trunk@46419 -

M	packages/fcl-db/src/sql/fpsqlparser.pas
M	packages/fcl-db/src/sql/fpsqltree.pp
M	packages/fcl-db/tests/tcparser.pas

******************************************************************************
commit ac6f74a6a24bfb0cd007bf8745728dbd506c5a04
Author: florian <florian@freepascal.org>
Date:   Thu Aug 13 20:35:11 2020 +0000

      * patch by Christo Crause to make nostackframe with the windowed xtensa abi working, resolves #37550
    
    git-svn-id: trunk@46417 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit aefc1be555590a7dd6aef6a9b625f7ace096651b
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 13 18:48:19 2020 +0000

    * Reverted accidentally committed files.
    
    git-svn-id: trunk@46416 -

M	compiler/aasmdata.pas
M	compiler/ncal.pas
M	compiler/ncgcal.pas
M	compiler/psub.pas

******************************************************************************
commit 7b65f85a0b9c398dea2dd5bac7cd1b6140480950
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 13 18:46:57 2020 +0000

    *  Accidental commit.
    
    git-svn-id: trunk@46415 -

M	compiler/aasmdata.pas
M	compiler/ncal.pas
M	compiler/ncgcal.pas
M	compiler/psub.pas

******************************************************************************
commit 17d583a419b65457783dc7b816297b69309157f0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 13 05:42:41 2020 +0000

    * fix for Mantis #37559: the adjustment of the section type should only be done for internal COFF writers
    
    git-svn-id: trunk@46410 -

M	compiler/ogbase.pas

******************************************************************************
commit dc4637862ff15560c16e5438618e8daf125b627a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 13 05:42:36 2020 +0000

    + add a constant that describes all internal COFF writers (be it PE/COFF or not)
    
    git-svn-id: trunk@46409 -

M	compiler/systems.pas

******************************************************************************
commit fbb8e161faf81e8ed65524beafc204c74eebafb2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 13 05:42:32 2020 +0000

    + add test for already fixed Mantis #37286
    
    git-svn-id: trunk@46408 -

M	.gitattributes
A	tests/webtbs/tw37286.pp

******************************************************************************
commit 43d66a4ac8ce315f8d1bc523c9fa529344947a99
Author: florian <florian@freepascal.org>
Date:   Wed Aug 12 21:15:35 2020 +0000

      * it's usefull to enable the test for all platforms
    
    git-svn-id: trunk@46406 -

M	tests/webtbs/tw37554.pp

******************************************************************************
commit cdd80c131d437af8bb8a435e4b095a34bb21c2cf
Author: florian <florian@freepascal.org>
Date:   Wed Aug 12 21:13:58 2020 +0000

      + forgotten test
    
    git-svn-id: trunk@46405 -

M	.gitattributes
A	tests/webtbs/tw37554.pp

******************************************************************************
commit fab0cf953719bd6a772552ee374c77968cffe928
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Aug 12 19:11:49 2020 +0000

    * regenerate msg*.inc files
    
    git-svn-id: trunk@46403 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 352489c397080a5acab70ec57836256de380dfb0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Aug 12 19:11:45 2020 +0000

    * document -FF option
    
    git-svn-id: trunk@46402 -

M	compiler/msg/errore.msg

******************************************************************************
commit 4faea3a1869969c91c3a17f891f88a24fa1219f3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Aug 12 19:11:34 2020 +0000

    * fix order of options
    
    git-svn-id: trunk@46401 -

M	compiler/msg/errore.msg

******************************************************************************
commit f3541984ee18971ee2bdc8d8580653828d85fdba
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Aug 12 19:08:31 2020 +0000

    * make sure that the resource compiler related globals are reset
    
    git-svn-id: trunk@46399 -

M	compiler/comprsrc.pas

******************************************************************************
commit b88d12c7b9e35798bac97672a92ed9bda401696e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Aug 12 19:08:25 2020 +0000

    + add option -FF to force the use of fpcres as RC compiler
    
    Note: if we merge this to 3.2.x then we can switch to this by default once 3.2.2 is released
    
    git-svn-id: trunk@46398 -

M	compiler/comprsrc.pas
M	compiler/options.pas
M	compiler/rescmn.pas

******************************************************************************
commit ff34fb16455ed861cd81137997c187b4906e7011
Author: florian <florian@freepascal.org>
Date:   Tue Aug 11 18:17:56 2020 +0000

      * better complexity handling of mul, slash, div, mod
    
    git-svn-id: trunk@46365 -

M	compiler/nutils.pas

******************************************************************************
commit cfff96f44ce391ecd5cf16bb7c8dec76142cd1b0
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Aug 10 20:42:13 2020 +0000

    FExpand: always uppercase drive letter also in BasePath
    
    git-svn-id: trunk@46353 -

M	rtl/inc/fexpand.inc

******************************************************************************
commit a668814613173d9a682271b4c5a85a5137c83ce3
Author: florian <florian@freepascal.org>
Date:   Mon Aug 10 17:08:46 2020 +0000

      * regenerated
    
    git-svn-id: trunk@46352 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit fb0a0cb65c41e07549813b86cc6b9afb3d1c7430
Author: florian <florian@freepascal.org>
Date:   Mon Aug 10 17:08:45 2020 +0000

      * patch by Kai Burghardt to use https urls, resolves #37522
    
    git-svn-id: trunk@46351 -

M	compiler/msg/errorct.msg
M	compiler/msg/errord.msg
M	compiler/msg/errorda.msg
M	compiler/msg/errordu.msg
M	compiler/msg/errore.msg
M	compiler/msg/errores.msg
M	compiler/msg/errorf.msg
M	compiler/msg/errorfi.msg
M	compiler/msg/errorhe.msg
M	compiler/msg/errorheu.msg
M	compiler/msg/errorid.msg
M	compiler/msg/erroriu.msg
M	compiler/msg/errorn.msg
M	compiler/msg/errorpl.msg
M	compiler/msg/errorpli.msg
M	compiler/msg/errorpt.msg
M	compiler/msg/errorptu.msg
M	compiler/msg/errorr.msg
M	compiler/msg/errorru.msg
M	compiler/msg/errorues.msg

******************************************************************************
commit 2de0be96334891fdf07966fec883e1b9c612fcdf
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Aug 9 21:31:18 2020 +0000

    * attempt to correct bitpacked arrays on big-endian systems after r43186. this fixed tparray13 test on m68k at least
    
    git-svn-id: trunk@46347 -

M	compiler/ngtcon.pas

******************************************************************************
commit 87615458481ea121410a7951a387694af6a65a7b
Author: florian <florian@freepascal.org>
Date:   Sun Aug 9 18:55:46 2020 +0000

      * patch by J. Gareth Moreton: Long-range MOV + MOVS/Z optimisation, resolves #37390
    
    git-svn-id: trunk@46346 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 867786c9539272bbd6be20a4614bbd5fbd0a0a94
Author: florian <florian@freepascal.org>
Date:   Sun Aug 9 18:52:25 2020 +0000

      * update version
      - -Oodfa removed
    
    git-svn-id: trunk@46345 -

M	compiler/pp.lpi

******************************************************************************
commit 4b84de6a72df0b82b9217cb336190203b263055a
Author: yury <jura@cp-lab.com>
Date:   Sat Aug 8 19:23:52 2020 +0000

    * Optimized Handle_I8086_Error by using smaller int types.
    
    git-svn-id: trunk@46335 -

M	rtl/i8086/math.inc

******************************************************************************
commit b3adeaaea9bf9b54a47692c686784f36d7251033
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 8 17:45:41 2020 +0000

      * added test for bug that's already fixed (mantis #37423)
    
    git-svn-id: trunk@46334 -

M	.gitattributes
A	tests/webtbs/tw37423.pp

******************************************************************************
commit f798141d30d284a7471c1c4c5f8f2edb89dfad34
Author: florian <florian@freepascal.org>
Date:   Sat Aug 8 14:48:24 2020 +0000

      * simplified code
    
    git-svn-id: trunk@46333 -

M	compiler/m68k/rgcpu.pas

******************************************************************************
commit 995d2d280a79c02d3889fff62aadedc74874ec4d
Author: florian <florian@freepascal.org>
Date:   Sat Aug 8 14:48:24 2020 +0000

      - no need to call add_move_instruction if data is moved between different register classes
    
    git-svn-id: trunk@46332 -

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit e2bf83b5734772ada599ce9176ec4072bc60f18a
Author: florian <florian@freepascal.org>
Date:   Sat Aug 8 14:48:23 2020 +0000

      * do not spill_replace if the register is used another time in the instruction
    
    git-svn-id: trunk@46331 -

M	compiler/m68k/rgcpu.pas

******************************************************************************
commit d7ba09f5432fed805603c776afb6770daf65bb53
Author: florian <florian@freepascal.org>
Date:   Fri Aug 7 21:43:00 2020 +0000

      * insert type casts when creating new unaryminus nodes during simplification, resolves #37508
    
    git-svn-id: trunk@46309 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw37508.pp

******************************************************************************
commit f20c76d73baf4c534c487b2196b9291de88a3d1d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Aug 7 07:54:26 2020 +0000

    m68k: fixed a long standing issue, where FPU registers would be clamped to single precision during spilling
    
    git-svn-id: trunk@46307 -

M	compiler/m68k/aasmcpu.pas

******************************************************************************
commit bb25c604cf7281bfbf85edae9f90ecf78aaf99cd
Author: florian <florian@freepascal.org>
Date:   Thu Aug 6 20:49:08 2020 +0000

      + optimize a in [a]
    
    git-svn-id: trunk@46300 -

M	compiler/nset.pas

******************************************************************************
commit af1e6fde5c8e7e77a96f43366b0ab6a69b1d0609
Author: florian <florian@freepascal.org>
Date:   Thu Aug 6 20:49:07 2020 +0000

      * setelementn cannot be the root node of a cse domain, resolves #37477
    
    git-svn-id: trunk@46299 -

M	.gitattributes
M	compiler/optcse.pas
A	tests/webtbs/tw37477.pp

******************************************************************************
commit 985220d94c6092336c956ed5dea464eb80c6c0ce
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 6 20:21:13 2020 +0000

    * Added virtual function TObjSection.GetAltName to be able to specify additional section name by descendants.
    * OMF: Use the name of the first global symbol as an addition section name. This name is visible in the linker map file and helps tracking of section references.
    
    git-svn-id: trunk@46298 -

M	compiler/ogbase.pas
M	compiler/ogomf.pas

******************************************************************************
commit fcf085b141dbd7ffb23f79e3bc37f52bc7b7a1ae
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 6 19:04:08 2020 +0000

    * msdos: Include debug info only when it is enabled by options.
    
    git-svn-id: trunk@46297 -

M	compiler/systems/t_msdos.pas

******************************************************************************
commit d9db6809373f3e8ac0a0a0d0123988982dbd661d
Author: yury <jura@cp-lab.com>
Date:   Thu Aug 6 17:57:30 2020 +0000

    * In assembly comments include all used registers by a variable for 8/16 bit CPUs.
    * Do not add comments about unused varlocs.
    
    git-svn-id: trunk@46296 -

M	compiler/rgobj.pas

******************************************************************************
commit 315819692a6a92cd1c22f7a2031a0c0f139acc63
Author: florian <florian@freepascal.org>
Date:   Wed Aug 5 21:30:37 2020 +0000

      - do not call firstpass in tinnode.pass_typecheck as it prevents further optimizations
    
    git-svn-id: trunk@46277 -

M	compiler/nset.pas

******************************************************************************
commit e14a3f17e6d8d6ced42026b3c49e1f6d179e983d
Author: florian <florian@freepascal.org>
Date:   Wed Aug 5 21:15:33 2020 +0000

      * reverted r46220 as it is fixed now properly
    
    git-svn-id: trunk@46276 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw37493.pp

******************************************************************************
commit 28f25b2df0b1422fbcd6ac195a83cfbda40e4d9e
Author: florian <florian@freepascal.org>
Date:   Wed Aug 5 21:15:32 2020 +0000

      * reworked usage of tcgnotnode.handle_locjump
    
    git-svn-id: trunk@46275 -

M	compiler/aarch64/ncpumat.pas
M	compiler/arm/narmmat.pas
M	compiler/avr/navrmat.pas
M	compiler/m68k/n68kmat.pas
M	compiler/mips/ncpumat.pas
M	compiler/ncgmat.pas
M	compiler/powerpc/nppcmat.pas
M	compiler/powerpc64/nppcmat.pas
M	compiler/riscv32/nrv32mat.pas
M	compiler/riscv64/nrv64mat.pas
M	compiler/sparcgen/ncpumat.pas
M	compiler/x86/nx86mat.pas
M	compiler/z80/nz80mat.pas

******************************************************************************
commit ec10ee8218c9247836264bcdfcef44331fed62c5
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 5 17:58:46 2020 +0000

    * Improved generic implementations of fpc_mul_dword, fpc_mul_word, fpc_mul_byte to use less iterations and registers.
    
    git-svn-id: trunk@46269 -

M	rtl/inc/generic.inc

******************************************************************************
commit aa633544f1adf5d8521a99b1e2341168b1611c87
Author: yury <jura@cp-lab.com>
Date:   Wed Aug 5 16:29:07 2020 +0000

    * Added a simple implementation of random. It is TP/Delphi compatible. Enabled it for 8/16 bit CPUs by default.
    
    git-svn-id: trunk@46266 -

M	rtl/inc/system.inc
M	rtl/inc/systemh.inc

******************************************************************************
commit 6f27c2390e8523fdbab3905ebe1cad82d8b340f8
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 10:47:24 2020 +0000

     Disable compilation of most packages for msxdos and amstadcpc OS
    
    git-svn-id: trunk@46247 -

M	packages/bzip2/fpmake.pp
M	packages/chm/fpmake.pp
M	packages/fcl-base/fpmake.pp
M	packages/fcl-db/fpmake.pp
M	packages/fcl-fpcunit/fpmake.pp
M	packages/fcl-image/fpmake.pp
M	packages/fcl-js/fpmake.pp
M	packages/fcl-json/fpmake.pp
M	packages/fcl-net/fpmake.pp
M	packages/fcl-passrc/fpmake.pp
M	packages/fcl-pdf/fpmake.pp
M	packages/fcl-process/fpmake.pp
M	packages/fcl-registry/fpmake.pp
M	packages/fcl-res/fpmake.pp
M	packages/fcl-sdo/fpmake.pp
M	packages/fcl-sound/fpmake.pp
M	packages/fcl-stl/fpmake.pp
M	packages/fcl-xml/fpmake.pp
M	packages/fpmkunit/fpmake.pp
M	packages/fppkg/fpmake.pp
M	packages/hash/fpmake.pp
M	packages/hermes/fpmake.pp
M	packages/libgd/fpmake.pp
M	packages/libtar/fpmake.pp
M	packages/pasjpeg/fpmake.pp
M	packages/paszlib/fpmake.pp
M	packages/regexpr/fpmake.pp
M	packages/rtl-generics/fpmake.pp
M	packages/sdl/fpmake.pp
M	packages/symbolic/fpmake.pp
M	packages/unzip/fpmake.pp
M	packages/webidl/fpmake.pp

******************************************************************************
commit 6ce1b7d272ee3219d7df9719bf79d0d044ef6afd
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 10:46:20 2020 +0000

     Disable native compilation of ihcutil for zxspectrum, msxdos and amstadcpc as it requires fcl-base package
    
    git-svn-id: trunk@46246 -

M	utils/ihxutil/fpmake.pp

******************************************************************************
commit 754374d2eec1e6dfac22fb80f431b420e0f2a5ce
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 09:31:30 2020 +0000

     Add amstradcpc to the list of unsupported OSes base utils
    
    git-svn-id: trunk@46245 -

M	utils/fpmake.pp

******************************************************************************
commit 644678daaad3ae74d7495f7d864a69f835d7fe51
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 09:30:16 2020 +0000

     Add zxspectrum, msxdos and amstradcpc list of unsupported OSes for most utils packages
    
    git-svn-id: trunk@46244 -

M	.gitignore
M	utils/fpcm/fpmake.pp
M	utils/fpcmkcfg/fpmake.pp
M	utils/fpcres/fpmake.pp
M	utils/fpcreslipo/fpmake.pp
M	utils/fpdoc/fpmake.pp
M	utils/fppkg/fpmake.pp
M	utils/fprcp/fpmake.pp
M	utils/h2pas/fpmake.pp
M	utils/importtl/fpmake.pp
M	utils/instantfpc/fpmake.pp
M	utils/json2pas/fpmake.pp
M	utils/pas2fpm/fpmake.pp
M	utils/pas2jni/fpmake.pp
M	utils/pas2ut/fpmake.pp
M	utils/tply/fpmake.pp

******************************************************************************
commit 42866bbde5f48187dcea24520d0f2fa98ee2ce8a
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 09:28:54 2020 +0000

     Change list of supported OSes
    
    git-svn-id: trunk@46243 -

M	utils/unicode/fpmake.pp

******************************************************************************
commit dcdb57027ac01c861ffb550d599f02238fae5499
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 09:20:06 2020 +0000

     Update after commit #46241
    
    git-svn-id: trunk@46242 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 738c11199be19de4806dc6c96299c3154f1ee2fe
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 5 09:05:14 2020 +0000

     Add amstradcpc OS support for fpcmake and fpmkunit
    
    git-svn-id: trunk@46241 -

M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 86d55055df60fa6c773832076cbdbd29d0e2ec78
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Aug 4 21:12:06 2020 +0000

      * made internalerror unique
    
    git-svn-id: trunk@46236 -

M	compiler/llvm/aasmllvm.pas

******************************************************************************
commit 1d3ed354debe8b6a937517192cce2abeb1dbc347
Author: florian <florian@freepascal.org>
Date:   Tue Aug 4 20:51:52 2020 +0000

      * patch by J. Gareth Moreton: unifies internalerrors, resolves #37471
    
    git-svn-id: trunk@46234 -

M	compiler/x86/rax86int.pas
M	compiler/z80/raz80asm.pas

******************************************************************************
commit 719220e8a4f5b2b30bf8b7261581bf84c72555e7
Author: yury <jura@cp-lab.com>
Date:   Tue Aug 4 20:45:29 2020 +0000

    * For 8/16 bit CPUs and TP mode, disable expansion to a larger integer type for subtract operations on unsigned integers. This is TP7 compatible.
    
    git-svn-id: trunk@46233 -

M	compiler/nadd.pas

******************************************************************************
commit ca40956a3aedc76fe335ff1a8843c58a16320de3
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 4 10:19:49 2020 +0000

    Regenerated all Makefile's
    
    git-svn-id: trunk@46224 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit a2806954ed29a28b47f03bb8e1a356aa518bbe6d
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 4 10:10:44 2020 +0000

     Update after commit #46222
    
    git-svn-id: trunk@46223 -

M	utils/fpcm/revision.inc

******************************************************************************
commit a5997e266fa55a7127445bbefc5269df4dd8fe59
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 4 07:48:24 2020 +0000

     Add powerpc specific call to gcc to get the correct libgcc directory for linux
    
    git-svn-id: trunk@46222 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit fdb1cd38abbeba81032f75edb3df6b05510774e3
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 4 07:45:03 2020 +0000

     Disable limitation of handling of negative shift values, can be enalbed again by setting LIMIT_NEG_SHIFTVALUES macro
    
    git-svn-id: trunk@46221 -

M	compiler/cgobj.pas

******************************************************************************
commit c17ad509e2c3589a781f96da8128eb3f23188806
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Aug 3 21:53:29 2020 +0000

    * fix for Mantis #36775: apply patch by J. Gareth Moreton
    + added tests
    
    git-svn-id: trunk@46220 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw36775.pp
A	tests/webtbs/tw36775a.pp
A	tests/webtbs/tw36775b.pp
A	tests/webtbs/tw36775c.pp

******************************************************************************
commit 055cfc177140e5071a549eb9d59904f57603bf16
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Aug 3 21:53:24 2020 +0000

    * added test for Mantis #36014 which is already fixed (also in 3.2.0)
    
    git-svn-id: trunk@46219 -

M	.gitattributes
A	tests/webtbf/tw36014.pp

******************************************************************************
commit 06a5ec5b5c771a120f864753daeacae98f6bb0a7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Aug 3 20:51:37 2020 +0000

      * fixed peephole optimizer replace lea by add even if the flags were in use
        (patch by J. Gareth Moreton)
    
    git-svn-id: trunk@46213 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3047ce71bc0506c71e21db1725009fbb983ae3cd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Aug 3 20:36:02 2020 +0000

      * fixed LLVM register allocator after r46199
    
    git-svn-id: trunk@46212 -

M	compiler/llvm/rgllvm.pas
M	compiler/rgobj.pas

******************************************************************************
commit 0000682043decf5ac145fb13535c1de0ed570bbf
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 18:52:17 2020 +0000

    * i8086: When a ref points to the 32-bit data, preload the ref base to a temp register to reduce spilling.
    
    git-svn-id: trunk@46204 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit ddea92992347f28a2f9a0043b7743889d3e3e452
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 18:45:38 2020 +0000

    * For 8 and 16 bit CPUs preload the ref base and index to a separate temp register in the generic implementation of a_load64_reg_ref() and a_load64_ref_reg().
      This reduces spilling and produces a better code.
    
    git-svn-id: trunk@46203 -

M	compiler/cg64f32.pas

******************************************************************************
commit e70c8985039c67cc4dba5371dc515db77b3b942d
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 16:51:20 2020 +0000

    * Removed the i8086 specific hack. Since r46199 the register allocator is able to handle the problem code.
    
    git-svn-id: trunk@46200 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit ff820247c3b3ae7ba88bf244127b6a36abb33423
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 16:46:25 2020 +0000

    * Early during register allocation, spill registers which interfere with all usable real registers.
      It is pointless to keep them for further processing. Also it may
      cause endless spilling.
      This can happen when compiling for very constrained CPUs such as
      i8086 where indexed memory access instructions allow only
      few registers as arguments and additionally the calling convention
      provides no general purpose volatile registers.
    
    git-svn-id: trunk@46199 -

M	compiler/rgobj.pas

******************************************************************************
commit 601e05f17f1e82cd60a2b4f863f68b5f44551459
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 16:24:14 2020 +0000

    * Count only usable real registers.
    
    git-svn-id: trunk@46197 -

M	compiler/rgobj.pas

******************************************************************************
commit 0daba072460a9e6d5240b61fb28da62c7483066a
Author: yury <jura@cp-lab.com>
Date:   Mon Aug 3 16:18:32 2020 +0000

    * Enhanced the debug output of spilling statistics. Now it includes efficiency of the spilling which is based on
      weight and usage count of registers. Range 0-100%. Such statistics are very handy when you modify the register allocator.
    
    
    git-svn-id: trunk@46196 -

M	compiler/rgobj.pas

******************************************************************************
commit 346adf7f556fda4abeb469c173efe806cdb4b7a6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 2 14:39:50 2020 +0000

      * replace explicit (sometimes incomplete) tests with calls to  doshortbooleval()
      * the c-style boolean evaluation of "and" is independent of short-circuit evaluation
        (you always have to consider the complete values in case the first one is <> 0)
    
    git-svn-id: trunk@45990 -

M	compiler/nadd.pas

******************************************************************************
commit 848ec1d2197dfbd696b5c69a8fcb39011ec5ec56
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Aug 2 12:28:46 2020 +0000

    * allow overloads with same result type for external Java classes due to Java supporting covariant return types for interfaces
    
    git-svn-id: trunk@45988 -

M	compiler/pparautl.pas

******************************************************************************
commit 4964f5cf76586871ef5350d2c4d62de6a9156599
Author: yury <jura@cp-lab.com>
Date:   Sun Aug 2 11:50:43 2020 +0000

    * Count the number of interferences with real registers.
    * Do not coalesce registers 'u' and 'v' if 'u' is the last usable real register available for imaginary register 'n' which also interferences with 'v'.
        This prevents endless spilling in some cases for constrained CPUs such as AVR. Resolves issue #37421.
        Also this reduces the number of spilled registers in some cases and even eliminates spilling completely for some simple routines for i386 and AVR.
    * Added a debug output of the number of spilled registers for each routine. This allows to easily compare results after changes in spilling algorithms.
    
    git-svn-id: trunk@45987 -

M	compiler/rgobj.pas

******************************************************************************
commit ef099b20756f61a6c9a9be44f63314907393ff83
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Aug 2 10:25:02 2020 +0000

    * import library function with a name that does not conflict with the functions exported in the interface
    
    git-svn-id: trunk@45986 -

M	rtl/win16/sysdl.inc
M	rtl/win16/winprocsh.inc

******************************************************************************
commit 08949c86bf39b7432bc36bfd13f219aecac21646
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Aug 2 10:24:57 2020 +0000

    + readd Randomize with parameter
    
    git-svn-id: trunk@45985 -

M	rtl/gba/system.pp

******************************************************************************
commit f542ee7b92e90fca148df15f35c50d3040d3fd03
Author: florian <florian@freepascal.org>
Date:   Sat Aug 1 21:11:35 2020 +0000

      * do not throw an internal error if an errorneous type is passed to str, resolves #37462
    
    git-svn-id: trunk@45983 -

M	.gitattributes
M	compiler/ninl.pas
A	tests/webtbf/tw37462.pp

******************************************************************************
commit 208e7fb33721bf96fe9c73abc219aaffd2311eb5
Author: pierre <pierre@freepascal.org>
Date:   Sat Aug 1 20:42:22 2020 +0000

     Add -marm option to gcc call fot arm target to be sure that aarch64 version of gcc complains to stderr if it does not support 32-bit
    
    git-svn-id: trunk@45982 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 107a2e4e854adae9b198c52faf8d461eee253cf9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 1 17:26:39 2020 +0000

    - remove local Random() implementations that weren't exported anyway (LongInt <> Integer inside the System unit)
    
    git-svn-id: trunk@45981 -

M	rtl/embedded/system.pp
M	rtl/freertos/system.pp
M	rtl/gba/system.pp
M	rtl/nds/system.pp
M	rtl/wii/system.pp

******************************************************************************
commit 48cc5250f9c17a1dafa3ecb4ec6b43501d557566
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 1 17:26:34 2020 +0000

    * fpc_geteipasebx and fpc_geteipasecx are used as procedures, not functions, so declare them as such
    
    git-svn-id: trunk@45980 -

M	rtl/i386/i386.inc
M	rtl/linux/i386/si_prc.inc

******************************************************************************
commit 04cbf32b1ba789ff52f5669af195cffddfc39ff3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 1 17:26:29 2020 +0000

    * rename local import of fpc_geteipasebx
    
    git-svn-id: trunk@45979 -

M	rtl/linux/i386/syscall.inc

******************************************************************************
commit 6f661e44d0af94fddc382f5c563e44a53b2bdcee
Author: florian <florian@freepascal.org>
Date:   Fri Jul 31 21:03:35 2020 +0000

      * do not throw an internal error later on in case of a recursive call, if the declaration of the function was faulty, resolves #37460
    
    git-svn-id: trunk@45975 -

M	.gitattributes
M	compiler/x86_64/cpupara.pas
A	tests/webtbf/tw37460.pp

******************************************************************************
commit b62045809d9e996591c2bb9f2fa80e34108f557a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 31 15:55:34 2020 +0000

    * reject overloads if they only differ in the result types (as long as they aren't operator overloads)
    + added tests
    
    git-svn-id: trunk@45973 -

M	.gitattributes
M	compiler/pparautl.pas
A	tests/test/tover5.pp
A	tests/test/tover6.pp
A	tests/test/tover7.pp
A	tests/test/tover8.pp
A	tests/test/tover9.pp

******************************************************************************
commit 42f2e5f8ad0ca44b0d13b98b98c167354645d19f
Author: florian <florian@freepascal.org>
Date:   Thu Jul 30 20:35:34 2020 +0000

      + simplify "x mod -1", resolves #37449
    
    git-svn-id: trunk@45969 -

M	.gitattributes
M	compiler/nmat.pas
A	tests/webtbs/tw37449.pp

******************************************************************************
commit 546a679f4e0114246f934e9d638dd84f64fd9d73
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 30 14:22:05 2020 +0000

     Add -SfPROCESSES for arm cpu, to be able to compile fcl-base package as for xtensa
    
    git-svn-id: trunk@45968 -

M	rtl/freertos/system.cfg

******************************************************************************
commit 93fc5abe8b4d992c6366f9cd957d05fe48af7f86
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 30 14:08:22 2020 +0000

     Use same parameters as in fileutilh.inc for the handle variant of FileSetDate overloaded function
    
    git-svn-id: trunk@45967 -

M	rtl/symbian/sysutils.pp

******************************************************************************
commit 941020af1a9cc9f5136668d1fd03be5aa378c7ea
Author: florian <florian@freepascal.org>
Date:   Wed Jul 29 21:11:46 2020 +0000

      * patch by J. Gareth Moreton: Minor oversight in MovAnd2Mov 3 optimisation, resolves #37442
    
    git-svn-id: trunk@45961 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2d8873d0854df357c28def22214ba55d5f0ad2d9
Author: yury <jura@cp-lab.com>
Date:   Tue Jul 28 23:27:42 2020 +0000

    * Fixed TAOptObj.CollapseZeroDistJump to properly handle delay slots.
    
    git-svn-id: trunk@45874 -

M	compiler/aoptobj.pas

******************************************************************************
commit 2b86651914f674eeeb61d4c9a739a4b0f45a1003
Author: yury <jura@cp-lab.com>
Date:   Tue Jul 28 23:16:21 2020 +0000

    * Re-enabled safe generic jump optimizations for mips.
    
    git-svn-id: trunk@45873 -

M	compiler/aoptobj.pas

******************************************************************************
commit 0b5c50ea413dce745a264bf418f9bc15073bc2e9
Author: florian <florian@freepascal.org>
Date:   Tue Jul 28 20:46:05 2020 +0000

      * Aarch64: set register size correctly for AndStrb2Strb optimization, resolves #37427
    
    git-svn-id: trunk@45872 -

M	.gitattributes
M	compiler/armgen/aoptarm.pas
A	tests/webtbs/tw37427.pp

******************************************************************************
commit cc936710a0818e446e8154999a200a5d41f5e450
Author: yury <jura@cp-lab.com>
Date:   Tue Jul 28 20:08:41 2020 +0000

    * mips: Added support for unaligned load/store. It greatly improves performance and prevents bus errors on systems which do not emulate unaligned memory access.
    
    git-svn-id: trunk@45871 -

M	compiler/mips/cgcpu.pas

******************************************************************************
commit 55c4986c8d14bc058781031f016bacda3a8a4c41
Author: florian <florian@freepascal.org>
Date:   Mon Jul 27 21:00:25 2020 +0000

      * modified patch by J. Gareth Moreton: MovOpMov2Op/Lea2Add/Lea2Sub consolidation, resolves #37422
    
    git-svn-id: trunk@45865 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a1720647670f3e009f0543c741c3dbf46f7e778c
Author: florian <florian@freepascal.org>
Date:   Sun Jul 26 14:41:50 2020 +0000

      * patch by J. Gareth Moreton: fix for incorrect alignment removal, resolves #37420
    
    git-svn-id: trunk@45864 -

M	compiler/aoptobj.pas

******************************************************************************
commit 3db27945981318c9c71a04a585d3dd76f290fc06
Author: florian <florian@freepascal.org>
Date:   Sat Jul 25 21:08:58 2020 +0000

      + add test for #31714 which is already fixed
    
    git-svn-id: trunk@45859 -

M	.gitattributes
A	tests/webtbs/tw31714.pp

******************************************************************************
commit e6b89c98f526394b5b7fbc197a551ab3e8229c2d
Author: yury <jura@cp-lab.com>
Date:   Sat Jul 25 18:29:59 2020 +0000

    * Changed tsuperregisterworklist.get() to always return the last item from the list.
    * Reversed sort order of simplifyworklist so nodes with most interferences will get their colors first.
        Since degree of nodes in simplifyworklist before sorting is always
        less than the number of usable registers this should not trigger spilling
        and should lead to a better register allocation in some cases.
    
      After these changes sysutils.o for i386-win32 is 80 bytes less. :)
    
    git-svn-id: trunk@45857 -

M	compiler/cgbase.pas
M	compiler/rgobj.pas

******************************************************************************
commit 72dc2145e9692cae4667563847612df46e37d73b
Author: yury <jura@cp-lab.com>
Date:   Sat Jul 25 17:13:29 2020 +0000

    * In Delphi mode throw a conversion error when trying to typecast a pointer to a procdef when they use different memory models.
    
    git-svn-id: trunk@45856 -

M	compiler/defcmp.pas

******************************************************************************
commit f6e6b807d5db9adaebd4f17f83b331bed1e09399
Author: florian <florian@freepascal.org>
Date:   Sat Jul 25 16:42:19 2020 +0000

      + optimize <signed> mod <power of 2> for x86-64 as well
    
    git-svn-id: trunk@45854 -

M	compiler/x86/nx86mat.pas

******************************************************************************
commit a5bad32b7c1bfd2b0578d7cb2eaffa71bf4d34ab
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 25 16:11:54 2020 +0000

      - removed no longer used -target $TARGET parameter (triplet is used instead)
    
    git-svn-id: trunk@45853 -

M	compiler/llvm/agllvm.pas

******************************************************************************
commit 28395337766e49f89b58e690ec80b3a140201bdd
Author: yury <jura@cp-lab.com>
Date:   Fri Jul 24 16:45:44 2020 +0000

    * i8086: Enabled the cs_opt_regvar optimization. It works fine now.
    
    git-svn-id: trunk@45847 -

M	compiler/i8086/cpuinfo.pas

******************************************************************************
commit 34a5dfc8856ca177e6cd8848b41ef2200741f508
Author: yury <jura@cp-lab.com>
Date:   Fri Jul 24 16:42:09 2020 +0000

    * i8086: Fixed referencing using BP and SP as base when FAR or HUGE memory model is used.
    
    git-svn-id: trunk@45846 -

M	compiler/i8086/hlcgcpu.pas

******************************************************************************
commit b1b9d1f341feb04d4dc668981e469a0fc864cc62
Author: yury <jura@cp-lab.com>
Date:   Fri Jul 24 16:39:26 2020 +0000

    * i8086: Removed internal error, since global vars can be in registers if used only in pascalmain.
    
    git-svn-id: trunk@45845 -

M	compiler/i8086/n8086ld.pas

******************************************************************************
commit 6edbc9ed7e3453a0ea19d2f64b01d6049f9aeeca
Author: yury <jura@cp-lab.com>
Date:   Fri Jul 24 16:02:13 2020 +0000

    * tinyheap: Early check for very big requested mem sizes in order to prevent overflows and properly report the out of memory error.
    
    git-svn-id: trunk@45844 -

M	rtl/inc/tinyheap.inc

******************************************************************************
commit c455e942e5dd3bccd111e086d798d69b9ed4de10
Author: yury <jura@cp-lab.com>
Date:   Fri Jul 24 14:08:18 2020 +0000

    * Try to avoid spilling of an imm register if it contains a value loaded from an already spilled imm register. It likely leads to an endless loop and the register allocation fails.
        This fixes the register allocation for i8086 when handling registers for very constrained instructions such as "mov ireg1,[ireg2+ireg3]".
        Here ireg2 can be only BX or BP. So in most cases only BX is available. When ireg2 is spilled, its value must be loaded to BX only.
        Coloring of the ireg which holds the spilled value must be as early as possible to be able to assign BX to this ireg.
        This fix should also help register allocation for other constrained/old CPUs.
    
    git-svn-id: trunk@45843 -

M	compiler/rgobj.pas

******************************************************************************
commit 06b1e65864528e48bef61f8adfe47efeedf12da2
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 23 21:34:24 2020 +0000

       + Add a new parameter to GetCompilerInfo function,
       called EmptyIfStdErr, which resets the returned string to
       an empty string if the call generated output to stderr stream.
    
       * Adapt calls to GetCompilerInfo to change above.
       + Add support for other CPUs for linux OS target.
    
    git-svn-id: trunk@45838 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit a258774ba958dc8332d0d0064bf8fd4eedbd9f47
Author: yury <jura@cp-lab.com>
Date:   Thu Jul 23 13:10:50 2020 +0000

    * To check the size of a register(s) corresponding to a variable it is needed to use localloc.size instead of def_cgsize(vardef).
    
    git-svn-id: trunk@45834 -

M	compiler/ncgutil.pas

******************************************************************************
commit 15f411a3328e2f191fdba93b851ed2cc0fe008e1
Author: yury <jura@cp-lab.com>
Date:   Thu Jul 23 12:52:17 2020 +0000

    * Improved r45832.
    
    git-svn-id: trunk@45833 -

M	compiler/rgobj.pas

******************************************************************************
commit 80facfa0bf6b866c9ca14d2222f3631f8f7caa54
Author: yury <jura@cp-lab.com>
Date:   Thu Jul 23 12:45:40 2020 +0000

    * Fixed indentations of the interference graph.
    * Added register names to the interference graph.
    
    git-svn-id: trunk@45832 -

M	compiler/rgobj.pas

******************************************************************************
commit d7122c6338b637f0a4ec5e780764104350a39dff
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Jul 23 11:57:20 2020 +0000

    z80: preserve system ID and linker ID for the Amstrad CPC
    
    git-svn-id: trunk@45831 -

M	compiler/systems.inc
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 9f60f5093d0754474dfb49550a3842dbbcc431f6
Author: pierre <pierre@freepascal.org>
Date:   Wed Jul 22 23:15:03 2020 +0000

     F_GetLk/SetLk have different values for sparc/sparc64
    
    git-svn-id: trunk@45829 -

M	rtl/linux/ostypes.inc
M	tests/tbs/tb0561a.pp
M	tests/tbs/tb0561b.pp

******************************************************************************
commit 6478a727d78ec4d0fda9522f279b1cf3c7184c46
Author: yury <jura@cp-lab.com>
Date:   Wed Jul 22 11:40:21 2020 +0000

    * Fixed the peephole optimization of conditional movs for mips.
    
    git-svn-id: trunk@45826 -

M	compiler/mips/aoptcpu.pas

******************************************************************************
commit 5da913de0ee29c1d4f70569ddb248e996e761e27
Author: florian <florian@freepascal.org>
Date:   Tue Jul 21 20:09:39 2020 +0000

      * float operations can have an exception as a side effect, resolves #37398
    
    git-svn-id: trunk@45824 -

M	.gitattributes
M	compiler/nutils.pas
A	tests/webtbs/tw37398.pp

******************************************************************************
commit adf064cbb490c331528e6ce7b9697a1ea440f984
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 14:24:14 2020 +0000

      New: rtl/inc/genmathh.inc source file, to provide a unique position
      for the interface definition of float64 and float32 records,
      available to all systems if FPUNONE is not defined.
    
      rtl/inc/genmath.inc: Remove float64/float32, as they are now in rtl/inc/genmathh.inc
      rtl/inc/softfpu.pp: Use provided definitions of float32 and float64
      if available (by checking presence of FPC_SYSTEM_HAS_floatXX macro)
    
      rtl/inc/systemh.inc: include genmathh.inc if FPUNONE is not defined.
      rtl/java/jsystemh_types.inc: Likewise.
    
    git-svn-id: trunk@45821 -

M	.gitattributes
M	rtl/inc/genmath.inc
A	rtl/inc/genmathh.inc
M	rtl/inc/softfpu.pp
M	rtl/inc/systemh.inc
M	rtl/java/jsystemh_types.inc

******************************************************************************
commit 2c3792a1aea113b378a88e4acaa54fafb3308e66
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 14:08:24 2020 +0000

     Add list of generated executable to svn:ignore
    
    git-svn-id: trunk@45820 -

M	.gitignore

******************************************************************************
commit 17685fe9ca5a5ff73a86cfcdf0c2306705aaddd2
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 12:43:50 2020 +0000

     Update svn:ignore porperties
    
    git-svn-id: trunk@45819 -

M	.gitignore

******************************************************************************
commit 72654864ff75a0b1455fdfe2e82a2fd40ec7f2f4
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 12:13:36 2020 +0000

     Add missing CPUs for linux libgcc directory retrieval
    
    git-svn-id: trunk@45817 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit 57b8f28574087bde2fdca66d5f26e8eecbb2f433
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 05:23:36 2020 +0000

     Avoid overflow errors on z80 CPU by changing local variable type from aint to tcgint
    
    git-svn-id: trunk@45816 -

M	compiler/ncgld.pas
M	compiler/ncnv.pas

******************************************************************************
commit 667a0103573e43d1b650ef56a08a2108f498e434
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 21 05:22:26 2020 +0000

     Avoid wrong overflow error when using -Criot options
    
    git-svn-id: trunk@45815 -

M	compiler/ogrel.pas

******************************************************************************
commit 14bc6674a6cd8a7974266635487bf09f384d02bf
Author: florian <florian@freepascal.org>
Date:   Mon Jul 20 20:21:44 2020 +0000

    * revert part of r45810 which was accidently committed
    
    git-svn-id: trunk@45813 -

M	compiler/symdef.pas
M	compiler/symsym.pas

******************************************************************************
commit 0c6998bb110a06cc739c3f0657e403aaaf0dc0ab
Author: pierre <pierre@freepascal.org>
Date:   Sun Jul 19 21:21:18 2020 +0000

    Try to fix mipsel-android by making sure P does not point to a freed instruction
    
    git-svn-id: trunk@45812 -

M	compiler/mips/aoptcpu.pas

******************************************************************************
commit 09125e834f81eda0f3cd6aa45d51e1bfb4401ba5
Author: florian <florian@freepascal.org>
Date:   Sun Jul 19 20:50:13 2020 +0000

      + patch by J. Gareth Moreton: SHL-centric peephole optimisations, resolves #37389
    
    git-svn-id: trunk@45811 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d6d92e366675c7d73713b66966af423cd46fdc87
Author: florian <florian@freepascal.org>
Date:   Sun Jul 19 19:54:22 2020 +0000

      * revert part of r44879: flock must use kernel_off_t: off_t breaks e.g. i386
    
    git-svn-id: trunk@45810 -

M	compiler/symdef.pas
M	compiler/symsym.pas
M	rtl/linux/ostypes.inc

******************************************************************************
commit 043c3df292fbea7a70d7c86d70811dbbf00b1bc3
Author: florian <florian@freepascal.org>
Date:   Sat Jul 18 18:32:17 2020 +0000

      * properly handle boolean64 xor boolean64 on i386
    
    git-svn-id: trunk@45804 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 59331c3d3cb4cbe05ecd209ca2c221e598f842da
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jul 17 20:57:24 2020 +0000

      * enable putting records that contain a single field into records on all
        targets (patch by J. Gareth Moreton, mantis #37343)
    
    git-svn-id: trunk@45801 -

M	compiler/optcse.pas
M	compiler/symsym.pas

******************************************************************************
commit 3e9e0a0f7db475f96238ed76722ff083d470ec0a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jul 17 20:57:20 2020 +0000

      * completely disable records containing float fields in registers again, as
        the code generator does not support subsetreg loads of floats
    
    git-svn-id: trunk@45800 -

M	compiler/symdef.pas

******************************************************************************
commit db250b04e05e775542e030bbf3c1fffdd616671c
Author: florian <florian@freepascal.org>
Date:   Fri Jul 17 16:45:52 2020 +0000

      * generate soft float code for arm vfp units which have no double operation support
    
    git-svn-id: trunk@45799 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit bb6d4929d88b68fae8f0eab3c43291aa34badeaf
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 17 15:27:27 2020 +0000

       * Handle R_SUBMMWHOLE in reg_cgsize for R_MMREGISTER type
       * Disable range and overflow checking inside is_continuous_mask function.
    
    git-svn-id: trunk@45798 -

M	compiler/arm/cpubase.pas

******************************************************************************
commit dfdfbf896da044c1e175bb194ae79b189032cfe1
Author: pierre <pierre@freepascal.org>
Date:   Wed Jul 15 08:59:59 2020 +0000

     Fix several warnings about uninitialized local variables
    
    git-svn-id: trunk@45787 -

M	compiler/ogrel.pas
M	compiler/z80/aasmcpu.pas
M	compiler/z80/cgcpu.pas

******************************************************************************
commit 0e9fc31dd7c0a55227f1b360acf1b851d5d9ef3d
Author: pierre <pierre@freepascal.org>
Date:   Wed Jul 15 08:34:18 2020 +0000

     Also check that HP1 is a jump instruction with more than one operand to exit early
    
    git-svn-id: trunk@45786 -

M	compiler/aoptobj.pas

******************************************************************************
commit 13afd5c6c75487336b6ecef0a62cf0220f5e015b
Author: pierre <pierre@freepascal.org>
Date:   Wed Jul 15 08:16:53 2020 +0000

     Do not set value of stoploop to avoid infinite loop
    
    git-svn-id: trunk@45785 -

M	compiler/aoptobj.pas

******************************************************************************
commit 7337515137f87d3ce7e35622250a4d68e2aa37cc
Author: florian <florian@freepascal.org>
Date:   Tue Jul 14 20:34:58 2020 +0000

      + patch by Christo Crause: ESP8266 controller unit for freertos, resolves #37336
    
    git-svn-id: trunk@45784 -

M	.gitattributes
A	rtl/freertos/xtensa/esp8266.pp

******************************************************************************
commit 02fd6f6e54e5e947b20a87591708439e92f1c587
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 14 06:00:23 2020 +0000

      * tcg.a_load_cgparaloc_ref: Always enable SHR instruction for mips/mipsel CPUs
        This is normally only used on big-endian targets, to re-convert records
        of size < OS_INT into values fitting inside the byte size of the record,
        after it was left-shifted to comply with ABI stipulating it but be
        writable as a full-size register into a OS_INT size memory.
    
    git-svn-id: trunk@45783 -

M	compiler/cgobj.pas

******************************************************************************
commit cca536a86a82719d2ffabe7ed1e54c16c92162e6
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 14 05:52:54 2020 +0000

      * TAOptObj.MakeUnconditional: Set as internal error for MIPS cpu:
         MIPS conditional instructions conntain the
         computation of the condition itself, so
         changing the instruction to unconditional
         should never be done.
      * TAOptObj.OptimizeConditionalJump: Return false early if
        the conditional instruction has more than one operand.
    
    git-svn-id: trunk@45782 -

M	compiler/aoptobj.pas

******************************************************************************
commit 8cf26b7a0fd84602757dd7e2bd0dc788f6ed3c4b
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 13 14:40:09 2020 +0000

     Fix conversion between TFPURoundMode and bits of get_fsr according to SPARC-V8 specifications
    
    git-svn-id: trunk@45781 -

M	rtl/sparc/mathu.inc
M	rtl/sparc64/mathu.inc

******************************************************************************
commit 7020490f81b308c24d88dadcdcd21faccee544bd
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 13 14:13:13 2020 +0000

     Put floating point type as first variant of floatXX definitions, to ensure correct alignment
    
    git-svn-id: trunk@45780 -

M	rtl/inc/softfpu.pp

******************************************************************************
commit 834dbf5f802a9a71982749f0c58a65c08da5074e
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 13 13:18:32 2020 +0000

     Also use union with double field to ensure correct alignment for float64 type from genmath.inc source
    
    git-svn-id: trunk@45779 -

M	rtl/inc/genmath.inc

******************************************************************************
commit ac5407268cf8b160aaa714668dba7e2986c695b2
Author: florian <florian@freepascal.org>
Date:   Sun Jul 12 20:46:54 2020 +0000

    * regenerated
    
    git-svn-id: trunk@45778 -

M	compiler/x86/x86mmfirst.inc
M	compiler/x86/x86mmsecond.inc
M	compiler/x86/x86mmtype.inc
M	rtl/i386/cpummprocs.inc
M	rtl/x86_64/cpumminnr.inc
M	rtl/x86_64/cpummprocs.inc

******************************************************************************
commit 166ccc49a108d29c967d0d8e91e5f4e435507b86
Author: florian <florian@freepascal.org>
Date:   Sun Jul 12 20:46:53 2020 +0000

    * scalar operations should take single/double values and not full registers
    
    git-svn-id: trunk@45777 -

M	compiler/x86/x86intr.dat

******************************************************************************
commit 0cb21e83386d432ccaf8a98d56f72258906d1b51
Author: florian <florian@freepascal.org>
Date:   Sat Jul 11 20:31:00 2020 +0000

      + test for last commit
    
    git-svn-id: trunk@45773 -

M	.gitattributes
A	tests/webtbf/tw37303.pp

******************************************************************************
commit fb23834367314528567e4bae71f0299a6ae31c1e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 11 09:51:28 2020 +0000

      * regenerated Makefiles again
    
    git-svn-id: trunk@45766 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 350d2d92f991538432c0b980efff1c04a2c02a2e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jul 10 22:08:30 2020 +0000

      * regenerated Makesfiles
    
    git-svn-id: trunk@45762 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/msxdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 78e88f4b77d0bae3cc08ba25f75c62b70cf08031
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jul 10 22:02:30 2020 +0000

      * regenerated
    
    git-svn-id: trunk@45761 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 87bf6a4b5680796d37efd0d6779cbd4ffdfbfdb6
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 10 14:15:22 2020 +0000

     Do not use .hidden for systems_wince, as is done for systems_windows
    
    git-svn-id: trunk@45756 -

M	compiler/aggas.pas

******************************************************************************
commit 39f3a72c625daaf370453334f069b170bb7e3d5d
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 10 09:43:15 2020 +0000

    tarmunaryminusnode.pass_1 must call inherited method for system_arm_wince
    
    git-svn-id: trunk@45755 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit a62534d11f455e37605a3796f131c4c036b60cf3
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 10 09:38:27 2020 +0000

     Add z80 to PPC_TARGETS to reove ppcz80 on clean
    
    git-svn-id: trunk@45754 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 7fc94000c4f69d058d50f45eac1640f7f893a8b7
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 10 06:50:10 2020 +0000

     Disable all utils for zxspectrum and msxdos
    
    git-svn-id: trunk@45753 -

M	utils/fpmake.pp

******************************************************************************
commit e67236eb969dd5d0e7ef0f6d859de16e3c69e276
Author: pierre <pierre@freepascal.org>
Date:   Fri Jul 10 06:48:49 2020 +0000

     Disable bzip2 package for msxdos (Data element tool large error)
    
    git-svn-id: trunk@45752 -

M	packages/bzip2/fpmake.pp

******************************************************************************
commit 96ac7f29f7ccf21a55fe34dd90b511076b6f706e
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 9 22:51:42 2020 +0000

     Only try to use softfpu functions when fputype is fpu_soft
    
    git-svn-id: trunk@45751 -

M	compiler/arm/narmcnv.pas

******************************************************************************
commit cb41b22fdc575e248db3ef960ad4efd449fda102
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 9 22:50:34 2020 +0000

     Try to fix tarmunaryminusnode.pass_1
    
    git-svn-id: trunk@45750 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit 91149df87f25d472ee905860129da887fde63f5d
Author: florian <florian@freepascal.org>
Date:   Thu Jul 9 20:34:32 2020 +0000

      * patch by Christo Crause: fix volatile registers for call0 abi, resolves #37317
    
    git-svn-id: trunk@45749 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit 59379ab02b290b3dbd6ab457a68db0a0b099d125
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 9 09:54:46 2020 +0000

    Add softfpu feature for z80 cpu
    
    git-svn-id: trunk@45747 -

M	rtl/embedded/system.cfg

******************************************************************************
commit 792eafadef3b817d59d64706b32906f5b33d2ec8
Author: florian <florian@freepascal.org>
Date:   Wed Jul 8 19:45:55 2020 +0000

      * properly calc new src register for OP_XOR
    
    git-svn-id: trunk@45743 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit ed9f39032056bdcb7c1701f4055fb4d2615d8d87
Author: pierre <pierre@freepascal.org>
Date:   Tue Jul 7 23:05:43 2020 +0000

     Fix ShowHistory, by avoiding ordering by TR_ID which is not monotoneous anymore
    
    git-svn-id: trunk@45741 -

M	tests/utils/testsuite/utests.pp

******************************************************************************
commit d9d231c87534ecf76b51ee362f8ceb1509a62e19
Author: florian <florian@freepascal.org>
Date:   Tue Jul 7 20:56:19 2020 +0000

      * AAarch64: handle initializations of vector registers with zero properly
    
    git-svn-id: trunk@45740 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit f65f1bd80299a486ea1d396ac25b9381ab6fffdb
Author: florian <florian@freepascal.org>
Date:   Tue Jul 7 20:22:00 2020 +0000

      * fix test to check result properly as pointed out by Bi0T1N in the bug tracker
    
    git-svn-id: trunk@45739 -

M	tests/webtbs/tw37301.pp

******************************************************************************
commit 3655c469825be8d1b8bd81810001049aa0e28771
Author: florian <florian@freepascal.org>
Date:   Mon Jul 6 19:46:19 2020 +0000

      * clean up
    
    git-svn-id: trunk@45735 -

M	compiler/utils/mkarmins.pp

******************************************************************************
commit ec3fe2f99029fcedf165d41049d038a75f8382f8
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 6 13:50:10 2020 +0000

     Fix overflow when value is high(int64) in OptPass1And method
    
    git-svn-id: trunk@45734 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 3caacc529a4b00dacfcf3b75a0ec32305ca79ff1
Author: florian <florian@freepascal.org>
Date:   Sun Jul 5 09:19:14 2020 +0000

      * fix abs() intrinsic optimisation, resolves #37301
    
    git-svn-id: trunk@45732 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw37301.pp

******************************************************************************
commit 5ad02a3799684c950e71879877469b1f1021de1a
Author: florian <florian@freepascal.org>
Date:   Sat Jul 4 21:18:13 2020 +0000

      + Xtensa: more cpu capabilites
      + Xtensa: set cpu for xtensa-linux as call window support is required
    
    git-svn-id: trunk@45731 -

M	compiler/options.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 58dcbab10e05674baaf11635fffaa8fa5b4c45a3
Author: florian <florian@freepascal.org>
Date:   Sat Jul 4 15:03:21 2020 +0000

      * (modified) patch by Michael Ring from the mailing list to fix linking for arm-freertos
    
    git-svn-id: trunk@45730 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 9142ad8950d2e2db6b115cd43b7a9471f1ef227b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Jul 4 06:14:40 2020 +0000

    bump ppudump copyright year
    
    git-svn-id: trunk@45729 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit e73dd883cd4f1efe93cebef228c9b2119b1edf4b
Author: florian <florian@freepascal.org>
Date:   Fri Jul 3 21:12:07 2020 +0000

    + handle OS_128 in mm code
    
    git-svn-id: trunk@45728 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit b72419e2a517b6f89fcfa7dcc9506533b30745c7
Author: florian <florian@freepascal.org>
Date:   Fri Jul 3 21:12:06 2020 +0000

    * regenerated
    
    git-svn-id: trunk@45727 -

M	compiler/Makefile

******************************************************************************
commit 72f6752b1cb6920c6483abe4705252f2eb51275e
Author: florian <florian@freepascal.org>
Date:   Fri Jul 3 21:12:06 2020 +0000

    + add intrdat target
    
    git-svn-id: trunk@45726 -

M	compiler/Makefile.fpc

******************************************************************************
commit 965964d07c0ba60f9e13c5ce1ec577be698d65c2
Author: florian <florian@freepascal.org>
Date:   Fri Jul 3 21:12:05 2020 +0000

    * fix compilation with newer FPC
    
    git-svn-id: trunk@45725 -

M	compiler/utils/mkx86inl.pp

******************************************************************************
commit b7ef93030aa9484a8f1e34196ee1e314bc069817
Author: florian <florian@freepascal.org>
Date:   Thu Jul 2 21:14:43 2020 +0000

      * set mm register subreg properly when cleaning them with xor
    
    git-svn-id: trunk@45721 -

M	compiler/hlcgobj.pas

******************************************************************************
commit f71415a2de5c943fa88eaa51103bc4a2e2ffdf16
Author: pierre <pierre@freepascal.org>
Date:   Thu Jul 2 16:06:01 2020 +0000

     Extend ait_ua_elf_const2str to all aitconst_XXX to fix mips/mipsel RTTI generation
    
    git-svn-id: trunk@45719 -

M	compiler/aggas.pas

******************************************************************************
commit 8f91920c9bec7eeea70b2557a3b417aa8d90b58a
Author: florian <florian@freepascal.org>
Date:   Wed Jul 1 20:45:58 2020 +0000

      * use the fpu on suitable x86 targets to copy extended values
    
    git-svn-id: trunk@45718 -

M	compiler/ncgld.pas

******************************************************************************
commit ff295bf3498bb353abaf168a8834a80c33e8268f
Author: florian <florian@freepascal.org>
Date:   Tue Jun 30 20:36:51 2020 +0000

      * delay setting of pd_body and pd_implement till the header of a generic
        procedure is parsed, resolves #37261
    
    git-svn-id: trunk@45717 -

M	.gitattributes
M	compiler/pgenutil.pas
A	tests/webtbs/tw37261.pp

******************************************************************************
commit d41f4c7c4e806156ffbec259a83016fdd598e58e
Author: florian <florian@freepascal.org>
Date:   Mon Jun 29 20:36:54 2020 +0000

      * correctly handle sign/zero extensions for optimization "var3", resolves #37254
    
    git-svn-id: trunk@45713 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw37254.pp

******************************************************************************
commit cab80d121874b3e5ae2a4a7ccb04f2b873284e79
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jun 28 22:23:36 2020 +0000

    amiga-likes: add headers for timer.device/GetSysTime()
    
    git-svn-id: trunk@45712 -

M	.gitattributes
A	rtl/amiga/m68k/timerf.inc
A	rtl/amiga/powerpc/timerf.inc
A	rtl/aros/timerf.inc

******************************************************************************
commit df42716665d467eace97490e4e27a8f927388fe1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jun 28 22:05:05 2020 +0000

    m68k-amiga: added four new exec legacy support functions, these exec calls will be used in some DOS and AThreads rework
    
    git-svn-id: trunk@45711 -

M	rtl/amiga/m68k/legacyexec.inc
M	rtl/amiga/m68k/legacyexech.inc

******************************************************************************
commit c29a0d029b5c22e27b14b4a5f59c9c389d7854bb
Author: florian <florian@freepascal.org>
Date:   Sun Jun 28 20:33:10 2020 +0000

      * reverted some stuff accidently committed in r45704
    
    git-svn-id: trunk@45710 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit eaa2a2006c6c6ad4502c71dfe3f7746b2237589e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 27 22:33:31 2020 +0000

    * fix for Mantis #37272: also allow the empty set for dynamic array parameters; Delphi probably started to allow that together with array constructors.
    + added tests
    
    git-svn-id: trunk@45706 -

M	.gitattributes
M	compiler/defcmp.pas
M	compiler/ncnv.pas
A	tests/webtbf/tw37272b.pp
A	tests/webtbs/tw37272a.pp

******************************************************************************
commit 4bacec0ee36e3f999ed33047be4136fc65aacdf2
Author: florian <florian@freepascal.org>
Date:   Sat Jun 27 19:59:27 2020 +0000

      * building for arm fixed
    
    git-svn-id: trunk@45704 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 225b06e84a29cab4fa183ec914291ecfb74ddd4d
Author: florian <florian@freepascal.org>
Date:   Fri Jun 26 20:16:44 2020 +0000

      * Xtensa: patch by Christo Crause: add IDF_PATH variable, read from the appropriate environment variable, part of #37242
    
    git-svn-id: trunk@45698 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit d62d6af7ec5a5103b53b0430ea07952e36700e8b
Author: florian <florian@freepascal.org>
Date:   Thu Jun 25 20:50:43 2020 +0000

      * Xtensa: patch by Christo Crause: fix controller date for esp8266, part of #37242
    
    git-svn-id: trunk@45696 -

M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit d401639b24ba6635c3dd05718459557c216b7b27
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Jun 25 20:42:47 2020 +0000

    * fix for Mantis #37251: apply patches by Bi0T1N to implement the IsConstValue() intrinsic
    + added tests
    
    git-svn-id: trunk@45695 -

M	.gitattributes
M	compiler/compinnr.pas
M	compiler/ninl.pas
M	compiler/pexpr.pas
M	compiler/psystem.pas
A	tests/test/tisconstvalue1.pp
A	tests/test/tisconstvalue2.pp
A	tests/test/tisconstvalue3.pp
A	tests/test/tisconstvalue4.pp

******************************************************************************
commit d22e24937a30273c189fc6f01406e6c82ffc44a4
Author: florian <florian@freepascal.org>
Date:   Wed Jun 24 20:30:28 2020 +0000

      + Xtensa: patch by Christo Crause: support subarch lx106 in freertos Makefile, part of #37242
    
    git-svn-id: trunk@45691 -

M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc

******************************************************************************
commit caee96399eec1c792b1168b222b809d2b424fb57
Author: florian <florian@freepascal.org>
Date:   Tue Jun 23 20:46:40 2020 +0000

      * patch by Christo Crause: support call0 abi in entry/exit code, part of #37242
    
    git-svn-id: trunk@45685 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit cba109c55d10bf8f95b8cdd88782f109c6e1e7ba
Author: florian <florian@freepascal.org>
Date:   Tue Jun 23 20:44:54 2020 +0000

      + Xtensa: patch by Christo Crause: support call0 abi in init final code part of #37242
    
    git-svn-id: trunk@45684 -

M	compiler/xtensa/ncpuutil.pas

******************************************************************************
commit f94518a9aefd1cd9511a9816cc842e838c7d4266
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Jun 22 20:39:55 2020 +0000

    * fix typo (no code changes)
    
    git-svn-id: trunk@45680 -

M	compiler/symdef.pas

******************************************************************************
commit cb11e2568d5afb2616e29fda4fe6cb2634c1ab40
Author: florian <florian@freepascal.org>
Date:   Mon Jun 22 19:05:13 2020 +0000

      + Xtensa: patch by Christo Crause to add optional MAC16 registers, resolves #37130
    
    git-svn-id: trunk@45679 -

M	.gitattributes
M	compiler/cgbase.pas
M	compiler/x86/aasmcpu.pas
M	compiler/xtensa/rxtensacon.inc
M	compiler/xtensa/rxtensadwa.inc
M	compiler/xtensa/rxtensanor.inc
M	compiler/xtensa/rxtensanum.inc
M	compiler/xtensa/rxtensarni.inc
M	compiler/xtensa/rxtensasri.inc
M	compiler/xtensa/rxtensasta.inc
M	compiler/xtensa/rxtensastd.inc
M	compiler/xtensa/rxtensasup.inc
M	compiler/xtensa/xtensareg.dat
A	tests/webtbs/tw37130.pp

******************************************************************************
commit e41912b07644864a3a685ac339de2085d252706e
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 22 14:13:54 2020 +0000

    * limit the ZX Spectrum programs address space up to $FDFC, because the RTL now
      installs an interrupt handler at $FDFD
    
    git-svn-id: trunk@45678 -

M	compiler/ogrel.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 1ae70c68258dc9c4c85650adea494c8aecb2a3c3
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 22 14:00:33 2020 +0000

    * switch to interrupt mode 2 and install a custom maskable interrupt handler in
      the ZX Spectrum startup code, because the ROM handler requires the IY register
      to always have a specific value, but the FPC code generator uses the IY
      register for various purposes, which causes random crashes and glitches when
      the timer interrupt occurs.
    
    git-svn-id: trunk@45677 -

M	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit e63c03125a8b066638cec8593d96eb8eb38ed3d9
Author: yury <jura@cp-lab.com>
Date:   Sun Jun 21 19:52:14 2020 +0000

    * Reworked tprocdef.is_implemented to fix a bug with the parentfp optimization. The bug was detected when using the llvm backend.
    + Added a test.
    
    git-svn-id: trunk@45675 -

M	.gitattributes
M	compiler/ncal.pas
M	compiler/psub.pas
M	compiler/symdef.pas
A	tests/test/tnest4.pp

******************************************************************************
commit 221d8d84aeeea1c61d689aadc1a13017b9cb5af2
Author: florian <florian@freepascal.org>
Date:   Sun Jun 21 19:16:27 2020 +0000

      * Xtensa: MatchInstruction requires a postfix parameter
    
    git-svn-id: trunk@45674 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit a7c0fa0deffdb9341c31c45bd3f1918faa42bab5
Author: florian <florian@freepascal.org>
Date:   Sun Jun 21 14:51:40 2020 +0000

      o patch for Xtensa by Christo Crause, resolves #37099
        + Added postfix parsing in tattreader.GetToken
        - Removed all postfixed versions of OpCodes from the instruction list
        + Added all missing OpCodes from Xtensa ISA
        * Changed branch OpCode to A_B, similar to ARM
        + Added missing branch condition flags BCI and BSI
        * Updated existing compiler code that referred to the old postfixed instructions
        + Added prefix and postfix handling in TxtensaInstrWriter.WriteInstruction
        * Updated TCPUAddNode.second_addfloat to specify .S postfix
        * Updated tcpuunaryminusnode.second_float to specify .S postfix
        + Implemented prefix and postfix identification in txtensaattreader.is_asmopcode
        * Adapted branch condition extraction to respect postfixes
        * Changed itcpugas to call findreg_by_name_table from raatt.pas (same as issue #0037121, difficult to test these changes without including a fix for the register name search problem)
    
    git-svn-id: trunk@45672 -

M	.gitattributes
M	compiler/raatt.pas
M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/aoptcpub.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpumat.pas
M	compiler/xtensa/racpugas.pas
M	compiler/xtensa/raxtensa.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc
A	tests/webtbs/tw37099.pp

******************************************************************************
commit cc7b6d0b05fd4871c2ba9909d6aac59a74837800
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 21 12:26:55 2020 +0000

      * regenerated message files
    
    git-svn-id: trunk@45671 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit a423bf64027c49e48d69cb365831a7ec15bd628b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 21 12:26:52 2020 +0000

      * fix -Agas-darwin to say Aas-darwin for x86-64, and also add it for i386
        (mantis #37230)
    
    git-svn-id: trunk@45670 -

M	compiler/msg/errore.msg

******************************************************************************
commit 27943baa2f65cb749ff9d0be8c37b4298abc1c60
Author: nickysn <nickysn@gmail.com>
Date:   Sat Jun 20 23:30:50 2020 +0000

    + support z80 in the fpc launcher utility
    
    git-svn-id: trunk@45669 -

M	compiler/utils/fpc.pp

******************************************************************************
commit 78698beaadba891b06eb4e32534e95b6fcd08c91
Author: florian <florian@freepascal.org>
Date:   Sat Jun 20 20:22:21 2020 +0000

      * compilation fixed
    
    git-svn-id: trunk@45668 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 4e1e35aef550f6a05f9307b0d39346f39e3eceee
Author: yury <jura@cp-lab.com>
Date:   Sat Jun 20 18:47:42 2020 +0000

    * Added optimization option cs_opt_unused_para. It is enabled for -O2 and higher. The parentfp optimization is tied to cs_opt_unused_para.
    
    git-svn-id: trunk@45666 -

M	compiler/globtype.pas
M	compiler/paramgr.pas

******************************************************************************
commit 7bffafdf8b0adf60492709c939e24c73a0de0139
Author: yury <jura@cp-lab.com>
Date:   Sat Jun 20 18:34:26 2020 +0000

    * Improved the parentfp optimization to properly handle cases when a nested routine calls other nested routines.
    
    git-svn-id: trunk@45665 -

M	compiler/ncal.pas
M	compiler/ncgcal.pas
M	compiler/nld.pas
M	compiler/nmem.pas
M	compiler/paramgr.pas
M	compiler/procinfo.pas

******************************************************************************
commit c15b6f4516adb7c8e524adc70d7adfd1c1682bc6
Author: yury <jura@cp-lab.com>
Date:   Sat Jun 20 18:28:07 2020 +0000

    * Fixed the parentfp optimization for some cases when nested procvars are used.
    
    git-svn-id: trunk@45664 -

M	.gitattributes
M	compiler/nld.pas
A	tests/test/tnest3.pp

******************************************************************************
commit cc23515927ef60eb3675a5626802cefbce0d7d2b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Jun 20 16:51:15 2020 +0000

    z80: vasm doesn't support the JRJP pseudo instruction, so change it to JP during write
    
    git-svn-id: trunk@45663 -

M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 11fd466394d945f20de98d013acb95b8603437c2
Author: yury <jura@cp-lab.com>
Date:   Sat Jun 20 11:14:43 2020 +0000

    * Optimize parentfp when optimization level 1 and higher to be debugger friendly.
    
    git-svn-id: trunk@45661 -

M	compiler/ncgcal.pas

******************************************************************************
commit a2303bd89994f2997949a6f5e4a6043604cbaa98
Author: florian <florian@freepascal.org>
Date:   Fri Jun 19 19:55:14 2020 +0000

      * fixed copy&paste error of r45658
    
    git-svn-id: trunk@45659 -

M	compiler/ncgutil.pas

******************************************************************************
commit 2e36783d0e4fd89fecdf84623a1dddf32e491109
Author: florian <florian@freepascal.org>
Date:   Thu Jun 18 20:32:55 2020 +0000

      * better check for short boolean evaluation in firstcomplex
    
    git-svn-id: trunk@45658 -

M	compiler/ncgutil.pas

******************************************************************************
commit 8738b4b47f3868d3c795f94743aebe743a1ea49d
Author: florian <florian@freepascal.org>
Date:   Wed Jun 17 20:33:04 2020 +0000

      + might_have_sideeffects checks also if the tempinitcode of a tempref node might have side effects
    
    git-svn-id: trunk@45656 -

M	compiler/nutils.pas

******************************************************************************
commit 62c417c8bfd8a82909eea05dc63c52661b545e67
Author: florian <florian@freepascal.org>
Date:   Mon Jun 15 19:57:39 2020 +0000

      * temporarily fix #37034 by disabling the problematic optimization until the real cause is fixed
    
    git-svn-id: trunk@45655 -

M	.gitattributes
M	compiler/nbas.pas
A	tests/webtbs/tw37034.pp

******************************************************************************
commit c6c996f506797b54228c248a3784265582a4975d
Author: florian <florian@freepascal.org>
Date:   Mon Jun 15 19:50:49 2020 +0000

      * write length/code page when writing the string type
    
    git-svn-id: trunk@45654 -

M	compiler/symdef.pas

******************************************************************************
commit b3817f6d9275f887b48fb10db3400ec2c3a686fc
Author: florian <florian@freepascal.org>
Date:   Sun Jun 14 14:56:48 2020 +0000

      * slash and divn might have an exception as side effect
    
    git-svn-id: trunk@45652 -

M	compiler/nutils.pas

******************************************************************************
commit 33094d263fdfc7c0aba42e6bb9c48d349831207a
Author: florian <florian@freepascal.org>
Date:   Sun Jun 14 14:16:49 2020 +0000

      * Aarch: handle 0 in AndAnd2And and check if the resulting constant
        is really a shifter constant, resolves #37203
    
    git-svn-id: trunk@45651 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit febeef03e4830cc4ecfcda0a5236e6f6b86d483b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 13 18:42:31 2020 +0000

    * for adding procdefs to forwarddefs check for the specialization flag instead of whether it's a full specialization; fixes implicit finalization handlers on x86_64-win64 not being found
    + added tests
    
    git-svn-id: trunk@45646 -

M	.gitattributes
M	compiler/pparautl.pas
A	tests/tbs/tb0673.pp
A	tests/tbs/tb0674.pp
A	tests/tbs/ub0674.pp

******************************************************************************
commit c45c543faaef72817b1e1d9ddc7e774f599b9835
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 13 18:42:21 2020 +0000

    * fix typo (no code changes)
    
    git-svn-id: trunk@45644 -

M	compiler/psub.pas

******************************************************************************
commit 4ec76072b4e4a02cb94cbe38363c12014181d9a9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 13 09:36:18 2020 +0000

    * ensure that the BSS section for MSX-DOS is correctly initialized to 0
    
    git-svn-id: trunk@45642 -

M	compiler/systems/t_msxdos.pas
M	rtl/msxdos/si_prc.pp

******************************************************************************
commit 58eca57feb4528a423fe0406ba0bb4c838c230cb
Author: florian <florian@freepascal.org>
Date:   Fri Jun 12 20:50:45 2020 +0000

      * patch by Christo Crause: embedded heap manager: free small blocks, resolves #37204
    
    git-svn-id: trunk@45641 -

M	rtl/embedded/heapmgr.pp

******************************************************************************
commit b2ed667a86f9a978c6d2eb6dae48e3f1932a86f8
Author: florian <florian@freepascal.org>
Date:   Thu Jun 11 17:19:56 2020 +0000

      * swap fpu stack correctly when moving data into xmm registers
    
    git-svn-id: trunk@45637 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 20f6514d9749d3e3a2323be70188df6eba2858f6
Author: florian <florian@freepascal.org>
Date:   Wed Jun 10 21:05:18 2020 +0000

      * fix compilation for non 64 Bit targets
    
    git-svn-id: trunk@45636 -

M	rtl/inc/text.inc

******************************************************************************
commit 6698f6c56b76c60476a15f20a4135dc8ca030acd
Author: florian <florian@freepascal.org>
Date:   Wed Jun 10 18:53:06 2020 +0000

      * patch by Christo Crause: FreeRTOS: heap manager doesn't free small blocks, resolves #37195
    
    git-svn-id: trunk@45633 -

M	rtl/freertos/heapmgr.pp

******************************************************************************
commit 5f118da6001068537b38bfcdab33319d1a0243a4
Author: florian <florian@freepascal.org>
Date:   Tue Jun 9 20:50:47 2020 +0000

      * optimize a/a and a-a if fast math is on
    
    git-svn-id: trunk@45630 -

M	compiler/nadd.pas

******************************************************************************
commit aafc22bd74cf83c82037e51a1699abb3517cd9f6
Author: florian <florian@freepascal.org>
Date:   Mon Jun 8 20:33:27 2020 +0000

      + optimize real operations with 0 and 1 if fast math is turned on
    
    git-svn-id: trunk@45627 -

M	compiler/nadd.pas
M	tests/webtbs/tw3160a.pp

******************************************************************************
commit de08108b27a2df1bcc945ece1b86292d90874c1d
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 23:28:03 2020 +0000

    + clear the .bss section on startup in the ZX Spectrum RTL
    
    git-svn-id: trunk@45624 -

M	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit 4a78b7e0730278224eb7204c5e94ee557a484e4d
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 23:22:57 2020 +0000

    * fixed stack initialization in the ZX Spectrum startup code
    
    git-svn-id: trunk@45623 -

M	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit 5816a4a9403df29aa77a5ed54e02d4dcde5651d9
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 23:21:42 2020 +0000

    * fixed a bug in the Z80 internal linker when reading symbol offsets from .rel files
    
    git-svn-id: trunk@45622 -

M	compiler/ogrel.pas

******************************************************************************
commit a0e2cd36382e3ad061e54cf9a32804b729e527ba
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 23:07:39 2020 +0000

    * use qword instead of aword for bsssize to avoid 8-bit truncation on Z80
    
    git-svn-id: trunk@45621 -

M	compiler/link.pas

******************************************************************************
commit 47ba80a54525b5ef8662f28282e4ccd73fc7d698
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 23:05:13 2020 +0000

    * the len parameter of TObjData.writebytes changed to TObjSectionOfs to avoid 8-bit truncation on Z80
    
    git-svn-id: trunk@45620 -

M	compiler/ogbase.pas

******************************************************************************
commit dfa736bdcaaa5e466bdf59563601ae2cfae6345c
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 22:17:47 2020 +0000

    + add the _BSSEND section after the _BSS section
    
    git-svn-id: trunk@45619 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 09bd361b484806a5d45865a963d3579b1133e787
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 22:17:10 2020 +0000

    + support the OFFSET directive in the Z80 inline assembler reader
    
    git-svn-id: trunk@45618 -

M	compiler/z80/raz80asm.pas

******************************************************************************
commit c90f78488c5c590a17d05c3880dba5077263c207
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 20:47:37 2020 +0000

    + added the 'AREA' directive support to the Z80 inline assembler, that allows
      you to define custom sections
    
    git-svn-id: trunk@45617 -

M	compiler/ogrel.pas
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas
M	compiler/z80/raz80asm.pas

******************************************************************************
commit 3c9a5ff75846720cdf50f539de81771f20cc1c82
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 20:46:37 2020 +0000

    * update revision.inc
    
    git-svn-id: trunk@45616 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 9710b2cbb406c6fe6bfb66b88fe72906038056d7
Author: florian <florian@freepascal.org>
Date:   Sun Jun 7 20:04:17 2020 +0000

      + some basic stuff for mips64el
    
    git-svn-id: trunk@45614 -

M	.gitattributes
M	compiler/fpcdefs.inc
M	compiler/mips/cgcpu.pas
A	compiler/ppcmips64el.lpi
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit eb6f503badb9d8f5475ad81f1146466090c98b09
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 7 19:09:08 2020 +0000

    * fix O_LARGEFILE for Aarch64, RISC-V 32-bit and RISC-V 64-bit
    
    git-svn-id: trunk@45613 -

M	rtl/linux/ostypes.inc

******************************************************************************
commit d1cb341cfacd61705fe3a2b9e098243faeac85a2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 7 18:22:26 2020 +0000

    * include the Z80 specific intrinsic values
    
    git-svn-id: trunk@45612 -

M	compiler/compinnr.pas

******************************************************************************
commit 95f94bebba8f42a318f10cb342975fded7df8961
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 7 12:25:15 2020 +0000

    * forgot to commit the generated Makefile
    
    git-svn-id: trunk@45609 -

M	.gitattributes
A	rtl/msxdos/Makefile

******************************************************************************
commit ac5093274d32b75bce4cd955862a1a5ea52d3056
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 7 12:25:10 2020 +0000

    + add support for port object on Z80 using the new IN/OUT intrinsics
    
    git-svn-id: trunk@45608 -

M	.gitattributes
M	rtl/msxdos/system.pp
A	rtl/z80/ports.inc
A	rtl/z80/portsh.inc

******************************************************************************
commit c793f4227167b5f2bdb8e27396ae58ff2bad2f70
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jun 7 12:24:59 2020 +0000

    + add intrinsics for Z80 port IN/OUT
    
    git-svn-id: trunk@45607 -

M	.gitattributes
A	compiler/z80/ccpuinnr.inc
M	compiler/z80/cpunode.pas
A	compiler/z80/nz80inl.pas
M	rtl/z80/cpuh.inc
A	rtl/z80/cpuinnr.inc

******************************************************************************
commit 5678baf887022814ae9a72578adc06654131d9a1
Author: nickysn <nickysn@gmail.com>
Date:   Sun Jun 7 04:12:09 2020 +0000

    * update revision.inc
    
    git-svn-id: trunk@45606 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 5f67d830e74a409b9b17d52c7005cb15472342ef
Author: florian <florian@freepascal.org>
Date:   Sat Jun 6 19:21:04 2020 +0000

      * better rules if a 3 op mul operation is tried
    
    git-svn-id: trunk@45605 -

M	compiler/x86/cgx86.pas
M	compiler/x86/nx86add.pas

******************************************************************************
commit 2c053b4f9c15d0cb14be6bf39c5c5aa1143c2a7e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 18:28:44 2020 +0000

    * regenerate msg{txt,idx}.inc after adding MSX-DOS to help text
    
    git-svn-id: trunk@45604 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 3d4ad5b69487e66a162ce2844350f0e57c05470b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 18:28:39 2020 +0000

    + add MSX-DOS to help text for -T
    
    git-svn-id: trunk@45603 -

M	compiler/msg/errore.msg

******************************************************************************
commit 85149ab9a4c96bfe1b9f1defe7fee3b4b6a2c1da
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 18:20:40 2020 +0000

    * change exe extension for MSX-DOS from exe to com
    
    git-svn-id: trunk@45602 -

M	compiler/systems/i_msxdos.pas

******************************************************************************
commit b3ddd4e7863b16b0ce22c239f298f418afa20cac
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:18:48 2020 +0000

    * regenerate Makefiles
    
    git-svn-id: trunk@45601 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihxutil/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit ac8552afc2697be02cc955d42bf0f62ee2ea3a3a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:45 2020 +0000

    + add initial RTL for MSX DOS. Simple programs are already working, but there are apparantly some code generation problems that lead to I/O as well as parameters not working correctly
    
    git-svn-id: trunk@45600 -

M	.gitattributes
M	rtl/Makefile.fpc
A	rtl/msxdos/Makefile.fpc
A	rtl/msxdos/registers.inc
A	rtl/msxdos/rtldefs.inc
A	rtl/msxdos/si_prc.pp
A	rtl/msxdos/sysdir.inc
A	rtl/msxdos/sysfile.inc
A	rtl/msxdos/sysheap.inc
A	rtl/msxdos/sysos.inc
A	rtl/msxdos/sysosh.inc
A	rtl/msxdos/system.pp

******************************************************************************
commit e2d8f7b68fc4ee2c687c2e16497660aeda0f6418
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:35 2020 +0000

    * allow executable/library name to be changed for an intermediate file
    
    git-svn-id: trunk@45599 -

M	compiler/link.pas

******************************************************************************
commit 4cc739899847f1591973d417a576cc50c880fbfa
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:31 2020 +0000

    + add support for Z80 MSX-DOS to fpmake
    
    git-svn-id: trunk@45598 -

M	packages/fpmkunit/src/fpmkunit.pp

******************************************************************************
commit a04ec36a611c043b00b32e1165df1debdacdecd0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:27 2020 +0000

    + add support for Z80 MSX-DOS to fpcmake
    
    git-svn-id: trunk@45597 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 921e73ab0ca3d1af0b69d86d165ebf67884c422a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:20 2020 +0000

    + add compiler support for the Z80 MSX-DOS target
    
    git-svn-id: trunk@45596 -

M	.gitattributes
M	compiler/ngenutil.pas
M	compiler/ogrel.pas
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas
A	compiler/systems/i_msxdos.pas
A	compiler/systems/t_msxdos.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas
M	compiler/z80/cputarg.pas

******************************************************************************
commit 1e1c17cb61713093bef48b63540533a7692e6e22
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:14 2020 +0000

    * simplify code: simply raising an exception is enough, it's not necessary to call ShowException and Terminate
    
    git-svn-id: trunk@45595 -

M	utils/ihxutil/ihxutil.lpr

******************************************************************************
commit bf96709e398bba07fec3462e83d60dfdb1dbbef7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:08 2020 +0000

    * with ihx2tzx now also supporting binary output it makes sense to rename it to something more generic
    
    git-svn-id: trunk@45594 -

M	.gitattributes
M	compiler/systems/t_zxspectrum.pas
M	utils/fpmake_add.inc
M	utils/fpmake_proc.inc
R100	utils/ihx2tzx/Makefile	utils/ihxutil/Makefile
R100	utils/ihx2tzx/Makefile.fpc	utils/ihxutil/Makefile.fpc
R076	utils/ihx2tzx/fpmake.pp	utils/ihxutil/fpmake.pp
R100	utils/ihx2tzx/ihxreader.pas	utils/ihxutil/ihxreader.pas
R094	utils/ihx2tzx/ihx2tzx.lpi	utils/ihxutil/ihxutil.lpi
R092	utils/ihx2tzx/ihx2tzx.lpr	utils/ihxutil/ihxutil.lpr
R100	utils/ihx2tzx/tzxwriter.pas	utils/ihxutil/tzxwriter.pas
R100	utils/ihx2tzx/zxbasic.pas	utils/ihxutil/zxbasic.pas

******************************************************************************
commit f095bc59b01f7edce0764dab8c3634c19bbfbb50
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:16:01 2020 +0000

    + add ability to generate a flat binary file instead of a tape file
    
    git-svn-id: trunk@45593 -

M	utils/ihx2tzx/ihx2tzx.lpr

******************************************************************************
commit 2b7d9c5a1fe1802c3ecd429e6b9f6821865de9a9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:15:57 2020 +0000

    * also handle single character register names (needed on Z80 for example)
    
    git-svn-id: trunk@45592 -

M	compiler/pstatmnt.pas

******************************************************************************
commit b2d6c36e70cf8e5b1f7fd558a70ff67ae41011e5
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jun 6 17:15:53 2020 +0000

    + add support for DEFB and DEFW directives to the internal assembler reader
    
    git-svn-id: trunk@45591 -

M	compiler/z80/raz80asm.pas

******************************************************************************
commit 17d6999726b0a5a77ff029e05c20558a8bb7bf2c
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sat Jun 6 15:44:07 2020 +0000

    Amiga: make the fullscreen video draggable, map Help Key to F20
    
    git-svn-id: trunk@45590 -

M	packages/rtl-console/src/amicommon/keyboard.pp
M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit b776d48367cfbef2debb5c62e383192be8d05ba1
Author: florian <florian@freepascal.org>
Date:   Wed Jun 3 20:29:00 2020 +0000

      + x86: optimziation MovMov2MovMov 2
    
    git-svn-id: trunk@45582 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f5489b567809e6690dd4603154ae0b0b50c0fbec
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 20:09:27 2020 +0000

    + allow specifying the program load address for the ZX Spectrum target via the -WB option
    
    git-svn-id: trunk@45581 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 1263880ef02c11403bb728c7a61bb557faf0138c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 19:37:44 2020 +0000

    - removed the z80_internal_linker build mode from the lazarus project
    
    git-svn-id: trunk@45580 -

M	compiler/ppcz80.lpi

******************************************************************************
commit d1377777be89c2515e6769e8f551257bd6d98d53
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 19:36:41 2020 +0000

    + enabled the ZX Spectrum internal linker
    
    git-svn-id: trunk@45579 -

M	compiler/systems/i_zxspectrum.pas

******************************************************************************
commit 84cd9e129b2cb9a674dd105856a6fd6441ec585a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 19:33:03 2020 +0000

    + ZX Spectrum internal linker: invoke the ihx2tzx to postprocess the ihx file,
      produced by the internal linker (in the future, the code of this utility may
      be integrated into the compiler)
    * changed the exe extension of ZX Spectrum to '.tzx'
    
    git-svn-id: trunk@45578 -

M	compiler/systems/i_zxspectrum.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 12dce172f95e77e67672ea56f25488e3bb42b288
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 17:12:41 2020 +0000

    + implemented TIntelHexExeOutput.DoRelocationFixup
    
    git-svn-id: trunk@45577 -

M	compiler/ogrel.pas

******************************************************************************
commit 3023a9f0e2c82664c26c89c15dd2ca71f7d0c2ae
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 15:39:28 2020 +0000

    - removed the GetCode/Data/BssSize overrides in the ZX Spectrum internal linker,
      since the default implementation, inherited from parent now works
    
    git-svn-id: trunk@45576 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 4b5c8982ff496d89a179061ac28cbd1413776ebd
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jun 3 15:35:42 2020 +0000

    + implemented IHX writing in the Z80 internal linker
    
    git-svn-id: trunk@45575 -

M	compiler/ogrel.pas

******************************************************************************
commit a5ab1c03ea466e93f6fb92f4c8da5dec7ed24b1a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 23:13:32 2020 +0000

    * avoid 8-bit truncation of the sizes in the internal linker map
    
    git-svn-id: trunk@45571 -

M	compiler/ogmap.pas

******************************************************************************
commit da2bd5f78908e630cce860ca25fe7da8454ce6fa
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 23:10:31 2020 +0000

    * ImageBase changed to qword to avoid 8-bit truncation in the internal linker map file
    
    git-svn-id: trunk@45570 -

M	compiler/ogmap.pas

******************************************************************************
commit 9c54d753f56bab86b9b451c8f4415cd041357a36
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 23:07:45 2020 +0000

    * ImageBase changed to qword (same type as CurrMemPos) to avoid truncating to 8-bit on Z80
    
    git-svn-id: trunk@45569 -

M	compiler/ogbase.pas

******************************************************************************
commit 4a5a2f5ba2467ffed2bc718cfacd963271af636d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 23:01:07 2020 +0000

    + set IMAGEBASE in the Z80 internal linker script
    
    git-svn-id: trunk@45568 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit b29257fd05f4ef1516360700a89954e2f1b48506
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 22:54:16 2020 +0000

    * avoid setting the oso_Data flag on bss sections
    
    git-svn-id: trunk@45567 -

M	compiler/ogrel.pas

******************************************************************************
commit 996ab2feba4407d20b087817aae89dbb13a659b5
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 22:44:57 2020 +0000

    * renamed some REL sections to follow a similar naming convention
    
    git-svn-id: trunk@45566 -

M	compiler/ogrel.pas
M	compiler/systems/t_zxspectrum.pas
M	compiler/z80/agsdasz80.pas

******************************************************************************
commit 6d3b74f96e86e18a02101971f6d04d77eada3911
Author: florian <florian@freepascal.org>
Date:   Tue Jun 2 20:58:44 2020 +0000

      * extended r45555 to take care of chars as well
    
    git-svn-id: trunk@45565 -

M	compiler/nadd.pas

******************************************************************************
commit 788797d0786e45a34d2715d280fc91ac9a358bbb
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 2 17:48:06 2020 +0000

    + implemented reading of T and R records
    
    git-svn-id: trunk@45564 -

M	compiler/ogrel.pas

******************************************************************************
commit ad66f17a876853bed249a1fd0727740b352af9b3
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 22:48:51 2020 +0000

    * group T and R records together and call a function (not implemented yet) to handle them in pairs
    
    git-svn-id: trunk@45561 -

M	compiler/ogrel.pas

******************************************************************************
commit a91b42bd8d65dc68ff22ce64af52a5b9358eb3d5
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 22:37:37 2020 +0000

    + add .text, .data and .bss exe sections and define the entry point in the ZX Spectrum internal linker script
    
    git-svn-id: trunk@45560 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 6d3bfccbe3f2fd59bd3ae9247b992c43522ba8a7
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 22:34:10 2020 +0000

    * set MaxMemPos to $FFFF in the Z80 internal linker
    
    git-svn-id: trunk@45559 -

M	compiler/ogrel.pas

******************************************************************************
commit d0beacc35fdf89306b82234e03d99021a5986741
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 22:25:31 2020 +0000

    * return the correct size for files in ar archive. This is required by the REL
      reader, which reads files until the end of file
    
    git-svn-id: trunk@45558 -

M	compiler/owar.pas
M	compiler/owbase.pas

******************************************************************************
commit 3e2cf16d1ffa53d02e375cd9bee14d039100f6fa
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 22:14:01 2020 +0000

    * TRelObjInput.ReadObjData: return success, if file was read correctly
    
    git-svn-id: trunk@45557 -

M	compiler/ogrel.pas

******************************************************************************
commit 0e54ea6babe4b1966ded98127de92435e6cf76f4
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 21:07:21 2020 +0000

    + parse the REL symbol records
    
    git-svn-id: trunk@45556 -

M	compiler/ogrel.pas

******************************************************************************
commit 792cf056eb5a2c82f83b9b81588a46a6e6337c02
Author: florian <florian@freepascal.org>
Date:   Mon Jun 1 20:50:38 2020 +0000

      * a nil node is also a constant pointer node
      + convert (v1=const1) and (v2=const2) into ((v1 xor const1) or (v2 xor const2))=0 if the expressions have no side effects
    
    git-svn-id: trunk@45555 -

M	compiler/nadd.pas
M	compiler/node.pas

******************************************************************************
commit 19a66947bc974b4dd1f42314874c26348717f1c1
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 19:52:25 2020 +0000

    + parse the area records of REL files
    
    git-svn-id: trunk@45554 -

M	compiler/ogrel.pas

******************************************************************************
commit c8337937b374901d58d7aa4b9bd5af7674084a19
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 18:06:15 2020 +0000

    + parse the REL header
    
    git-svn-id: trunk@45553 -

M	compiler/ogrel.pas

******************************************************************************
commit 31b7fd8965f0e707d2411c82dd03a11d96a16493
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 17:29:29 2020 +0000

    + partial implementation of TRelObjInput.ReadObjData
    
    git-svn-id: trunk@45552 -

M	compiler/ogrel.pas

******************************************************************************
commit 8873a199ec1c07867420b46d0637633801194e93
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 15:17:47 2020 +0000

    * buffered text reading functions moved from being local to TRelObjInput.CanReadObjData
      to being class members, so they can be used by ReadObjData as well
    
    git-svn-id: trunk@45551 -

M	compiler/ogrel.pas

******************************************************************************
commit 996eaf16b36c0517a1985b88adceffc75d86efc5
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 14:02:10 2020 +0000

    + override TInternalLinkerZXSpectrum.GetCode/Data/BssSize to avoid access violation error
    
    git-svn-id: trunk@45550 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 7eb782446e41d1c60614af575f74b560320bb325
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 13:54:27 2020 +0000

    + create a linker script for the ZX Spectrum internal linker
    
    git-svn-id: trunk@45549 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 3685b50e752eea9b4b5c234ced112624b15a9b58
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 13:53:28 2020 +0000

    + set cobjdata in TIntelHexExeOutput.create;
    
    git-svn-id: trunk@45548 -

M	compiler/ogrel.pas

******************************************************************************
commit 6104cd321c72d825b6e28c708bc513f8375af515
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 13:14:46 2020 +0000

    + set cobjdata in TRelObjInput.create
    
    git-svn-id: trunk@45547 -

M	compiler/ogrel.pas

******************************************************************************
commit b2714052d1a10ab417ae2eb783b671403c43922f
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 1 13:10:39 2020 +0000

    + override TInternalLinkerZXSpectrum.InitSysInitUnitName
    
    git-svn-id: trunk@45546 -

M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 42e4d66c5e4891900162f826f868e0a177a82ab1
Author: florian <florian@freepascal.org>
Date:   Sun May 31 21:40:59 2020 +0000

      * AArch64: enable TARMAsmOptimizer.OptPass1And
    
    git-svn-id: trunk@45544 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 8ffd7565466fbda97e7551cea9036314fefcba78
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 31 20:26:07 2020 +0000

    + added 'z80_internal_linker' build mode to the z80 lazarus project
    
    git-svn-id: trunk@45543 -

M	compiler/ppcz80.lpi

******************************************************************************
commit 4a296c9f5dc776d68c1e52443758efc52c5f21f1
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 31 19:39:12 2020 +0000

    * enable the Z80 internal linker (not working yet) if the compiler is compiled with the Z80_INTERNAL_LINKER define
    
    git-svn-id: trunk@45542 -

M	compiler/systems/i_zxspectrum.pas

******************************************************************************
commit 3c8ac8d35697b44a8caf069a925da30ed5aea2b0
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 31 19:30:59 2020 +0000

    - removed the z80_internal_asm build mode, since it's now a feature enabled by default, not hidden behind an ifdef
    
    git-svn-id: trunk@45541 -

M	compiler/ppcz80.lpi

******************************************************************************
commit 11cc085870fb6f58eac5195496f64d9d2d7f5ec3
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 31 17:45:12 2020 +0000

    + implemented TRelObjInput.CanReadObjData
    
    git-svn-id: trunk@45540 -

M	compiler/ogrel.pas

******************************************************************************
commit c5d7e6807cce2042f90ce429335ddf0bb0223144
Author: florian <florian@freepascal.org>
Date:   Sat May 30 20:44:19 2020 +0000

      * ARM: factor out TARMAsmOptimizer.OptPass1And
    
    git-svn-id: trunk@45536 -

M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 0acae47310dc0a6fa2ffaffe21b2544ba869e100
Author: florian <florian@freepascal.org>
Date:   Fri May 29 20:51:04 2020 +0000

      * ARM: get rid of more unneeded sxtb/h uxtb/h instructions
    
    git-svn-id: trunk@45529 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 2353b1adee799a3821832dff63cfda1f4cd30b2e
Author: nickysn <nickysn@gmail.com>
Date:   Fri May 29 18:13:18 2020 +0000

    + started work on the Z80 internal linker
    
    git-svn-id: trunk@45528 -

M	compiler/ogrel.pas
M	compiler/systems.inc
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 1c5d0220fed77c8c84ef6df46535435e264c74fe
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri May 29 13:04:37 2020 +0000

    * enable tests for the Nullable unit
    
    git-svn-id: trunk@45527 -

M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 651f5cb8a1e914c77dfbd99336b2b6d38da558e7
Author: florian <florian@freepascal.org>
Date:   Thu May 28 21:37:05 2020 +0000

      * ARM: (V)LDM do not load from the registers in the reg. set
    
    git-svn-id: trunk@45525 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 3f95fa50efa96180d5c9648b354d280090ba4cea
Author: nickysn <nickysn@gmail.com>
Date:   Thu May 28 21:08:02 2020 +0000

    * use const_align(sizeof(pint)) alignment instead of sizeof(pint) for various
      compiler-generated structures, so they don't waste any extra alignment space
      on 8-bit CPUs like the Z80 and the AVR
    
    git-svn-id: trunk@45524 -

M	compiler/ngenutil.pas

******************************************************************************
commit d88da03e7da8bb0ee227a558db7f18a6cfa83942
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 26 19:52:27 2020 +0000

    * z80: use the JRJP pseudo instruction to generate shorter code (it is
      translated to JR wherever possible, otherwise to JP)
    
    git-svn-id: trunk@45510 -

M	compiler/z80/cgcpu.pas

******************************************************************************
commit c49213c561171e398d76eb7957f8e965cbf2295e
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 22:40:41 2020 +0000

    + Z80: implemented the JRJP pseudo instruction in the Z80 internal asm writer
    
    git-svn-id: trunk@45502 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 0a62e6040b062e7176b404926328281c3355e42a
Author: pierre <pierre@freepascal.org>
Date:   Mon May 25 22:14:13 2020 +0000

     Reorder and complete list of supported CPUs
    
    git-svn-id: trunk@45501 -

M	compiler/pp.pas

******************************************************************************
commit b4de0b2e9c8ddd9dca7af3f7f24bbdd825dfd7e8
Author: florian <florian@freepascal.org>
Date:   Mon May 25 20:38:19 2020 +0000

      * insert fwait after fcompp, resolves #37136
    
    git-svn-id: trunk@45500 -

M	.gitattributes
M	compiler/x86/nx86add.pas
A	tests/webtbs/tw37136.pp

******************************************************************************
commit 41ccebb7371d261c79dc6f05a0e7daf9e9442935
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon May 25 19:07:08 2020 +0000

    * CPU_UNITS needs to be referenced
    
    git-svn-id: trunk@45499 -

M	rtl/win64/Makefile
M	rtl/win64/Makefile.fpc

******************************************************************************
commit 195e7e09180e7187ffc1bf5a83625162651ff051
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 16:29:31 2020 +0000

    * translate jrjp to jp in the sdcc-sdasz80 asm writer
    
    git-svn-id: trunk@45498 -

M	compiler/z80/agsdasz80.pas

******************************************************************************
commit f71b6f341b7ffdc3e6e58cb60f2f8884fd92fd25
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 16:12:06 2020 +0000

    + added JRJP to various instruction lists
    
    git-svn-id: trunk@45497 -

M	compiler/z80/aasmcpu.pas
M	compiler/z80/aoptcpu.pas
M	compiler/z80/aoptcpub.pas
M	compiler/z80/cpubase.pas
M	compiler/z80/raz80asm.pas

******************************************************************************
commit c5d04d1a541555b29b176bc2cb7e96bed089d8af
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 15:53:51 2020 +0000

    + Z80: added the JRJP pseudo instruction
    
    git-svn-id: trunk@45496 -

M	compiler/z80/z80ins.dat
M	compiler/z80/z80nop.inc
M	compiler/z80/z80op.inc
M	compiler/z80/z80stdopnames.inc
M	compiler/z80/z80tab.inc

******************************************************************************
commit 90d7a7f03add5d973d9a30455281ad09662a185e
Author: pierre <pierre@freepascal.org>
Date:   Mon May 25 14:40:08 2020 +0000

     Disable cpu and signals unit for aarch64 CPU
    
    git-svn-id: trunk@45495 -

M	rtl/win64/Makefile
M	rtl/win64/Makefile.fpc

******************************************************************************
commit 362d2b50df8d28dd4f769b6c90a18e23d5edf12d
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 00:32:55 2020 +0000

    + enable the Z80 internal assembler
    
    git-svn-id: trunk@45493 -

M	compiler/systems/i_embed.pas
M	compiler/systems/i_zxspectrum.pas

******************************************************************************
commit 850964f321a46cad5912ceba6a7d682deb144279
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 00:17:29 2020 +0000

    + also write sections with no data in the .rel internal obj writer
    
    git-svn-id: trunk@45492 -

M	compiler/ogrel.pas

******************************************************************************
commit e8af7427bb0ead629eea25ac86556605b1dea252
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 25 00:16:38 2020 +0000

    * the len parameter of TObjData.alloc changed to TObjSectionOfs
    
    git-svn-id: trunk@45491 -

M	compiler/ogbase.pas

******************************************************************************
commit 36323fe424c1b3e543c4706dacd3754a806e7814
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 24 22:47:54 2020 +0000

    * always use 1-byte section alignment for the rel internal obj writer
    
    git-svn-id: trunk@45490 -

M	compiler/ogrel.pas

******************************************************************************
commit 84a1f614d96a2104f99e3be8b707846462ad0c62
Author: florian <florian@freepascal.org>
Date:   Sun May 24 17:52:09 2020 +0000

      * fix several double ;
    
    git-svn-id: trunk@45488 -

M	compiler/aarch64/racpugas.pas
M	compiler/aasmtai.pas
M	compiler/cgexcept.pas
M	compiler/fmodule.pas
M	compiler/jvm/cpupara.pas
M	compiler/nbas.pas
M	compiler/nset.pas
M	compiler/objcgutl.pas
M	compiler/paramgr.pas
M	compiler/pkgutil.pas
M	compiler/powerpc64/nppcadd.pas
M	compiler/rautils.pas
M	compiler/symtable.pas
M	compiler/utils/ppuutils/ppuout.pp
M	compiler/x86/aasmcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit afb68dbcf35ecfb9a3b5671ae481981423b4e0e5
Author: florian <florian@freepascal.org>
Date:   Sun May 24 17:52:07 2020 +0000

      * factored out OptPass1VPXor
    
    git-svn-id: trunk@45487 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 88c98a57419e0aff7c3ba8b7478cdb119c5e7ccd
Author: florian <florian@freepascal.org>
Date:   Sun May 24 17:52:07 2020 +0000

      * improve copy_avx gencopy mode
    
    git-svn-id: trunk@45486 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 93eb40b05c4157a929a6cf9c4946c0bda6812833
Author: florian <florian@freepascal.org>
Date:   Sun May 24 17:52:06 2020 +0000

      * create vpxor instead of pxor in avx mode
    
    git-svn-id: trunk@45485 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 82a3877126afb9658096f981be0ebe1ac2d18a59
Author: florian <florian@freepascal.org>
Date:   Sun May 24 17:52:05 2020 +0000

      + x86: track use of full ymm registers and generate vzeroupper if needed
    
    git-svn-id: trunk@45484 -

M	compiler/globtype.pas
M	compiler/i386/cgcpu.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit 78381bd1ae37be8526eae9e6979c55c687f71d67
Author: florian <florian@freepascal.org>
Date:   Sun May 24 13:56:42 2020 +0000

      * x86 has to use newalignment as well
    
    git-svn-id: trunk@45483 -

M	compiler/x86/nx86mem.pas

******************************************************************************
commit 3d81c8e51d16f919680b66b71d3fa68a7d66b177
Author: florian <florian@freepascal.org>
Date:   Sun May 24 13:56:41 2020 +0000

      * re-activate copy_mm: using it instead of movs might reduce register pressure
    
    git-svn-id: trunk@45482 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 0bce44e342eeda9f92a915132e88de456b867637
Author: florian <florian@freepascal.org>
Date:   Sat May 23 21:33:14 2020 +0000

      * compilation on i386 fixed
    
    git-svn-id: trunk@45480 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit aa243faab836d9287b124de54ef2fe125d556198
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 23 19:03:14 2020 +0000

      * do not load unused parameters, as their localloc has not been set (and
        there is no point in doing so if it were)
       o fixes compilation of RTL with LLVM/AArch64
    
    git-svn-id: trunk@45478 -

M	compiler/hlcgobj.pas

******************************************************************************
commit 809fb8333433fb37349425d52b026fa43a99d61c
Author: florian <florian@freepascal.org>
Date:   Sat May 23 17:50:14 2020 +0000

      * adapt optimizer to handle push/pop for stack alignment
      * adapt test
    
    git-svn-id: trunk@45477 -

M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas
M	tests/test/tasm23b.pp

******************************************************************************
commit 8f0a3cfce77aee2a6a85f76c1eeb5615d45cd7f9
Author: florian <florian@freepascal.org>
Date:   Sat May 23 17:50:13 2020 +0000

      * x86-64: adjust stack by push/pop if possible
    
    git-svn-id: trunk@45476 -

M	compiler/x86/cgx86.pas
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit d2879f5bb9955434a43b394995c8778927d8dce8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 23 14:42:31 2020 +0000

    tosunits: fixed the palette to be ST only (9 bits) in the example picture, this is a bug in GraphX2 which was used to convert the picture to DEGAS format
    
    git-svn-id: trunk@45475 -

M	packages/tosunits/examples/showpic.inc

******************************************************************************
commit 9f80b11c5db115fa5dbc78fcca872ff3d8ecdca8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 23 14:26:41 2020 +0000

    tosunits: added another example which shows a DEGAS format picture
    
    git-svn-id: trunk@45474 -

M	.gitattributes
A	packages/tosunits/examples/showpic.inc
A	packages/tosunits/examples/showpic.pas
M	packages/tosunits/fpmake.pp

******************************************************************************
commit 6cc818cbe3e70ce85c23f3f6bba6bc22f79909a4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 23 12:13:30 2020 +0000

    m68k: avoid more vlink warnings regarding changed section attributes, when the target system has no write-protected sections
    
    git-svn-id: trunk@45470 -

M	compiler/aggas.pas

******************************************************************************
commit 58af742f3a57c156531c3e46332dd558194c77ef
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 23 11:13:07 2020 +0000

    m68k: atari syscalls might also destroy D2 and A2
    
    git-svn-id: trunk@45469 -

M	compiler/m68k/cpupara.pas

******************************************************************************
commit 60d4363f475b8e429856d51e6a90834cff295895
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 23 02:25:52 2020 +0000

    tosunits: added some more xbios calls
    
    git-svn-id: trunk@45468 -

M	packages/tosunits/src/xbios.pas

******************************************************************************
commit e76f9e5b36e164ef69a4ba68cb10c21520aba710
Author: florian <florian@freepascal.org>
Date:   Fri May 22 20:54:45 2020 +0000

      * patch by Christo Crause: fix register search on xtensa, resolves #37121
    
    git-svn-id: trunk@45467 -

M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/itcpugas.pas

******************************************************************************
commit bc1b1e5d1f2bcb777cb06630abb29cc36b6a5713
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 22 13:11:56 2020 +0000

      * added missing method declarations for AOPowerManager.InnerWakeLock class
    
    git-svn-id: trunk@45466 -

M	rtl/android/jvm/androidr14.inc

******************************************************************************
commit 5be84e807933f3bb545db3502e9787d5e0b271a2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri May 22 13:11:52 2020 +0000

      * replaced custom packed record with tmethod
    
    git-svn-id: trunk@45465 -

M	compiler/ncnv.pas

******************************************************************************
commit 90c1bf2e12e1f69b049d0bfb394df3652bf27722
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri May 22 12:45:20 2020 +0000

    * add tests\test\unit\types directory to list of tested directories
    
    git-svn-id: trunk@45463 -

M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 4caa471a241bc1bb67d6374bd831e1f58687dc41
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu May 21 10:56:39 2020 +0000

      * implemented a_load_undefined_cgpara for LLVM, fixes LLVM code generator
        after the changes to optimize unused parentfp parameters
    
    git-svn-id: trunk@45456 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 571095773aa21f75755eb19c928568e0edd32ed2
Author: marcus <marcus@idefix.freepascal.org>
Date:   Thu May 21 10:33:17 2020 +0000

    Amiga: optimized video unit drawing
    
    git-svn-id: trunk@45455 -

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 627fcb4354a9027f4008b793050a60e66e482958
Author: yury <jura@cp-lab.com>
Date:   Thu May 21 09:36:40 2020 +0000

    * Do not use the LOC_VOID location to indicate unused parameters.
    * Added the tprocdef.parentfpsym property. Set parentfpsym.varstate to vs_read instead of using the pio_needs_parentfp flag.
    * Replaced tcgcallparanode.push_zero_sized_value_para by tparamanager.has_strict_proc_signature.
    
    git-svn-id: trunk@45454 -

M	compiler/jvm/cpupara.pas
M	compiler/jvm/njvmcal.pas
M	compiler/llvm/llvmpara.pas
M	compiler/llvm/nllvmcal.pas
M	compiler/ncal.pas
M	compiler/ncgcal.pas
M	compiler/ncgmem.pas
M	compiler/ncgnstmm.pas
M	compiler/ncgutil.pas
M	compiler/nmem.pas
M	compiler/paramgr.pas
M	compiler/pparautl.pas
M	compiler/procinfo.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 56632b720c4b0dfe65586504aad09855984e8cdf
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 20 21:21:26 2020 +0000

    + Z80: handle the flags register in TAoptBaseCpu.RegModifiedByInstruction
    
    git-svn-id: trunk@45452 -

M	compiler/z80/aoptcpub.pas

******************************************************************************
commit 88b6bbe6cc9815f45f954e955a2c0d1d69e82c62
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 20 21:02:46 2020 +0000

    * compilation fixed after r45450
    
    git-svn-id: trunk@45451 -

M	compiler/z80/aoptcpub.pas

******************************************************************************
commit cc47a49c81781928ec5a59e127d0040dcce8a855
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 20 20:57:59 2020 +0000

    + Z80: handle all instructions that modify registers, that are not an operand in TAoptBaseCpu.RegModifiedByInstruction
    
    git-svn-id: trunk@45450 -

M	compiler/z80/aoptcpub.pas

******************************************************************************
commit 2507c1ace69387df7feb0d805cb33ec6611089d7
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 20 20:20:10 2020 +0000

    * Reg1ReadDependsOnReg2 moved to TAoptBaseCpu
    * use Reg1ReadDependsOnReg2 in TAoptBaseCpu.RegModifiedByInstruction to handle properly Z80 subregisters
    
    git-svn-id: trunk@45449 -

M	compiler/z80/aoptcpu.pas
M	compiler/z80/aoptcpub.pas

******************************************************************************
commit 4f707c3d7eb52dc9199a7f369436ba964dbb67d8
Author: florian <florian@freepascal.org>
Date:   Wed May 20 20:10:15 2020 +0000

      * patch by Karl-Michael Schindler to update the German help files, resolves #37122
    
    git-svn-id: trunk@45448 -

M	compiler/msg/errord.msg
M	compiler/msg/errordu.msg

******************************************************************************
commit 15baa272fecd73081cb57d776969aedfcf7ba1e3
Author: florian <florian@freepascal.org>
Date:   Tue May 19 20:34:41 2020 +0000

      * exceptions are side effects which must be considered in boolean expressions
    
    git-svn-id: trunk@45441 -

M	compiler/ncgutil.pas

******************************************************************************
commit 9d1c81438706b4f59bc37d7f7905e59617dd48ac
Author: yury <jura@cp-lab.com>
Date:   Tue May 19 14:14:16 2020 +0000

    * Added the thlcgobj.a_load_undefined_cgpara() method to pass an undefined value as a parameter to a routine. The generic version passes the 0/nil value if the parameter's location is not a register.
    * Use a_load_undefined_cgpara() to load values for unused parameters.
    
    git-svn-id: trunk@45439 -

M	compiler/hlcgobj.pas
M	compiler/ncgcal.pas

******************************************************************************
commit 30e61067a0ee062c25830ca4aa5415972a0dc5c2
Author: yury <jura@cp-lab.com>
Date:   Tue May 19 14:09:54 2020 +0000

    * It is needed to mark $parentfp as used for all targets.
    
    git-svn-id: trunk@45438 -

M	compiler/pparautl.pas

******************************************************************************
commit afc568cf93fdfaa09f75eb0ab65d3cbaa2f628f0
Author: yury <jura@cp-lab.com>
Date:   Tue May 19 14:01:19 2020 +0000

    * Fixed the jvm target after r45436.
    
    git-svn-id: trunk@45437 -

M	compiler/ncgnstmm.pas

******************************************************************************
commit 2808873d1bc4e9cfea75304d1e99f39691298657
Author: yury <jura@cp-lab.com>
Date:   Tue May 19 13:17:47 2020 +0000

    * Reworked the optimization of unused $parentfp for nested routines.
      - Do not remove the $parentfp parameter as was done in the previous optimization approach. Instead when $parentfp is unused to the following:
          - On the caller side: Omit passing the value for $parentfp for targets where tcgcallparanode.push_zero_sized_value_para=false (classic CPU targets).
              Pass 0/nil as $parentfp for targets where tcgcallparanode.push_zero_sized_value_para=true;
          - On the callee side: Prevent allocation of registers/resources for $parentfp.
      - When possible keep $parentfp in a register.
      - Set the pio_nested_access flag in tprocinfo.set_needs_parentfp() to properly handle deep nesting levels;
    
    git-svn-id: trunk@45436 -

M	compiler/dbgbase.pas
M	compiler/defcmp.pas
M	compiler/ncgcal.pas
M	compiler/ncgmem.pas
M	compiler/ncgnstmm.pas
M	compiler/ncgutil.pas
M	compiler/nld.pas
M	compiler/nmem.pas
M	compiler/pparautl.pas
M	compiler/procinfo.pas
M	compiler/psub.pas
M	compiler/symdef.pas

******************************************************************************
commit 9b54588d75372d25f022459da9bfe131e7a23795
Author: florian <florian@freepascal.org>
Date:   Mon May 18 21:28:45 2020 +0000

      + PXorPXor2PXor optimization
    
    git-svn-id: trunk@45430 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit edcc14a5ce33716e0e51d37dd4e281c0465ac369
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 17 23:38:23 2020 +0000

    * Z80: JR can be both conditional and uncoditional jump, just like JP
    
    git-svn-id: trunk@45411 -

M	compiler/aoptobj.pas
M	compiler/z80/aoptcpub.pas

******************************************************************************
commit af0ba7be83258ee9f9b21f45fd645abf093953ed
Author: florian <florian@freepascal.org>
Date:   Sun May 17 18:14:48 2020 +0000

      * when auto-inlining is used, do not require that inlining is explicitly turned on
    
    git-svn-id: trunk@45405 -

M	compiler/psub.pas

******************************************************************************
commit 97efb03ae67b7035d31b89984f04ba301198b7da
Author: florian <florian@freepascal.org>
Date:   Sun May 17 17:41:44 2020 +0000

      * call x86 addordinal for non short boolean evaluated boolean nodes
        as this results in better code
    
    git-svn-id: trunk@45404 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit fcf2cd2bea510174b60d78d534d331aa2477b5f9
Author: florian <florian@freepascal.org>
Date:   Sun May 17 17:41:43 2020 +0000

      * boolean or/and nodes might be swapped when they have no side effect, in case
        of short boolean evaluation, firstcomplex is not called so this does not
        hurt short boolean evaluation
    
    git-svn-id: trunk@45403 -

M	compiler/ncgutil.pas

******************************************************************************
commit 13028db5a4418508c42143c2574275f9d2b0f158
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 17 14:38:57 2020 +0000

    - z80: disable regvars, because they don't work
    
    git-svn-id: trunk@45402 -

M	compiler/z80/cpuinfo.pas

******************************************************************************
commit f9672b53a2d4e988e99575a70fd55eb7f9cb8960
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 17 14:05:38 2020 +0000

      - removed old float-to-string and string-to-float conversion code
    
    git-svn-id: trunk@45401 -

M	.gitattributes
M	rtl/fpmake.pp
M	rtl/inc/makefile.inc
M	rtl/inc/readme
D	rtl/inc/real2str.inc
M	rtl/inc/sstrings.inc
M	rtl/inc/systemh.inc
M	rtl/java/jsystemh_types.inc

******************************************************************************
commit b54d9cfecbf88fade10380b310742c78d002dcad
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 17 11:35:42 2020 +0000

    * fixed IsJumpToLabelUncond for the Z80
    
    git-svn-id: trunk@45397 -

M	compiler/aoptobj.pas

******************************************************************************
commit 63af4e173dc10c05c6ace5158732eb1f6bb053dd
Author: nickysn <nickysn@gmail.com>
Date:   Sat May 16 20:33:44 2020 +0000

    + z80: handle all instructions in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@45391 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit 5502d6cc58baeedaa471cbf75ec57509dd3a3c51
Author: nickysn <nickysn@gmail.com>
Date:   Sat May 16 19:58:37 2020 +0000

    + Z80: report the flags usage for all the remaining instructions in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@45390 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit c38efe6d18f2b49a3e6dd58b8a45019543034462
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 16 19:15:52 2020 +0000

    m68k: tabs to spaces and indentation fix, no functional change
    
    git-svn-id: trunk@45389 -

M	compiler/m68k/cgcpu.pas

******************************************************************************
commit d9eddc50fd7d1d3b9becfc1f4706113bb49bcffd
Author: florian <florian@freepascal.org>
Date:   Sat May 16 15:51:48 2020 +0000

      * fix spilling for PAND, POR and PXOR, resolves #37084
    
    git-svn-id: trunk@45388 -

M	compiler/x86/rgx86.pas

******************************************************************************
commit 2c8db3bb9ebf1e76b6a30cf16f3e9ed188018d69
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 16 13:47:18 2020 +0000

    m68k: add support for bitfield instructions as CPU capability
    
    git-svn-id: trunk@45383 -

M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit 6f165b6c01461a821444619b18fd9576813b0b5f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 16 13:31:28 2020 +0000

      * fixed tests
       o fixed use of loop counter after end of loop
       o fixed reliance on old behaviour for int -> real typecasts
    
    git-svn-id: trunk@45379 -

M	tests/test/jvm/test.pp

******************************************************************************
commit f0edd62b88df48c4a4d97f5038bc6e35433f542d
Author: nickysn <nickysn@gmail.com>
Date:   Sat May 16 00:03:54 2020 +0000

    + Z80: report flags register information in TCpuAsmOptimizer.RegLoadedWithNewValue for 16-bit ADD,ADC,SBC,INC and DEC
    
    git-svn-id: trunk@45373 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit b239365479351d525b6cf372e7defea70d486f7f
Author: florian <florian@freepascal.org>
Date:   Fri May 15 21:25:30 2020 +0000

      * improved LeaLea2Lea
    
    git-svn-id: trunk@45372 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 37b607143a8ed79e9cc4e497535970d539cb2933
Author: nickysn <nickysn@gmail.com>
Date:   Thu May 14 22:44:48 2020 +0000

    + handle the flags register bits for many Z80 instructions in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@45366 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit 4559620efaefd84906cb6dff08ae912c662eaf13
Author: florian <florian@freepascal.org>
Date:   Thu May 14 21:16:12 2020 +0000

      * patch by Reynaldo to generate kernel image for the raspi2 embedded port, resolves #27052
    
    git-svn-id: trunk@45365 -

M	compiler/systems/t_embed.pas

******************************************************************************
commit 1df56495b7bc2d97b6506537f34e45f46e19456c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu May 14 15:23:27 2020 +0000

    * fix a typo in a comment. no functional change
    
    git-svn-id: trunk@45364 -

M	compiler/aasmcnst.pas

******************************************************************************
commit a2174753c1a89a039af948b9b7a72142b3fb6324
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed May 13 21:46:29 2020 +0000

      - removed tabstractrecorddef.get_unit_symtable, which did not always return the unit
        symtable (when you had a local recorddef in a procdef)
      * modified tdef.get_top_level_symtable() so you can specify whether you want to
        skip procdefs or not
      * changed tobjectdef.vmt_def() to no longer require a typesym for the tobjectdef
        (based on patch by Blaise)
    
    git-svn-id: trunk@45361 -

M	compiler/symcreat.pas
M	compiler/symdef.pas
M	compiler/symtable.pas
M	compiler/symtype.pas

******************************************************************************
commit 7a60e044e3bec9814d891d1761bea3445eca284f
Author: florian <florian@freepascal.org>
Date:   Wed May 13 20:26:04 2020 +0000

      * simplify constant expressions after re-ordering, resolves #37062
    
    git-svn-id: trunk@45360 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw37062.pp

******************************************************************************
commit a414997a84f1b9099110ce89c77fcab85088c630
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 16:20:48 2020 +0000

     Use 0 instead of 0xffffffff to disable page width
    
    git-svn-id: trunk@45358 -

M	packages/gdbint/src/gdbint.pp

******************************************************************************
commit db0f0be3bad4800fa6a9d1ef4bbcbe08f76aab79
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 15:03:35 2020 +0000

     Use 0 instead of 0xffffffff to disable page width
    
    git-svn-id: trunk@45357 -

M	packages/gdbint/src/gdbcon.pp
M	packages/ide/fpviews.pas

******************************************************************************
commit c77ef7d6dd0d1920ebf0f4b9ca27dccaaa69bb38
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 13:53:15 2020 +0000

     Regenerate all Makefile's after change in utils/fpcm/fpcmake.ini to better support use of i386 compiler on x86_64 machines
    
    git-svn-id: trunk@45356 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihx2tzx/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit ae91ff00b962a9b53ede880aba87de37f70bbae8
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 09:17:11 2020 +0000

     Do not add -Fl$GCCLIBDIR to FPCMAKEOPT as this is now handled by fpcmake
    
    git-svn-id: trunk@45354 -

M	packages/fpmkunit/Makefile.fpc

******************************************************************************
commit 406d17a4b6c75e5cc81dedc1f091ee61b7ce9660
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 09:14:42 2020 +0000

    Update fpcmake.inc and revision.inc after previous commit #45352
    
    git-svn-id: trunk@45353 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/revision.inc

******************************************************************************
commit 5ffc1b81529bf8fa013781e3370ca18069df54b8
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 09:12:19 2020 +0000

     Use GCCLIBDIR variable for FPCMAKEGCCLIBDIR if FPCFPMAKE has same target cpu as CPU_TARGET
    
    git-svn-id: trunk@45352 -

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 3aa253c11d215bde7ff9312c9e5ac7a5287f0818
Author: pierre <pierre@freepascal.org>
Date:   Wed May 13 09:10:23 2020 +0000

     Allow system unit to be compiled without RTTI feature
    
    git-svn-id: trunk@45351 -

M	rtl/inc/objpas.inc
M	rtl/inc/rttih.inc
M	rtl/inc/sstrings.inc
M	rtl/inc/systemh.inc
M	rtl/java/jsystemh.inc

******************************************************************************
commit 7dbab3a78f0cefad954346be023db3f0460e407a
Author: florian <florian@freepascal.org>
Date:   Tue May 12 20:43:15 2020 +0000

      * handle OP_XOR for a full mm register correctly in tcgx86.opmm_loc_reg
    
    git-svn-id: trunk@45348 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 4beb4bf8b20a899174a472a7c5a5c52c54f01bc5
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 12 01:58:10 2020 +0000

    + Z80: support the flags subregisters in the registers_interfere function
    
    git-svn-id: trunk@45347 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit c6c834949fd50d42e5b724ba4a5981ea13f9c5c3
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 12 01:47:58 2020 +0000

    + Z80: support all the flags subregisters in super_registers_equal
    
    git-svn-id: trunk@45346 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit fe120269595d5fd1a50660fda2f374f2de341117
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 23:55:23 2020 +0000

    + support the LD instruction in TCpuAsmOptimizer.RegLoadedWithNewValue
    
    git-svn-id: trunk@45345 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit bb4d7a7a50d593ec2a1676f105c43b0411e90063
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 22:24:20 2020 +0000

    + Z80: implemented TCpuAsmOptimizer.InstructionLoadsFromReg
    
    git-svn-id: trunk@45344 -

M	compiler/z80/aoptcpu.pas

******************************************************************************
commit 05091cf0dda02c86b90f46a20d1aff82309fa1ca
Author: florian <florian@freepascal.org>
Date:   Mon May 11 21:14:06 2020 +0000

      + MovAndTest2Test optimization
    
    git-svn-id: trunk@45343 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4abc498f2f37d6b789eb3229779f6e716119a479
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 19:17:31 2020 +0000

    + added the Z80 individual flag bits as subregisters
    
    git-svn-id: trunk@45342 -

M	compiler/rgbase.pas
M	compiler/z80/rz80con.inc
M	compiler/z80/rz80dwa.inc
M	compiler/z80/rz80nor.inc
M	compiler/z80/rz80num.inc
M	compiler/z80/rz80rni.inc
M	compiler/z80/rz80sri.inc
M	compiler/z80/rz80sta.inc
M	compiler/z80/rz80std.inc
M	compiler/z80/rz80sup.inc
M	compiler/z80/z80reg.dat

******************************************************************************
commit b98cc1ebfff7b107ae3429844e19a78e1c68bdd1
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 18:03:29 2020 +0000

    + added subregisters for the Z80 flags
    
    git-svn-id: trunk@45341 -

M	compiler/cgbase.pas

******************************************************************************
commit 1f8a9c708efd1f18f40aefe98e2cf3f3393cf07d
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 17:18:00 2020 +0000

    * use RegistersInterfere instead of SuperRegistersEqual in TAoptBase.RegInOp and TAoptBase.RegInRef
    
    git-svn-id: trunk@45340 -

M	compiler/aoptbase.pas

******************************************************************************
commit 531cc0ab0d1b22803a1e5b55a4ba7782f853c375
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 16:00:27 2020 +0000

    + introduced TAOptBase.RegistersInterfere (which might not always be equivalent to SuperRegistersEqual)
    
    git-svn-id: trunk@45339 -

M	compiler/aoptbase.pas

******************************************************************************
commit 4263ff44c1fd7fb1c061a79b6c1d67e24e48120d
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 15:29:42 2020 +0000

    + Z80: added a registers_interfere helper function
    
    git-svn-id: trunk@45338 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit 5947adcd7bdd21d7acee39eafc39266ef4776e93
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 14:21:26 2020 +0000

    + added a correct implementation of TAOptBase.SuperRegistersEqual for the Z80
    
    git-svn-id: trunk@45337 -

M	compiler/aoptbase.pas
M	compiler/z80/cpubase.pas

******************************************************************************
commit 06a728df246871ebdf1dad443f12df695617f425
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 04:23:02 2020 +0000

    + added the alternate Z80 register pairs BC', DE' and HL'
    
    git-svn-id: trunk@45333 -

M	compiler/z80/rz80con.inc
M	compiler/z80/rz80dwa.inc
M	compiler/z80/rz80nor.inc
M	compiler/z80/rz80num.inc
M	compiler/z80/rz80rni.inc
M	compiler/z80/rz80sri.inc
M	compiler/z80/rz80sta.inc
M	compiler/z80/rz80std.inc
M	compiler/z80/rz80sup.inc
M	compiler/z80/z80reg.dat

******************************************************************************
commit 9ce97e6ba58f78ee3132c6a9b4e252506560f055
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 00:55:32 2020 +0000

    + also recognize alternate registers in the Z80 inline asm scanner. This allows
      the "EX AF,AF'" instruction to be accepted and assembled as well.
    
    git-svn-id: trunk@45332 -

M	compiler/z80/raz80asm.pas

******************************************************************************
commit b581751ef339554b63e2556db2643e421829a1be
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 11 00:46:24 2020 +0000

    - cleaned up some x86-specific code from the Z80 inline asm reader
    
    git-svn-id: trunk@45331 -

M	compiler/z80/raz80asm.pas

******************************************************************************
commit 0fbd418cb739d5cb4dfc4c21ce6e67e7d17dc961
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun May 10 20:46:08 2020 +0000

    * generate CFI data only if we're either using it for exception handling or if debug output is enabled (or should this only be generated for targets that in theory support DWARF exception handling?). This removes unnecessary bloat from e.g. Windows binaries
    
    git-svn-id: trunk@45330 -

M	compiler/cfidwarf.pas

******************************************************************************
commit 2a2ec77b10bf6f25093123f55616c5791bfe9eb1
Author: florian <florian@freepascal.org>
Date:   Sun May 10 19:41:13 2020 +0000

      * improved heuristics for auto-inlining
    
    git-svn-id: trunk@45328 -

M	compiler/psub.pas

******************************************************************************
commit e5e386f94ab4f87880c4358e40dbc31a22e50ea2
Author: florian <florian@freepascal.org>
Date:   Sun May 10 18:41:10 2020 +0000

      * cosmetics
    
    git-svn-id: trunk@45327 -

M	compiler/nadd.pas

******************************************************************************
commit ebcae70d72fc7a381f3cebd8760e3634eadda5cc
Author: florian <florian@freepascal.org>
Date:   Sun May 10 15:25:31 2020 +0000

      * avoid unncessary conversions of constants in 64 bit ints when doing constant folding
    
    git-svn-id: trunk@45326 -

M	compiler/nadd.pas

******************************************************************************
commit 7a6bd84bc055ad95ecee0f3b150090161b8a85f5
Author: florian <florian@freepascal.org>
Date:   Sun May 10 12:52:17 2020 +0000

      * cast only the longint
    
    git-svn-id: trunk@45325 -

M	tests/webtbs/tw36587.pp

******************************************************************************
commit b48c8d8596400544396715cb4a268adc6dfae619
Author: florian <florian@freepascal.org>
Date:   Sun May 10 09:04:13 2020 +0000

      * fixed test for 32 Bit targets
    
    git-svn-id: trunk@45324 -

M	tests/webtbs/tw36587.pp

******************************************************************************
commit 7cda3d9e57c4cab68647b2de91179c13472fadcf
Author: yury <jura@cp-lab.com>
Date:   Sat May 9 21:53:43 2020 +0000

    * Code formatting.
    
    git-svn-id: trunk@45323 -

M	compiler/procinfo.pas
M	compiler/symdef.pas

******************************************************************************
commit 254d0c0e2c7384bb225f8376cb1fce78d4047cd7
Author: yury <jura@cp-lab.com>
Date:   Sat May 9 20:45:00 2020 +0000

    * Do not perform optimization of nested procedures for:
      - targets which use a special struct to access parent's variables;
      - pure assembler procedures (for compatibility with old code).
    
    git-svn-id: trunk@45322 -

M	compiler/psub.pas

******************************************************************************
commit a316229ef67f1c58f6b33996637e888f11cf72cf
Author: yury <jura@cp-lab.com>
Date:   Sat May 9 17:52:17 2020 +0000

    * Always use parentfp for forward-declared nested procedures.
    
    git-svn-id: trunk@45320 -

M	.gitattributes
M	compiler/ncal.pas
M	compiler/symdef.pas
A	tests/test/tnest2.pp

******************************************************************************
commit bdabf674e1c9cae5387bc3abe884fb1b17545c98
Author: florian <florian@freepascal.org>
Date:   Sat May 9 17:36:36 2020 +0000

      * propagate forinline
    
    git-svn-id: trunk@45319 -

M	compiler/nadd.pas

******************************************************************************
commit 8b31df70672bd6e7f949416ac18bff68326ded1c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat May 9 12:56:19 2020 +0000

    rtl-console: fixed keypressed implementation in the Amiga VidCRT unit
    
    git-svn-id: trunk@45318 -

M	packages/rtl-console/src/amicommon/vidcrt.pp

******************************************************************************
commit bd19575f92a952a6189349c9fef5e17194ad0cde
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 9 10:08:35 2020 +0000

      * fixed -Cl options now showing in the help of an LLVM compiler (and fixed
        them to read -Cl rather than -CL)
    
    git-svn-id: trunk@45316 -

M	compiler/msg/errore.msg
M	compiler/msgtxt.inc

******************************************************************************
commit 04a42bef84f38626ea7fbfb102ac949d1b819e6a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 8 21:06:59 2020 +0000

    m68k: fixed instruction code formatting in the generated include
    
    git-svn-id: trunk@45314 -

M	compiler/m68k/m68ktab.inc
M	compiler/utils/mk68kins.pp

******************************************************************************
commit 6753f869878e39ec6d0a4bfce351861c5f69a462
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 8 12:33:04 2020 +0000

    m68k: migrate the compiler to the new instruction tables and drop the old ones
    
    git-svn-id: trunk@45312 -

M	compiler/m68k/ag68kgas.pas
M	compiler/m68k/cpubase.pas
M	compiler/m68k/itcpugas.pas

******************************************************************************
commit bc9b8af04b6dbecc12d22b592a4e4790e21ee3ff
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 8 12:11:13 2020 +0000

    m68k: add the converted includes, based on m68kins.dat
    
    git-svn-id: trunk@45311 -

M	.gitattributes
A	compiler/m68k/m68knop.inc
A	compiler/m68k/m68kop.inc
A	compiler/m68k/m68kstd.inc
A	compiler/m68k/m68ktab.inc

******************************************************************************
commit d5874b00881a7323897b6d80e9cea2dbfddcf0b6
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 8 12:05:11 2020 +0000

    m68k: added a full instruction table (minus CF MAC/EMAC instructions for now), based on vasm, and the required tool to process it
    
    git-svn-id: trunk@45310 -

M	.gitattributes
A	compiler/m68k/m68kins.dat
A	compiler/utils/mk68kins.pp

******************************************************************************
commit 4d428d945ec6e13053cd96536bb3baad6149c66b
Author: nickysn <nickysn@gmail.com>
Date:   Fri May 8 00:53:05 2020 +0000

    + use ApplyAsmSymbolRestrictions on all symbols in the NASM writer
    
    git-svn-id: trunk@45308 -

M	compiler/x86/agx86nsm.pas

******************************************************************************
commit fc5c35362bf995ea3d9c4c5ed087da508f7fc90e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu May 7 23:30:13 2020 +0000

    m68k: preparations for upcoming full instruction tables, mostly converting code away from using sets of opcodes
    
    git-svn-id: trunk@45307 -

M	compiler/m68k/ag68kgas.pas
M	compiler/m68k/aoptcpu.pas
M	compiler/m68k/cgcpu.pas
M	compiler/m68k/ra68kmot.pas
M	compiler/m68k/rgcpu.pas

******************************************************************************
commit f8e7d0bc097fdae022c6e4e2fc22ee61cbf63ecd
Author: florian <florian@freepascal.org>
Date:   Thu May 7 20:36:09 2020 +0000

      - remove unused files, resolves #37032
    
    git-svn-id: trunk@45306 -

M	.gitattributes
D	compiler/cpid.pas
D	compiler/cwindirs.pp

******************************************************************************
commit 92043c6e209ba987b8326b8abd2ae9b0a5f81b52
Author: nickysn <nickysn@gmail.com>
Date:   Thu May 7 11:51:58 2020 +0000

    * call inherited in tcg64f8086.a_op64_reg_ref for OP_NEG and OP_NOT, because it is handled differently after r45302
    
    git-svn-id: trunk@45305 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit 4f4d8191f00d34702cdc0f9b10ec90bc257fb75c
Author: nickysn <nickysn@gmail.com>
Date:   Thu May 7 03:34:20 2020 +0000

    + generate more optimal code for OP_NOT and OP_NEG in tcg64f8086.a_op64_ref
    
    git-svn-id: trunk@45304 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit 52572e10e92018a165096c9a530b4cb7d4cee936
Author: nickysn <nickysn@gmail.com>
Date:   Thu May 7 02:57:57 2020 +0000

    * i8086 compilation fixed after r45302
    
    git-svn-id: trunk@45303 -

M	compiler/i8086/cgcpu.pas

******************************************************************************
commit 5aaf863d560f9d6dc88fc511a27bbab06ed96a23
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 21:24:19 2020 +0000

    * only call cg64.a_XXX_loc for LOC_(C)REFERENCE and LOC_(C)REGISTER locations in
      tcginlinenode.second_AndOrXorShiftRot_assign
    
    git-svn-id: trunk@45301 -

M	compiler/ncginl.pas

******************************************************************************
commit 69e89262958c00b6f17d73ab5ca0894b31e87eaf
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 21:09:37 2020 +0000

    * updated revision.inc
    
    git-svn-id: trunk@45300 -

M	utils/fpcm/revision.inc

******************************************************************************
commit ba8cddb546484c10b7513ecf36e22e8cc1ba5591
Author: florian <florian@freepascal.org>
Date:   Wed May 6 20:49:19 2020 +0000

      + Xtensa: Sptr
    
    git-svn-id: trunk@45299 -

M	rtl/xtensa/xtensa.inc

******************************************************************************
commit 56b79257a12806069a13c2b655becbfb2d4c1022
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 20:41:01 2020 +0000

    * fixed fpmake invokation when building an i386-linux snapshot on a x86_64-linux host
    
    git-svn-id: trunk@45298 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	rtl/zxspectrum/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/ihx2tzx/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 40504a6f9de8930c6e308427631af0ab225dcbdb
Author: yury <jura@cp-lab.com>
Date:   Wed May 6 14:43:49 2020 +0000

    * If a nested procedure does not access its parent's frame pointer, optimize it by removing the hidden $parentfp parameter.
    * Improved the tisogoto1.pp test.
    
    git-svn-id: trunk@45292 -

M	compiler/defcmp.pas
M	compiler/nmem.pas
M	compiler/pexpr.pas
M	compiler/procinfo.pas
M	compiler/pstatmnt.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp
M	tests/test/tisogoto1.pp

******************************************************************************
commit c1d124d497149d4ffa1998e9c84d9eeffc04b04a
Author: yury <jura@cp-lab.com>
Date:   Wed May 6 14:18:44 2020 +0000

    * x86: Fixed peephole optimization introduced in r44233. tb0219 and tb0548 tests have failed with -O2 since then.
    * Added variants of the tb0219 and tb0548 tests with forced -O2.
    
    git-svn-id: trunk@45291 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/tbs/tb0219a.pp
A	tests/tbs/tb0548a.pp

******************************************************************************
commit 75ce122d36626cfb3423bbc2a1273bdfba1765f8
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 03:24:15 2020 +0000

    - removed commented out writeln
    
    git-svn-id: trunk@45290 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 616cb382922c96086cdf5f9298f690af5d003429
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 02:52:28 2020 +0000

    * fixed the TRelocDataInt to avoid truncating 16-bit addresses to 8-bit on 8-bit CPUs
    
    git-svn-id: trunk@45289 -

M	compiler/ogbase.pas

******************************************************************************
commit 4aba225c8bf7e64fee347d77557731fce563618f
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 01:57:38 2020 +0000

    + fix for writing absolute relocations in the .rel format
    
    git-svn-id: trunk@45288 -

M	compiler/ogrel.pas

******************************************************************************
commit bface9fd9470d0a8fc68ce8b3d8c98540a7d7038
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 00:44:35 2020 +0000

    - reverted previous commit, since it was incorrect
    
    git-svn-id: trunk@45287 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 0caba1e84df0a72ac4c3fcf71dc688854360d2d0
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 00:38:55 2020 +0000

    + added internal error in taicpu.gencode.WriteNN to catch unhandled asm instructions
    
    git-svn-id: trunk@45286 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 997184778a01718472c29a67e70ceadb32194e47
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 00:22:22 2020 +0000

    + call ApplyAsmSymbolRestrictions for symbols that should be exported from ar files
    
    git-svn-id: trunk@45285 -

M	compiler/ogbase.pas

******************************************************************************
commit 0d402a13419f68233a97b28919abb3dea383333f
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 00:13:10 2020 +0000

    + support signed 8-bit immediate constants in the Z80 internal asm writer as well
    
    git-svn-id: trunk@45284 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 11a7b8592f043c9d4f5bf98379afb1aa9bc7ec49
Author: nickysn <nickysn@gmail.com>
Date:   Wed May 6 00:10:17 2020 +0000

    + support instructions like BIT, SET and RES in the Z80 internal asm writer
    
    git-svn-id: trunk@45283 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 6764056eff5104edaf5eef1cd8dbdec087ad67ec
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:58:54 2020 +0000

    + support the 'in A,(n)' and 'out (n),A' instrunction in the Z80 internal asm writer
    
    git-svn-id: trunk@45282 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit c81f433795128811d65ee618a1e2b5a17fd8965b
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:49:41 2020 +0000

    + Z80: support conditional JR
    
    git-svn-id: trunk@45281 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit b164f5aa65ade5e2cb8b2a3861bd73cc8fcd3baf
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:42:09 2020 +0000

    + support relative jumps in the Z80 internal asm writer
    
    git-svn-id: trunk@45280 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 0a0935990636b0600c4cd5a606eb145002614414
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:30:44 2020 +0000

    + support the RST instruction in the Z80 internal asm writer
    
    git-svn-id: trunk@45279 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit be26429159dbcab219f1cab5ff4494ca89aa92bd
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:16:07 2020 +0000

    * preserve the actual file size (before aligning it to even bytes), when adding files to .a archives
    
    git-svn-id: trunk@45278 -

M	compiler/owar.pas

******************************************************************************
commit 6422e9a803ed33cc9208a0a375f5671b69f5a524
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:12:52 2020 +0000

    + align files in generated .a files not by #0, but by #10 (Line Feed). This is
      compatible with GNU ar and others, and fixes linking with sdcc-sdld.
    
    git-svn-id: trunk@45277 -

M	compiler/owar.pas

******************************************************************************
commit 381be050a50fa99a05b168145c1b66e66a0c7d74
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 23:05:37 2020 +0000

    + support creating ar files in the Z80 internal obj writer
    
    git-svn-id: trunk@45276 -

M	compiler/ogrel.pas

******************************************************************************
commit 43686720c3225b2390c413452dece43a9b4f9d39
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 22:45:40 2020 +0000

    + fix for conditional JP in the Z80 internal asm writer
    
    git-svn-id: trunk@45275 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 3e14eddaf6137e2604fe3234da7b4721f9c3bd6b
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 22:42:21 2020 +0000

    + support conditional operations in the Z80 internal asm
    
    git-svn-id: trunk@45274 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 58d6d64fbadceaa81b96543fa2aaa02d88b971be
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 22:30:49 2020 +0000

    + Z80 internal asm: support OT_REF_ADDR16 in taicpu.gencode.WrinteNN
    
    git-svn-id: trunk@45273 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 4fed57adc13e75bc70c1495273cf9caa295c0d07
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 22:18:44 2020 +0000

    + lots of fixes to the Z80 internal asm writer
    
    git-svn-id: trunk@45272 -

M	compiler/ogbase.pas
M	compiler/ogrel.pas
M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 7dc6049de9a13b7d406accf3fb16c649adf2e6a5
Author: yury <jura@cp-lab.com>
Date:   Tue May 5 21:56:34 2020 +0000

    * Release registers which have been used for a function call before adjusting the stack pointer. On i386 this allows to use eax,ecx,edx in POP instructions for stack adjustment.
    
    git-svn-id: trunk@45271 -

M	compiler/ncgcal.pas

******************************************************************************
commit a4695a7015b1a3b218cd15660e276230e5f9e776
Author: florian <florian@freepascal.org>
Date:   Tue May 5 20:41:36 2020 +0000

      * xtensa-embedded: fix setting of the fpu and abi
    
    git-svn-id: trunk@45270 -

M	compiler/options.pas
M	compiler/systems/i_embed.pas
M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit 3ab5acccb175706526b82a53805d2cdb77366d0c
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 20:35:08 2020 +0000

    * the parameter of WriteWord should be word, not byte :)
    
    git-svn-id: trunk@45269 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 5193e8332cd0c3daf4f661a7cde271b13483e2af
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 19:51:44 2020 +0000

    + also write the relocations in the .rel internal obj writer
    
    git-svn-id: trunk@45268 -

M	compiler/ogrel.pas

******************************************************************************
commit f2b924573a2f26c134f2da49277afb8772fc0b37
Author: pierre <pierre@freepascal.org>
Date:   Tue May 5 12:25:18 2020 +0000

     Do not use inherited first_int_to_real when arm FPU_HAS_FPA is in fpu_capabilities
    
    git-svn-id: trunk@45267 -

M	compiler/arm/narmcnv.pas

******************************************************************************
commit df275152c24173a66895698413d767f52602152c
Author: pierre <pierre@freepascal.org>
Date:   Tue May 5 12:21:21 2020 +0000

     Add -Wp option description for riscv32 and xtensa compiler
    
    git-svn-id: trunk@45266 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 1b5ee0d063119990b66b0952d80ccba4f39c1fe7
Author: pierre <pierre@freepascal.org>
Date:   Tue May 5 12:20:21 2020 +0000

      * Put all code adding cs_fp_emulation by default inside one big
        {$ifdef cpufpemu}
      * Add system_arm_freertos and system_xtena_linux to the list
        of systems that automatically add cs_fp_emulation to
        init_settings.moduleswitches.
      + Do not use controller specfic default fputype for xtensa-linux
        target that does not support use of -Wp option to set controller type.
    
    git-svn-id: trunk@45265 -

M	compiler/options.pas

******************************************************************************
commit 0d11b5bf29f896a93e3f3af271b92628f2efb00f
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 03:23:51 2020 +0000

    + added method TRelRelocation.EncodeFlags that encodes the flags to string that can be included in the .rel file
    
    git-svn-id: trunk@45263 -

M	compiler/ogrel.pas

******************************************************************************
commit 03acadaf1ee9e47ae80d8287cdb9d5ea133089a7
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 03:03:02 2020 +0000

    + initialize size and relflags in TRelRelocation
    
    git-svn-id: trunk@45262 -

M	compiler/ogrel.pas

******************************************************************************
commit 732f1d9df6b379ad8548d0b7348abf40b672aa7c
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 01:13:58 2020 +0000

    + added TRelRelocationFlags
    
    git-svn-id: trunk@45261 -

M	compiler/ogrel.pas

******************************************************************************
commit 569c40611687015c57eae7bb15d1b814c6cb70ca
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 00:59:27 2020 +0000

    + introduced the TRelRelocation class
    
    git-svn-id: trunk@45260 -

M	compiler/ogrel.pas

******************************************************************************
commit f1f819516ed91324c3b9680dc7c2cd9f10e3a423
Author: nickysn <nickysn@gmail.com>
Date:   Tue May 5 00:06:11 2020 +0000

    + write the section data in the .rel internal object writer (relocations aren't written, yet)
    
    git-svn-id: trunk@45259 -

M	compiler/ogrel.pas

******************************************************************************
commit 724676db4315a9a3a5f26bb6e4c05f9c49f80ebf
Author: florian <florian@freepascal.org>
Date:   Mon May 4 19:58:45 2020 +0000

      * Xtensa: patch by Christo Crause: fix addmi/addi handling, resolves #37015
    
    git-svn-id: trunk@45258 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit ab878adfff2f9622574cc7f21fa6c29ad6f953b8
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 4 02:31:19 2020 +0000

    + actually produce relocations in TRelObjData.writeReloc
    
    git-svn-id: trunk@45251 -

M	compiler/ogrel.pas

******************************************************************************
commit 256597be580a279590586176daee4e9335b3140d
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 4 02:17:30 2020 +0000

    + Z80 internal asm: produce correct opcodes for register operands
    
    git-svn-id: trunk@45250 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 90ee079cd15ffbffc9309fd542686680e4606f95
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 4 01:27:44 2020 +0000

    + partial implementation of pass2 asm opcode generation for the Z80 internal asm writer
    
    git-svn-id: trunk@45249 -

M	compiler/ogrel.pas
M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 5d2be4da1cabec726ea95c0e7e5fb465a7f9a9c1
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 4 00:20:50 2020 +0000

    * Z80: match both signed and unsigned 16-bit constants as OT_IMM16 in the asm instab lookup
    
    git-svn-id: trunk@45248 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 27e9dde81a0738042331616aec0d3dc4f50edc43
Author: nickysn <nickysn@gmail.com>
Date:   Mon May 4 00:14:28 2020 +0000

    + implemented pass1 (calcsize) of the instruction encoding for the Z80 internal asm
    
    git-svn-id: trunk@45247 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 23fa725b0127903999c65e5068ff98e745f8354e
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 23:23:24 2020 +0000

    + added the global symbols to the .rel output file
    
    git-svn-id: trunk@45246 -

M	compiler/ogrel.pas

******************************************************************************
commit bba56d627fd799e9d2daefdef6c6f3ad64abe7d0
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 23:16:23 2020 +0000

    + write the areas (sections) in the .rel output
    
    git-svn-id: trunk@45245 -

M	compiler/ogrel.pas

******************************************************************************
commit 92e86e7673c326fa09cc93c9ecc0abc2b05068be
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 23:10:14 2020 +0000

    * the areas global symbols count must be in hex in the .rel format
    
    git-svn-id: trunk@45244 -

M	compiler/ogrel.pas

******************************************************************************
commit 8e23dc99a110b33a6e24ee75e2cd71c4564d6f1e
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 23:00:52 2020 +0000

    + write the .rel file header and the list of external symbols
    
    git-svn-id: trunk@45243 -

M	compiler/ogrel.pas

******************************************************************************
commit 763e0a14fe4b1077e2dc03cb764bc1bed43e72a6
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 22:22:26 2020 +0000

    + override the abstract methods from TObjData.sectionname() and .writereloc(). Only sectionname() is implemented for now.
    
    git-svn-id: trunk@45242 -

M	compiler/ogrel.pas

******************************************************************************
commit 244f1dd83c703b6ed07377cfa50b88d1fb23cfab
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 22:16:21 2020 +0000

    + added class TRelObjData
    
    git-svn-id: trunk@45241 -

M	compiler/ogrel.pas

******************************************************************************
commit 66a72cfb726bdc5370de99c0f6524469f1af218c
Author: nickysn <nickysn@gmail.com>
Date:   Sun May 3 21:49:03 2020 +0000

    + added build mode that enables the Z80 internal assembler
    
    git-svn-id: trunk@45239 -

M	compiler/ppcz80.lpi

******************************************************************************
commit 8d1660893be11aa243991c52d4dcea7bf4d63a24
Author: florian <florian@freepascal.org>
Date:   Sun May 3 15:18:08 2020 +0000

      * compilation with -Oodfa fixed
    
    git-svn-id: trunk@45234 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 3d2945726a482fb6c824e4feb8005782b40b7b75
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun May 3 15:08:31 2020 +0000

    * handle generic parameters in Ord()
    + added test
    
    git-svn-id: trunk@45232 -

M	.gitattributes
M	compiler/ninl.pas
A	tests/tbs/tb0672.pp

******************************************************************************
commit b6097a0300fbdb8a1d2a18429f3aea0e384b9782
Author: florian <florian@freepascal.org>
Date:   Sun May 3 12:41:17 2020 +0000

      * correctly handle result type of string constant nodes for internally created
        nodes
    
    git-svn-id: trunk@45231 -

M	.gitattributes
M	compiler/ncnv.pas
A	tests/tbs/tb0671.pp

******************************************************************************
commit 187cc46b327903667c670cf6c50a4b524824d892
Author: yury <jura@cp-lab.com>
Date:   Sat May 2 18:19:26 2020 +0000

    * Windows: Do not use CommandLineToArgvW for parsing command line parameters, because it treats \" as an escape sequence for the double quote.
      - Implemented parsing of the command line which is backward compatible.
      - Do not use GetCommandLineA.
    
    git-svn-id: trunk@45227 -

M	rtl/win/sysos.inc
M	rtl/win/syswin.inc

******************************************************************************
commit de805fddcd15b4eaf9d92764d043d5527c30311b
Author: florian <florian@freepascal.org>
Date:   Sat May 2 12:33:46 2020 +0000

      * properly force the result type after r45217
    
    git-svn-id: trunk@45220 -

M	compiler/nbas.pas

******************************************************************************
commit 4d710518598a90b8debb01d145cb3af298d41377
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sat May 2 09:32:11 2020 +0000

    ppudump: catch exception on illegal datetime (mainly cross compiled units)
    
    git-svn-id: trunk@45219 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit a61e18091a2275940cb7020abe3a0faee9ca03dc
Author: florian <florian@freepascal.org>
Date:   Sat May 2 09:29:36 2020 +0000

      * compilation with -Oodfa fixed
    
    git-svn-id: trunk@45218 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit e3870079b223386c5f71c993b69843a64f5fa44f
Author: florian <florian@freepascal.org>
Date:   Sat May 2 09:01:35 2020 +0000

      * remove tempref mess for simple inlined functions
    
    git-svn-id: trunk@45217 -

M	compiler/nbas.pas
M	compiler/nutils.pas

******************************************************************************
commit aa6209ab513c9c7b00c73a1d84fb3d5cd87cd5df
Author: nickysn <nickysn@gmail.com>
Date:   Sat May 2 02:35:31 2020 +0000

    + added an override of the abstract method TRelObjOutput.writeData (not implemented, yet)
    
    git-svn-id: trunk@45216 -

M	compiler/ogrel.pas

******************************************************************************
commit 950c1d1693007106f9c8449640ce5b91da4019b6
Author: nickysn <nickysn@gmail.com>
Date:   Sat May 2 02:35:03 2020 +0000

    + enable the Z80 internal asm (which doesn't work, yet) if the compiler is compiled with -dZ80_INTERNAL_ASM
    
    git-svn-id: trunk@45215 -

M	compiler/systems/i_embed.pas
M	compiler/systems/i_zxspectrum.pas

******************************************************************************
commit 0794878b41a2bf44dcefb86d202a0b23ca13af64
Author: florian <florian@freepascal.org>
Date:   Fri May 1 20:50:19 2020 +0000

      * allow recursive inlines, meanwhile, there are other means to avoid too deep recursion of inlining
    
    git-svn-id: trunk@45214 -

M	compiler/ncal.pas

******************************************************************************
commit 43e6d84f33a40cd994ea08cf3d02ce617da9d892
Author: florian <florian@freepascal.org>
Date:   Fri May 1 20:50:18 2020 +0000

      * GetCopyAndTypeCheck forces correct type
      * propagate forinline flag through simplify
    
    git-svn-id: trunk@45213 -

M	compiler/nadd.pas

******************************************************************************
commit 871f60ef61e733b32cbd5b4c4baa9be196f33443
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri May 1 13:55:01 2020 +0000

    * increase PPU version so that 3.2.0 correctly ignores 3.3.1 PPUs instead of fatally failing on the extended header entry
    
    git-svn-id: trunk@45209 -

M	compiler/ppu.pas

******************************************************************************
commit 2840e5e1fda6a4d222057f583c6a65cb08a0074d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri May 1 13:11:02 2020 +0000

    * fix for Mantis #36895: the new epoll_pwait was missing the size parameter for the sigmask parameter
    
    git-svn-id: trunk@45208 -

M	rtl/linux/linux.pp

******************************************************************************
commit 89d9679b53d03e369e22b7cf92c9d5ec1dd2cf98
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri May 1 12:06:43 2020 +0000

    m68k: have an arch-specific second_length implementation, to make sure length() doesn't return its result in an address register
    
    git-svn-id: trunk@45201 -

M	compiler/m68k/n68kinl.pas

******************************************************************************
commit cfe2d94b251692eadb8b6e188be60e5c7aa49efa
Author: florian <florian@freepascal.org>
Date:   Thu Apr 30 19:42:03 2020 +0000

      * fix LLVM after r45177
    
    git-svn-id: trunk@45198 -

M	compiler/ncginl.pas

******************************************************************************
commit 95ced4a7f55ce63bda60c0d3f6e37427650a0df7
Author: marcus <marcus@idefix.freepascal.org>
Date:   Thu Apr 30 19:28:45 2020 +0000

    Amiga: special CRT unit (named vidcrt) based on video unit
    
    git-svn-id: trunk@45197 -

M	.gitattributes
M	packages/rtl-console/fpmake.pp
A	packages/rtl-console/src/amicommon/vidcrt.pp

******************************************************************************
commit c6b0195c5f248a3d2154ccb9ce5dcdf62867e1ea
Author: marcus <marcus@idefix.freepascal.org>
Date:   Thu Apr 30 19:14:51 2020 +0000

    Amiga: keyboard prevent double keys on GetKeyEvent, if called without PollKeyEvent
    
    git-svn-id: trunk@45196 -

M	packages/rtl-console/src/amicommon/keyboard.pp

******************************************************************************
commit c0ffa18ee246fa8079c83e3461aa02a774c21dac
Author: nickysn <nickysn@gmail.com>
Date:   Thu Apr 30 17:31:18 2020 +0000

    + added class TRelObjOutput
    
    git-svn-id: trunk@45195 -

M	compiler/ogrel.pas

******************************************************************************
commit 19c1ecda547a4d1c97887a8479ada467bdd7ae8a
Author: nickysn <nickysn@gmail.com>
Date:   Thu Apr 30 14:27:48 2020 +0000

    + started work on the Z80 internal assembler
    
    git-svn-id: trunk@45191 -

M	.gitattributes
A	compiler/ogrel.pas
M	compiler/systems.inc
M	compiler/z80/cputarg.pas

******************************************************************************
commit 9b1eebd333fe8737fce6ac9b31b2c186e4c0849e
Author: nickysn <nickysn@gmail.com>
Date:   Thu Apr 30 00:17:29 2020 +0000

    + z80: add operand info to the result of taicpu.GetString, this makes the
      compiler produce nicer error messages, when it encounters an invalid
      instruction in inline asm code
    
    git-svn-id: trunk@45187 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 2f4390ac9bb56128deeaa9d0c1a590388db9eb94
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 23:51:23 2020 +0000

    + added Z80 inline asm instruction validation
    
    git-svn-id: trunk@45186 -

M	compiler/ncgbas.pas

******************************************************************************
commit 34112c932c36c7162f866b4460cbc3700bddc92f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 23:45:09 2020 +0000

    + handle OT_IMM8 and OT_IMM16 for getting symbol addresses in taicpu.Matches
    
    git-svn-id: trunk@45185 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit a79d12ae415573a66f6e8f3aa83081f0877d2d2c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 23:39:47 2020 +0000

    + handle OT_RELJMP8 in taicpu.Matches
    
    git-svn-id: trunk@45184 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 4c021c100a496f2ca5e2c1d8bc8a376c7bd94516
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 23:30:43 2020 +0000

    + handle OT_REG8_C_PORT in taicpu.Matches
    
    git-svn-id: trunk@45183 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit a063a538638d32c10ee10e4f5210df43e3f719bc
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 23:23:20 2020 +0000

    + handle OT_IMM_PORT in taicpu.Matches
    
    git-svn-id: trunk@45182 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 552107f577ddee5ac76eb2e8ee6e17cb94b49bb3
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 22:21:40 2020 +0000

    + z80: implemented taicpu.CheckIfValid
    
    git-svn-id: trunk@45181 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit d5b8e49da276f3fde5443de72e5c338fe6283bb5
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 22:12:51 2020 +0000

    + z80: implemented taicpu.FindInsentry
    
    git-svn-id: trunk@45180 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 5e90aa27d5435a07a44f5fbed44b2a5009a5a0ff
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 21:46:42 2020 +0000

    - z80: oops, forgot to delete some code from taicpu.Matches
    
    git-svn-id: trunk@45179 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit e08c7b3642a18d76bfbb16b94224fb17390fe3af
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 21:38:41 2020 +0000

    + z80: added condition checking in taicpu.Matches
    
    git-svn-id: trunk@45178 -

M	compiler/z80/aasmcpu.pas
M	compiler/z80/cpubase.pas

******************************************************************************
commit 9e0337f2483a3b83187e09c55f1de6f66f8a690d
Author: florian <florian@freepascal.org>
Date:   Wed Apr 29 20:01:53 2020 +0000

      * do not use an extra register in tcginlinenode.second_IncDec if not needed
    
    git-svn-id: trunk@45177 -

M	compiler/cg64f32.pas
M	compiler/cgobj.pas
M	compiler/ncginl.pas

******************************************************************************
commit 7f769f024b1772c5b7796b88bf21394a39cac89a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 19:44:57 2020 +0000

    * Z80: fixed code generation for pure assembler routines, that have no parameters, no local variables
      and no 'nostackframe'
    
    git-svn-id: trunk@45176 -

M	compiler/z80/cgcpu.pas

******************************************************************************
commit 365e320119208fc45b355b96d743af7318c16b47
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 16:25:52 2020 +0000

    + partial implementation of taicpu.Matches
    
    git-svn-id: trunk@45175 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit 20e2a0eface9ee9e46ca52b173ad1c522402e55c
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 16:00:25 2020 +0000

    + added Z80 register AF'
    
    git-svn-id: trunk@45174 -

M	compiler/z80/rz80con.inc
M	compiler/z80/rz80dwa.inc
M	compiler/z80/rz80nor.inc
M	compiler/z80/rz80num.inc
M	compiler/z80/rz80rni.inc
M	compiler/z80/rz80sri.inc
M	compiler/z80/rz80sta.inc
M	compiler/z80/rz80std.inc
M	compiler/z80/rz80sup.inc
M	compiler/z80/z80reg.dat

******************************************************************************
commit 6654faea084f0c50bba9a059f5593769a2be647f
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 14:53:21 2020 +0000

    + build an instruction table cache for the Z80
    
    git-svn-id: trunk@45173 -

M	compiler/z80/aasmcpu.pas

******************************************************************************
commit f8c2d4a6320417c267863bfcb026ca0b3d687702
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 12:19:59 2020 +0000

    * added comment, stating that Z80 has no condition subsets
    
    git-svn-id: trunk@45172 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit cfb28c765471db145c14fd64749770266205c2b2
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 02:00:26 2020 +0000

    * fixed bug, causing the global variable stacksize to be destroyed
    
    git-svn-id: trunk@45171 -

M	compiler/z80/cgcpu.pas

******************************************************************************
commit e60ab7148d010bda30aad8d5e6c9591b5c322ae6
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 01:53:01 2020 +0000

    * fixed compilation with sdld
    
    git-svn-id: trunk@45170 -

M	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit 695a260ff80e53ba01376beb6ec8f0d7076851a2
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 29 01:32:48 2020 +0000

    zxspectrum: added support for linking via vlink, and for pascal sysinit code. also some cleanup in the linker code
    
    git-svn-id: trunk@45169 -

M	compiler/systems.pas
M	compiler/systems/t_zxspectrum.pas

******************************************************************************
commit 5b2426752982777fc1e39b39fe01749990ca8a24
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 01:22:22 2020 +0000

    * reduced the stack margin for stack checking to 64 bytes on the Z80
    
    git-svn-id: trunk@45168 -

M	rtl/inc/system.inc

******************************************************************************
commit 594138141af83d43148e8449d1ed8a876dc0d536
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 29 01:18:37 2020 +0000

    zxspectrum: in the pascal startup code, match start symbol name with the asm startup code
    
    git-svn-id: trunk@45167 -

M	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit 59b90c24ed385555cb8e42b1fa98f105ff9c1d8a
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 29 01:10:52 2020 +0000

    + initialize StackBottom and StackLength in the startup of the ZX Spectrum system unit
    
    git-svn-id: trunk@45166 -

M	rtl/zxspectrum/system.pp

******************************************************************************
commit c20641545042b195962241c5683e89d0980e992b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 28 23:13:29 2020 +0000

    zxspectrum: pascal startup code. this allows the RTL to be built with any assembler
    
    git-svn-id: trunk@45165 -

M	.gitattributes
M	rtl/zxspectrum/Makefile
M	rtl/zxspectrum/Makefile.fpc
A	rtl/zxspectrum/si_prc.pp

******************************************************************************
commit 60c73dd14be996d98af574de4ae98f99e56cdca7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 28 23:10:35 2020 +0000

    z80: fix typo in the previous commit
    
    git-svn-id: trunk@45164 -

M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 04bd105cf5d2446cf6953e424af99437327d2abc
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 28 23:10:03 2020 +0000

    z80: fix global symbols and section attributes in the vasm writer
    
    git-svn-id: trunk@45163 -

M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 50c221670f87d0ee44a000b2bfe47979787f0dba
Author: florian <florian@freepascal.org>
Date:   Tue Apr 28 21:25:42 2020 +0000

      * do not generate moves unncesssarily in tcgloadparentfpnode.pass_generate_code
    
    git-svn-id: trunk@45162 -

M	compiler/ncgmem.pas

******************************************************************************
commit 8aacea88504fda6d66e6026e223ef01a87ac37b6
Author: marcus <marcus@idefix.freepascal.org>
Date:   Tue Apr 28 21:14:44 2020 +0000

    Amiga: Video unit, do not draw Cursor if outside the window (would write over the window border)
    
    git-svn-id: trunk@45161 -

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit 86e04ddd5c5dc2024425c268e2132ebfb28798d3
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 19:34:38 2020 +0000

    + enable the sdasz80 lameness check permanently, because the system unit now
      compiles, and it's important to catch other similar errors also
    
    git-svn-id: trunk@45158 -

M	compiler/z80/agsdasz80.pas

******************************************************************************
commit 07a8af33b16ce3e69e7d05630bc6b7071136cee7
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 19:31:11 2020 +0000

    + z80: generate correct code in do_spill_read and do_spill_written for spilling to temp offsets outside the range -128..127
    
    git-svn-id: trunk@45157 -

M	compiler/z80/rgcpu.pas

******************************************************************************
commit 6dbe1368ef95661336b3d81157dc67710f7e0795
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 18:49:50 2020 +0000

    + z80: added range checking for d in the (IX+d) and (IY+d) addressing modes in
      the sdasz80 assembler writer, because sdasz80 silently truncates d to shortint
      which produces broken code and hides bugs in the z80 code generator. The check
      is behind ifdef, because the system unit doesn't compile, when this check is
      enabled, due to bugs that were previously unnoticed. When these bugs are
      fixed, the ifdef will be removed.
    
    git-svn-id: trunk@45156 -

M	compiler/z80/agsdasz80.pas

******************************************************************************
commit 589b2b956fbd6a738073b760f6e7298ba08c9736
Author: marcus <marcus@idefix.freepascal.org>
Date:   Tue Apr 28 18:41:45 2020 +0000

    Fixed LLVM compilation after r45143
    
    git-svn-id: trunk@45155 -

M	compiler/llvm/llvmbase.pas

******************************************************************************
commit a506fe95602b940cb4a5baa3e448d486fb7bddf1
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 28 18:35:53 2020 +0000

     Fix cross-compilation on aarch64-linux using -dFPC_SOFT_FPUX80 option
    
    git-svn-id: trunk@45154 -

M	compiler/z80/agsdasz80.pas
M	compiler/z80/agz80vasm.pas

******************************************************************************
commit 573d69c8fe2c62d414757b026140f1afd8bea956
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 15:14:39 2020 +0000

    * unfortunately tf_smartlink_sections is mutually exclusive with
      tf_smartlink_library, and defining both breaks sdasz80, so put this behind
      ifdef Z80_SMARTLINK_SECTIONS
    
    git-svn-id: trunk@45153 -

M	compiler/systems/i_zxspectrum.pas

******************************************************************************
commit 23fc0fe66a9d780615f6cbf78f0fa955070ff426
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 28 01:23:31 2020 +0000

    z80: added quick & dirty vasm assembler support to the target
    
    git-svn-id: trunk@45152 -

M	.gitattributes
M	compiler/systems.inc
M	compiler/systems/i_zxspectrum.pas
A	compiler/z80/agz80vasm.pas
M	compiler/z80/cputarg.pas

******************************************************************************
commit db1ef439b5dee9f0fee101db4ea4a7119fbb1e3b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 28 01:17:29 2020 +0000

    z80: sdasz80 won't do section smartlinking for us, but it's used for the zx spectrum target
    
    git-svn-id: trunk@45151 -

M	compiler/z80/agsdasz80.pas

******************************************************************************
commit 491462fd023245fabbd711538a8fa57de3306bab
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 00:18:49 2020 +0000

    + added another helper for register pairs: register_in
    
    git-svn-id: trunk@45150 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit a5d36e1bc6578d7d0ee6bab5f5defeb71a21c499
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 28 00:05:53 2020 +0000

    + added Z80 helper functions is_regpair and split_regpair
    
    git-svn-id: trunk@45149 -

M	compiler/z80/cpubase.pas

******************************************************************************
commit fa052f76ee041de1d3978cfa6b2a617af18d8ded
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 27 22:13:36 2020 +0000

    + added empty strings.inc and stringss.inc files
    
    git-svn-id: trunk@45148 -

M	.gitattributes
A	rtl/z80/strings.inc
A	rtl/z80/stringss.inc

******************************************************************************
commit 69c95115f6a9410d7067e624db594f5c5b03e5fe
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 27 22:03:36 2020 +0000

    - removed GetHigh, GetNextReg, GetLastReg, GetOffsetReg and GetOffsetReg64 from cpubase. The methods
      in cg should be used instead, because they do better error checking on the register used.
    
    git-svn-id: trunk@45147 -

M	compiler/z80/cpubase.pas
M	compiler/z80/nz80mem.pas

******************************************************************************
commit f202249711646b4b836cfac5a0e3e95af0bef917
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 27 21:47:46 2020 +0000

    + implemented get_caller_addr and get_caller_frame for the Z80
    
    git-svn-id: trunk@45146 -

M	rtl/z80/z80.inc

******************************************************************************
commit 681067749330af9227ec8771bc0930a15fa9778a
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 27 20:17:45 2020 +0000

    * updated revision.inc
    
    git-svn-id: trunk@45144 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 29d681168a7997875dd5ba06f0aaa7198abc5631
Merge: a084c8829f a857e60dc1
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 27 20:07:54 2020 +0000

    * merged the z80 branch
    
    git-svn-id: trunk@45143 -


******************************************************************************
commit a084c8829f6375f4ce90b68d7502b8b4a1ec6145
Author: florian <florian@freepascal.org>
Date:   Mon Apr 27 19:27:16 2020 +0000

      * patch by J. Gareth Moreton: refactor RemoveCurrentP
    
    git-svn-id: trunk@45142 -

M	compiler/aoptobj.pas
M	compiler/arm/aoptcpu.pas
M	compiler/avr/aoptcpu.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit e7f7927ca9d6db490e75d66abb30d8b71a358e90
Author: florian <florian@freepascal.org>
Date:   Mon Apr 27 19:19:54 2020 +0000

      + initialize variables, so compilation with -O3 works
    
    git-svn-id: trunk@45141 -

M	compiler/pgenutil.pas

******************************************************************************
commit db9a284d60127aab3bda2820b952df53d4e65665
Author: florian <florian@freepascal.org>
Date:   Sun Apr 26 20:54:22 2020 +0000

      * simplify xtensa-linux building
    
    git-svn-id: trunk@45124 -

M	compiler/systems.pas
M	compiler/xtensa/agcpugas.pas

******************************************************************************
commit 1395b2850e61574e905737e4056d22f705664cf0
Author: florian <florian@freepascal.org>
Date:   Sun Apr 26 17:24:30 2020 +0000

      + xtensa-linux support for several packages
    
    git-svn-id: trunk@45119 -

M	packages/libffi/src/ffi.pp
M	packages/rtl-extra/src/linux/unixsock.inc
M	packages/rtl-extra/src/unix/ipc.pp

******************************************************************************
commit 7dfefcb1f6cc31063342cd5e5040f758d2b68b0b
Author: florian <florian@freepascal.org>
Date:   Sun Apr 26 17:24:06 2020 +0000

      * Xtensa: fpc_setjmp dummy
    
    git-svn-id: trunk@45118 -

M	rtl/xtensa/setjump.inc

******************************************************************************
commit 8ef29235c37f5c8bb054f134b8eac6babd4b825d
Author: florian <florian@freepascal.org>
Date:   Sun Apr 26 17:23:24 2020 +0000

      * Xtensa: set source_cpu_string
    
    git-svn-id: trunk@45117 -

M	compiler/version.pas

******************************************************************************
commit 86fa90b400d87c26c3136734d4d5eb408811f83a
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 26 16:47:47 2020 +0000

    amiga: Crt, fixed cursor x and y position
    
    git-svn-id: trunk@45114 -

M	packages/rtl-console/src/amicommon/video.pp

******************************************************************************
commit f72a795cc7f2f77d88e0c41056cb7cd4cc996036
Author: florian <florian@freepascal.org>
Date:   Sun Apr 26 13:11:02 2020 +0000

      * fixed SetIsEmpty
    
    git-svn-id: trunk@45094 -

M	compiler/symdef.pas

******************************************************************************
commit 04554d7505569d1dc67bc66f64ed61251ca1c51c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 26 11:46:24 2020 +0000

    * use a more detailed error message if a type is not allowed for a generic constant parameter
    
    git-svn-id: trunk@45092 -

M	compiler/pgenutil.pas

******************************************************************************
commit 287c298f378202ba9e5fa38f30f9d12bf8834366
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 26 11:46:18 2020 +0000

    * regenerate msg{txt,idx}.inc
    
    git-svn-id: trunk@45091 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 258331e91421c438e80c926e79833b1f4845ffe8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 26 11:46:14 2020 +0000

    + add an explicit error message if a type is not supported for a generic constant parameter
    
    git-svn-id: trunk@45090 -

M	compiler/msg/errore.msg

******************************************************************************
commit a46733218725a7650c3422aaf18c2fde35551330
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 26 11:46:10 2020 +0000

    * fix for Mantis #36975: arraydefs are not allowed for generic types (this is only used for type declarations; for specializing constant strings which are char arrays are still allowed)
    + added test
    
    git-svn-id: trunk@45089 -

M	.gitattributes
M	compiler/pgenutil.pas
A	tests/webtbf/tw36975.pp

******************************************************************************
commit 7757306c7885c915de6620ac62ff83cc7db96f1f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Apr 26 11:46:06 2020 +0000

    * destroying constnone constsyms can occur when parsing a generic with a constant parameter that results in an error (e.g. unsupported type)
    
    git-svn-id: trunk@45088 -

M	compiler/symsym.pas

******************************************************************************
commit f5e89ded35caa36d5dbf0aa664c0d26de59a8983
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 26 11:36:42 2020 +0000

      * fix tc_bool_2_int simplification in case pass typecheck runs again, e.g.
        after getting a copy of the node during CSE (fixes taddset4 compilation
        with LLVM after r44712)
    
    git-svn-id: trunk@45087 -

M	compiler/ncnv.pas

******************************************************************************
commit 60345366f254fe85417c2de4e9d0ccf8f2c85d1c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Apr 25 22:12:35 2020 +0000

    * fix for Mantis #35140: apply patch by Ryan Joseph together with some further changes by me to add support for constant parameters in generics
    + added tests
    
    git-svn-id: trunk@45080 -

M	.gitattributes
M	compiler/defcmp.pas
M	compiler/htypechk.pas
M	compiler/ncnv.pas
M	compiler/ncon.pas
M	compiler/nmat.pas
M	compiler/node.pas
M	compiler/nset.pas
M	compiler/pass_1.pas
M	compiler/pdecl.pas
M	compiler/pdecsub.pas
M	compiler/pdecvar.pas
M	compiler/pexpr.pas
M	compiler/pgentype.pas
M	compiler/pgenutil.pas
M	compiler/pparautl.pas
M	compiler/ppu.pas
M	compiler/pstatmnt.pas
M	compiler/ptype.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp
A	tests/test/tgenconst1.pp
A	tests/test/tgenconst10.pp
A	tests/test/tgenconst11.pp
A	tests/test/tgenconst12.pp
A	tests/test/tgenconst13.pp
A	tests/test/tgenconst14.pp
A	tests/test/tgenconst15.pp
A	tests/test/tgenconst16.pp
A	tests/test/tgenconst17.pp
A	tests/test/tgenconst18.pp
A	tests/test/tgenconst19.pp
A	tests/test/tgenconst2.pp
A	tests/test/tgenconst20.pp
A	tests/test/tgenconst21.pp
A	tests/test/tgenconst22.pp
A	tests/test/tgenconst23.pp
A	tests/test/tgenconst24.pp
A	tests/test/tgenconst25.pp
A	tests/test/tgenconst26.pp
A	tests/test/tgenconst27.pp
A	tests/test/tgenconst28.pp
A	tests/test/tgenconst29.pp
A	tests/test/tgenconst3.pp
A	tests/test/tgenconst30.pp
A	tests/test/tgenconst4.pp
A	tests/test/tgenconst5.pp
A	tests/test/tgenconst6.pp
A	tests/test/tgenconst7.pp
A	tests/test/tgenconst8.pp
A	tests/test/tgenconst9.pp

******************************************************************************
commit 951f02d188c6233ff7e08ceb54590e27f07cf1f1
Author: florian <florian@freepascal.org>
Date:   Sat Apr 25 19:35:28 2020 +0000

      * correctly set register size
    
    git-svn-id: trunk@45076 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 687b31575bb459c424e3666df40d36f806bd864a
Author: pierre <pierre@freepascal.org>
Date:   Sat Apr 25 08:14:17 2020 +0000

     Update revision.inc after commit 44920
    
    git-svn-id: trunk@45060 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 670e77864372d4e45300e6cadbb3d860064b7e1a
Author: florian <florian@freepascal.org>
Date:   Fri Apr 24 20:56:56 2020 +0000

      + assembler optimization MovxMov2Movx
    
    git-svn-id: trunk@45057 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 8b71455e3b43235a283b815771ec85060dedfb6e
Author: florian <florian@freepascal.org>
Date:   Thu Apr 23 20:17:28 2020 +0000

      + Xtensa: enable jump optimizer
    
    git-svn-id: trunk@45045 -

M	compiler/xtensa/aoptcpu.pas

******************************************************************************
commit 8d95da3feafcffcd7b2bf539bfdf4b90a09c2963
Author: yury <jura@cp-lab.com>
Date:   Thu Apr 23 12:38:42 2020 +0000

    * Windows: Reworked handling of command line arguments to properly support Unicode:
      - Use the CommandLineToArgvW API function to parse the Unicode command line (we can use it since Win9x is not supported anymore).
      - Implemented non-public functions ParamStrA and ParamStrU which are exposed in the objpas and uuchar units to provide correct AnsiString and UnicodeString versions of ParamStr().
      - The cleanup code is moved from InternalExit to the finalization section of the System unit.
    
    git-svn-id: trunk@45037 -

M	rtl/inc/system.inc
M	rtl/inc/uuchar.pp
M	rtl/objpas/objpas.pp
M	rtl/win/sysos.inc
M	rtl/win/syswin.inc
M	rtl/win/syswinh.inc
M	rtl/win32/system.pp
M	rtl/win64/system.pp

******************************************************************************
commit 483837ae5cdf79f77aa935f79598da4c3740caf4
Author: florian <florian@freepascal.org>
Date:   Wed Apr 22 21:03:08 2020 +0000

      + Xtensa: make use of ADDX*
    
    git-svn-id: trunk@45001 -

M	.gitattributes
M	compiler/xtensa/cpunode.pas
A	compiler/xtensa/ncpumem.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 74abe873151caecdd73cb2442631050bee0bb7d3
Author: florian <florian@freepascal.org>
Date:   Wed Apr 22 21:03:06 2020 +0000

      * Xtensa: do SAR by a constant using SRAI
    
    git-svn-id: trunk@45000 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 0f4ddf7b3497938dce9f1ae5b20179e13c78d03d
Author: yury <jura@cp-lab.com>
Date:   Wed Apr 22 09:13:20 2020 +0000

    * Do not report about unimplemented unicodestring manager when HAS_WIDESTRINGMANAGER is defined (on Windows). In such case unimplemented parts are never executed unless you call them directly.
    * Do not assign DefaultGetStandardCodePage when HAS_WIDESTRINGMANAGER is defined (on Windows).
    
    git-svn-id: trunk@44995 -

M	rtl/inc/ustrings.inc

******************************************************************************
commit 2d3cd25fd8d614ba0d95c490371be52f8fe7fccc
Author: florian <florian@freepascal.org>
Date:   Tue Apr 21 20:34:15 2020 +0000

      * patch by Michael Ring: adds license headers to th FreeRTOS files and some renames to make the interrupts cmsis compatible.
    
    git-svn-id: trunk@44973 -

M	rtl/freertos/arm/stm32f103xe.pp
M	rtl/freertos/arm/stm32f401xe.pp
M	rtl/freertos/arm/stm32g071xx.pp

******************************************************************************
commit c3954a0cee3ecd2e77124ea3cb0994dcf61d1852
Author: yury <jura@cp-lab.com>
Date:   Tue Apr 21 18:55:24 2020 +0000

    * Fixed r44960. Also copy a trailing implicit #0 of the original string to the new larger string.
    
    git-svn-id: trunk@44970 -

M	rtl/inc/astrings.inc

******************************************************************************
commit 1e32b96bc230cd044d6c37faeb5a63e55408778a
Author: yury <jura@cp-lab.com>
Date:   Tue Apr 21 14:18:35 2020 +0000

    * Minor improvement. No need to move the terminating null char, since it is written later anyway. Remove a local var.
    
    git-svn-id: trunk@44960 -

M	rtl/inc/astrings.inc

******************************************************************************
commit ef790adc28cbb70befd6571c622a353160c6db47
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 21 13:54:22 2020 +0000

    m68k-amiga: document which legacy support functions are unimplemented and why, and where are they used in the RTL code
    
    git-svn-id: trunk@44959 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit 184d6d61ed2ec9209af5f696626243074ecbee93
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:09:20 2020 +0000

    * regenerate makefiles
    
    git-svn-id: trunk@44958 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 2aa0e508731a84586222db50b8937831ff8eca44
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:07:06 2020 +0000

    * implement dogetcopy for the Aarch64 variant of the tryfinally node
    
    git-svn-id: trunk@44957 -

M	compiler/aarch64/ncpuflw.pas

******************************************************************************
commit 55c1ecedac40f079be9fbf04cdbd1dbcecc7660d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:07:03 2020 +0000

    * set implicitframe for copied tryfinally nodes as well
    
    git-svn-id: trunk@44956 -

M	compiler/nflw.pas

******************************************************************************
commit e01de8098137ca8a8fe9f5d0a95d742d6e8e7eb2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:40 2020 +0000

    * register the DLL scanner for aarch64-win64
    
    git-svn-id: trunk@44950 -

M	compiler/systems/t_win.pas

******************************************************************************
commit 7f4b94e4087a46b3c89dfb8731ddc6a0ba2c015b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:36 2020 +0000

    * generate jump tables into the same section as the code as otherwise we'll get bogus relocations (in case of clang.exe) or a future support for armasm64.exe will reject the relative symbols outright
    
    git-svn-id: trunk@44949 -

M	compiler/aarch64/ncpuset.pas

******************************************************************************
commit b88107fa1d7eca0004f0cdeb149f2cb15b711f13
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:31 2020 +0000

    * due to an apparent bug in the clang assembler for COFF when assembling ADRP instructions we can't use symbols that are offset into their section
    
    git-svn-id: trunk@44948 -

M	compiler/aasmcnst.pas

******************************************************************************
commit 042aae24554402b152750137c37ddd0ba079418b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:28 2020 +0000

    * the clang assembler does not provide support for the SEH directives we need (only the LLVM backend would be able to use them), thus we need to manually convert them to data sections
    
    git-svn-id: trunk@44947 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 531c93a04e58755dff30399d08c243602e404080
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:24 2020 +0000

    * regenerate msg{idx,txt}.inc
    
    git-svn-id: trunk@44946 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 7f0d582a4a46297bf021722e993cd40fdd121997
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:20 2020 +0000

    + add Win64 target to help text
    
    git-svn-id: trunk@44945 -

M	compiler/msg/errore.msg

******************************************************************************
commit 6143b8b54d03b8af9704d64fb25223629f0baa6a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:16 2020 +0000

    + add an error message if the size of a function is invalid (in case of aarch64-win64: not a multiple of 4, the instruction size)
    
    git-svn-id: trunk@44944 -

M	compiler/msg/errore.msg

******************************************************************************
commit ada6d8ce5e1dcc4c5a86f63348fbe1c50be3c8a7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:13 2020 +0000

    * the .pdata section currently only needs to be always included for arm-wince (at least until we have full SEH support there as well)
    
    git-svn-id: trunk@44943 -

M	compiler/ogcoff.pas

******************************************************************************
commit 96c52ef16d0848d46da5c47e5981d09cca082d94
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:09 2020 +0000

    + implement a main_wrapper for the default exception handler for aarch64-win64
    
    git-svn-id: trunk@44942 -

M	rtl/win64/system.pp

******************************************************************************
commit 2b59000d563d6177edf02ad3d6bdc73afbbeafba
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:06:05 2020 +0000

    + implement compiler support for SEH on Win64
    
    Note: due to the way we access variables in a nested function (which in this case includes exception filters) we can not extract the finally handlers and call them (like we do on i386 and x86_64, but instead we duplicate the finally code)
    
    git-svn-id: trunk@44941 -

M	.gitattributes
M	compiler/aarch64/cgcpu.pas
M	compiler/aarch64/cpunode.pas
M	compiler/aarch64/cpupi.pas
A	compiler/aarch64/ncpuflw.pas
M	compiler/aarch64/racpugas.pas
M	compiler/aasmtai.pas
M	compiler/ogcoff.pas
M	compiler/psub.pas
M	compiler/x86_64/win64unw.pas

******************************************************************************
commit 4e06d66d7fb98e634e4e86a1d43f3856da429fec
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:59 2020 +0000

    + implement RTL functionality for SEH for aarch64-win64
    
    git-svn-id: trunk@44940 -

M	rtl/win64/seh64.inc
M	rtl/win64/system.pp

******************************************************************************
commit bfa5bf80e20e47101e4253f920895acb098436b4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:55 2020 +0000

    * inside the Win64 system unit convert FPC_USE_WIN64_SEH to a SYSTEM_USE_WIN_SEH
    
    git-svn-id: trunk@44939 -

M	rtl/win64/seh64.inc
M	rtl/win64/system.pp

******************************************************************************
commit 5c898fe795be88b59ae3c650abe9d5981a9dcead
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:51 2020 +0000

    * enable is_prefetch only for x86 code
    
    git-svn-id: trunk@44938 -

M	rtl/win64/system.pp

******************************************************************************
commit c152796bf3a25f2a9fbc9fdd67f0d1cdb31dbca4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:46 2020 +0000

    * rename RunErrorCodex64 to a more appropriate RunErrorCodeSEH
    
    git-svn-id: trunk@44937 -

M	rtl/win64/seh64.inc

******************************************************************************
commit 25c6f3a667b24d7d9f9f165e0a5eb6b37dadb357
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:43 2020 +0000

    * the prefetch bug handling is specific to x86_64
    
    git-svn-id: trunk@44936 -

M	rtl/win64/seh64.inc

******************************************************************************
commit f3c377f8d1e689d70f39e831701ab243162030c2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:39 2020 +0000

    * use accessor functions to work with the TContext record
    
    git-svn-id: trunk@44935 -

M	rtl/win64/seh64.inc

******************************************************************************
commit fed17122f85f08ee9bd0ce89ce3fdd2860e35eac
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:35 2020 +0000

    * as a variant for SEH exception filters we allow them to be *duplicated* instead of being extracted; this can be done unconditionally as for extracted ones their code is set to Nil after they're done and thus won't be picked up by generate_code_exceptionfilters
    
    git-svn-id: trunk@44934 -

M	compiler/psub.pas

******************************************************************************
commit f150fc6b7cdf797f9cbbd436ab40ba388f4328bf
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:25 2020 +0000

    * at least clang can savely generate relocatable readonly sections, so use "r" for aarch64-win64
    
    git-svn-id: trunk@44931 -

M	compiler/aggas.pas

******************************************************************************
commit 329710f5730f6aa9baabab10992a50435b29a390
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:21 2020 +0000

    * use COFF sectionattrs for aarch64-win64 as well
    
    git-svn-id: trunk@44930 -

M	compiler/aggas.pas

******************************************************************************
commit 3f40e00392b6701dffd95c5aa1cd38a9a4cf9297
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:18 2020 +0000

    * the clang assembler for COFF requires at least an "r" to generate a readonly section
    
    git-svn-id: trunk@44929 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 3f62c5f5ef62b791b22aadf5059041619e88a5a2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:14 2020 +0000

    + introduce a virtual method for writing the section flags
    
    git-svn-id: trunk@44928 -

M	compiler/aggas.pas

******************************************************************************
commit b5a4f8837cb7abec3818eaaaa304ae2a4c2a17d0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:10 2020 +0000

    * rename the local sectionflags and sectionprogbits variables to the more clear usesectionflags and usesectionprogbits
    
    git-svn-id: trunk@44927 -

M	compiler/aggas.pas

******************************************************************************
commit 61358b1eaad0f8b5e605d58983b43c1864a38da0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:06 2020 +0000

    * it's rather useless that sectiontype2options is virtual as we can't use a class type, not to mention that the classes doing the overriding are for the internal assemblers/linkers, but we need it also for external
      Thus we move the functionality of the overloads to the basemethod and remove the virtual directive; maybe we'll find a better solution in the future...
    
    git-svn-id: trunk@44926 -

M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogomf.pas

******************************************************************************
commit 0cc592e9eea8cd2d1943adb20db14fc32d5a64e4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:05:02 2020 +0000

    - remove sectiontype2options overload for mach-O, because the relevant sections have the correct flags in the base method already
    
    git-svn-id: trunk@44925 -

M	compiler/ogmacho.pas

******************************************************************************
commit 12ef0668970c478becd1661e2825d0d0aa2cad3e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:59 2020 +0000

    + add functionality to store a node tree's required temp nodes and their flag upon entering the tree
    
    git-svn-id: trunk@44924 -

M	compiler/psub.pas

******************************************************************************
commit 41b17115895bc992f9c34aa8385be55f4079c75e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:55 2020 +0000

    * disable CPU and Signals units for Windows on AArch64 for now
    
    git-svn-id: trunk@44923 -

M	rtl/win64/buildrtl.pp

******************************************************************************
commit 1972b05cc8840e95d01ee332d4c931226f1e8f3f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:52 2020 +0000

    * store and restore the 8087 control world only on x86 systems
    
    git-svn-id: trunk@44922 -

M	rtl/win/sysutils.pp

******************************************************************************
commit c474b95dfcb780807fbc982182cabe6a586e05f1
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:49 2020 +0000

    * disable some x86_64 specific assembly routines
    
    git-svn-id: trunk@44921 -

M	rtl/win64/system.pp

******************************************************************************
commit 79a4409587318b836abf829fc01bcfb2a6364638
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:45 2020 +0000

    * enable AArch64 for Win64 in fpmkunit and fpcmake
    
    git-svn-id: trunk@44920 -

M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 613a6e796a30c0e4ee4e926b92f7d5ad8213e817
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:41 2020 +0000

    * Windows on AArch64 requires some DllCharacteristics in the header to be always set
    
    git-svn-id: trunk@44919 -

M	compiler/ogcoff.pas

******************************************************************************
commit 40633835dcaa2206cf041bb5abca51accb39b1b7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:37 2020 +0000

    * Windows on Aarch64 requires a relocation section
    
    git-svn-id: trunk@44918 -

M	compiler/pmodules.pas

******************************************************************************
commit 3b1d5794e9c7b06e2c8ce9f11610b479d3a55132
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:34 2020 +0000

    * Windows on AArch64 does not support ProgBits either
    
    git-svn-id: trunk@44917 -

M	compiler/aggas.pas

******************************************************************************
commit a6f1c04f22723ea2da0c5938240f74fe87552aeb
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:31 2020 +0000

    * Windows does not support a GOT, so rely on page relative addressing
    
    git-svn-id: trunk@44916 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit dfde4def62ef9798084f4ea4a8ccd2963b9e354b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:27 2020 +0000

    + add a GAS compatible variant of the Clang assembler (currently used for Aarch64-Win64 as no GNU AS exists for that target, yet)
    
    git-svn-id: trunk@44915 -

M	compiler/aarch64/agcpugas.pas
M	compiler/systems.inc

******************************************************************************
commit 3af74d2fd2a9a431d0b0b966b03d2fa07cc0e59a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:22 2020 +0000

    + implement initial compiler support for Win64 on Aarch64
    
    git-svn-id: trunk@44914 -

M	compiler/aarch64/cputarg.pas
M	compiler/gendef.pas
M	compiler/ogcoff.pas
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/systems/i_win.pas
M	compiler/systems/t_win.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 5b941e3cea65f1bc58bc2189d6eb371b3c3441d4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:15 2020 +0000

    + implement relocations for Aarch64 for the internal COFF linker
    
    git-svn-id: trunk@44913 -

M	compiler/ogbase.pas
M	compiler/ogcoff.pas

******************************************************************************
commit 3e29742fd9b4d483b0cb3c7bd1b0417e6fddbad6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Apr 21 06:04:10 2020 +0000

    * for PE+ specific checks use a constant in systems.pas instead of an explicit list (easier to extend this way)
    
    git-svn-id: trunk@44912 -

M	compiler/aasmtai.pas
M	compiler/assemble.pas
M	compiler/ogcoff.pas
M	compiler/systems.pas
M	compiler/systems/t_win.pas

******************************************************************************
commit 6630f47ab492f1860723e58ee36496b94a8f9f32
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Apr 21 03:01:17 2020 +0000

    m68k-amiga: implemented LockDosList, UnlockDosList, and NextDosEntry helpers for legacy support
    
    git-svn-id: trunk@44907 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit b4ff93c9fed1d9a54bf4a58f9f24b42779488589
Author: florian <florian@freepascal.org>
Date:   Mon Apr 20 20:08:19 2020 +0000

      + forgotten files added
    
    git-svn-id: trunk@44889 -

M	.gitattributes
A	rtl/freertos/arm/cortexm0.pp
A	rtl/freertos/arm/cortexm0_start.inc
A	rtl/freertos/arm/cortexm3.pp
A	rtl/freertos/arm/cortexm3_start.inc
A	rtl/freertos/arm/cortexm4.pp
A	rtl/freertos/arm/cortexm4f_start.inc
A	rtl/freertos/arm/cortexm7.pp
A	rtl/freertos/arm/stm32f103xe.pp
A	rtl/freertos/arm/stm32f401xe.pp
A	rtl/freertos/arm/stm32g071xx.pp

******************************************************************************
commit 068f0d2ec8ee953998eebf578bcb27d821be4dac
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Apr 20 18:42:30 2020 +0000

    * fix for Mantis #36935: apply patch by J. Gareth Moreton to fix a typo in cs_opt_remove_empty_proc
    
    git-svn-id: trunk@44888 -

M	compiler/globtype.pas
M	compiler/ncal.pas
M	compiler/ncgvmt.pas
M	compiler/psub.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit cd6de6a4cae00d2a5f9b09cc62947f94f6724445
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 20 13:58:47 2020 +0000

    Regenerate all Makefiles
    
    git-svn-id: trunk@44882 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 3f9e6aa6b9655f8e5310ead9fec42b59a78da003
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 20 13:57:26 2020 +0000

    Add handling of sparc64-linux and pass -m32/-m64 to $CROSSGCC call
    
    git-svn-id: trunk@44881 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 4d25558519f9662785c16ef3717f11e1716c1617
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 20 09:50:07 2020 +0000

      * Use off_t type for l_start and l_end fields instead of kernel_off_t
      + Distinguish rlim_t type depending on fs32bit macro being set or not.
    
    git-svn-id: trunk@44879 -

M	rtl/linux/ostypes.inc

******************************************************************************
commit 4888c379c433c51d7dfa68adff8d69d785cff9a0
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 20 09:37:55 2020 +0000

     Use same field type and name as in /ust/include/sys/stat.h
    
    git-svn-id: trunk@44878 -

M	rtl/linux/powerpc/stat.inc
M	rtl/linux/powerpc64/stat.inc

******************************************************************************
commit 4b5f37c2a7c9b2e808e9e56243988bddf789f337
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 19 21:48:58 2020 +0000

     Correctly update after commit 44871
    
    git-svn-id: trunk@44876 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 57809eb922c2d9e6dbca04fdc54d3c020905df88
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 19 21:40:40 2020 +0000

     Add several missing -T options in help
    
    git-svn-id: trunk@44875 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit a76c0db9dd55ecd4e81116fdc1779dc110376cc2
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 19 21:09:08 2020 +0000

     Update after commit 44790
    
    git-svn-id: trunk@44872 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 8ac8c79a71abc78e50e5fa2206c93ff1a555f144
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 20:59:52 2020 +0000

      + initial support for arm-freertos largely based on patch by Michael Ring
    
    git-svn-id: trunk@44871 -

M	compiler/aggas.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cpuelf.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/cputarg.pas
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/systems/i_freertos.pas
M	compiler/systems/t_embed.pas
M	compiler/systems/t_freertos.pas
M	compiler/utils/ppuutils/ppudump.pp
M	rtl/freertos/Makefile.fpc
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini
M	utils/fpcm/fpcmmain.pp
M	utils/fpcm/revision.inc

******************************************************************************
commit 0750fdf4102f004b0363c871b3acbb9e359158dd
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 20:59:50 2020 +0000

      * xtensa-freertos requires also SUBARCH being set
    
    git-svn-id: trunk@44870 -

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit be50c77f342dab9fa790edf5597594c665dd97e8
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 19:22:05 2020 +0000

      * regenerated
    
    git-svn-id: trunk@44867 -

M	compiler/utils/Makefile

******************************************************************************
commit c96a3cc9d1584825f4b8d56fa8b52a1140a2ee67
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 19:07:43 2020 +0000

      + take care of OPTNEW when building utils
    
    git-svn-id: trunk@44866 -

M	compiler/utils/Makefile
M	compiler/utils/Makefile.fpc

******************************************************************************
commit 6636f3f0dc44be5d9f4f4cc17dd5a66c2c634274
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 19 17:34:22 2020 +0000

      * updated after changes
    
    git-svn-id: trunk@44862 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 26ec913725764af0ac22e21135a965c5ed8b502e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 19 17:33:47 2020 +0000

      * regenerated makefiles
    
    git-svn-id: trunk@44861 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit f81dac4f6fa55f58becce7099648024b861bec99
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 19 17:33:18 2020 +0000

      - remove ld.so.conf parsing from makefiles: this was probably done because we
        used to completely replace the default linker script under Linux (which
        also includes search directories), and it's wrong in case of
        cross-compiling
    
    git-svn-id: trunk@44860 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit 0df2c867ca2411939925f9c2639742c4ec7a6b72
Author: pierre <pierre@freepascal.org>
Date:   Sun Apr 19 16:02:39 2020 +0000

     Set 'default' target to freertos in rtl/freertos directory
    
    git-svn-id: trunk@44858 -

M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc

******************************************************************************
commit 14d46bccba450eb00fda58f7be532e5438eebbcd
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 15:52:41 2020 +0000

      * Xtensa: make use of extui for shifting with constant values >=16
    
    git-svn-id: trunk@44856 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 7eff3adbcb31ad65fa42aa2ea461e569fa947995
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 13:28:42 2020 +0000

      * adapted xtensa-freertos to work with the currently stable ESP-IDF 4.0, partially based on a patch by Michael Ring
    
    git-svn-id: trunk@44850 -

M	compiler/systems/t_freertos.pas
M	rtl/freertos/xtensa/esp32.pp

******************************************************************************
commit 5882e2935c970056d5c4dc83d15c068e91c16abe
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 13:28:41 2020 +0000

      * do all make targets in parallel, no issues found yet
    
    git-svn-id: trunk@44849 -

M	Makefile
M	Makefile.fpc
M	packages/Makefile
M	packages/Makefile.fpc

******************************************************************************
commit 8cc76b4b338805f53bfb57c62b1c434612817d7d
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 11:24:46 2020 +0000

      * regenerated
    
    git-svn-id: trunk@44844 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 1643fc52106c05039db71882b3762db3240d8069
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 11:22:55 2020 +0000

      + xtensa-embedded: patch by Christo Crause to check and support SUBARCH
    
    git-svn-id: trunk@44843 -

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit db19900eb1c6a4b8580f03fd57506a2592b80314
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 11:04:31 2020 +0000

      * TARMAsmOptimizer.RemoveSuperfluousMove should not mess with PC
    
    git-svn-id: trunk@44842 -

M	compiler/armgen/aoptarm.pas

******************************************************************************
commit c2df0f23006ec371479ce58e37e5f1c86878db31
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 08:41:32 2020 +0000

      * Xtensa: handle localsize > 32760
    
    git-svn-id: trunk@44840 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 7b2bd0b91766036ea7a58a8b5600b10523c5e52d
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 08:41:31 2020 +0000

      * Xtensa: generate better code for adding/subtracting 16 bit constants
    
    git-svn-id: trunk@44839 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 702e63e59f821d2dbbdc2ca9ac21ef4846959fdf
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 08:41:30 2020 +0000

      * build more units for FreeRTOS
    
    git-svn-id: trunk@44838 -

M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc
M	rtl/freertos/system.cfg

******************************************************************************
commit 2edec13a0f2be3066ae9e6796ea7811b60971a56
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 07:37:45 2020 +0000

      * use j.l in external wrappers, this is not save yet as A15 might contain
        an argument: externals need to be called with call4 if they use all
        parameter registers, this needs to be implemented
    
    git-svn-id: trunk@44837 -

M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit a49a7763079fc5df0be15ec3fa932015ccbbe69b
Author: florian <florian@freepascal.org>
Date:   Sun Apr 19 07:36:13 2020 +0000

      * go through cg to generate jumps, so the right jump is generated always
    
    git-svn-id: trunk@44836 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 099faf2d2babda25febee94149772fa936244b2e
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 21:48:25 2020 +0000

      * factored out and improved TARMAsmOptimizer.RedundantMovProcess
      + AArch64: use TARMAsmOptimizer.RedundantMovProcess
    
    git-svn-id: trunk@44799 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit d7623be563119810e3182b78e08d2c6a9a6809f0
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 20:39:38 2020 +0000

      * FreeRTOS: do not try to build native utils
    
    git-svn-id: trunk@44798 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit 9211e6cf936ecc789a8d31691bb288bbaed634d0
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 20:39:37 2020 +0000

      * FreeRTOS: try not to build native binaries
    
    git-svn-id: trunk@44797 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 3ec0437d5fddb885c204ed9be2abbacee1b3346b
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 20:39:37 2020 +0000

      * Xtensa: dummy overflow checking
    
    git-svn-id: trunk@44796 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 6ccb8b83dae165f9c48b9db693d7cdec6dbf1ab6
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 17:58:45 2020 +0000

      + AArch64: TCpuAsmOptimizer.OptPass1Mov
    
    git-svn-id: trunk@44795 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 2b3d7dd42cddd513b70d4f7ddb61e2f7766cdb37
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 17:58:44 2020 +0000

      * bail out early if possible
    
    git-svn-id: trunk@44794 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 4b59bcb0ca289e88f97d84afd1dd37502c48daa5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 18 16:08:25 2020 +0000

      * regenerated makefiles
    
    git-svn-id: trunk@44793 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcm/revision.inc
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit d098600c67613ad067bb964b70e8be97c5f11efc
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 18 16:07:56 2020 +0000

      * updated after changes to fpcmake.ini/inc
    
    git-svn-id: trunk@44792 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 723430ac34811b2a6177c65c0f9067e4d529fbf4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 18 15:44:57 2020 +0000

      * support building the IDE with the LLVM code generator
    
    git-svn-id: trunk@44791 -

M	packages/Makefile.fpc
M	packages/ide/Makefile.fpc
M	packages/ide/fpmake.pp

******************************************************************************
commit 218ca87a3f71509d27b3f77374046adb87db6a10
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 18 15:44:53 2020 +0000

      * always add the libgcc search directory under Linux, as it is required for
        both the LLVM code generator and SEH support (it does _not_ force linking
        libgcc, just adds the search directory so it can be found in case it's
        required)
    
    git-svn-id: trunk@44790 -

M	packages/fpmkunit/Makefile.fpc
M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit ea2e516b4e7b560e9af7d2b0c6c61488a0ba7b93
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 18 15:44:42 2020 +0000

      + -ib parameter to print the code generator backend type: FPC or LLVM
      * some cleanups related to -i printing
    
    git-svn-id: trunk@44787 -

M	compiler/fpcdefs.inc
M	compiler/globals.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.inc
M	compiler/systems.pas

******************************************************************************
commit 7125cb505c0e428110713679df6ac681bab49a0a
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 15:17:29 2020 +0000

      + AAarch64: assembler optimization Bl2B
    
    git-svn-id: trunk@44785 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 3a76f9f477ae96a04700f8db2a66913830df3dfc
Author: pierre <pierre@freepascal.org>
Date:   Sat Apr 18 09:53:24 2020 +0000

      * Fix compilation of gdbint unit for go32v2, should resolve bug report 36923.
        Replace cint type by longint (as gdbint unit does not use ctypes unit).
    
    git-svn-id: trunk@44774 -

M	packages/gdbint/src/gdbint.pp

******************************************************************************
commit 5a07298ea516c581c06c1ce1b784fc3a6201159f
Author: florian <florian@freepascal.org>
Date:   Sat Apr 18 09:38:10 2020 +0000

      + AAarch64: FOpFMov2FOp assembler optimization
    
    git-svn-id: trunk@44773 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 56ad37133e6225e2a4bf8dd07e9bfb19e0805489
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 17 23:09:16 2020 +0000

    m68k-amiga: hack to avoid a linker (vlink) warning about merging sections with different flags together. Amiga doesn't support true read only sections anyway
    
    git-svn-id: trunk@44757 -

M	compiler/aggas.pas
M	compiler/m68k/ag68kvasm.pas

******************************************************************************
commit 001057b52ec0a30b4ab3a7c5888b11de9e8aff87
Author: florian <florian@freepascal.org>
Date:   Fri Apr 17 21:02:35 2020 +0000

      * re-added assembler optimization accidently removed in r44738 as noted by margers on the mailing list
    
    git-svn-id: trunk@44751 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 09b6bed27cdd337014ae0f8dc85957647236a8eb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 17 17:12:23 2020 +0000

    m68k-amiga: implemented CreateNewProc for legacy support, means AThreads now works on OS v1.2+
    
    git-svn-id: trunk@44748 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit 4f16473baad47661a858c77d100d8070af688941
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 17 14:44:16 2020 +0000

    * fix typo
    
    git-svn-id: trunk@44747 -

M	compiler/scanner.pas

******************************************************************************
commit f5fc806c9d2cc3c880ff98e92f33f764747e6713
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Apr 17 14:44:11 2020 +0000

    * fix comment
    
    git-svn-id: trunk@44745 -

M	compiler/sparc64/tgcpu.pas

******************************************************************************
commit 1bd66a605ce4bbec1143c5e50afc2ec9e78a1d59
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 17 00:15:30 2020 +0000

    amicommon: only include exec helpers when compiling for v2.0 in athreads
    
    git-svn-id: trunk@44743 -

M	rtl/amicommon/athreads.pp

******************************************************************************
commit db0deab026eaae27b8d70662dfba25be86bc440b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 17 00:14:42 2020 +0000

    amicommon: instead of a runtime check, check for OS2.0+ features at compile time in DOS
    
    git-svn-id: trunk@44742 -

M	rtl/amicommon/dos.pp

******************************************************************************
commit 024ab0a8541406375fe10c9f8668c78667fda1b4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 17 00:13:56 2020 +0000

    amicommon: only include exec extensions when complied for v2.0
    
    git-svn-id: trunk@44741 -

M	rtl/amicommon/sysos.inc

******************************************************************************
commit 9176efbab4ef437703b08d88958ab3506accaca0
Author: florian <florian@freepascal.org>
Date:   Thu Apr 16 21:19:14 2020 +0000

      * factored out TARMAsmOptimizer.OptPass1SXTH
      * AArch64: use TARMAsmOptimizer.OptPass1SXTH
    
    git-svn-id: trunk@44739 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 19a9d4c4acb2d5dbe4bb14756517d3e3d85d79be
Author: florian <florian@freepascal.org>
Date:   Thu Apr 16 21:19:13 2020 +0000

      * factored out TARMAsmOptimizer.OptPass1SXTB
      * AArch64: use TARMAsmOptimizer.OptPass1SXTB
    
    git-svn-id: trunk@44738 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 7172397077ad2126b5d59b985ee1f266d65663c3
Author: florian <florian@freepascal.org>
Date:   Thu Apr 16 21:19:12 2020 +0000

      * factored out TARMAsmOptimizer.OptPass1UXTH
      * AArch64: use TARMAsmOptimizer.OptPass1UXTH
    
    git-svn-id: trunk@44737 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit 4f14f0f4e53ccaa8f37830d0bd614b66c604c69e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 16 20:59:08 2020 +0000

    m68k-amiga: startup code to print a console message and quit, when the OS is known to be too old for the RTL
    
    git-svn-id: trunk@44736 -

M	rtl/amiga/m68k/si_prc.pp

******************************************************************************
commit c577e290d13b2b1dd2c03ed0db8d607fc28088e7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 16 20:51:57 2020 +0000

    m68k-amiga: enable certain legacy exec support functions only when compiling for OS v2.0
    
    git-svn-id: trunk@44735 -

M	rtl/amiga/m68k/legacyexec.inc
M	rtl/amiga/m68k/legacyexech.inc

******************************************************************************
commit 2f8fe76bed57a0d037c9851210d3c034a51dd01d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 16 20:50:14 2020 +0000

    m68k-amiga: have an AMIGA prefix in OS_MINVERSION public constant, add OS 2.0 support, make sure we open v39 by default as it is needed by memory pool functions
    
    git-svn-id: trunk@44734 -

M	rtl/amiga/system.pp

******************************************************************************
commit 36e4db15bcb41e1a5a207868bb9e9f59e461f66e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Apr 16 20:42:31 2020 +0000

    m68k-amiga: make it possible to disable functions newer than OS 2.0 (v37+)
    
    git-svn-id: trunk@44733 -

M	rtl/amiga/m68k/doslibf.inc
M	rtl/amiga/m68k/execf.inc

******************************************************************************
commit 73b563b3679e0771fe3d0f546da7695b9f911e1f
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 15 20:47:04 2020 +0000

     Avoid invalid typecast in tarmunaryminusnode.pass_1 method
    
    git-svn-id: trunk@44726 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit 9bcff94e9e7674ca6b87f6aa45b5748aabd65dd3
Author: florian <florian@freepascal.org>
Date:   Wed Apr 15 20:21:29 2020 +0000

      * factored out TARMAsmOptimizer.OptPass1UXTB
      * several other routines being very similar for ARM and AAarch64 moved to aoptarm
    
    git-svn-id: trunk@44725 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/aarch64/cpubase.pas
M	compiler/arm/aoptcpu.pas
M	compiler/armgen/aoptarm.pas

******************************************************************************
commit c4b66c89f7c08409f0c7d82869e473ccd84fd8c6
Author: florian <florian@freepascal.org>
Date:   Tue Apr 14 20:52:27 2020 +0000

      * check for stup instead of stp
    
    git-svn-id: trunk@44722 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 2276caae243820b7dc60a7b7feff79b908d96c08
Author: florian <florian@freepascal.org>
Date:   Mon Apr 13 21:01:01 2020 +0000

      + common assembler optimizer base class for arm and aarch64
    
    git-svn-id: trunk@44720 -

M	.gitattributes
M	compiler/aarch64/aoptcpu.pas
M	compiler/arm/aoptcpu.pas
A	compiler/armgen/aoptarm.pas

******************************************************************************
commit 3022927a6f73b6a74eba24ba6f941b1e78096037
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 13 20:56:44 2020 +0000

     Handle all existing possible values for init_settings.fputype to set Tag_FP_Arch .eabi_attribute
    
    git-svn-id: trunk@44719 -

M	compiler/arm/narmutil.pas

******************************************************************************
commit 3dff78621cbf792076eed72a35848b4f572c5d9a
Author: florian <florian@freepascal.org>
Date:   Mon Apr 13 18:04:34 2020 +0000

      * Aarch64: UTX/STX instructions include now the postfix, so it is the same as for ARM
    
    git-svn-id: trunk@44718 -

M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc
M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 2bae2a451c4dd4571b3ad81be202253050fb447b
Author: florian <florian@freepascal.org>
Date:   Mon Apr 13 17:29:09 2020 +0000

      * load 0 into unaligned memory in a simpler way
    
    git-svn-id: trunk@44717 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 7c2c8581b7d3543cf28d8fe6c917f09f190d7835
Author: florian <florian@freepascal.org>
Date:   Mon Apr 13 17:27:46 2020 +0000

      * get rid of fpu_vfp_first/last hack
    
    git-svn-id: trunk@44716 -

M	compiler/arm/cpuinfo.pas
M	compiler/arm/narmcal.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/narminl.pas

******************************************************************************
commit 3d4cc7c2f663e3a4363c4f16fdface50f50ead8f
Author: florian <florian@freepascal.org>
Date:   Mon Apr 13 13:09:15 2020 +0000

      * fixes compilation on WinCE
    
    git-svn-id: trunk@44715 -

M	compiler/arm/narmcnv.pas

******************************************************************************
commit 458a6000e7c0665adcd9e55e7b09351fcbeb47e9
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 20:50:40 2020 +0000

      + arm: optimize sxth/sxtb
    
    git-svn-id: trunk@44713 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 4d73a9e637ba7ecb7abd2c849e5683dbe33ada67
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 20:50:39 2020 +0000

      * simplify tc_bool_2_int
    
    git-svn-id: trunk@44712 -

M	compiler/ncnv.pas

******************************************************************************
commit 8b95fb8377a8c05c378186f6876c057a95145e34
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 12 20:47:35 2020 +0000

    Morphos: Fixed compilation after r44709
    
    git-svn-id: trunk@44711 -

M	rtl/amicommon/dos.pp

******************************************************************************
commit 3f579c10a4da61a89014c28bcfd99909b97cc382
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 12 18:44:51 2020 +0000

    Amiga: do not try to read pr_LocalVars when running on 1.x
    
    git-svn-id: trunk@44709 -

M	rtl/amicommon/dos.pp

******************************************************************************
commit 280d5057e86a037c6baea33323b3b4bf9a387c3a
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 12 18:21:35 2020 +0000

    Amiga: simple SystemTagList() implementation for old Amigas including basic tag list handling (GetEnv works now)
    
    git-svn-id: trunk@44708 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit d772a42375334be095f5bdfa06b601163695b9d1
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 18:05:50 2020 +0000

      * arm: more fixes for fpu_fpv4_sp_d16
      * take care of FPUARM_HAS_VFP_DOUBLE
      * use FPUARM_HAS_VFP_EXTENSION instead of checking fpu_vfp_first and ...last
    
    git-svn-id: trunk@44707 -

M	compiler/arm/agarmgas.pas
M	compiler/arm/cpupara.pas
M	compiler/arm/narmadd.pas
M	compiler/arm/narmcon.pas
M	compiler/symdef.pas

******************************************************************************
commit 9d7261a60bb2e6c13ba096eecf630933a779a43d
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 18:05:49 2020 +0000

      * make eabihf/eabi changeable at compilation time
    
    git-svn-id: trunk@44706 -

M	compiler/systems.pas
M	compiler/systems/t_linux.pas

******************************************************************************
commit dcf08c1d4d934712519c3d5a0b7002e5cd73f09b
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 12 17:16:27 2020 +0000

    Amiga: very basic first implementation of MatchFirst/Next/End for old Amiga Versions
    
    git-svn-id: trunk@44705 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit acf58acf4109d35d1207100396b81a61a9acd0d3
Author: marcus <marcus@idefix.freepascal.org>
Date:   Sun Apr 12 15:17:00 2020 +0000

    Amiga: Implementation of Amiga2Date and Date2Amiga for older Amiga Versions
    
    git-svn-id: trunk@44704 -

M	rtl/amiga/m68k/legacyutil.inc

******************************************************************************
commit 38c32bcada3d600fccd74eb60a1961f0dbc200aa
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 14:24:56 2020 +0000

      * reorganized arm cpu flags
    
    git-svn-id: trunk@44703 -

M	compiler/arm/cpuinfo.pas
M	compiler/arm/narmadd.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/narminl.pas
M	compiler/arm/narmmat.pas

******************************************************************************
commit 497ff94cb096fb436b9916b60120b7c235d01d85
Author: florian <florian@freepascal.org>
Date:   Sun Apr 12 14:24:56 2020 +0000

      + fpu_fpv4_sp_d32
      * some fixes to make fpv4-sp-d32 work
    
    git-svn-id: trunk@44702 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/narmutil.pas

******************************************************************************
commit 71784254ab5cda0144cc92d0909533fff965163b
Author: michael <michael@freepascal.org>
Date:   Sun Apr 12 10:52:24 2020 +0000

    * Use exepath on all platforms
    
    git-svn-id: trunk@44700 -

M	compiler/globals.pas

******************************************************************************
commit 39fa96579079493b11e2c94e2dba6c924bceb13f
Author: michael <michael@freepascal.org>
Date:   Sun Apr 12 10:51:14 2020 +0000

    * Use exepath on all platforms
    
    git-svn-id: trunk@44699 -

M	compiler/globals.pas

******************************************************************************
commit 02ed51ea2541071642818c72552216d88aeda71c
Author: michael <michael@freepascal.org>
Date:   Sun Apr 12 09:32:03 2020 +0000

    * Do not expand FPCBINDIR on darwin
    
    git-svn-id: trunk@44698 -

M	compiler/globals.pas

******************************************************************************
commit f3560004cf486d89cb97dd144337c825d7ac0346
Author: michael <michael@freepascal.org>
Date:   Sun Apr 12 07:56:01 2020 +0000

    * Add FPCBINDIR macro for paths
    
    git-svn-id: trunk@44697 -

M	compiler/globals.pas

******************************************************************************
commit 4141df7fe6b1eabd4727d02d7d025c4a62cc0d64
Author: florian <florian@freepascal.org>
Date:   Sat Apr 11 14:58:58 2020 +0000

      * Xtensa: patch by Christo Crause to handle the sign extension architecture option, resolves #36885
    
    git-svn-id: trunk@44689 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit f2d45a0e9d7d46e4d86ccb2b3bb66c610a8cadbb
Author: florian <florian@freepascal.org>
Date:   Sat Apr 11 13:18:47 2020 +0000

      * Xtensa: fix expectloc of taddnode
    
    git-svn-id: trunk@44688 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit b352449eac03cc090900bfa8f06b097b88e80a91
Author: florian <florian@freepascal.org>
Date:   Sat Apr 11 13:18:47 2020 +0000

      * Xtensa: fix flag handling: B0 is considered as default flags
    
    git-svn-id: trunk@44687 -

M	compiler/hlcgobj.pas
M	compiler/ncgutil.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 75fe6c23a5242eddfd19537e00200bf425cfdcbc
Author: florian <florian@freepascal.org>
Date:   Sat Apr 11 13:18:46 2020 +0000

      * FreeRTOS: adapated packages to build
    
    git-svn-id: trunk@44686 -

M	packages/libgd/fpmake.pp
M	packages/rtl-extra/fpmake.pp
M	packages/rtl-objpas/fpmake.pp
M	packages/rtl-unicode/fpmake.pp
M	packages/sdl/fpmake.pp

******************************************************************************
commit 301acdf54b9052314eae5ec755bcf23539db46af
Author: florian <florian@freepascal.org>
Date:   Sat Apr 11 13:18:45 2020 +0000

      * dependencies fixes
    
    git-svn-id: trunk@44685 -

M	rtl/freertos/Makefile
M	rtl/freertos/Makefile.fpc

******************************************************************************
commit 5bab6201d578cf0d5f8901d5c08a8802f3839902
Author: florian <florian@freepascal.org>
Date:   Fri Apr 10 19:42:14 2020 +0000

      * rebuild Makefiles
    
    git-svn-id: trunk@44679 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/freertos/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 093e227edb4839157cad181ea1ca84af6ff73132
Author: florian <florian@freepascal.org>
Date:   Fri Apr 10 19:41:46 2020 +0000

      * Xtensa: register numbers fixed
    
    git-svn-id: trunk@44678 -

M	compiler/xtensa/rxtensacon.inc
M	compiler/xtensa/rxtensanum.inc
M	compiler/xtensa/rxtensarni.inc
M	compiler/xtensa/rxtensasup.inc
M	compiler/xtensa/xtensareg.dat

******************************************************************************
commit b9cc9f2e8ae08632866645ac8e885cdc2008188f
Author: florian <florian@freepascal.org>
Date:   Fri Apr 10 19:41:46 2020 +0000

      * Xtensa: fixes spilling
    
    git-svn-id: trunk@44677 -

M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/rgcpu.pas

******************************************************************************
commit 1cebf9f183e1a4c457b1e50ac0432ce9b26780e1
Author: florian <florian@freepascal.org>
Date:   Fri Apr 10 19:41:45 2020 +0000

      + freertos
    
    git-svn-id: trunk@44676 -

M	rtl/Makefile.fpc

******************************************************************************
commit afe8a7596ac8fdd3aa32e3460e7623d7dfc72a50
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Apr 10 09:26:00 2020 +0000

    arm-linux: enable epoll_pwait syscall number. this fixes the ARM Linux build after r44666
    
    git-svn-id: trunk@44675 -

M	rtl/linux/arm/sysnr.inc

******************************************************************************
commit 9753dd964b78619828120f868b6ad78c9679a45d
Author: florian <florian@freepascal.org>
Date:   Thu Apr 9 20:37:36 2020 +0000

      * Xtensa: properly align maxpushedparasize
    
    git-svn-id: trunk@44663 -

M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 2a0eeb41dfe764055b37f0680eff6977088fa7c7
Author: florian <florian@freepascal.org>
Date:   Thu Apr 9 20:37:35 2020 +0000

      * Xtensa: fix reg_cgsize
    
    git-svn-id: trunk@44662 -

M	compiler/xtensa/cpubase.pas

******************************************************************************
commit b7374401fd1c7390bf675877e56e3b386492fb14
Author: florian <florian@freepascal.org>
Date:   Wed Apr 8 20:42:40 2020 +0000

    * fix taicpu.is_same_reg_move
    
    git-svn-id: trunk@44647 -

M	compiler/xtensa/aasmcpu.pas

******************************************************************************
commit d3b09aeeb9b7bd224e2009719feb2a6a706f509d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Apr 8 08:32:41 2020 +0000

    amunits: add amicube to the examples to compile
    
    git-svn-id: trunk@44642 -

M	packages/amunits/fpmake.pp

******************************************************************************
commit 1dd914ffc8989cafc9415682a178a900249ca091
Author: florian <florian@freepascal.org>
Date:   Tue Apr 7 21:01:07 2020 +0000

    + initial xtensa-linux rtl
    
    git-svn-id: trunk@44636 -

M	.gitattributes
M	compiler/systems.pas
M	rtl/linux/bunxsysc.inc
M	rtl/linux/linux.pp
M	rtl/linux/osdefs.inc
M	rtl/linux/ossysc.inc
M	rtl/linux/ostypes.inc
M	rtl/linux/system.pp
M	rtl/linux/termios.inc
A	rtl/linux/xtensa/bsyscall.inc
A	rtl/linux/xtensa/si_c.inc
A	rtl/linux/xtensa/si_dll.inc
A	rtl/linux/xtensa/si_prc.inc
A	rtl/linux/xtensa/sighnd.inc
A	rtl/linux/xtensa/syscall.inc
A	rtl/linux/xtensa/sysnr.inc

******************************************************************************
commit e08d8bba82aaa9ce9e00fdb4eaff6e7d65c12e45
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Tue Apr 7 09:59:32 2020 +0000

    TCustomBufDataset: set PacketRecords to 1 only on a UniDirectional dataset
    
    git-svn-id: trunk@44633 -

M	packages/fcl-db/src/base/bufdataset.pas

******************************************************************************
commit b599574a162f804f7bc1f68aafd525928242d020
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Apr 6 22:34:46 2020 +0000

    m68k-amiga: create the heap memory pool with MEMF_ANY, rather than MEMF_FAST. this will finally allow FPC compiled executables to start on chipmem-only machines.
    
    git-svn-id: trunk@44624 -

M	rtl/amiga/system.pp

******************************************************************************
commit f99fbafabccaac7dd1cf69debc8c983973c14a1f
Author: florian <florian@freepascal.org>
Date:   Mon Apr 6 20:44:33 2020 +0000

      + initial thlcgxtensa.g_intf_wrapper
    
    git-svn-id: trunk@44622 -

M	compiler/xtensa/hlcgcpu.pas

******************************************************************************
commit 759803f2689c544947533e29231cd63e42f6bf9e
Author: florian <florian@freepascal.org>
Date:   Mon Apr 6 20:44:32 2020 +0000

      * improve assembler reader
    
    git-svn-id: trunk@44621 -

M	compiler/xtensa/racpugas.pas

******************************************************************************
commit 2e23e2b0fd526e37e53a5ed07821159fd9a8822f
Author: florian <florian@freepascal.org>
Date:   Mon Apr 6 20:44:32 2020 +0000

      + optimize SUB for small constants using ADDI
    
    git-svn-id: trunk@44620 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 04f3784af5fd1c73d88a00ece5bc26566313fc2e
Author: florian <florian@freepascal.org>
Date:   Mon Apr 6 20:44:31 2020 +0000

      * better setting of expectloc
    
    git-svn-id: trunk@44619 -

M	compiler/ncnv.pas
M	compiler/nmat.pas

******************************************************************************
commit 6a6ef1c8c1a9c468efa24f5bad043c1836509b5f
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 6 06:44:20 2020 +0000

    Update revision.inc after commit #44544
    
    git-svn-id: trunk@44618 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 9dd0a1f3b59c01b9901688cb77c93a86e33abc24
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 6 06:43:05 2020 +0000

     Fix ppudump after addition of system_xtensa_linux target
    
    git-svn-id: trunk@44617 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 79f74bf8cbc84baf1776c08713b3659103d86541
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 21:12:15 2020 +0000

      + xtensa-linux added to systems_linux
    
    git-svn-id: trunk@44614 -

M	compiler/systems.pas

******************************************************************************
commit 4836ff29bd6df688f05ed8f1047cb43f54ba7231
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 21:12:14 2020 +0000

      + more instructions
    
    git-svn-id: trunk@44613 -

M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 460369405ecbc3200eeaf38350bf8b2e082fd34f
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 21:12:13 2020 +0000

      + xtensa-linux: OS specific system unit header files
    
    git-svn-id: trunk@44612 -

M	.gitattributes
A	rtl/linux/xtensa/sighndh.inc
A	rtl/linux/xtensa/stat.inc
A	rtl/linux/xtensa/syscallh.inc

******************************************************************************
commit e8fabb752a5bb2506421e911497b1cc0aaaf9969
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 21:12:12 2020 +0000

      + basic xtensa-linux support in the compiler
    
    git-svn-id: trunk@44611 -

M	compiler/systems.inc
M	compiler/systems/i_linux.pas
M	compiler/systems/t_linux.pas
M	compiler/xtensa/cputarg.pas

******************************************************************************
commit eee2e9f950fd49954fb68db74f47a6d92f4d15b7
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 21:12:12 2020 +0000

      * commented test
    
    git-svn-id: trunk@44610 -

M	tests/webtbs/tw14315b.pp

******************************************************************************
commit 2f5d51436e4edfe944a9e5b276b564f63688f3b1
Author: florian <florian@freepascal.org>
Date:   Sun Apr 5 16:26:11 2020 +0000

      + with the randseed set as in the test, the test fails on x86_64-linux, added so it won't be forgotten
    
    git-svn-id: trunk@44599 -

M	.gitattributes
A	tests/webtbs/tw14315b.pp

******************************************************************************
commit e32027c8d34b432b3c154aae97b6c51803d34830
Author: florian <florian@freepascal.org>
Date:   Sat Apr 4 20:04:01 2020 +0000

      + add missing semicolon, resolves #36868
    
    git-svn-id: trunk@44578 -

M	rtl/linux/linux.pp

******************************************************************************
commit 0ff034216a946c540dfd170fb611834ae9f66bb0
Author: florian <florian@freepascal.org>
Date:   Sat Apr 4 20:01:13 2020 +0000

    + xtensa-linux support for the rtl makefile
    
    git-svn-id: trunk@44577 -

M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc

******************************************************************************
commit 086c897981c05bee5a0d47737877823cfa590c03
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 13:24:29 2020 +0000

    amicommon: m68k-amiga legacy support
    
    git-svn-id: trunk@44566 -

M	rtl/amicommon/athreads.pp
M	rtl/amicommon/dos.pp
M	rtl/amicommon/sysfile.inc
M	rtl/amicommon/sysos.inc
M	rtl/amicommon/sysutils.pp

******************************************************************************
commit 8816a0b601383633d690c3cd51b2b9a4d6374441
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 13:22:46 2020 +0000

    m68k-amiga: startup code now uses legacyexech, instead of explicitly declaring legacy support functions it needs
    
    git-svn-id: trunk@44565 -

M	rtl/amiga/m68k/si_prc.pp

******************************************************************************
commit 8d690546f306ce23f32322d8c20ab3e630cc2eb0
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 13:21:54 2020 +0000

    m68k-amiga: make all legacy support functions have a public name, and supply headers for them (will be utilized by athreads, dos, and sysutils units)
    
    git-svn-id: trunk@44564 -

M	.gitattributes
M	rtl/amiga/m68k/legacydos.inc
A	rtl/amiga/m68k/legacydosh.inc
M	rtl/amiga/m68k/legacyexec.inc
A	rtl/amiga/m68k/legacyexech.inc
M	rtl/amiga/m68k/legacyutil.inc
A	rtl/amiga/m68k/legacyutilh.inc

******************************************************************************
commit 632353a8086a6aea4f41062028e2076ba678fec4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 12:53:00 2020 +0000

    m68k-amiga: prepare the startup code and system unit for legacy support
    
    git-svn-id: trunk@44563 -

M	rtl/amiga/m68k/si_prc.pp
M	rtl/amiga/system.pp

******************************************************************************
commit e0fe8bd17510e16653c8a27547335b692978b91d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 12:40:55 2020 +0000

    m68k-amiga: implemented functions required for basic parameter handling in legacydos
    
    git-svn-id: trunk@44561 -

M	rtl/amiga/m68k/legacydos.inc

******************************************************************************
commit f5becf9ac60e6da9d9f3e323b69b89a800b6d5f0
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Apr 4 12:39:55 2020 +0000

    m68k-amiga: implemented StackSwap and DeletePool in legacyexec support, also declare public name for a few functions, so the startup code can hook into them
    
    git-svn-id: trunk@44560 -

M	rtl/amiga/m68k/legacyexec.inc

******************************************************************************
commit 96a368fdf94976f59bac41f4da6c222a2833ea16
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:40:36 2020 +0000

      * building on non-x86/non-xtensa fixed
    
    git-svn-id: trunk@44551 -

M	compiler/symdef.pas

******************************************************************************
commit 3705f95b925b46ea38a795c81425d06de6e2fc5a
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:27 2020 +0000

      * compilation fixed
    
    git-svn-id: trunk@44545 -

M	compiler/defutil.pas
M	compiler/ncgutil.pas

******************************************************************************
commit 6c6a16a15445cc5cd9343d31f8634eaba9e013e7
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:26 2020 +0000

      + xtensa-linux
    
    git-svn-id: trunk@44544 -

M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit af8202be3d829691ed8fde03d521581c8a61820e
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:26 2020 +0000

      * compilation for non-Xtensa targets fixed
    
    git-svn-id: trunk@44543 -

M	compiler/defutil.pas
M	compiler/nadd.pas

******************************************************************************
commit fc98a0db4f917852568e8c777bb229ed7f2e53ff
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:25 2020 +0000

      * cosmetics
    
    git-svn-id: trunk@44542 -

M	compiler/nld.pas

******************************************************************************
commit c1c201f93c721dda2fca9058649b51ec53df9757
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:24 2020 +0000

      * Xtensa: fix passing of floating point parameters
    
    git-svn-id: trunk@44541 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit 66cbee5e31091693cef12ba3c533ffea59e0c549
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:24 2020 +0000

      * factor out first_addfloat_soft
    
    git-svn-id: trunk@44540 -

M	compiler/nadd.pas

******************************************************************************
commit fa4cbc89a5256a5964460afe6a105e1390599a17
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:23 2020 +0000

      + Xtensa: hard float support, i.e. make use of floating point extension if available
    
    git-svn-id: trunk@44539 -

M	compiler/defutil.pas
M	compiler/nld.pas
M	compiler/symdef.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpucnv.pas
M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit ba3de67f3bbe7c6fb7dd93a4c7dca28358ada964
Author: florian <florian@freepascal.org>
Date:   Fri Apr 3 20:15:22 2020 +0000

      + Xtensa: the boolean extension is used as flags
    
    git-svn-id: trunk@44538 -

M	compiler/fpcdefs.inc
M	compiler/ncgcnv.pas
M	compiler/ncgutil.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpubase.pas

******************************************************************************
commit d5de84c6c52ce7403f6ea17e9330a1cf7d5e4032
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 2 21:21:44 2020 +0000

      * use typenames in more cases in the generated LLVM IR (results in smaller
        IR in textual form)
    
    git-svn-id: trunk@44518 -

M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmtype.pas

******************************************************************************
commit afd0ae44eecd5252eae6dab8a34b0d4dc97722f2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 2 21:21:40 2020 +0000

      * use tprocvardef.getreusableprocaddr also for non-address-only copies of
        proc(var)defs
    
    git-svn-id: trunk@44517 -

M	compiler/llvm/nllvmcnv.pas
M	compiler/llvm/nllvmld.pas
M	compiler/llvm/nllvmutil.pas
M	compiler/ncgcnv.pas
M	compiler/ncnv.pas

******************************************************************************
commit 4ba19f5418bb0dc18ff708c2ad73e7cee160fc5d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Apr 2 21:21:36 2020 +0000

      * add support for creating non-address-only procvars to
        cprocvar.getreusableprocaddr()
    
    git-svn-id: trunk@44516 -

M	compiler/aasmcnst.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/nllvmld.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/ncgcal.pas
M	compiler/ncgld.pas
M	compiler/ncgrtti.pas
M	compiler/ncgvmt.pas
M	compiler/ngtcon.pas
M	compiler/nobj.pas
M	compiler/symdef.pas

******************************************************************************
commit b033ccbddb9c6ce1b486cd21493e07b6949b02ce
Author: florian <florian@freepascal.org>
Date:   Thu Apr 2 20:04:03 2020 +0000

      * cleanup
    
    git-svn-id: trunk@44515 -

M	compiler/arm/narmcnv.pas

******************************************************************************
commit 44d9498effae13337ae677dcf2c59e52e6ec2f4e
Author: florian <florian@freepascal.org>
Date:   Thu Apr 2 20:04:02 2020 +0000

      * cosmetics
    
    git-svn-id: trunk@44514 -

M	compiler/psystem.pas

******************************************************************************
commit ba9e9305566658b3153f311fc09ce20eca55ab47
Author: florian <florian@freepascal.org>
Date:   Wed Apr 1 20:08:23 2020 +0000

      * Xtensa: set fpu type dependending on the controller
    
    git-svn-id: trunk@44495 -

M	compiler/options.pas

******************************************************************************
commit c2cf21d176a9a6db501940d2cd7931f1c651aa0d
Author: florian <florian@freepascal.org>
Date:   Wed Apr 1 20:08:22 2020 +0000

      + Xtensa: boolean registers * Xtensa: register numbers of floating point registers corrected
    
    git-svn-id: trunk@44494 -

M	compiler/xtensa/rxtensacon.inc
M	compiler/xtensa/rxtensadwa.inc
M	compiler/xtensa/rxtensanor.inc
M	compiler/xtensa/rxtensanum.inc
M	compiler/xtensa/rxtensarni.inc
M	compiler/xtensa/rxtensasri.inc
M	compiler/xtensa/rxtensasta.inc
M	compiler/xtensa/rxtensastd.inc
M	compiler/xtensa/rxtensasup.inc
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc
M	compiler/xtensa/xtensareg.dat

******************************************************************************
commit 1e0640c9e99f3c498d3ce4cb726589fac9662093
Author: florian <florian@freepascal.org>
Date:   Wed Apr 1 20:08:21 2020 +0000

      * Xtensa: FreeRTOS uses windowed calling convention
    
    git-svn-id: trunk@44493 -

M	compiler/systems/i_freertos.pas

******************************************************************************
commit b41c8342c859189350928b08def09ccee5318ea5
Author: florian <florian@freepascal.org>
Date:   Wed Apr 1 20:08:20 2020 +0000

      * Xtensa: reduce stack usage
    
    git-svn-id: trunk@44492 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 48617611500cd54cb7f8fa6b32f3ba665251815b
Author: pierre <pierre@freepascal.org>
Date:   Tue Mar 31 20:49:17 2020 +0000

      Try to fix problems for more recent GDB versions.
      Move GDB_NEW_UI macro def. to GDB_VER_GE_712
      Add GDB_INTERP_LOOKUP_HAS_UI and GDB_HAS_SAVED_COMMAND_LINE_BUT_NO_SIZE
      to same GDB_VER_GE_712.
      Use stdio_filopen to create gdb_stdout and gdb_stderr
      if GDB_HAS_GET_STDIN macro is set.
    
    git-svn-id: trunk@44471 -

M	packages/gdbint/src/gdbint.pp

******************************************************************************
commit 625e847e56f1cc40973fb0c5d6f5d014d5fb24c2
Author: joost <joost@cnoc.nl>
Date:   Tue Mar 31 20:15:08 2020 +0000

     * Do not try to resolve dependencies for packages that not meet the target
    
    git-svn-id: trunk@44470 -

M	packages/fppkg/src/pkgcommands.pp
M	packages/fppkg/src/pkgmessages.pp

******************************************************************************
commit 81887a2eb3fcc7f8e23a71a70483a175c1c1526e
Author: joost <joost@cnoc.nl>
Date:   Tue Mar 31 20:09:46 2020 +0000

     * Debug-writeln removed
    
    git-svn-id: trunk@44469 -

M	packages/fppkg/src/pkgfpmake.pp

******************************************************************************
commit a96a43d0d8933118e0f8d6224dd21747d9316769
Author: florian <florian@freepascal.org>
Date:   Tue Mar 31 19:33:12 2020 +0000

      * Xtensa: spilling for bigger offsets fixed
    
    git-svn-id: trunk@44464 -

M	compiler/xtensa/rgcpu.pas

******************************************************************************
commit 5ef1ede0a4f4f63e977d0e71103602c25f8ff579
Author: florian <florian@freepascal.org>
Date:   Tue Mar 31 19:33:11 2020 +0000

      * xtensa-freertos: enable softfloat for now
    
    git-svn-id: trunk@44463 -

M	compiler/options.pas

******************************************************************************
commit e147e191ca2aa54fdab540a8076f047a5e36bcac
Author: florian <florian@freepascal.org>
Date:   Tue Mar 31 19:33:11 2020 +0000

      * ESP32: set flash size to a resonable value (assumes external flash for now)
    
    git-svn-id: trunk@44462 -

M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit aab0884182ec68f679c454fcea27fcdee30df7d5
Author: florian <florian@freepascal.org>
Date:   Tue Mar 31 19:33:10 2020 +0000

      + Xtensa: generate all helper files to fpc can successfully compile a single program
    
    git-svn-id: trunk@44461 -

M	compiler/systems/t_freertos.pas

******************************************************************************
commit 7ee874fba158020461e2cff0fcc20df6c8760946
Author: joost <joost@cnoc.nl>
Date:   Mon Mar 30 20:54:26 2020 +0000

     * Missing include-file added to fpmake-archive
    
    git-svn-id: trunk@44442 -

M	packages/x11/fpmake.pp

******************************************************************************
commit 314b8999aa9e96440feefa15167f235a00f61267
Author: florian <florian@freepascal.org>
Date:   Mon Mar 30 20:42:56 2020 +0000

      + Xtensa: add linklib statements, better _halt procedure
    
    git-svn-id: trunk@44441 -

M	rtl/freertos/xtensa/esp32.pp

******************************************************************************
commit 8e929b2879b133c1d49f9054d3a9ed5a0c7e1c39
Author: florian <florian@freepascal.org>
Date:   Mon Mar 30 20:42:56 2020 +0000

      * make TLinkerInfo fields ansistrings as xtensa-freertos needs long command lines
    
    git-svn-id: trunk@44440 -

M	compiler/link.pas

******************************************************************************
commit 3135effee3b9b61ccf624547eb4c6f9a22ad99ee
Author: florian <florian@freepascal.org>
Date:   Mon Mar 30 20:42:55 2020 +0000

      * Xtensa: returning of 32 Bit values fixes
    
    git-svn-id: trunk@44439 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit 26db93d78cbf7656e49d700b123a33d10b5adea1
Author: florian <florian@freepascal.org>
Date:   Mon Mar 30 20:42:55 2020 +0000

      * Xtensa: shift operations fixed
    
    git-svn-id: trunk@44438 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 79974a96713d98fd78bf838755c31fc44f2d0a48
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Mar 30 19:58:49 2020 +0000

      + -XlS<x> option to specify a suffix for externally called LLVM utilities,
        e.g. -XlS-7 to call clang-7 instead of clang)
      * IMPORTANT: changed the -CL llvm code generation options to -Cl, for
        consistency with the new -Xl option (-XL was already taken)
    
    git-svn-id: trunk@44436 -

M	compiler/assemble.pas
M	compiler/globals.pas
M	compiler/llvm/agllvm.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas
M	compiler/systems.pas

******************************************************************************
commit 923c891b3704b831a5eb60fd8bb8ec1f8ca6e737
Author: joost <joost@cnoc.nl>
Date:   Mon Mar 30 18:01:29 2020 +0000

     * Missing include-file added to fpmake-archive
    
    git-svn-id: trunk@44433 -

M	packages/fcl-report/fpmake.pp

******************************************************************************
commit b96109727c01f496061c4a77d65e0f50e8498eb0
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 30 03:06:23 2020 +0000

    m68k-amiga: initial work on some support functions to allow the RTL to be compiled for AmigaOS 1.x
    
    git-svn-id: trunk@44427 -

M	.gitattributes
A	rtl/amiga/m68k/legacydos.inc
A	rtl/amiga/m68k/legacyexec.inc
A	rtl/amiga/m68k/legacyutil.inc

******************************************************************************
commit c7136b59c78e0ae3eb9d4a69dfbe6e9e6bcc9eac
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 30 01:47:57 2020 +0000

    amiga: no packed records in doslibd.inc and timerd.inc, use packrecords 2 insead,  this improves code generated for plain 68000
    
    git-svn-id: trunk@44420 -

M	rtl/amiga/doslibd.inc
M	rtl/amiga/timerd.inc

******************************************************************************
commit 3031a4da319316e6c7ac59a74071920a22f39e05
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 30 00:40:20 2020 +0000

    amiga-m68k: minimal tweaks and formatting to the dos unit
    
    git-svn-id: trunk@44416 -

M	rtl/amicommon/dos.pp

******************************************************************************
commit 375cc2b44343b143fef34d06aeec506708a59d22
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Mar 29 19:20:03 2020 +0000

      * allow FPC 3.2.0 as bootstrap version
    
    git-svn-id: trunk@44408 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit c5fec35652b970712b35bf4fbcd9c6793cc62647
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:14:22 2020 +0000

      * updated
    
    git-svn-id: trunk@44406 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 1f00875f8c0c8abbc0ee7d7af98b8282a4556f8f
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:48 2020 +0000

      * fix ppudump after addition of freertos-xtensa
    
    git-svn-id: trunk@44405 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 0d41d86dd29e5a5c73692e4acc841013809d55fa
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:47 2020 +0000

      * Xtensa: use generic tcpuparamanager.getcgtempparaloc
    
    git-svn-id: trunk@44404 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit b51f3d6e534a178ae60fb26454e49686553620f9
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:47 2020 +0000

      * Xtensa: fix TCPUAddNode.second_cmp
    
    git-svn-id: trunk@44403 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 0a40d927cb5a9e7ddc2889dcedfa6980c6a7c9a6
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:46 2020 +0000

      * Xtensa: fix tcgcpu.a_cmp_reg_reg_label
    
    git-svn-id: trunk@44402 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit b787efb7fd4c1dcc169f3ef38e4aee09d426df3f
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:46 2020 +0000

      * Xtensa: tcgcpu.g_concatcopy fixed: keep registers alive
    
    git-svn-id: trunk@44401 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 391512546e73c8ac7687b1a6f7db65aa491447b1
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:45 2020 +0000

      + initial FreeRTOS RTL support, largely based on the Embedded target, limited to Xtensa so far
    
    git-svn-id: trunk@44400 -

M	.gitattributes
M	compiler/ngenutil.pas
M	compiler/options.pas
M	compiler/pmodules.pas
M	compiler/systems.inc
M	compiler/systems.pas
A	compiler/systems/i_freertos.pas
A	compiler/systems/t_freertos.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/cputarg.pas
A	rtl/freertos/Makefile
A	rtl/freertos/Makefile.fpc
A	rtl/freertos/check.inc
A	rtl/freertos/classes.pp
A	rtl/freertos/consoleio.pp
A	rtl/freertos/dos.pp
A	rtl/freertos/heapmgr.pp
A	rtl/freertos/rtldefs.inc
A	rtl/freertos/sysdir.inc
A	rtl/freertos/sysfile.inc
A	rtl/freertos/sysheap.inc
A	rtl/freertos/sysos.inc
A	rtl/freertos/sysosh.inc
A	rtl/freertos/system.cfg
A	rtl/freertos/system.pp
A	rtl/freertos/systhrd.inc
A	rtl/freertos/sysutils.pp
A	rtl/freertos/tthread.inc
A	rtl/freertos/xtensa/esp32.pp
M	rtl/inc/heaph.inc
M	rtl/inc/systemh.inc
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit f6b6622569df6f875adf47636f1496a9ef8799d9
Author: florian <florian@freepascal.org>
Date:   Sun Mar 29 17:13:41 2020 +0000

      + git support
    
    git-svn-id: trunk@44399 -

M	utils/fpcm/get_revision.sh

******************************************************************************
commit c8307d402283288be0859c18336a8a7446f3c765
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Mar 29 14:52:49 2020 +0000

      * use getpagesize function instead of reading external variables to restore
        ability to compile against SDKs < OS X 10.9 (mantis #36653)
    
    git-svn-id: trunk@44396 -

M	rtl/darwin/sysmach.inc

******************************************************************************
commit ef13f52ba8a7ce3f947faa520389cbe3858dba5c
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:47 2020 +0000

      + add FreeRTOS as new OS target
    
    git-svn-id: trunk@44386 -

M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit a9a85711d51c890f453df4212ae866a911432458
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:47 2020 +0000

      * Xtensa: fix tcpunotnode.second_boolean
    
    git-svn-id: trunk@44385 -

M	compiler/xtensa/ncpumat.pas

******************************************************************************
commit d1bbfe4cf75aca2bf00ec1cb1df43c5259fac736
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:46 2020 +0000

      + Xtensa: implemented tcputypeconvnode.second_int_to_bool
    
    git-svn-id: trunk@44384 -

M	compiler/xtensa/ncpucnv.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 8fd53df3cd8aff0fb6875649a9d00c9dc5c3fa68
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:45 2020 +0000

      * Xtensa: system_xtensa_embedded is an embedded system
    
    git-svn-id: trunk@44383 -

M	compiler/systems.pas

******************************************************************************
commit f51a893d1dc17579e99157bc5e8c8b91e9b38825
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:45 2020 +0000

      * Xtensa: align literals properly
    
    git-svn-id: trunk@44382 -

M	compiler/xtensa/hlcgcpu.pas

******************************************************************************
commit db71a9428ac5ceb25078f792019137fe560f91d1
Author: florian <florian@freepascal.org>
Date:   Sat Mar 28 15:47:44 2020 +0000

      * Xtensa: proper code generation for unit initialization
    
    git-svn-id: trunk@44381 -

M	compiler/xtensa/ncpuutil.pas

******************************************************************************
commit 41e554067a781db64def61fdce3d952d1290f8ec
Author: pierre <pierre@freepascal.org>
Date:   Sat Mar 28 13:13:04 2020 +0000

     Fix handling of parameters with size below the size of a full register
    
    git-svn-id: trunk@44380 -

M	compiler/cgobj.pas

******************************************************************************
commit 17298086cafacbb5bd61f75d8860441415fbb984
Author: florian <florian@freepascal.org>
Date:   Fri Mar 27 22:14:18 2020 +0000

      * Xtensa: improved handling of calling conventions
    
    git-svn-id: trunk@44379 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit 0290f364cc73f8d43bb80de8b94cf942393c8f60
Author: florian <florian@freepascal.org>
Date:   Fri Mar 27 22:14:18 2020 +0000

      * Xtensa: parameter passing for the windowed abi
    
    git-svn-id: trunk@44378 -

M	compiler/xtensa/cpupara.pas

******************************************************************************
commit e858343c38650d828b410d1a655116ca54cdc981
Author: florian <florian@freepascal.org>
Date:   Fri Mar 27 22:14:17 2020 +0000

      * Xtensa: no scheduler yet but loops can be unrolled
    
    git-svn-id: trunk@44377 -

M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit 28154cebd19d30ae4f3f0219cfc3496bcecb0a22
Author: florian <florian@freepascal.org>
Date:   Fri Mar 27 22:14:17 2020 +0000

      * Xtensa: fix txtensanodeutils.insert_init_final_table for the windowed abi
    
    git-svn-id: trunk@44376 -

M	compiler/xtensa/ncpuutil.pas

******************************************************************************
commit 523ebb42cfd9705ef1cc6b4614e3ccb610eb7a87
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Mar 27 21:26:39 2020 +0000

      * fix LLVM backend compilation (mantis #36833)
    
    git-svn-id: trunk@44374 -

M	compiler/llvm/llvmbase.pas

******************************************************************************
commit 1aad73217cc17f4e41e222ffe127ed55446c1317
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Mar 27 04:31:10 2020 +0000

    m68k-amiga: add some defines, to disable part of OS headersin the RTL when compiling for OS1.x. this is to aid the implementation of future AmigaOS 1.x support
    
    git-svn-id: trunk@44372 -

M	rtl/amiga/m68k/doslibf.inc
M	rtl/amiga/m68k/execf.inc
M	rtl/amiga/m68k/utilf.inc

******************************************************************************
commit c239ae9414d743ba417b15abcd3f4b638abdf5a8
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:41 2020 +0000

      * Xtensa: generate long calls
    
    git-svn-id: trunk@44371 -

M	compiler/xtensa/agcpugas.pas

******************************************************************************
commit d7126bd42cd8a697998355c31feadc86312414f4
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:41 2020 +0000

      + Xtensa: initial support of the windowed abi
    
    git-svn-id: trunk@44370 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 7e4ee79e65eae2721b5b2785a9fd3eda878bd7d6
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:40 2020 +0000

      * Xtensa: more fixes for load_reg/ref_reg/ref
    
    git-svn-id: trunk@44369 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 47f6af4416d8ef3d46b315a80fcfd9c9f8e5c574
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:40 2020 +0000

      * Xtensa: improve tcgcpu.fixref
    
    git-svn-id: trunk@44368 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 5631acc401d8f2149e0a8d50732aa5e0ca49d152
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:39 2020 +0000

      * Xtensa: fix load_reg/ref_reg/ref
    
    git-svn-id: trunk@44367 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit f976083e7fce1a1b274667ee4ab6a2142321ff99
Author: florian <florian@freepascal.org>
Date:   Thu Mar 26 21:54:38 2020 +0000

      * Xtensa: set correct frame pointer register
    
    git-svn-id: trunk@44366 -

M	compiler/xtensa/cpupi.pas

******************************************************************************
commit 639f1c476f25339367367195da4c04e7ebccd05f
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:05 2020 +0000

      + Xtensa: tcpuinlinenode.second_abs_long
    
    git-svn-id: trunk@44364 -

M	.gitattributes
M	compiler/xtensa/cpunode.pas
A	compiler/xtensa/ncpuinl.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 2a957e77bf1b7c61414c3f18f41240510f135c37
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:04 2020 +0000

      + Xtensa: initial implementation of tcgcpu.g_proc_entry
    
    git-svn-id: trunk@44363 -

M	compiler/systems/i_embed.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 705218fef11b511c23a0e5b024555332e4a5988e
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:04 2020 +0000

      + Xtensa: tcg64fxtensa.a_op64_const_reg
    
    git-svn-id: trunk@44362 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 65be647bbd03d92d01302af29576a070ca82dec0
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:03 2020 +0000

      + Xtensa: initial tcg64fxtensa.a_op64_const_reg_reg, still room for improvements
    
    git-svn-id: trunk@44361 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 819e2638bb490c73b4f73473238aa5eb239e5e83
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:03 2020 +0000

      + Xtensa: tcgcpu.maybeadjustresult
    
    git-svn-id: trunk@44360 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit aa2907cffa51957375f70b19a613b72769ae153b
Author: florian <florian@freepascal.org>
Date:   Wed Mar 25 21:17:02 2020 +0000

      * Xtensa: cleanup dummy code
    
    git-svn-id: trunk@44359 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 662f069a219cbe2c73d727086623964634800f93
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Tue Mar 24 19:42:37 2020 +0000

    xtensa: Add 64bit arithmetic operations.
    
    git-svn-id: trunk@44358 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 470cc8eb1c05f2769aca541105070c4f5031da28
Author: florian <florian@freepascal.org>
Date:   Tue Mar 24 19:42:37 2020 +0000

      + Xtensa: make use of slli and srli
    
    git-svn-id: trunk@44357 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 222cad35a9915a39ed2f83e44106b1c35a05976a
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Tue Mar 24 19:42:36 2020 +0000

    Add immediate/zero comparisons.
    
    git-svn-id: trunk@44356 -

M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 2146ca3616be92349bd106477daa15a6b95a17e6
Author: florian <florian@freepascal.org>
Date:   Tue Mar 24 19:42:35 2020 +0000

      * Xtensa: shifting fixed
    
    git-svn-id: trunk@44355 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 014785833f1cdfae202ceaf2f33b45408ee10849
Author: florian <florian@freepascal.org>
Date:   Tue Mar 24 19:42:34 2020 +0000

      + Xtensa: initial tcg64fxtensa.a_op64_reg_reg_reg
    
    git-svn-id: trunk@44354 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 8c9c1d9798636e75e24410f8d18cd1de9a75e566
Author: florian <florian@freepascal.org>
Date:   Tue Mar 24 19:42:34 2020 +0000

      + Xtensa: implemented tcg64fxtensa.a_op64_reg_reg
    
    git-svn-id: trunk@44353 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 2a8f2f3662e15b66ea1364d057d011e08de8728c
Author: florian <florian@freepascal.org>
Date:   Tue Mar 24 19:42:33 2020 +0000

      * Xtense: prettify assembler output
    
    git-svn-id: trunk@44352 -

M	compiler/xtensa/agcpugas.pas

******************************************************************************
commit fb2e262027c88fcd40a1f79cfc70401bdb9919ef
Author: florian <florian@freepascal.org>
Date:   Mon Mar 23 20:54:57 2020 +0000

      * Xtensa: cleanup unused stuff
      + Xtense: updated conditions
    
    git-svn-id: trunk@44351 -

M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/ncpucnv.pas
M	compiler/xtensa/ncpumat.pas
M	compiler/xtensa/racpugas.pas

******************************************************************************
commit b1759d9e9181b23b5298849c2bb9ee2b0389656a
Author: florian <florian@freepascal.org>
Date:   Mon Mar 23 20:54:57 2020 +0000

      + Xtensa: tcgcpu.g_concatcopy
    
    git-svn-id: trunk@44350 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 46e8cb3e49219d01e61279455fdc6778b64cd954
Author: florian <florian@freepascal.org>
Date:   Mon Mar 23 20:54:56 2020 +0000

      + Xtensa: make use of ADDI
    
    git-svn-id: trunk@44349 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 2c689fa57253e3940cce0c90aeb41dea25eda155
Author: florian <florian@freepascal.org>
Date:   Mon Mar 23 20:54:55 2020 +0000

      + Xtensa: tcgcpu.a_op_const_reg_reg
    
    git-svn-id: trunk@44348 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit e34a7596596e71081050fad9fa6ea77f55606930
Author: florian <florian@freepascal.org>
Date:   Mon Mar 23 20:54:55 2020 +0000

      + Xtensa: mathu.inc using only the softfloat unit provided mechanisms
    
    git-svn-id: trunk@44347 -

M	.gitattributes
A	rtl/xtensa/mathu.inc

******************************************************************************
commit a48d40e08e38b691207c557589767a1e9e84c368
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 23 01:15:41 2020 +0000

    amicommon: cleaned up the voodoo padding magic and packed record from the DOS unit SearchRec. This structure is entirely platform specific, ancient code might have accessed it from assembly, but it's no longer the case.
    
    git-svn-id: trunk@44345 -

M	rtl/amicommon/dos.pp

******************************************************************************
commit 65330f346d46debdc53afc0d8723eef18422453a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 23 01:13:13 2020 +0000

    amicommon: make sure to reset packrecords to default after OS structure inclusion
    
    git-svn-id: trunk@44344 -

M	rtl/amicommon/sysos.inc

******************************************************************************
commit cd76003b4dc9a82cba7b8cf82fd771d7a5eb41fe
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 23 00:05:52 2020 +0000

    amiga: remove packed from RTL OS record/structure definitions, use PACKRECORDS 2 instead. this allows much better code to be generated for a plain 68000 RTL
    
    git-svn-id: trunk@44343 -

M	rtl/amiga/m68k/execd.inc
M	rtl/amiga/m68k/utild1.inc
M	rtl/amiga/m68k/utild2.inc

******************************************************************************
commit 637ede68793715269928afd0f0b174249b73fb86
Author: florian <florian@freepascal.org>
Date:   Sun Mar 22 13:17:10 2020 +0000

    + Xtensa: tcgcpu.a_op_const_reg_reg
    
    git-svn-id: trunk@44340 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit a156a9246badc08990c28fda1b74b6dc4426de23
Author: florian <florian@freepascal.org>
Date:   Sun Mar 22 13:17:09 2020 +0000

    + Xtensa: tcgcpu.a_op_const_reg
    
    git-svn-id: trunk@44339 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 5fa7bbfb9be0ba2b9c0b1d434c985daaba887c93
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Mar 22 13:17:08 2020 +0000

    esp8266: Make startup code compile.
    
    git-svn-id: trunk@44338 -

M	rtl/embedded/xtensa/esp8266.pp

******************************************************************************
commit b449829a40d30c6a3de0a3cede92062c561d0dd6
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Mar 22 13:17:08 2020 +0000

    ncpuadd: Fix handling of signs in comparisons
    
    git-svn-id: trunk@44337 -

M	compiler/xtensa/ncpuadd.pas

******************************************************************************
commit 5438bd66689a1d50683d9e1740a85c7b81d3624e
Author: florian <florian@freepascal.org>
Date:   Sun Mar 22 13:17:07 2020 +0000

    + Xtensa: tcgcpu.a_op_reg_reg
    
    git-svn-id: trunk@44336 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit cfa9935c15439996735e322741979c4394545a64
Author: florian <florian@freepascal.org>
Date:   Sun Mar 22 13:17:06 2020 +0000

    + Xtensa: tcgcpu.a_load_reg_ref
    
    git-svn-id: trunk@44335 -

M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 678ca16d951ac865d47b2218af3ce8de81e86aa6
Author: florian <florian@freepascal.org>
Date:   Sun Mar 22 13:17:05 2020 +0000

    + Xtensa: tcgcpu.a_load_ref_reg
    
    git-svn-id: trunk@44334 -

M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 43dc4c7ea08093298ee0facc3c3bf9660a5faef1
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 20:59:59 2020 +0000

      * regenerated Makefiles
    
    git-svn-id: trunk@44333 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 3189e4245d158f1a9ccabfc44fbe5fa55be2d2a8
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Mar 21 20:59:33 2020 +0000

    makefiles: Add support for xtensa-embedded target.
    
    git-svn-id: trunk@44332 -

M	.gitattributes
M	Makefile.fpc
M	compiler/Makefile.fpc
M	compiler/utils/fpc.pp
M	rtl/embedded/Makefile.fpc
A	rtl/embedded/xtensa/esp8266.pp

******************************************************************************
commit 30a4f667c171a8a352952bb008f7f7fc7e91284c
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Mar 21 20:59:32 2020 +0000

    tgobj: Change direction of stack.
    
    git-svn-id: trunk@44331 -

M	compiler/tgobj.pas

******************************************************************************
commit bcbdc4ad92c91d8544741bc36dd48f0f7fab9671
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Mar 21 20:59:31 2020 +0000

    xtensa: Add preliminary support for comparisons
    
    git-svn-id: trunk@44330 -

M	compiler/xtensa/aasmcpu.pas
M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpumat.pas
M	compiler/xtensa/xtensaatt.inc

******************************************************************************
commit 77f5abac667cd81758ef39f889cf5107b920904f
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Mar 21 20:48:04 2020 +0000

    cgcpu: Implement a_cmp_reg_reg_label
    
    git-svn-id: trunk@44329 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit ad99285fec1def7dd295c799935a8082f95a4715
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 20:48:03 2020 +0000

    + Xtensa: CALL0 abi started
    
    git-svn-id: trunk@44328 -

M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpuinfo.pas
M	compiler/xtensa/cpupi.pas

******************************************************************************
commit d0106d08b9602633c00c758c36aef8a3068cbf5e
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 12:49:48 2020 +0000

    + Xtensa: a_loadaddr_ref_reg implemented
    
    git-svn-id: trunk@44326 -

M	compiler/xtensa/cgcpu.pas

******************************************************************************
commit 0d2db1a11c35a88e2c24705550768792acea5f61
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 12:49:47 2020 +0000

    * Xtensa: initial controller types
    
    git-svn-id: trunk@44325 -

M	compiler/xtensa/cpuinfo.pas

******************************************************************************
commit 729425447f65fd44cd5a47a4379dd807a8cb8130
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 12:49:46 2020 +0000

    + Xtensa: basic operations for Xtensa implemented
    
    git-svn-id: trunk@44324 -

M	.gitattributes
M	compiler/systems/t_embed.pas
M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpubase.pas
M	compiler/xtensa/cpunode.pas
M	compiler/xtensa/cpupara.pas
M	compiler/xtensa/cpupi.pas
M	compiler/xtensa/hlcgcpu.pas
M	compiler/xtensa/ncpuadd.pas
M	compiler/xtensa/ncpucnv.pas
A	compiler/xtensa/ncpuutil.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 73c68236b6a7943b8f5207a78e58483bf96a2737
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 12:49:45 2020 +0000

    * Xtensa: completed compiler skeleton
    
    git-svn-id: trunk@44323 -

M	.gitattributes
M	compiler/fpcdefs.inc
M	compiler/options.pas
M	compiler/psystem.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/xtensa/agcpugas.pas
M	compiler/xtensa/cgcpu.pas
M	compiler/xtensa/cpunode.pas
A	compiler/xtensa/ncpuadd.pas
A	compiler/xtensa/ncpucnv.pas
A	compiler/xtensa/ncpumat.pas
M	compiler/xtensa/racpugas.pas
M	compiler/xtensa/xtensaatt.inc
M	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 28c0a47a953a21813de4ef29172d0257641de238
Author: florian <florian@freepascal.org>
Date:   Sat Mar 21 12:49:43 2020 +0000

    + Xtensa: completed rtl skeleton
    
    git-svn-id: trunk@44322 -

M	.gitattributes
M	rtl/embedded/system.cfg
M	rtl/embedded/system.pp
M	rtl/inc/systemh.inc
A	rtl/xtensa/int64p.inc
A	rtl/xtensa/strings.inc
A	rtl/xtensa/stringss.inc
M	rtl/xtensa/xtensa.inc

******************************************************************************
commit cb308bf5015c9640de99c80ce6ec9d3ba6d94952
Author: pierre <pierre@freepascal.org>
Date:   Sat Mar 21 07:15:53 2020 +0000

     Update revision.inc after commit #44319
    
    git-svn-id: trunk@44321 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 83a6efd75995f6da1f5993a608550ef4ae12b1b9
Author: florian <florian@freepascal.org>
Date:   Fri Mar 20 22:35:43 2020 +0000

      + Xtensa: RTL skeleton
    
    git-svn-id: trunk@44320 -

M	.gitattributes
M	rtl/embedded/Makefile
M	rtl/inc/system.inc
M	rtl/inc/systemh.inc
A	rtl/xtensa/cpuh.inc
A	rtl/xtensa/makefile.cpu
A	rtl/xtensa/math.inc
A	rtl/xtensa/set.inc
A	rtl/xtensa/setjump.inc
A	rtl/xtensa/setjumph.inc
A	rtl/xtensa/xtensa.inc

******************************************************************************
commit 34d1b90921c78fe89be27ec77cd3e61087063c06
Author: florian <florian@freepascal.org>
Date:   Fri Mar 20 22:34:35 2020 +0000

      + Xtensa: support in the build utilities
    
    git-svn-id: trunk@44319 -

M	compiler/entfile.pas
M	compiler/utils/ppuutils/ppudump.pp
M	packages/fpmkunit/src/fpmkunit.pp
M	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 9e40d536cbf5d42a95ba8c69a15b64b5b2b25e78
Author: florian <florian@freepascal.org>
Date:   Fri Mar 20 22:34:33 2020 +0000

      + Xtensa: initial skeleton completed
      + xtensa-embedded support in the compiler
    
    git-svn-id: trunk@44318 -

M	.gitattributes
M	compiler/fpcdefs.inc
M	compiler/globals.pas
M	compiler/options.pas
M	compiler/pp.pas
M	compiler/systems.inc
M	compiler/systems.pas
M	compiler/systems/i_embed.pas
M	compiler/systems/t_embed.pas
A	compiler/xtensa/aasmcpu.pas
A	compiler/xtensa/agcpugas.pas
A	compiler/xtensa/aoptcpu.pas
A	compiler/xtensa/aoptcpub.pas
A	compiler/xtensa/cgcpu.pas
A	compiler/xtensa/cpubase.pas
A	compiler/xtensa/cpuinfo.pas
A	compiler/xtensa/cpunode.pas
A	compiler/xtensa/cpupara.pas
A	compiler/xtensa/cpupi.pas
A	compiler/xtensa/cputarg.pas
A	compiler/xtensa/hlcgcpu.pas
A	compiler/xtensa/itcpugas.pas
A	compiler/xtensa/racpugas.pas
A	compiler/xtensa/raxtensa.pas
A	compiler/xtensa/rgcpu.pas
A	compiler/xtensa/symcpu.pas
A	compiler/xtensa/xtensaatt.inc
A	compiler/xtensa/xtensaop.inc

******************************************************************************
commit 27349661e08faf0d35056945bb9f845bdd4c7030
Author: florian <florian@freepascal.org>
Date:   Fri Mar 20 22:34:30 2020 +0000

      + Xtensa: lazarus project
    
    git-svn-id: trunk@44317 -

M	.gitattributes
A	compiler/ppcxtensa.lpi

******************************************************************************
commit 08c12ca4392fdf66b007ef89f4d391ad35a64b8c
Author: florian <florian@freepascal.org>
Date:   Fri Mar 20 22:34:29 2020 +0000

      + Xtensa: register information
    
    git-svn-id: trunk@44316 -

M	.gitattributes
A	compiler/utils/mkxtensareg.pp
A	compiler/xtensa/rxtensacon.inc
A	compiler/xtensa/rxtensadwa.inc
A	compiler/xtensa/rxtensanor.inc
A	compiler/xtensa/rxtensanum.inc
A	compiler/xtensa/rxtensarni.inc
A	compiler/xtensa/rxtensasri.inc
A	compiler/xtensa/rxtensasta.inc
A	compiler/xtensa/rxtensastd.inc
A	compiler/xtensa/rxtensasup.inc
A	compiler/xtensa/xtensareg.dat

******************************************************************************
commit 47b5d0b92edf48e9dc7580137262bf2b60076412
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Mar 18 00:44:49 2020 +0000

    atari: added the fpwidestring unit to the RTL build
    
    git-svn-id: trunk@44310 -

M	rtl/atari/Makefile
M	rtl/atari/Makefile.fpc
M	rtl/atari/buildrtl.pp

******************************************************************************
commit fb76f529ee7a4c5a590cfb5b38054579bd46f6b1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Mar 18 00:32:48 2020 +0000

    amiga-likes: add fpwidestring unit to the RTL build
    
    git-svn-id: trunk@44309 -

M	rtl/amiga/Makefile
M	rtl/amiga/Makefile.fpc
M	rtl/amiga/buildrtl.pp
M	rtl/aros/Makefile
M	rtl/aros/Makefile.fpc
M	rtl/aros/buildrtl.pp
M	rtl/morphos/Makefile
M	rtl/morphos/Makefile.fpc
M	rtl/morphos/buildrtl.pp

******************************************************************************
commit 7b4ef925f0502e4627d3a7a4bcfa8846be89852c
Author: marco <marco@freepascal.org>
Date:   Sun Mar 8 16:37:30 2020 +0000

     * attempt at crt1 translation to get freebsd 12 running.
    
    git-svn-id: trunk@44289 -

M	.gitattributes
A	rtl/freebsd/csucommon/ignore_init.inc
M	rtl/freebsd/si_crt.pp
M	rtl/freebsd/si_intf.inc
A	rtl/freebsd/x86_64/reloc.inc
M	rtl/freebsd/x86_64/si_c.inc

******************************************************************************
commit db267dcb6335a1c84f3b28e05b250d0abdf59818
Author: joost <joost@cnoc.nl>
Date:   Sun Mar 8 15:11:31 2020 +0000

     * Parse the keywords in fppkg-repositories
    
    git-svn-id: trunk@44288 -

M	packages/fppkg/src/fpxmlrep.pp

******************************************************************************
commit aca97274189a9511dcb3ceb878b2984138b71f62
Author: florian <florian@freepascal.org>
Date:   Sun Mar 8 14:30:59 2020 +0000

      + OptimizeForLoop: convert for-loops into zero-based backward for-loops if possible, for most architectures, this results in simpler code
    
    git-svn-id: trunk@44287 -

M	compiler/nflw.pas
M	compiler/optloop.pas
M	compiler/psub.pas

******************************************************************************
commit b1feaa9458eeb5ddb4b162d273a027503fecf815
Author: michael <michael@freepascal.org>
Date:   Sun Mar 8 13:55:29 2020 +0000

    * Allow to get/set config items
    
    git-svn-id: trunk@44286 -

M	utils/fppkg/fppkg.pp

******************************************************************************
commit 96a712f7ff35dc5ea1e148bff113c3b347c1785e
Author: marco <marco@freepascal.org>
Date:   Sat Mar 7 17:59:05 2020 +0000

     * add FreebSD to weaklinking targets.
    
    git-svn-id: trunk@44283 -

M	compiler/systems.pas

******************************************************************************
commit a880367b37004dc22aae426c0da8618c941d1fe3
Author: michael <michael@freepascal.org>
Date:   Sat Mar 7 11:40:32 2020 +0000

    * Show message about creating fppkg/conf.d directory
    
    git-svn-id: trunk@44279 -

M	compiler/utils/samplecfg

******************************************************************************
commit c20b27ede9fed9798af41af9fac56b3785ac6cb0
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Fri Mar 6 21:34:22 2020 +0000

    Add most SSE instructions as intrinsics.
    
    git-svn-id: trunk@44274 -

M	compiler/ninl.pas
M	compiler/utils/mkx86inl.pp
M	compiler/x86/cx86mminnr.inc
M	compiler/x86/x86intr.dat
M	compiler/x86/x86mmfirst.inc
M	compiler/x86/x86mmsecond.inc
M	compiler/x86/x86mmtype.inc
M	rtl/i386/cpumminnr.inc
M	rtl/i386/cpummprocs.inc
M	rtl/x86_64/cpuinnr.inc
M	rtl/x86_64/cpumminnr.inc
M	rtl/x86_64/cpummprocs.inc

******************************************************************************
commit 135a88c888e24e3c4559af7fae7d2f25a668f7be
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Fri Mar 6 17:19:51 2020 +0000

    movhlps/movlhps only take xmm registers.
    Handle spilling of SSE registers.
    
    git-svn-id: trunk@44272 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rgx86.pas

******************************************************************************
commit 6cac8cc77bd6f36cc5f312dc7e932108ba5f467c
Author: florian <florian@freepascal.org>
Date:   Fri Mar 6 16:16:38 2020 +0000

    * fix Peephole Optimization: Cmpcc2Testcc - condition AE/NB/NC/NO --> Always optimization
    
    git-svn-id: trunk@44271 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f8339a43eaa2808fe22ca13192c92b5c8c200300
Author: florian <florian@freepascal.org>
Date:   Fri Mar 6 16:16:37 2020 +0000

    * do not do full boolean evaluation on LOC_FLAGS
    
    git-svn-id: trunk@44270 -

M	compiler/nadd.pas

******************************************************************************
commit 424c8a0ac0edc9a8cdffdb62687fd1a750727172
Author: florian <florian@freepascal.org>
Date:   Fri Mar 6 16:16:36 2020 +0000

    * simple record accesses have not side effects
    
    git-svn-id: trunk@44269 -

M	compiler/nutils.pas

******************************************************************************
commit 8f0376c888e2b8626f37b8c8ce00a704df869ba0
Author: florian <florian@freepascal.org>
Date:   Fri Mar 6 15:47:18 2020 +0000

    + JccAdd2SetccAdd optimization
      * take care of C_C/C_NC in JccAdd/Inc/Dec2(Cmc)Adc/Sbb
    
    git-svn-id: trunk@44268 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit bc3131688af996b30fe4acc2e2b55d953ab70f8b
Author: florian <florian@freepascal.org>
Date:   Fri Mar 6 10:10:58 2020 +0000

      * fix precedence of IS operator, resolves #35909
    
    git-svn-id: trunk@44266 -

M	.gitattributes
M	compiler/tokens.pas
M	packages/fcl-report/src/fpreport.pp
A	tests/webtbf/tw35909.pp

******************************************************************************
commit cea772308039d52e7dcac66ab46c1fdec607e67c
Author: florian <florian@freepascal.org>
Date:   Thu Mar 5 21:49:36 2020 +0000

    * more use of RemoveCurrentP(p)
    
    git-svn-id: trunk@44264 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9819df6fe16de513a6c253b313cbd00ce4b3b11c
Author: florian <florian@freepascal.org>
Date:   Tue Mar 3 21:29:52 2020 +0000

    * calculate complexity of an rtti node correctly
    
    git-svn-id: trunk@44261 -

M	compiler/nutils.pas

******************************************************************************
commit f42b0bf6f556d1c8c9ab2bf04a5c170d62b44b8d
Author: florian <florian@freepascal.org>
Date:   Sun Mar 1 21:21:18 2020 +0000

      * fixed JccAdd/Inc/Dec2*Adc/Sbb optimizations
    
    git-svn-id: trunk@44254 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 34be9e464331921895f19699348ef7c663dd7e05
Author: florian <florian@freepascal.org>
Date:   Sun Mar 1 09:37:09 2020 +0000

      * CallRet2* optimization may not misalign the stack, reported by C Western on fpc-devel
    
    git-svn-id: trunk@44253 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit ac974c9ab7418908c996b52499240a88ffa210f7
Author: florian <florian@freepascal.org>
Date:   Sat Feb 29 21:15:15 2020 +0000

      * improve is_loop_invariant for load nodes
    
    git-svn-id: trunk@44252 -

M	compiler/optloop.pas

******************************************************************************
commit 507fc9c1ff58a7b97b3739016838cf06f35f956f
Author: florian <florian@freepascal.org>
Date:   Fri Feb 28 20:42:54 2020 +0000

    + take care of addn and subn in is_loop_invariant
    
    git-svn-id: trunk@44251 -

M	compiler/optloop.pas

******************************************************************************
commit 8003f675c5786198a1a7087060c05debf4920b07
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Feb 28 16:29:14 2020 +0000

    + add test for already fixed Mantis #24283
    
    git-svn-id: trunk@44249 -

M	.gitattributes
A	tests/webtbs/tw24283.pp

******************************************************************************
commit 80c0fc3c9268c59a07747f7ae88a106097c2a2c8
Author: florian <florian@freepascal.org>
Date:   Wed Feb 26 20:59:35 2020 +0000

      * several fixes to get better reg. allocations in the arm assembler optimizer
    
    git-svn-id: trunk@44245 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 62129db44cb6ccf173a6c2e34c6c1a29760c9479
Author: florian <florian@freepascal.org>
Date:   Tue Feb 25 21:28:53 2020 +0000

      * ARM: look further ahead when optimizing mov rX, yyyy
      * ARM: fix Mov0 and MovMLA2MUL optimizations
    
    git-svn-id: trunk@44244 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 9132b54b3b9ad8817fbc5bf20ede4ad947c193bb
Author: florian <florian@freepascal.org>
Date:   Tue Feb 25 21:28:52 2020 +0000

      + ARM: MovMLA2MUL optimization
    
    git-svn-id: trunk@44243 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 684ef3008fcb26dc1318e6807d78e72942d9ae4c
Author: florian <florian@freepascal.org>
Date:   Mon Feb 24 21:10:55 2020 +0000

      * ARM: optimize mov rX,#0 .... mul/mla/umull ...,rX,...
    
    git-svn-id: trunk@44242 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 9bdfbc24731d670ecda14897eca0add4786871a1
Author: florian <florian@freepascal.org>
Date:   Sun Feb 23 21:47:47 2020 +0000

      + GetNextInstructionUsingRegTrackingUse
      * better MovAnd2Mov optimization
      + TOptsToCheck to track expensive optimizations, needs more work
    
    git-svn-id: trunk@44241 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit a3573599718aad825241c4926833270091ba8b52
Author: florian <florian@freepascal.org>
Date:   Sun Feb 23 21:21:40 2020 +0000

      * LeaCallLeaRet2Jmp is done in TX86AsmOptimizer.PostPeepholeOptLea
    
    git-svn-id: trunk@44240 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c7b19e2fc96f01219e4664895b13a5d86ae7e120
Author: florian <florian@freepascal.org>
Date:   Sun Feb 23 18:24:31 2020 +0000

      * track used register better: if a deallocation is moved/removed, the used register may not be removed from the current register used register set
    
    git-svn-id: trunk@44239 -

M	compiler/aopt.pas

******************************************************************************
commit af1a4c06c53b7486965fa31c8bc6ce7a3dcd16f1
Author: florian <florian@freepascal.org>
Date:   Sun Feb 23 10:41:18 2020 +0000

      * fixed generic round(...) for large values based on a comment by Alexander Hofmann on fpc-devel
      * extended test
    
    git-svn-id: trunk@44235 -

M	rtl/inc/genmath.inc
M	tests/test/units/system/tround.pp

******************************************************************************
commit 2acc6337d817d6e041281c4e0393ef7fde833adb
Author: florian <florian@freepascal.org>
Date:   Sat Feb 22 22:38:36 2020 +0000

      * debug statement removed
    
    git-svn-id: trunk@44234 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4dff373feffed88c558076962dc7a9e9729033e2
Author: florian <florian@freepascal.org>
Date:   Sat Feb 22 18:37:38 2020 +0000

      * (modified) patch by J. Gareth Moreton: processor-aware MOVZX optimisation cleanup, resolves #36687
    
    git-svn-id: trunk@44233 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/test/cg/tcnvint3a.pp
A	tests/test/cg/tcnvint3c.pp

******************************************************************************
commit c146aecc0112091e382e8c709026076038783409
Author: florian <florian@freepascal.org>
Date:   Fri Feb 21 20:35:27 2020 +0000

      * throw an error if the forward interface type and the actual interface type do not match, resolves #36720
    
    git-svn-id: trunk@44230 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecl.pas
A	tests/webtbf/tw36720.pp
A	tests/webtbf/uw36720a.pp
A	tests/webtbf/uw36720b.pp

******************************************************************************
commit 66aa2e1416e53e42ce5593ea5c71e244fd3dbb4e
Author: florian <florian@freepascal.org>
Date:   Thu Feb 20 20:51:46 2020 +0000

      * fixed tests for architectures with FPC_COMP_IS_INT64 defined
    
    git-svn-id: trunk@44222 -

M	tests/tbs/tb0621.pp
M	tests/test/units/fpcunit/testcomps.pp

******************************************************************************
commit 49f789b92aed40ddeb16aa91b95fcff61b386982
Author: florian <florian@freepascal.org>
Date:   Wed Feb 19 21:12:23 2020 +0000

      * reverted accidently committed changes again
    
    git-svn-id: trunk@44218 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit bb6028a27516192fdc8e0629389ca57524f4a030
Author: florian <florian@freepascal.org>
Date:   Wed Feb 19 21:10:20 2020 +0000

      * AArch64: the PIC code needs also more registers, so use the same ifdefs as arm and sparc
    
    git-svn-id: trunk@44217 -

M	tests/webtbs/tw2242.pp

******************************************************************************
commit 95e8992e2f2605f96187d057a5adb23b5109f163
Author: florian <florian@freepascal.org>
Date:   Wed Feb 19 21:10:19 2020 +0000

      + AArch64: profiler support for aarch64-linux
    
    git-svn-id: trunk@44216 -

M	compiler/aarch64/cgcpu.pas
M	compiler/options.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 346118187b41859b88ba7c4b196493a809fd54f6
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 19 15:33:11 2020 +0000

    Fix linking error, in which libc.so.6 is not found on aarch64-linux when libdl.so is loaded, by adding appropriate directory
    
    git-svn-id: trunk@44215 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit 200de64085083dcf64a836a18dfc5a8cbf31386e
Author: florian <florian@freepascal.org>
Date:   Tue Feb 18 21:37:06 2020 +0000

      * aarch64 suffers also from the limited tan precision of the softfpu
    
    git-svn-id: trunk@44212 -

M	tests/test/units/math/ttrig1.pp

******************************************************************************
commit 22146776564c2b1032ef00534b3982347cd1ee25
Author: florian <florian@freepascal.org>
Date:   Mon Feb 17 20:36:35 2020 +0000

      * tests need -CE
    
    git-svn-id: trunk@44206 -

M	tests/test/tsafecall3.pp
M	tests/test/tsafecall4.pp

******************************************************************************
commit 3099e10f41016534a49548a5fe82e93ce6e90138
Author: florian <florian@freepascal.org>
Date:   Mon Feb 17 20:12:53 2020 +0000

      * revert accidently committed code
    
    git-svn-id: trunk@44205 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e50c4f6373933812d8fe57ceaf4ceab1c963cb32
Author: florian <florian@freepascal.org>
Date:   Mon Feb 17 20:11:32 2020 +0000

      + AAarch64: optimize divisions by constant
    
    git-svn-id: trunk@44204 -

M	compiler/aarch64/ncpumat.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 93521ae8e87b79fde427bba35db6dfc8cef108c0
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 20:14:28 2020 +0000

      * fold also pointer additions/subtractions
    
    git-svn-id: trunk@44199 -

M	compiler/nadd.pas

******************************************************************************
commit 17158c3587ef077eade579f1414b5ac98f89ed47
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 20:14:28 2020 +0000

      * mmap2 expects that offset is divided by 4096
    
    git-svn-id: trunk@44198 -

M	rtl/linux/ossysc.inc

******************************************************************************
commit 27e89e07a359c9f5388dbff82bcd169823553154
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 20:14:27 2020 +0000

      * in case a 32x32 -> 64 multiplication is converted into shl, the type casts need to be restored
    
    git-svn-id: trunk@44197 -

M	compiler/nadd.pas

******************************************************************************
commit 9989d408fd2e010dffc655e492d7882d9a52449e
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 20:14:26 2020 +0000

      * AArch64 and i386: omit exit stackframe, same as r44191 for x86-64
    
    git-svn-id: trunk@44196 -

M	compiler/aarch64/cgcpu.pas
M	compiler/i386/cgcpu.pas

******************************************************************************
commit 3188dc18d41b540d6241e9ea20e918e217e55277
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 16 16:58:25 2020 +0000

      * fixed tdel1/2 tests again for AArch64/LLVM
    
    git-svn-id: trunk@44195 -

M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmpara.pas
M	compiler/pparautl.pas
M	compiler/symconst.pas

******************************************************************************
commit 88836b467e591b57523bfdd06590dd6f58977d7d
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 16:43:26 2020 +0000

      * (V)MOVA*(V)MOVS*2(V)MOVS* 1 optimization
    
    git-svn-id: trunk@44194 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 42324235bd7b9a00acae016699cb4f9c7e46177e
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 13:15:12 2020 +0000

      + CallRet2Call optimization
    
    git-svn-id: trunk@44192 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit ef3155c2eff240ffc64af5b713b545e5a0ea9b74
Author: florian <florian@freepascal.org>
Date:   Sun Feb 16 13:06:19 2020 +0000

      * there is no exit stackframe needed if a subroutine never returns
    
    git-svn-id: trunk@44191 -

M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit 2ad3c6dd97d08494ba0406b59868a5fd1198cbb9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Feb 16 09:53:37 2020 +0000

    * fix global generic functions with constraints in mode Delphi by handling implementations with defines outside of parse_generic_parameters
    + added tests
    
    git-svn-id: trunk@44189 -

M	.gitattributes
M	compiler/pdecsub.pas
M	compiler/pparautl.pas
A	tests/test/tgenfunc20.pp
A	tests/test/tgenfunc21.pp
A	tests/test/tgenfunc22.pp

******************************************************************************
commit 892454ff17bf5a12d3b7543c71ce149b9cab8f8a
Author: florian <florian@freepascal.org>
Date:   Sat Feb 15 20:53:40 2020 +0000

      * patch by J. Gareth Moreton: optimize MOVSXD as well, resolves #36700
    
    git-svn-id: trunk@44185 -

M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit e350264db18d5ddfe8458caf6a88ec687c3ce4e4
Author: florian <florian@freepascal.org>
Date:   Sat Feb 15 18:27:22 2020 +0000

      + propagate constants across call nodes
    
    git-svn-id: trunk@44184 -

M	compiler/optconstprop.pas

******************************************************************************
commit a0ed685036ab33651b4ec86569e2e8dbac33f527
Author: joost <joost@cnoc.nl>
Date:   Sat Feb 15 17:24:15 2020 +0000

     * Fixed the assignment of licenses of packages
    
    git-svn-id: trunk@44183 -

M	packages/fppkg/src/fprepos.pp

******************************************************************************
commit 3947922fea2604edcb2a4af366332cea338c5907
Author: florian <florian@freepascal.org>
Date:   Sat Feb 15 13:53:16 2020 +0000

      * set nf_* correctly when an inc/dec node is converted into an add/sub node
      * do not firstpass during dead store removal as it disturbes the for each calls
    
    git-svn-id: trunk@44180 -

M	compiler/ninl.pas
M	compiler/optdeadstore.pas

******************************************************************************
commit 013491c69f6068b74240153c95bcb50be5da21fa
Author: florian <florian@freepascal.org>
Date:   Fri Feb 14 21:27:16 2020 +0000

      * make maxpushedparasize a SizeInt: it must store an address size and not an alu value
    
    git-svn-id: trunk@44176 -

M	compiler/procinfo.pas

******************************************************************************
commit b7afb2431c1fc7bb7e29a965503dffd9e95aec00
Author: florian <florian@freepascal.org>
Date:   Fri Feb 14 20:56:55 2020 +0000

      * do not allow constraints in headers of procedure implementations in delphi mode, resolves #36584
      * better error message if a constraint is found at a wrong location
    
    git-svn-id: trunk@44174 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecsub.pas
M	compiler/pgenutil.pas
A	tests/webtbf/tw36584.pp

******************************************************************************
commit 20698bb36f16566f16a52d7c2c4965d6b1131512
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Feb 14 16:49:04 2020 +0000

    * regenerate msg*.inc after last commit
    
    git-svn-id: trunk@44171 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 147559349b257db80d94aba077a3bef23409f581
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Feb 14 16:48:58 2020 +0000

    * fix for Mantis #36652: gracefully handle the error if one tries to implement a method of a type from another unit
    + added test
    
    git-svn-id: trunk@44170 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/pparautl.pas
M	compiler/psub.pas
A	tests/webtbf/tw36652.pp
A	tests/webtbf/uw36652.pp

******************************************************************************
commit fc42953814ac01124fa964dda48de4d30e2208d9
Author: yury <jura@cp-lab.com>
Date:   Fri Feb 14 10:37:14 2020 +0000

    * Disabled range and overflow checks for the tw36587 test, since overflows are intended there.
    
    git-svn-id: trunk@44168 -

M	tests/webtbs/tw36587.pp

******************************************************************************
commit 3279e6335112c042ef8f723eb1476175bbf5e48d
Author: florian <florian@freepascal.org>
Date:   Thu Feb 13 20:53:39 2020 +0000

      * patch by J. Gareth Moreton: cleanup TX86AsmOptimizer.OptPass2MOV after DeepMov changes, second part of #36670
    
    git-svn-id: trunk@44166 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 251b18b9661df41aa9de94df5f0fec334d3323f0
Author: florian <florian@freepascal.org>
Date:   Thu Feb 13 20:34:27 2020 +0000

      * do not fold constants if the resulttypes do not match, improved fix for #tw26587
    
    git-svn-id: trunk@44165 -

M	compiler/nadd.pas

******************************************************************************
commit 3a5eb0ec59725106d89f21b1086f22851dcbd1fb
Author: florian <florian@freepascal.org>
Date:   Thu Feb 13 20:20:10 2020 +0000

      * patch by J. Gareth Moreton: cleanup TX86AsmOptimizer.OptPass1MOV after DeepMov changes, first part of #36670
    
    git-svn-id: trunk@44164 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f632e2e7be71448f812fe80f5dfadc8aed22dc8a
Author: florian <florian@freepascal.org>
Date:   Wed Feb 12 20:23:06 2020 +0000

      * simplified TX86AsmOptimizer.OptPass1Movx
    
    git-svn-id: trunk@44162 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 21565c22849db95277d35ae21b17298adaf0d285
Author: florian <florian@freepascal.org>
Date:   Wed Feb 12 19:26:52 2020 +0000

      * fixed Mov2Movz optimization
    
    git-svn-id: trunk@44161 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 533777000a214cc4a04dfb83503cbf1391e31702
Author: joost <joost@cnoc.nl>
Date:   Tue Feb 11 21:36:26 2020 +0000

     * Disable building the IDE on Darwin by default
    
    git-svn-id: trunk@44154 -

M	packages/ide/fpmake.pp

******************************************************************************
commit c6350e2903d5d431fb53e4a5ad5d5f2e9fa9e9f3
Author: florian <florian@freepascal.org>
Date:   Tue Feb 11 20:56:20 2020 +0000

      * patch by J. Gareth Moreton: processor-aware MOVZX optimisation cleanup, part one of #36687
    
    git-svn-id: trunk@44153 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 79bbc20f29632c65b4aba5f51503738cb6088b70
Author: joost <joost@cnoc.nl>
Date:   Tue Feb 11 19:31:35 2020 +0000

     * FPMake-option NoIDE added
    
    git-svn-id: trunk@44152 -

M	fpmake.pp
M	packages/fpmake.pp
M	packages/ide/fpmake.pp

******************************************************************************
commit 39c48f0d0156f562e8e286003d5504baed62ea5a
Author: yury <jura@cp-lab.com>
Date:   Tue Feb 11 12:49:12 2020 +0000

    * Fixed r43577 for cases when the size of the new result of a simplified node after typecheckpass is smaller than the size of the original node's result. This caused internal errors or invalid assembly in some cases. Issue #36587.
    
    git-svn-id: trunk@44151 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw36587.pp

******************************************************************************
commit e7d2c93ca7c764c4a7f9764a06f9ba390a76dda1
Author: florian <florian@freepascal.org>
Date:   Mon Feb 10 20:48:45 2020 +0000

      * patch by J. Gareth Moreton: deadstore removal improvement, resolves #36669
    
    git-svn-id: trunk@44147 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 40a60591430e4639b7786a1f0a3c34451bf73bbb
Author: pierre <pierre@freepascal.org>
Date:   Mon Feb 10 09:37:53 2020 +0000

     Modify code to avoid error when compiling with -CriotR option
    
    git-svn-id: trunk@44145 -

M	compiler/rgobj.pas

******************************************************************************
commit 991ce83a2b5a329abdf175905196cf1032993743
Author: florian <florian@freepascal.org>
Date:   Sun Feb 9 20:57:59 2020 +0000

      * patch by J. Gareth Moreton: conditional Jump Inversion stoploop variable, resolves #36680
    
    git-svn-id: trunk@44144 -

M	compiler/aoptobj.pas

******************************************************************************
commit 12d015a9356bfe9511bbb24c05d2a9cad9385e0b
Author: florian <florian@freepascal.org>
Date:   Sun Feb 9 17:39:50 2020 +0000

      * patch by J. Gareth Moreton: CMOV extensions: frame/stack pointer relative references are always valid, resolves #36675
    
    git-svn-id: trunk@44141 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3de193467d7d304aa1c0f3072af2a54f690eb821
Author: florian <florian@freepascal.org>
Date:   Thu Feb 6 20:24:59 2020 +0000

      * reverted r44119
    
    git-svn-id: trunk@44123 -

M	compiler/hlcgobj.pas

******************************************************************************
commit 8de6066b95d54e3c3daf2e5ca79b8e79d424f546
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Wed Feb 5 22:37:43 2020 +0000

      + added possibility to list supported modeswitches using -im and documented it in help pages
    
    git-svn-id: trunk@44120 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit 38d0a9af48bf9668da9b831a5c7248cc002242ee
Author: florian <florian@freepascal.org>
Date:   Wed Feb 5 20:33:32 2020 +0000

      * Makefile fixed
    
    git-svn-id: trunk@44118 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit 6b9d3ead7a3c196651d09b8b6c12d8fadb556022
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 5 17:21:18 2020 +0000

     Add '.built.on.$(SOURCESUFFIX)' for snapshots generated on another target using singlezipinstall
    
    git-svn-id: trunk@44117 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit 37106166f1c5a0ee6d26fae990c5bde21a15ea78
Author: pierre <pierre@freepascal.org>
Date:   Tue Feb 4 22:54:52 2020 +0000

     Replace assembler instruction 'xorl' by 'xor' in Intel mode
    
    git-svn-id: trunk@44116 -

M	rtl/emx/sysutils.pp

******************************************************************************
commit f4702ee139ed24007942b9b463974d3958fa1bef
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Feb 4 22:28:23 2020 +0000

      * added information about -M allowing to specify modeswitches
    
    git-svn-id: trunk@44115 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 9ce1d0e50960f60cb7f395f7a1d546077d182a7f
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Tue Feb 4 22:04:34 2020 +0000

      * fix for TAbstractSearchRec.Time type change
    
    git-svn-id: trunk@44113 -

M	rtl/emx/sysutils.pp
M	rtl/os2/sysutils.pp

******************************************************************************
commit de213ba258297b7c28e2745da2f18bc2e0b5d6aa
Author: florian <florian@freepascal.org>
Date:   Mon Feb 3 20:16:33 2020 +0000

      - test removed as it cannot work on all variants of currency support
    
    git-svn-id: trunk@44107 -

M	.gitattributes
D	tests/webtbs/tw36179.pp

******************************************************************************
commit bbcbd4eae1c0e63afe7bee64469decb6d789118f
Author: florian <florian@freepascal.org>
Date:   Sun Feb 2 19:49:47 2020 +0000

      * patch by J. Gareth Moreton, avoid illegal MovAdd2Lea and MovSub2Lea optimziations, resolves #36630
    
    git-svn-id: trunk@44101 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b777dc21d70691a94c36cf921b428ddbcd36db2b
Author: florian <florian@freepascal.org>
Date:   Sun Feb 2 15:20:28 2020 +0000

      * fix PowerPC compilation
    
    git-svn-id: trunk@44097 -

M	compiler/parabase.pas

******************************************************************************
commit 679c4454c476583f1b28d179ceb8d54759aa63f8
Author: florian <florian@freepascal.org>
Date:   Sun Feb 2 14:30:45 2020 +0000

    * fixes copying of tcgpara
    
    git-svn-id: trunk@44095 -

M	compiler/parabase.pas

******************************************************************************
commit 1993c5d1efb6811791df0d7d78472e383874eabf
Author: florian <florian@freepascal.org>
Date:   Sun Feb 2 14:30:44 2020 +0000

    * cosmetics
    
    git-svn-id: trunk@44094 -

M	compiler/ncal.pas

******************************************************************************
commit e7f5b89c2c7cf856951f65c7698f6d2a351852c7
Author: joost <joost@cnoc.nl>
Date:   Sun Feb 2 11:06:14 2020 +0000

     * Avoid doing a syscall with a nil parameter in fileexists
    
    git-svn-id: trunk@44090 -

M	rtl/unix/sysutils.pp

******************************************************************************
commit 0af71da9cc956f8d70c81ab5dd7c3e8484af90dd
Author: florian <florian@freepascal.org>
Date:   Sat Feb 1 22:31:12 2020 +0000

      * armhf/armel aligns sections to 16 byte, so allow a maximum c alignment of 16
    
    git-svn-id: trunk@44087 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit 2ea35e55b199904b69341b46a3f25fcb29557f54
Author: florian <florian@freepascal.org>
Date:   Sat Feb 1 21:31:56 2020 +0000

      * patch by J. Gareth Moreton: x86 "OptPass1MOV" improvements - Part 2, resolves #36608
    
    git-svn-id: trunk@44086 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5a87855b062c5cc8d0bbae3311d82eae2e099ec5
Author: florian <florian@freepascal.org>
Date:   Sat Feb 1 20:30:15 2020 +0000

      + might_have_sideeffects takes care of vo_volatile now (it is not exposed yet)
    
    git-svn-id: trunk@44085 -

M	compiler/nutils.pas

******************************************************************************
commit 77b54f501f0d1d6a45b8b3f11f4f6fec1260a4c3
Author: florian <florian@freepascal.org>
Date:   Sat Feb 1 18:02:17 2020 +0000

      * when optimizing boolean expressions, might_have_sideeffects is only relevant if the expression would be optimized away
    
    git-svn-id: trunk@44084 -

M	compiler/nadd.pas

******************************************************************************
commit d479069f8c045b26678dce30fd8a14cefde3b611
Author: florian <florian@freepascal.org>
Date:   Sat Feb 1 18:00:38 2020 +0000

      * might_have_sideeffects takes care of absolute
    
    git-svn-id: trunk@44083 -

M	.gitattributes
M	compiler/nutils.pas
A	tests/test/tabsvr6.pp
A	tests/test/tabsvr7.pp

******************************************************************************
commit 6b47d9d9ed74d375c3c17b38ec215ac0cfedb90c
Author: florian <florian@freepascal.org>
Date:   Fri Jan 31 21:58:49 2020 +0000

      * safecall support is meanwhile generic, so enabled for all linux targets
    
    git-svn-id: trunk@44076 -

M	compiler/fpcdefs.inc
M	compiler/powerpc/cpuinfo.pas
M	compiler/powerpc64/cpuinfo.pas
M	compiler/systems/i_linux.pas

******************************************************************************
commit 8f707903df96a5132592aeeb8d84e88f045fc5f6
Author: florian <florian@freepascal.org>
Date:   Fri Jan 31 21:27:46 2020 +0000

      * test fixed
    
    git-svn-id: trunk@44075 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit 7bcdc2b37fb9f3e81657e2e06e5b56502b629fc2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Jan 30 21:46:11 2020 +0000

    * implement interface thunk for RISC V 32- and 64-bit
    
    git-svn-id: trunk@44071 -

M	packages/rtl-objpas/src/inc/rtti.pp

******************************************************************************
commit d9f4c85d2e042f4cb41f868d51c7675923d25388
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:21 2020 +0000

      * llvm sometimes uses the AArch64 framepointer register as a regvar in the
        main routine (because it can never return) -> attempt to guard against
        invalid accesses in get_caller_addr
    
    git-svn-id: trunk@44066 -

M	rtl/aarch64/aarch64.inc

******************************************************************************
commit 254b85c352c92f8e8f7d4bc1acf10f5faedbbe51
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:17 2020 +0000

      + new pio_inline_forbidden flag to indicate that while parsing the
        implementation the compiler determined the routine must never be
        inlined
       o difference with po_noinline: can also be set in the implementation
       o difference with pio_inline_not_possible: it indicates that e.g.
         LLVM must not inline the routine either
    
    git-svn-id: trunk@44065 -

M	compiler/llvm/agllvm.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit b625afe8001b7508a131d683108a2e1a7550667a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:14 2020 +0000

      * never inline routines that call get_frame (otherwise get_frame would return
        the frame of the caller rather than of the current routine, which could
        cause e.g. stackframes to be missed in RTL helpers that are known to be
        only called from run time error routines)
    
    git-svn-id: trunk@44064 -

M	compiler/globtype.pas
M	compiler/ninl.pas
M	compiler/psub.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 08f9ec98e597e7afe9848fff43fe06608900002b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:10 2020 +0000

      * use same Windows platform name as clang
    
    git-svn-id: trunk@44063 -

M	compiler/llvm/llvmbase.pas

******************************************************************************
commit 592df7fa5905081b23eba908345cff67fe584679
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:07 2020 +0000

      * disable cs_opt_regvar on all platforms when compiled for LLVM (LLVM does
        that itself, our LLVM code generator can't handle it, and if it did then
        afterwards we would have to spill 90% of those register variables again
        to make them SSA)
    
    git-svn-id: trunk@44062 -

M	compiler/aarch64/cpuinfo.pas
M	compiler/arm/cpuinfo.pas
M	compiler/avr/cpuinfo.pas
M	compiler/i386/cpuinfo.pas
M	compiler/i8086/cpuinfo.pas
M	compiler/m68k/cpuinfo.pas
M	compiler/mips/cpuinfo.pas
M	compiler/powerpc/cpuinfo.pas
M	compiler/powerpc64/cpuinfo.pas
M	compiler/riscv32/cpuinfo.pas
M	compiler/riscv64/cpuinfo.pas
M	compiler/sparc64/cpuinfo.pas

******************************************************************************
commit df6516c29f348078c0f86034544445eedca59103
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 29 22:21:03 2020 +0000

      * fix internalerror if adding the object info for LLVM requires creating new defs
    
    git-svn-id: trunk@44061 -

M	compiler/llvm/nllvmutil.pas

******************************************************************************
commit 43c83b3ae60ade6916303a524f058febeeb683ad
Author: florian <florian@freepascal.org>
Date:   Wed Jan 29 21:35:26 2020 +0000

      * improve LeaLea2Lea optimization
    
    git-svn-id: trunk@44058 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 871136d4f2beb86ee8056278c6d9b7cae070c8ff
Author: florian <florian@freepascal.org>
Date:   Wed Jan 29 21:35:25 2020 +0000

      * first couple of improvements propose by Stefan Kanthak at https://skanthak.homepage.t-online.de/division.html#fpc
    
    git-svn-id: trunk@44057 -

M	rtl/inc/flt_core.inc

******************************************************************************
commit 45ffa40b71d623e404c72413e935e1b0ef97389e
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 28 19:09:42 2020 +0000

    * Removed inline since it is not supported with open array parameters.
    
    git-svn-id: trunk@44054 -

M	compiler/entfile.pas

******************************************************************************
commit 1b3a3a7983c3553e38b1a2bf1fb3166053435b66
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 28 18:45:33 2020 +0000

    * Removed lot of unused local vars. It is useful to turn on the notes in options. :)
    
    git-svn-id: trunk@44053 -

M	compiler/aasmcnst.pas
M	compiler/aoptobj.pas
M	compiler/cutils.pas
M	compiler/dbgstabx.pas
M	compiler/hlcgobj.pas
M	compiler/i386/aoptcpu.pas
M	compiler/i386/n386flw.pas
M	compiler/link.pas
M	compiler/mips/cpugas.pas
M	compiler/ncgmem.pas
M	compiler/ncgrtti.pas
M	compiler/pgenutil.pas
M	compiler/powerpc/agppcmpw.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc/nppcmat.pas
M	compiler/powerpc/rappcgas.pas
M	compiler/ppcgen/agppcgas.pas
M	compiler/ppcgen/cgppc.pas
M	compiler/ppcgen/ngppccnv.pas
M	compiler/psabiehpi.pas
M	compiler/symtable.pas
M	compiler/systems/t_beos.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86int.pas

******************************************************************************
commit 4a756a2d30b395b5d1038e3220da45c012336e96
Author: yury <jura@cp-lab.com>
Date:   Tue Jan 28 17:50:20 2020 +0000

    * r42239 broke the tw13948b test for aarch64. Fixed this and improved the test.
    
    git-svn-id: trunk@44052 -

M	compiler/ncgmem.pas
M	tests/webtbs/tw13948b.pp

******************************************************************************
commit 1486ab7c708eaa3f901a49adc7a2cc42a1081d2c
Author: florian <florian@freepascal.org>
Date:   Mon Jan 27 22:27:22 2020 +0000

      * do not throw a warning about unreachable code if the responsible node was generated internally
    
    git-svn-id: trunk@44051 -

M	compiler/nflw.pas

******************************************************************************
commit 405b01f11684c9b9bf5119884a66e1ab00ca1950
Author: yury <jura@cp-lab.com>
Date:   Mon Jan 27 18:12:16 2020 +0000

    * Skip the test for android.
    
    git-svn-id: trunk@44050 -

M	tests/webtbs/tw15203.pp

******************************************************************************
commit 797795e2854990cd5abb987a721e9a13bef0945d
Author: yury <jura@cp-lab.com>
Date:   Mon Jan 27 17:50:35 2020 +0000

    * Skip the test for aarch64.
    
    git-svn-id: trunk@44049 -

M	tests/tbf/tb0110.pp

******************************************************************************
commit 3a31391c3975aaedd95a50adebb3f4339e476073
Author: yury <jura@cp-lab.com>
Date:   Mon Jan 27 17:37:26 2020 +0000

    * tests: When cross-testing, if possible, use the "ppc" native compiler to build fpmake. It solves PPU incompatibility errors.
    
    git-svn-id: trunk@44048 -

M	tests/tstunits/Makefile
M	tests/tstunits/Makefile.fpc

******************************************************************************
commit 56d64b007f7eee75266dca41fc570e9286ee6e61
Author: florian <florian@freepascal.org>
Date:   Sun Jan 26 20:13:18 2020 +0000

    + in some language modes the loop counter is undefined after the loop by language definition
    
    git-svn-id: trunk@44043 -

M	compiler/pstatmnt.pas

******************************************************************************
commit 3c18dee6945d3cc2d8d59fd7909bfb1db1cc3061
Author: florian <florian@freepascal.org>
Date:   Sun Jan 26 20:13:18 2020 +0000

    * take care of for loop counter read after loop
    
    git-svn-id: trunk@44042 -

M	compiler/optdfa.pas

******************************************************************************
commit 22197641b883bf4ad288141feb49caa0a53962a0
Author: florian <florian@freepascal.org>
Date:   Sun Jan 26 20:13:17 2020 +0000

      * last commit fixing calculation of do_loopvar_at_end was not complete,
        hopefully finally fixed
    
    git-svn-id: trunk@44041 -

M	compiler/nflw.pas

******************************************************************************
commit 74272975afea5cb9681b5e23c6d5df3e94e59021
Author: florian <florian@freepascal.org>
Date:   Sun Jan 26 15:35:03 2020 +0000

      * do_loopvar_at_end is not possible if the loop counter would overflow with
        the last iteration
    
    git-svn-id: trunk@44039 -

M	compiler/nflw.pas

******************************************************************************
commit 5aaf68b088871755f67b94959d5a2c52adbf7d7a
Author: florian <florian@freepascal.org>
Date:   Sat Jan 25 14:59:28 2020 +0000

      * fix compilation of arm-embedded, resolves #36626
    
    git-svn-id: trunk@44034 -

M	rtl/embedded/sysutils.pp

******************************************************************************
commit 3cd4168ab3412952166fe730cf6594fdc3c05fae
Author: florian <florian@freepascal.org>
Date:   Sat Jan 25 14:14:41 2020 +0000

      + introduce TOSTimestamp
    
    git-svn-id: trunk@44033 -

M	rtl/aix/sysosh.inc
M	rtl/amicommon/sysosh.inc
M	rtl/atari/sysosh.inc
M	rtl/beos/sysosh.inc
M	rtl/bsd/sysosh.inc
M	rtl/embedded/sysosh.inc
M	rtl/emx/sysosh.inc
M	rtl/gba/sysosh.inc
M	rtl/go32v2/sysosh.inc
M	rtl/haiku/sysosh.inc
M	rtl/java/sysosh.inc
M	rtl/linux/sysosh.inc
M	rtl/macos/sysosh.inc
M	rtl/msdos/sysosh.inc
M	rtl/nativent/sysosh.inc
M	rtl/nds/sysosh.inc
M	rtl/netware/sysosh.inc
M	rtl/netwlibc/sysosh.inc
M	rtl/os2/sysosh.inc
M	rtl/palmos/sysosh.inc
M	rtl/solaris/sysosh.inc
M	rtl/symbian/sysosh.inc
M	rtl/watcom/sysosh.inc
M	rtl/wii/sysosh.inc
M	rtl/win/sysosh.inc
M	rtl/win16/sysosh.inc

******************************************************************************
commit 6c71fd461daf8161fce6e1d4242a1e8b33f21271
Author: florian <florian@freepascal.org>
Date:   Fri Jan 24 21:39:07 2020 +0000

      * avoid internalerror for dec/inc(...,v) with v>high(int64), resolves #35298
    
    git-svn-id: trunk@44031 -

M	.gitattributes
M	compiler/ncginl.pas
A	tests/webtbs/tw35298.pp

******************************************************************************
commit 993144b91b468ebfe0cb0b2cfdbe93b8022e748b
Author: florian <florian@freepascal.org>
Date:   Fri Jan 24 21:10:17 2020 +0000

      * patch by J. Gareth Moreton: x86 SUB and LEA optimisations, resolves #36622
    
    git-svn-id: trunk@44030 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit a807e185912a5ab61e3bbfcb7358e442256562ac
Author: florian <florian@freepascal.org>
Date:   Fri Jan 24 20:41:11 2020 +0000

      * patch by J. Gareth Moreton: x86 CMP/TEST/Jcc optimisations, resolves #36624
    
    git-svn-id: trunk@44029 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d87a5cc9fb3dea2cda54a06bfc4fabee195c446a
Author: florian <florian@freepascal.org>
Date:   Thu Jan 23 21:32:09 2020 +0000

      * take care of m_duplicate_names when checking for duplicate locals, resolves #33221
    
    git-svn-id: trunk@44028 -

M	.gitattributes
M	compiler/symtable.pas
A	tests/webtbs/tw33221.pp

******************************************************************************
commit 7b4292c94e380e85aca13f6644419227f3f7034a
Author: florian <florian@freepascal.org>
Date:   Thu Jan 23 21:14:49 2020 +0000

      * patch by Robert Roland to support the RaspberryPi 2 as a bare metal embedded target, resolves #35236
    
    git-svn-id: trunk@44027 -

M	.gitattributes
M	compiler/arm/cpuinfo.pas
M	compiler/systems/t_embed.pas
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
A	rtl/embedded/arm/raspi2.pp

******************************************************************************
commit 90a40ab9ca5f0dbd344b28110a5fbe31a86fcdf5
Author: florian <florian@freepascal.org>
Date:   Thu Jan 23 20:56:56 2020 +0000

      * fix for #32352: a unit does not need to be re-deref'ed if it just had been recompiled
    
    git-svn-id: trunk@44026 -

M	compiler/fppu.pas

******************************************************************************
commit 8dc8647c7ba4e26968e197ad27f5b84edfe2cd1d
Author: florian <florian@freepascal.org>
Date:   Thu Jan 23 20:47:55 2020 +0000

      * WinCE compilation fixed
    
    git-svn-id: trunk@44025 -

M	rtl/wince/sysutils.pp

******************************************************************************
commit df28fdcbf8b4ab20479d264ddf92b0737d5585f0
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 23 15:03:20 2020 +0000

     Pass old value of OPT to FPCMAKEOPT
    
    git-svn-id: trunk@44023 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit f2618cb6a4565f0a0817b2458777181aec3a5579
Author: florian <florian@freepascal.org>
Date:   Wed Jan 22 19:06:26 2020 +0000

      * compilation on atari fixed
    
    git-svn-id: trunk@44019 -

M	rtl/atari/sysutils.pp

******************************************************************************
commit e790cb067d34662b642b715f4e1c73dada2120c8
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Wed Jan 22 12:14:47 2020 +0000

      * fix of FileSetDate after int64 changes (r44010 and r44013)
    
    git-svn-id: trunk@44018 -

M	rtl/emx/sysutils.pp
M	rtl/go32v2/sysutils.pp
M	rtl/msdos/sysutils.pp
M	rtl/os2/sysutils.pp
M	rtl/watcom/sysutils.pp
M	rtl/win16/sysutils.pp

******************************************************************************
commit a16f332fbb9b83dd0d9ba5b53b5ba7d4b94381a4
Author: marco <marco@freepascal.org>
Date:   Wed Jan 22 12:07:49 2020 +0000

     * some quick fixes for Win32 with temp variables for some places where the int64 changes breaks.
    
    git-svn-id: trunk@44017 -

M	rtl/win/sysutils.pp

******************************************************************************
commit 69956cd97a3178add5b81947079f8c13b8755b37
Author: florian <florian@freepascal.org>
Date:   Tue Jan 21 21:50:37 2020 +0000

      * fix compilation on several OSes after r44010
    
    git-svn-id: trunk@44013 -

M	rtl/amicommon/sysutils.pp
M	rtl/atari/sysutils.pp
M	rtl/embedded/sysutils.pp
M	rtl/emx/sysutils.pp
M	rtl/gba/sysutils.pp
M	rtl/go32v2/sysutils.pp
M	rtl/macos/sysutils.pp
M	rtl/msdos/sysutils.pp
M	rtl/nativent/sysutils.pp
M	rtl/nds/sysutils.pp
M	rtl/netware/sysutils.pp
M	rtl/netware/tests/test.pas
M	rtl/netwlibc/sysutils.pp
M	rtl/objpas/sysutils/filutil.inc
M	rtl/os2/sysutils.pp
M	rtl/symbian/sysutils.pp
M	rtl/watcom/sysutils.pp
M	rtl/wii/sysutils.pp
M	rtl/win/sysutils.pp
M	rtl/win16/sysutils.pp
M	rtl/wince/sysutils.pp

******************************************************************************
commit 9a42625cfb4b042284bc2b789bd4d3f65ecc5522
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jan 21 21:30:10 2020 +0000

    * also allow by-value open array parameters for the tail recursion optimization
    * adjusted test
    
    git-svn-id: trunk@44012 -

M	compiler/opttail.pas
M	tests/tbs/tb0667.pp

******************************************************************************
commit 4fc02d3d09b3ee04f0576ed25b5318c6690295d5
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jan 21 21:29:56 2020 +0000

    * enable tail recursion optimization also for const and constref open arrays
    + added test
    
    git-svn-id: trunk@44011 -

M	.gitattributes
M	compiler/opttail.pas
A	tests/tbs/tb0667.pp

******************************************************************************
commit 01302bc47dd4a9c3cba94ccc738d103cc43120af
Author: florian <florian@freepascal.org>
Date:   Tue Jan 21 20:59:20 2020 +0000

      * subroutines working with an OS dependend time stamp use an int64 now, so the 2038 problem
        on unixes can be tackled
    
    git-svn-id: trunk@44010 -

M	.gitattributes
M	rtl/amicommon/sysutils.pp
M	rtl/atari/sysutils.pp
M	rtl/embedded/sysutils.pp
M	rtl/emx/sysutils.pp
M	rtl/gba/sysutils.pp
M	rtl/go32v2/sysutils.pp
M	rtl/macos/sysutils.pp
M	rtl/msdos/sysutils.pp
M	rtl/nativent/sysutils.pp
M	rtl/nds/sysutils.pp
M	rtl/netware/sysutils.pp
M	rtl/netware/tests/test.pas
M	rtl/netwlibc/sysutils.pp
M	rtl/objpas/sysutils/dati.inc
M	rtl/objpas/sysutils/datih.inc
M	rtl/objpas/sysutils/filutil.inc
M	rtl/objpas/sysutils/filutilh.inc
M	rtl/objpas/sysutils/sysutils.inc
M	rtl/os2/sysutils.pp
M	rtl/symbian/sysutils.pp
M	rtl/unix/sysutils.pp
M	rtl/unix/unixutil.pp
M	rtl/watcom/sysutils.pp
M	rtl/wii/sysutils.pp
M	rtl/win/sysutils.pp
M	rtl/win16/sysutils.pp
M	rtl/wince/sysutils.pp
M	tests/Makefile
M	tests/Makefile.fpc
A	tests/test/units/dateutil/tunitdt1.pp
A	tests/test/units/unixutil/tepoch1.pp

******************************************************************************
commit fc44c2d4c965d246fc7915dd0212679d9a27d77a
Author: florian <florian@freepascal.org>
Date:   Mon Jan 20 21:56:39 2020 +0000

      + insert alignments after break/goto/exit/continue jmp instructions, if it is
        superfluous, the assembler optimizer will take care of it
    
    git-svn-id: trunk@44007 -

M	compiler/ncgflw.pas

******************************************************************************
commit 16152cf948f30f16e1e185626dad97e298c843bd
Author: florian <florian@freepascal.org>
Date:   Sun Jan 19 20:11:05 2020 +0000

      * patch by J. Gareth Moreton: get rid of another pass through the assembler list by integrating OptReferences
        into the post optimizer pass
    
    git-svn-id: trunk@44001 -

M	compiler/i386/aoptcpu.pas
M	compiler/i8086/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 069e040e49c79b8ce1f8b73d85e02a05df6126b2
Author: florian <florian@freepascal.org>
Date:   Sun Jan 19 18:21:12 2020 +0000

      * do for-loop unrolling after for-loop simplification, resolves #36589
    
    git-svn-id: trunk@43999 -

M	.gitattributes
M	compiler/nflw.pas
A	tests/webtbs/tw36589.pp

******************************************************************************
commit 799ea31a5f228ca212c94de2284d7910f3592e4b
Author: florian <florian@freepascal.org>
Date:   Sun Jan 19 18:04:59 2020 +0000

      * AVR: due to recent fixes, EXCLUDE_COMPLEX_PROCS is not needed anymore
    
    git-svn-id: trunk@43997 -

M	rtl/embedded/system.pp

******************************************************************************
commit 4b4e316af02a968f27147123b189b04a9931ba79
Author: florian <florian@freepascal.org>
Date:   Sun Jan 19 15:55:20 2020 +0000

      * compilation fixed
    
    git-svn-id: trunk@43981 -

M	compiler/avr/ccpuinnr.inc

******************************************************************************
commit 48236401e002fef040b402ecc37844edaa13984d
Author: florian <florian@freepascal.org>
Date:   Sat Jan 18 21:51:27 2020 +0000

      * voidcodepointertype => voidpointertype as suggested by Pierre
    
    git-svn-id: trunk@43976 -

M	compiler/opttail.pas

******************************************************************************
commit 22ab6dd329e69675fb1a213e2860c743539e7082
Author: florian <florian@freepascal.org>
Date:   Sat Jan 18 11:37:57 2020 +0000

      * disabled mm procs again, they are not usable yet neither supposed to be
        used
    
    git-svn-id: trunk@43968 -

M	rtl/i386/cpuh.inc
M	rtl/x86_64/cpuh.inc

******************************************************************************
commit 81848157808ef123a1cb244b71d366abeee39aa7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 18 11:22:24 2020 +0000

    * ensure that the new mm related procs are only used for 3.3.1 and newer as 3.2 and older don't support the corresponding SSE types
    
    git-svn-id: trunk@43967 -

M	rtl/i386/cpuh.inc
M	rtl/x86_64/cpuh.inc

******************************************************************************
commit b3c579f49c891b155f6b89539ad22bd12630555f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jan 18 11:22:20 2020 +0000

    * ensure that the includes for the new mm related files are indeed enabled
    
    git-svn-id: trunk@43966 -

M	rtl/x86_64/cpuh.inc
M	rtl/x86_64/cpuinnr.inc

******************************************************************************
commit 70a836c4a21104120f9f993710fb08e9525f97ca
Author: florian <florian@freepascal.org>
Date:   Tue Jan 14 21:52:39 2020 +0000

      * first part of merging parts of Jeppe's intrinsics patch, mainly r31135
        is merged by this commit with a lot of adaptions
    
    git-svn-id: trunk@43949 -

M	.gitattributes
M	compiler/Makefile
M	compiler/Makefile.fpc
M	compiler/cgbase.pas
M	compiler/compinnr.pas
M	compiler/defutil.pas
M	compiler/ncginl.pas
M	compiler/ncgutil.pas
M	compiler/ninl.pas
M	compiler/psystem.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
A	compiler/utils/mkx86inl.pp
M	compiler/x86/cgx86.pas
M	compiler/x86/cx86innr.inc
A	compiler/x86/cx86mminnr.inc
M	compiler/x86/nx86inl.pas
A	compiler/x86/x86intr.dat
A	compiler/x86/x86mmfirst.inc
A	compiler/x86/x86mmsecond.inc
A	compiler/x86/x86mmtype.inc
M	rtl/i386/cpuh.inc
M	rtl/i386/cpuinnr.inc
A	rtl/i386/cpumminnr.inc
A	rtl/i386/cpummprocs.inc
M	rtl/inc/innr.inc
M	rtl/inc/systemh.inc
M	rtl/x86_64/cpuh.inc
M	rtl/x86_64/cpuinnr.inc
A	rtl/x86_64/cpumminnr.inc
A	rtl/x86_64/cpummprocs.inc

******************************************************************************
commit 2678522db552a5d377fedb1aea4983cb97ddf324
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Jan 13 22:54:26 2020 +0000

    - RISC-V: Add controller types for common RV32 MCUs.
    - Adds initial controller units for these MCUs.
    
    Code contributed by Michael Ring
    
    git-svn-id: trunk@43935 -

M	.gitattributes
M	compiler/riscv/agrvgas.pas
M	compiler/riscv32/cpuinfo.pas
M	compiler/systems/t_embed.pas
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
A	rtl/embedded/riscv32/fe310g000.pp
A	rtl/embedded/riscv32/fe310g002.pp
A	rtl/embedded/riscv32/gd32vf103xx.pp
A	rtl/embedded/riscv32/riscv32_start.inc

******************************************************************************
commit 02c3f328a21d35ba3d4ba62150761a33d5dc4cac
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Jan 13 22:49:23 2020 +0000

    - RISC-V: Share optimizations between 32 and 64-bit.
    
    git-svn-id: trunk@43934 -

M	.gitattributes
A	compiler/riscv/aoptcpurv.pas
M	compiler/riscv32/aoptcpu.pas
M	compiler/riscv32/cgcpu.pas
M	compiler/riscv32/cpubase.pas
M	compiler/riscv64/aoptcpu.pas

******************************************************************************
commit 7cfb87b325aa1b0300734c04f338395e8d0e56c6
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Jan 13 22:42:39 2020 +0000

    - Handle jump optimizations on RISC-V
    
    git-svn-id: trunk@43933 -

M	compiler/aoptobj.pas

******************************************************************************
commit 931d4dcfeea91a734cbbbb4ff28beabf8b9bda34
Author: florian <florian@freepascal.org>
Date:   Mon Jan 13 21:20:03 2020 +0000

      * ensure the rtl and the packages for embedded compile with features exceptions and classes disabled
    
    git-svn-id: trunk@43931 -

M	compiler/psub.pas
M	packages/rtl-extra/src/inc/sortalgs.pp
M	rtl/inc/objpash.inc
M	rtl/inc/rtti.inc
M	rtl/inc/sortbase.pp
M	rtl/inc/systemh.inc

******************************************************************************
commit 34fecf90f34c9cc9f6fad91ba024ec9cda3a0a36
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Mon Jan 13 12:36:35 2020 +0000

    SysUtils: add ExpandFileName with a BasePath overload
    
    git-svn-id: trunk@43928 -

M	rtl/inc/fexpand.inc
M	rtl/objpas/sysutils/fina.inc
M	rtl/objpas/sysutils/finah.inc

******************************************************************************
commit 5a1e6c2e914f5fefc3e5dcb848b5c3a5182b63bd
Author: florian <florian@freepascal.org>
Date:   Sun Jan 12 12:00:44 2020 +0000

      * compilation on i386 fixed
    
    git-svn-id: trunk@43920 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2b70c64d09d8d58476034e1cee01b30d96c19e3b
Author: florian <florian@freepascal.org>
Date:   Sun Jan 12 10:33:21 2020 +0000

      * patch by J. Gareth Moreton: Some cleaning up of OptPass2JMP and OptPass2MOV, resolves #36553
    
    git-svn-id: trunk@43919 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 124c64152d256c1e62a1f13103c2bf5cafb33155
Author: florian <florian@freepascal.org>
Date:   Sun Jan 12 09:20:01 2020 +0000

      * patch by J. Gareth Moreton: EAX -> EDX:EAX sign extension shortcuts, and MOVSX shortcuts for AX register, part 2 of #36551
    
    git-svn-id: trunk@43918 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 236c11ef71f341e9038730cd56a2c732670fbb45
Author: florian <florian@freepascal.org>
Date:   Sun Jan 12 09:20:00 2020 +0000

      * patch by J. Gareth Moreton: EAX -> EDX:EAX sign extension shortcuts, and MOVSX shortcuts for AX register, part 1 of #36551
    
    git-svn-id: trunk@43917 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 007df5d0face645c15ba7ccb1a851d93c795cd44
Author: florian <florian@freepascal.org>
Date:   Sat Jan 11 21:15:19 2020 +0000

      * fix for #36554
    
    git-svn-id: trunk@43913 -

M	.gitattributes
M	compiler/pstatmnt.pas
A	tests/webtbf/tw36554.pp

******************************************************************************
commit aabd7c721783ea8db3983568e75918d5b8b6db2f
Author: florian <florian@freepascal.org>
Date:   Sat Jan 11 20:37:05 2020 +0000

      * more fixes for loop strength reduction
    
    git-svn-id: trunk@43912 -

M	compiler/optloop.pas
M	compiler/optutils.pas

******************************************************************************
commit a9a711763f0f41b97f806beaa2509ad77ebd7542
Author: florian <florian@freepascal.org>
Date:   Sat Jan 11 16:08:46 2020 +0000

      * some fixes to loop strength reduction
    
    git-svn-id: trunk@43911 -

M	compiler/optloop.pas

******************************************************************************
commit 2f2b378c0346142566dba0f71a25248b651ee9a3
Author: florian <florian@freepascal.org>
Date:   Sat Jan 11 16:08:45 2020 +0000

      * moved conversion of for into while loops in a separate pass, so node optimizations on the node tree can be
        carried out without losing information from for loops
    
    git-svn-id: trunk@43910 -

M	compiler/nflw.pas
M	compiler/optdfa.pas
M	compiler/psub.pas

******************************************************************************
commit 3b39ec84e46f32eba0d2d328391f7b67595f8e9a
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 10 22:58:34 2020 +0000

     Examine all exception bits in m68k fpsr register to decide which into which run time error it is converted
    
    git-svn-id: trunk@43909 -

M	rtl/linux/m68k/sighnd.inc

******************************************************************************
commit 90d2982977b802d664d3f9f2d5028693d894ceba
Author: pierre <pierre@freepascal.org>
Date:   Fri Jan 10 22:56:03 2020 +0000

     Wipe out any pre-existing exception on SetExceptionMask call for m68k cpu
    
    git-svn-id: trunk@43908 -

M	rtl/m68k/mathu.inc

******************************************************************************
commit 6f87a572affeb8d5a21d9085e986d98933abb22d
Author: florian <florian@freepascal.org>
Date:   Fri Jan 10 21:47:20 2020 +0000

    * factored out tcgprocinfo.OptimizeNodeTree
    
    git-svn-id: trunk@43907 -

M	compiler/psub.pas

******************************************************************************
commit f424ae392999b995c51a205eb14a183add9d38ac
Author: florian <florian@freepascal.org>
Date:   Fri Jan 10 21:34:30 2020 +0000

    - cleanup comment
    
    git-svn-id: trunk@43906 -

M	compiler/nflw.pas

******************************************************************************
commit 30e186be784e320264a7b422e52d8541f58131fd
Author: florian <florian@freepascal.org>
Date:   Fri Jan 10 21:34:30 2020 +0000

    * renamed sum -> defsum to avoid confusion with usesum
    
    git-svn-id: trunk@43905 -

M	compiler/optutils.pas

******************************************************************************
commit b5659df4251fdacdd80697632708689cdb64f8a5
Author: florian <florian@freepascal.org>
Date:   Fri Jan 10 21:34:29 2020 +0000

    + CalcUseSum: calculates a sum of all use sets of the current node and its children
    
    git-svn-id: trunk@43904 -

M	compiler/optbase.pas
M	compiler/optutils.pas

******************************************************************************
commit 3335104da26fd1750f200cbdcbd815a56856b217
Author: florian <florian@freepascal.org>
Date:   Thu Jan 9 20:35:37 2020 +0000

      * get paramstr(0) only if really needed
    
    git-svn-id: trunk@43898 -

M	rtl/linux/system.pp

******************************************************************************
commit 3eb14dd72264b06f2ec8f8278e2ac785ae232bc5
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 9 14:38:58 2020 +0000

    Avoid using <> for floating point values, check that abs of difference is small instead (fixes m68k 'pseudo-failure')
    
    git-svn-id: trunk@43896 -

M	tests/test/cg/taddcurr.pp

******************************************************************************
commit 6929da66a87b0185fe1f2d3762a189ed5b44fbf2
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 8 23:09:21 2020 +0000

      + Enable FPU exception handling for m68k processor
    
    git-svn-id: trunk@43894 -

M	rtl/linux/system.pp

******************************************************************************
commit d8298c9f14ffe98e06a766597f8af54c81ead38a
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 8 23:08:30 2020 +0000

     Try to correctly handle m68k exceptions bits inside SetExceptionMask function
    
    git-svn-id: trunk@43893 -

M	rtl/m68k/mathu.inc

******************************************************************************
commit 11287f018fbf940beed20d4e1c0c09f9b872a006
Author: florian <florian@freepascal.org>
Date:   Tue Jan 7 21:46:07 2020 +0000

      * explicitly emit a sub instruction in tx86inlinenode.second_high, resolves #36530
    
    git-svn-id: trunk@43888 -

M	compiler/x86/nx86inl.pas

******************************************************************************
commit 7a3a4244d105e3b32d79b52b692eccc62b362bb2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:23 2020 +0000

      * accept locals replaced by symbols in inline assembly by the LLVM code
        generator in the AArch64 assembler writer
    
    git-svn-id: trunk@43887 -

M	compiler/aarch64/agcpugas.pas

******************************************************************************
commit 3abdec9c953d6bded0f7200e4392c65a61caea5a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:20 2020 +0000

      * LLVM/AArch64: don't perform the parameter location extension workarounds
        for LLVM, as that results in LLVM assuming exactly the opposite of
        what's intended (namely that the extended locations contain valid
        rather than invalid bits)
    
    git-svn-id: trunk@43886 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 31ef82b9c6f18e699ee8a9fae53dc5c257456119
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:17 2020 +0000

      * constrained sitofp is not yet supported in LLVM for all targets
    
    git-svn-id: trunk@43885 -

M	.gitattributes
A	compiler/llvm/llvmfeatures.pas
M	compiler/llvm/llvminfo.pas
M	compiler/llvm/nllvmcnv.pas

******************************************************************************
commit 9462d6b1eace21998fcc832fdfd343479ffe4ab0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:13 2020 +0000

      * handle non-smallset sets in registers in LLVM like arrays and records
    
    git-svn-id: trunk@43884 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit a75247d9b0f072cd37310da1d3a47822efbc77a7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:10 2020 +0000

      * AArch64: fixed parameter defs for smallsets passed in registers whose size
        is not a power of two
    
    git-svn-id: trunk@43883 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 32be078ab8c2c1c7930d48b5b2f8552178f2066c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 7 20:22:06 2020 +0000

      * fixed for targets where currency is implemented via int64 after r43829
    
    git-svn-id: trunk@43882 -

M	compiler/llvm/nllvmcnv.pas

******************************************************************************
commit 404c6e0c15075a88a0128327e2d9dfa4449a0593
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 20:59:25 2020 +0000

    + forgotten file
    
    git-svn-id: trunk@43879 -

M	.gitattributes
A	compiler/cepiktimer.pas

******************************************************************************
commit 872c22842ec17ffd691eb365dd4d956687f4ed7c
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 20:59:24 2020 +0000

    * do prefetching correctly
      * more prefetching inserted
      * unnecessary/wrong UpdateUsedRegs removed
    
    git-svn-id: trunk@43878 -

M	compiler/aopt.pas
M	compiler/aoptbase.pas
M	compiler/aoptobj.pas
M	compiler/cclasses.pas

******************************************************************************
commit 3dd6a8e24e228aa6a8883508f4eade692e088726
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 19:53:43 2020 +0000

      * add forgotten exits, fixes r43874
    
    git-svn-id: trunk@43877 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 92671c9b85c7320c80d6ded7727718ea94047e41
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 17:05:48 2020 +0000

      o patch by J. Gareth Moreton:
        * applies some optimisations to OptPass1MOV. Repeated checks to the "GetNextInstruction_p Boolean"
          variable are factored out, since all of the optimisations bar the first one require a
          succeeding instruction.
    
    git-svn-id: trunk@43875 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9b68c7a5f5f0da2e43119f5845b60923b09ad801
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 17:05:47 2020 +0000

      * fix X86AsmOptimizer.RegModifiedByInstruction for VMOVSS/VMOVSD/IMUL
    
    git-svn-id: trunk@43874 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6612bb44347f5b978356417125a92a715900236b
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 14:58:06 2020 +0000

      * proper naming
    
    git-svn-id: trunk@43871 -

M	.gitattributes
R100	compiler/cprofile.pp	compiler/cprofile.pas

******************************************************************************
commit ae0ebd1e9326f2c863b23eadc2f0a24b1c007960
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 14:48:38 2020 +0000

      * missing part of last commit
    
    git-svn-id: trunk@43870 -

M	compiler/cprofile.pp

******************************************************************************
commit 6371d5f26d849975c0a6400fe46c153327603796
Author: florian <florian@freepascal.org>
Date:   Mon Jan 6 14:46:32 2020 +0000

    + infrastructure to profile different stages of the compiler
    
    git-svn-id: trunk@43869 -

M	.gitattributes
M	compiler/aopt.pas
A	compiler/cprofile.pp

******************************************************************************
commit 11784cb76af3bdd83a034ed09d524eac48b39e02
Author: joost <joost@cnoc.nl>
Date:   Sun Jan 5 23:20:52 2020 +0000

     * Fixed safecall on win32 with -Ooregvar by making sure that $safecallresult
       is never stored in a register.
    
    git-svn-id: trunk@43868 -

M	compiler/pparautl.pas

******************************************************************************
commit fca4d3315bd3dce1f2013d66e2652bd157c60de7
Author: florian <florian@freepascal.org>
Date:   Sun Jan 5 17:47:23 2020 +0000

      * let the operation do the type conversion for x87 floating point operations
    
    git-svn-id: trunk@43867 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 76e7833a201b8de2b67028606dd45fd0ad972e79
Author: florian <florian@freepascal.org>
Date:   Sun Jan 5 15:43:04 2020 +0000

      * avoid invalid type cast
    
    git-svn-id: trunk@43865 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit d3f3f81e1627ca65878c1539e0dcad32de5eb382
Author: florian <florian@freepascal.org>
Date:   Sun Jan 5 15:43:03 2020 +0000

      * fixes TX86AsmOptimizer.OptPass1_V_MOVAP after r43855
    
    git-svn-id: trunk@43864 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 22cb46fca9876d6e199beffd0a68e2e642b8dcb1
Author: florian <florian@freepascal.org>
Date:   Sun Jan 5 15:43:02 2020 +0000

      * cleanup
    
    git-svn-id: trunk@43863 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f659e91a95f761b311814797f885eeb445ad1dc0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jan 5 13:15:10 2020 +0000

      * fixed LLVM compilation after r43860
    
    git-svn-id: trunk@43862 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit a34ae2261a45f4843fcf8f257b1a162b962ce88f
Author: florian <florian@freepascal.org>
Date:   Sat Jan 4 22:19:15 2020 +0000

      * copy fpu parameters using fld/fst onto the stack
    
    git-svn-id: trunk@43861 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 73c6cab0961f0bffe52aa6d81985f56d08e2d654
Author: florian <florian@freepascal.org>
Date:   Sat Jan 4 14:24:28 2020 +0000

      + MovMovMov2XChg optimization by J. Gareth Moreton
    
    git-svn-id: trunk@43858 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3c16324f8065a20e737028144cc624f6d1834bf5
Author: florian <florian@freepascal.org>
Date:   Fri Jan 3 22:23:49 2020 +0000

      * x86: avoid to put variables into registers if they are handled by the x87-FPU
    
    git-svn-id: trunk@43856 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 7da6bac960893bfb3d690258f0fc11472c0aa1ec
Author: florian <florian@freepascal.org>
Date:   Fri Jan 3 22:23:07 2020 +0000

      * look further forward in TX86AsmOptimizer.OptPass1_V_MOVAP
    
    git-svn-id: trunk@43855 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 451afd6e45d61fcbe6236803fb12eda7693355d0
Author: florian <florian@freepascal.org>
Date:   Fri Jan 3 19:15:12 2020 +0000

      * triggered by #36505, removed CmpJxxDecJmp2SubJcc optimization as it was wrong anyways
    
    git-svn-id: trunk@43852 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1201cc024ed4f14903cdd59e26a458985f8621fd
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Fri Jan 3 17:03:38 2020 +0000

    * Add riscv-embedded to targets that don't support non-constant leb128's.
    
    git-svn-id: trunk@43851 -

M	compiler/dbgdwarf.pas

******************************************************************************
commit a79b8a145f10dbbbacfb2ca5cc892b139177733b
Author: florian <florian@freepascal.org>
Date:   Fri Jan 3 12:27:46 2020 +0000

      * manually added statx syscall numbers for android
    
    git-svn-id: trunk@43850 -

M	rtl/android/aarch64/sysnr.inc
M	rtl/android/arm/sysnr.inc
M	rtl/android/i386/sysnr.inc
M	rtl/android/mips64/sysnr.inc
M	rtl/android/mipsel/sysnr.inc
M	rtl/android/x86_64/sysnr.inc

******************************************************************************
commit 49d4371784932a3b17ebfffee6e3c5b819d1209f
Author: florian <florian@freepascal.org>
Date:   Fri Jan 3 10:44:57 2020 +0000

      * duplicate syscall number removed, resolves #36508
    
    git-svn-id: trunk@43849 -

M	rtl/linux/sparcgen/sysnr.inc

******************************************************************************
commit ebd674d40e107e4e8f093b4e28e067beea068312
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Jan 2 19:14:18 2020 +0000

      * fixed TAOptBase.SkipEntryExitMarker() not initialising out parameter in
        all cases (patch by J. Gareth Moreton, mantis #36372)
    
    git-svn-id: trunk@43843 -

M	compiler/aoptbase.pas

******************************************************************************
commit 295041e5236ce156e30e5f41bf395f01f9e1f598
Author: florian <florian@freepascal.org>
Date:   Thu Jan 2 11:08:40 2020 +0000

      * updated linux syscall numbers
    
    git-svn-id: trunk@43835 -

M	rtl/linux/arm/sysnr.inc
M	rtl/linux/i386/sysnr.inc
M	rtl/linux/m68k/sysnr.inc
M	rtl/linux/mips/sysnr.inc
M	rtl/linux/powerpc/sysnr.inc
M	rtl/linux/sparcgen/sysnr.inc
M	rtl/linux/sysnr-gen.inc
M	rtl/linux/x86_64/sysnr.inc

******************************************************************************
commit e1d9be897a01c86262f7d39cf1a4a136d694bf9d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 1 19:19:15 2020 +0000

      * fixed (harmless) wrong typecast
    
    git-svn-id: trunk@43834 -

M	compiler/nutils.pas

******************************************************************************
commit 044d9467820ad2c79dc6200d8e36848303fc4993
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 1 19:19:12 2020 +0000

      * fixed missing sign extension when adding a signed integer variable with
        size < sizeof(pointer) to a pointer for LLVM (fixes tfmtbcd)
    
    git-svn-id: trunk@43833 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit ec0d98156cdfa010b029c88075d56e414db885fb
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Jan 1 19:19:08 2020 +0000

      * use maytrap instead of strict FP exception behaviour in LLVM, so constant
        propagation is still allowed
    
    git-svn-id: trunk@43832 -

M	compiler/llvm/aasmllvmmetadata.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/nllvmadd.pas
M	compiler/llvm/nllvminl.pas

******************************************************************************
commit 1f5efe2a95174c9a72f3f4e7884dce0d3cad441d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 31 18:05:54 2019 +0000

      * support for constrained sitofp/uitofp with (the upcoming) LLVM 10.0
        (fixes most of test/units/math/troundm, although there's still an LLVM
         optimizer/code generation bug that breaks some qword -> double
         conversions)
    
    git-svn-id: trunk@43829 -

M	compiler/llvm/aasmllvmmetadata.pas
M	compiler/llvm/llvminfo.pas
M	compiler/llvm/nllvmcnv.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 9b53ed53e3ebaec026ed20aef53cc4856a76d55a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 31 18:05:50 2019 +0000

      * the llvm.experimental.constrained.fpext intrinsic doesn't have a rounding
        mode parameter
    
    git-svn-id: trunk@43828 -

M	compiler/llvm/hlcgllvm.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit d409548842031d600e52fc3871ff71bf0f830512
Author: florian <florian@freepascal.org>
Date:   Tue Dec 31 13:28:03 2019 +0000

    -- Zusammenführen von r31198 in ».«:
    C    compiler/arm/aasmcpu.pas
    U    compiler/arm/aoptcpu.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r31198 in ».«:
     U   .
    
    git-svn-id: trunk@43825 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/aoptcpu.pas

******************************************************************************
commit f6c16323fafbb73c37f0df3a80252ad65fd46e82
Author: florian <florian@freepascal.org>
Date:   Mon Dec 30 22:43:10 2019 +0000

      * unified loadnf_load_self_pointer into loadnf_load_addr
      + var parameters are now allowed when doing tail recursion optimziation, resolves #32811
    
    git-svn-id: trunk@43824 -

M	.gitattributes
M	compiler/nld.pas
M	compiler/nutils.pas
M	compiler/opttail.pas
A	tests/webtbs/tw32811.pp

******************************************************************************
commit 6fc79c7ed04c57dcb67a64c126ee960fccc7370d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 16:36:57 2019 +0000

      * set default target iOS/iPhoneSim version to 9.0 so we no longer depend
        on crt.o existing, which is not shipped with the current SDKs anymore
    
    git-svn-id: trunk@43822 -

M	compiler/options.pas

******************************************************************************
commit 3885ce98ac05b1372ecd5b8895ba323d925cd34e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:05:17 2019 +0000

      * fix LLVM code generator after r43808
        o share the high/length code for LLVM rather than duplicating it, since
          LLVM will optimize away the minor inefficiencies
        o removed temp reference in the old code, as it was useless (it doesn't
          prevent spilling to get to an SSA representation since the same
          register is written at least twice in all cases)
    
    git-svn-id: trunk@43821 -

M	compiler/llvm/nllvminl.pas

******************************************************************************
commit a6a17efa42d9de2a1206311b536b5de0487e6a67
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:05:13 2019 +0000

      * use LLVM constrained fpext/fptrunc intrinsics when fastmath is not enabled
        for accurate exception behaviour
    
    git-svn-id: trunk@43820 -

M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvminfo.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 797077855ee7ac488a555b7ba65c615fdb077359
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:05:09 2019 +0000

      * use constrained LLVM fp intrinsics for add/sub/mul/slash/fma/sqrt
        operations when fastmath is not enabled
    
    git-svn-id: trunk@43819 -

M	compiler/llvm/nllvmadd.pas
M	compiler/llvm/nllvminl.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit b355ba3d39870b671be98a13cfe64a571a4daf1c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:05:06 2019 +0000

      * record whether a function uses fastmath, and define the function as
        strictfp if it doesn't (so LLVM doesn't perform transformations that can
        change the fp/exception behaviour)
    
    git-svn-id: trunk@43818 -

M	compiler/llvm/agllvm.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 67dbd0cdb3aa69292536a0343c718b4f90872ace
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:05:02 2019 +0000

      * support nf_internal to ignore currency conversion adjustments also on
        platforms that implement currency using a floating point type
    
    git-svn-id: trunk@43817 -

M	compiler/llvm/nllvmcnv.pas
M	compiler/ncnv.pas

******************************************************************************
commit 9bd33f7a45d5f62d7be937a3c3e17e8b7dbe8abc
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 30 15:04:57 2019 +0000

      + support for LLVM metadata constant string parameters
       o they are implemented as a new metadata register class, whereby the
         subregister indicates the metadata type (currently always a string)
         and the superregister is an index in the metadata array (which
         contains the strings). LLVM metadata can only be passed as parameters
         to intrinsics in bitcode, so moves of metadata into other registers
         triggers internal errors and when moving them into parameters, we
         replace the parameter's register with the metadata register (and look
         up the corresponding string when writing out the bitcode)
    
    git-svn-id: trunk@43816 -

M	compiler/aarch64/aasmcpu.pas
M	compiler/cgbase.pas
M	compiler/fmodule.pas
M	compiler/llvm/aasmllvmmetadata.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmpara.pas
M	compiler/llvm/nllvmcon.pas
M	compiler/psystem.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit f7a052f8846f8fb76723de3d13f04d2514efdee3
Author: florian <florian@freepascal.org>
Date:   Sat Dec 28 21:38:38 2019 +0000

      + inline high(<dyn. array>), resolves #28536
    
    git-svn-id: trunk@43808 -

M	compiler/ncginl.pas
M	compiler/ninl.pas
M	compiler/x86/nx86inl.pas

******************************************************************************
commit 9bd7401ce9ac4d02501c0638c85ae1623392cb64
Author: florian <florian@freepascal.org>
Date:   Sat Dec 28 18:18:41 2019 +0000

      * comment fixed
    
    git-svn-id: trunk@43805 -

M	compiler/htypechk.pas

******************************************************************************
commit 00859420abe2f23c644087fbc9c319c0389c2e3a
Author: florian <florian@freepascal.org>
Date:   Sat Dec 28 17:59:23 2019 +0000

      * correctly handle reading of class/object pointers in combination with @, resolves #26326
    
    git-svn-id: trunk@43804 -

M	.gitattributes
M	compiler/htypechk.pas
M	compiler/nmem.pas
A	tests/webtbs/tw26326.pp

******************************************************************************
commit 94d222ba69e59cd4b1ae254b6bd31d6e10660a8d
Author: florian <florian@freepascal.org>
Date:   Thu Dec 26 21:10:34 2019 +0000

      + test for #26791, meanwhile fixed
    
    git-svn-id: trunk@43797 -

M	.gitattributes
A	tests/webtbs/tw26791.pp

******************************************************************************
commit ccf409c8a08876dd9ba7f10bf966134ab129506a
Author: florian <florian@freepascal.org>
Date:   Wed Dec 25 22:11:31 2019 +0000

      * use 64 bit code page in tppcshlshrnode.pass_generate_code for all 64 bit types,
        resolves #33582
    
    git-svn-id: trunk@43795 -

M	compiler/powerpc/nppcmat.pas

******************************************************************************
commit 051b9840a54206a5d6748e67b294db13aacdefc8
Author: florian <florian@freepascal.org>
Date:   Wed Dec 25 18:09:30 2019 +0000

      * write a proper error message if <int>/<int> is encountered while no
        floating point support is available, resolves #32006
    
    git-svn-id: trunk@43794 -

M	compiler/nadd.pas

******************************************************************************
commit fd0012deff5ef06a302cbd81762c3bb4085d36f7
Author: florian <florian@freepascal.org>
Date:   Wed Dec 25 17:10:14 2019 +0000

      * when copying goto nodes take care if the label node is part of the copied tree
        or not, resolves #35820
    
    git-svn-id: trunk@43793 -

M	.gitattributes
M	compiler/nflw.pas
M	compiler/node.pas
A	tests/webtbs/tw35820.pp

******************************************************************************
commit f59eae4f81228d9a7f06952dd15349c8f96e5162
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 25 15:23:28 2019 +0000

    * correctly handle local reference in the RISC V assembler readers (both 32 and 64 bit)
    
    git-svn-id: trunk@43790 -

M	compiler/riscv32/rarv32gas.pas
M	compiler/riscv64/rarv64gas.pas

******************************************************************************
commit 4ad7d552a1057da1ae1f7ce316b6e55411774f18
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 25 15:23:25 2019 +0000

    * increase support for multilib binutils for RISC V by passing the correct ABI to the linker
    
    git-svn-id: trunk@43789 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit 114c27fb4e921df3808ea748e3c6fab528d9b26f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 25 15:23:21 2019 +0000

    * increase support for multilib binutils for RISC V by passing the ABI to the assembler
    
    git-svn-id: trunk@43788 -

M	compiler/riscv/agrvgas.pas

******************************************************************************
commit 1a9e246c29df8ab0b38ecfe715917c361366d8cd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:44 2019 +0000

      * added is_normal_fieldvarsym() helper and use it
       o fixes several places where there was a check whether something is a
         fieldvarsym, but not whether it's an instance rather than a class field
    
    git-svn-id: trunk@43786 -

M	compiler/aasmcnst.pas
M	compiler/arm/cpupara.pas
M	compiler/armgen/armpara.pas
M	compiler/browcol.pas
M	compiler/dbgstabs.pas
M	compiler/htypechk.pas
M	compiler/ncgrtti.pas
M	compiler/powerpc64/symcpu.pas
M	compiler/symtable.pas
M	compiler/symutil.pas
M	compiler/x86/rax86int.pas
M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 6d51c69dbe8e5a256704400b57764aeff2200248
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:40 2019 +0000

      * fixed writing of calling convention for function declarations/definitions
        in LLVM
    
    git-svn-id: trunk@43785 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit b89487e7217f9e9c534ae10e24e80d86705f0a77
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:37 2019 +0000

      * fix paraloc def for vectors with vectorcall calling convention (was a single
        element instead of a vector)
    
    git-svn-id: trunk@43784 -

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 96dfe3d03a8ce36de71970fe02610be8eb384389
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:34 2019 +0000

      * LLVM support for writing vector types
    
    git-svn-id: trunk@43783 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit f5833dc0482b39432519552050f9d9af6594b02a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:31 2019 +0000

      * support for marking arraydefs as vectors
    
    git-svn-id: trunk@43782 -

M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 1e3f72403eddd7eebe95ad4ee956c4d3863df9ce
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 24 22:12:25 2019 +0000

      * renamed getintparaloc to getcgtempparaloc
        o it can be used for more than integer parameters
    
    git-svn-id: trunk@43781 -

M	compiler/aarch64/cgcpu.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpupara.pas
M	compiler/avr/cgcpu.pas
M	compiler/cgexcept.pas
M	compiler/hlcgobj.pas
M	compiler/i8086/cpupara.pas
M	compiler/i8086/n8086ld.pas
M	compiler/i8086/n8086mem.pas
M	compiler/jvm/cpupara.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmpara.pas
M	compiler/llvm/llvmpi.pas
M	compiler/llvm/tgllvm.pas
M	compiler/m68k/cgcpu.pas
M	compiler/mips/cgcpu.pas
M	compiler/ncgcal.pas
M	compiler/ncgflw.pas
M	compiler/ncgld.pas
M	compiler/ncgmat.pas
M	compiler/ncgmem.pas
M	compiler/paramgr.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc64/cpupara.pas
M	compiler/ppcgen/cgppc.pas
M	compiler/psabiehpi.pas
M	compiler/riscv32/cgcpu.pas
M	compiler/riscv32/cpupara.pas
M	compiler/riscv64/cgcpu.pas
M	compiler/riscv64/cpupara.pas
M	compiler/sparcgen/cgsparc.pas
M	compiler/x86/nx86ld.pas
M	compiler/x86_64/cgcpu.pas

******************************************************************************
commit a20209e691bfe1196e52d533feef12c74cb0fdb1
Author: florian <florian@freepascal.org>
Date:   Tue Dec 24 16:14:30 2019 +0000

      + tf_init_final_units_by_calls
      * arm-embedded generates direct calls for unit init/final now as well
    
    git-svn-id: trunk@43771 -

M	compiler/arm/narmutil.pas
M	compiler/hlcgobj.pas
M	compiler/options.pas
M	compiler/systems.pas
M	compiler/systems/i_embed.pas
M	rtl/inc/system.inc

******************************************************************************
commit e332c17bbd89f3a6223798afee6c837a370dc9bf
Author: florian <florian@freepascal.org>
Date:   Tue Dec 24 16:14:30 2019 +0000

      * some inconsistency regarding FPC_NONE usage fixed
    
    git-svn-id: trunk@43770 -

M	rtl/arm/thumb.inc
M	rtl/inc/systemh.inc

******************************************************************************
commit ef878794025437980c7094b25a71e898bd36dca8
Author: florian <florian@freepascal.org>
Date:   Tue Dec 24 16:14:28 2019 +0000

      * common naming for fpu_none string
    
    git-svn-id: trunk@43768 -

M	compiler/arm/cpuinfo.pas
M	compiler/i386/cpuinfo.pas
M	compiler/i8086/cpuinfo.pas
M	compiler/mips/cpuinfo.pas
M	compiler/powerpc64/cpuinfo.pas
M	compiler/riscv64/cpuinfo.pas
M	compiler/sparc/cpuinfo.pas
M	compiler/sparc64/cpuinfo.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit cbec738829ee9bcb2e7bdb879d439121a06c1e41
Author: florian <florian@freepascal.org>
Date:   Mon Dec 23 23:07:26 2019 +0000

      * last commit was not complete/earlier version committed
    
    git-svn-id: trunk@43767 -

M	compiler/nset.pas

******************************************************************************
commit abb79553d293bbf36d93cb3f3349860deaae0560
Author: florian <florian@freepascal.org>
Date:   Mon Dec 23 22:42:53 2019 +0000

      * optimize case statements with a single branch into if statements (ord const only)
    
    git-svn-id: trunk@43766 -

M	compiler/nset.pas

******************************************************************************
commit cb44d7d4e2e6a9445e466f1df2ea659da12e727f
Author: florian <florian@freepascal.org>
Date:   Mon Dec 23 21:52:06 2019 +0000

      * some cleanup
    
    git-svn-id: trunk@43765 -

M	compiler/ccharset.pas
M	compiler/widestr.pas

******************************************************************************
commit 4de6b3e6b9aa3af34516ac8ece2fd8187bd17955
Author: florian <florian@freepascal.org>
Date:   Mon Dec 23 21:44:50 2019 +0000

      * do not crash when an unsupported code page is encountered, resolves #35581
    
    git-svn-id: trunk@43764 -

M	.gitattributes
M	compiler/ncon.pas
A	tests/webtbf/tw35581.pp

******************************************************************************
commit 8b24033e93b3cc381cd27a137149ca5cd870ebba
Author: florian <florian@freepascal.org>
Date:   Sun Dec 22 23:39:44 2019 +0000

      * last fix was most likely not complete
    
    git-svn-id: trunk@43712 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 0dabe496019e970e657cc95f3c34d45ddc3fe4ef
Author: florian <florian@freepascal.org>
Date:   Sun Dec 22 23:34:22 2019 +0000

      * fix building on non-unix/windows targets
    
    git-svn-id: trunk@43711 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 99680eb88c425cd71edf808d6084fa51a636696c
Author: florian <florian@freepascal.org>
Date:   Sun Dec 22 22:51:53 2019 +0000

      * patch by Anton Kavalenka: heaptrc: Improve tracing by printing actual
        module name (ether EXE or DLL), resolves #36130
    
    git-svn-id: trunk@43710 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 2f374a37b7ad878b277916d0fe7c4d410328e207
Author: florian <florian@freepascal.org>
Date:   Sun Dec 22 22:06:26 2019 +0000

      * patch by Bart Broersma to allow to declare "LongInt = AnsiString" comparison
        operator in non-macpas modes, resolves #29460
    
    git-svn-id: trunk@43709 -

M	.gitattributes
M	compiler/htypechk.pas
A	tests/webtbs/tw29460.pp

******************************************************************************
commit b8b5d8410868bae9efc28c1692b0bf18757ea049
Author: florian <florian@freepascal.org>
Date:   Sun Dec 22 20:41:48 2019 +0000

      * missing +')' added
    
    git-svn-id: trunk@43707 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 8465710329a692ef64b2d88295b9d532c0dd577a
Author: florian <florian@freepascal.org>
Date:   Sat Dec 21 16:20:10 2019 +0000

    + make use of mulx instruction, if available
    
    git-svn-id: trunk@43706 -

M	compiler/i386/n386add.pas

******************************************************************************
commit 30927039a6f2cf056aa57b69534cd90a70576581
Author: florian <florian@freepascal.org>
Date:   Sat Dec 21 16:20:09 2019 +0000

    + MULX instruction
    * change information for RORX corrected
    
    git-svn-id: trunk@43705 -

M	compiler/i386/i386prop.inc
M	compiler/i8086/i8086prop.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664pro.inc

******************************************************************************
commit 0149d26adb6aa25b60d995fc88b8dccfc0f29880
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Dec 20 16:44:54 2019 +0000

    * in PeepHoleOptPass1Cpu when an instruction contains a segment, don't replace the current instruction with the next, cause then we get an infinite loop when compiling on Win32 with -dTEST_WIN32_SEH -O4
    
    git-svn-id: trunk@43704 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 1779011ab4dfc7e883f49a837d311bdb59fc789e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Dec 20 16:44:52 2019 +0000

    * fix typo in comment
    
    git-svn-id: trunk@43703 -

M	compiler/symtable.pas

******************************************************************************
commit 33fa211b8497b5f8d3b9511e4c29ef8d888873e5
Author: florian <florian@freepascal.org>
Date:   Tue Dec 17 21:54:47 2019 +0000

      + x86-64: assembler implementation for u128_div_u64_to_u64 for SysV ABI
      * reminder => remainder (thanks to Stefan Kanthak for pointing it out)
    
    git-svn-id: trunk@43695 -

M	rtl/inc/flt_core.inc
M	rtl/x86_64/x86_64.inc

******************************************************************************
commit 5f2410b87106781c786808f3ed3e3b38b574fe13
Author: florian <florian@freepascal.org>
Date:   Mon Dec 16 21:15:57 2019 +0000

      * patch by J. Gareth Moreton to fix an ie 2018061400 on darwin
    
    git-svn-id: trunk@43694 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 0f57151d36944e190dae33e2299cd838e048ed9b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 14 17:15:27 2019 +0000

      + recognise LLVM 9.0 (no changes needed compared to LLVM 8.0)
    
    git-svn-id: trunk@43686 -

M	compiler/llvm/llvminfo.pas

******************************************************************************
commit 707f7225314f14f046fc0036b8580d7a2e44133d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Dec 14 16:45:42 2019 +0000

    * regenerate msg*.inc files after adding a new error message related to C blocks
    
    git-svn-id: trunk@43685 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit c477816100404a063cfd386cb9ba4feb1e33585a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 14 14:59:05 2019 +0000

      - removed LLVM support for clang < 7.0 and Xcode < 10.0: those versions
        contain various bugs and can't even complete "make all", so there is no
        point in keeping them
       o changed default LLVM target version to 7.0
    
    git-svn-id: trunk@43682 -

M	compiler/globals.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/llvminfo.pas

******************************************************************************
commit a352a12bb42e507cac1645106bce2daa671335ec
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 14 14:11:12 2019 +0000

      * use value_real rather than value_curency when writing currency
        realconstnodes (fixes tcurrency1, tw33439 and tw36179 with LLVM)
       o we need to load the fpu representation of the currency values,
         not the scaled currency value
    
    git-svn-id: trunk@43681 -

M	compiler/llvm/nllvmcon.pas

******************************************************************************
commit 22ce9006ab7f5913237f44a5e4b6e088d7211957
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 11 22:43:03 2019 +0000

    * fix number of last parser_* message entry
    
    git-svn-id: trunk@43677 -

M	compiler/msg/errore.msg

******************************************************************************
commit 36e32ee607b644e0f2f4d963b0916b75e501e606
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 11 22:43:00 2019 +0000

    * more correct method names (based on patch by Blaise.ru)
    
    git-svn-id: trunk@43676 -

M	compiler/nobj.pas

******************************************************************************
commit 46a366d6ae0dc38d606a849e2b34ba3462d28feb
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 11 22:42:56 2019 +0000

    * clear up file comment (based on patch by Blaise.ru)
    
    git-svn-id: trunk@43675 -

M	compiler/nobj.pas

******************************************************************************
commit bf5d75e5944cba197baf85a76cee434f3cd33b20
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 11 22:42:53 2019 +0000

    * move the common sequence to build a VMT for an objectdef into a separate procedure (based on a patch by Blaise.ru)
    
    git-svn-id: trunk@43674 -

M	compiler/jvm/pjvm.pas
M	compiler/nobj.pas
M	compiler/pdecl.pas
M	compiler/pgenutil.pas

******************************************************************************
commit a6354741e6e9d4338ed9b51afce5b14842df51df
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Dec 11 22:42:48 2019 +0000

    * TVMTBuilder.build_interface_mappings does not need to be public (based on patch by Blaise.ru)
    
    git-svn-id: trunk@43673 -

M	compiler/nobj.pas

******************************************************************************
commit 8c2aa326833e7f287a2059547cfd7fa5af59c130
Author: pierre <pierre@freepascal.org>
Date:   Wed Dec 11 17:14:27 2019 +0000

      * Remove duplicate ibextraheader handling.
      * Move SymAnsiStr boolean setting inside parseextraheader function.
      * Only accept same CurrentPPULongVersion in parseextraheader function.
    
    git-svn-id: trunk@43672 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit f62fd437b1c432d46c0db85c1162f623ace1444b
Author: florian <florian@freepascal.org>
Date:   Tue Dec 10 21:31:42 2019 +0000

      * patch by J. Gareth Moreton: improve test and benchmark, resolves #35633
    
    git-svn-id: trunk@43671 -

M	.gitattributes
M	tests/bench/bcase.pp
M	tests/test/tcase49.pp

******************************************************************************
commit ef7e4f6f62fdf6ab920f3185dcc3006791a249e0
Author: florian <florian@freepascal.org>
Date:   Mon Dec 9 22:00:45 2019 +0000

      * fix J. Gareth Moreton to resolve #36389
    
    git-svn-id: trunk@43670 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw36389.pp

******************************************************************************
commit 599e2df71f6368e913e29822de9f7547ed5b103c
Author: florian <florian@freepascal.org>
Date:   Mon Dec 9 20:58:31 2019 +0000

      o patch by J. Gareth Moreton, resolves r36371:
        * This patch makes some minor improvements to the cross-platform code that deals with jump optimisations.
          More specifically, it attempts to do more in a single pass which has the nice side-effect of
          fixing a couple of minor mistakes (in some situations, it would erroneously remove an alignment entry).
          - Most improvements are with dealing with Jcc/JMP pairs and their equivalents on other platforms, by
          collapsing label clusters and stripping dead code as soon as it has enough information to do so, and being
          more intelligent before calling Continue to see if another optimisation can be performed in the same sitting.
    
          - RemoveDeadCodeAfterJump is now a function that returns True if a jump was found among the dead code,
          thus allowing the ability to flag the peephole optimizer for another iteration of Pass 1 - the
          destination label may have appeared earlier in the code and become dead as a result of the removal
          of the jump, thus opening up new optimisations with instructions that sat either side of the label.
    
          - Preliminary tests show that it does sometimes reduce the number of passes required to optimise a subroutine
          under -O3.
    
    git-svn-id: trunk@43668 -

M	compiler/aoptobj.pas

******************************************************************************
commit 2a315df80c0dcea764dd602e5152812b1cc56e12
Author: florian <florian@freepascal.org>
Date:   Sun Dec 8 22:22:17 2019 +0000

      * check in CheckLive* if a register allocator is initialized for a certain register type
    
    git-svn-id: trunk@43665 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit ac6e4f59c65e551801d0a6acf0f5d86fcbfd370b
Author: florian <florian@freepascal.org>
Date:   Thu Dec 5 20:46:50 2019 +0000

      * better error recovery, resolves #36397
    
    git-svn-id: trunk@43653 -

M	.gitattributes
M	compiler/pexpr.pas
A	tests/webtbf/tw36397.pp

******************************************************************************
commit f2818bfe7afa76d1a3a7e006e2065c51d1330788
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Dec 2 22:29:29 2019 +0000

    * apply patch by Blaise.ru to remove last remnants of VMT regeneration which is no longer needed/used
    
    git-svn-id: trunk@43628 -

M	compiler/nobj.pas
M	compiler/symdef.pas

******************************************************************************
commit 3ced30f8168409baba430b02bd843f31de329c78
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Dec 2 06:59:05 2019 +0000

    * apply (adjusted) patch by Blaise.ru: vmtentries is always created since 2008, so treat it as such (also fixes a memory leak in tobjectdef.getcopy)
    
    git-svn-id: trunk@43626 -

M	compiler/ncgvmt.pas
M	compiler/nobj.pas
M	compiler/symdef.pas

******************************************************************************
commit ea7525392644e484d6fa0c6315f0a28c2c496408
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Dec 2 06:58:59 2019 +0000

    * initialize the defid in trecorddef.create_global_internal as unique_id_str needs it
    
    git-svn-id: trunk@43625 -

M	compiler/symdef.pas

******************************************************************************
commit 80a4a01f12de35c02a443d59af55d7ab75da6e88
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Dec 2 06:58:47 2019 +0000

    + add a method to tdef to initialize the defid from within a constructor
    
    git-svn-id: trunk@43624 -

M	compiler/symtype.pas

******************************************************************************
commit b8a78b135c3dacbaaafc1475c1dc9ac75fe5f155
Author: florian <florian@freepascal.org>
Date:   Sun Dec 1 22:15:48 2019 +0000

      * simplified and improved TX86AsmOptimizer.RegModifiedByInstruction
    
    git-svn-id: trunk@43623 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit f2a8b8ad6a7943aff36bf84bd3cdc8c75f086027
Author: florian <florian@freepascal.org>
Date:   Sat Nov 30 20:37:55 2019 +0000

      * adapt register if the size of the paraloc and the register differ, resolves #34409
    
    git-svn-id: trunk@43617 -

M	.gitattributes
M	compiler/ncgbas.pas
A	tests/webtbs/tw34409.pp

******************************************************************************
commit 06c1a17d1312c1ed5d2daa3fa1bfca294c6b959d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Nov 30 17:40:27 2019 +0000

    * use tdef.unique_id_str to generate the unique internal name for anonymous record defs as using the count of the deflist is no longer correct
    
    git-svn-id: trunk@43616 -

M	compiler/symdef.pas

******************************************************************************
commit 4e4f55ac0e34fc39db0c76306aa4a1f8b0029c0e
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 29 23:28:05 2019 +0000

     Comparison nodes are always in LOC_REGISTER, never in LOC_JUMP for riscv32 or riscv64 CPUs
    
    git-svn-id: trunk@43614 -

M	compiler/riscv/nrvadd.pas

******************************************************************************
commit 92b0ea7d02b6573a4641d1431e08675fbe0b3eeb
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 29 23:26:45 2019 +0000

     Add  explicit smallint typecast to first marameter of SarSmallint call to avoid range check errors
    
    git-svn-id: trunk@43613 -

M	compiler/riscv/cgrv.pas
M	compiler/riscv/rgcpu.pas
M	compiler/riscv64/cgcpu.pas

******************************************************************************
commit d8f1aacd785f7d10f6aa9d86e861c3ea5d71c668
Author: florian <florian@freepascal.org>
Date:   Fri Nov 29 22:13:17 2019 +0000

      * better error recovery, resolves #36377
    
    git-svn-id: trunk@43612 -

M	.gitattributes
M	compiler/ptype.pas
A	tests/webtbf/tw36377.pp

******************************************************************************
commit 4525edd9f7949c1a8b72662e9a8c77b46f917171
Author: florian <florian@freepascal.org>
Date:   Fri Nov 29 21:57:53 2019 +0000

      * patch by J. Gareth Moreton:  x86 implementation of RegModifiedByInstruction, resolves #36376
    
    git-svn-id: trunk@43611 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3889529e4508035a61e270ba60ebf4b5ade11d02
Author: florian <florian@freepascal.org>
Date:   Fri Nov 29 21:06:12 2019 +0000

      * unified internalerror, resolves #36378
    
    git-svn-id: trunk@43610 -

M	compiler/hlcgobj.pas

******************************************************************************
commit fb33da5f412e0bfc3f36d73cc2ba0d1dc0b24000
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 29 10:31:31 2019 +0000

     Change parameter type to tcgint for is_imm12 and is_lui_imm functions to avoid range check errors
    
    git-svn-id: trunk@43609 -

M	compiler/riscv32/cpubase.pas
M	compiler/riscv64/cpubase.pas

******************************************************************************
commit 7405ae275803c25325ad0581ab3b3275c43a1010
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 28 22:34:04 2019 +0000

     Fix trv32notnode, by using same code as for riscv64 CPU
    
    git-svn-id: trunk@43607 -

M	compiler/riscv32/nrv32mat.pas

******************************************************************************
commit a9bb9f7310e0db16b56d31c1770b901bac8dd813
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 27 22:56:35 2019 +0000

     Add '.module nomips16' at assembly entry for mips/mipsel unless -a5 option is used
    
    git-svn-id: trunk@43600 -

M	compiler/mips/cpugas.pas

******************************************************************************
commit ba73f7376f07cc32f8ab20187909bde68e348fd0
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 27 22:54:47 2019 +0000

     Also accept -a5 for older binutils for mips and mpisel cpus
    
    git-svn-id: trunk@43599 -

M	compiler/options.pas

******************************************************************************
commit 7000d82dcdcb5e061628c521d4139a8bf43ec8e8
Author: florian <florian@freepascal.org>
Date:   Tue Nov 26 22:09:34 2019 +0000

      * do not convert cmp 0,... into test ...,... before the post pass of the peephole optimizer
        as this conversion might result in missing further optimizer opportunities
    
    git-svn-id: trunk@43596 -

M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas

******************************************************************************
commit 7e6eeebdf01d8b666c5005383b5e087647953216
Author: florian <florian@freepascal.org>
Date:   Tue Nov 26 22:09:33 2019 +0000

      o patch by J. Gareth Moreton, seeks to improve maintainability, safety and efficiency
        in the peephole optimizer by slightly modifying some function headers based
        on their intended purpose, resolves #36353
        * Non-virtual methods and class methods that don't need to access any fields from
          the current object are now static methods, thus removing the hidden "Self"
          parameter and reducing overhead. This includes a large number of
          frequently-used functions such as SkipEntryExitMarker and SuperRegistersEqual.
        * GetNextInstruction, GetLastInstruction, SkipEntryExitMarker and
          SkipLabels have had their 'var' parameter changed to an 'out' parameter because
          they shouldn't depend on its input value. This will cause the compiler to throw warnings
          if you start using the value without initialising it first, and may open up optimisation
          opportunities in the future (e.g. storing written values in a temporary register
          and only writing it to the actual variable when the routine exits).
    
    git-svn-id: trunk@43595 -

M	compiler/aoptbase.pas
M	compiler/aoptobj.pas
M	compiler/aoptutils.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit cf0716123c0f1feb9e5fc84e9831a8d6ea22fe9d
Author: florian <florian@freepascal.org>
Date:   Tue Nov 26 19:39:04 2019 +0000

      * avoid overflow error
    
    git-svn-id: trunk@43593 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit af107ca8fee33355e8c35fab6fc5ba5290bd3ebc
Author: florian <florian@freepascal.org>
Date:   Mon Nov 25 21:15:41 2019 +0000

      o patch by J. Gareth Moreton, resolves #36355
        + This patch serves to extend the JMP -> RET optimisation in OptPass2JMP by also doing the same
          for JMP -> MOV/RET, since there are often cases where the result (e.g. EAX) is set just
          prior to the function exiting.
        * RemoveDeadCodeAfterJump will now drop out if it detects SEH information -
          this stops exception information from being stripped if it is called on the final RET instruction.
    
    git-svn-id: trunk@43592 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit fb4b1cbf35264749d6c4dab1e3050d6cb9237620
Author: florian <florian@freepascal.org>
Date:   Mon Nov 25 20:58:20 2019 +0000

      * warn only in delphi mode if an explicit enumeration value exceeds the range, relaxes r43191
    
    git-svn-id: trunk@43590 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ptype.pas
M	tests/webtbf/tw34633.pp
A	tests/webtbs/tw34633a.pp

******************************************************************************
commit 97eefb6ac3dfc18b920dd73366ace4334670fa0b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Nov 25 20:28:29 2019 +0000

    - the error recovery handling is no longer required
    
    git-svn-id: trunk@43588 -

M	compiler/pgenutil.pas

******************************************************************************
commit 5b71ba2a9bc65a6acd50edbecaff5a1caaa5e24f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Nov 25 20:28:26 2019 +0000

    * treat a missing genericdef with no symname set as an internal error
    
    git-svn-id: trunk@43587 -

M	compiler/pgenutil.pas

******************************************************************************
commit 0802edb7101071b56a56ea62bf6acd2e0425ffc1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Nov 25 07:55:57 2019 +0000

      * fix Linux/i386 and Win32 after r43578
    
    git-svn-id: trunk@43583 -

M	compiler/i386/n386flw.pas
M	compiler/ncgutil.pas

******************************************************************************
commit ec227bb75942e940502ac23d58370fdb6a7f640a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Nov 24 21:26:22 2019 +0000

      * fixed safecall for non-LLVM after r43578
    
    git-svn-id: trunk@43580 -

M	compiler/hlcgobj.pas

******************************************************************************
commit c6116258fdfa92ba483a20da200c968f7611888b
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 20:26:02 2019 +0000

      o patch by J. Gareth Moreton:
        * adds an extra optimisation to "PostPeepholeOptMov" in compiler/x86/aoptx86.pas:
          If the instruction "MOV REG, -1" (Intel notation) is found, where REG is either
          a 32- or 64-bit register, it is changed to "OR REG, -1" instead.
          The effect is the same and takes exactly the same speed to execute, but the encoding is much smaller.
          As it cause false data dependencies, it is only applied in -Os mode
    
          For 16-bit registers, only AX is optimised this way because it has its own encoding for OR that takes fewer bytes.
    
    git-svn-id: trunk@43579 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit e775ecdc439186d8d2491925c11835b8fe2f082f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Nov 24 20:23:22 2019 +0000

      * cleaned up safecall support: use a hidden localvarsym instead of result
        register hacking
       o this also allowed fixing/adding safecall support for LLVM
    
    git-svn-id: trunk@43578 -

M	compiler/hlcgobj.pas
M	compiler/i386/n386flw.pas
M	compiler/jvm/symcpu.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/ncgcal.pas
M	compiler/ncgflw.pas
M	compiler/ncgutil.pas
M	compiler/nflw.pas
M	compiler/ngenutil.pas
M	compiler/paramgr.pas
M	compiler/pparautl.pas
M	compiler/symdef.pas

******************************************************************************
commit acdff47554beb7135ab55f2de0957024970760fc
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 20:21:33 2019 +0000

      + optimize integer expressions like 2*x*4; which were not found by the node simplifier yet
    
    git-svn-id: trunk@43577 -

M	compiler/nadd.pas

******************************************************************************
commit 94b728005d2dc935ffa03fea63af09f10c5d57bb
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 19:51:04 2019 +0000

      * more RemoveCurrentP usage
    
    git-svn-id: trunk@43576 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9e307f5c3a408a44d0caefc8feeb86c1b23c003f
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 19:50:27 2019 +0000

      - removed code not used for years
    
    git-svn-id: trunk@43575 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit d444f750f9d58cd751f5d567e4e14d40f14aea10
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 16:33:50 2019 +0000

      * factored out TX86AsmOptimizer.OptPass1Cmp
      * fixed it
      * activated it for x86-64
    
    git-svn-id: trunk@43574 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit dea1855126c0c5ba379d386253cc03808735bd30
Author: florian <florian@freepascal.org>
Date:   Sun Nov 24 16:12:02 2019 +0000

      o patch by J. Gareth Moreton, resolves #36352:
        * The supplied patch cleans up some vestigial code from the i386 peephole
          optimizer that has since been superseded by the jump optimisations over
          at #36271.
        * The PrePeepholeOptsCPU method has had a minor restructuring to better
          handle the rare case where InsContainsSegRef() returns True and
          p becomes something that is no longer an instruction (it ultimately
          removes a conditonal check and some overhead from repeated function calls).
    
    git-svn-id: trunk@43573 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 39f4b97ea54f64ee9b91db074e4242b1b155f2d8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Nov 24 00:04:35 2019 +0000

    + add test for a problem reported by Michael van Canneyt which is fixed by the previous revision
    
    git-svn-id: trunk@43569 -

M	.gitattributes
A	tests/tbs/tb0664.pp

******************************************************************************
commit c882828fd06dccda4ad6914fa4b71c5f3708f5fb
Author: pierre <pierre@freepascal.org>
Date:   Sat Nov 23 22:44:30 2019 +0000

     Minimalist change to avoid Invalid Typecast error on class when compiled with '-CriotR -O2' for i386-go32v2 target
    
    git-svn-id: trunk@43565 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 8ea92a8280cb2ce9e847a618edfc2c65cd1ed6b8
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 22 21:29:19 2019 +0000

     Use correct macro to for 64-bit riscv CPU
    
    git-svn-id: trunk@43561 -

M	compiler/riscv/nrvadd.pas

******************************************************************************
commit 0f462077769536525b247465937637a22857f1b6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Nov 22 21:11:56 2019 +0000

      * fixed (harmless) range error when expanding ~
    
    git-svn-id: trunk@43559 -

M	rtl/inc/fexpand.inc

******************************************************************************
commit 17c422c3f24137f2db2d1ffeb80664c85aa70602
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 22 09:10:32 2019 +0000

         Patch by Gareth Moreton.
       * TAOptObj.CollapseZeroDistJump: Change hp1 to local variable,
         initialized as p.next, to avoid problems of dangling pointers
         revealed by use of "-CriotR -O2" compilation arguments.
    
    git-svn-id: trunk@43554 -

M	compiler/aoptobj.pas

******************************************************************************
commit 3e9bfedbc44836e69263eee77dc88c9b888f75f6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:21 2019 +0000

    * ensure that the required functions are referenced for Win32 SEH for packages as well
    
    git-svn-id: trunk@43552 -

M	compiler/i386/n386flw.pas

******************************************************************************
commit 40c11baaaca151271e95ba91ea6973de369f5bb0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:18 2019 +0000

    * use a different name for the packages' entry point and use _DLLMainCRTStartup as an alias to avoid problems with the C-prefix
    
    git-svn-id: trunk@43551 -

M	compiler/pmodules.pas

******************************************************************************
commit bb3b1b06a735f552b0861973710a6dfcad99ed98
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:15 2019 +0000

    * fix condition for including a unit's object files or not when compiling with packages
    
    git-svn-id: trunk@43550 -

M	compiler/pmodules.pas

******************************************************************************
commit 2a1d26cc905b54f2880fb3f2c51c32a300f32bbe
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:11 2019 +0000

    * use translateable error messages for undefined symbols and also report in which object file the symbol was first found
    
    git-svn-id: trunk@43549 -

M	compiler/ogbase.pas

******************************************************************************
commit 1e66b2464a29125b2ff9570e4af8f453574cb409
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:08 2019 +0000

    * regenerate msg*.inc files after adding new error messages for undefined symbols
    
    git-svn-id: trunk@43548 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit f28ac2bfc6424e5eeb9c3acfbf5df4fcd8a6e6b0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:04 2019 +0000

    + add error messages for undefined symbols (both with a known object file and without)
    
    git-svn-id: trunk@43547 -

M	compiler/msg/errore.msg

******************************************************************************
commit cd7e3f354b0c0658929aa8ad3648df80a0b9a0f0
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:45:01 2019 +0000

    + add a description for the link_e_comdat_selection_differs message
    
    git-svn-id: trunk@43546 -

M	compiler/msg/errore.msg

******************************************************************************
commit 4b3ce0c02359b0596f8099beecb18b6804a7bc3c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:57 2019 +0000

    * the symbol of the interface wrapper function needs to be considered as referenced as well
    
    git-svn-id: trunk@43545 -

M	compiler/nobj.pas

******************************************************************************
commit 0a915e883ef0479aaca0db5ae9b68c2f17ecff34
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:53 2019 +0000

    * keep track of static symbols that a global function references, as those must now be exported from a dynamic package as well if the function can potentially be inlined
    
    git-svn-id: trunk@43544 -

M	compiler/htypechk.pas
M	compiler/ncal.pas
M	compiler/ncnv.pas
M	compiler/nflw.pas
M	compiler/pkgutil.pas
M	compiler/procinfo.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/symtable.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 2e259ee3cc5d72202d207b5d6775974f791bc4d8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:48 2019 +0000

    * the VMT of the exception class needs to be referenced indirectly
    
    git-svn-id: trunk@43543 -

M	compiler/i386/n386flw.pas
M	compiler/x86_64/nx64flw.pas
M	rtl/win/syswin.inc

******************************************************************************
commit a041f899d358832ce9e08d2111c4f26143ae8cb8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:43 2019 +0000

    * when creating the static field of a generic, insert it into the generic instead of the global symtable as it isn't really used anyway
    
    git-svn-id: trunk@43542 -

M	compiler/symcreat.pas

******************************************************************************
commit 06fc84037ce1b08f1e26f4e571fe6f8270f1f4f1
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:40 2019 +0000

    * ensure that generic symbols are not tried to be exported
    
    git-svn-id: trunk@43541 -

M	compiler/pkgutil.pas

******************************************************************************
commit da1312698b9f05bf26fdc7ab73aed647849b06a8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:36 2019 +0000

    * correctly check for the system unit
    
    git-svn-id: trunk@43540 -

M	compiler/ncgld.pas

******************************************************************************
commit 6151f7af29ffb7a09cca8e6d49d0fce3eb564c46
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:33 2019 +0000

    * check the localswitches of the node instead of the global ones
    
    git-svn-id: trunk@43539 -

M	compiler/ncgld.pas

******************************************************************************
commit 6f584333e57f4eeda948203e5e2cace032ede931
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:29 2019 +0000

    * symbols called by g_call might need to be imported from dynamic packages as well
    
    git-svn-id: trunk@43538 -

M	compiler/cgobj.pas

******************************************************************************
commit 85637ad5fad7b0df35d26453779b00726966b164
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:26 2019 +0000

    * register constant symbols
    
    git-svn-id: trunk@43537 -

M	compiler/pdecl.pas

******************************************************************************
commit f4d96906c2363c66ff50f2b9e526d64c37ccd819
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:22 2019 +0000

    * reference FPC_ABSMASK_SINGLE/-DOUBLE using the indirect symbol if required for dynamic packages
    
    git-svn-id: trunk@43536 -

M	compiler/x86/nx86inl.pas

******************************************************************************
commit f13200d68b54786abd242bb1b0de2f1851386add
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:19 2019 +0000

    * restore localswitch settings after the initialization and finalization code was generated
    
    git-svn-id: trunk@43535 -

M	compiler/psub.pas

******************************************************************************
commit 276f5bdef86a1a6edb28d0fdd58685365eb357f4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:16 2019 +0000

    * ensure that nothing assembly related is generated for generics when a typed constant (this also includes local variable initializations) are parsed
    
    git-svn-id: trunk@43534 -

M	compiler/ptconst.pas

******************************************************************************
commit 04984e9af9c5105b0ebffa308b2b8f97d72872a8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Nov 21 21:44:12 2019 +0000

    * also generate indirect symbols for AB_PRIVATE_EXTERN symbols as these might be used from a unit in another package due to inlining
    
    git-svn-id: trunk@43533 -

M	compiler/aasmdef.pas

******************************************************************************
commit f5caa9940ba8869791a45ac22bbcaa461282b9b6
Author: florian <florian@freepascal.org>
Date:   Thu Nov 21 20:19:49 2019 +0000

      * make use of RemoveCurrentP
    
    git-svn-id: trunk@43532 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 61bf55e0fe5ca647824e11ad1254691af65c52f6
Author: florian <florian@freepascal.org>
Date:   Thu Nov 21 19:58:48 2019 +0000

      * define renamed
    
    git-svn-id: trunk@43531 -

M	compiler/aoptobj.pas

******************************************************************************
commit bfb4b885cadeb195c7c404c95cd6720b14e9455a
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 21 10:52:27 2019 +0000

     Add riscv32 mathu inculde file, redirecting to ../riscv64/mathu.inc file (this file seems to have no 64-bit specific code)
    
    git-svn-id: trunk@43530 -

M	.gitattributes
A	rtl/riscv32/mathu.inc

******************************************************************************
commit ff415ba39c27148c52edca43e145b46d4cd4ebfa
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 21 10:00:20 2019 +0000

     Fixes by Gareth Moreton for problems exposed by use of -CriotR option
    
    git-svn-id: trunk@43529 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9bd19b050b3b5edce7d6d1cb98c6ec87528e3620
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 23:04:33 2019 +0000

     Also use syscall_nr_fstatat for FpStat function for riscv32 cpu
    
    git-svn-id: trunk@43528 -

M	rtl/linux/ossysc.inc

******************************************************************************
commit b990c59693cc47cd9a306f528b2fe2b78d8ad41b
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:57:49 2019 +0000

       + riscv32 cpu: Use SYSINIT_UNITS instead of LOADERS
       * mips/mipsel cpus: pass -xgot on to AS call for LOADERS,
         if OPT contains -ao-xgot.
    
    git-svn-id: trunk@43527 -

M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc

******************************************************************************
commit 0e0407ad5793e54afd1046b9933ce1299f17027a
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:51:03 2019 +0000

     Add si_XXX.inc files, pointing to riscv64 counterparts
    
    git-svn-id: trunk@43526 -

M	.gitattributes
A	rtl/linux/riscv32/si_c.inc
A	rtl/linux/riscv32/si_dll.inc
A	rtl/linux/riscv32/si_prc.inc

******************************************************************************
commit 23111a71ea4316d6b32fe0fc8b0fca1c5960fa97
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:48:47 2019 +0000

    Add missing and needed syscall_nr_XXX
    
    git-svn-id: trunk@43525 -

M	rtl/linux/riscv32/sysnr.inc

******************************************************************************
commit e8b9d8442e43d3e84d2b9b35cb739ac765e48f7e
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:48:06 2019 +0000

     Replace obsolete scall by ecall instruction
    
    git-svn-id: trunk@43524 -

M	rtl/linux/riscv32/syscall.inc

******************************************************************************
commit 247f80abfba336b27c28186d9f5fb14abfedfd25
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:46:31 2019 +0000

    prepare source to also support riscv32 code
    
    git-svn-id: trunk@43523 -

M	rtl/linux/riscv64/si_prc.inc

******************************************************************************
commit a61a0cce4c96ba0173533319b973a48ebf0e53e8
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 20 22:44:30 2019 +0000

     Use same entered_paren local variable as 64-bit counterpart and fix register names
    
    git-svn-id: trunk@43522 -

M	compiler/riscv32/rarv32gas.pas

******************************************************************************
commit 6248a127cab04750c174f58514f492b759bc7553
Author: florian <florian@freepascal.org>
Date:   Wed Nov 20 22:12:28 2019 +0000

       * write assembler optimizer messages into output file if DEBUG_AOPTOBJ is set
    
    git-svn-id: trunk@43521 -

M	compiler/aoptobj.pas

******************************************************************************
commit 40c54e9d37736815438e236c15df0c996b3d16c4
Author: florian <florian@freepascal.org>
Date:   Wed Nov 20 22:12:27 2019 +0000

      * do not generate conditional jump with full references
      + more assembler optimizer output
    
    git-svn-id: trunk@43520 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit da54d0e8f7efb83515a85c84b49c9311001f777f
Author: florian <florian@freepascal.org>
Date:   Wed Nov 20 22:12:27 2019 +0000

      + patch by J. Gareth Moreton: new method TAOptObj.CanDoJumpOpts and arm specific implementation
    
    git-svn-id: trunk@43519 -

M	compiler/aoptobj.pas
M	compiler/arm/aoptcpu.pas

******************************************************************************
commit f505822ab5f7702187fcbca8fa5511236fb581e1
Author: florian <florian@freepascal.org>
Date:   Wed Nov 20 22:12:26 2019 +0000

      o patch by J. Gareth Moreton:
        * fix jump optimizer for MIPS(EL).
        + New method called "MakeUnconditional" introduced that can do platform-specific changes
    
    git-svn-id: trunk@43518 -

M	compiler/aoptobj.pas
M	compiler/mips/aoptcpu.pas

******************************************************************************
commit 7eb0be61273e009d716df175d8c321dea5230859
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 19 22:47:39 2019 +0000

     Fix invalid typecast revealed by -CriotR by changing order of terms in boolean expression
    
    git-svn-id: trunk@43515 -

M	compiler/nutils.pas

******************************************************************************
commit 91f3f022fe4d75b8fd44c115e5863039d09829f7
Author: florian <florian@freepascal.org>
Date:   Sun Nov 17 14:48:45 2019 +0000

      * MM registers which might not be changed can be still used in 3 op mathematical operations as source
    
    git-svn-id: trunk@43509 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 3de38c489457a05fcc8a933446cafe5d9bbf01e2
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 17:18:04 2019 +0000

      * naming of tests fixed
    
    git-svn-id: trunk@43502 -

M	.gitattributes
R100	tests/tbs/tb205.pp	tests/tbs/tb0661.pp
R100	tests/tbs/tb610.pp	tests/tbs/tb0662.pp
R100	tests/tbs/tb613.pp	tests/tbs/tb0663.pp

******************************************************************************
commit 60b329659445aebbc9468dd6e28a4e33124afedb
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 17:16:16 2019 +0000

      * relax conditions in tcallnode.optimize_funcret_assignment, resolves #36279
    
    git-svn-id: trunk@43501 -

M	.gitattributes
M	compiler/ncal.pas
A	tests/tbs/tb0660.pp

******************************************************************************
commit 52cc02aa3b9b9b4987a724423789e415c1727fdd
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 17:16:15 2019 +0000

      * values passed to const parameters are not limited to registers and constants
    
    git-svn-id: trunk@43500 -

M	compiler/ncgcal.pas

******************************************************************************
commit 851accbb4b332cc720d4723075d8ba42bfd0d3ad
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 14:07:59 2019 +0000

      * cse adjusted
    
    git-svn-id: trunk@43496 -

M	compiler/nutils.pas
M	compiler/optcse.pas

******************************************************************************
commit 13ab35e3efa733623f0af62b3f21757b4de8e481
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 14:07:32 2019 +0000

      * fix usage of ppumove generated shared libraries
    
    git-svn-id: trunk@43495 -

M	compiler/pmodules.pas

******************************************************************************
commit f5d5e84649a1f85334edbd986351dd8d161dda33
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 14:04:46 2019 +0000

      * more libunits
    
    git-svn-id: trunk@43494 -

M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc

******************************************************************************
commit a969097a8098a6f34d6d0797c9d0de39d9fa2d85
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 14:04:02 2019 +0000

      * optimization Move removed 4 fixed
    
    git-svn-id: trunk@43493 -

M	compiler/mips/aoptcpu.pas

******************************************************************************
commit 18c5881e602212be0532ac220412e01d4228c497
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 11:04:28 2019 +0000

      * update sharedlibs variable
    
    git-svn-id: trunk@43488 -

M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc

******************************************************************************
commit 798a1b62192d72ad565d4cd642df9c4c0d9d1664
Author: florian <florian@freepascal.org>
Date:   Sat Nov 16 11:03:53 2019 +0000

      * -P option for ppumove
    
    git-svn-id: trunk@43487 -

M	compiler/utils/ppumove.pp
M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit d4f0658c0273c43dc0e36ad62c9aa6935096808b
Author: florian <florian@freepascal.org>
Date:   Fri Nov 15 20:50:17 2019 +0000

      * disable condition jump optimization on MIPS for now for the time being
    
    git-svn-id: trunk@43486 -

M	compiler/aoptobj.pas

******************************************************************************
commit a09e40945caeeb55c4ec2b0e68efe2a4bcbefc03
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 15 14:47:02 2019 +0000

    Regenerate all Makefile's after commit #43472
    
    git-svn-id: trunk@43478 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/graphics/grit/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/vcl-compat/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 11b1d1e6ddbdd9d04559e1b10798923715407fee
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 15 14:30:49 2019 +0000

    Updated after commit 43472
    
    git-svn-id: trunk@43476 -

M	utils/fpcm/revision.inc

******************************************************************************
commit fbaf67e3f07bf64a25650d55db5c673e1ccdee33
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 15 14:29:26 2019 +0000

    Regenerated after commit 43472
    
    git-svn-id: trunk@43475 -

M	utils/fpcm/fpcmake.inc

******************************************************************************
commit 3238a07a5495f45960548ba0c31c62af1264226a
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 15 14:07:15 2019 +0000

    Use delayed rules variables containing lists of files when the list can be modified by other Makefile targets generated in between
    
    git-svn-id: trunk@43472 -

M	utils/fpcm/fpcmake.ini

******************************************************************************
commit bf24882c33b971c1bb31effdfc865ec6d67eb692
Author: florian <florian@freepascal.org>
Date:   Thu Nov 14 21:38:21 2019 +0000

      * patch by J. Gareth Moreton: fix building for armv6m after r43441
    
    git-svn-id: trunk@43466 -

M	compiler/aoptobj.pas

******************************************************************************
commit 87b3b089d6e5cf75078b21dd4a389b4609e2ea04
Author: florian <florian@freepascal.org>
Date:   Thu Nov 14 21:26:48 2019 +0000

      * i386: more clean up of TCPUAsmOPtimizer.PeepHoleOptPass1Cpu
    
    git-svn-id: trunk@43465 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 632f13c47a1208c1f3ea5d05f880aacbad14bc70
Author: florian <florian@freepascal.org>
Date:   Thu Nov 14 21:14:01 2019 +0000

      * i386 does not use anymore its own assembler optimizer loops
    
    git-svn-id: trunk@43464 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 0ab0eefae0d359b976d1db4ec81ef5f3709d853e
Author: florian <florian@freepascal.org>
Date:   Thu Nov 14 21:14:00 2019 +0000

      + separate JUMP_DEBUG define
    
    git-svn-id: trunk@43463 -

M	compiler/aoptobj.pas

******************************************************************************
commit d82335bf9a833519e0b140c666e7851f6afdf226
Author: florian <florian@freepascal.org>
Date:   Wed Nov 13 21:13:05 2019 +0000

      * do not remove cfi_endproc after jmps
    
    git-svn-id: trunk@43462 -

M	compiler/aoptobj.pas

******************************************************************************
commit e1433adc2e40670f50d53cbb7b20616728923478
Author: florian <florian@freepascal.org>
Date:   Wed Nov 13 20:47:42 2019 +0000

      * check in the internal assembler for references with incorrect use of RIP
      + test
    
    git-svn-id: trunk@43461 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/aasmcpu.pas
A	tests/tbf/tb0271.pp

******************************************************************************
commit 6bed497c7c3cba3bde7cf91a4544c67e90b041a3
Author: florian <florian@freepascal.org>
Date:   Wed Nov 13 20:47:40 2019 +0000

      * be carefully with references using RIP when doing LeaOp2Op optimizations
    
    git-svn-id: trunk@43460 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 9b3447a6a4cd9babd4b870b4f903bd58e918fd74
Author: pierre <pierre@freepascal.org>
Date:   Wed Nov 13 16:59:26 2019 +0000

     Fix ppudump after commit #43450
    
    git-svn-id: trunk@43458 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit ae6b204c9492b9e7b369239b91af6a77fe998c60
Author: florian <florian@freepascal.org>
Date:   Tue Nov 12 22:10:01 2019 +0000

      + added comments for LeaOp2Op
    
    git-svn-id: trunk@43457 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7ee0ad4d639e5a93e73056c343e792b7b03e6d1b
Author: florian <florian@freepascal.org>
Date:   Tue Nov 12 22:04:23 2019 +0000

      + LeaOp2Op optimization
      * replaced some manual removels of p by RemoveCurrentP calls
    
    git-svn-id: trunk@43456 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5c0a5b73c7cfade35d402e59bca06c8a6167a3f1
Author: florian <florian@freepascal.org>
Date:   Tue Nov 12 20:03:19 2019 +0000

      * patch by J. Gareth Moreton: fix compilation with debug info after r43441 and friends, resolves #36299
    
    git-svn-id: trunk@43455 -

M	compiler/aoptobj.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 1d6e719e381c3a58254f3fa6cdf2021e630d0871
Author: florian <florian@freepascal.org>
Date:   Mon Nov 11 22:08:17 2019 +0000

      * improve ShlAddLeaSubIncDec2Lea to take care of foldable LEAs
    
    git-svn-id: trunk@43453 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 83a11c2a7daa26276316ce7cd2fccc7682532213
Author: florian <florian@freepascal.org>
Date:   Mon Nov 11 21:29:13 2019 +0000

      * patch by J. Gareth Moreton to clean up TX86AsmOptimizer.OptPass2Jcc, resolves #36295
    
    git-svn-id: trunk@43452 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2f914ee2d89b64e629fa93132bd1ff126322b223
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Nov 11 09:26:51 2019 +0000

      * packed tabstractvarsym.addr_taken/different_scope fields into a set
    
    git-svn-id: trunk@43450 -

M	compiler/ppu.pas
M	compiler/symconst.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 5f3050961f57c1ecc58565e6434ad93ec44e14ef
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 21:45:57 2019 +0000

      * load left properly into a register in tx86addnode.second_addordinal, resolves #36287
    
    git-svn-id: trunk@43449 -

M	compiler/x86/nx86add.pas

******************************************************************************
commit 9d0389aa53e2d49955f37707250b016cf07da1b3
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 21:22:33 2019 +0000

      + readded accidently deleted file
    
    git-svn-id: trunk@43448 -

M	.gitattributes
A	tests/webtbs/tw32219.pp

******************************************************************************
commit 7464c880034a94a76aa06cefa0b1c4133d8969f0
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 21:09:06 2019 +0000

      * fix and improve MovImul2Imul: we cannot insert the move target into imul if the imul is 64 bit and the mov 32 bit as
        we cannot ensure that the upper 32 bits of the move target are really clear
    
    git-svn-id: trunk@43447 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4b455600b8a6c98158383c01cbe818a3d80df6d1
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 18:23:50 2019 +0000

      * swapped decrefs and StripLabelFast as proposed by Gareth on the mailing list
    
    git-svn-id: trunk@43445 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 7747c5fc27e6e23247c4d200e3d9fd4c060b9770
Merge: e1e8986462 47bb71efc4
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 16:44:34 2019 +0000

    -- Zusammenführen von r43307 bis r43443 in ».«:
    D    tests/webtbs/tw32219.pp
    U    compiler/i386/i386att.inc
    U    compiler/i386/i386atts.inc
    U    compiler/i386/i386int.inc
    U    compiler/i386/i386nop.inc
    U    compiler/i386/i386op.inc
    U    compiler/i386/i386prop.inc
    U    compiler/i386/i386tab.inc
    U    compiler/i8086/i8086att.inc
    U    compiler/i8086/i8086atts.inc
    U    compiler/i8086/i8086int.inc
    U    compiler/i8086/i8086nop.inc
    U    compiler/i8086/i8086op.inc
    U    compiler/i8086/i8086prop.inc
    U    compiler/i8086/i8086tab.inc
    U    compiler/x86/x86ins.dat
    U    compiler/x86_64/x8664ats.inc
    U    compiler/x86_64/x8664att.inc
    U    compiler/x86_64/x8664int.inc
    U    compiler/x86_64/x8664nop.inc
    U    compiler/x86_64/x8664op.inc
    U    compiler/x86_64/x8664pro.inc
    U    compiler/x86_64/x8664tab.inc
    U    tests/utils/avx/avxopcodes.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r42706 bis r43443 in ».«:
     U   .
    
    git-svn-id: trunk@43444 -

MM	.gitattributes

******************************************************************************
commit e1e89864620fe33d035b7987c470847d87b808be
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 16:11:40 2019 +0000

      * patch by J. Gareth Moreton, issue #36271, part 3: support for the other architectures
    
    git-svn-id: trunk@43441 -

M	compiler/aarch64/cpubase.pas
M	compiler/arm/cpubase.pas
M	compiler/avr/cpubase.pas
M	compiler/m68k/cpubase.pas
M	compiler/mips/cpubase.pas
M	compiler/powerpc/cpubase.pas
M	compiler/powerpc64/cpubase.pas
M	compiler/riscv32/cpubase.pas
M	compiler/riscv64/cpubase.pas
M	compiler/sparcgen/cpubase.pas
M	compiler/x86/cpubase.pas

******************************************************************************
commit 2d295a381642e32edbbc08e206453d9251753d53
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 16:11:39 2019 +0000

      * patch by J. Gareth Moreton, issue #36271, part 2: x86 specific rework of the jump optimizer
    
    git-svn-id: trunk@43440 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 47dcc5b05b7d41ceadf0a7b10a5f6867ff110df2
Author: florian <florian@freepascal.org>
Date:   Sun Nov 10 16:11:38 2019 +0000

      * patch by J. Gareth Moreton, issue #36271, part 1: general rework of the jump optimizer
    
    git-svn-id: trunk@43439 -

M	compiler/aoptobj.pas

******************************************************************************
commit 88a8871c622794893012bb90c75253245a945d35
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 21:58:31 2019 +0000

      * read more types of references properly
    
    git-svn-id: trunk@43433 -

M	compiler/mips/racpugas.pas

******************************************************************************
commit 79dfd9fb51a82eda8f6469a6236a78e7ba6f7f6a
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 21:58:30 2019 +0000

      + MIPS: take care of setnoat
    
    git-svn-id: trunk@43432 -

M	compiler/mips/cgcpu.pas
M	compiler/mips/cpupi.pas

******************************************************************************
commit 8b89a5cc5109c15a716a1826096258caf8b36997
Author: michael <michael@freepascal.org>
Date:   Sat Nov 9 18:56:14 2019 +0000

    * Remove testsuite again
    
    git-svn-id: trunk@43431 -

M	.gitattributes
D	rtl/test/docompile.sh
D	rtl/test/punit.cfg
D	rtl/test/punit.pp
D	rtl/test/testpunit.pp
D	rtl/test/testpunit2.pp
D	rtl/test/testpunit3.pp
D	rtl/test/testrtl.lpi
D	rtl/test/testrtl.pp
D	rtl/test/tohelper.inc
D	rtl/test/unittest.cfg
D	rtl/test/utastrcmp.pp
D	rtl/test/utbytesof.pp
D	rtl/test/utclasses.pp
D	rtl/test/utdfexp.pp
D	rtl/test/utdirex.pp
D	rtl/test/utdos.pp
D	rtl/test/utencoding.pp
D	rtl/test/utencodingerr.pp
D	rtl/test/utenv.pp
D	rtl/test/utexec.pp
D	rtl/test/utexpfncase.pp
D	rtl/test/utextractquote.pp
D	rtl/test/utfattr.pp
D	rtl/test/utfexpand.pp
D	rtl/test/utffirst.pp
D	rtl/test/utfile.pp
D	rtl/test/utfile1.pp
D	rtl/test/utfile2.pp
D	rtl/test/utfilename.pp
D	rtl/test/utfloattostr.pp
D	rtl/test/utformat.pp
D	rtl/test/utfsearch.pp
D	rtl/test/utmath.pp
D	rtl/test/utrtl.pp
D	rtl/test/utrwsync.pp
D	rtl/test/utscanf.pp
D	rtl/test/utstrcmp.pp
D	rtl/test/utstrcopy.pp
D	rtl/test/utstringbuild.pp
D	rtl/test/utstringhelp.pp
D	rtl/test/utstrings1.pp
D	rtl/test/utstrtobool.pp
D	rtl/test/utstrtotime.pp
D	rtl/test/utsyshelpers.pp
D	rtl/test/utsysutils.pp
D	rtl/test/uttypinfo.pp
D	rtl/test/utunifile.pp
D	rtl/test/utuplow.pp
D	rtl/test/utustringbuild.pp
D	rtl/test/utverify.pp
D	rtl/test/utwstrcmp.pp

******************************************************************************
commit 99ce957111b021c5739d96df65ebb11fb274e71e
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 18:32:36 2019 +0000

      * fixed default value for progbits
    
    git-svn-id: trunk@43430 -

M	compiler/ogbase.pas

******************************************************************************
commit 137f392c66a298d58a03c3ca336470e5a5274efa
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 18:29:14 2019 +0000

      * parameters declared as out must be initialized
    
    git-svn-id: trunk@43429 -

M	compiler/ogbase.pas

******************************************************************************
commit 40bbb28fd2b877cb94ce03b5b0ffc5f45760a83e
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 18:28:30 2019 +0000

      * do not write section flags/progbits for .data, .rodata .data.norel as the compiler will ignore them anyways and warn about it
    
    git-svn-id: trunk@43428 -

M	compiler/aggas.pas

******************************************************************************
commit f20e6ff323dce8717477f7d1cac6e70ce0c07b73
Author: florian <florian@freepascal.org>
Date:   Sat Nov 9 16:58:58 2019 +0000

      * update generic linker script
    
    git-svn-id: trunk@43426 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit 1c3b41eb543d85cd8497c89942062ca54430d489
Author: michael <michael@freepascal.org>
Date:   Sat Nov 9 13:39:14 2019 +0000

    * Testsuite in punit format
    
    git-svn-id: trunk@43425 -

M	.gitattributes
A	rtl/test/docompile.sh
A	rtl/test/punit.cfg
A	rtl/test/punit.pp
A	rtl/test/testpunit.pp
A	rtl/test/testpunit2.pp
A	rtl/test/testpunit3.pp
A	rtl/test/testrtl.lpi
A	rtl/test/testrtl.pp
A	rtl/test/tohelper.inc
A	rtl/test/unittest.cfg
A	rtl/test/utastrcmp.pp
A	rtl/test/utbytesof.pp
A	rtl/test/utclasses.pp
A	rtl/test/utdfexp.pp
A	rtl/test/utdirex.pp
A	rtl/test/utdos.pp
A	rtl/test/utencoding.pp
A	rtl/test/utencodingerr.pp
A	rtl/test/utenv.pp
A	rtl/test/utexec.pp
A	rtl/test/utexpfncase.pp
A	rtl/test/utextractquote.pp
A	rtl/test/utfattr.pp
A	rtl/test/utfexpand.pp
A	rtl/test/utffirst.pp
A	rtl/test/utfile.pp
A	rtl/test/utfile1.pp
A	rtl/test/utfile2.pp
A	rtl/test/utfilename.pp
A	rtl/test/utfloattostr.pp
A	rtl/test/utformat.pp
A	rtl/test/utfsearch.pp
A	rtl/test/utmath.pp
A	rtl/test/utrtl.pp
A	rtl/test/utrwsync.pp
A	rtl/test/utscanf.pp
A	rtl/test/utstrcmp.pp
A	rtl/test/utstrcopy.pp
A	rtl/test/utstringbuild.pp
A	rtl/test/utstringhelp.pp
A	rtl/test/utstrings1.pp
A	rtl/test/utstrtobool.pp
A	rtl/test/utstrtotime.pp
A	rtl/test/utsyshelpers.pp
A	rtl/test/utsysutils.pp
A	rtl/test/uttypinfo.pp
A	rtl/test/utunifile.pp
A	rtl/test/utuplow.pp
A	rtl/test/utustringbuild.pp
A	rtl/test/utverify.pp
A	rtl/test/utwstrcmp.pp

******************************************************************************
commit d813edef7239c683355be089ff9b089599bb3c4b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Nov 8 22:34:07 2019 +0000

    * also advance the error code in the case of success
    
    git-svn-id: trunk@43419 -

M	tests/test/trtti17.pp

******************************************************************************
commit 9a9cd15ec4427bd0e78d3e4048663afe71b30fe1
Author: ondrej <ondrej@idefix.freepascal.org>
Date:   Fri Nov 8 21:29:26 2019 +0000

    TInterfacedObject.Destroy: fix case for correct auto-completion
    
    git-svn-id: trunk@43418 -

M	rtl/inc/objpas.inc
M	rtl/inc/objpash.inc

******************************************************************************
commit d275e7a7e658debe32497a50c5e49d61d154b294
Author: florian <florian@freepascal.org>
Date:   Thu Nov 7 21:12:47 2019 +0000

      * removed accidently committed debug statement
    
    git-svn-id: trunk@43413 -

M	compiler/cgobj.pas

******************************************************************************
commit c8f746b88170196adb878a3166e566be1189dc35
Author: florian <florian@freepascal.org>
Date:   Thu Nov 7 21:08:08 2019 +0000

      * do not allocate an extra register for some integer operations if not needed
    
    git-svn-id: trunk@43412 -

M	compiler/cgobj.pas
M	compiler/x86/nx86add.pas

******************************************************************************
commit 490f057aa11a32e1322e842343deab8d809c47a2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 6 21:50:23 2019 +0000

      * replaced the arrays in the generic set helpers with arrays of 32 bytes
        instead of high(cardinal), so LLVM doesn't get tricked into massively
        unrolling and parallelising those loops
    
    git-svn-id: trunk@43408 -

M	rtl/inc/genset.inc

******************************************************************************
commit ac1e0f96bdf26510682788eaa26a813cbb80a7ba
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 6 21:50:19 2019 +0000

      * replaced tentryfile.get/putsmall/normalset() with a common tget/putset
        that expects an open array of byte, and use it for all sets
       o since all sets need to be typecasted to an array type of the appropriate
         size, we'll get a compilation error in case this needs to be done and
         that also tells us at the same time that the ppu version will need to
         be increased
      * enabled {$packset 1} for the compiler, as this is now safe with the above
        changes
    
    git-svn-id: trunk@43407 -

M	compiler/aasmtai.pas
M	compiler/entfile.pas
M	compiler/fpcdefs.inc
M	compiler/fppu.pas
M	compiler/nbas.pas
M	compiler/ncal.pas
M	compiler/ncnv.pas
M	compiler/ncon.pas
M	compiler/nflw.pas
M	compiler/nld.pas
M	compiler/nmem.pas
M	compiler/node.pas
M	compiler/ppu.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtable.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit fff3b67b7e3f2f7e820ab782d40d680f50d18539
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 5 10:37:19 2019 +0000

     Remove ALLOW_WARNINGS=1 for m68k compiler
    
    git-svn-id: trunk@43392 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 7d12e8cc6dfff734632d92f9f6a8ca824a7c6cba
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 5 10:00:48 2019 +0000

     Avoid warnings for m68k compiler
    
    git-svn-id: trunk@43391 -

M	compiler/m68k/aoptcpu.pas
M	compiler/m68k/aoptcpub.pas
M	compiler/m68k/cgcpu.pas
M	compiler/m68k/cpupara.pas
M	compiler/m68k/n68kadd.pas
M	compiler/m68k/ra68kmot.pas
M	compiler/m68k/rgcpu.pas
M	compiler/options.pas
M	compiler/systems/t_atari.pas

******************************************************************************
commit d3c5bd2a3e513df586faa6b0c0e2555399d556b7
Author: florian <florian@freepascal.org>
Date:   Sun Nov 3 17:33:26 2019 +0000

      * test for tw36212
    
    git-svn-id: trunk@43385 -

M	.gitattributes
A	tests/webtbs/tw36212.pp

******************************************************************************
commit b8f186dab2e09afc589407a2f1a0dd2db2cb2d89
Author: florian <florian@freepascal.org>
Date:   Sun Nov 3 14:42:02 2019 +0000

      * reverted r43366
    
    git-svn-id: trunk@43382 -

M	.gitattributes
M	rtl/objpas/math.pp
D	tests/webtbs/tw36161.pp

******************************************************************************
commit 20a47afe13d37f5d4f77c65f3437b4849f5eca48
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 22:37:31 2019 +0000

      * more aggressive LeaCallLeaRet2Jmp
    
    git-svn-id: trunk@43373 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 1fc7667b3bc86cb83ffce20cace69ceb679a269c
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 22:37:30 2019 +0000

      + LeaCallLeaRet2Jmp
    
    git-svn-id: trunk@43372 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 6842c5784d5a6b21584bf26428a01457c21c60d0
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 22:37:29 2019 +0000

      * CallRet2Jmp works with PIC
    
    git-svn-id: trunk@43371 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 3487c34ed9a2c87128c39bab5a5dcd336e5ef66f
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 18:48:23 2019 +0000

      * unified TX86AsmOptimizer.OptPass1MOVAP and TX86AsmOptimizer.OptPass1VMOVAP
    
    git-svn-id: trunk@43370 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit f9530437c2fd229250b3ffc48c0536df3456c192
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 18:34:53 2019 +0000

      * fix i386 building
    
    git-svn-id: trunk@43369 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit c3ef42b164cfdee2dc5dfaa5b2bbb7790799fcbc
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 18:09:11 2019 +0000

      * allow cmov with memory reference if it is a pure symbol or a rip relative symbol: as the symbol is
        allocated within the image of the program, this should never cause a seg. fault, so it is save
        to use cmov with it
    
    git-svn-id: trunk@43368 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 5ead23513d29a185a71dfa0fc3f5314e4fc7aad5
Author: florian <florian@freepascal.org>
Date:   Sat Nov 2 16:21:43 2019 +0000

    * more overloads for Math.Min/Max, resolves #36161
    
    git-svn-id: trunk@43366 -

M	.gitattributes
M	rtl/objpas/math.pp
A	tests/webtbs/tw36161.pp

******************************************************************************
commit ccb169b0f1b3214c6b09b3bd89492e2ce0626fa1
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Nov 2 12:36:30 2019 +0000

    * correctly handle PE COMDAT sections: like for the Comdat groups in ELF files the unused symbols need to be converted to externals so that relocations are handled correctly
    
    git-svn-id: trunk@43359 -

M	compiler/ogbase.pas

******************************************************************************
commit c6a08cdc6e57c5dff6b586c40ad9fefe8c2f2a5b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Nov 2 12:36:26 2019 +0000

    + add a Flush method to TExeMap which is useful when debugging internal errors or crashes where the exemap instance has not yet been destroyed
    
    git-svn-id: trunk@43358 -

M	compiler/ogmap.pas

******************************************************************************
commit ae04e5d7f0c2527677b7c4ce6be2c235a4635c82
Author: florian <florian@freepascal.org>
Date:   Fri Nov 1 18:39:18 2019 +0000

      * avr: apply LdiOp2Opi optimization also to and and sub
    
    git-svn-id: trunk@43352 -

M	compiler/avr/aoptcpu.pas

******************************************************************************
commit 828e961f3d0191c6f20c930d667c0eb9718cf3a4
Author: florian <florian@freepascal.org>
Date:   Fri Nov 1 18:39:17 2019 +0000

      * remove unused constants
    
    git-svn-id: trunk@43351 -

M	rtl/inc/generic.inc

******************************************************************************
commit fdeaacac21cfa72ea0148158fa8da9aa67035881
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Nov 1 15:02:31 2019 +0000

    * fix for Mantis #36223: when parsing a helper type its extendeddef might be Nil
    + added test
    
    git-svn-id: trunk@43346 -

M	.gitattributes
M	compiler/symtable.pas
A	tests/webtbf/tw36223.pp

******************************************************************************
commit f481587bee170e0545df260fccc9c653740e1513
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Nov 1 13:27:29 2019 +0000

    * fix compilation on PE/COFF based systems with GNU AS as there the progbits are not supported
    
    git-svn-id: trunk@43345 -

M	compiler/aggas.pas

******************************************************************************
commit e19eff13324011b667e4d1b85cc521b8eecb8eff
Author: florian <florian@freepascal.org>
Date:   Fri Nov 1 09:52:37 2019 +0000

      * also type casts to booleans benefit if unneeded type widenings are removed
    
    git-svn-id: trunk@43344 -

M	compiler/ncnv.pas

******************************************************************************
commit cb67577002b81669c34ab1edda2df068058b2334
Author: florian <florian@freepascal.org>
Date:   Thu Oct 31 21:29:41 2019 +0000

      * fix length(<dyn. type>)=0 optimization, resolves #36215
    
    git-svn-id: trunk@43343 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw36215.pp

******************************************************************************
commit 172a4a999bfa8f9d0429bc2e41fe363a778d8821
Author: florian <florian@freepascal.org>
Date:   Wed Oct 30 22:39:13 2019 +0000

      + MovMov2Mov 6 and MovMov2Mov 7 optimization
    
    git-svn-id: trunk@43339 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 2bcf1b7f59ff83ec538c91fde1805dcd5db27348
Author: florian <florian@freepascal.org>
Date:   Wed Oct 30 20:07:28 2019 +0000

      * fptime works now usefully on unix systems
      + support -n <number> to run the command <number> times
      + display average runtime when -n is passed
    
    git-svn-id: trunk@43338 -

M	tests/utils/fptime.pp

******************************************************************************
commit 59d300fc6ed13237ccaa37bd2478fd07b1588a25
Author: florian <florian@freepascal.org>
Date:   Wed Oct 30 20:07:27 2019 +0000

      * optimize TAOptBase.SuperRegistersEqual
    
    git-svn-id: trunk@43337 -

M	compiler/aoptbase.pas

******************************************************************************
commit cfec7251954e78c5e2353a6f842bd269582f5d96
Author: florian <florian@freepascal.org>
Date:   Wed Oct 30 20:07:26 2019 +0000

    * clean up TX86AsmOptimizer.OptPass1MOV
    
    git-svn-id: trunk@43336 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b7f58dd8c8eacbbfe8aaf8632b6617228ded7485
Author: florian <florian@freepascal.org>
Date:   Sun Oct 27 16:53:26 2019 +0000

      * load nodes for variables in registers do not generated instructions, so their complexity is zero
    
    git-svn-id: trunk@43319 -

M	compiler/nutils.pas

******************************************************************************
commit 31e5b2d9a4e1874058b586667429956b61a46101
Author: florian <florian@freepascal.org>
Date:   Sun Oct 27 12:40:08 2019 +0000

      * more precise estimation of subscript node complexity
    
    git-svn-id: trunk@43314 -

M	compiler/nutils.pas

******************************************************************************
commit 421b06affe2d3f2a3ab174fb60934feb9e7c11d3
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Oct 26 22:24:00 2019 +0000

    morphos: in SDK 3.14, the binutils is finally upgraded to 2.32 (from 2.9.1), which makes section smartlinking working with binutils, and also has finally properly working stabs relocations for lineinfo, etc. so it's the default again both cross and native compilations
    
    git-svn-id: trunk@43313 -

M	compiler/options.pas
M	compiler/systems/i_morph.pas

******************************************************************************
commit cc703a9c59d1ff69db1349257be86eb7b0cbeb16
Author: florian <florian@freepascal.org>
Date:   Sat Oct 26 08:37:20 2019 +0000

      + include -Avasm into the help screen
    
    git-svn-id: trunk@43311 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit 2d2015144653ffdf597df5a9f24e78a1d11941b0
Author: pierre <pierre@freepascal.org>
Date:   Thu Oct 24 15:28:47 2019 +0000

     Change parent class of trv32aatreader to trvattreader
    
    git-svn-id: trunk@43309 -

M	compiler/riscv32/rarv32gas.pas

******************************************************************************
commit 7e5bf5a9fbc07b8e2459545411ff41499679687b
Author: pierre <pierre@freepascal.org>
Date:   Thu Oct 24 07:03:14 2019 +0000

     Fix compilation error for i8086 cpu target
    
    git-svn-id: trunk@43308 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit fa9c7a92c78fc257294bfe2c9e7d92dfdb69be18
Merge: 5bfebeea4e 99d44ce40e
Author: florian <florian@freepascal.org>
Date:   Wed Oct 23 18:17:50 2019 +0000

    -- Zusammenführen von r42725 bis r43306 in ».«:
    A    tests/webtbs/tw32219.pp
    U    tests/utils/avx/avxopcodes.pas
    U    tests/utils/avx/asmtestgenerator.pas
    U    compiler/i386/i386tab.inc
    U    compiler/i386/i386nop.inc
    U    compiler/i8086/i8086tab.inc
    U    compiler/i8086/i8086nop.inc
    U    compiler/x86_64/x8664tab.inc
    U    compiler/x86_64/x8664nop.inc
    U    compiler/x86/aasmcpu.pas
    U    compiler/x86/x86ins.dat
    U    compiler/x86/rax86.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r42706 bis r43306 in ».«:
     U   .
    
    git-svn-id: trunk@43307 -

MM	.gitattributes
MM	compiler/x86/aasmcpu.pas

******************************************************************************
commit 9dcd897ce630bf5d3e9b94f9e47b5c9c26726db8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Oct 21 19:42:19 2019 +0000

    * fix for Mantis #36196: free a property's attributes when the property is destroyed
    + added test
    
    git-svn-id: trunk@43299 -

M	.gitattributes
M	packages/rtl-objpas/src/inc/rtti.pp
A	tests/webtbs/tw36196.pp

******************************************************************************
commit 6f74dd42079e2df27a5a5a38fe3c7fe2f47ee5cb
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Oct 21 19:42:15 2019 +0000

    * fix memory leak of tcustomattr13
    
    git-svn-id: trunk@43298 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit cb9f569906d356aad9005ae1f22966c3182d4452
Author: nickysn <nickysn@gmail.com>
Date:   Mon Oct 21 13:14:58 2019 +0000

    * fixed i8086 compilation after r43265
    
    git-svn-id: trunk@43289 -

M	compiler/ogomf.pas

******************************************************************************
commit ee3258c0daaa60b9cf3c12e06317bb17ae886c0c
Author: florian <florian@freepascal.org>
Date:   Sun Oct 20 21:10:56 2019 +0000

      * optimizing length(<dyn. type>)=0 is not possible for jvm
    
    git-svn-id: trunk@43280 -

M	compiler/nadd.pas

******************************************************************************
commit e3c6ef21d101b8f95dd6d410eba8990ec9e88845
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 20 14:14:09 2019 +0000

      * fixed compilation for Darwin and AIX after addition of section attributes
    
    git-svn-id: trunk@43273 -

M	compiler/aggas.pas

******************************************************************************
commit e80eee5da54e32313333c2ca1f6dea016bb95c27
Author: florian <florian@freepascal.org>
Date:   Sun Oct 20 13:03:45 2019 +0000

    * generate better code for length(<dyn. type>)=0, resolves #36060
    
    git-svn-id: trunk@43272 -

M	compiler/nadd.pas
M	compiler/nutils.pas

******************************************************************************
commit e251c8e2ab3909dae2b91253044e8be67a00f6fc
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 19 15:41:41 2019 +0000

    * fix for Mantis #36174: correctly initialize secprocbits and secflags given the section type
    
    git-svn-id: trunk@43267 -

M	compiler/aasmtai.pas

******************************************************************************
commit 7f8800eeb15ef2db9dbe43b91db194b0e0d0e53f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 19 15:41:37 2019 +0000

    + add a method to TObjData to retrieve the TSectionProcBits and TSectionFlags values for a given section type
    
    git-svn-id: trunk@43266 -

M	compiler/ogbase.pas

******************************************************************************
commit e5de269664c7029770bb2e4092cd28a9a31545cf
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 19 15:41:33 2019 +0000

    * change TObjData.sectiontype2options to a class function so that it can be called without an instance of TObjData
    
    git-svn-id: trunk@43265 -

M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogmacho.pas
M	compiler/ogomf.pas

******************************************************************************
commit af8783e8d2d8312897ac6406b2ac30af9b6c609a
Author: florian <florian@freepascal.org>
Date:   Thu Oct 17 20:55:39 2019 +0000

      * i386: with a fixed stack, exception handling does not need a frame pointer
    
    git-svn-id: trunk@43218 -

M	compiler/psub.pas

******************************************************************************
commit 84ebe96d41c2fbcbccbcc2573bb7783e18bcaf68
Author: pierre <pierre@freepascal.org>
Date:   Tue Oct 15 15:04:32 2019 +0000

     Define FPC_IS_SYSTEM at start of all system.pp source
    
    git-svn-id: trunk@43203 -

M	rtl/atari/system.pp
M	rtl/go32v2/system.pp
M	rtl/macos/system.pp
M	rtl/msdos/system.pp
M	rtl/nativent/system.pp
M	rtl/netware/system.pp
M	rtl/netwlibc/system.pp
M	rtl/palmos/system.pp
M	rtl/qnx/system.pp
M	rtl/symbian/system.pp
M	rtl/watcom/system.pp
M	rtl/win16/system.pp
M	rtl/win32/system.pp
M	rtl/win64/system.pp

******************************************************************************
commit 362e6232c329951d351782ab5cc0be89eae7e357
Author: pierre <pierre@freepascal.org>
Date:   Tue Oct 15 08:03:39 2019 +0000

     Fix compilation for wince target after restriction of enum value to longint range
    
    git-svn-id: trunk@43200 -

M	rtl/wince/wininc/struct.inc

******************************************************************************
commit 9d765af6932467e439c8c850f43be86bb40f0ed9
Author: pierre <pierre@freepascal.org>
Date:   Mon Oct 14 16:04:02 2019 +0000

     Fix parsing error in GNU linker script, KEEP needs braces
    
    git-svn-id: trunk@43197 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit 88648248ec2a1eb3cf9af867fc586943332d0523
Author: florian <florian@freepascal.org>
Date:   Sun Oct 13 20:23:01 2019 +0000

      * fix random(<int64>) for 32 Bit CPUs
    
    git-svn-id: trunk@43194 -

M	rtl/inc/system.inc

******************************************************************************
commit e02321029fbe2c7c62e12ec475dcc3f03e135340
Author: florian <florian@freepascal.org>
Date:   Sun Oct 13 20:11:55 2019 +0000

      * test fixed for i386
    
    git-svn-id: trunk@43193 -

M	tests/webtbs/tw35953.pp

******************************************************************************
commit 626ef4ae0ccd379e74fc660f914e5524952e6c7f
Author: florian <florian@freepascal.org>
Date:   Sun Oct 13 15:48:21 2019 +0000

      * give an error if an explicit enumeration valid exceeds the valid range, resolves #34633
    
    git-svn-id: trunk@43191 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ptype.pas
A	tests/webtbf/tw34633.pp

******************************************************************************
commit 33c4a5dda713b26acaf35da6ec913ebde848f54b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 13 11:11:28 2019 +0000

      * don't try to bitpack arrays of non-ordinals (mantis #36157)
    
    git-svn-id: trunk@43187 -

M	.gitattributes
M	compiler/ngtcon.pas
A	tests/webtbs/tw36157.pp

******************************************************************************
commit bdcda8660eaa0f02365a9000a55c7ad8ac3becf9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Oct 13 07:37:42 2019 +0000

      * fix Dwarf 3 array location broken in r43171 (fix by Martin Friebe,
        mantis #36144)
    
    git-svn-id: trunk@43181 -

M	compiler/dbgdwarf.pas

******************************************************************************
commit 5573bee314cc43d3eab0cb29ebfacd0898f7b453
Author: florian <florian@freepascal.org>
Date:   Sat Oct 12 21:56:18 2019 +0000

    + makefiles use -Sew, so added to the project as well
      * updated for new format
    
    git-svn-id: trunk@43179 -

M	compiler/ppcarm.lpi

******************************************************************************
commit 533a1138857ba2ff5daff90e569c521483f2eae5
Author: florian <florian@freepascal.org>
Date:   Sat Oct 12 21:51:15 2019 +0000

      + LeaCallLeaRet2Jmp optimization
    
    git-svn-id: trunk@43178 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 00c2fd40055ff5ee214326de04c594231b9a095e
Author: florian <florian@freepascal.org>
Date:   Sat Oct 12 21:51:14 2019 +0000

      + x86: LeaLea2Lea optimization
    
    git-svn-id: trunk@43177 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 67fc9a7853918631155a509ebca0983100e613e6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 12 21:39:48 2019 +0000

      * fixed peephole opitimizer removing some infinite loops (mantis #36139)
    
    git-svn-id: trunk@43175 -

M	compiler/aoptobj.pas

******************************************************************************
commit 6c29ecbd1cd0e51977fba16d6ebb09ba32f4e520
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Oct 12 12:25:07 2019 +0000

      * moved array stride back to array entry (mantis #36144)
    
    git-svn-id: trunk@43171 -

M	compiler/dbgdwarf.pas

******************************************************************************
commit c189af0e3d8e1c5293e9b3f0aa11092cd262d976
Author: florian <florian@freepascal.org>
Date:   Thu Oct 10 20:31:31 2019 +0000

      * improved software floating point exception handling in the rtl
    
    git-svn-id: trunk@43163 -

M	rtl/arm/arm.inc
M	rtl/arm/mathu.inc
M	rtl/arm/thumb.inc
M	rtl/inc/genmath.inc
M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 29bdbdba95bf5785005d668aadeebf3033d3e29e
Author: florian <florian@freepascal.org>
Date:   Thu Oct 10 20:31:30 2019 +0000

      * reduce amount of software floating point exception checking, VSTR, VMOV, VLDR do not raise those
    
    git-svn-id: trunk@43162 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit e0041a8244b79abd964007b694f78a8e15bda682
Author: florian <florian@freepascal.org>
Date:   Wed Oct 9 19:26:59 2019 +0000

      * compilation of x86 and PowerPC fixed
    
    git-svn-id: trunk@43158 -

M	compiler/omfbase.pas
M	compiler/powerpc/agppcmpw.pas
M	compiler/ppcgen/agppcgas.pas
M	compiler/x86/agx86int.pas
M	compiler/x86/agx86nsm.pas

******************************************************************************
commit 245b58c249b4b29ffc54e6c1e50a1474cc84f7b1
Author: florian <florian@freepascal.org>
Date:   Wed Oct 9 17:45:40 2019 +0000

    + support for arm attributes
      * abi notes fixed
    
    git-svn-id: trunk@43157 -

M	.gitattributes
M	compiler/aasmbase.pas
M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/cpunode.pas
A	compiler/arm/narmutil.pas
M	compiler/assemble.pas
M	compiler/elfbase.pas
M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogelf.pas
M	compiler/psabiehpi.pas
M	compiler/raatt.pas
M	rtl/linux/arm/abitag.inc

******************************************************************************
commit c6d8bd73f7343b8fa6ae514e6187786542468b4c
Author: michael <michael@freepascal.org>
Date:   Wed Oct 9 07:13:37 2019 +0000

    * Patch from Serge Anvarov with some optimizations (bug ID 36143)
    
    git-svn-id: trunk@43155 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/lists.inc

******************************************************************************
commit 35e11cd6d4df412a4a193e63b09fda3c9ba910f3
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:32 2019 +0000

    * several linux targets switches from stabs to dwarf
    
    git-svn-id: trunk@43135 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit 8ecdb2e9ca9b32f1334f237612411e7e17e5d1e6
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:31 2019 +0000

    + dwarf support for tls threadvars
    
    git-svn-id: trunk@43134 -

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/cpuelf.pas
M	compiler/assemble.pas
M	compiler/dbgdwarf.pas
M	compiler/i386/cpuelf.pas
M	compiler/ogbase.pas
M	compiler/x86_64/cpuelf.pas

******************************************************************************
commit df4ec9e8e3b59f70b37bb762f50d37725c22bda6
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:30 2019 +0000

    * arm-linux uses dwarf debug info by default
    
    git-svn-id: trunk@43133 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit a2d3522812a74b2715191f9d447407582fda6951
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:29 2019 +0000

    * general-dynamic -> global-dynamic
    
    git-svn-id: trunk@43132 -

M	Makefile
M	Makefile.fpc
M	compiler/arm/aoptcpu.pas
M	compiler/arm/narmld.pas
M	compiler/globtype.pas
M	compiler/i386/cpupi.pas
M	compiler/options.pas
M	compiler/x86/nx86ld.pas

******************************************************************************
commit 7ee889d4ecebcdd72887fc65961bd4a362db0dcf
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:28 2019 +0000

    * it must be decided in allocate_tls_register if a tls register is allocated
    
    git-svn-id: trunk@43131 -

M	compiler/psub.pas

******************************************************************************
commit c0372f80e00913d849ff6dbcf3387e664c74a6ec
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:27 2019 +0000

    * with section threadvars, heap relocation is not needed
    
    git-svn-id: trunk@43130 -

M	rtl/inc/heap.inc

******************************************************************************
commit b7dd63094fd75b6cb8e04498806eb0d98f2709b1
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:26 2019 +0000

    * arm uses the same approach as i386: during the final build of the rtl and the packages, the general dynamic tls model is selected
    
    git-svn-id: trunk@43129 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit 16163b74ec9daf00f87075afea385e54f9813e5b
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:26 2019 +0000

    + support for the gnu2 general-dynamic tls model on arm, use it instead of the gnu one as the gnu2 one can be relaxed (access optimizations by the linker)
      + support pic relocations in the internal assembler writer
    
    git-svn-id: trunk@43128 -

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpuelf.pas
M	compiler/arm/narmld.pas
M	compiler/assemble.pas
M	compiler/cgbase.pas
M	compiler/ogbase.pas

******************************************************************************
commit abb9401011e6985631b99c28b49a8c1053b6d886
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:24 2019 +0000

    + tls models tlsm_general_dynamic and tlsm_local_exec for arm
    
    git-svn-id: trunk@43127 -

M	compiler/arm/narmld.pas

******************************************************************************
commit c3f4ad39a3d93a445a490b963ca1015d416db6cc
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:24 2019 +0000

    * it must be decided in g_maybe_tls_init if a tls is loaded
    
    git-svn-id: trunk@43126 -

M	compiler/psub.pas

******************************************************************************
commit 988dce14c7499b599e7a707a88941c43a822a931
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:23 2019 +0000

    * cosmetics
    
    git-svn-id: trunk@43125 -

M	compiler/x86_64/cpuelf.pas

******************************************************************************
commit cffc69ec1d0fd94be0ec1ab6f54302b1d3158371
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:22 2019 +0000

    + support pi_needs_tls
    
    git-svn-id: trunk@43124 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 03dfc615dc450f38fae15cd06188dcd56b877616
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:21 2019 +0000

    + new relocations for arm tls
    
    git-svn-id: trunk@43123 -

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/aasmcpu.pas
M	compiler/arm/cgcpu.pas
M	compiler/assemble.pas
M	compiler/cgbase.pas
M	compiler/ogbase.pas

******************************************************************************
commit 03f7ef4c6336182ebd5a053f8d962438abefc644
Author: florian <florian@freepascal.org>
Date:   Sat Oct 5 20:48:20 2019 +0000

    * renamed tls model switches and symbols to match gcc
    
    git-svn-id: trunk@43122 -

M	Makefile
M	Makefile.fpc
M	compiler/arm/cpuelf.pas
M	compiler/globtype.pas
M	compiler/i386/cpupi.pas
M	compiler/options.pas
M	compiler/x86/nx86ld.pas

******************************************************************************
commit 3ae1b04d09a165e164e3697391125710604f5124
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 5 09:42:52 2019 +0000

    * disable the use of C-operators inside the compiler's sources
    
    git-svn-id: trunk@43120 -

M	compiler/fpcdefs.inc

******************************************************************************
commit 79bdee3278415121dd1c7521cc4457c8ad3a8f25
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Oct 5 09:42:49 2019 +0000

    * finally implement tdynamicarray.equal so that exact match comdat sections work as well
    
    git-svn-id: trunk@43119 -

M	compiler/cclasses.pas

******************************************************************************
commit 7f0675d937af5822442aef9d69134a97fc98390b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Oct 4 11:28:10 2019 +0000

    netbsd: updated to link against the right setlocale function. the renaming from __setlocale_mb_len_max_32 to __setlocale50 occured in NetBSD include/locale.h in rev 1.17, which was in 2010, and shipped in NetBSD 6 in 2012.
    
    git-svn-id: trunk@43118 -

M	rtl/unix/cwstring.pp

******************************************************************************
commit 49026e126182c2fa2dbdf4941e6d6d14b3b24c9b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 29 10:29:57 2019 +0000

      * add "readonly" attribute for constant pointer parameters on LLVM
    
    git-svn-id: trunk@43089 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit b99323bb193977646957bb6ac6529e0288c0f963
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 29 10:29:54 2019 +0000

      * fix LLVM compilation after r43076
    
    git-svn-id: trunk@43088 -

M	compiler/llvm/nllvmutil.pas

******************************************************************************
commit 9f97e18aa2b77f213edc0336385de1577d2b75bc
Author: florian <florian@freepascal.org>
Date:   Thu Sep 26 20:47:40 2019 +0000

      * test properly (with fno-exceptions) compiled
    
    git-svn-id: trunk@43083 -

M	tests/test/cg/obj/linux/x86_64/cpptcl1.o

******************************************************************************
commit 78373569547165695255cc67117a8134bcf3f296
Author: florian <florian@freepascal.org>
Date:   Thu Sep 26 20:33:12 2019 +0000

      + extra test to test remap functionality with -gh
    
    git-svn-id: trunk@43082 -

M	.gitattributes
A	tests/test/theap2gh.pp

******************************************************************************
commit 3949be69898e3a724509357a28617376e8a339f4
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:07 2019 +0000

    * be able to set an AT_* for datablocks
    * set AT_TLS if needed
    
    git-svn-id: trunk@43076 -

M	compiler/aasmtai.pas
M	compiler/i8086/n8086util.pas
M	compiler/ngenutil.pas
M	compiler/raatt.pas

******************************************************************************
commit 11319353fd0d5275bdb7a36d1ccce97cc0524099
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:06 2019 +0000

    * loading a got depends only on the fact if a got is needed and not if pic shall be generated
    
    git-svn-id: trunk@43075 -

M	compiler/i386/cpupi.pas
M	compiler/i8086/cgcpu.pas
M	compiler/psub.pas

******************************************************************************
commit 9e8bc7c93574678628b613fff8319b541f1cac21
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:06 2019 +0000

    * the general section threadvar model needs a got but pic is not required
    
    git-svn-id: trunk@43074 -

M	compiler/x86/nx86ld.pas

******************************************************************************
commit 4064c5f39befe1f71d70992b9e3e02eff8f7fffd
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:05 2019 +0000

    * section thread vars need to be access with the symbol type AT_TLS
    
    git-svn-id: trunk@43073 -

M	compiler/ncgld.pas

******************************************************************************
commit c652cd629acfb86e787765e3d1c4e88b5b1f32b1
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:04 2019 +0000

    * the final build of packages and rtl are compiled with the general tls model on i386 as they could be used in dyn. libraries.
        This does not hurt much as the linker optimized the threadvar access if possible
    
    git-svn-id: trunk@43072 -

M	Makefile
M	Makefile.fpc

******************************************************************************
commit d8e2db269197b6adbbfb23103d3a7a28b193163d
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:04 2019 +0000

    + command line switch -CV to select the threadvar model for section threadvars
    
    git-svn-id: trunk@43071 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/options.pas

******************************************************************************
commit 56d91b4ca79540828c8af3950d6187cc210d17a2
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:03 2019 +0000

    + support tls threadvars with the internal assembler
    
    git-svn-id: trunk@43070 -

M	compiler/i386/cpuelf.pas
M	compiler/ogbase.pas
M	compiler/ogelf.pas
M	compiler/x86/aasmcpu.pas
M	rtl/linux/i386/si_prc.inc

******************************************************************************
commit f6667a5143147f88a862a703d1baf1cd922dd885
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:01 2019 +0000

    * we have to use __tls_get_addr from the dyn. linker lib else tls on programs with pure pascal dyn. libraries fail
    
    git-svn-id: trunk@43069 -

M	compiler/systems/t_linux.pas
M	rtl/linux/x86_64/si_prc.inc

******************************************************************************
commit 5ed2475c85809555242f34b9b39b05e4be58bebb
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:19:01 2019 +0000

    * InitThread variant without parameters as user threads normally cannot know the max. stack size
    
    git-svn-id: trunk@43068 -

M	rtl/inc/thread.inc

******************************************************************************
commit 14b7eaa46f2d80ec8db5efbd5fb71d4469002504
Author: florian <florian@freepascal.org>
Date:   Wed Sep 25 21:18:59 2019 +0000

    + x86-64: implemented support for relocation needed by tls threadvars in the binary elf writer
    
    git-svn-id: trunk@43067 -

M	compiler/ogbase.pas
M	compiler/ogelf.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86_64/cpuelf.pas

******************************************************************************
commit ee22dbe5898ef29cfe1c773e6f751ede99cf544f
Author: pierre <pierre@freepascal.org>
Date:   Tue Sep 24 12:44:01 2019 +0000

     Handle change of memory base address after call to SysTryResizeMem
    
    git-svn-id: trunk@43062 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit bd1d6f335db93b5e5912e4b60966a254e07c212a
Author: florian <florian@freepascal.org>
Date:   Sun Sep 22 15:27:51 2019 +0000

    * if we load a got depends only if one is needed, not if PIC is generated as this could be also caused by tls support
    
    git-svn-id: trunk@43055 -

M	compiler/i386/cgcpu.pas

******************************************************************************
commit 02deb7d954b37850bdd92822433cca41d27c102c
Author: florian <florian@freepascal.org>
Date:   Sun Sep 22 15:27:50 2019 +0000

    * try to avoid to use pic based calls
    
    git-svn-id: trunk@43054 -

M	compiler/ncgcal.pas

******************************************************************************
commit e4c275a3499437e6aa2671f468a0c0c0f4515786
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Sep 21 14:36:16 2019 +0000

    * extend test so that it also covers the SetToString/StringToSet variants take/return Integer arguments
    
    git-svn-id: trunk@43047 -

M	tests/test/trtti20.pp

******************************************************************************
commit ad8de624b8c45761a7fd0b9e3b1be18e503d0e59
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Sep 21 14:36:13 2019 +0000

    * make halt codes unique
    
    git-svn-id: trunk@43046 -

M	tests/webtbs/tw8660.pp

******************************************************************************
commit eb71d11b9914dc9b448e7d1a18603da807947c67
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 20 13:48:30 2019 +0000

    m68k: also handle OS_64 register sizes in cgsize2subreg
    
    git-svn-id: trunk@43045 -

M	compiler/m68k/cpubase.pas

******************************************************************************
commit 435b57bdb120166870537cbe299aaaf8b86820b8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 20 11:37:18 2019 +0000

    m68k: allow vecnode to use word size index registers
    
    git-svn-id: trunk@43044 -

M	compiler/m68k/n68kmem.pas

******************************************************************************
commit 19a69640883fbc5a0c0d607863a6a85673d6f8c6
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 20 11:35:35 2019 +0000

    m68k: add subregisters. on 68k, these are not as universal as on x86 and work differently, but the compiler needs this infrastructure to do 16bit math (which is a massive improvement on '000) or word-size indexes on CPUs which support it
    
    git-svn-id: trunk@43043 -

M	.gitattributes
M	compiler/m68k/ag68kgas.pas
M	compiler/m68k/cpubase.pas
M	compiler/m68k/itcpugas.pas
M	compiler/m68k/m68kreg.dat
M	compiler/m68k/r68kcon.inc
M	compiler/m68k/r68kgas.inc
A	compiler/m68k/r68kgasf.inc
M	compiler/m68k/r68kgri.inc
M	compiler/m68k/r68knor.inc
M	compiler/m68k/r68knum.inc
M	compiler/m68k/r68krni.inc
M	compiler/m68k/r68ksri.inc
M	compiler/m68k/r68ksta.inc
M	compiler/m68k/r68kstd.inc
A	compiler/m68k/r68kstdf.inc
M	compiler/m68k/r68ksup.inc
M	compiler/utils/mk68kreg.pp

******************************************************************************
commit eb3a470f456c12ed78c52e9584db5bc8b87581de
Author: pierre <pierre@freepascal.org>
Date:   Tue Sep 17 21:06:18 2019 +0000

      * assemble.pas (TInternalAssembler.TreePass0): Avoid range/overflow check error.
        (TInternalAssembler.TreePass2): Check that objsymend and objsym are in same section
        and avoid range/overflow check error.
    
    git-svn-id: trunk@43028 -

M	compiler/assemble.pas

******************************************************************************
commit 0fa70759a20202281c390ba48b8b46d7eee37d14
Author: pierre <pierre@freepascal.org>
Date:   Mon Sep 16 14:50:43 2019 +0000

       * cutils.pas (size_2_align): Move to..
         globals.pas (size_2_align): ...here.
         Change parameter type to asizeuint to avoid overflows.
         (var_align_size, const_align_size): Also change parameter type to asizeuint.
         i386/cpupara.pas, i8086/cpupara.pas, x86_64/cpupara.pas: Add globals
         to implementation uses clause because of size_2_align move.
    
    git-svn-id: trunk@43022 -

M	compiler/cutils.pas
M	compiler/globals.pas
M	compiler/i386/cpupara.pas
M	compiler/i8086/cpupara.pas
M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 9678542ba611d2c0a511eeaa844d760879903910
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 15 20:43:12 2019 +0000

      + add "thunk" attribute for stubs/thunks and emit it for LLVM
       - also removed wrong "noreturn" attribute for interface thunks generated
         for high level code generator targets
    
    git-svn-id: trunk@43018 -

M	compiler/llvm/agllvm.pas
M	compiler/ncgvmt.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit ff2d71869966b8f39c8a0772e108b766283ec936
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 15 20:43:09 2019 +0000

      * fixed occasional rounding error with currency constants on the LLVM targets
        (fixes test/tcustomattr13.pp)
    
    git-svn-id: trunk@43017 -

M	compiler/llvm/nllvmcon.pas

******************************************************************************
commit 13902c1c7abebeec9688d3b554554ea36775535b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 15 17:26:21 2019 +0000

      * fixed compilation for __ARM_EABI_UNWINDER__ with -dexcdebug
    
    git-svn-id: trunk@43015 -

M	rtl/inc/psabieh.inc

******************************************************************************
commit bd35c02257c37ef18d28df181583205ce126fa69
Author: florian <florian@freepascal.org>
Date:   Sun Sep 15 17:17:30 2019 +0000

    * cosmetics: indention
    
    git-svn-id: trunk@43010 -

M	rtl/linux/i386/si_prc.inc

******************************************************************************
commit 9e7cf37cd6aa8d01ed7ba2c3765877631505ccd4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Sep 15 16:18:14 2019 +0000

      * changed resulttype and firstpass processing from recursion into loop, based
        on patch/idea by J. Gareth Moreton (as part of his patch in #35857)
    
    git-svn-id: trunk@43004 -

M	compiler/pass_1.pas

******************************************************************************
commit 617cc6984ba080be830cad11f3f18bd0e717532d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 14 17:30:53 2019 +0000

      * call DoUnhandledException instead of RunError(217) when the the psabi eh
        unwinder returns an error (this is usually because there is no outer
        exception catching frame anymore -> unhandled exception) (based on patch by
        Cyrax, mantis #35751)
    
    git-svn-id: trunk@42999 -

M	rtl/inc/psabieh.inc

******************************************************************************
commit d14fd51d0b2f47c2059215a388a512a5c7d6b37f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 14 17:22:23 2019 +0000

      * fix potential crash with copied goto nodes on nestedparentfp platforms
       o as described in the comment for the tgotonode.labsym field, it will
         be null for copied gotonodes
    
    git-svn-id: trunk@42997 -

M	compiler/ncgnstfl.pas

******************************************************************************
commit 9b70c7623dd5abe9501d427e31f68c2970fa335c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Sep 14 07:30:38 2019 +0000

      * initialise local variable to prevent random failures
    
    git-svn-id: trunk@42992 -

M	tests/tbs/tb0068.pp

******************************************************************************
commit ef6dde6de305cff538f8cdd0bc4dca13c5574f4f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Sep 13 19:06:40 2019 +0000

      * fixed loading the address of a copied labelnode in a loadnode
        (mantis #35877)
    
    git-svn-id: trunk@42987 -

M	.gitattributes
M	compiler/nld.pas
A	tests/test/units/rtl-generics/tw35877.pp

******************************************************************************
commit e3e23df7e208a0c72832b3528ed99446410e8dce
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Sep 13 19:06:34 2019 +0000

      * document how tgotonode/tlabelnode copying works
    
    git-svn-id: trunk@42986 -

M	compiler/nflw.pas

******************************************************************************
commit fa2e751f9f0787cc827c7cead21f3b36f12d9b3f
Author: florian <florian@freepascal.org>
Date:   Tue Sep 10 18:46:56 2019 +0000

    + AArch64: implementation of taarch64casenode.genlinearlist
    
    git-svn-id: trunk@42973 -

M	compiler/aarch64/ncpuset.pas

******************************************************************************
commit 58eef0a5aac53db1d7d5d7bed2515a535522e6f0
Author: florian <florian@freepascal.org>
Date:   Mon Sep 9 20:59:55 2019 +0000

    + AAarch64: TCpuAsmOptimizer.OptPass1Shift makes use of RemoveSuperfluousMove
    
    git-svn-id: trunk@42971 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit cdafe680c2353d46fd1f00549e158a4c5f2fa8b0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Sep 9 18:33:37 2019 +0000

      * different definitions for the same Objective-C class (can happen with
        external class declarations) need a type conversion in LLVM (because
        they're represented by different LLVM types)
    
    git-svn-id: trunk@42970 -

M	compiler/llvm/nllvmcnv.pas

******************************************************************************
commit dcf4e4cb2c04adbd4bb299b389913c84ed56d0fd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Sep 9 18:33:33 2019 +0000

      * support taking the address of labels defined in assembler blocks in the
        LLVM code genrator (for the rtti unit's thunk hacking)
    
    git-svn-id: trunk@42969 -

M	compiler/aasmbase.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/rautils.pas

******************************************************************************
commit aea0f3e667034d0aa878888bc0ff3d870a25fd2c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Sep 9 07:47:34 2019 +0000

    m68k: build fix (premature commits are the root of all evil too)
    
    git-svn-id: trunk@42966 -

M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit d25820b83050c192461c02da3803cb16a066d2e1
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 8 22:43:34 2019 +0000

    m68k: added CPUM68K_HAS_BYTEWORDMATH and CPUM68K_HAS_INDEXWORD capabilities
    
    git-svn-id: trunk@42964 -

M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit ce9e1a3419a525d024fc4f9ad5af6c261cd44f7b
Author: florian <florian@freepascal.org>
Date:   Sun Sep 8 20:53:43 2019 +0000

    + AArch64: FoldShiftProcess fixed
    
    git-svn-id: trunk@42963 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit c3c3e99c6426da68c901d4a2314133b6e32d7df1
Author: florian <florian@freepascal.org>
Date:   Sun Sep 8 20:53:43 2019 +0000

    + AArch64: implemented TCpuAsmOptimizer.OptPass1Data
    
    git-svn-id: trunk@42962 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit cc49d256ea2bd7324b054a63a5f4051dce2ed135
Author: florian <florian@freepascal.org>
Date:   Sun Sep 8 20:53:41 2019 +0000

    + AArch64: CMPB.E/NE2CBNZ/CBZ optimization
    
    git-svn-id: trunk@42960 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 353fc13257104a006558df876a8a2eaf61424ab0
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 8 13:55:19 2019 +0000

    m68k: cleanup of the ancient mess from cgsize2subreg
    
    git-svn-id: trunk@42949 -

M	compiler/m68k/cpubase.pas

******************************************************************************
commit fa1203029f8885b25e9324e3c811d6e9b9f1058f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 8 13:37:22 2019 +0000

    m68k: use cpu_capabilities when deciding to inject scaling into a ref. also allow scaling in more cases.
    
    git-svn-id: trunk@42947 -

M	compiler/m68k/n68kmem.pas

******************************************************************************
commit 50fe8f70f5095a318683cfd9435c5a8d56ed95b5
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 8 13:34:39 2019 +0000

    m68k: make sure we're not trying to allocate a subregister for float paras when R_SUBWHOLE <> R_SUBNONE
    
    git-svn-id: trunk@42946 -

M	compiler/m68k/cpupara.pas

******************************************************************************
commit 16fc8c8d9a05fc4f94c0e489892f0e82ad530e76
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Sep 8 09:21:17 2019 +0000

    m68k: added some handling for the explicit precision FPU instructions in the spilling and optimizer. fixed a_fsabs and a_fdabs names
    
    git-svn-id: trunk@42943 -

M	compiler/m68k/aasmcpu.pas
M	compiler/m68k/aoptcpu.pas
M	compiler/m68k/cpubase.pas

******************************************************************************
commit 5d9771d141a145cf168ad7570c99226c3611ad9f
Author: pierre <pierre@freepascal.org>
Date:   Sat Sep 7 21:14:12 2019 +0000

     Suppress range check/invalid typecast errors when compiling with -CriotR option
    
    git-svn-id: trunk@42942 -

M	compiler/symdef.pas

******************************************************************************
commit fd1d2271750c608100173ad89aa88cb9517cc211
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 6 07:56:06 2019 +0000

    m68k: more refactoring for fpu_capabilities instead of hardwired fpu types. 68040 and 68060 fpu types should now work
    
    git-svn-id: trunk@42929 -

M	compiler/m68k/n68kadd.pas

******************************************************************************
commit db2875cebaf152bf1dc77e3517039a77743b5b6c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Sep 6 07:25:45 2019 +0000

    m68k: added the remaining instructions with explicit rounding precision. fixed fsflmul to be fsglmul (this is also typo in the original 68k PRM)
    
    git-svn-id: trunk@42928 -

M	compiler/m68k/cpubase.pas
M	compiler/m68k/itcpugas.pas

******************************************************************************
commit 2a87b885b1c4d20f94f85a4467daae794188b473
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 5 21:51:36 2019 +0000

    m68k: added the most important FPU instructions with explicit rounding precision (eg. FSADD/FDADD)
    
    git-svn-id: trunk@42927 -

M	compiler/m68k/cpubase.pas
M	compiler/m68k/itcpugas.pas

******************************************************************************
commit 5eee29e5d1fd7b11f97871235f722b8d3aee391a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 5 21:49:27 2019 +0000

    m68k: refactor some code to not fail when the tasmop set will be bigger than 256 elements
    
    git-svn-id: trunk@42926 -

M	compiler/m68k/ag68kgas.pas
M	compiler/m68k/cpubase.pas
M	compiler/m68k/ra68kmot.pas

******************************************************************************
commit de095c4631c4ab452e02f0efe665b4d5ce1adfb8
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 5 21:43:51 2019 +0000

    m68k: refactoring to use fpu_capabilities at more places instead of hardwiring certain fpu types
    
    git-svn-id: trunk@42925 -

M	compiler/m68k/cgcpu.pas
M	compiler/m68k/n68kinl.pas

******************************************************************************
commit 0c6f7321bfec374bf9542a1e664911fff8e893d7
Author: florian <florian@freepascal.org>
Date:   Thu Sep 5 20:15:56 2019 +0000

    + AArch64: FoldShiftProcess optimization
    
    git-svn-id: trunk@42924 -

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/aoptcpu.pas
M	compiler/aarch64/cpubase.pas
M	compiler/aarch64/racpugas.pas

******************************************************************************
commit 36286441b245ba19b1deb984879e173fc7de8c33
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 5 19:32:57 2019 +0000

    m68k: try to optimize realconst operands into B/W/L sized integer operands. these are shorter to encode - which almost always means faster on m68k
    
    git-svn-id: trunk@42923 -

M	compiler/m68k/aoptcpu.pas

******************************************************************************
commit a019536cd5630612bb81e87cf98d665456076d7c
Author: florian <florian@freepascal.org>
Date:   Wed Sep 4 20:45:24 2019 +0000

    * avoid that -0.0 is handled by the eor optimization
    
    git-svn-id: trunk@42921 -

M	compiler/aarch64/ncpucon.pas

******************************************************************************
commit ed688aceee660abed27f84b18fa64e5d4af56fd9
Author: florian <florian@freepascal.org>
Date:   Wed Sep 4 20:45:23 2019 +0000

    * remove packed from tdynarray, it is not needed and especially 64 bit CPUs which require proper aligment, suffer from it
    
    git-svn-id: trunk@42920 -

M	rtl/inc/dynarr.inc

******************************************************************************
commit 8ffb72ddd0ff843e830641aed26fd6c6bdc126c2
Author: florian <florian@freepascal.org>
Date:   Wed Sep 4 16:36:54 2019 +0000

    * another missing part of r42916 ...
    
    git-svn-id: trunk@42919 -

M	.gitattributes
A	compiler/aarch64/ncpucon.pas

******************************************************************************
commit 69786ffe73a1247e34ceaceadde679a03e0e0d51
Author: florian <florian@freepascal.org>
Date:   Tue Sep 3 21:07:33 2019 +0000

    somehow committing went wrong, second part of last commit:
    + AArch64: support for vX.8b/vX.16b register names
    + support for more than 256 registers in the register dat files
    - removed totherregisterset
    + AArch64: use vmov to load immediates if possible
    + AArch64: use eor to clear mm registers
    
    git-svn-id: trunk@42917 -

M	compiler/aarch64/a64att.inc
M	compiler/aarch64/a64atts.inc
M	compiler/aarch64/a64ins.dat
M	compiler/aarch64/a64op.inc
M	compiler/aarch64/a64reg.dat
M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/cpubase.pas
M	compiler/aarch64/cpunode.pas
M	compiler/aarch64/ra64con.inc
M	compiler/aarch64/ra64dwa.inc
M	compiler/aarch64/ra64nor.inc
M	compiler/aarch64/ra64num.inc
M	compiler/aarch64/ra64rni.inc
M	compiler/aarch64/ra64sri.inc
M	compiler/aarch64/ra64sta.inc
M	compiler/aarch64/ra64std.inc
M	compiler/aarch64/ra64sup.inc
M	compiler/arm/cpubase.pas
M	compiler/avr/cpubase.pas
M	compiler/cgbase.pas
M	compiler/jvm/cpubase.pas
M	compiler/m68k/cpubase.pas
M	compiler/mips/cpubase.pas
M	compiler/powerpc/cpubase.pas
M	compiler/powerpc64/cpubase.pas
M	compiler/rgbase.pas
M	compiler/riscv32/cpubase.pas
M	compiler/riscv64/cpubase.pas
M	compiler/sparcgen/cpubase.pas
M	compiler/utils/mka64reg.pp
M	compiler/x86/cpubase.pas

******************************************************************************
commit a5a87fa84c08342e41d177168c616519ff01430a
Author: florian <florian@freepascal.org>
Date:   Tue Sep 3 20:59:13 2019 +0000

    + AArch64: support for vX.8b/vX.16b register names
    + support for more than 256 registers in the register dat files
    - removed totherregisterset
    + AArch64: use vmov to load immediates if possible
    + AArch64: use eor to clear mm registers
    + small command line tool for quick creating of vfp register list in a64reg.dat
    
    git-svn-id: trunk@42916 -

M	.gitattributes
A	compiler/utils/gena64vfp.pp

******************************************************************************
commit 9c00a8b616c42979f807b6aa818fd50b4e724ae9
Author: florian <florian@freepascal.org>
Date:   Sat Aug 31 19:37:17 2019 +0000

    + FMA support for aaarch64
    
    git-svn-id: trunk@42885 -

M	.gitattributes
M	compiler/aarch64/ncpuadd.pas
M	compiler/aarch64/ncpuinl.pas
A	tests/test/tfma1a64.pp

******************************************************************************
commit 0b2a53f4b04f5c1ba03bab84dcafd217f0234d88
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 28 11:54:48 2019 +0000

     TGDBMI_TupleOrListValue: exdend to parse a Tuple or List
    
    git-svn-id: trunk@42863 -

M	packages/ide/gdbmiwrap.pas

******************************************************************************
commit 03a1fef0cffdecc6913b585e74f367f69318a76d
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 28 11:53:04 2019 +0000

     Cope in TGDBInterface.WaitForProgramStop with absent frame
    
    git-svn-id: trunk@42862 -

M	packages/ide/gdbmiint.pas

******************************************************************************
commit c0212353d9766674574534c5a4daf95056d9aa16
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 26 20:18:57 2019 +0000

    Remove useless code (P.OSes was set again below)
    
    git-svn-id: trunk@42841 -

M	utils/fpdoc/fpmake.pp

******************************************************************************
commit fd20dc1086b02fe2dab270a5fe77afb548d4bbba
Author: florian <florian@freepascal.org>
Date:   Mon Aug 26 19:31:48 2019 +0000

    * support unique copies of currencies which are handles by torddef, resolves #36013
    
    git-svn-id: trunk@42837 -

M	.gitattributes
M	compiler/defcmp.pas
A	tests/webtbs/tw36013.pp

******************************************************************************
commit d29f44e1c730ca21c4a283925ec1241a096bf9c4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Aug 25 12:12:15 2019 +0000

    m68k: rework of the inline nodes to use fpu_capabilities. added fast path for round/trunc (enabled for fastmath only)
    
    git-svn-id: trunk@42814 -

M	compiler/m68k/n68kcnv.pas
M	compiler/m68k/n68kinl.pas

******************************************************************************
commit 7e1607e095b2c271a636993186e26a5d32fbf06f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 24 23:08:36 2019 +0000

    * correct alignment for the property table
    
    git-svn-id: trunk@42808 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 2dc771b7baba950cc451ff4c1c4cdae9c770cd23
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Aug 24 23:08:33 2019 +0000

    * TClassData also needs alignment dummies
    
    git-svn-id: trunk@42807 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 91ba1214d262265c80898e16748a68fad3875694
Author: michael <michael@freepascal.org>
Date:   Sat Aug 24 10:46:51 2019 +0000

    * Allow context when sorting lists (patch from Ondrej Pokorny, bug ID #0035962)
    
    git-svn-id: trunk@42798 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/lists.inc

******************************************************************************
commit 00a418f589341d6ed9f3ba4ee80f6e6d552aa541
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 23 21:57:17 2019 +0000

    * also correctly align the pointer for the record elements inside FPC_COPY
    
    git-svn-id: trunk@42781 -

M	rtl/inc/rtti.inc

******************************************************************************
commit 5e4c51056338e42ff6877b09cbbe990c27a2527e
Author: pierre <pierre@freepascal.org>
Date:   Fri Aug 23 15:55:54 2019 +0000

     Ensure that fpmake_proc.inc and fpmake_add.inc source files are integrated into source zips for packages and utils
    
    git-svn-id: trunk@42779 -

M	packages/fpmake.pp
M	utils/fpmake.pp

******************************************************************************
commit e7bf200fcb59edad3661047c902635a476fd6fb6
Author: pierre <pierre@freepascal.org>
Date:   Fri Aug 23 15:13:10 2019 +0000

     Disable explicit list of supported OSes
    
    git-svn-id: trunk@42778 -

M	utils/fpcres/fpmake.pp

******************************************************************************
commit deaeac82d0841366ed1ab02ae80e96222c3ee238
Author: pierre <pierre@freepascal.org>
Date:   Fri Aug 23 15:11:36 2019 +0000

     Add package desciption and remove limitation to darwin and iphonesim systems only
    
    git-svn-id: trunk@42777 -

M	utils/fpcreslipo/fpmake.pp

******************************************************************************
commit 33f6adfab6658afd26b1738bfc9b7b69bb9890a7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 23 14:59:13 2019 +0000

    * fix for Mantis #35982: free created attributes once the type is freed
    + added test
    
    git-svn-id: trunk@42773 -

M	.gitattributes
M	packages/rtl-objpas/src/inc/rtti.pp
A	tests/webtbs/tw35982.pp

******************************************************************************
commit 707e05d131eae05c11007aa6cd58a64baf73e938
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 22 20:45:48 2019 +0000

    * check for CPUM68k instead of M68K; the latter should only be defined when building the compiler, so I wonder how that ever worked...
    
    git-svn-id: trunk@42765 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 0c464605483132ac901f4004aa69a8d33555b671
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 22 20:45:45 2019 +0000

    * m68k has slightly different alignment requirements, so that aligntoptr might result in incorrect addresses for a record's element entries, thus we introduce a separate AlignTypeData function that handles this correctly
    
    git-svn-id: trunk@42764 -

M	rtl/inc/rtti.inc
M	rtl/inc/system.inc

******************************************************************************
commit 3662afe93b6a35f38d1c7fc50945c14fded32d59
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Aug 22 15:38:08 2019 +0000

    m68k: added more cpu capabilities. changed the CG at a few places to actually use them
    
    git-svn-id: trunk@42763 -

M	compiler/m68k/cgcpu.pas
M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit 162a62d4ce596c967180bd87877cb3393b83c309
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 21 08:58:09 2019 +0000

     Update after commit 42749
    
    git-svn-id: trunk@42753 -

M	utils/fpcm/revision.inc

******************************************************************************
commit e45ad64d41bd3f2e8505042ea588a4e6fdb2bae6
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 21 07:23:51 2019 +0000

       * Revert changes to tarray15.pp
       * Modify treadonlydata.pp to not use dynamic array.
       + Add test treadonlydata2.pp that should fail at compile time.
    
    git-svn-id: trunk@42752 -

M	.gitattributes
M	tests/test/tarray15.pp
M	tests/test/treadonlydata.pp
A	tests/test/treadonlydata2.pp

******************************************************************************
commit 9b0893e6aee0028ad29f5e741d676736aaedf336
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 20 16:07:59 2019 +0000

    Add generated Makefile which was not on svn yet
    
    git-svn-id: trunk@42751 -

M	.gitattributes
A	packages/libndsfpc/examples/graphics/grit/Makefile

******************************************************************************
commit 5ed7bd35df9ff16f85ee06e12f2ebc6694c00fc1
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 20 15:58:10 2019 +0000

     Update all trunk/fpcsrc Makefile's after commit 42749
    
    git-svn-id: trunk@42750 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit a652f9e3041b2e4de8ce2f6d62974bdeb124a3d0
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 20 15:40:49 2019 +0000

       Adapt fpc_clean and fpc_cleanall targets
       to handle link.res ans script.res vairants with ProcessID.
       Also remove *$(FULL_TARGET).fpm file for fpc_clean
       and *.fpm for fpc_cleanall target.
    
    git-svn-id: trunk@42749 -

M	utils/fpcm/fpcmake.inc
M	utils/fpcm/fpcmake.ini

******************************************************************************
commit e8ae49012860a2031a52ce2d8ea071c2939f8dc9
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 20 14:25:32 2019 +0000

     sparc32 bit needs SA_SIGINFO
    
    git-svn-id: trunk@42748 -

M	rtl/linux/ossysc.inc

******************************************************************************
commit c406d0121eef5cc8546cca9eec41f680f5ba3f5a
Author: pierre <pierre@freepascal.org>
Date:   Tue Aug 20 14:15:06 2019 +0000

     Move test for read-only data to new separate test source treadonlydata.pp
    
    git-svn-id: trunk@42747 -

M	.gitattributes
M	tests/test/tarray15.pp
A	tests/test/treadonlydata.pp

******************************************************************************
commit 94e22f1262e2a692cf1a39f1e6c47af351ed436d
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 20 13:49:43 2019 +0000

    + added a getter for the NewExeSegmentFlags property, that returns the
      nesfHasRelocationData flag according to whether the Relocations list is
      non-empty
    
    git-svn-id: trunk@42746 -

M	compiler/ogomf.pas

******************************************************************************
commit e7d590724ac8b26537fa90051f065a86d86bb443
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 20 11:42:07 2019 +0000

    + added and implemented the TNewExeRelocationList class
    
    git-svn-id: trunk@42744 -

M	compiler/ogomf.pas

******************************************************************************
commit 6f2b027e511472be397dde845f1703f8f44afe14
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 19 20:23:31 2019 +0000

     Avoid range check error for functions returning THandle type by using unusedhandle system constant
    
    git-svn-id: trunk@42742 -

M	rtl/msdos/sysutils.pp

******************************************************************************
commit 8fd0a27875abb2636a1388876f590a3a56d83b56
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 19 20:22:22 2019 +0000

     Avoid range check error for avr/i8086 CPU by changing local variable dist type to asizeuint
    
    git-svn-id: trunk@42741 -

M	compiler/ncgset.pas

******************************************************************************
commit 4936358beebea71d5f20ee4673549db61dc60b5d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Aug 19 15:07:22 2019 +0000

    m68k: fpu capabilities support
    
    git-svn-id: trunk@42739 -

M	compiler/fpcdefs.inc
M	compiler/m68k/cpuinfo.pas

******************************************************************************
commit 27a4a3d44688074a431e652ce9cd97410a1156e2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 18 15:55:11 2019 +0000

      * added error checking to the test
    
    git-svn-id: trunk@42730 -

M	tests/test/theap2.pp

******************************************************************************
commit 693e72ade31fda191fac405b81dd5f28afc6e47a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 18 15:55:07 2019 +0000

      * Darwin now uses Mach VM calls for memory allocation instead of mmap/munmap
      + added sysrealloc support for Darwin (Darwin does not have mremap)
    
    git-svn-id: trunk@42729 -

M	.gitattributes
M	rtl/bsd/sysos.inc
M	rtl/bsd/system.pp
A	rtl/darwin/sysmach.inc
M	rtl/unix/sysheap.inc

******************************************************************************
commit 14a7429e19059bad9c62c2d2e0fabb544db17e56
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Aug 18 15:55:03 2019 +0000

      * factored out inlinenode check whether it may have a side effect
       o also added register assert as having a side-effect (if asserts are
         enabled)
    
    git-svn-id: trunk@42728 -

M	compiler/ninl.pas
M	compiler/nutils.pas

******************************************************************************
commit 5d1d9858d1fc68fddd69f5c7d940f84ff79282b4
Author: florian <florian@freepascal.org>
Date:   Sun Aug 18 12:09:03 2019 +0000

    + VMovVMov2VMov optimization
    
    git-svn-id: trunk@42727 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 3d5ab366e1d6d2df5ec2c6edf3a870df2a0213f0
Author: florian <florian@freepascal.org>
Date:   Sun Aug 18 11:28:39 2019 +0000

    * fix RemoveSuperfluousVMov if the VMov destination reg is an integer register, resolved #35978
    
    git-svn-id: trunk@42726 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 4f38f12815c7cd5b02c1dc987dccc248dc442450
Merge: 9230ae5aab a5e158f8d6
Author: florian <florian@freepascal.org>
Date:   Sun Aug 18 11:18:41 2019 +0000

    -- Zusammenführen von r42706 bis r42724 in ».«:
    U    tests/utils/avx/avxopcodes.pas
    U    compiler/x86/aasmcpu.pas
    U    compiler/x86/rax86.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r42706 bis r42724 in ».«:
     U   .
    
    git-svn-id: trunk@42725 -


******************************************************************************
commit 9230ae5aab60d4e085da647271f2e77779862251
Author: florian <florian@freepascal.org>
Date:   Sat Aug 17 16:14:22 2019 +0000

    o overhaul-base.patch by J. Gareth Moreton, base for further patches
      + some inline directives added
      + some functions exported from units
    
    git-svn-id: trunk@42722 -

M	compiler/aopt.pas
M	compiler/aoptbase.pas
M	compiler/aoptobj.pas
M	compiler/aoptutils.pas

******************************************************************************
commit f0213a2c46a9fd1ea047da6c8f54b78823ef9c71
Author: florian <florian@freepascal.org>
Date:   Fri Aug 16 20:47:37 2019 +0000

    + make use of the mremap syscall of linux to re-allocate large memory blocks faster
    
    git-svn-id: trunk@42713 -

M	.gitattributes
M	rtl/inc/heap.inc
M	rtl/linux/ossysc.inc
M	rtl/unix/sysheap.inc
A	tests/test/theap2.pp

******************************************************************************
commit 970ce7f24325e13a153816d8612fec071e1e674b
Author: pierre <pierre@freepascal.org>
Date:   Fri Aug 16 16:31:08 2019 +0000

     Avoid error with -CR option in tobjectdef.vmt_def method
    
    git-svn-id: trunk@42711 -

M	compiler/symdef.pas

******************************************************************************
commit ba203c0564691f1637798193368a292f14b9765a
Author: florian <florian@freepascal.org>
Date:   Fri Aug 16 11:35:03 2019 +0000

    + x86 makes use of fpu_capabilities
    * moved CPUX86_HAS_AVXUNIT to FPUX86_HAS_AVXUNIT
    + mm register allocator can be initialized with 32 mm registers of AVX512
    
    git-svn-id: trunk@42707 -

M	compiler/fpcdefs.inc
M	compiler/i386/cpuinfo.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/cpubase.pas
M	compiler/x86_64/cgcpu.pas
M	compiler/x86_64/cpuinfo.pas

******************************************************************************
commit 0e79bd2c70f21ad1df82353e163a6014c0dcdfe6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 15 14:33:03 2019 +0000

    + add a test that ensures that the introduction of fullscale array constructors didn't mess with array constructors passed to an open array of Variant
    
    git-svn-id: trunk@42701 -

M	.gitattributes
A	tests/test/tarray21.pp

******************************************************************************
commit 663040a666d46d3c47d40c70dd2a36ded405e854
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 15 14:32:57 2019 +0000

    * ensure that aprocdef is initialized to Nil to catch problems with compare_defs_ext() easier
    
    git-svn-id: trunk@42699 -

M	compiler/ncnv.pas

******************************************************************************
commit 10af6fe2fb5cc09e2573c81f3e51eb4ecb01aaf7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Aug 15 13:29:19 2019 +0000

    * fix for Mantis #35965: correct alignment also for the class info used to retrieve the unit name
    + added test
    
    git-svn-id: trunk@42697 -

M	.gitattributes
M	rtl/inc/objpas.inc
A	tests/webtbs/tw35965.pp

******************************************************************************
commit 03cd0cce594750e9b0b1e032fe5f65032b654798
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Aug 15 10:32:36 2019 +0000

      * change result of pi function from ansistring into dynamic array, so we
        generate unique calls every time we write to it
      * replace calls to high(ansistring/dynarray) in the inner body of the pi
        function with a variable that gets assigned once
      -> the FPC version is now just as fast as the C version
    
    git-svn-id: trunk@42695 -

M	tests/bench/pi.pp

******************************************************************************
commit 45847da69310f4b42a005119be640012399c961b
Author: florian <florian@freepascal.org>
Date:   Thu Aug 15 09:37:50 2019 +0000

    * fix building for targets with no vfp support
    
    git-svn-id: trunk@42693 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit f82cc96cb939da4edee6680f28b0331ddc490b20
Author: pierre <pierre@freepascal.org>
Date:   Wed Aug 14 23:00:35 2019 +0000

     Check that inserttypeconv really change node type to ttypeconvnode before setting convtype field (should fix taddbool.pp bytebool failure on powerpc)
    
    git-svn-id: trunk@42692 -

M	compiler/nadd.pas

******************************************************************************
commit 81fba52adbb01bd7265cc598200456d2367f5167
Author: nickysn <nickysn@gmail.com>
Date:   Wed Aug 14 15:10:22 2019 +0000

    + added constant NewExeRelocationRecordSize
    
    git-svn-id: trunk@42691 -

M	compiler/ogomf.pas

******************************************************************************
commit 71df2911da2124b7bd69428bda51dd6964e51c5d
Author: nickysn <nickysn@gmail.com>
Date:   Wed Aug 14 02:19:26 2019 +0000

    * fixed compilation with -Sew
    
    git-svn-id: trunk@42687 -

M	compiler/ogomf.pas

******************************************************************************
commit 0224d632f1fb094078200318febb294e828ceeec
Author: nickysn <nickysn@gmail.com>
Date:   Wed Aug 14 02:14:02 2019 +0000

    + added and implemented method TNewExeRelocation.EncodeTo
    
    git-svn-id: trunk@42686 -

M	compiler/ogomf.pas

******************************************************************************
commit 3a1ecd4f167c06645577d18c1ffde5374b8ff445
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 22:12:53 2019 +0000

    * fix tarminlinenode.first_sqrt_real
    
    git-svn-id: trunk@42685 -

M	compiler/arm/narminl.pas

******************************************************************************
commit 0a0397c9f5c30e67ab1a94e4db4b5cde8288b92b
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 22:12:52 2019 +0000

    * forgotten part of previous commit: fix BccB2Cond optimization on arm
    
    git-svn-id: trunk@42684 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit ba0768b6a6156b8c57274978ec072111b419ed6d
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 22:12:52 2019 +0000

    * building with -Cfvfpv2 hopefully fixed
    
    git-svn-id: trunk@42683 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 867df5362c21a89e6aef76d32f6f6a717d80c9e3
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 22:12:51 2019 +0000

    + basic Neon support in the assembler writer
    + make use of VEOR if possible to clear VFP registers
    
    git-svn-id: trunk@42682 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/armatt.inc
M	compiler/arm/armatts.inc
M	compiler/arm/armins.dat
M	compiler/arm/armnop.inc
M	compiler/arm/armop.inc
M	compiler/arm/armtab.inc
M	compiler/arm/cgcpu.pas

******************************************************************************
commit c418d63c16021b2bcc97e6c5e621acb6945445c6
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 22:12:49 2019 +0000

    + create defines with FPU capabilites
    + make use of FPU capability defines in the rtl
    
    git-svn-id: trunk@42681 -

M	compiler/arm/cpuinfo.pas
M	compiler/fpcdefs.inc
M	compiler/options.pas
M	rtl/arm/arm.inc
M	rtl/arm/math.inc
M	rtl/arm/mathu.inc

******************************************************************************
commit 85edf1c1ebd0fcd58ec25d8f083ab5345d531bd0
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 18:41:15 2019 +0000

    * reworked arm vfp capability handling to use fpu_capabilites
    
    git-svn-id: trunk@42679 -

M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/cpupi.pas
M	compiler/arm/narmadd.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/narminl.pas
M	compiler/arm/narmmat.pas
M	compiler/options.pas
M	compiler/symdef.pas

******************************************************************************
commit 5d8078f6662f7dd4d24cc5c20696a5be1cbacab9
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 13 14:59:55 2019 +0000

    + added class, representing a NewExe relocation entry
    
    git-svn-id: trunk@42677 -

M	compiler/ogomf.pas

******************************************************************************
commit fd70fcace6f414013a726b5f45df78e91459befc
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 10:07:30 2019 +0000

    * fix BccB2Cond optimization on arm
    
    git-svn-id: trunk@42676 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 46b4f911753672e5044af4db7468f3ffa02d25db
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 09:45:13 2019 +0000

    * compilation on i386-linux fixed
    
    git-svn-id: trunk@42675 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 413beee9ae1bfed7219fdfd1249a123fab87aa71
Merge: 416c974d3f ad791e8e34
Author: florian <florian@freepascal.org>
Date:   Tue Aug 13 08:54:47 2019 +0000

    -- Zusammenführen von r42652 bis r42673 in ».«:
    U    compiler/x86/aasmcpu.pas
    -- Aufzeichnung der Informationen für Zusammenführung von r42652 bis r42673 in ».«:
     U   .
    
    git-svn-id: trunk@42674 -

MM	compiler/x86/aasmcpu.pas

******************************************************************************
commit f23f3a4c5e194d651d180f28beb810848419f716
Author: florian <florian@freepascal.org>
Date:   Mon Aug 12 21:25:30 2019 +0000

      * enable TCpuAsmOptimizer.RemoveSuperfluousVMov for VLDR
      * fixed TCpuAsmOptimizer.RemoveSuperfluousVMov to be actually applied
    
    git-svn-id: trunk@42668 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 58bbbadc16877e99d24515f7e05920c47854eac7
Author: florian <florian@freepascal.org>
Date:   Mon Aug 12 20:30:18 2019 +0000

    * fix return registers for hfa's containing singles
    
    git-svn-id: trunk@42666 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 5a379cc256b6e89d1031584bf2d49b1ccbc82c1f
Author: florian <florian@freepascal.org>
Date:   Mon Aug 12 20:29:03 2019 +0000

    * fix detection of floating point constants for arm
    
    git-svn-id: trunk@42665 -

M	compiler/arm/cpubase.pas

******************************************************************************
commit 5edc520468a3b2594d7ddd6795a2d806f01d9ed6
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 12 16:04:07 2019 +0000

    + fill SizeInFile properly in the NewExe segment table
    
    git-svn-id: trunk@42662 -

M	compiler/ogomf.pas

******************************************************************************
commit 6398c42a3831550ff98de4f629f474bab796c086
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 12 15:47:08 2019 +0000

    + fill MinAllocSize in the NewExe segment table
    
    git-svn-id: trunk@42661 -

M	compiler/ogomf.pas

******************************************************************************
commit 31431d99ab5a655837445adf2fc2339d25a1ab98
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 12 14:24:01 2019 +0000

    * limit the heapsize to 65520 bytes on win16 (the $M directive in win16 only
      sets the size of the "local heap", which is limited to a single segment. The
      actual heap in the large memory model is the "global heap", which doesn't have
      a set limit, but grows with the memory allocated)
    
    git-svn-id: trunk@42660 -

M	compiler/scandir.pas

******************************************************************************
commit ae953214eea3c5b8dff0255eb02167bc7cbef58d
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 12 12:58:16 2019 +0000

    * fixed quoting of the "description" wlink option on Windows
    
    git-svn-id: trunk@42659 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 24e3d95fe018bc7f6b9604d008b471855c09023a
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 12 12:51:37 2019 +0000

    - don't create a heap segment for win16
    
    git-svn-id: trunk@42658 -

M	compiler/i8086/n8086util.pas
M	compiler/ogomf.pas

******************************************************************************
commit 8015bfb5a08f3dad271472b11da7cbf3b2f87515
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 12 12:17:00 2019 +0000

     Fix arm specific failure in tw12048
    
    git-svn-id: trunk@42657 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 5947143d8fd2a02ed2b0d164eb4ad5434c335f88
Author: florian <florian@freepascal.org>
Date:   Mon Aug 12 10:46:19 2019 +0000

      * intel asm reader: try to read avx512 extensions only if the instruction supports them
      * cleanup
    
    git-svn-id: trunk@42656 -

M	.gitattributes
M	compiler/scanner.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86int.pas
A	tests/webtbs/tw35953.pp

******************************************************************************
commit 4c9a0403f4c79d12055bd04f67d9f52cebce3a6c
Author: florian <florian@freepascal.org>
Date:   Sun Aug 11 19:35:34 2019 +0000

    * compilation on i386 fixed
    
    git-svn-id: trunk@42655 -

M	compiler/x86/aasmcpu.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit 7f8dc75604598da1d48340c5c46f471a5102e9f9
Merge: fc46b6c57c 70a2b0b260
Author: florian <florian@freepascal.org>
Date:   Sun Aug 11 17:29:30 2019 +0000

    -- Zusammenführen der Unterschiede zwischen Projektarchiv-URLs in ».«:
    U    compiler/i8086/r8086int.inc
    U    compiler/i8086/r8086nor.inc
    U    compiler/i8086/r8086rni.inc
    U    compiler/i8086/r8086std.inc
    U    compiler/i386/i386prop.inc
    U    compiler/i386/i386att.inc
    U    compiler/i386/i386atts.inc
    U    compiler/i386/i386int.inc
    U    compiler/i8086/i8086int.inc
    U    compiler/i8086/i8086op.inc
    U    compiler/i8086/r8086dwrf.inc
    U    compiler/i8086/r8086ari.inc
    U    compiler/i8086/r8086con.inc
    U    compiler/i8086/r8086nasm.inc
    U    compiler/i8086/r8086num.inc
    U    compiler/i8086/r8086stab.inc
    U    compiler/i386/i386nop.inc
    U    compiler/i386/i386op.inc
    U    compiler/i386/i386tab.inc
    U    compiler/i386/r386ot.inc
    U    compiler/i386/r386ari.inc
    U    compiler/i386/r386att.inc
    U    compiler/i386/r386con.inc
    U    compiler/i386/r386dwrf.inc
    U    compiler/i386/r386int.inc
    U    compiler/i386/r386iri.inc
    U    compiler/i386/r386nasm.inc
    U    compiler/i386/r386nor.inc
    U    compiler/i386/r386nri.inc
    U    compiler/i386/r386num.inc
    U    compiler/i386/r386rni.inc
    U    compiler/i386/r386sri.inc
    U    compiler/i386/r386stab.inc
    U    compiler/i386/r386std.inc
    U    compiler/i8086/i8086prop.inc
    U    compiler/i8086/i8086att.inc
    U    compiler/i8086/i8086atts.inc
    U    compiler/i8086/i8086nop.inc
    U    compiler/i8086/i8086tab.inc
    U    compiler/i8086/r8086ot.inc
    U    compiler/i8086/r8086att.inc
    U    compiler/i8086/r8086iri.inc
    U    compiler/i8086/r8086nri.inc
    U    compiler/i8086/r8086sri.inc
    U    compiler/x86/agx86int.pas
    U    compiler/x86/rax86int.pas
    U    compiler/x86/aasmcpu.pas
    U    compiler/x86/rax86.pas
    U    compiler/x86/x86ins.dat
    U    compiler/x86/agx86att.pas
    U    compiler/x86/cpubase.pas
     U   packages/rtl-objpas/src/inc/rtti.pp
     U   packages/rtl-objpas/tests/tests.rtti.pas
     U   rtl
    U    compiler/x86_64/x8664att.inc
    U    compiler/x86_64/x8664tab.inc
    U    compiler/x86_64/r8664con.inc
    U    compiler/x86_64/r8664nasm.inc
    U    compiler/x86_64/r8664sri.inc
    U    compiler/aasmtai.pas
    U    compiler/scanner.pas
    U    tests/utils/avx/readme.txt
    U    compiler/x86_64/x8664ats.inc
    U    compiler/x86_64/x8664op.inc
    U    compiler/x86_64/r8664att.inc
    U    compiler/x86_64/r8664iri.inc
    U    compiler/x86_64/r8664rni.inc
    U    compiler/pp.lpi
    U    compiler/msgtxt.inc
    U    compiler/ppcx64.lpi
    U    compiler/x86_64/x8664pro.inc
    U    compiler/x86_64/x8664nop.inc
    U    compiler/x86_64/r8664ari.inc
    U    compiler/x86_64/r8664int.inc
    U    compiler/x86_64/r8664num.inc
    U    compiler/x86_64/r8664std.inc
    U    compiler/msgidx.inc
    U    compiler/utils/mkx86ins.pp
    U    compiler/x86/x86reg.dat
    D    compiler/x86/cx86innr.inc
    U    compiler/x86_64/x8664int.inc
    U    compiler/x86_64/r8664ot.inc
    U    compiler/x86_64/r8664dwrf.inc
    U    compiler/x86_64/r8664nor.inc
    U    compiler/x86_64/r8664stab.inc
    U    compiler/msg/errore.msg
    U    compiler/utils/mkx86reg.pp
    U    tests/utils/avx/asmtestgenerator.pas
    U    tests/utils/avx/options.pas
    U    tests/utils/avx/avxtestgenerator.pp
    U    tests/test/units/character/tissurrogatepair2.pp
    U    tests/test/units/character/tissurrogatepair.pp
    U    tests/utils/avx/avxopcodes.pas
     U   .
    -- Aufzeichnung der Informationen für Zusammenführung zwischen Projektarchiv-URLs in ».«:
     U   .
     U   packages/rtl-objpas/src/inc/rtti.pp
     U   packages/rtl-objpas/tests/tests.rtti.pas
     U   rtl
    
    git-svn-id: trunk@42654 -

MM	compiler/x86/cpubase.pas
MM	compiler/x86/rax86.pas
MM	compiler/x86/rax86int.pas
MM	compiler/x86/x86reg.dat

******************************************************************************
commit fc46b6c57c2444fd5a87915e683ba725f1a10c9f
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Aug 11 17:26:44 2019 +0000

    * apply patch by Blaise.ru to pass the record name for an internal record more efficiently
    
    git-svn-id: trunk@42653 -

M	compiler/symdef.pas

******************************************************************************
commit 955ebf2f098c47de6e3209fe55469965c79542f6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Aug 11 17:26:35 2019 +0000

    * applied patch by Blaise.ru to reduce code duplication in trecorddef.create_global_internal()
    
    git-svn-id: trunk@42652 -

M	compiler/symdef.pas

******************************************************************************
commit d69cf3a440201fe5ff83b55f8c3332236319d0e1
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 12:42:28 2019 +0000

    + pass the ParmCount parameter from the ExpDef OMF record to the NewExe entry
      point
    
    git-svn-id: trunk@42641 -

M	compiler/ogomf.pas

******************************************************************************
commit 141f2403d367ec874aea7f192e8b9e1d003b96a3
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 02:34:24 2019 +0000

    + added system_i8086_win16 to the supported targets of the i8086 omf internal
      assembler/object writer
    
    git-svn-id: trunk@42639 -

M	compiler/ogomf.pas

******************************************************************************
commit 817ec5e6f284e61546c133fb7000f780c3c7d7bb
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 02:11:25 2019 +0000

    + allow creating win16 dlls with the wlink external linker as well
    
    git-svn-id: trunk@42638 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit cc7e623802c1dd79578718708f0a54647263fda9
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 01:54:59 2019 +0000

    + enable the IsDll flag in the NewExe header when creating dlls with the
      internal linker. Also make a SINGLEDATA (instead of MULTIPLEDATA) executable
      and entry points in this case.
    
    git-svn-id: trunk@42637 -

M	compiler/ogomf.pas

******************************************************************************
commit 4cd8193c7975bb1a03ae2f9fe36d043462a5a38a
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 01:53:29 2019 +0000

    + enable the ISSHAREDLIBRARY option for the win16 internal linker when creating a dll
    
    git-svn-id: trunk@42636 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 2b767c4f8bdf972d3413db62b76de03b5ba59a7d
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:55:17 2019 +0000

    + also copy ResidentName in TOmfObjData.AddExportSymbol
    
    git-svn-id: trunk@42635 -

M	compiler/ogomf.pas

******************************************************************************
commit f40736438cf33894a6a7b408da788d889959f699
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:29:33 2019 +0000

    + add all exported by name symbols to the resident or the nonresident name table
    
    git-svn-id: trunk@42634 -

M	compiler/ogomf.pas

******************************************************************************
commit 238c9e576ced17809f6587d9114414adeaeb4329
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:18:06 2019 +0000

    + pass the description option to wlink to set the module description string when
      using the external linker on the win16 target
    
    git-svn-id: trunk@42633 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit b7a4965ac31cdd9584e980ce3082e8a63924e0a4
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:11:45 2019 +0000

    - suppress the warning that the $D directive is not supported on i8086-win16
    
    git-svn-id: trunk@42632 -

M	compiler/scandir.pas

******************************************************************************
commit 90a164bcdac5e814327c161d2ce7dcd9e4a3c725
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:11:12 2019 +0000

    + write the module description as the first entry to the nonresident names table
    
    git-svn-id: trunk@42631 -

M	compiler/ogomf.pas

******************************************************************************
commit 7bb6b525b1183a4155ebe3c51c1aefe84a2a5f78
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 10 00:03:51 2019 +0000

    + also write the nonresident name table
    
    git-svn-id: trunk@42630 -

M	compiler/ogomf.pas

******************************************************************************
commit d1d2f6b7017a3ece17383831dabf9835bee88900
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 23:57:00 2019 +0000

    * the resident table entry/table classes renamed "export table", because the
      same classes can be used both for the resident and nonresident tables (they
      share the same structure)
    
    git-svn-id: trunk@42629 -

M	compiler/ogomf.pas

******************************************************************************
commit 9f0f31a1e91daf920f45121f11e569328377011c
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 23:50:59 2019 +0000

    + write the entry table to the NewExe file
    
    git-svn-id: trunk@42628 -

M	compiler/ogomf.pas

******************************************************************************
commit 2d77a2c10478d1aa2d65520c5f0b4022e4280fcd
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 23:15:07 2019 +0000

    + add entry points to the entry table for all exported NewExe symbols
    
    git-svn-id: trunk@42627 -

M	compiler/ogomf.pas

******************************************************************************
commit 8f3aa926781ca9fa06f43c8394d53864a6498b0c
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 23:01:34 2019 +0000

    + added class TNewExeEntryPoint and methods/properties to TNewExeEntryTable to
      make it hold a list of entry points
    
    git-svn-id: trunk@42626 -

M	compiler/ogomf.pas

******************************************************************************
commit 3da4cf0792d73fae6a0dad36f2f58fe6f02a72e2
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 22:15:36 2019 +0000

    + assign ordinals to all exported symbols
    
    git-svn-id: trunk@42625 -

M	compiler/ogomf.pas

******************************************************************************
commit 99b1283e2ec3b51085bdec70f7d60f02bdd98d27
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 20:38:31 2019 +0000

    + implemented TOmfObjData.AddExportSymbol - the exported symbols are recorded in
      the newly introduced TOmfObjData.ExportedSymbolList
    
    git-svn-id: trunk@42622 -

M	compiler/ogomf.pas

******************************************************************************
commit 4b54cbea1e5de056d503cd1c195d1759c0b3c474
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 17:08:11 2019 +0000

    + parse ExpDef OMF records and delegate them to a new method
      TOmfObjData.AddExportSymbol (not implemented yet)
    
    git-svn-id: trunk@42621 -

M	compiler/ogomf.pas

******************************************************************************
commit 262cecf5285899bf64f3be1511692f34aeab7dc2
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 16:47:37 2019 +0000

    + added class for writing the NewExe entry table - not fully implemented yet
    
    git-svn-id: trunk@42620 -

M	compiler/ogomf.pas

******************************************************************************
commit bd168fc5520871b9b53601659a92f68568a31276
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 16:09:51 2019 +0000

    + fill the NewExe entry table offset
    
    git-svn-id: trunk@42619 -

M	compiler/ogomf.pas

******************************************************************************
commit 7e78fc1d7faec4d9263b3551e0c3efe55fe5553d
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 15:03:22 2019 +0000

    * strip the '.dll' extension from the library name when creating import
      libraries as well. This ensures that NewExe binaries, created by the external
      linker don't have the '.dll' extension in them.
    
    git-svn-id: trunk@42618 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 7038d18d5025accdbf95d3b6f8ddea4025542b06
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 14:51:35 2019 +0000

    * fixed wrong typecast in TNewExeImportedNameTable.GetSize
    
    git-svn-id: trunk@42617 -

M	compiler/ogomf.pas

******************************************************************************
commit 8dea445ffe45d8630f7835058cbf8283cd6e7e93
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 14:50:26 2019 +0000

    + fill the NewExe module reference table
    
    git-svn-id: trunk@42616 -

M	compiler/ogomf.pas

******************************************************************************
commit 1f2354752ccda1d531faef430b0094daf6c66869
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 14:27:11 2019 +0000

    * when reading ImpDef records, add '.dll' to the libname if it has no extension,
      in order to be consistent with externals, declared in pascal files. The '.dll'
      extension will be stripped later, when generating the NewExe file.
    
    git-svn-id: trunk@42615 -

M	compiler/ogomf.pas

******************************************************************************
commit dd9c76eeecbc3f607c7f9973e66732a6fd61f0b0
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 14:19:41 2019 +0000

    * strip the '.dll' extension from the library names before adding them to the
      NewExe imported name table
    
    git-svn-id: trunk@42614 -

M	compiler/ogomf.pas

******************************************************************************
commit deefeb1ca0cbd905cc9e677eca59c8e6c9f60022
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 13:49:36 2019 +0000

    + calculate the table offset of each string in the NewExe imported name table
    
    git-svn-id: trunk@42613 -

M	compiler/ogomf.pas

******************************************************************************
commit d24cfcb31c283c66bb67c2d57e6be8d6e1fba971
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 13:35:53 2019 +0000

    * small optimization in TNewExeOutput.FillImportedNameTable - only add the
      library name once, instead of trying to add it (which causes a look up) for
      every imported symbol
    
    git-svn-id: trunk@42612 -

M	compiler/ogomf.pas

******************************************************************************
commit d5a18f03a857c623cadf41ba2e26bcb32d9f93b1
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 9 13:32:57 2019 +0000

    + fill and write the NewExe imported name table
    
    git-svn-id: trunk@42611 -

M	compiler/ogomf.pas

******************************************************************************
commit 1736950d58bbc94bcdba43bf1e79848c1bce1c24
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 8 21:37:14 2019 +0000

    + added property that determines the resident name table size in bytes and use
      it to fill the offset to the start of the module reference table in NewExe
      files
    
    git-svn-id: trunk@42607 -

M	compiler/ogomf.pas

******************************************************************************
commit 251a93456ec25acccaca2cbbaee7a09ff608163b
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 8 21:28:58 2019 +0000

    + added constructor to TNewExeResidentNameTableEntry that allows you to
      initialize this entry's ordinal number
    
    git-svn-id: trunk@42606 -

M	compiler/ogomf.pas

******************************************************************************
commit 35a4f96100870dd1de78141caf90c03477ad8758
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 8 15:28:11 2019 +0000

    + create the resident name table in the NewExe file writer
    
    git-svn-id: trunk@42605 -

M	compiler/ogomf.pas

******************************************************************************
commit 3b08c6b0ea1c7d2a960bde6e004ee8f0d59b786a
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 8 14:38:25 2019 +0000

    + write the resource table (empty for now) to NewExe files
    
    git-svn-id: trunk@42604 -

M	compiler/ogomf.pas

******************************************************************************
commit 008c1436d808d779dc129b38155ca2c5d7d68f23
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 8 14:10:21 2019 +0000

     Fix bug report 35937 by simple assembly code change and add test
    
    git-svn-id: trunk@42603 -

M	.gitattributes
M	rtl/powerpc/powerpc.inc
M	rtl/powerpc64/powerpc64.inc
A	tests/webtbs/tw35937.pp

******************************************************************************
commit 70b2904c48d6075c895a9d901481474cb2712346
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 8 06:26:40 2019 +0000

     * Issue file change before line and column change in token writes to allow for better display in ppudump utility
    
    git-svn-id: trunk@42601 -

M	compiler/scanner.pas

******************************************************************************
commit 6d2a7a1b27c85a67ea35210900d5e5e27d8ba9d4
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 8 06:24:47 2019 +0000

     Fix change_endian code to read double and single float data
    
    git-svn-id: trunk@42600 -

M	compiler/entfile.pas

******************************************************************************
commit 90bab63e513c3db6a75d67bef0e76304935a1b63
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Aug 7 09:04:57 2019 +0000

    m68k/vasm: remove bits of Linux support. this combination has never really been tested or supported, and got broken recently. m68k-elf-linux has good enough GNU binutils anyway
    
    git-svn-id: trunk@42597 -

M	compiler/m68k/ag68kvasm.pas

******************************************************************************
commit 0c4d02ff9cc3ca0c9055a6e594c983b10edc3902
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 6 13:08:27 2019 +0000

    + detect heap sections and fill the local heap size in the NewExe header
    
    git-svn-id: trunk@42595 -

M	compiler/ogomf.pas

******************************************************************************
commit 321e4d5837f7747c6ac08b58e3e760321df6b655
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 6 00:44:00 2019 +0000

    * convert the internal name from IMPDEF records to upper case if the
      CaseSensitiveSymbols option is off
    
    git-svn-id: trunk@42590 -

M	compiler/ogomf.pas

******************************************************************************
commit 295daf4a7fca682f9a043bf284f75c0661f9b53a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 6 00:40:43 2019 +0000

    + recognize stack segments and fill the total stack size in the NewExe header
    
    git-svn-id: trunk@42589 -

M	compiler/ogomf.pas

******************************************************************************
commit a86623b97a80ed644ae83cc62f285bf0cde3aa43
Author: nickysn <nickysn@gmail.com>
Date:   Tue Aug 6 00:23:31 2019 +0000

    + initialize the flags for the code and data segments in the NewExe header
    
    git-svn-id: trunk@42588 -

M	compiler/ogomf.pas

******************************************************************************
commit 7132973847c3bd55518db8fbfcb2e410430f7150
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 5 17:08:18 2019 +0000

    + added the missing NewExe segment attributes as properties to the
      TNewExeSection class and create the NewExe segment table into the .exe file.
      Not all of the properties are initialized yet, though.
    
    git-svn-id: trunk@42587 -

M	compiler/ogomf.pas

******************************************************************************
commit c74007b580d15a6578c4fe5e7421b2afca8b80da
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 5 13:33:12 2019 +0000

     Revert wrong part in commit 42580:  reinstate 'override FPC=' for cycle targets
    
    git-svn-id: trunk@42585 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit d7c24c05d0ee92c575f4bee58429b8bf31eeb114
Author: nickysn <nickysn@gmail.com>
Date:   Mon Aug 5 13:30:01 2019 +0000

    + fill the segment table start offset in the NewExe header
    
    git-svn-id: trunk@42584 -

M	compiler/ogomf.pas

******************************************************************************
commit 5a3883b1ab9f38bdc9f7ac82b62e8f0d87c93c74
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 5 08:50:37 2019 +0000

     Fix internal error by using same code to set checkoverflow variable as in powerpc/nppcadd unit
    
    git-svn-id: trunk@42581 -

M	compiler/powerpc64/nppcadd.pas

******************************************************************************
commit d6c5a1799ced537479b012392478218b5aa59ef6
Author: pierre <pierre@freepascal.org>
Date:   Mon Aug 5 06:47:51 2019 +0000

    Avoid range check error when compiled -Criot option
    
    git-svn-id: trunk@42579 -

M	packages/bzip2/src/bzip2stream.pp

******************************************************************************
commit 6b9f2114f1910ec9137c1ac06b5db161d04f7a14
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 3 13:52:46 2019 +0000

      * test from mantis #35897, already fixed
    
    git-svn-id: trunk@42575 -

M	.gitattributes
A	tests/webtbs/tw35897.pp

******************************************************************************
commit 46afcbb362df8f808307a213e72ecea43c4c6634
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 3 13:47:27 2019 +0000

      * an incomplete case statement is not an error in ISO Pascal (mantis #35910)
      * give a compile-time error in ISO/Extended Pascal if the compiler can prove
        the case selector value is not handled, and a warning in other modes
        (mantis #35915)
       o trigger the case node simplification at the end of the case node typecheck
         pass, like for other nodes
    
    git-svn-id: trunk@42574 -

M	.gitattributes
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/nset.pas
M	tests/test/tcasecov1.pp
M	tests/test/tcasecov3.pp
A	tests/test/tcasecov3a.pp
A	tests/test/tcasecov3b.pp
A	tests/test/tcasecov3c.pp
A	tests/test/tcasecov3d.pp
A	tests/test/tcasecov3e.pp
M	tests/test/tcasecov4.pp
M	tests/test/tcasecov5.pp
M	tests/test/tcasecov6.pp
M	tests/test/tcasecov7.pp
M	tests/test/tcasecov8.pp
M	tests/test/tcasecov9.pp

******************************************************************************
commit ce598c15ec5ce27ccaab373a292f250fe0cc8d78
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Aug 3 12:19:50 2019 +0000

      * factored out the conditions under which add nodes need to perform
        overflow checks
       o in particular ensure that cpu-specific overrides don't perform overflow
         checks when nf_internal is set
    
    git-svn-id: trunk@42573 -

M	.gitattributes
M	compiler/arm/narmadd.pas
M	compiler/i386/n386add.pas
M	compiler/i8086/n8086add.pas
M	compiler/m68k/n68kadd.pas
M	compiler/mips/ncpuadd.pas
M	compiler/ncgadd.pas
M	compiler/powerpc/nppcadd.pas
M	compiler/powerpc64/nppcadd.pas
M	compiler/sparcgen/ncpuadd.pas
M	compiler/x86/nx86add.pas
M	compiler/x86_64/nx64add.pas
A	tests/tbs/tb0658.pp

******************************************************************************
commit c70f2c63cd9f0675a11031cd63d7ea707f3defd6
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 3 01:04:32 2019 +0000

    + set the initial SS:SP in the NewExe header
    
    git-svn-id: trunk@42572 -

M	compiler/ogomf.pas

******************************************************************************
commit dbafff24fe5f38889834288c7b2b0dd6d1bf148d
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 3 00:59:02 2019 +0000

    + fill the program entry point address in the NewExe header
    
    git-svn-id: trunk@42571 -

M	compiler/ogomf.pas

******************************************************************************
commit 901dde5fa58392d77b49bd648be0c72b475ac287
Author: nickysn <nickysn@gmail.com>
Date:   Sat Aug 3 00:42:56 2019 +0000

    + fill the auto data segment number in the NewExe header
    
    git-svn-id: trunk@42570 -

M	compiler/ogomf.pas

******************************************************************************
commit 34b3af7e9249c80bfd29928b6e85d722426084f9
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 23:22:59 2019 +0000

    * reset CurrMemPos after each NewExeSection to ensure each segment starts at 0 offset
    
    git-svn-id: trunk@42569 -

M	compiler/ogomf.pas

******************************************************************************
commit 868030b3fecc84668396e5536b7211d389ff65e0
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 23:01:39 2019 +0000

    + adapted TOmfObjSection.MemPosStr to output segment:offset for NewExe executables
    
    git-svn-id: trunk@42568 -

M	compiler/ogomf.pas

******************************************************************************
commit 2c176be2fd61a5da4520b9ba74e6d4de0e4e3a4a
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 22:47:44 2019 +0000

    + adapted TOmfObjSymbol.AddressStr to show correct segment:offset for NewExe files as well
    
    git-svn-id: trunk@42567 -

M	compiler/ogomf.pas

******************************************************************************
commit b739d79f9ba4e096c35dc3da134db47f75867fee
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 16:53:16 2019 +0000

    * combine the data, bss, stack and heap into the same NewExe segment
    
    git-svn-id: trunk@42566 -

M	compiler/ogomf.pas
M	compiler/systems/t_win16.pas

******************************************************************************
commit 1258439767d790a3cff8e567ea283340123e0063
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 16:14:54 2019 +0000

    + added an TNewExeSection.MemPosStr override that outputs a segment:offset string
    
    git-svn-id: trunk@42565 -

M	compiler/ogomf.pas

******************************************************************************
commit 3ebcef32ba62ad3f66c33e983b6c6b62b516bb31
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 16:05:37 2019 +0000

    + introduced TExeSection.MemPosStr - a virtual method for converting the
      section's memory position to string for the linker map file. This can be
      overriden e.g. for segmented exe formats.
    
    git-svn-id: trunk@42564 -

M	compiler/ogbase.pas
M	compiler/ogmap.pas

******************************************************************************
commit 8e436e6335f79785ccd5b4629882877fd13d49b7
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 14:47:19 2019 +0000

    + add a segment number (MemBasePos) to TNewExeSection
    
    git-svn-id: trunk@42563 -

M	compiler/ogomf.pas

******************************************************************************
commit 30e7406be3f112c3cff5bbbd88073ad8db08893b
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 14:32:40 2019 +0000

    * override MemPos_Start for the NewExe exe output and perform the whole MemPos
      stage inside of it, because the linker script contains only dummy section
      names and thus none of the sections get their MemPos set, while using the
      default implementation
    
    git-svn-id: trunk@42562 -

M	compiler/ogomf.pas

******************************************************************************
commit c32ddf42ebaa64e8cc136c8aa3ec88110efadad3
Author: nickysn <nickysn@gmail.com>
Date:   Fri Aug 2 14:20:02 2019 +0000

    * create NewExe sections, corresponding to 64kb segments
    
    git-svn-id: trunk@42561 -

M	compiler/ogomf.pas

******************************************************************************
commit 6952ab5baf2bb78e2edd6fc8439348838c39f617
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 2 14:07:17 2019 +0000

    * fix for Mantis #35918: don't set the mangledname for the attribute's constructor function; let the compiler do its job instead
    
    git-svn-id: trunk@42560 -

M	.gitattributes
M	compiler/symcreat.pas
A	tests/webtbs/tw35918.pp
A	tests/webtbs/uw35918a.pp
A	tests/webtbs/uw35918b.pp
A	tests/webtbs/uw35918c.pp

******************************************************************************
commit 7809930b08765742aa3bb1ee307850e5a86cb0ff
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 2 13:16:14 2019 +0000

    * fix for Mantis #35903: apply patch by J. Gareth Moreton to update the copyright year to 2019
    
    git-svn-id: trunk@42558 -

M	compiler/msg/errorct.msg
M	compiler/msg/errord.msg
M	compiler/msg/errorda.msg
M	compiler/msg/errordu.msg
M	compiler/msg/errore.msg
M	compiler/msg/errores.msg
M	compiler/msg/errorf.msg
M	compiler/msg/errorfi.msg
M	compiler/msg/errorhe.msg
M	compiler/msg/errorheu.msg
M	compiler/msg/errorid.msg
M	compiler/msg/erroriu.msg
M	compiler/msg/errorn.msg
M	compiler/msg/errorpl.msg
M	compiler/msg/errorpli.msg
M	compiler/msg/errorpt.msg
M	compiler/msg/errorptu.msg
M	compiler/msg/errorr.msg
M	compiler/msg/errorru.msg
M	compiler/msg/errorues.msg
M	compiler/msgtxt.inc

******************************************************************************
commit 83afeb2e9374c4db290c5669598663211c86cc10
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 1 16:49:08 2019 +0000

    + added dummy overrides for TInternalLinkerWin16.GetCodeSize, .GetDataSize and
      .GetBssSize, because the default ones crash
    
    git-svn-id: trunk@42554 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 5d01d53a962a8dea8af3a4a0ccf6b2901165cfe4
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 1 16:44:46 2019 +0000

    * don't crash in TOmfObjSection.MemPosStr if MZExeUnifiedLogicalSegment isn't set
    
    git-svn-id: trunk@42553 -

M	compiler/ogomf.pas

******************************************************************************
commit 93a08aaebd6f9dbd709c700d092e2cc8aa06d895
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 1 16:43:39 2019 +0000

    + write the NewExe header in TNewExeOutput.writeData
    
    git-svn-id: trunk@42552 -

M	compiler/ogomf.pas

******************************************************************************
commit d10fb705e4c39ab8c4ddd6140e6f86166dd01725
Author: nickysn <nickysn@gmail.com>
Date:   Thu Aug 1 15:52:19 2019 +0000

    + added an TNewExeOutput.Order_ObjSectionList override and sort obj sections by
      class name first, then by name, then by initial order
    
    git-svn-id: trunk@42551 -

M	compiler/ogomf.pas

******************************************************************************
commit b768673e96abdee86b807a52842d65184e373bf9
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 1 14:59:52 2019 +0000

     Also recompile rtl using FPCFPMAKE before bootstrapping in fpmkunit directory (helps for cross-compilation)
    
    git-svn-id: trunk@42550 -

M	packages/Makefile
M	packages/Makefile.fpc

******************************************************************************
commit d6d3e171ceabb0e194e8ecd5de51b6cfdc1922a3
Author: pierre <pierre@freepascal.org>
Date:   Thu Aug 1 14:46:56 2019 +0000

     Try to fix alignment issues in RTTI code for 64-bit targets which require proper alignment
    
    git-svn-id: trunk@42549 -

M	rtl/inc/rtti.inc

******************************************************************************
commit 2c4c34ef9b2da6a74ff850053573de7c160a9acf
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 15:09:02 2019 +0000

    + split the win16 executable into sections
    
    git-svn-id: trunk@42547 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 05c420fad517d77502e023c720e69428a03f5cab
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 13:47:14 2019 +0000

    + create a TNewExeSection class
    
    git-svn-id: trunk@42546 -

M	compiler/ogomf.pas

******************************************************************************
commit 83861799ae140cb032cba70e7ad3b98f92304f09
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 13:32:43 2019 +0000

    + also add and resolve import symbols coming from OMF object modules
    
    git-svn-id: trunk@42545 -

M	compiler/ogomf.pas

******************************************************************************
commit d77a8fb5f46c450921938937ac1cb0f9a7a0a75b
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 01:19:51 2019 +0000

    + call TOmfObjData.AddImportSymbol for every ImpDef record read from an object file
    
    git-svn-id: trunk@42543 -

M	compiler/ogomf.pas

******************************************************************************
commit fcb6072fae11123300b6418ccdccfbc794319be8
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 01:12:00 2019 +0000

    + added method TOmfObjData.AddImportSymbol, which adds symbols, imported from an
      external dll to TOmfObjData.ImportLibraryList (similar to
      TInternalLinker.AddImportSymbol)
    
    git-svn-id: trunk@42542 -

M	compiler/ogomf.pas

******************************************************************************
commit d2371f4176f73f22415c21cac3177752b7d27024
Author: nickysn <nickysn@gmail.com>
Date:   Wed Jul 31 01:05:53 2019 +0000

    + added an ImportLibraryList property to TOmfObjData
    
    git-svn-id: trunk@42541 -

M	compiler/ogomf.pas

******************************************************************************
commit 99f92ce5dda2fee4170b359c5163060986b4ea78
Author: florian <florian@freepascal.org>
Date:   Tue Jul 30 21:04:32 2019 +0000

    * insert FPC_THROWFPUEXCEPTION call into the correct assembler list
    
    git-svn-id: trunk@42540 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 26acc8fb2a6f634ae80c2a15ecd7f95a8684ba3c
Author: florian <florian@freepascal.org>
Date:   Tue Jul 30 21:04:31 2019 +0000

    * make stack non executable on arm-linux
    
    git-svn-id: trunk@42539 -

M	compiler/systems/t_linux.pas

******************************************************************************
commit bdd4b6691ed2d4348719fc6c756a2f29136109a6
Author: florian <florian@freepascal.org>
Date:   Tue Jul 30 21:04:30 2019 +0000

    * fix test for arm
    
    git-svn-id: trunk@42538 -

M	tests/webtbs/tw11563.pp

******************************************************************************
commit 9560d63e428923764dd1c099fa1fe0ccf8f81158
Author: florian <florian@freepascal.org>
Date:   Tue Jul 30 21:04:29 2019 +0000

    * test needs exception checking
    
    git-svn-id: trunk@42537 -

M	tests/webtbs/tw3157.pp

******************************************************************************
commit 46bac33a2d1bf06dd8fd27742ce4751cb0c12232
Author: florian <florian@freepascal.org>
Date:   Tue Jul 30 21:04:28 2019 +0000

    + fpu_capabilities for arm
    * some code converted to use fpu_capabilities
    
    git-svn-id: trunk@42536 -

M	compiler/arm/cgcpu.pas
M	compiler/arm/cpuinfo.pas
M	compiler/arm/cpupara.pas
M	compiler/arm/narmcal.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/narmcon.pas
M	compiler/arm/narminl.pas

******************************************************************************
commit 2b6ee838f9745f266b22e73abbcf22def8b11864
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jul 30 16:34:41 2019 +0000

    + implemented TNewExeOutput.GenerateLibraryImports, based on the ogcoff implementation
    
    git-svn-id: trunk@42535 -

M	compiler/ogomf.pas

******************************************************************************
commit 99af7f2781df0ba8475f99d20acef464fda91c96
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jul 30 15:27:44 2019 +0000

    * set sharedlibext for win16 to '.dll'
    
    git-svn-id: trunk@42533 -

M	compiler/systems/i_win16.pas

******************************************************************************
commit 3ef319c0b059d8f085fe4f0df8501a49712d2f08
Author: florian <florian@freepascal.org>
Date:   Sun Jul 28 21:06:37 2019 +0000

    * compilation of tests on 32 bit targets fixed, using while loops so keeping the type sizes
    
    git-svn-id: trunk@42526 -

M	tests/webtbs/tw35878.pp
M	tests/webtbs/tw35878a.pp

******************************************************************************
commit 811d39d9954060e2eccf78147f95db4345d44db5
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jul 28 19:50:33 2019 +0000

    * correctly align the stream on targets that require proper alignment
    
    git-svn-id: trunk@42522 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit 0b3418e9787ee6953820f6ae07c5e7b21559ccca
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jul 28 19:50:30 2019 +0000

    * use the size of the generated anonymous record instead of the manual tracked size so that any padding is picked up as well
    
    git-svn-id: trunk@42521 -

M	compiler/ncgrtti.pas

******************************************************************************
commit 8fc5c9edb288168bc986a9480cfc1e2e3c45ceb3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Jul 28 19:26:51 2019 +0000

    * fix compilation of tests on 32-bit systems (doesn't (shouldn't?) change their behavior)
    
    git-svn-id: trunk@42520 -

M	tests/webtbs/tw35878.pp
M	tests/webtbs/tw35878a.pp

******************************************************************************
commit 1a67ffdd22de1d5e5ebe07a328db8806d9831ebb
Author: florian <florian@freepascal.org>
Date:   Sun Jul 28 12:43:15 2019 +0000

    * fix alignment of ParamList
    * fix test for architectures using aligned rtti
    
    git-svn-id: trunk@42516 -

M	rtl/objpas/typinfo.pp
M	tests/webtbs/tw12038.pp

******************************************************************************
commit b0683edfcb6596528a75ff44a21b81f1367630d8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 28 12:03:46 2019 +0000

      * simplified random(int64) code
    
    git-svn-id: trunk@42513 -

M	rtl/inc/system.inc

******************************************************************************
commit 3fb7c19482c482119c37b99a09589b155fc5fee1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 28 12:03:40 2019 +0000

      - removed tests as modern Delphi versions behave differently (mantis #35886)
    
    git-svn-id: trunk@42512 -

M	.gitattributes
D	tests/webtbf/tw4778a.pp
D	tests/webtbs/tw4778.pp

******************************************************************************
commit 789f28877190ef79df431a76d5ec95fffc0a9e43
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 28 11:14:58 2019 +0000

      * fixed distribution of random(int64) based on patch by Pangea
        (mantis #35878)
    
    git-svn-id: trunk@42508 -

M	.gitattributes
M	rtl/inc/system.inc
A	tests/webtbs/tw35878.pp
A	tests/webtbs/tw35878a.pp

******************************************************************************
commit 1da43f67d40dd92ea2fb1cfa327d6088fa838aa7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 28 11:14:54 2019 +0000

      * (non-ancient) Delphi versions that accept explicit ordinal -> floating
        point typecasts behave the same as FPC (convert the value) rather than
        as Turbo Pascal (reinterpret the bit pattern) (mantis #35886)
    
    git-svn-id: trunk@42507 -

M	.gitattributes
M	compiler/defcmp.pas
A	tests/webtbs/tw35886.pp

******************************************************************************
commit db83612b2c220def234fdf6f78acd565fcc483d1
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jul 26 14:19:33 2019 +0000

    + enable the win16 internal linker if the compiler is compiled with the
      WIN16_INTERNAL_LINKER define. Since the win16 internal linker isn't completed
      yet, this define is not enabled by default.
    
    git-svn-id: trunk@42498 -

M	compiler/systems/i_win16.pas

******************************************************************************
commit 67bf76c50e40f7a039429835e97bec38f37515d1
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Thu Jul 25 12:49:55 2019 +0000

    - Fix overflow checking in software multiplication routines. Overflow checking should also be enabled for the unsigned multiplications.
    - Call FPC_Overflow instead of multiple calls to save on size.
    
    git-svn-id: trunk@42491 -

M	rtl/inc/generic.inc

******************************************************************************
commit 5313f6e9af42d97848ece601fc8ce3a18de4ef73
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Jul 24 20:32:22 2019 +0000

    * fix Currency comparison... again...
    
    git-svn-id: trunk@42490 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit 797e336222fd5fd1dc4f5da49131381a3174068c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Jul 24 20:32:17 2019 +0000

    * fix writing of floating point attribute parameters
    
    git-svn-id: trunk@42489 -

M	compiler/ncon.pas

******************************************************************************
commit 4c338b1f70c86f29d90f6af2e44f749401e88315
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jul 23 20:53:54 2019 +0000

    * generate correctly aligned string RTTI, fixes trtti7 on ARM
    
    git-svn-id: trunk@42488 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas

******************************************************************************
commit 0c27ea83bea2f8afc7541d7d8206396c13b1f8ef
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Tue Jul 23 20:53:50 2019 +0000

    * we halt if the currency values are *not* equal, not if they're equal... m(
    
    git-svn-id: trunk@42487 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit 73acb4d1c134f218af71d06adbf3a980202647d0
Author: florian <florian@freepascal.org>
Date:   Tue Jul 23 19:59:34 2019 +0000

    * fixes TInterfaceRawData to match TTypeData
    
    git-svn-id: trunk@42486 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit a3a39e164040751afc38637a02a5624063048be0
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jul 23 11:57:20 2019 +0000

    * i8086 compilation fix after changeset 42390
    
    git-svn-id: trunk@42485 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 6eafee72d78b5785512f113ff1330a9ccb572646
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Jul 22 12:06:26 2019 +0000

      - fixed check for determining whether requesting the size of an array is
        an invalid operation after r42479, as regular arrays can have high=-1
        (mantis #35874, already checked by trange3)
    
    git-svn-id: trunk@42482 -

M	compiler/symdef.pas

******************************************************************************
commit 18dfdb423e18ff7a16f90699fbd840230e438bc4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Jul 22 12:06:22 2019 +0000

      * don't apply user-specified constant alignments to RTTI data
    
    git-svn-id: trunk@42481 -

M	compiler/ncgrtti.pas

******************************************************************************
commit a60ab40237581e8ea583b159308438cd62554d3f
Author: florian <florian@freepascal.org>
Date:   Sun Jul 21 14:17:27 2019 +0000

    * handle records with managed fields correctly after attribute merge fixes
    
    git-svn-id: trunk@42480 -

M	rtl/inc/rtti.inc

******************************************************************************
commit aac8559a8d55b1d594ce91258d8cb66a7a3d0877
Author: florian <florian@freepascal.org>
Date:   Sun Jul 21 12:25:55 2019 +0000

    * some runtime errors fixed, if compiled with -CrR
    
    git-svn-id: trunk@42479 -

M	compiler/cfidwarf.pas
M	compiler/pdecl.pas
M	compiler/symdef.pas

******************************************************************************
commit 83611b83cc9b24d1db270e1d545536c651f97ffd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 21 11:07:02 2019 +0000

      * reverted r42463, the internalerrors were caused by a bug in the LLVM typed
        constant builder
    
    git-svn-id: trunk@42478 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas

******************************************************************************
commit e7fbebfef57f0cc75dc85cfa4ca85571e9ae6f99
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 21 11:06:54 2019 +0000

      * fixed field alignment when reusing an anonymous recorddef for LLVM and
        the LLVM layout of an instance does not match the original one
        (e.g. because it contains procdefs of procedures with different
         signatures)
    
    git-svn-id: trunk@42477 -

M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 217ae6e4bbd0c927967c8d5d2effcb9f621ea89e
Author: florian <florian@freepascal.org>
Date:   Sun Jul 21 08:28:29 2019 +0000

    * more fixes to rtti after attribute branch merging
    
    git-svn-id: trunk@42476 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas
M	rtl/inc/dynarr.inc
M	rtl/inc/rtti.inc
M	rtl/inc/rttidecl.inc
M	rtl/objpas/typinfo.pp

******************************************************************************
commit e97a2cb03e21d32bd274d378a49a00acf9295a0c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 20 20:03:38 2019 +0000

    * tests with Delphi showed that an attribute class must explicitely declare a parameterless constructor if it should be used, cause TCustomAttribute.Create is private
    Note: this also means that TCustomAttribute itself can not be used as an attribute
    * adjusted existing tests
    + added test
    
    git-svn-id: trunk@42471 -

M	.gitattributes
M	rtl/inc/objpas.inc
M	rtl/inc/objpash.inc
M	tests/test/tcustomattr10.pp
M	tests/test/tcustomattr11.pp
M	tests/test/tcustomattr17.pp
M	tests/test/tcustomattr18.pp
A	tests/test/tcustomattr22.pp
M	tests/test/tcustomattr9.pp
M	tests/test/ucustomattr14a.pp

******************************************************************************
commit c282f21b1b4f9eb8403654abc51bef8956baaccc
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 20 19:46:03 2019 +0000

    * don't bother finding the correct constructor if the attribute isn't a TCustomAttribute descendant anyway; simply skip the parameters in that case
    + added tests
    
    git-svn-id: trunk@42470 -

M	.gitattributes
M	compiler/pdecl.pas
A	tests/test/tcustomattr20.pp
A	tests/test/tcustomattr21.pp

******************************************************************************
commit 6cde8ab4cb9e41c81b04c310b6f0da5afed26e41
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 20 19:45:59 2019 +0000

    * fix for Mantis #35866: parse_paras does not check whether the expressions are really constant, so check that manually
    + added test
    
    git-svn-id: trunk@42469 -

M	.gitattributes
M	compiler/pdecl.pas
A	tests/webtbf/tw35866.pp

******************************************************************************
commit 145f4299b49a634827a46f3ab1c8a8762c5be06c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 20 12:08:59 2019 +0000

      * search dynamic string data record in correct symtable in
        tllvmtai_typedconstbuilder.emit_string_offset
       o fixes LLVM internalerror 2014080406 for test/tcustomattr14
    
    git-svn-id: trunk@42464 -

M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 12e63d8a2cf992f49656895e45b6c79b752546d1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 20 12:08:55 2019 +0000

      * don't reuse defs for attribute lists or individual attributes with parameters, as
        they don't have a constant size
       o fixes LLVM internalerror 2015122402 for test/tcustomattr{12,13,19}
    
    git-svn-id: trunk@42463 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas

******************************************************************************
commit 900fd35f4abd574488c8c85d8a62874814ea2a3b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 19 15:58:42 2019 +0000

    * increase PPU version now that all generic procdefs store their local symtables
    
    git-svn-id: trunk@42460 -

M	compiler/ppu.pas

******************************************************************************
commit 43b5dbf6136f053f082c975c8e8d5cb1610ea750
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 19 15:55:28 2019 +0000

    * fix for Mantis #23071: also store local symtable in the PPU if the procdef is generic as we need it to resolve genericdefs to nested types
    
    git-svn-id: trunk@42459 -

M	.gitattributes
M	compiler/symdef.pas
A	tests/webtbs/tw23071.pp
A	tests/webtbs/uw23071.pp

******************************************************************************
commit 4d6844e731e2d65760ec0441cec83e6ba097e169
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 19 15:55:25 2019 +0000

    * fix test on systems where Currency is calculated using floating point types
    
    git-svn-id: trunk@42458 -

M	tests/test/tcustomattr13.pp

******************************************************************************
commit 48b8110e38b6b08a393e9a947b1b439746802ae7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 19 11:52:51 2019 +0000

    * disable UCS4String if dynamic arrays are disabled
    
    git-svn-id: trunk@42455 -

M	rtl/inc/systemh.inc
M	rtl/inc/ustringh.inc
M	rtl/inc/ustrings.inc

******************************************************************************
commit f04afdd5eae60b2ff1d7a1bc46bad34ca54b19d4
Author: florian <florian@freepascal.org>
Date:   Sun Jul 14 21:40:29 2019 +0000

    * compilation fixed
    
    git-svn-id: trunk@42449 -

M	compiler/ncgrtti.pas

******************************************************************************
commit 3206ac35084ab844a20ed8d97a58048cd0b6e7dd
Author: florian <florian@freepascal.org>
Date:   Sun Jul 14 21:29:30 2019 +0000

    * properly align rtti for orddefs
    
    git-svn-id: trunk@42448 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas

******************************************************************************
commit d8903ce6b3af3cb3fc5bcfa48ae2823c1fc2c57c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 14 19:24:32 2019 +0000

      - removed maxcrecordalign parameter/field from recordsymtables, as this value
        cannot be modified in the settings (so we can directly use the one from
        current_settings)
    
    git-svn-id: trunk@42447 -

M	compiler/aasmcnst.pas
M	compiler/cresstr.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmpi.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/llvm/nllvmutil.pas
M	compiler/ncal.pas
M	compiler/ncgrtti.pas
M	compiler/ncgvmt.pas
M	compiler/ngenutil.pas
M	compiler/nobj.pas
M	compiler/objcgutl.pas
M	compiler/pdecvar.pas
M	compiler/pgenutil.pas
M	compiler/pparautl.pas
M	compiler/psystem.pas
M	compiler/ptype.pas
M	compiler/symdef.pas
M	compiler/symtable.pas

******************************************************************************
commit c932dfaf7058a61875276af4a7a9100c2addf1fa
Author: florian <florian@freepascal.org>
Date:   Sun Jul 14 17:45:55 2019 +0000

    * first bunch of fixes for rtti for arm after attribute commits, fixes mostly alignment issues
    
    git-svn-id: trunk@42446 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas
M	rtl/inc/sstrings.inc

******************************************************************************
commit c0da39a35dae71be2248f6ac817ba76eaaf8ade7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 13 14:38:24 2019 +0000

    * Tenum_typedata needs to include the Common record as well
    
    git-svn-id: trunk@42438 -

M	rtl/inc/sstrings.inc

******************************************************************************
commit 55dfb59631a5e666c3d6e527aebad5086aeb359a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 13 14:38:20 2019 +0000

    * TRttiDataCommon is required outside of the RTTI and DynArray include files as well
    
    git-svn-id: trunk@42437 -

M	rtl/inc/system.inc

******************************************************************************
commit 04a50733ad9ab91ff3710e9ca24881c15439bccd
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sat Jul 13 09:37:44 2019 +0000

    * get rid of the scanner message for attributes for real this time (sometimes I *really* hate Git -.-)
    
    git-svn-id: trunk@42413 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/pdecobj.pas

******************************************************************************
commit 4d6b8a6c45c5fcd9a7120754358cf94d1a8a42fd
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sat Jul 13 07:34:07 2019 +0000

    fixed the messy state of messages after recent custom attributes merge. fixed a typo, fixed double definition of message 3350, restored a message that was removed but still used, so the build passes at least.
    
    git-svn-id: trunk@42412 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/psub.pas

******************************************************************************
commit 6db674cd024f9d81069aa1e019afa101e693af38
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:22 2019 +0000

    * regenerate msg*.inc files
    
    git-svn-id: trunk@42411 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit b7a8dd9479f550b99b902cf61a719bd3da44f0c1
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:17 2019 +0000

    * adjust error message when attributes are unbound
    
    git-svn-id: trunk@42410 -

M	compiler/msg/errore.msg
M	compiler/pdecl.pas

******************************************************************************
commit 87458a065c54d01aa6d0013299c55d1b99d67f80
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:14 2019 +0000

    * allow use of multiple, comma separated attributes as Delphi allows that as well
    + added test
    
    git-svn-id: trunk@42409 -

M	.gitattributes
M	compiler/pdecl.pas
A	tests/test/tcustomattr19.pp

******************************************************************************
commit 6d0c470a40bb3a58f2f0b2473c597d0c39a4ee7c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:10 2019 +0000

    * check for unbound attributes inside classes (currently they are only allowed for published properties)
    Note: no tests yet as sooner or later most will be dropped once extended RTTI is added
    
    git-svn-id: trunk@42408 -

M	compiler/pdecobj.pas

******************************************************************************
commit 98b1b04951f82c981675a16c2c462287ec5b699c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:07 2019 +0000

    * free unbound attributes
    
    git-svn-id: trunk@42407 -

M	compiler/pdecl.pas

******************************************************************************
commit 90bec938f6ecafc9ce36bd3fc53a73bacb0bb20a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:04 2019 +0000

    * don't free the constructor call in trtti_attribute_list as that is already freed in the destructor of trtti_attribute
    
    git-svn-id: trunk@42406 -

M	compiler/symdef.pas

******************************************************************************
commit 404b465c33823efb0294fdc75cfb8da79928e749
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:08:00 2019 +0000

    * allow custom attributes for all type declarations that are not a simple alias
    + added tests
    
    git-svn-id: trunk@42405 -

M	.gitattributes
M	compiler/pdecl.pas
A	tests/test/tcustomattr17.pp
A	tests/test/tcustomattr18.pp

******************************************************************************
commit 80ebb98431397073b582bab01c14a1555f3eb015
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:57 2019 +0000

    * correct identation (no code changes)
    
    git-svn-id: trunk@42404 -

M	compiler/pdecl.pas

******************************************************************************
commit 9dbd1551310b08d5255d948106ac4d65508b9844
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:54 2019 +0000

    * use two empty lines between method definitions (no code changes)
    
    git-svn-id: trunk@42403 -

M	compiler/symdef.pas

******************************************************************************
commit a72553eea27cc4a8ca0c96456e439e283d9ef972
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:50 2019 +0000

    * disable [...] syntax for procedure directives if modeswitch "prefixed attributes" is enabled; they conflict otherwise and it's not easily resolveable
    + added test
    
    git-svn-id: trunk@42402 -

M	.gitattributes
M	compiler/pdecsub.pas
A	tests/test/tcustomattr15.pp
A	tests/test/tcustomattr16.pp

******************************************************************************
commit b945e66e2807410180709dd0b967e1ebe6cd912a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:46 2019 +0000

    * store attribute information in PPU; this is less important for the compiler, but more for e.g. Lazarus when dealing with binary only units
    * increase ppu version
    + added test
    * adjust ppudump to handle attributes as well
    ToDo: output parameter nodes as well
    
    git-svn-id: trunk@42401 -

M	.gitattributes
M	compiler/ppu.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppuout.pp
A	tests/test/tcustomattr14.pp
A	tests/test/ucustomattr14a.pp
A	tests/test/ucustomattr14b.pp

******************************************************************************
commit 8ce4f9606dbbae08b8cd9c7060ff6021943489dc
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:41 2019 +0000

    * explicitely store the procdef of the picked constructor of the attribute
    
    git-svn-id: trunk@42400 -

M	compiler/pdecl.pas
M	compiler/symdef.pas

******************************************************************************
commit dfb9fffcf917260a6479ce75da4b87b733d1b4e2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:38 2019 +0000

    + add functions for syms and defs and write sub entries of the sym/def to PPU and loads them again
    
    git-svn-id: trunk@42399 -

M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtable.pas

******************************************************************************
commit 352ff5f82ad07bbd07430a1c433d1c417b9f78b2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:34 2019 +0000

    - symbolname field is no longer required
    
    git-svn-id: trunk@42398 -

M	compiler/symdef.pas

******************************************************************************
commit 3a02393584b6b7e4e4ce5a4ff12353f78fa38b0d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:31 2019 +0000

    - remove functionality to get the code block when parsing again (let's open this pandora's box only when really needed...)
    
    git-svn-id: trunk@42397 -

M	compiler/psub.pas

******************************************************************************
commit a64a8f8debb219661633a1121082bb882d8ccadd
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:28 2019 +0000

    - remove code to create an attribute using a synthetic function
    
    git-svn-id: trunk@42396 -

M	compiler/pdecl.pas
M	compiler/symconst.pas
M	compiler/symcreat.pas
M	compiler/symtable.pas

******************************************************************************
commit 402728239f070c34402db4a5f8f39c98788f95c9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:24 2019 +0000

    * trtti_attribute_list.bind already checks whether the dangling attribute list is assigned or not
    
    git-svn-id: trunk@42395 -

M	compiler/pdecl.pas
M	compiler/pdecobj.pas

******************************************************************************
commit ced3885dbb54688ca8e0ad3692949eb4fc108b9e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:20 2019 +0000

    * generate construction function for the attributes used in a unit using a more straight forward approach
    ToDo: "collect" attributes of same type and same argument list and generate constructor only once for them
    
    git-svn-id: trunk@42394 -

M	compiler/fmodule.pas
M	compiler/ncgrtti.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/pmodules.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas

******************************************************************************
commit 0b63e89ba290a4df67893b01019c3614f8cb8f1e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:15 2019 +0000

    * make the reference to the TCustomAttribute type global
    
    git-svn-id: trunk@42393 -

M	compiler/pdecl.pas
M	compiler/symdef.pas
M	compiler/symtable.pas

******************************************************************************
commit d9d2515ada949fa0c8993ec3ff6579a08624a865
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:11 2019 +0000

    * move binding of a dangling attribute list to a sym's/def's attribute list to a class procedure of trtti_attribute_list
    
    git-svn-id: trunk@42392 -

M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/symdef.pas

******************************************************************************
commit 5cea37425532e2ca502bdebe2acb19db22a31db9
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:08 2019 +0000

    * add a remark that's going to be important once extended RTTI is supported (Delphi programs crash if an attribute's constructor is used that does not have any extended RTTI)
    
    git-svn-id: trunk@42391 -

M	compiler/pdecl.pas

******************************************************************************
commit 71fa4d1fe2a5eaee061fb71fb2045bb5fff2db1b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:05 2019 +0000

    * the RTTI of an attribute not only consists of the creation function, but also of the attribute's type, a pointer to the constructor and a data blob containing the constant parameters
    + added test
    
    git-svn-id: trunk@42390 -

M	.gitattributes
M	compiler/ncgrtti.pas
M	compiler/symconst.pas
M	rtl/objpas/typinfo.pp
A	tests/test/tcustomattr13.pp

******************************************************************************
commit 55d5bdc98d787c733b84b9381a992d67f27d9cf4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:07:01 2019 +0000

    + add methods for the const nodes to directly emit their constant data to a constant builder
    Note: reduce code duplication, especially for the tsetconstnode (with its descendant tcgsetconstnode)
    
    git-svn-id: trunk@42389 -

M	compiler/ncon.pas

******************************************************************************
commit f9cda608fa3b891ceec7d21cad66ef75bd4735dd
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:57 2019 +0000

    * take a copy of the constructor assignment node (and free it together with the attribute)
    
    git-svn-id: trunk@42388 -

M	compiler/symcreat.pas
M	compiler/symdef.pas

******************************************************************************
commit d31dd4ac7b6a7f2543c130bb10d927e8688be5ad
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:52 2019 +0000

    * better check for a valid call node
    
    git-svn-id: trunk@42387 -

M	compiler/pdecl.pas

******************************************************************************
commit 8cd1f1973bfcf432f87e5df74beb23cd45b03c93
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:48 2019 +0000

    - remove unneeded local variable
    
    git-svn-id: trunk@42386 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit affa9f9d9ca31c0e28cb61b084617ae4b3d6875c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:44 2019 +0000

    * to be on the safe side: don't include AttributeTable fields when cycling
    
    git-svn-id: trunk@42385 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 99914b427931330a22b9fe9210ea44acc6ee8101
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:41 2019 +0000

    * instead of collecting the raw parameters we need to collect the parameters as passed to the call as there might be type conversions involved
    
    git-svn-id: trunk@42384 -

M	compiler/pdecl.pas

******************************************************************************
commit b5e6c0b98d2c04b0d6ba105a9c52a65eea00609d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:38 2019 +0000

    * ensure that any potentially created constructor call is freed if the attribute is not bound to a def or sym
    
    git-svn-id: trunk@42383 -

M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/symdef.pas

******************************************************************************
commit 0e04d9b4def9447c67da46cfc22b8157d44b34bc
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:34 2019 +0000

    * store the parameter nodes in the attribute object as well (we need to write them to the RTTI as well as store them in the PPU)
    
    git-svn-id: trunk@42382 -

M	compiler/pdecl.pas
M	compiler/symdef.pas

******************************************************************************
commit 3a20178d96463df72b4357fad69838b87d0a5825
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:31 2019 +0000

    * fix code formatting (no code changes)
    
    git-svn-id: trunk@42381 -

M	compiler/symdef.pas

******************************************************************************
commit c2146482247ffa831e0dfe7dbb3285ecc8859228
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:28 2019 +0000

    + add a test for overloaded attribute constructors
    
    git-svn-id: trunk@42380 -

M	.gitattributes
A	tests/test/tcustomattr12.pp

******************************************************************************
commit db37146f128563ea196aa00b118dbc9376e53f48
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:24 2019 +0000

    * rework code for parsing attributes to only allow constant expressions; Delphi only allows those as well and better we don't open *that* pandora's box just yet
    
    git-svn-id: trunk@42379 -

M	compiler/pdecl.pas

******************************************************************************
commit ab2fa724ecddafea7950d8998665d02ec5af3354
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:20 2019 +0000

    * fix code formatting (no code changes)
    
    git-svn-id: trunk@42378 -

M	compiler/pdecl.pas

******************************************************************************
commit 62c137a6d801c5cdc3a2b9f20ea8731836523279
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:16 2019 +0000

    * check that we indeed have a type node and nothing else
    * with a type node it's not necessary to check whether it's typedef is assigned
    
    git-svn-id: trunk@42377 -

M	compiler/pdecl.pas

******************************************************************************
commit f1715ff337103b83ce632e92ea9425b308269fa2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:13 2019 +0000

    * fix code formatting (no code changes)
    
    git-svn-id: trunk@42376 -

M	compiler/pdecl.pas

******************************************************************************
commit 3ad24c9db8725f6b53e3f3250807ac850a7769a7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:09 2019 +0000

    * as attributes can be part of any type they are best suited in a common part of TTypeData
    
    git-svn-id: trunk@42375 -

M	compiler/ncgrtti.pas
M	compiler/symconst.pas
M	rtl/inc/dynarr.inc
M	rtl/inc/objpas.inc
M	rtl/inc/rttidecl.inc
M	rtl/inc/system.inc
M	rtl/objpas/typinfo.pp

******************************************************************************
commit a1b556d2118d91a235a1ed365bf88ada086237d4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:05 2019 +0000

    * considering that at least in theory every symbol and every def can carry RTTI attributes (Delphi only supports property and field symbols), move the rtti_attribute_list to tstoredsym/tstoreddef
    
    git-svn-id: trunk@42374 -

M	compiler/symdef.pas
M	compiler/symsym.pas

******************************************************************************
commit de15025a4760b8abda8b57606c426d958c00c37a
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:06:02 2019 +0000

    * streamline retrieval of attributes (both in TypInfo and RTTI units)
    
    git-svn-id: trunk@42373 -

M	packages/rtl-objpas/src/inc/rtti.pp
M	rtl/objpas/typinfo.pp

******************************************************************************
commit 5532ac3355218e18463313bcb2f9460a5f3de957
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:58 2019 +0000

    * fix test
    
    git-svn-id: trunk@42372 -

M	tests/test/tcustomattr6.pp

******************************************************************************
commit e060a43d70c9ce31b6134a5e374c907fc74706d4
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:55 2019 +0000

    * rename TAttributeData to the more appropriate TAttributeTable
    
    git-svn-id: trunk@42371 -

M	packages/rtl-objpas/src/inc/rtti.pp
M	rtl/objpas/typinfo.pp
M	tests/test/tcustomattr1.pp
M	tests/test/tcustomattr10.pp
M	tests/test/tcustomattr11.pp
M	tests/test/tcustomattr4.pp
M	tests/test/tcustomattr9.pp

******************************************************************************
commit c17dafc2f932c23033c990232e776f374b19cc81
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:51 2019 +0000

    * fix TClassData by including the AttributeTable at the right location
    
    git-svn-id: trunk@42370 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit e296b26e9ed25051d1d70504c7270f2f649f5d81
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:47 2019 +0000

    - remove unit info and related code again as that will be handled similar, but differently with dynamic packages
    
    git-svn-id: trunk@42369 -

M	compiler/fmodule.pas
M	compiler/ncgrtti.pas
M	compiler/ngenutil.pas
M	compiler/options.pas
M	compiler/pdecl.pas
M	compiler/pmodules.pas
M	rtl/inc/objpas.inc
M	rtl/objpas/typinfo.pp

******************************************************************************
commit ee940c8270c8fbdd585cdcd548930e1a6872ab55
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:42 2019 +0000

    * always write a class' reference to the attribute table, even if the unit does not have attributes
    
    git-svn-id: trunk@42368 -

M	compiler/ncgrtti.pas
M	rtl/objpas/typinfo.pp

******************************************************************************
commit 788d976f3a2d89bbf59721280c4d6dc193f6624b
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:39 2019 +0000

    * use a Word instead of a Byte for the attribute index (after all the compiler writes a Word to the count field)
    
    git-svn-id: trunk@42367 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit 5153a288dc63937a3b79d305f72cab94e5ab99e3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:33 2019 +0000

    * it's more correct for GetPropAttribute to return a TCustomAttribute instead of a TObject
    
    git-svn-id: trunk@42366 -

M	rtl/objpas/typinfo.pp

******************************************************************************
commit d137e06ade00a851a5370367243c11fcc79043ea
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:29 2019 +0000

    * instead of embedding the attributes inside the class' and property's type data only store a reference to a table of attributes
    
    git-svn-id: trunk@42365 -

M	compiler/ncgrtti.pas
M	packages/rtl-objpas/src/inc/rtti.pp
M	rtl/objpas/typinfo.pp

******************************************************************************
commit 38fad4b5cf28dc828e72c473183d0e1134492a27
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:25 2019 +0000

    * also check for invalid attribute data in tests
    
    git-svn-id: trunk@42364 -

M	tests/test/tcustomattr1.pp
M	tests/test/tcustomattr10.pp
M	tests/test/tcustomattr4.pp
M	tests/test/tcustomattr9.pp

******************************************************************************
commit ba413bcdfcafdd5ad69be04685808df1b836608c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:21 2019 +0000

    * fix typo
    
    git-svn-id: trunk@42363 -

M	compiler/pdecl.pas
M	compiler/pdecobj.pas

******************************************************************************
commit 24c4b90343c76d18eb4fb3ae3d85000d03c321e6
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:18 2019 +0000

    * instead of declaring another type with a 'attribute' suffix, *search* for another type with a 'ATTRIBUTE' suffix (Delphi allows declaring both a TFoo and TFooAttribute in the same unit)
    + added test
    
    git-svn-id: trunk@42362 -

M	.gitattributes
M	compiler/globals.pas
M	compiler/pbase.pas
M	compiler/pdecl.pas
M	compiler/pexpr.pas
A	tests/test/tcustomattr11.pp

******************************************************************************
commit 869664c6dacec44c2e05e9b3418fd8929e7dab41
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:12 2019 +0000

    * rename custom attributes related tests to something more sensible
    
    git-svn-id: trunk@42361 -

M	.gitattributes
R095	tests/test/tclassattribute1.pp	tests/test/tcustomattr1.pp
R095	tests/test/tclassattribute10.pp	tests/test/tcustomattr10.pp
R091	tests/test/tclassattribute2.pp	tests/test/tcustomattr2.pp
R090	tests/test/tclassattribute3.pp	tests/test/tcustomattr3.pp
R096	tests/test/tclassattribute4.pp	tests/test/tcustomattr4.pp
R094	tests/test/tclassattribute5.pp	tests/test/tcustomattr5.pp
R096	tests/test/tclassattribute6.pp	tests/test/tcustomattr6.pp
R094	tests/test/tclassattribute7.pp	tests/test/tcustomattr7.pp
R094	tests/test/tclassattribute8.pp	tests/test/tcustomattr8.pp
R094	tests/test/tclassattribute9.pp	tests/test/tcustomattr9.pp

******************************************************************************
commit ed5f19e7e388356d644a695c16c8c520811099fc
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:05 2019 +0000

    * change boolean parameters for try_consume_unitsym to a set
    
    git-svn-id: trunk@42360 -

M	compiler/pbase.pas
M	compiler/pexpr.pas
M	compiler/pstatmnt.pas
M	compiler/ptype.pas

******************************************************************************
commit 39bab2dbcc3961a59542c60abd70ad73930087a1
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:05:00 2019 +0000

    * rename trtti_attributesdef to trtti_attributes_list
    
    git-svn-id: trunk@42359 -

M	compiler/ncgrtti.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/ptype.pas
M	compiler/symdef.pas
M	compiler/symsym.pas

******************************************************************************
commit 84848df18d3b351fec0651a9873128553e84e522
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:04:56 2019 +0000

    Reintegration of Custom Attributes branch by Joost van der Sluis with patches reworked by Svetozar Belic [patch 3/3]
    
    Added FPC_REQUIRES_PROPER_ALIGNMENT to TUnitInfo definition. Added FPC_HAS_EXTENDED_RTTI define.
    
    git-svn-id: trunk@42358 -

M	compiler/ngenutil.pas
M	compiler/options.pas
M	rtl/objpas/typinfo.pp

******************************************************************************
commit f91e38d1bd3ba024ff15a4db488e2bd2d69f9bcf
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:04:53 2019 +0000

    Reintegration of Custom Attributes branch by Joost van der Sluis with patches reworked by Svetozar Belic [patch 2/3]
    
    Regenerated compiler/msgidx.inc and compiler/msgtxt.inc.
    
    git-svn-id: trunk@42357 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit b2932393df279c6856cb7fbc12a389fac3de060e
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 22:04:48 2019 +0000

    Reintegration of Custom Attributes branch by Joost van der Sluis with patches reworked by Svetozar Belic [patch 1/3]
    
    Implemented attributes for class types and properties (based on work by Joost van der Sluis). Added TCustomAttribute - a base class for attributes. Added TUnitInfo record to RTTI. It contains the unit name and unit options (for now only a flag which specifies if the unit contains attributes). Added several tests for attributes.
    
    git-svn-id: trunk@42356 -

M	.gitattributes
M	compiler/fmodule.pas
M	compiler/globals.pas
M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/ncgrtti.pas
M	compiler/ngenutil.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/pmodules.pas
M	compiler/psub.pas
M	compiler/ptype.pas
M	compiler/symconst.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtable.pas
M	packages/rtl-objpas/src/inc/rtti.pp
M	rtl/inc/objpas.inc
M	rtl/inc/objpash.inc
M	rtl/objpas/typinfo.pp
A	tests/test/tclassattribute1.pp
A	tests/test/tclassattribute10.pp
A	tests/test/tclassattribute2.pp
A	tests/test/tclassattribute3.pp
A	tests/test/tclassattribute4.pp
A	tests/test/tclassattribute5.pp
A	tests/test/tclassattribute6.pp
A	tests/test/tclassattribute7.pp
A	tests/test/tclassattribute8.pp
A	tests/test/tclassattribute9.pp

******************************************************************************
commit 1607e15e48c59efa646b0cd8ab7a9cc3e50f976d
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 12 16:25:30 2019 +0000

    * ensure that the toString constant is used instead of TObject's ToString method
    
    git-svn-id: trunk@42352 -

M	tests/test/units/fpcunit/tctparser.pp

******************************************************************************
commit 0a94f8fc085580d97717c8a8f2e19a9a53a44aaf
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jul 9 12:31:11 2019 +0000

    + parse the IMPDEF record in TOmfObjInput.ReadImpDef
    
    git-svn-id: trunk@42346 -

M	compiler/ogomf.pas

******************************************************************************
commit 7f772683cb0c265dd3c8f84d5e2ee38c73e24b74
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 7 21:33:51 2019 +0000

      * fix tobjectdef.vmt_def to search in the correct symtable
      * always register vmt defs (so they get written to the ppu) in case of llvm,
        because it may need this def in case a method from a class defined in the
        implementation of unit gets called from an inlined routine that gets
        inlined in another unit (normally that vmt def would not get written to
        the ppu file, as it can't be referenced from the interface and it's also
        not necessarily directly referenced from the inline routine's nodes)
        (fixes sdo_dataobject compilation with LLVM after enabling cross-unit
         inlining of methods accessing static symbol table symbols)
    
    git-svn-id: trunk@42342 -

M	compiler/nobj.pas
M	compiler/symdef.pas

******************************************************************************
commit e56b58c2b05124558bc3c0d18ef1d1c48e9b6d01
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 7 21:33:47 2019 +0000

      * factored out checks whether a procdef's symbol needs to be global, and
        the generation of the procdef's asmsymbols
       o also removed unnecessary definition of procdef alias symbols for Darwin
         (they are already defined in ncgutil.alloc_proc_symbol)
    
    git-svn-id: trunk@42341 -

M	compiler/aasmdata.pas
M	compiler/hlcgobj.pas
M	compiler/ncgutil.pas
M	compiler/psub.pas
M	compiler/symdef.pas

******************************************************************************
commit 3fee990218b4648ab020d85f783959b1d8fb0dd4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 7 21:33:43 2019 +0000

      * on Mach-O, PECOFF and ELF platforms, write local symbols as hidden/
        private_extern (or plain global in case of PECOFF, as the effect is
        the same there): visible across object files, but they become local
        when linked into a binary/library. This enables cross-unit inlining
        of functions accessig implementation-only symbols.
    
    git-svn-id: trunk@42340 -

M	compiler/aarch64/hlcgcpu.pas
M	compiler/aasmbase.pas
M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/hlcgcpu.pas
M	compiler/elfbase.pas
M	compiler/hlcgobj.pas
M	compiler/i386/hlcgcpu.pas
M	compiler/i8086/hlcgcpu.pas
M	compiler/llvm/nllvmutil.pas
M	compiler/m68k/hlcgcpu.pas
M	compiler/mips/hlcgcpu.pas
M	compiler/ncal.pas
M	compiler/ncgutil.pas
M	compiler/ngenutil.pas
M	compiler/ngtcon.pas
M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogelf.pas
M	compiler/ppcgen/hlcgppc.pas
M	compiler/psub.pas
M	compiler/riscv/hlcgrv.pas
M	compiler/sparcgen/hlcgcpu.pas
M	compiler/systems.pas
M	compiler/systems/i_android.pas
M	compiler/systems/i_aros.pas
M	compiler/systems/i_bsd.pas
M	compiler/systems/i_haiku.pas
M	compiler/systems/i_linux.pas
M	compiler/systems/i_nativent.pas
M	compiler/systems/i_sunos.pas
M	compiler/systems/i_win.pas
M	compiler/x86/agx86nsm.pas
M	compiler/x86_64/hlcgcpu.pas

******************************************************************************
commit 449a14dddf92a0a45d0e810ba01d482ea5f27b9d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 7 21:33:39 2019 +0000

      - disabled ogmacho, as it can no longer deal with the assembly we generate
    
    git-svn-id: trunk@42339 -

M	compiler/i386/cputarg.pas

******************************************************************************
commit 0f57327bff922d389dd7534cfcf29027efebc7a8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jul 7 21:33:36 2019 +0000

      * maybereplacewithtemp/maybereplacewithtempref: also create a temp in case
        of possible side effects
    
    git-svn-id: trunk@42338 -

M	compiler/nbas.pas

******************************************************************************
commit a1a17447ff3d95d0145d4113ad563f7360480a88
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Jul 7 11:32:27 2019 +0000

    - Fix bug in 64bit softfloat double negation.
    - Clean up handling of CPU/FPU type handling in RISCV.
    - Do more fixes to get RISCV32 working.
    - Fix most soft multiplication handling for generic RISCV code. Still missing a few.
    - Add RISCV embedded targets.
    
    git-svn-id: trunk@42335 -

M	compiler/globals.pas
M	compiler/ncgmat.pas
M	compiler/options.pas
M	compiler/riscv/agrvgas.pas
M	compiler/riscv/nrvadd.pas
M	compiler/riscv/nrvinl.pas
M	compiler/riscv32/cpuinfo.pas
M	compiler/riscv32/cpupara.pas
M	compiler/riscv32/nrv32mat.pas
M	compiler/riscv64/cpuinfo.pas
M	compiler/systems/i_embed.pas
M	compiler/systems/t_embed.pas

******************************************************************************
commit e53cb61b1122262554c744b8a9a5e10f11bdc870
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Jul 7 11:24:44 2019 +0000

    Add support for softfloat in RISCV RTL.
    
    git-svn-id: trunk@42334 -

M	rtl/riscv64/mathu.inc
M	rtl/riscv64/riscv64.inc

******************************************************************************
commit 9c77e87dd0dcb7a59ac1b899fbb8e2d565204f34
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Jul 6 17:04:51 2019 +0000

    Fix types on embedded RTL.
    Optimize consoleio for size on AVR.
    Add support for RISC-V.
    Regenerated makefile
    
    git-svn-id: trunk@42333 -

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
M	rtl/embedded/consoleio.pp
M	rtl/embedded/sysfile.inc
M	rtl/embedded/sysosh.inc
M	rtl/embedded/system.cfg
M	rtl/embedded/sysutils.pp

******************************************************************************
commit 40082100e1f688f755fd6726e01162fbf2af3c6c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jul 6 09:57:32 2019 +0000

      * fixed range test optimization for signed types and enabled it for them
    
    git-svn-id: trunk@42332 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw34385a.pp

******************************************************************************
commit 433f07c407ae63042733d51ea4ca3348fb3e97d3
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jul 5 15:30:53 2019 +0000

    * forgot to commit tests in r42329
    
    git-svn-id: trunk@42330 -

M	.gitattributes
A	tests/webtbs/tw35670a.pp
A	tests/webtbs/tw35670b.pp

******************************************************************************
commit 67cf63049d4f37852306f5be9681093c5e760f41
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 1 19:42:48 2019 +0000

    Commit patch submitted in bug report #35787 by Gareth Moreton
    
    git-svn-id: trunk@42318 -

M	compiler/node.pas
M	compiler/psub.pas

******************************************************************************
commit b9649d17a59522fc9f069b8707b18c111dc73a88
Author: pierre <pierre@freepascal.org>
Date:   Mon Jul 1 17:34:08 2019 +0000

     Commit modified file after commit #42260
    
    git-svn-id: trunk@42317 -

M	utils/fpcm/revision.inc

******************************************************************************
commit 56acdd3a11576ff9473ac42b59dad47ee2f6ecc6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 30 17:19:31 2019 +0000

      * fixed compilation with -dTest_Double_checksum_write
    
    git-svn-id: trunk@42314 -

M	compiler/fppu.pas

******************************************************************************
commit 40f6a4ea3c36aae0b4da2e3185b533826286b089
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 30 16:24:48 2019 +0000

      - removed remnants of old ppu file support (ppudump does not support any
        other ppu version than the current one anyway)
    
    git-svn-id: trunk@42313 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit cc9f8b7f5685e205695165386f3d262b0c02132f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 30 16:24:44 2019 +0000

      * record in ppu flag whether or not symbols are ansistrings, and use that
        flag in ppudump rather than hardcoding targets (it's also the case for
        LLVM)
    
    git-svn-id: trunk@42312 -

M	compiler/fppu.pas
M	compiler/globtype.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 789f13eb247ab4a811112b430d294a4bf70b9c44
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 30 15:23:36 2019 +0000

      * LLVM-specific support for popcnt
    
    git-svn-id: trunk@42311 -

M	compiler/llvm/nllvminl.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 0a91fcb44fb7cb51476ccc0ad2bd833d1f5af8c0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 29 16:27:18 2019 +0000

      * LLVM-specific support for bsr*/bsf*
    
    git-svn-id: trunk@42309 -

M	compiler/llvm/nllvminl.pas
M	compiler/nbas.pas
M	compiler/ninl.pas
M	compiler/options.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 6b97c712f69b190f2a9139d829fe5741d4430c3d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 29 16:27:14 2019 +0000

      * volatile syms should never be regable
    
    git-svn-id: trunk@42308 -

M	compiler/symsym.pas

******************************************************************************
commit 98f55b1d8605ab1e5828d3a710df8c6e1afdad18
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 29 16:27:10 2019 +0000

      * also register symbols referenced from assembler via asolutevarsyms
    
    git-svn-id: trunk@42307 -

M	compiler/rautils.pas

******************************************************************************
commit c425c51963854f592da4b9dbccef198959619cd6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 29 12:17:49 2019 +0000

      * simplify and optimize generated LLVM code for case statements
    
    git-svn-id: trunk@42305 -

M	.gitattributes
M	compiler/llvm/llvmnode.pas
A	compiler/llvm/nllvmset.pas

******************************************************************************
commit 982a870b15184d033e72efb19b743947c43a8db8
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jun 28 13:30:35 2019 +0000

    * remaining fix for Mantis #35346: add "inline" directives to various methods of tentryfile
    
    git-svn-id: trunk@42304 -

M	compiler/entfile.pas

******************************************************************************
commit a57899323426c8e1d5cd5ae6bc1100464c1f1ae7
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Jun 28 13:30:33 2019 +0000

    * partial fix for Mantis #35346: more "inline" directives for TCStream and TCMemoryStream methods
    
    git-svn-id: trunk@42303 -

M	compiler/cstreams.pas

******************************************************************************
commit 7ef3d39d93b8a07c88d5359e7d40bf46cecb6614
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Jun 27 19:20:45 2019 +0000

      * one more disable location of DoPipe in case not on a Unix platform
        (mantis #35743)
    
    git-svn-id: trunk@42302 -

M	compiler/assemble.pas

******************************************************************************
commit 243c967967070429195b93b0cb51d2b406badb4d
Author: pierre <pierre@freepascal.org>
Date:   Sat Jun 22 14:08:47 2019 +0000

      Commit of new debug feature implemented by J. Gareth Moreton
      Allows compilation of compiler using -dDEBUG_NODE_XML
      which will generate a NAME-node-dump.xml file for each
      unit, program or library compiled,
      containing a XML description of the nodes handled during
      compilation of the unit, program or library.
    
    git-svn-id: trunk@42271 -

M	compiler/finput.pas
M	compiler/i8086/n8086con.pas
M	compiler/nbas.pas
M	compiler/ncal.pas
M	compiler/ncnv.pas
M	compiler/ncon.pas
M	compiler/nflw.pas
M	compiler/ninl.pas
M	compiler/nld.pas
M	compiler/nmem.pas
M	compiler/node.pas
M	compiler/nset.pas
M	compiler/pmodules.pas
M	compiler/psub.pas

******************************************************************************
commit fb387da807808444d289240bc5f55b66dc379e23
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Jun 22 13:31:02 2019 +0000

      * use variables of correct size with movd (test checks whether movd only
        reads 32 bit even when destination is xmm register) (mantis #35701,
        as noted by J. Gareth Moreton)
    
    git-svn-id: trunk@42268 -

M	tests/webtbs/tw13294.pp

******************************************************************************
commit ee1be45df9e25993bc8c8289e7b8bd814064197a
Merge: b9c16b98d1 b08b6a17bd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jun 21 16:56:44 2019 +0000

      * reintegrated debug_eh branch
       o the LLVM compiler is now functional for Darwin/x86-64, and also (but less
         tested) for Linux/x86-64, Linux/AArch64 and Linux/ARMHF. See
         https://wiki.freepascal.org/LLVM for details and the current state
       o Dwarf-eh-based "zero-cost" exceptions are available with the regular
         code generators for Linux/x86-64 and Linux/i386 if the compiler is
         compiled with -dpsabieh
    
    git-svn-id: trunk@42260 -


******************************************************************************
commit d6174499b1fdc948c28db191080da7f144c93d15
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jun 18 19:16:33 2019 +0000

      * disable array and record regvars for all cpuhighleveltarget platforms
    
    git-svn-id: trunk@42246 -

M	compiler/symdef.pas

******************************************************************************
commit 25878f9eb2e6859a2b9a64639a8f3fff25a6ff7c
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jun 17 20:19:48 2019 +0000

    put #ifdef TARGETOS / #endif around the gcclib section, otherwise the various host paths can cause a hard to debug mess during crosscompiling in some cases
    
    git-svn-id: trunk@42243 -

M	utils/fpcmkcfg/fpcmkcfg.pp

******************************************************************************
commit 5d4af28c0ff54f1b7d6d97f35a55074865612445
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 17 01:53:38 2019 +0000

    + implemented TOmfRecord_COMENT_IMPDEF.DecodeFrom
    
    git-svn-id: trunk@42242 -

M	compiler/omfbase.pas

******************************************************************************
commit d80dc03ccbaae1a432356148b88f20a36a9ed72b
Author: florian <florian@freepascal.org>
Date:   Sun Jun 16 21:43:46 2019 +0000

    * building on powerpc and arm fixed
    
    git-svn-id: trunk@42241 -

M	compiler/ncgmem.pas

******************************************************************************
commit 749c4d4e4724910f52059874df8d6fb12111a6d3
Author: florian <florian@freepascal.org>
Date:   Sun Jun 16 21:29:48 2019 +0000

    + keep (certain) arrays in registers if they are used with constants indices only
    
    git-svn-id: trunk@42239 -

M	compiler/defutil.pas
M	compiler/hlcgobj.pas
M	compiler/ncgmem.pas
M	compiler/ncnv.pas
M	compiler/nmem.pas
M	compiler/symdef.pas

******************************************************************************
commit fbbf1f4f1cf29d23bdc337dcc7064e5e69aa3218
Author: nickysn <nickysn@gmail.com>
Date:   Sat Jun 15 22:14:09 2019 +0000

    + Implemented TOmfRecord_COMENT_EXPDEF.DecodeFrom
    
    git-svn-id: trunk@42238 -

M	compiler/omfbase.pas

******************************************************************************
commit cbf95aebf44616969cd12b1f3f3a984b1d9f7295
Author: nickysn <nickysn@gmail.com>
Date:   Sat Jun 15 00:30:07 2019 +0000

    + introduced the TOmfRecord_COMENT_EXPDEF class. Use that to generate export
      libraries instead of generating the magic string directly.
    
    git-svn-id: trunk@42237 -

M	compiler/omfbase.pas
M	compiler/systems/t_win16.pas

******************************************************************************
commit eea3eb1a8ec754748b565690cb590f5c0292da74
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 23:50:48 2019 +0000

    + introduced the TOmfRecord_COMENT_IMPDEF class. Use it to encode the IMPDEF
      records instead of encoding them directly.
    
    git-svn-id: trunk@42236 -

M	compiler/ogomf.pas
M	compiler/omfbase.pas

******************************************************************************
commit 85684eb66d671df344c3395aa97ccd3ef591a137
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 23:26:37 2019 +0000

    + introduced the TOmfRecord_COMENT_Subtype abstract class
    
    git-svn-id: trunk@42235 -

M	compiler/omfbase.pas

******************************************************************************
commit 9fe80d741686ccd0e1ad78be9af35c82de80a4f1
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 23:11:25 2019 +0000

    + use the new CC_OmfExtension_IMPDEF constant instead of the direct magic value
      when writing IMPDEF records
    
    git-svn-id: trunk@42234 -

M	compiler/ogomf.pas

******************************************************************************
commit 4f3a5cfd1ee6cdf21242bb730c2aef6c1744610a
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 23:10:38 2019 +0000

    + use the new CC_OmfExtension_EXPDEF constant instead of the direct magic value
      when writing export libraries
    
    git-svn-id: trunk@42233 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 0db19546efc81de7638ea76bb323d00b1b8ea20e
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 23:06:58 2019 +0000

    + dispatch the IMPDEF and EXPDEF records to the newly introduced ReadImpDef and
      ReadExpDef methods (not implemented yet)
    
    git-svn-id: trunk@42232 -

M	compiler/ogomf.pas

******************************************************************************
commit cdd2ba1a4deadb65f70f19db565c8136f6722885
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 22:59:50 2019 +0000

    + added constants for the known CC_OmfExtension record subtypes (IMPDEF and
      EXPDEF are the ones we care about - they are used in win16 dll import and
      export libraries)
    
    git-svn-id: trunk@42231 -

M	compiler/omfbase.pas

******************************************************************************
commit fe49522e6fbccf6fda941da340818b23e29dc1c1
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 22:40:11 2019 +0000

    + register a win16 dll scanner. Not functional yet.
    
    git-svn-id: trunk@42230 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 1f3d5e88653a37b06dd3de08d68b2083a323fc31
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 22:24:19 2019 +0000

    - remove the tiny memory model code from TInternalLinkerWin16.DefaultLinkScript,
      because the Win16 target doesn't support the tiny memory model
    
    git-svn-id: trunk@42229 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit 9eaa46f7919d676acae31c785f8eb35b00138a1e
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 22:20:51 2019 +0000

    + implement TInternalLinkerWin16.DefaultLinkScript by copying the MS-DOS
      implementation (not correct, but a good starting point)
    
    git-svn-id: trunk@42228 -

M	compiler/systems/t_win16.pas

******************************************************************************
commit db1903f45d6757f3d18799002df426b66fa4a0d6
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 16:42:45 2019 +0000

    + added a win16 internal linker class. Not functional yet.
    
    git-svn-id: trunk@42226 -

M	compiler/systems.inc
M	compiler/systems/t_win16.pas

******************************************************************************
commit d3c3f2742c87a5dbd6360e5e8f4cbfc0d72dadce
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 16:23:23 2019 +0000

    + added class TNewExeOutput. Not functional yet.
    
    git-svn-id: trunk@42225 -

M	compiler/ogomf.pas

******************************************************************************
commit 7871ccd0546ee221079bb9f5c173d6d3eee4b23e
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 15:51:25 2019 +0000

    + initialize some defaults in the TNewExeHeader constructor
    
    git-svn-id: trunk@42224 -

M	compiler/ogomf.pas

******************************************************************************
commit 1474db42e45589fd8ee3f4a060e7efccacb4e7c7
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 14 14:16:22 2019 +0000

    + added class TNewExeHeader that encapsulates a NewExe header and allows writing it to a file
    
    git-svn-id: trunk@42223 -

M	compiler/ogomf.pas

******************************************************************************
commit a9b015911dda052989f7c64a5604314a4cdc07b1
Author: Legolas <legolas@idefix.freepascal.org>
Date:   Wed Jun 12 16:35:25 2019 +0000

    * Updated Wii port to libogc 1.8.22
    
    git-svn-id: trunk@42216 -

M	compiler/systems/t_wii.pas
M	packages/libogcfpc/src/network.pp
M	packages/libogcfpc/src/ogc/arqmgr.inc
M	packages/libogcfpc/src/ogc/cast.inc
M	packages/libogcfpc/src/ogc/dsp.inc
M	packages/libogcfpc/src/ogc/gx.inc
M	packages/libogcfpc/src/ogc/isfs.inc
M	packages/libogcfpc/src/ogc/lwp_watchdog.inc
M	packages/libogcfpc/src/ogc/si.inc
M	packages/libogcfpc/src/ogc/system.inc
M	packages/libogcfpc/src/ogc/usbstorage.inc
M	packages/libogcfpc/src/ogcsys.inc
M	packages/libogcfpc/src/sdcard/card_io.inc

******************************************************************************
commit 73c88619293407e62f358e0442389fb3cc10a87f
Author: florian <florian@freepascal.org>
Date:   Tue Jun 11 20:03:47 2019 +0000

    * suppress warning for targets without MM registers
    
    git-svn-id: trunk@42214 -

M	compiler/hlcg2ll.pas

******************************************************************************
commit dec03b5ac7d43c9462d930f53a61a6e1514b5b08
Author: nickysn <nickysn@gmail.com>
Date:   Tue Jun 11 15:51:40 2019 +0000

    + added the asmmodes_x86_att set constant - similar to asmmode_x86_intel, but for AT&T asm syntax
    
    git-svn-id: trunk@42212 -

M	compiler/systems.pas

******************************************************************************
commit 697f2fcf755fa92f67644acd88b1c1827c2ad8cd
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 16:19:06 2019 +0000

    * prettify the "Use of -offset(%esp), access may cause a crash or value may be
      lost" warning by showing the exact register used (esp or rsp) and using the
      asm syntax (Intel or AT&T) used originally in the code
    
    git-svn-id: trunk@42211 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/rax86.pas

******************************************************************************
commit d2b3da1f145484472d9ab905805715dd55a8575a
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 15:58:16 2019 +0000

    + add asmmode_standard to the asmmodes_x86_intel set on i8086, because i8086 defaults to intel syntax
    
    git-svn-id: trunk@42210 -

M	compiler/systems.pas

******************************************************************************
commit ce8ec3ab5d5d8458b16c2e19e2650ec16822e542
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 15:44:19 2019 +0000

    + introduced the asmmodes_x86_intel constant set
    
    git-svn-id: trunk@42209 -

M	compiler/systems.pas
M	compiler/x86/rax86.pas

******************************************************************************
commit 4f2ab3fb1130a34460f5a2c5c0fa8db24d8f036c
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 15:26:46 2019 +0000

    * prettify the "Use of -offset(%ebp) is not recommended for local variable
      access" warning by showing the exact register used (bp, ebp or rbp) and using
      the original asm syntax
    
    git-svn-id: trunk@42208 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/rax86.pas

******************************************************************************
commit 1e07606cbfb0166728c305cd73d35d28a3d9ccfe
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 15:08:46 2019 +0000

    * prettify the "Use of +offset(%ebp) is not compatible with regcall convention"
      and "Use of +offset(%ebp) for parameters invalid here" warning messages by
      showing the exact register used (bp, ebp or rbp) and using the original asm
      syntax (Intel: [EBP+offset]; AT&T: +offset(%ebp) )
    
    git-svn-id: trunk@42207 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/x86/rax86.pas

******************************************************************************
commit 2487fa76056397bdca5711c3360bfb27f0620b4c
Author: nickysn <nickysn@gmail.com>
Date:   Mon Jun 10 13:06:58 2019 +0000

    + added set TNewExeSegmentFlags
    
    git-svn-id: trunk@42203 -

M	compiler/ogomf.pas

******************************************************************************
commit 7c02f2b5314b4527db41eba28860ac5e121779bd
Author: Legolas <legolas@idefix.freepascal.org>
Date:   Mon Jun 10 06:39:46 2019 +0000

    * Nintendo DS port updated to libnds ver.1.7.3
    
    git-svn-id: trunk@42202 -

M	.gitattributes
M	compiler/systems/t_nds.pas
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/audio_modes.pp
M	packages/libndsfpc/examples/audio/maxmod/reverb/reverb.pp
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/song_events_example.pp
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/song_events_example2.pp
M	packages/libndsfpc/examples/audio/maxmod/streaming/streaming.pp
M	packages/libndsfpc/examples/audio/micrecord/micrecord.pp
M	packages/libndsfpc/examples/card/eeprom/eeprom.pp
M	packages/libndsfpc/examples/ds_motion/dsMotion.pp
M	packages/libndsfpc/examples/dswifi/ap_search/apSearch.pp
M	packages/libndsfpc/examples/dswifi/autoconnect/autoconnect.pp
M	packages/libndsfpc/examples/dswifi/httpget/httpget.pp
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/libfatdir.pp
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/3DBothScreens.pp
M	packages/libndsfpc/examples/graphics/3D/BoxTest/BoxTest.pp
M	packages/libndsfpc/examples/graphics/3D/Display_List/DisplayList.pp
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/DisplayList2.pp
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/EnvMapping.pp
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/MixedText3D.pp
M	packages/libndsfpc/examples/graphics/3D/Ortho/Ortho.pp
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/PalettedCube.pp
M	packages/libndsfpc/examples/graphics/3D/Picking/Picking.pp
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/SimpleQuad.pp
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/SimpleTri.pp
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/TexturedCube.pp
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/TexturedQuad.pp
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/ToonShading.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/lesson01.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/lesson02.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/lesson03.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/lesson04.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/lesson05.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/lesson06.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/lesson07.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/lesson08.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/lesson09.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/lesson10.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/lesson10b.pp
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/lesson11.pp
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/BackgroundAllInOne.pp
M	packages/libndsfpc/examples/graphics/Makefile.fpc
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/AnsiConsole.pp
M	packages/libndsfpc/examples/graphics/Printing/console_windows/ConsoleWindows.pp
M	packages/libndsfpc/examples/graphics/Printing/custom_font/CustomFont.pp
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/printBothScreens.pp
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/RotscaleText.pp
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/AllocationTest.pp
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/BitmapSprites.pp
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/FireAndSprites.pp
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/data/ball.pcx
A	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile
A	packages/libndsfpc/examples/graphics/grit/256colorTilemap/Makefile.fpc
A	packages/libndsfpc/examples/graphics/grit/256colorTilemap/gfx/tilemap.grit
A	packages/libndsfpc/examples/graphics/grit/256colorTilemap/gfx/tilemap.png
A	packages/libndsfpc/examples/graphics/grit/256colorTilemap/tilemap_256_color.pp
A	packages/libndsfpc/examples/graphics/grit/Makefile.fpc
M	packages/libndsfpc/examples/hello_world/helloWorld.pp
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile.fpc
M	packages/libndsfpc/src/dswifi/inc/dswifi9.inc
M	packages/libndsfpc/src/fat/fat.inc
M	packages/libndsfpc/src/fat/gbfs.pp
A	packages/libndsfpc/src/nds/arm7/aes.inc
M	packages/libndsfpc/src/nds/arm7/audio.inc
M	packages/libndsfpc/src/nds/arm7/clock.inc
A	packages/libndsfpc/src/nds/arm7/codec.inc
M	packages/libndsfpc/src/nds/arm7/sdmmc.inc
M	packages/libndsfpc/src/nds/arm7/touch.inc
A	packages/libndsfpc/src/nds/arm9/cache_asm.inc
M	packages/libndsfpc/src/nds/arm9/dldi.inc
A	packages/libndsfpc/src/nds/arm9/dldi_asm.inc
M	packages/libndsfpc/src/nds/arm9/guitarGrip.inc
M	packages/libndsfpc/src/nds/arm9/math.inc
A	packages/libndsfpc/src/nds/arm9/nand.inc
M	packages/libndsfpc/src/nds/arm9/sassert.inc
M	packages/libndsfpc/src/nds/arm9/sprite.inc
M	packages/libndsfpc/src/nds/arm9/video.inc
M	packages/libndsfpc/src/nds/card.inc
M	packages/libndsfpc/src/nds/disc_io.inc
M	packages/libndsfpc/src/nds/dma.inc
M	packages/libndsfpc/src/nds/fifocommon.inc
M	packages/libndsfpc/src/nds/fifomessages.inc
M	packages/libndsfpc/src/nds/interrupts.inc
M	packages/libndsfpc/src/nds/libversion.inc
M	packages/libndsfpc/src/nds/memory.inc
M	packages/libndsfpc/src/nds/ndsinclude.inc
M	packages/libndsfpc/src/nds/ndstypes.inc
M	packages/libndsfpc/src/nds/registers_alt.inc
A	packages/libndsfpc/src/nds/rsa.inc
A	packages/libndsfpc/src/nds/sha1.inc
M	packages/libndsfpc/src/nds/system.inc
M	packages/libndsfpc/src/nds7.pp
M	packages/libndsfpc/src/nds9.pp
M	rtl/nds/cprt07.as
M	rtl/nds/cprt09.as
M	rtl/nds/prt07.as
M	rtl/nds/prt09.as
M	rtl/nds/system.pp

******************************************************************************
commit 4239742b35471d8c36d1dca9c2bec527d66c12de
Author: Legolas <legolas@idefix.freepascal.org>
Date:   Sun Jun 9 22:27:16 2019 +0000

     * GBA port updated
    
    git-svn-id: trunk@42201 -

M	compiler/systems/t_gba.pas
M	packages/libgbafpc/Makefile.fpc.fpcmake
M	packages/libgbafpc/src/gba/gba_sound.inc
M	rtl/gba/cprt0.as
M	rtl/gba/prt0.as

******************************************************************************
commit fe99252a9b71bac16570c95e54f4165312d12fce
Author: florian <florian@freepascal.org>
Date:   Sun Jun 9 20:08:09 2019 +0000

    * lazarus version update
    
    git-svn-id: trunk@42198 -

M	compiler/pp.lpi

******************************************************************************
commit 17c48694a50b69e1f8ae9f10b878a5057ab4b02a
Author: florian <florian@freepascal.org>
Date:   Sun Jun 9 20:05:21 2019 +0000

    * fix bootstrapping with 3.0.x and -O3
    
    git-svn-id: trunk@42197 -

M	compiler/fpcdefs.inc

******************************************************************************
commit 1dee4c41dd487adbc3eef94ac974f069deefcb6e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Jun 7 18:17:55 2019 +0000

      - removed "cmp 0/1, pasbool1" optimization for llvm because this discards
        the upper 7 bits of the boolean, while other platforms take it into
        account (even though they're technically always required to be 0, and
        the value is undefined if they're not)
    
    git-svn-id: trunk@42189 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 465e8a99e00aef67489c91014f6bf2dcd67b4545
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 7 14:15:07 2019 +0000

    + added type TNewExeAdditionalHeaderFlags
    
    git-svn-id: trunk@42188 -

M	compiler/ogomf.pas

******************************************************************************
commit ded3dec22af8e83e1338569ca7cbe6daad23d3f6
Author: nickysn <nickysn@gmail.com>
Date:   Fri Jun 7 13:09:35 2019 +0000

    + added enum TNewExeTargetOS
    
    git-svn-id: trunk@42187 -

M	compiler/ogomf.pas

******************************************************************************
commit 4dbccce43c24eea0f0e9d97e66ba84ce45a40e6b
Author: nickysn <nickysn@gmail.com>
Date:   Thu Jun 6 16:00:29 2019 +0000

    + added TNewExeHeaderFlags type, describing the flags in the header of win16 executables
    
    git-svn-id: trunk@42179 -

M	compiler/ogomf.pas

******************************************************************************
commit 8e5e8774171802b15e395877621b2c5d13174890
Author: pierre <pierre@freepascal.org>
Date:   Wed Jun 5 12:00:53 2019 +0000

     Fix compilation with release 3.0.4 ppcarm
    
    git-svn-id: trunk@42175 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 750567f8e36edb9af45221299f76d2e33b1ac8bc
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Jun 3 22:10:49 2019 +0000

    Added T2 form of LDR/STR for SP relative forms.
    
    git-svn-id: trunk@42169 -

M	compiler/arm/armins.dat
M	compiler/arm/armnop.inc
M	compiler/arm/armtab.inc

******************************************************************************
commit eab079c7bd9d93bc3f02309e9ada641a7c43c60d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 2 20:04:06 2019 +0000

      * fixed cbool "and" with full boolean evaluation, and cbool "xor"
        (mantis #35272)
    
    git-svn-id: trunk@42167 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw35272.pp

******************************************************************************
commit dc681a75ecdd001fe5f3ce6d245f3c83651e35e5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 2 18:33:01 2019 +0000

      * properly return from the signal handler on ARM/Linux instead of calling
        HandleErrorAddrFrame directly (fixes psabieh exception handling, and
        generally is cleaner)
    
    git-svn-id: trunk@42166 -

M	rtl/linux/arm/sighnd.inc

******************************************************************************
commit 322a717c446f4cc3e53966e908790a87cb309d2c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jun 2 18:32:58 2019 +0000

      * support for handling subsetrefs with bitlen > AIntBits in a_load_subsetref_reg() and
        a_load_const/reg_subsetref() (needed for handling 32 bit platforms using a purely
        high level code generator like LLVM's, and may also improve the situation for
        16 bit platforms)
       o can probably be optimized to split them into parts that cover partial word loads
         and complete word loads (to reduce useless merging)
    
    git-svn-id: trunk@42165 -

M	compiler/hlcgobj.pas

******************************************************************************
commit cba4aeaca5dcbed78c85b804ed7a5bded119446f
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sat Jun 1 20:30:09 2019 +0000

    Fix division of constants on ARM thumb without long multiplication.
    
    git-svn-id: trunk@42158 -

M	compiler/arm/narmmat.pas

******************************************************************************
commit 9313ddea78051cc7ec69710462dc2e880080a1ed
Author: marco <marco@freepascal.org>
Date:   Fri May 31 10:32:49 2019 +0000

     * fix mantis 035656
    
    git-svn-id: trunk@42146 -

M	compiler/symdef.pas

******************************************************************************
commit 353da84b74e1622d006906c6c93be5fe3ca57b3b
Author: olivier <olivier.coursiere@laposte.net>
Date:   Fri May 31 10:10:05 2019 +0000

    + Added test object files for x86_64-haiku.
    
    git-svn-id: trunk@42145 -

M	.gitattributes
A	tests/test/cg/obj/haiku/x86_64/cpptcl1.o
A	tests/test/cg/obj/haiku/x86_64/cpptcl2.o
A	tests/test/cg/obj/haiku/x86_64/ctest.o
A	tests/test/cg/obj/haiku/x86_64/tcext3.o
A	tests/test/cg/obj/haiku/x86_64/tcext4.o
A	tests/test/cg/obj/haiku/x86_64/tcext5.o
A	tests/test/cg/obj/haiku/x86_64/tcext6.o
M	tests/test/cg/obj/readme.txt

******************************************************************************
commit 77658b925bef93b5ae127e686acf63cae731b234
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 25 12:31:32 2019 +0000

      * disable regular array -> dynamic array type coversion support unless
        {$modeswitch arraytodynarray} is active (mantis #35576)
       o changed compiler to compile without this modeswitch
       o added the modeswitch to a test that depends on it
    
    git-svn-id: trunk@42118 -

M	compiler/aarch64/cpupara.pas
M	compiler/arm/cpupara.pas
M	compiler/defcmp.pas
M	compiler/globtype.pas
M	compiler/i386/cpupara.pas
M	compiler/i8086/cpupara.pas
M	compiler/jvm/cpupara.pas
M	compiler/m68k/cpupara.pas
M	compiler/mips/cpupara.pas
M	compiler/paramgr.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc64/cpupara.pas
M	compiler/x86_64/cpupara.pas
M	tests/webtbs/tw2983.pp

******************************************************************************
commit 41f36233ea4d3366f988ec1b6eee3ec8a9024991
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue May 21 06:24:12 2019 +0000

      * more fpc_lib_exit change compilation fixes
    
    git-svn-id: trunk@42112 -

M	rtl/android/sysandroid.inc
M	rtl/wince/system.pp

******************************************************************************
commit dd418f24b594340b84eac3805f906c7dc97e2b7e
Author: pierre <pierre@freepascal.org>
Date:   Mon May 20 12:48:12 2019 +0000

     Add DEBUG_PPU conditional code to be able to debug ppu changes (only useful for debugging purposes)
    
    git-svn-id: trunk@42110 -

M	compiler/entfile.pas
M	compiler/ppu.pas

******************************************************************************
commit 669e705b544c32ad0cbe00973b7bf669fde04cf4
Author: pierre <pierre@freepascal.org>
Date:   Mon May 20 09:35:28 2019 +0000

     Change lib_exit to fpc_lib_exit in missed sources (to fix breakages after commit #42104)
    
    git-svn-id: trunk@42109 -

M	rtl/android/sysandroid.inc
M	rtl/java/jsystem.inc
M	rtl/wince/system.pp

******************************************************************************
commit 23428dbf4c62c3e6d23546f6322a79f68bf606af
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:51 2019 +0000

      * replaced non-breaking space with space (patch by J. Gareth Moreton,
        mantis #35602)
    
    git-svn-id: trunk@42105 -

M	tests/test/opt/tdfa19.pp

******************************************************************************
commit aad87820e687fd71d0c8f87b559b8f4b367df657
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:47 2019 +0000

      * abstracted registration of library init/fini routines (to be able to add
        LLVM support)
    
    git-svn-id: trunk@42104 -

M	compiler/ngenutil.pas
M	compiler/pmodules.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp
M	rtl/inc/compproc.inc
M	rtl/inc/system.inc

******************************************************************************
commit a418dc6c912099c870db748c09be7bd87bfe199a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:42 2019 +0000

      * made the fields array parameter of llvmgettemprecorddef "const", as it
        doesn't get modified and hence doesn't need to be copied
    
    git-svn-id: trunk@42103 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit 15532e5277d103c78bdaddfa11bf1fd40deecde8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:38 2019 +0000

      * disabled low-level hack test for LLVM
    
    git-svn-id: trunk@42102 -

M	tests/tbs/tb0508.pp

******************************************************************************
commit 4c34b7b67d9869f889d9b62a30cf2bfe1231d6ae
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:34 2019 +0000

      * fixed memory leak
    
    git-svn-id: trunk@42101 -

M	compiler/pexpr.pas

******************************************************************************
commit eb0f02348d240a2f68c662d83ab0cba140954b4d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 19 19:20:29 2019 +0000

      * fixed loading parent frame pointer for nested procvars on targets that
        that use explicit parentfp structs (fixes webtbs/tw17379 for llvm)
    
    git-svn-id: trunk@42100 -

M	compiler/ncgld.pas
M	tests/webtbs/tw17379.pp

******************************************************************************
commit 47812c8a3d5e4689d16d577507214929af857ff4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 18 18:41:38 2019 +0000

      * don't double-define function aliases for Darwin defined via ".set" directive
    
    git-svn-id: trunk@42095 -

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/hlcgobj.pas

******************************************************************************
commit 8ec3cd6390b6da0f42cb4cf79fe910c04dc9dd5d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 18 18:41:33 2019 +0000

      * append rather than insert the alias symbols for the program/procedure
        initialisation/finalisation routines
       o this ensures the procdef's mangled name and its first symbol match,
         which is required for Darwin when generating debug information and
         using ".set" directives to define alias symbols, because a symbol
         defined via ".set" cannot be used in a data relocations (and the DWARF
         debug generator uses the default mangled name, which used to correspond
         to the alias symbol due to the "insert" instead of "append")
    
    git-svn-id: trunk@42094 -

M	compiler/pmodules.pas

******************************************************************************
commit c330f5080cbd36d4ff747dcb4f382063f5e57dfd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 18 18:41:29 2019 +0000

      * replaced fpcunit custom code to obtaining a caller site with a call to
        CaptureBacktrace (prevents crashes when compiled with LLVM backend,
        and is generally more robust)
    
    git-svn-id: trunk@42093 -

M	packages/fcl-fpcunit/src/fpcunit.pp

******************************************************************************
commit 332679e28aabacc973453b31ba062f4141e919d9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 18 12:29:35 2019 +0000

      * updated German message files (patch by Karl-Michael Schindler,
        mantis #35559)
    
    git-svn-id: trunk@42092 -

M	compiler/msg/errord.msg
M	compiler/msg/errordu.msg

******************************************************************************
commit 7e51c5e8561c905ef0041a993ce933093da43798
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat May 18 12:01:41 2019 +0000

      * DFA now takes case-completeness into account (mantis #35598)
    
    git-svn-id: trunk@42091 -

M	.gitattributes
M	compiler/optdfa.pas
A	tests/test/opt/tdfa19.pp
A	tests/test/opt/tdfa20.pp

******************************************************************************
commit 2ff391c25c763d3aa585160c5643293571a37e29
Author: pierre <pierre@freepascal.org>
Date:   Fri May 17 06:39:57 2019 +0000

     Fix arm-aros rtl compilation
    
    git-svn-id: trunk@42090 -

M	compiler/arm/aasmcpu.pas

******************************************************************************
commit c0f064a35ceb3a847e6f976ba8879bd288bd2cd8
Author: pierre <pierre@freepascal.org>
Date:   Thu May 16 12:42:39 2019 +0000

     Remove two warnings about missing case (others are still present in ppudump.pp source)
    
    git-svn-id: trunk@42085 -

M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppuout.pp

******************************************************************************
commit 902ef73c7c5112bf522e69501e74121be8d2f5e8
Author: pierre <pierre@freepascal.org>
Date:   Thu May 16 08:24:45 2019 +0000

     Allways use local pt variable to ameliorate readability of code
    
    git-svn-id: trunk@42082 -

M	rtl/inc/system.inc

******************************************************************************
commit c8129c52284769ca11e459b405caca11c4f93acc
Author: pierre <pierre@freepascal.org>
Date:   Thu May 16 08:21:09 2019 +0000

     Disable 64-bit version of CPU_SOURCE is 32-bit
    
    git-svn-id: trunk@42081 -

M	rtl/unix/scripts/check_rtl_types.sh

******************************************************************************
commit ad6897ffd87d759c5140bd4c4f7de76c2d8898b9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue May 14 19:19:19 2019 +0000

      * fixed Darwin/AArch64 flt/int-div-by-zero error codes (fix for 42045, as
        noted by AlexeyT)
    
    git-svn-id: trunk@42064 -

M	rtl/darwin/aarch64/sighnd.inc

******************************************************************************
commit cf9596421bab9d2feb295e2bdbf013195a8061fb
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue May 14 19:19:14 2019 +0000

      * fixed crashes on platforms using parentfpstructs with generic routines
        that contain nested functions (when specialised, procedures don't have
        the main function of the unit/program as parent procinfo)
    
    git-svn-id: trunk@42063 -

M	compiler/ncgnstld.pas
M	compiler/ncgnstmm.pas
M	compiler/symdef.pas

******************************************************************************
commit b291d17fc5e3b53ce4e8cc5f37d6f9717a9f2288
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon May 13 20:30:28 2019 +0000

      * fix overflow errors in case coverage code
    
    git-svn-id: trunk@42059 -

M	compiler/nset.pas

******************************************************************************
commit e4385d1b194ba1704a6e361f7f07cf5cc29eafdb
Author: michael <michael@freepascal.org>
Date:   Mon May 13 20:15:00 2019 +0000

    * Fix bug ID #35576
    
    git-svn-id: trunk@42057 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit dc592a888fd69ab284ed8996f18733bdbefe68fc
Author: michael <michael@freepascal.org>
Date:   Mon May 13 11:47:46 2019 +0000

    * Make explicit that Integer is 32-bit
    
    git-svn-id: trunk@42056 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit 883d1f2a792ddc42403ca08d7a5202ba1f1333e1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 21:08:42 2019 +0000

      - removed test that shortstring is aligned to a multiple of pointer size,
        as the compiler does not guarantee any such thing
    
    git-svn-id: trunk@42053 -

M	tests/test/talign2.pp

******************************************************************************
commit 0227c55b5394997da79ac041b183ebc2afc7605f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 21:08:39 2019 +0000

      - removed explicit linking of ptest.o, as that happens already automatically
        due to the "uses ptest" and breaks LTO (then both ptest.o and ptest.bc
        get linked, resulting in duplicate symbols)
    
    git-svn-id: trunk@42052 -

M	tests/test/cg/tcalpext.pp

******************************************************************************
commit fdccb0d62fc1145356a31c16d8e340d6f4130ae5
Author: michael <michael@freepascal.org>
Date:   Sun May 12 15:36:04 2019 +0000

    * FIx compilation with 3.0.4
    
    git-svn-id: trunk@42049 -

M	rtl/objpas/classes/streams.inc

******************************************************************************
commit 58f1a8513b9c748e7c9bb752bfd70eff22c0a36c
Author: michael <michael@freepascal.org>
Date:   Sun May 12 15:33:26 2019 +0000

    * FIx compilation for platforms that do not have extended
    
    git-svn-id: trunk@42048 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit ba1b4b1c920a86bf7f8c6fe8777026e0092a9651
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 14:29:11 2019 +0000

      + support for verifying whether a case statements handles all possibilities
        (based on patch by Martok)
       o enabled by default in ISO and Extended Pascal: compile-time error if not
         the case in ISO mode, warning and run-time error in Extended Pascal mode
       o warning enabled by default in all other modes for boolean, enumeration and
         subrange integer types with ranges different from the default ones
         (i.e., different from 0..255, -128..127, 0..65536, etc)
       o warnings for all ordinal types can be enabled in all modes with
         -CC
    
    git-svn-id: trunk@42047 -

M	.gitattributes
M	compiler/globtype.pas
M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/ncgset.pas
M	compiler/nset.pas
M	compiler/options.pas
M	compiler/optutils.pas
M	compiler/scandir.pas
M	compiler/scanner.pas
M	compiler/x86/nx86set.pas
M	compiler/x86_64/nx64set.pas
A	tests/test/tcasecov1.pp
A	tests/test/tcasecov2.pp
A	tests/test/tcasecov3.pp
A	tests/test/tcasecov4.pp
A	tests/test/tcasecov5.pp
A	tests/test/tcasecov6.pp
A	tests/test/tcasecov7.pp
A	tests/test/tcasecov8.pp
A	tests/test/tcasecov9.pp

******************************************************************************
commit 281b3ad276d8b66085fde25139123a574ef06afd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 14:29:03 2019 +0000

      * fix case completeness and unreachable code warnings in compiler that would
        be introduced by the next commit
    
    git-svn-id: trunk@42046 -

M	compiler/aarch64/agcpugas.pas
M	compiler/aarch64/aoptcpu.pas
M	compiler/aarch64/aoptcpub.pas
M	compiler/aarch64/cgcpu.pas
M	compiler/aarch64/cpupara.pas
M	compiler/aarch64/racpu.pas
M	compiler/aarch64/racpugas.pas
M	compiler/aarch64/rgcpu.pas
M	compiler/aasmsym.pas
M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/aopt.pas
M	compiler/aoptobj.pas
M	compiler/arm/aasmcpu.pas
M	compiler/arm/agarmgas.pas
M	compiler/arm/aoptcpu.pas
M	compiler/arm/aoptcpub.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpubase.pas
M	compiler/arm/cpuelf.pas
M	compiler/arm/cpupara.pas
M	compiler/arm/cpupi.pas
M	compiler/arm/narmadd.pas
M	compiler/arm/narmcnv.pas
M	compiler/arm/raarmgas.pas
M	compiler/arm/rgcpu.pas
M	compiler/assemble.pas
M	compiler/cfidwarf.pas
M	compiler/cgobj.pas
M	compiler/dbgbase.pas
M	compiler/dbgcodeview.pas
M	compiler/dbgdwarf.pas
M	compiler/dbgstabs.pas
M	compiler/dbgstabx.pas
M	compiler/defcmp.pas
M	compiler/defutil.pas
M	compiler/fppu.pas
M	compiler/gendef.pas
M	compiler/hlcg2ll.pas
M	compiler/hlcgobj.pas
M	compiler/htypechk.pas
M	compiler/i386/aoptcpu.pas
M	compiler/i386/cgcpu.pas
M	compiler/i386/cpuelf.pas
M	compiler/i386/cpupara.pas
M	compiler/i386/n386add.pas
M	compiler/i8086/aoptcpu.pas
M	compiler/i8086/cgcpu.pas
M	compiler/i8086/cpupara.pas
M	compiler/i8086/n8086add.pas
M	compiler/i8086/symcpu.pas
M	compiler/jvm/agjasmin.pas
M	compiler/jvm/aoptcpu.pas
M	compiler/jvm/cpupara.pas
M	compiler/jvm/dbgjasm.pas
M	compiler/jvm/hlcgcpu.pas
M	compiler/jvm/jvmdef.pas
M	compiler/jvm/njvmcnv.pas
M	compiler/jvm/njvmcon.pas
M	compiler/jvm/njvminl.pas
M	compiler/jvm/rgcpu.pas
M	compiler/jvm/tgcpu.pas
M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/llvm/llvmtype.pas
M	compiler/llvm/nllvmbas.pas
M	compiler/llvm/nllvmld.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/llvm/rgllvm.pas
M	compiler/mips/aasmcpu.pas
M	compiler/mips/aoptcpu.pas
M	compiler/mips/cgcpu.pas
M	compiler/mips/cpubase.pas
M	compiler/mips/cpuelf.pas
M	compiler/mips/cpupara.pas
M	compiler/mips/hlcgcpu.pas
M	compiler/mips/itcpugas.pas
M	compiler/mips/ncpuadd.pas
M	compiler/mips/ncpuld.pas
M	compiler/nadd.pas
M	compiler/nbas.pas
M	compiler/ncal.pas
M	compiler/ncgbas.pas
M	compiler/ncgcal.pas
M	compiler/ncgcnv.pas
M	compiler/ncgcon.pas
M	compiler/ncgld.pas
M	compiler/ncgmem.pas
M	compiler/ncgnstld.pas
M	compiler/ncgrtti.pas
M	compiler/ncgset.pas
M	compiler/ncgutil.pas
M	compiler/ncgvmt.pas
M	compiler/ncnv.pas
M	compiler/ncon.pas
M	compiler/ngenutil.pas
M	compiler/ngtcon.pas
M	compiler/ninl.pas
M	compiler/nmat.pas
M	compiler/nmem.pas
M	compiler/nopt.pas
M	compiler/nset.pas
M	compiler/nutils.pas
M	compiler/ogbase.pas
M	compiler/ogcoff.pas
M	compiler/ogelf.pas
M	compiler/ogmacho.pas
M	compiler/ogomf.pas
M	compiler/omfbase.pas
M	compiler/optdfa.pas
M	compiler/options.pas
M	compiler/optloop.pas
M	compiler/opttail.pas
M	compiler/optutils.pas
M	compiler/optvirt.pas
M	compiler/parabase.pas
M	compiler/paramgr.pas
M	compiler/parser.pas
M	compiler/pbase.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pdecvar.pas
M	compiler/pexports.pas
M	compiler/pexpr.pas
M	compiler/pgenutil.pas
M	compiler/pkgutil.pas
M	compiler/powerpc/agppcmpw.pas
M	compiler/powerpc/aoptcpu.pas
M	compiler/powerpc/cgcpu.pas
M	compiler/powerpc/cpubase.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc/nppcadd.pas
M	compiler/powerpc/nppcmat.pas
M	compiler/powerpc/rappcgas.pas
M	compiler/powerpc64/cgcpu.pas
M	compiler/powerpc64/cpubase.pas
M	compiler/powerpc64/cpupara.pas
M	compiler/powerpc64/nppcadd.pas
M	compiler/powerpc64/rappcgas.pas
M	compiler/pparautl.pas
M	compiler/ppcgen/aasmcpu.pas
M	compiler/ppcgen/agppcgas.pas
M	compiler/ppcgen/cgppc.pas
M	compiler/ppcgen/ngppcadd.pas
M	compiler/psub.pas
M	compiler/ptype.pas
M	compiler/rautils.pas
M	compiler/rgobj.pas
M	compiler/riscv/aasmcpu.pas
M	compiler/riscv/agrvgas.pas
M	compiler/riscv32/aoptcpu.pas
M	compiler/riscv32/cpubase.pas
M	compiler/riscv32/cpupara.pas
M	compiler/riscv32/cpupi.pas
M	compiler/riscv32/nrv32cnv.pas
M	compiler/riscv32/rarv32gas.pas
M	compiler/riscv64/aoptcpu.pas
M	compiler/riscv64/cgcpu.pas
M	compiler/riscv64/cpubase.pas
M	compiler/riscv64/cpupara.pas
M	compiler/riscv64/cpupi.pas
M	compiler/riscv64/rarv64gas.pas
M	compiler/scanner.pas
M	compiler/sparc/cgcpu.pas
M	compiler/sparc/cpupara.pas
M	compiler/sparc64/cpugas.pas
M	compiler/sparc64/cpupara.pas
M	compiler/sparcgen/aoptcpu.pas
M	compiler/sparcgen/cgsparc.pas
M	compiler/sparcgen/cpugas.pas
M	compiler/sparcgen/itcpugas.pas
M	compiler/sparcgen/rgcpu.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas
M	compiler/symsym.pas
M	compiler/symtable.pas
M	compiler/symtype.pas
M	compiler/symutil.pas
M	compiler/systems/t_amiga.pas
M	compiler/systems/t_bsd.pas
M	compiler/systems/t_embed.pas
M	compiler/systems/t_macos.pas
M	compiler/systems/t_nds.pas
M	compiler/systems/t_win.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/agx86att.pas
M	compiler/x86/agx86int.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/cpubase.pas
M	compiler/x86/nx86add.pas
M	compiler/x86/nx86cnv.pas
M	compiler/x86/nx86ld.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86/nx86mem.pas
M	compiler/x86/rax86.pas
M	compiler/x86/rax86att.pas
M	compiler/x86/rax86int.pas
M	compiler/x86/rgx86.pas
M	compiler/x86/symx86.pas
M	compiler/x86_64/aoptcpu.pas
M	compiler/x86_64/cpuelf.pas
M	compiler/x86_64/cpupara.pas
M	compiler/x86_64/nx64flw.pas
M	compiler/x86_64/win64unw.pas

******************************************************************************
commit 5c20481c7b0e0521e0747df6355b969dfee293ba
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 14:28:55 2019 +0000

      * fixed floating point div-by-zero RTE code on Darwin (208 instead of 200,
        fixes webtbs/tw32671)
    
    git-svn-id: trunk@42045 -

M	rtl/darwin/aarch64/sighnd.inc
M	rtl/darwin/arm/sighnd.inc
M	rtl/darwin/ppcgen/ppchnd.inc
M	rtl/darwin/x86/x86hnd.inc

******************************************************************************
commit f76cde1c4c5a6bee8562d5b754dec8e9e99d84d4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun May 12 14:28:52 2019 +0000

      * set correct fileinfo for statements_til_end() block
    
    git-svn-id: trunk@42044 -

M	compiler/pstatmnt.pas

******************************************************************************
commit 60efc9e81c1624e3d206082cdd0a658e45f22ba4
Author: michael <michael@freepascal.org>
Date:   Sun May 12 10:09:16 2019 +0000

    * Add Read/Write(Buffer) TBytes, ReadData/WriteData, ReadBufferData/WriteBufferData to be Delphi compatible
    
    git-svn-id: trunk@42042 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit 5a5b47fa24520aa9275ceca1d20a36ff3b39485c
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri May 10 14:04:45 2019 +0000

    + add support for MultiHelpers modeswitch by Ryan Joseph for Mantis #35159
    + added tests
    
    git-svn-id: trunk@42026 -

M	.gitattributes
M	compiler/globtype.pas
M	compiler/htypechk.pas
M	compiler/symtable.pas
A	tests/test/tmshlp1.pp
A	tests/test/tmshlp10.pp
A	tests/test/tmshlp11.pp
A	tests/test/tmshlp12.pp
A	tests/test/tmshlp13.pp
A	tests/test/tmshlp14.pp
A	tests/test/tmshlp15.pp
A	tests/test/tmshlp16.pp
A	tests/test/tmshlp2.pp
A	tests/test/tmshlp3.pp
A	tests/test/tmshlp4.pp
A	tests/test/tmshlp5.pp
A	tests/test/tmshlp6.pp
A	tests/test/tmshlp7.pp
A	tests/test/tmshlp8.pp
A	tests/test/tmshlp9.pp
A	tests/test/umshlp1.pp
A	tests/test/umshlp15a.pp
A	tests/test/umshlp15b.pp

******************************************************************************
commit ebf2e277ab910631196dff8d58aba207ce7b0da3
Author: pierre <pierre@freepascal.org>
Date:   Tue May 7 11:26:44 2019 +0000

     Update syscall number for sparc and sparc64 based on results from unix/scripts/check_sys.sh
    
    git-svn-id: trunk@42019 -

M	rtl/linux/sparcgen/sysnr.inc

******************************************************************************
commit a7a67f3d3c8443304eb268ee78d46d502c1049d0
Author: pierre <pierre@freepascal.org>
Date:   Tue May 7 08:13:38 2019 +0000

      * Improve handling of command line args setting variables (did not work if it contained spaces)
      + Group all recognized macros into list_defines in preproc.awk file
      + Convert Pascal style hexadecimal constants into C style
    
    git-svn-id: trunk@42018 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 0a3a35152d74441c8b221e9f19a906a1a091396f
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 22:07:49 2019 +0000

     Also remove -m32 option for arm native GNU C compiler
    
    git-svn-id: trunk@42017 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit fae45b20752f63b270c3d270b0f7588067344802
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 21:13:42 2019 +0000

    Add first linux RTL compliance test file t_linux.h2paschk
    
    git-svn-id: trunk@42016 -

M	.gitattributes
A	rtl/linux/t_linux.h2paschk

******************************************************************************
commit 12647c348e57e0a0fe5826705d6e1c2b049e2fe1
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 21:10:12 2019 +0000

     Add script to use h2paschk on t_OS.h2paschk file for rtl tests for system header compliance
    
    git-svn-id: trunk@42015 -

M	.gitattributes
A	rtl/unix/scripts/check_rtl_types.sh

******************************************************************************
commit cb4b085a99c726875ec848162770185a00f388c6
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 21:08:47 2019 +0000

      * Also allow '-' in include file names
      + Add os_cpu and cpu_source variables
      * Cope with aarch64 GNU C compiler that does not support -m64 option
      + Add support for arm test on aarch64 machine
      * Better accept expressions instead of constants in C #define
    
    git-svn-id: trunk@42014 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 1e4442f1fa25431480c9b1f4194589b04b5fd28c
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 13:25:56 2019 +0000

     Add more system header constants
    
    git-svn-id: trunk@42010 -

M	rtl/openbsd/t_openbsd.h2paschk

******************************************************************************
commit 1d9220d2702a27e90cd6cddf2eb65561c3fb0161
Author: pierre <pierre@freepascal.org>
Date:   Mon May 6 10:17:10 2019 +0000

     Use %X instead of %x for C hexadecimal constants as Free Pascal hexstr uses uppercase characters A to F for values 10 to 15
    
    git-svn-id: trunk@42007 -

M	utils/h2pas/h2paschk.pas

******************************************************************************
commit b4baf9b49c9cb02cedb212fa9b444489ec9ba097
Author: pierre <pierre@freepascal.org>
Date:   Sat May 4 12:41:46 2019 +0000

     Link against libstdc++ and libc to avoid linking error for openbsd OS
    
    git-svn-id: trunk@41982 -

M	tests/test/cg/tcppcl2.pp

******************************************************************************
commit e7e96f98b2d4664f0561037ed7d465cf4c9d9cf3
Author: pierre <pierre@freepascal.org>
Date:   Sat May 4 12:38:23 2019 +0000

    Link against libc to avoid __guard_local not found symbol failure at link time for OpenBSD target
    
    git-svn-id: trunk@41981 -

M	tests/test/cg/tcalext6.pp

******************************************************************************
commit 079d616978f27a05004218d3fd6724ef05b5e4e0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu May 2 19:40:00 2019 +0000

      * fixed double free in LLVM code generator after r41963
    
    git-svn-id: trunk@41976 -

M	compiler/aasmcnst.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 97a144ea6abfc4deecba0e10786e17519e1c6ce6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu May 2 19:39:56 2019 +0000

      - removed ttypedconstkind parameter from tai_simpletypedconst constructor,
        as it always has to be tck_simple anyway
    
    git-svn-id: trunk@41975 -

M	compiler/aasmcnst.pas
M	compiler/llvm/llvmtype.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit ce1ba76ce55abc849746a0eacfafc4a479f517e1
Author: pierre <pierre@freepascal.org>
Date:   Thu May 2 12:57:51 2019 +0000

     Add st_ctime_nsec field for stat powerpc record
    
    git-svn-id: trunk@41972 -

M	rtl/linux/powerpc/stat.inc

******************************************************************************
commit 0690df17331c2e8ca9e28f52a47bc9592cdeb5e9
Author: pierre <pierre@freepascal.org>
Date:   Thu May 2 12:56:56 2019 +0000

     Update syscall numbers for powerpc-linux and powerpc64-linux
    
    git-svn-id: trunk@41971 -

M	rtl/linux/powerpc/sysnr.inc

******************************************************************************
commit 0100c4abf8df357f5c58e9d70d8b35233e994c51
Author: pierre <pierre@freepascal.org>
Date:   Thu May 2 12:55:51 2019 +0000

     More improvements to script testing syscall numbers
    
    git-svn-id: trunk@41970 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 5f4a0c7af7b8f605338728aa0274ad1f877e2a75
Author: pierre <pierre@freepascal.org>
Date:   Wed May 1 22:00:06 2019 +0000

      * freebsd and openbsd also use sys/syscall.h header
      + Add AWK parser to removed parts of source not concerning current CPU
        (only handles CPUXXX like CPUI386)
    
    git-svn-id: trunk@41969 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 5c7adf9af382ee5919ebfb7c806cab3d520977dd
Author: pierre <pierre@freepascal.org>
Date:   Wed May 1 14:49:14 2019 +0000

    Add simple types and some constants
    
    git-svn-id: trunk@41965 -

M	rtl/openbsd/t_openbsd.h2paschk

******************************************************************************
commit 8988a5e028080ac37c20c06bf8d0cfc134cdeb7e
Author: pierre <pierre@freepascal.org>
Date:   Wed May 1 14:46:23 2019 +0000

      + Add handling of simple types and constants
      + Add ReadID helper procedure inside ProcessH2PasChk method
    
    git-svn-id: trunk@41964 -

M	utils/h2pas/h2paschk.pas

******************************************************************************
commit 213b87fe91453fbca07dacff506b7687e42494e1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Apr 30 19:36:46 2019 +0000

      * optimized and simplified tai_aggregatetypedconst destruction
    
    git-svn-id: trunk@41963 -

M	compiler/aasmcnst.pas

******************************************************************************
commit 819752c334f6784a55b1ce151a8a0e11ccf87c7e
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 29 14:19:16 2019 +0000

    Avoid warnings when -v0 is used by using $push/$pop
    
    git-svn-id: trunk@41960 -

M	rtl/inc/dos.inc
M	rtl/inc/fexpand.inc
M	rtl/inc/ustrings.inc
M	rtl/objpas/classes/streams.inc

******************************************************************************
commit b365fdd4786d21482b7e3a5483cd399f50b35e89
Author: pierre <pierre@freepascal.org>
Date:   Mon Apr 29 09:09:41 2019 +0000

     Fix compilation of testsuite program
    
    git-svn-id: trunk@41959 -

M	tests/utils/testsuite/utests.pp

******************************************************************************
commit 587397253df55fbf19c82129e8413a13d8bf7bca
Author: michael <michael@freepascal.org>
Date:   Sun Apr 28 09:26:52 2019 +0000

    * Patch from Serge Anvarov (bug ID 35102) to reduce code duplication
    
    git-svn-id: trunk@41952 -

M	packages/fcl-registry/src/winreg.inc

******************************************************************************
commit 639adc314f4660859264f647b2b5172847265dcf
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 25 13:04:39 2019 +0000

    Eliminate wrong line (bug report 35441)
    
    git-svn-id: trunk@41934 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 66401652fd19e7156d2fbed807d6d8ab5fb7708d
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 25 06:23:37 2019 +0000

       * Update syscall list for i386 and x86_64 cpus,
         based on values found on gcc121 machine,
         CentOS Linux release 7.6.1810 (Core)
       * Commented out values not accepted by GNU C compiler.
         For i386: madvise1(219), security(223),set_zone_reclaim(251)
         New last number: 382(pkey_free).
         For x86_64: 331(pkey_free).
    
    git-svn-id: trunk@41929 -

M	rtl/linux/i386/sysnr.inc
M	rtl/linux/x86_64/sysnr.inc

******************************************************************************
commit a83bc6263903a51c789545d381bfd86e3ae9f1d9
Author: pierre <pierre@freepascal.org>
Date:   Thu Apr 25 06:10:43 2019 +0000

      Improve syscall number testing script:
      + Add support for parameters:
        -v sets verbose variable to 1
        VAR=value gets evaluated.
      * moves to rtl/$os if called at diferent level.
      + check if there is a incude directive in sysnr.inc file.
      + Add compilation of C source code with the C variant of the syscall number.
      + Support 32 and 64-bit version of C compilation for systems
        allowing 32 and 64-bit executable (like x86_64-linux).
      + Add 'preprocessing' using AWK to test {$ifdef CPUXXX} macro.
      + Add summary at end of script.
      * Rename check_syscall_number to check_c_syscall_from_fpc_rtl
      * Rename check_syscall_number_reverse to check_c_syscall_in_fpc_rtl
      * Try to remove most intermediate files.
      + Generate add_missing_syscalls.inc file if numbers are missing.
    
    git-svn-id: trunk@41928 -

M	rtl/unix/scripts/check_sys.sh

******************************************************************************
commit 55aeac44f0c462bb66b0025884316dd13ce033dd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Apr 22 15:16:33 2019 +0000

      * micro-optimization for tentryfile.getbyte() (based on patch by
        J. Gareth Moreton, mantis #35406)
    
    git-svn-id: trunk@41924 -

M	compiler/entfile.pas

******************************************************************************
commit 8d19bb12a2326177304ca963f406dc9a90961cd4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 21 10:07:42 2019 +0000

      * moved sleb/uleb128 helpers to cutils and use SarInt64() intrinsic (based on
        patch by J. Gareth Moreton, mantis #35327)
    
    git-svn-id: trunk@41917 -

M	compiler/aasmbase.pas
M	compiler/cutils.pas

******************************************************************************
commit 33d57ac646240541aaaed7307758d44eb93ebc7c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 20 18:18:07 2019 +0000

      * replaced TCmdStrListItem getter function with a property
    
    git-svn-id: trunk@41906 -

M	compiler/cclasses.pas

******************************************************************************
commit 6f411d6355156913f10c37aa700e1559a1a498c2
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 16 22:03:40 2019 +0000

     Avoid C 64-bit compiler warnings by using %lu instead of %u for sizeof and offsetof
    
    git-svn-id: trunk@41888 -

M	utils/h2pas/h2paschk.pas

******************************************************************************
commit d9c109a4dd3e17405a567f2ebd657723dd86d259
Author: nickysn <nickysn@gmail.com>
Date:   Tue Apr 16 16:45:54 2019 +0000

    + added h2paschk structure checker files for the DirectDraw and DirectInput
      header translations, used by PTCPas.
    
    git-svn-id: trunk@41887 -

M	.gitattributes
A	packages/ptc/src/win32/directx/t_ddraw.h2paschk
A	packages/ptc/src/win32/directx/t_dinput.h2paschk

******************************************************************************
commit b9ddddf9b153fa5178118319c4d245d20d24bdb3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Apr 16 16:11:54 2019 +0000

      * use ".set" for aliasing global symbols on Darwin, instead of declaring
        symbols after each other
       o removed the .reference hack that was used previously
    
    git-svn-id: trunk@41885 -

M	compiler/hlcgobj.pas

******************************************************************************
commit e008785152df10d7ac99ff2a162190d2f39a72f0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Apr 16 16:11:50 2019 +0000

      * insert the hidden parameters for objectdef methods after resolving
        overrides but before generating the VMT, so that these hidden parameters
        are part of the procdefs stored in the VMT (fixes some LLVM type errors
        after r41716)
    
    git-svn-id: trunk@41884 -

M	compiler/jvm/pjvm.pas
M	compiler/nobj.pas
M	compiler/pdecl.pas
M	compiler/pgenutil.pas

******************************************************************************
commit 8ff0aaa36918970b7eaa0bdfbfa320afa564ad20
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 16 15:10:40 2019 +0000

     Avoid arithmetic overflow inside heaptrc unit on this test
    
    git-svn-id: trunk@41883 -

M	tests/webtbs/tw17430.pp

******************************************************************************
commit 7b3e027dc8fdf8f4b188c8df7af23ac9b2c1d4e4
Author: pierre <pierre@freepascal.org>
Date:   Tue Apr 16 15:05:13 2019 +0000

     Move update of fields counting allocated memory to after SysGetMem call
    
    git-svn-id: trunk@41882 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 44beea91b5b4b6a43d55a215cc7281e042f91cdf
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Mon Apr 15 21:52:55 2019 +0000

    - Fix UTX* optimizations that didn't consider the optional ROR parameter.
    
    git-svn-id: trunk@41880 -

M	compiler/arm/aoptcpu.pas

******************************************************************************
commit 924b4c6f10917bdb65e4ff14f20c17211e72cc62
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 15 15:02:24 2019 +0000

    + more structures added to the openbsd structure checker file: utimbuf, flock,
      tms, timezone, rusage, TRLimit and iovec
    
    git-svn-id: trunk@41877 -

M	rtl/openbsd/t_openbsd.h2paschk

******************************************************************************
commit f6e13c50a91459873d9da21f14ad9e1eebf9a7ca
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 15 14:33:33 2019 +0000

    + added pollfd to the openbsd structure checker file
    
    git-svn-id: trunk@41875 -

M	rtl/openbsd/t_openbsd.h2paschk

******************************************************************************
commit 9b7cbb0e0b99bb2697e93057853c1cfdd1c99599
Author: nickysn <nickysn@gmail.com>
Date:   Mon Apr 15 14:22:44 2019 +0000

    + added OpenBSD RTL structure checker description file for use with the h2paschk
      tool. Currently only checks the stat and dirent structures, but more will be
      added in the future.
    
    git-svn-id: trunk@41874 -

M	.gitattributes
A	rtl/openbsd/t_openbsd.h2paschk

******************************************************************************
commit 53542b7c5ec57aac80fa55eb4efc9c85fdf33129
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Apr 14 23:36:08 2019 +0000

    - Port RISC-V64 startup code to native inline routines.
    
    git-svn-id: trunk@41871 -

M	.gitattributes
M	compiler/systems.pas
M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
D	rtl/linux/riscv64/cprt0.as
D	rtl/linux/riscv64/dllprt0.as
D	rtl/linux/riscv64/gprt0.as
D	rtl/linux/riscv64/prt0.as
A	rtl/linux/riscv64/si_c.inc
A	rtl/linux/riscv64/si_dll.inc
A	rtl/linux/riscv64/si_prc.inc

******************************************************************************
commit 2b78a8fd3dec629d91b9fb74a01d06d904384117
Author: Jeppe Johansen <jeppe@j-software.dk>
Date:   Sun Apr 14 20:51:29 2019 +0000

    - Add support for .option directive in riscv assembler.
    - Use addiw when adjusting U32 to S32
    
    git-svn-id: trunk@41870 -

M	.gitattributes
M	compiler/aasmtai.pas
M	compiler/assemble.pas
M	compiler/fpcdefs.inc
A	compiler/riscv/rarvgas.pas
M	compiler/riscv64/cgcpu.pas
M	compiler/riscv64/rarv64gas.pas

******************************************************************************
commit 349bb2ff38a56baf6960a0196326aafbb1aff9a5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 13 15:12:09 2019 +0000

      * check CurrentPPULongVersion in ppumove
    
    git-svn-id: trunk@41866 -

M	compiler/utils/ppumove.pp

******************************************************************************
commit 927fbc4387efbde9bf4865e9e304385026e4ba39
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 13 14:58:15 2019 +0000

      * documented usage of ppuversion and ppulongversion
    
    git-svn-id: trunk@41865 -

M	compiler/ppu.pas

******************************************************************************
commit b9e3a0692cea695c2fc7a65dd5826aa36d0e0d56
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 10 17:15:40 2019 +0000

    + added h2paschk.pas to the makefiles
    
    git-svn-id: trunk@41859 -

M	utils/h2pas/fpmake.pp

******************************************************************************
commit 47b8bf5924b835920fbf3d2f27137437c3c056de
Author: nickysn <nickysn@gmail.com>
Date:   Wed Apr 10 17:06:17 2019 +0000

    + added the initial implementation of my C structure checker code generator
      tool, named h2paschk. This is currently a separate tool, that requires a
      manually crafted input file with a special syntax (example is included as a
      comment in the source code), that contains descriptions of all the records
      that need to be checked, but it is planned to add support to h2pas to generate
      these files automatically, since this would be very useful.
    
    git-svn-id: trunk@41858 -

M	.gitattributes
A	utils/h2pas/h2paschk.pas

******************************************************************************
commit 61cd2e219d7e185a293ace5a5592d7019d3f1a05
Author: michael <michael@freepascal.org>
Date:   Wed Apr 10 09:18:01 2019 +0000

    * Patch from Serge Anvarov to use local time for keyinfo (bug ID 35100)
    
    git-svn-id: trunk@41855 -

M	packages/fcl-registry/src/winreg.inc

******************************************************************************
commit 1b0b81f714555cc0726f3679ddfbcd55c7279db4
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Apr 7 17:10:49 2019 +0000

      * hopefully fix fpu emulation ppu header flag check after r41846
    
    git-svn-id: trunk@41847 -

M	compiler/fppu.pas

******************************************************************************
commit 0b61b5d4cfd624402797619075436c57e0da3be9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Apr 6 21:28:43 2019 +0000

      * added extra header to ppu inside a subsection, so we won't run into
        trouble when the ppu version hits 255
      * also moved several ppu flags to a set inside that section
    
    git-svn-id: trunk@41846 -

M	compiler/cresstr.pas
M	compiler/dbgdwarf.pas
M	compiler/dbgstabs.pas
M	compiler/entfile.pas
M	compiler/fmodule.pas
M	compiler/fpcp.pas
M	compiler/fppu.pas
M	compiler/globtype.pas
M	compiler/jvm/njvmutil.pas
M	compiler/link.pas
M	compiler/ngenutil.pas
M	compiler/pcp.pas
M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pexports.pas
M	compiler/pexpr.pas
M	compiler/pkgutil.pas
M	compiler/pmodules.pas
M	compiler/ppu.pas
M	compiler/scandir.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppuout.pp

******************************************************************************
commit 478b918386951fa9115d1b7206c83af732dff257
Author: pierre <pierre@freepascal.org>
Date:   Wed Apr 3 07:17:40 2019 +0000

      + Add variables to use gppc386 utils more easily:
        Use DEBUG_CYCLE=1 to generate cycle using gppcXX at each stage,
        i.e. running ppcXX through gdbpas, using utils/gppc386.pp source,
        compiled and copied to gppcXX.
      + Add other DEBUG_XXX varialbes, allowing to use gppcXX binary
        at a specific level in cycle.
        if DEBUG_PPXX is set, PPXXPREFIX variable will be set to 'g'
        leading to the use of g$(PPXX) compiler, which will run $(ppXX)
        compiler through gdbpas.
    
    
    git-svn-id: trunk@41822 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 6bfaec84eb4bb98b0244eef228210f5aae6eb471
Author: michael <michael@freepascal.org>
Date:   Mon Apr 1 17:15:00 2019 +0000

    * Test for deletekey
    
    git-svn-id: trunk@41817 -

M	packages/fcl-registry/tests/testbasics.pp

******************************************************************************
commit 6c7da3cca4233131377b81368f07a7c2cef85cc4
Author: michael <michael@freepascal.org>
Date:   Mon Apr 1 17:06:56 2019 +0000

    * Patch from Bart Broersma to fix deleting non-empty key (bug ID 0035132)
    
    git-svn-id: trunk@41816 -

M	packages/fcl-registry/src/xmlreg.pp

******************************************************************************
commit 1c8a1407f5388f8d18c31162e71017c873db0d89
Author: michael <michael@freepascal.org>
Date:   Mon Apr 1 16:54:53 2019 +0000

    * Added unicode sample using unicodestring
    
    git-svn-id: trunk@41814 -

M	.gitattributes
A	packages/fcl-registry/examples/testunicode.lpi
A	packages/fcl-registry/examples/testunicode2.lpi
A	packages/fcl-registry/examples/testunicode2.pas

******************************************************************************
commit cddc52a69fa7c3b75b7d3d3d94974670f69efe7d
Author: michael <michael@freepascal.org>
Date:   Mon Apr 1 16:51:39 2019 +0000

    * Remove unused variable
    
    git-svn-id: trunk@41812 -

M	packages/fcl-registry/tests/tcxmlreg.pp

******************************************************************************
commit 17aa8da99f5fe4049cb9050522830c9798630f36
Author: michael <michael@freepascal.org>
Date:   Mon Apr 1 16:46:48 2019 +0000

    * Patch from Bart Broersma to implement Int64 support in xmlreg (bug ID 35227)
    
    git-svn-id: trunk@41810 -

M	packages/fcl-registry/src/xmlreg.pp
M	packages/fcl-registry/src/xregreg.inc

******************************************************************************
commit 2c1639003c50bb82167036f7372eff8100863a42
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 18 13:21:58 2019 +0000

    * reinstate the internalerror removed in r41730 for i386, as that was a valid condition to verify
    
    git-svn-id: trunk@41731 -

M	compiler/i386/cpupara.pas

******************************************************************************
commit 5358851f84b9fb9af41df6290decea1c5ec7610e
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Mar 18 01:19:18 2019 +0000

    * clean up some things regarding explicit paraloc handling. this should fix m68k-amiga and powerpc-morphos builds after r41716
    
    git-svn-id: trunk@41730 -

M	compiler/i386/cpupara.pas
M	compiler/m68k/cpupara.pas
M	compiler/pdecsub.pas
M	compiler/powerpc/cpupara.pas
M	compiler/riscv32/cpupara.pas

******************************************************************************
commit 1bb8bd471ae32a1db840b975616fe17e9653ac2c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Mar 17 15:22:06 2019 +0000

      * fix msgtxt array size if the text size is an exact multiple of 240
    
    git-svn-id: trunk@41725 -

M	compiler/utils/msg2inc.pp

******************************************************************************
commit bde560dac290929dbdf0c8df20a9c7e1f4dec727
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Mar 17 15:20:22 2019 +0000

      * also accept {$elsif} after {$if(n)def} (mantis #34858)
    
    git-svn-id: trunk@41724 -

M	.gitattributes
M	compiler/scanner.pas
A	tests/webtbs/tw34858.pp

******************************************************************************
commit 74fed2a4cd6aca8fc399ac0c39953d07fb766ef0
Author: pierre <pierre@freepascal.org>
Date:   Sun Mar 17 14:45:03 2019 +0000

    Regenerate Makefile's after fpcmake change in commit #41721
    
    git-svn-id: trunk@41723 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/gnutls/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmagic/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit d78dbd5d5920bb7279937138fb529bfd05f44b6b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 16 20:01:57 2019 +0000

      + test from mantis #35224 (already works)
    
    git-svn-id: trunk@41718 -

M	.gitattributes
A	tests/webtbs/tw35224.pp

******************************************************************************
commit fd42c3fb01e0339a63de0f26f69fca8bf4e1b819
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 16 19:14:17 2019 +0000

      * only enable tw35187 for Windows and Linux, since it uses syscalls under unix
        (which are not supported on all unix targets; feel free to re-enable for
         specific unix targets if the test has been verified to compile there)
       o also fixed placement of dotest directives: they have to come before any
         part of the program code
    
    git-svn-id: trunk@41717 -

M	tests/webtbs/tw35187.pp

******************************************************************************
commit ed2ae508d090338a706418fdf740bc219b614776
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 16 19:14:14 2019 +0000

      * only add hidden parameters for objectdef methods after generating the vmt,
        so that they take into account inherited calling conventions (mantis #35233)
       o don't needlessly calculate the paraloc info when generating a JVM mangled
         name
    
    git-svn-id: trunk@41716 -

M	.gitattributes
M	compiler/jvm/jvmdef.pas
M	compiler/jvm/pjvm.pas
M	compiler/jvm/symcpu.pas
M	compiler/pdecl.pas
M	compiler/pdecobj.pas
M	compiler/pdecsub.pas
M	compiler/pdecvar.pas
M	compiler/pgenutil.pas
M	compiler/pparautl.pas
M	compiler/ptype.pas
M	compiler/symcreat.pas
M	compiler/symdef.pas
A	tests/webtbs/tw35233.pp

******************************************************************************
commit d65737393352eabc8aff52f9c7b6545d09c578c8
Author: florian <florian@freepascal.org>
Date:   Sun Mar 10 10:48:50 2019 +0000

    * patch by J. Gareth Moreton which avoids that the optimizer causes reads of invalid memory, resolves #35187
    
    git-svn-id: trunk@41667 -

M	.gitattributes
M	compiler/x86/aoptx86.pas
A	tests/webtbs/tw35187.pp

******************************************************************************
commit b0535d8d0fda36ec637e31343fabe552e8cce954
Author: yury <jura@cp-lab.com>
Date:   Thu Mar 7 10:36:05 2019 +0000

    * ppudump: Fixed a warning regarding text clipping.
    
    git-svn-id: trunk@41628 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 973741c9197c2b3217ba10f5058b7a2c3377d1d6
Author: pierre <pierre@freepascal.org>
Date:   Tue Mar 5 22:01:09 2019 +0000

     Fix tmoddiv4.pp test failure with -O1 option for powerpc64 as suggested by Jonas
    
    git-svn-id: trunk@41610 -

M	compiler/powerpc64/nppcmat.pas

******************************************************************************
commit a7d45c0ca012f8d0ea1632bc509f5e31112aab1e
Author: pierre <pierre@freepascal.org>
Date:   Mon Mar 4 21:53:22 2019 +0000

      Commit patch submitted by J. Gareth Moreton in bug report 35180
    
    git-svn-id: trunk@41589 -

M	tests/test/cg/tmoddiv4.pp

******************************************************************************
commit 62cef8eb2b66c464df6ae66827e090476bffb657
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Mar 2 09:37:49 2019 +0000

      * initialize function result for variadic functions (fixup for r41420)
    
    git-svn-id: trunk@41544 -

M	compiler/sparcgen/sppara.pas

******************************************************************************
commit f78e2072a193a49660ff8cd07273cb6c45b03779
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Feb 28 20:45:34 2019 +0000

      * fix for r41416: 64 bit values on 32 bit platforms can of course also be
        passed in memory
    
    git-svn-id: trunk@41526 -

M	compiler/hlcg2ll.pas

******************************************************************************
commit 075e3da334bfc9788c2de0fde5eea479afe9616f
Author: florian <florian@freepascal.org>
Date:   Wed Feb 27 22:13:54 2019 +0000

    * better alignment values
    
    git-svn-id: trunk@41521 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit c7834af3545959d7c104078eefb568243cc71876
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Feb 25 21:02:14 2019 +0000

      * track va_uses_float_reg also for varargs functions without varargs
        parameters (see e.g. https://gcc.gnu.org/bugzilla/show_bug.cgi?id=23070 )
    
    git-svn-id: trunk@41472 -

M	compiler/powerpc/cpupara.pas
M	compiler/powerpc64/cpupara.pas

******************************************************************************
commit a04e4971fc3ef9b3bf5adf3dbc2a3b97de28b287
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 15:48:41 2019 +0000

    * i386: Do not request GOT for every function call. GOT is requested only for external calls in thlcgcpu.a_call_name(). Local calls are always PC relative.
    
    git-svn-id: trunk@41464 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 039aee956804015b1a6c3b07c203a4bf3bbcc49e
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 15:05:26 2019 +0000

    * i386 PIC: Do not force EBX as a GOT register if tf_section_threadvars is not set. Actually forcing EBX here is a bad idea anyway.
    
    git-svn-id: trunk@41463 -

M	compiler/i386/cpupi.pas

******************************************************************************
commit 4da16992df594235915d715c8bc83f53e87a1f56
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 14:43:46 2019 +0000

    * i386: Minor PIC initialization improvement if the GOT register is forced to EBX.
    
    git-svn-id: trunk@41462 -

M	compiler/i386/cgcpu.pas

******************************************************************************
commit e5c2d13671435042f61ac84d9634dea94f00af57
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 13:35:40 2019 +0000

    * Do not set pi_needs_got in current_procinfo.flags at the node level, since the GOT usage can only be estimated there. Instead set the pi_needs_got flag at places where the GOT register is accessed during the code generation. This eliminates generation of the unneeded initialization of the GOT register and fixes linker errors when the _GLOBAL_OFFSET_TABLE_ symbol is referenced but no actual GOT references are present.
    
    git-svn-id: trunk@41460 -

M	compiler/i386/cgcpu.pas
M	compiler/i386/hlcgcpu.pas
M	compiler/nbas.pas
M	compiler/ncal.pas
M	compiler/ncgrtti.pas
M	compiler/ncnv.pas
M	compiler/ncon.pas
M	compiler/nflw.pas
M	compiler/nld.pas
M	compiler/nmem.pas
M	compiler/psub.pas
M	compiler/x86/nx86ld.pas
M	compiler/x86/nx86set.pas

******************************************************************************
commit 9f88cae771bc3bc99e02047cb1719aefc64480d2
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 11:27:54 2019 +0000

    * Removed inline, since inherited is not supported.
    
    git-svn-id: trunk@41458 -

M	compiler/cclasses.pas

******************************************************************************
commit a277a5f8db6a078f981748c1f73b8cb43ff36f83
Author: yury <jura@cp-lab.com>
Date:   Mon Feb 25 11:22:49 2019 +0000

    * Removed unused local vars.
    
    git-svn-id: trunk@41457 -

M	compiler/arm/narmld.pas
M	compiler/i386/aoptcpu.pas
M	compiler/pdecvar.pas
M	compiler/rgobj.pas

******************************************************************************
commit 57ee0dd00afa7c2fc0eda107222e45ef257b1f0a
Author: pierre <pierre@freepascal.org>
Date:   Sun Feb 24 22:20:35 2019 +0000

     Fix fullcycle/fullinstall by adding missing armgen directory -Fu option if PPC_TARGET is armeb
    
    git-svn-id: trunk@41455 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 7c4e7d6bd3d7df2117ee4a76929746ab68079fc9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:59:03 2019 +0000

      * support OS_32/OS_64 in cgsize2subreg for ARM MM registers to handle
        records passed in MM registers
    
    git-svn-id: trunk@41449 -

M	compiler/arm/cpubase.pas

******************************************************************************
commit 08791712d710acf57282b09f0846b1c8d27b9c5b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:59:00 2019 +0000

      * also specify the byval alignment at the callee side
    
    git-svn-id: trunk@41448 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit bead1f81802eaf2f58a58bc4181e29575080d492
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:57 2019 +0000

      * properly set 8 byte parameter alignment for first parameter on ARM if
        applicable
    
    git-svn-id: trunk@41447 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 607126346997c1c34a825017a7c00d68c4cf72ed
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:54 2019 +0000

      * use ` instead of ^ as replacement character in LLVM asmnodes, as ^ can
        appear in ARM inline assembly
    
    git-svn-id: trunk@41446 -

M	compiler/llvm/agllvm.pas
M	compiler/llvm/nllvmbas.pas

******************************************************************************
commit a87a7270d5fa1ea935e2a5e0fd411061e3215263
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:51 2019 +0000

      * remove double "nocapture" attributes
      * also add "noalias nocapture" to sret parameters
    
    git-svn-id: trunk@41445 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit e829596750b6e556b5104bf2308be97cb4b1db98
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:47 2019 +0000

      * type left-over parts of parameters as arrays of "stack slot alignment" if
        they're an exact multiple of the ialignment size on LLVM. This prevents
        both overalignment (e.g. remainder of 8 individual bytes on ARM
        would be aligned to 8 bytes instead of 4 if typed as int64) and
        underalignment (e.g. 32 bytes remainder of a record that needs to be
        aligned to 8 bytes would be aligned to 1 or 4 bytes if types as
        array of resp. bytes or longints)
    
    git-svn-id: trunk@41444 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit bc77aad3d935e43807cbf349ad3b355508a961ee
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:44 2019 +0000

      * give an error when trying to call through to a C varargs routine with a
        high level code generator
       o we cannot create a high-level stub in that case
    
    git-svn-id: trunk@41443 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/psub.pas

******************************************************************************
commit a51c06f90760b864d865b1956eb754062cf77857
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 24 19:58:40 2019 +0000

      * place the "external" directives in the interface instead of in the
        implementation, because we don't support "external" in the implementation
        for C varargs functions for LLVM (can't generate a stub for them)
       o having "external" in the implementation also causes useless overhead
         with code generators that do support this
    
    git-svn-id: trunk@41442 -

M	packages/lua/src/lua.pas
M	packages/lua/src/lualib.pas

******************************************************************************
commit 38a7f7c9756100e5777b9337aa0823709a46ed96
Author: florian <florian@freepascal.org>
Date:   Sun Feb 24 09:54:05 2019 +0000

    * casing fixed
    
    git-svn-id: trunk@41428 -

M	tests/bench/bansi1.inc

******************************************************************************
commit 4e5f48a25ed461106a250314f5210f160aee1199
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 23 15:42:48 2019 +0000

      * add support for HFA parameter passing for ARM hardfloat
        (fixes test/cg/tcalext6)
    
    git-svn-id: trunk@41421 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 8b9e90dc7a9c45eb6d0458daec566d8064e1ef52
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 23 15:42:45 2019 +0000

      * keep track of whether a routine has a C-style variadic parameter in the
        procoptions even when it's through an array-of-const parameter
      * always call create_varargs_paraloc_info() instead of create_paraloc_info()
        in the former case, even when no varargs parameters are specified (because
        on some platforms even some non-variadic parameters need to be passed
        differently, such as on ARM with gnueabihf)
    
    git-svn-id: trunk@41420 -

M	compiler/aarch64/cpupara.pas
M	compiler/arm/cpupara.pas
M	compiler/avr/cpupara.pas
M	compiler/defutil.pas
M	compiler/i386/cpupara.pas
M	compiler/i8086/cpupara.pas
M	compiler/jvm/cpupara.pas
M	compiler/m68k/cpupara.pas
M	compiler/mips/cpupara.pas
M	compiler/ncal.pas
M	compiler/paramgr.pas
M	compiler/pdecsub.pas
M	compiler/powerpc/cpupara.pas
M	compiler/powerpc64/cpupara.pas
M	compiler/riscv32/cpupara.pas
M	compiler/riscv64/cpupara.pas
M	compiler/sparcgen/sppara.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/utils/ppuutils/ppudump.pp
M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 1a559f5c608c31d1b5e11e99076f5b8b9da19dc2
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 23 15:42:39 2019 +0000

      * move the homogenous float aggregate determination function to a common
        unit for ARM and AArch64
    
    git-svn-id: trunk@41419 -

M	.gitattributes
M	compiler/Makefile
M	compiler/Makefile.fpc
M	compiler/aarch64/cpupara.pas
M	compiler/arm/cpupara.pas
A	compiler/armgen/armpara.pas
M	compiler/ppcaarch64.lpi
M	compiler/ppcarm.lpi
M	packages/ide/fpmake.pp

******************************************************************************
commit 1a564de6e6b90d9d8acc1cafa7ce6fbd1a873abc
Author: pierre <pierre@freepascal.org>
Date:   Sat Feb 23 15:37:39 2019 +0000

     Add testing of use of variable of class
    
    git-svn-id: trunk@41417 -

M	tests/test/units/classes/tmakeobjinst.pp

******************************************************************************
commit af36913469cc49f412cb38dabfe52400bce229f9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Feb 23 15:08:29 2019 +0000

      * don't use cg64.a_load64_loc_cgpara() for 64 bit records passed in
        non-integer registers
    
    git-svn-id: trunk@41416 -

M	compiler/hlcg2ll.pas

******************************************************************************
commit 382d5060a04504cacc56a365f02100a65108ad19
Author: yury <jura@cp-lab.com>
Date:   Fri Feb 22 17:59:54 2019 +0000

    * aarch64: According to ARM64 ABI, function's arguments and the result are not required to be sign/zero extended to a full register size. Obey this rule for all targets except iOS where sign/zero extension is required.
    
    git-svn-id: trunk@41412 -

M	.gitattributes
M	compiler/aarch64/cpupara.pas
A	tests/test/taarch64abi.pp

******************************************************************************
commit 3a43ffd57bc989d3e5facb1edfefc49cbc0f18d8
Author: yury <jura@cp-lab.com>
Date:   Wed Feb 20 20:06:32 2019 +0000

    * arm: Include pi_needs_got to current_procinfo.flags when the GOT register is accessed. It forces proper initialization of the GOT register at the beginning of a procedure. This fixes storing of a double constant to a field in a packed record and other rare copy operations when PIC is enabled.
    
    git-svn-id: trunk@41405 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 3e8c7f66b71cf633a74971b60150d67690b43959
Author: yury <jura@cp-lab.com>
Date:   Wed Feb 20 20:00:06 2019 +0000

    * arm: Fixed crash while loading double constants with PIC enabled. This is the regression after r41129. The crash has occurred due to usage of a rare code path. It will be fixed in the next commit.
    
    git-svn-id: trunk@41404 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit fa4596a08f2027787c19db2978208781828760de
Author: yury <jura@cp-lab.com>
Date:   Wed Feb 20 10:24:48 2019 +0000

    * ppudump: Fixed warnings with -O3.
    
    git-svn-id: trunk@41394 -

M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 9a3ddf650c1c150039b2f63fd84300eaa4f1ac81
Author: yury <jura@cp-lab.com>
Date:   Wed Feb 20 10:13:18 2019 +0000

    * ppudump: Use buffered write when outputting to json or xml. It improves the output speed a lot.
    
    git-svn-id: trunk@41393 -

M	compiler/utils/ppuutils/ppudump.pp
M	compiler/utils/ppuutils/ppujson.pp
M	compiler/utils/ppuutils/ppuout.pp
M	compiler/utils/ppuutils/ppuxml.pp

******************************************************************************
commit e3546cf5af9cb17fd98cba5fa50f54ad16e14c9e
Author: florian <florian@freepascal.org>
Date:   Fri Feb 15 18:57:20 2019 +0000

    * properly quote pathes for objcopy calls, resolves #35072
    
    git-svn-id: trunk@41324 -

M	compiler/systems/t_embed.pas

******************************************************************************
commit fe47db32be35d0de7ee99d09e0fc6f51c0bac52e
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 14 16:14:02 2019 +0000

    + added asm optimized version of fpc_pwidechar_length for i8086
    
    git-svn-id: trunk@41317 -

M	rtl/i8086/i8086.inc

******************************************************************************
commit 5db8d6bd5eca39bd1205cf3b355a953d219fb9bc
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 14 12:18:51 2019 +0000

    * optimize the i8086 backwards move by using movsw instead of movsb in the Move
      and MoveData procedures
    
    git-svn-id: trunk@41316 -

M	rtl/i8086/i8086.inc

******************************************************************************
commit 4f573b50adbd33a2b3d9daacc86cefe5edb68b48
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 12 16:31:16 2019 +0000

    * access the Default8087CW global variable directly from within inline asm,
      instead of copying it to a local var first, since the concern about PIC code
      (this asm code started out as a copy of the i386 rtl code) doesn't exist on
      the i8086, since there's no such thing as PIC code on the i8086
    
    git-svn-id: trunk@41311 -

M	rtl/i8086/i8086.inc
M	rtl/msdos/system.pp

******************************************************************************
commit d4e059bd41b62841560790c0051c9c437243cad5
Author: pierre <pierre@freepascal.org>
Date:   Tue Feb 12 07:19:04 2019 +0000

     Fix bug report #35065 using provided patch by J. Gareth Moreton
    
    git-svn-id: trunk@41310 -

M	compiler/aasmtai.pas

******************************************************************************
commit b0ca862f32e037665167254d944838daf518ffdb
Author: nickysn <nickysn@gmail.com>
Date:   Fri Feb 8 15:34:29 2019 +0000

    + implemented IntroSort (hybrid between QuickSort and HeapSort) in unit SortAlgs
    
    git-svn-id: trunk@41258 -

M	packages/rtl-extra/src/inc/sortalgs.pp
M	tests/test/units/sortalgs/tsortalgs1.pp

******************************************************************************
commit ff90e7622aaf4ac14695f30fa799b1faafeab558
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 7 15:45:13 2019 +0000

    + added .Sort overloads, that specify an algorithm and use the sortbase defined
      algorithms for sorting TList, TFPList and TStringList when FPC_TESTGENERICS is
      defined as well. Unfortunately, I couldn't test it, because the RTL doesn't
      compile with FPC_TESTGENERICS, due to errors, completely unrelated to the
      sortbase changes.
    
    git-svn-id: trunk@41248 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/lists.inc
M	rtl/objpas/classes/stringl.inc

******************************************************************************
commit 8b17af1f8995e8bd2c8ec3c522fca851e8622d1e
Author: nickysn <nickysn@gmail.com>
Date:   Thu Feb 7 14:41:33 2019 +0000

    + added test for unit sortalgs, that tests the heapsort and randomized quicksort algorithms
    
    git-svn-id: trunk@41247 -

M	.gitattributes
M	tests/Makefile
M	tests/Makefile.fpc
A	tests/test/units/sortalgs/tsortalgs1.pp

******************************************************************************
commit 4d8dcfc42e965e3f5688b26f066c80512dfd7ee2
Author: pierre <pierre@freepascal.org>
Date:   Thu Feb 7 10:46:41 2019 +0000

     Fix compilation on targets without Random: add $ifdef FPC_HAS_FEATURE_RANDOM
    
    git-svn-id: trunk@41245 -

M	packages/rtl-extra/src/inc/sortalgs.pp

******************************************************************************
commit 1c64f4c7512b4d84f1f628472e837f4fb935ce90
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 6 18:26:05 2019 +0000

    * some formatting changes to avoid very large lines in the source code
    
    git-svn-id: trunk@41242 -

M	packages/rtl-extra/src/inc/sortalgs.pp
M	rtl/inc/sortbase.pp

******************************************************************************
commit 00a67caa40dd518bf5476e6847257be9cc36a400
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 6 18:05:48 2019 +0000

    * select the middle element in the default quicksort implementation in a way
      that doesn't generate arithmetic overflow for very large arrays
    
    git-svn-id: trunk@41241 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit e467d2387d64c175b6e09d38f15812ff41255673
Author: pierre <pierre@freepascal.org>
Date:   Wed Feb 6 15:51:54 2019 +0000

     Add sortbase unit to global units list, as it can be compiled for all CPUs
    
    git-svn-id: trunk@41240 -

M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc

******************************************************************************
commit 52b4fc039c6e064b9720e16b34546bc7e18f4d71
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 6 14:20:40 2019 +0000

    + added randomized quicksort to unit sortalgs
    
    git-svn-id: trunk@41237 -

M	packages/rtl-extra/src/inc/sortalgs.pp

******************************************************************************
commit f4718831ca31f2c332ba0d22301220f417b08114
Author: nickysn <nickysn@gmail.com>
Date:   Wed Feb 6 12:22:08 2019 +0000

    * fixed quicksort comment about memory use - our implementation uses O(log n) stack, not O(n log n)
    
    git-svn-id: trunk@41236 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit c728a1204a62846be24a5cfda23c61ce3eecb91a
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 18:25:27 2019 +0000

    + added additional notes in the comments for HeapSort
    
    git-svn-id: trunk@41233 -

M	packages/rtl-extra/src/inc/sortalgs.pp

******************************************************************************
commit f32748a8e7ae82084a5c0837a97f7da67af078b2
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 18:02:48 2019 +0000

    + added comment with information about QuickSort and its specific implementation in unit SortBase
    
    git-svn-id: trunk@41232 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit eca60a0a89cb5b5afb264471aa561ab0afef57ff
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 17:32:28 2019 +0000

    * partition elements equal to the pivot on both sides of the pivot, since that
      leads to much better performance when sorting lots of repeating elements
    
    git-svn-id: trunk@41231 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit bea9961d2d1a3962d5d3553422fb2eed94289234
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 16:20:56 2019 +0000

    * use SizeUInt instead of longint for the array indices in the quicksort
      implementations. This:
      1) allows sorting arrays with >4G elements on 64-bit systems
      2) allows sorting arrays with up to 4G (>2G) elements on 32-bit systems
      3) uses 16-bit instead of the less efficient 32-bit indices on 16-bit and
         8-bit platforms
    
    git-svn-id: trunk@41230 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit f5f25f7ae6312448bf71a500685761d660efbcad
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 16:00:42 2019 +0000

    * use a more robust QuickSort implementation, that is guaranteed to never loop
      forever and never access index out of bounds elements from the array when
      being passed an incorrect comparison function. The resulting sort order is
      still undefined in this case, though.
    
    git-svn-id: trunk@41229 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit de80621e1e97e67b79a3cd3e58ff24a3eec93ed4
Author: nickysn <nickysn@gmail.com>
Date:   Tue Feb 5 12:14:09 2019 +0000

    * use a try..finally block to protect against memory leaks if the comparison
    callback function raises an exception in QuickSort_ItemList_Context
    
    git-svn-id: trunk@41228 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 26486bbaeac7aae4316d7b5f11c6a9bbeb424933
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 4 15:32:41 2019 +0000

    + keep track of the pivot index in all quicksort implementations. No functional changes,
      but will be used to prevent overlap in the divided subregions and also infinite loops
      in case of an incorrect compare function.
    
    git-svn-id: trunk@41222 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit ec45f0069a9f29c767cc632291c89b1a5a2aa774
Author: nickysn <nickysn@gmail.com>
Date:   Mon Feb 4 14:34:13 2019 +0000

    + added unit SortAlgs to rtl-extra. It implements extra sorting algorithms
      that can be used in place of the default QuickSort implementation from unit
      SortBase. Currently, only HeapSort is implemented, but others will be added
      in the future.
    
    git-svn-id: trunk@41219 -

M	.gitattributes
M	packages/rtl-extra/fpmake.pp
A	packages/rtl-extra/src/inc/sortalgs.pp

******************************************************************************
commit 13ce27cc1d4a7b148e4236d1a9c2d7d0d2f04071
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:01:13 2019 +0000

      * fixed the default external assembler for llvm when using -s
    
    git-svn-id: trunk@41207 -

M	compiler/options.pas

******************************************************************************
commit 1abea6451c7faeb0754df984102edb34066df709
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:01:08 2019 +0000

      * fixed thlcgobj.g_rangecheck() for cpuhighleveltarget when targetting a
        cpu32bitalu
    
    git-svn-id: trunk@41206 -

M	compiler/hlcgobj.pas

******************************************************************************
commit 7af95cbf063d4634f3e566419cca85ae6823b16c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:01:02 2019 +0000

      * LLVM does not support 128 bits arithmetic on 32 bit platforms, which we
        need for overflow checking -> use RTL built-ins
    
    git-svn-id: trunk@41205 -

M	compiler/nadd.pas

******************************************************************************
commit 353be907c76801e05832396087c5b653b301d7d7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:57 2019 +0000

      * update the stack alignment field of parameters when doing so for paralocs
    
    git-svn-id: trunk@41204 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 7a65e1f393fb3ef10fb4ac15865703a39123a8a7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:51 2019 +0000

      * fixed ARM paraloc defs (for LLVM)
    
    git-svn-id: trunk@41203 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit da0deae9aee929f3ccda08afdff56bc931a19e52
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:46 2019 +0000

      * removed unnecessary replacements of the paraloc def with arraydefs on ARM
    
    git-svn-id: trunk@41202 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 8c362eac67df688f6c1fc7361f0d5c06a78c02ab
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:41 2019 +0000

      * always emit UAL when using LLVM (clang does not and will not support
        pre-UAL)
    
    git-svn-id: trunk@41201 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit ab51e8637c2a8879c3745dba029b57590c279630
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:36 2019 +0000

      * set default Mac OS X target version to 10.6 for LLVM (earlier versions did
        not include libunwind in libSystem, causing linking errors when compiling
        on later versions)
    
    git-svn-id: trunk@41200 -

M	compiler/options.pas

******************************************************************************
commit f9668f8c037b6202cd558fc173ca1c4256a1c6e0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:28 2019 +0000

      * let de LLVM parameter manager merge multiple paralocs used to represent a
        single ordinal, as such splitting is handled by LLVM itself (and handling
        such split locations is currently not supported by our LLVM code generator)
    
    git-svn-id: trunk@41199 -

M	compiler/llvm/llvmpara.pas

******************************************************************************
commit 503ea604f33b5a7dd72d7a6417f9a38774f19263
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Feb 3 21:00:17 2019 +0000

      + nolinline modifier to specify that a routine must never be inlined
    
    git-svn-id: trunk@41198 -

M	compiler/llvm/agllvm.pas
M	compiler/pdecsub.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/symsym.pas
M	compiler/tokens.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 1d7ff66602c6ae042c39b6ac4ec5864056ba1386
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 3 19:49:35 2019 +0000

    + added .Sort() overloads with a SortingAlgorithm parameter to TFPGList,
      TFPGObjectList, TFPGInterfacedObjectList and TFPSMap
    
    git-svn-id: trunk@41196 -

M	rtl/objpas/fgl.pp

******************************************************************************
commit 5c4af27a7ae30d89923b197105b9268913252951
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 3 19:16:48 2019 +0000

    + added test for the sortbase unit
    
    git-svn-id: trunk@41195 -

M	.gitattributes
M	tests/Makefile
M	tests/Makefile.fpc
A	tests/test/units/sortbase/tsortbase.pp

******************************************************************************
commit d86da195707736005cbd7815d803bdf3440f8aee
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 3 17:00:21 2019 +0000

    * use the sort algorithm from sortbase for TStringList
    
    git-svn-id: trunk@41194 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/stringl.inc

******************************************************************************
commit ea340b94816f65b6a170293073b31de9b566a6ea
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 3 16:34:05 2019 +0000

    * fixed bug in QuickSort_ItemList_CustomItemExchanger_Context and
      QuickSort_ItemList_Context and which can cause wrong sort results, due to not
      taking into account that the pivot can be moved by the swap operation
    
    git-svn-id: trunk@41191 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit cb5a1ed72784f8ded30149be51920d312f8ff80b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Feb 3 02:06:32 2019 +0000

    build/install fixes for the new sortbase unit for amiga, atari, aros and morphos
    
    git-svn-id: trunk@41183 -

M	rtl/amiga/Makefile
M	rtl/amiga/Makefile.fpc
M	rtl/amiga/buildrtl.pp
M	rtl/aros/buildrtl.pp
M	rtl/atari/buildrtl.pp
M	rtl/morphos/buildrtl.pp

******************************************************************************
commit c7d8bd966646f98d9a5dca9a6a6e3583aed13cc8
Author: nickysn <nickysn@gmail.com>
Date:   Sun Feb 3 00:33:43 2019 +0000

    + added a sort algorithm interface that accepts a custom callback function for
      exchanging two elements. This is required for TStringList.Sort (and is the
      most generic form for a sort algorithm interface that I can think of).
    
    git-svn-id: trunk@41182 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 2a0eb54fd5579a1cdc721ae604ba8d1b16b392f2
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 23:56:24 2019 +0000

    + added a simple test that tests TList.Sort
    
    git-svn-id: trunk@41181 -

M	.gitattributes
A	tests/test/units/classes/ttlist.pp

******************************************************************************
commit 178217821c41221aefafb166224859f8f789c08f
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 23:22:09 2019 +0000

    + added sortbase as a dependency to unit fgl in the makefiles
    
    git-svn-id: trunk@41180 -

M	rtl/aix/Makefile
M	rtl/aix/Makefile.fpc
M	rtl/android/Makefile
M	rtl/android/Makefile.fpc
M	rtl/beos/Makefile
M	rtl/beos/Makefile.fpc
M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc
M	rtl/dragonfly/Makefile
M	rtl/dragonfly/Makefile.fpc
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
M	rtl/emx/Makefile
M	rtl/emx/Makefile.fpc
M	rtl/freebsd/Makefile
M	rtl/freebsd/Makefile.fpc
M	rtl/gba/Makefile
M	rtl/gba/Makefile.fpc
M	rtl/go32v2/Makefile
M	rtl/go32v2/Makefile.fpc
M	rtl/haiku/Makefile
M	rtl/haiku/Makefile.fpc
M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
M	rtl/msdos/Makefile
M	rtl/msdos/Makefile.fpc
M	rtl/nds/Makefile
M	rtl/nds/Makefile.fpc
M	rtl/netbsd/Makefile
M	rtl/netbsd/Makefile.fpc
M	rtl/netware/Makefile
M	rtl/netware/Makefile.fpc
M	rtl/netwlibc/Makefile
M	rtl/netwlibc/Makefile.fpc
M	rtl/openbsd/Makefile
M	rtl/openbsd/Makefile.fpc
M	rtl/os2/Makefile
M	rtl/os2/Makefile.fpc
M	rtl/solaris/Makefile
M	rtl/solaris/Makefile.fpc
M	rtl/symbian/Makefile
M	rtl/symbian/Makefile.fpc
M	rtl/watcom/Makefile
M	rtl/watcom/Makefile.fpc
M	rtl/wii/Makefile
M	rtl/wii/Makefile.fpc
M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc
M	rtl/wince/Makefile
M	rtl/wince/Makefile.fpc

******************************************************************************
commit ad677070f41593a6f8bda86e5840c2006cc17c5e
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 23:08:25 2019 +0000

    * hook TFPSList.QuickSort to also call the default sorting algorithm from sortbase
    
    git-svn-id: trunk@41179 -

M	rtl/objpas/fgl.pp

******************************************************************************
commit 59a75ea42955ea59c6765c4d856062df8dbc83c1
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 22:58:52 2019 +0000

    * use Inc() and Dec() instead of v:=v+1
    
    git-svn-id: trunk@41178 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 63f9afa6bd0fb9741e951166239717f2727a2875
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 22:52:08 2019 +0000

    * fixed TFPList.Sort. Scary news: turns out we don't have any tests for
      TFPList.Sort or TList.Sort... :(
    
    git-svn-id: trunk@41177 -

M	rtl/objpas/classes/lists.inc

******************************************************************************
commit 4ea42ab6d23c4e56f47f91cd0a0caac0891dc842
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 22:49:39 2019 +0000

    * use the sortbase sorting algorithm in fgl as well
    
    git-svn-id: trunk@41176 -

M	rtl/objpas/fgl.pp

******************************************************************************
commit 4082b8c7fcd6705ad1ba4ee02f4dad2c179fb8cb
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 21:21:07 2019 +0000

    + added and implemented QuickSort_ItemList_Context
    
    git-svn-id: trunk@41175 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 7f44f2535ec808acb333415e9c395eee742f52b8
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 21:08:30 2019 +0000

    * the Compare parameter renamed Comparer for consistency
    
    git-svn-id: trunk@41174 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 8cf5779297f990693e1511eda3280655501d634b
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 21:07:27 2019 +0000

    * the first parameter of QuickSort_PtrList_NoContext renamed ItemPtrs for
      consistency with the other similar procedures
    
    git-svn-id: trunk@41173 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit a2a0ed53b235492d0141759705b6043ed9077774
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 21:05:02 2019 +0000

    * the type of the ItemCount parameter changed from PtrUInt to SizeUInt
    
    git-svn-id: trunk@41172 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 848890e54be05d7f5ae18b98757ea21d656f4366
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 21:03:10 2019 +0000

    + added the TItemListSorter_NoContext and TItemListSorter_Context procedure
      types to sortbase. No implementation for them yet. They will allow sorting
      an array with elements of arbitrary size (e.g. array of records).
    
    git-svn-id: trunk@41171 -

M	rtl/inc/sortbase.pp

******************************************************************************
commit 25f6da706626b6c6a09a8c9286f1e949e44ca501
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 20:56:59 2019 +0000

    * added PtrList to the names of the current sort algorithm callback functions and
      types, to indicate they sort a list of pointers
    
    git-svn-id: trunk@41170 -

M	rtl/inc/sortbase.pp
M	rtl/objpas/classes/lists.inc

******************************************************************************
commit e8dc54c768639c9c99b599850e8b2eee67a4ad37
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 20:31:16 2019 +0000

    + added TList.Sort overload with a sorting algorithm parameter
    
    git-svn-id: trunk@41169 -

M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/lists.inc

******************************************************************************
commit c24d525b9f1f1cd221c2f5e73b5fb6f147b2224c
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 20:22:07 2019 +0000

    * compilation fixes for many platforms after r41167
    
    git-svn-id: trunk@41168 -

M	rtl/amicommon/classes.pp
M	rtl/atari/classes.pp
M	rtl/beos/classes.pp
M	rtl/embedded/classes.pp
M	rtl/gba/classes.pp
M	rtl/go32v2/classes.pp
M	rtl/haiku/classes.pp
M	rtl/msdos/classes.pp
M	rtl/nativent/classes.pp
M	rtl/nds/classes.pp
M	rtl/netware/classes.pp
M	rtl/netwlibc/classes.pp
M	rtl/os2/classes.pp
M	rtl/symbian/classes.pp
M	rtl/watcom/classes.pp
M	rtl/wii/classes.pp
M	rtl/win16/classes.pp
M	rtl/win32/classes.pp
M	rtl/win64/classes.pp
M	rtl/wince/classes.pp

******************************************************************************
commit 248fd313f8b5e37a8bb8a38bf92d8d1ec2fa1a5e
Author: nickysn <nickysn@gmail.com>
Date:   Sat Feb 2 20:06:50 2019 +0000

    + introduced unit SortBase, which implements the foundation for pluggable
      sorting algorithms. A default QuickSort implementation is provided by the
      unit. Other units can be added, to provide other sorting algorithms (e.g.
      HeapSort, MergeSort, IntroSort, etc.)
    * TList and TFPList updated to use the current default sorting algorithm defined
      in SortBase for their .Sort method.
    
    git-svn-id: trunk@41167 -

M	.gitattributes
M	rtl/aix/Makefile
M	rtl/aix/Makefile.fpc
M	rtl/android/Makefile
M	rtl/android/Makefile.fpc
M	rtl/aros/Makefile
M	rtl/aros/Makefile.fpc
M	rtl/atari/Makefile
M	rtl/atari/Makefile.fpc
M	rtl/beos/Makefile
M	rtl/beos/Makefile.fpc
M	rtl/darwin/Makefile
M	rtl/darwin/Makefile.fpc
M	rtl/dragonfly/Makefile
M	rtl/dragonfly/Makefile.fpc
M	rtl/embedded/Makefile
M	rtl/embedded/Makefile.fpc
M	rtl/emx/Makefile
M	rtl/emx/Makefile.fpc
M	rtl/freebsd/Makefile
M	rtl/freebsd/Makefile.fpc
M	rtl/gba/Makefile
M	rtl/gba/Makefile.fpc
M	rtl/go32v2/Makefile
M	rtl/go32v2/Makefile.fpc
M	rtl/haiku/Makefile
M	rtl/haiku/Makefile.fpc
A	rtl/inc/sortbase.pp
M	rtl/linux/Makefile
M	rtl/linux/Makefile.fpc
M	rtl/morphos/Makefile
M	rtl/morphos/Makefile.fpc
M	rtl/msdos/Makefile
M	rtl/msdos/Makefile.fpc
M	rtl/nds/Makefile
M	rtl/nds/Makefile.fpc
M	rtl/netbsd/Makefile
M	rtl/netbsd/Makefile.fpc
M	rtl/netware/Makefile
M	rtl/netware/Makefile.fpc
M	rtl/netwlibc/Makefile
M	rtl/netwlibc/Makefile.fpc
M	rtl/objpas/classes/classesh.inc
M	rtl/objpas/classes/lists.inc
M	rtl/openbsd/Makefile
M	rtl/openbsd/Makefile.fpc
M	rtl/os2/Makefile
M	rtl/os2/Makefile.fpc
M	rtl/solaris/Makefile
M	rtl/solaris/Makefile.fpc
M	rtl/symbian/Makefile
M	rtl/symbian/Makefile.fpc
M	rtl/unix/classes.pp
M	rtl/watcom/Makefile
M	rtl/watcom/Makefile.fpc
M	rtl/wii/Makefile
M	rtl/wii/Makefile.fpc
M	rtl/win16/Makefile
M	rtl/win16/Makefile.fpc
M	rtl/win32/Makefile
M	rtl/win32/Makefile.fpc
M	rtl/win64/Makefile
M	rtl/win64/Makefile.fpc
M	rtl/wince/Makefile
M	rtl/wince/Makefile.fpc

******************************************************************************
commit 6c87b89e45184fc5deda0c5af0e4ad9bd476776b
Author: Károly Balogh <karoly@freepascal.org>
Date:   Wed Jan 30 10:48:27 2019 +0000

    atari: fpc now searches for the compiler with .ttp extension, as that's the default on Atari
    
    git-svn-id: trunk@41141 -

M	compiler/utils/fpc.pp

******************************************************************************
commit 2b6076a719f4671b7bb838bb3ba8bba19f1018d2
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 22:06:32 2019 +0000

    * compilation fixed
    
    git-svn-id: trunk@41139 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit e52cf555ab862662622817397df755cce1466621
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 29 21:39:26 2019 +0000

      * fix loading of constants in registers in the LLVM CG if the constant
        does not fit in ptrsinttype
    
    git-svn-id: trunk@41138 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 2d01fe76f6debe1369ae3a345fed259282e0cc10
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 29 21:39:23 2019 +0000

      * initialse the cgpara for the C-style varargs on ARM (needed for LLVM)
    
    git-svn-id: trunk@41137 -

M	compiler/arm/cpupara.pas

******************************************************************************
commit 9c3e9e80a3e9aea5136c0adfc5bc8b41b3fa689e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 29 21:39:16 2019 +0000

      * fixed type correctness of and simplified the threadvar loading size
        optimisation
    
    git-svn-id: trunk@41135 -

M	compiler/ncgld.pas

******************************************************************************
commit 4869d0ace9883ec2e0a4aa9bcf0cb63070df81e9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 29 21:39:12 2019 +0000

      * perform extension of parameters to 32 bit for Darwin in the paraloc instead
        of in the cgpara (cgpara should always correspond to the real parameter)
    
    git-svn-id: trunk@41134 -

M	compiler/i386/cpupara.pas

******************************************************************************
commit 04d295f1865d6c011d131ea4ccfb7dd1928ca758
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 29 21:39:09 2019 +0000

      * first step towards supporting 32 bit targets with the LLVM code generator:
        use the generic code in more cases when cpuhighleveltarget is defined
    
    git-svn-id: trunk@41133 -

M	compiler/cgutils.pas
M	compiler/fpcdefs.inc
M	compiler/hlcg2ll.pas
M	compiler/hlcgobj.pas
M	compiler/nadd.pas
M	compiler/ncgadd.pas
M	compiler/ncgbas.pas
M	compiler/ncgcal.pas
M	compiler/ncgcnv.pas
M	compiler/ncgcon.pas
M	compiler/ncginl.pas
M	compiler/ncgld.pas
M	compiler/ncgmat.pas
M	compiler/ncgset.pas
M	compiler/ncgutil.pas
M	compiler/ninl.pas
M	compiler/nmat.pas
M	compiler/parabase.pas

******************************************************************************
commit 2f40f818907756d1dc844bf3a5c9899986a3aeaf
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:40:41 2019 +0000

    + sanity check
    
    git-svn-id: trunk@41131 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit afd4599d26c0462c59d0e9ce9fae76a47c6d333f
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:40:40 2019 +0000

    * correctly handle LDRD in TAoptBaseCpu.RegModifiedByInstruction
    
    git-svn-id: trunk@41130 -

M	compiler/arm/aoptcpub.pas

******************************************************************************
commit acbf7d15c494c68b0f8209ccb0d041c8dba351f6
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:40:39 2019 +0000

    * do not load always the references into a register in g_concatcopy
    
    git-svn-id: trunk@41129 -

M	compiler/arm/cgcpu.pas

******************************************************************************
commit 4db5478acc409c6070e38152b0d24b7693c4df9d
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:38:51 2019 +0000

    + support msr regf,reg32 on arm in the internal assembler
    
    git-svn-id: trunk@41128 -

M	compiler/arm/armins.dat
M	compiler/arm/armnop.inc
M	compiler/arm/armtab.inc

******************************************************************************
commit a186f484427dd09971c4b5c335b3a7e807eee796
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:17:47 2019 +0000

    * cosmetics
    
    git-svn-id: trunk@41127 -

M	compiler/arm/narmld.pas
M	compiler/arm/raarmgas.pas

******************************************************************************
commit 6c888949992e530b72e641603d5200b2d3f57b9b
Author: florian <florian@freepascal.org>
Date:   Tue Jan 29 20:16:12 2019 +0000

    * do not call the internal assembler if -s is passed
    
    git-svn-id: trunk@41126 -

M	compiler/options.pas

******************************************************************************
commit d1878fe5b21ed2cf39dfb22c5197d02aee2a49ec
Author: Károly Balogh <karoly@freepascal.org>
Date:   Tue Jan 29 05:02:18 2019 +0000

    morphos: support section GC with GNU LD as well
    
    git-svn-id: trunk@41105 -

M	compiler/systems/t_morph.pas

******************************************************************************
commit 9906211f3b1d9dd39b16506483a33d3aa541750a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 13:19:26 2019 +0000

    amiga: enable building of heaptrc unit, enable building lineinfo and exeinfo for OS4/PowerPC
    
    git-svn-id: trunk@41096 -

M	rtl/amiga/Makefile
M	rtl/amiga/Makefile.fpc
M	rtl/amiga/buildrtl.pp

******************************************************************************
commit c3607e0059f95a96bcb5f291a1d94f14737367fc
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 13:11:55 2019 +0000

    aros: only build lineinfo for i386 for now. FPC on x86_64 doesn't support stabs at all and the Amiga-specific lineinfo unit has no ARM support
    
    git-svn-id: trunk@41095 -

M	rtl/aros/Makefile
M	rtl/aros/Makefile.fpc
M	rtl/aros/buildrtl.pp

******************************************************************************
commit 6d279fdbb9c0fca0dc02dfd8d17301fd782f6b41
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 12:45:19 2019 +0000

    amicommon/lineinfo: fixed copy-paste error in PowerPC codepath
    
    git-svn-id: trunk@41094 -

M	rtl/amicommon/lineinfo.pp

******************************************************************************
commit 40630653b7b9ef8b793bc01a72c2d38f2d0ed37f
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 06:01:54 2019 +0000

    aros: fixed lineinfo to build from amicommon
    
    git-svn-id: trunk@41093 -

M	rtl/aros/Makefile
M	rtl/aros/Makefile.fpc

******************************************************************************
commit 22c87afdd1dfd31c8fc5261d26b83563c60bedcb
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 06:00:41 2019 +0000

    amicommon/lineinfo: added support for i386 relocatable binaries with .rel.stab section, as used on AROS-i386 for example
    
    git-svn-id: trunk@41092 -

M	rtl/amicommon/lineinfo.pp

******************************************************************************
commit db055c8f0ce18c07a7263291942ee76a724234ab
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 05:29:31 2019 +0000

    amicommon: moved MorphOS-specific lineinfo to amicommon, for upcoming AROS and OS4 support
    
    git-svn-id: trunk@41091 -

M	.gitattributes
R100	rtl/morphos/lineinfo.pp	rtl/amicommon/lineinfo.pp

******************************************************************************
commit d1a097f6c376b8a9b9ef9dcedc91a35d046ebd2a
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 05:07:51 2019 +0000

    morphos: do not read beyond end of the .rela.stabs section. do not try to relocate stabs entries, if opening the stabs was unsuccessful
    
    git-svn-id: trunk@41090 -

M	rtl/morphos/lineinfo.pp

******************************************************************************
commit 7bc03f2590d15a2e4882056c8b4d41521a950aa4
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 04:18:50 2019 +0000

    reverted accidental commit to text.inc
    
    git-svn-id: trunk@41089 -

M	rtl/inc/text.inc

******************************************************************************
commit c85f7cfc261b20cf50c1e88418ce5f5722727c68
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 28 04:16:44 2019 +0000

    aros/amigaos4: enabled ELF32/64 and GetModuleAddr() in exeinfo, based on the MorphOS versionexeinfo.pp
    
    git-svn-id: trunk@41088 -

M	rtl/inc/exeinfo.pp
M	rtl/inc/text.inc

******************************************************************************
commit 597a23d278f2c870dbf0a5d7fadb83908b365ce0
Author: florian <florian@freepascal.org>
Date:   Sun Jan 27 09:37:25 2019 +0000

    + tls support for x86_64-linux (not yet enabled by default)
    
    git-svn-id: trunk@41081 -

M	compiler/cgbase.pas
M	compiler/systems/i_linux.pas
M	compiler/x86/agx86att.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/nx86ld.pas
M	compiler/x86_64/cpunode.pas
M	rtl/linux/si_impl.inc
M	rtl/linux/system.pp
M	rtl/linux/x86_64/si_prc.inc

******************************************************************************
commit c7bb028d35b0db4355ebbb7d97cfa3962db938a7
Author: florian <florian@freepascal.org>
Date:   Thu Jan 24 20:10:29 2019 +0000

    * factored out OptPass1FLD, used bx x86-64 now as well
    - removed unused function
    
    git-svn-id: trunk@41061 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 6cb6517411066233d517a2d97d1e0dbdaa1255f3
Author: florian <florian@freepascal.org>
Date:   Thu Jan 24 19:53:51 2019 +0000

    * better recognization of procedure exit code
    
    git-svn-id: trunk@41060 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 24f6cc0da52e0c9f0c5285c7961e5b66b6c88891
Author: florian <florian@freepascal.org>
Date:   Thu Jan 24 19:38:32 2019 +0000

    * factored out OptPass1FSTP, used by x86-64 now as well
    
    git-svn-id: trunk@41059 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit cfd0790f89641b4c7b98a24314448ea5ce6543df
Author: florian <florian@freepascal.org>
Date:   Wed Jan 23 21:02:14 2019 +0000

    * avoid assembler errors for the MovOpMov2MovOp optimziation in case the size of the instruction
      gets changed and the first one contains a constant, resolves #34933
    
    git-svn-id: trunk@41021 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 8d3d5276d74979c670c7571d10d698ba09e5c9e4
Author: florian <florian@freepascal.org>
Date:   Tue Jan 22 21:58:05 2019 +0000

    * open arrays and arrays of consts might be only stack tainting if they are passed by value
    
    git-svn-id: trunk@41008 -

M	compiler/symdef.pas

******************************************************************************
commit 4fb7b5d3ffe403756478930a33574f41d05af580
Author: florian <florian@freepascal.org>
Date:   Mon Jan 21 21:57:07 2019 +0000

    * fix MovOpMov2MovOp optimization if no -Cpcoreavx2 is used
    
    git-svn-id: trunk@40979 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 4f0da5fcc3d4c0dc053cd88b1b00775b22eac668
Author: florian <florian@freepascal.org>
Date:   Sun Jan 20 18:50:12 2019 +0000

    + patch by Marģers to support the x86 assembler instructions blsi, blsr, blsmsk, adcx, adox, movbe, pclmulqdq, resolves #34815 and #34799
    + avxopcodes tests also movbe and pclmulqdq
    
    git-svn-id: trunk@40951 -

M	compiler/i386/i386att.inc
M	compiler/i386/i386atts.inc
M	compiler/i386/i386int.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386op.inc
M	compiler/i386/i386prop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086att.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086int.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086op.inc
M	compiler/i8086/i8086prop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86/aasmcpu.pas
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664att.inc
M	compiler/x86_64/x8664int.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664op.inc
M	compiler/x86_64/x8664pro.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 8c66e9a2eb763a9dfa37e35c7e31dac32e7fd7c2
Author: florian <florian@freepascal.org>
Date:   Sun Jan 20 18:50:10 2019 +0000

    + support for 16 bit registers
    
    git-svn-id: trunk@40950 -

M	tests/utils/avx/asmtestgenerator.pas

******************************************************************************
commit fc7ecf32065f1671421518f111f51c9eabe008c9
Author: florian <florian@freepascal.org>
Date:   Sun Jan 20 18:50:09 2019 +0000

    * usage example for linux
    
    git-svn-id: trunk@40949 -

M	tests/utils/avx/readme.txt

******************************************************************************
commit 75a89d21159b3c4106596993f938b77e43ee048d
Author: florian <florian@freepascal.org>
Date:   Sun Jan 20 17:00:43 2019 +0000

    * fix and enable MovOpMov2MovOp optimization on x86-64
    
    git-svn-id: trunk@40941 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 94d7a02fae1d06a40fc9313f7e42323f97d577c7
Author: florian <florian@freepascal.org>
Date:   Sun Jan 20 14:16:38 2019 +0000

    * modified patch by Gareth Moreton to pool TmpUsedRegs in the assembler optimizers, resolves #34679
    
    git-svn-id: trunk@40938 -

M	compiler/aopt.pas
M	compiler/aoptobj.pas
M	compiler/arm/aoptcpu.pas
M	compiler/avr/aoptcpu.pas
M	compiler/sparcgen/aoptcpu.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit 925531b99c1ffcb99a838a3991005eee827bfa9b
Author: florian <florian@freepascal.org>
Date:   Sat Jan 19 21:23:36 2019 +0000

    * constrained generics are also compatible with formaldefs, resolves #34893
    
    git-svn-id: trunk@40921 -

M	.gitattributes
M	compiler/defcmp.pas
A	tests/webtbs/tw34893.pp

******************************************************************************
commit 6c82b2d1daacf29cabe1d6c22be050f12cfa3303
Author: florian <florian@freepascal.org>
Date:   Sat Jan 19 19:37:48 2019 +0000

    * -tls-dialect is not a as option, removed it, resolves #34901
    
    git-svn-id: trunk@40920 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit fd1a09a254edd18eaa752fc34d7aa13424992974
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 14 11:47:54 2019 +0000

    morphos/lineinfo: updated the address adjustment comment added in r40857, no functional change
    
    git-svn-id: trunk@40860 -

M	rtl/morphos/lineinfo.pp

******************************************************************************
commit b3ad384547fc2f8fb35b5ce7b1e73274f13c389d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Mon Jan 14 07:22:41 2019 +0000

    morphos: fixed stabs line number parsing, and off-by-one line issue with backtraces. i think this should be a generic fix and can be backported to the global lineinfo
    
    git-svn-id: trunk@40857 -

M	rtl/morphos/lineinfo.pp

******************************************************************************
commit 56f0a71466be36f158e239238517287a47e59335
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jan 13 16:23:18 2019 +0000

    heaptrc: empty the array for the call trace, otherwise the trace dump code will just dump the rest of the array as well, on systems where the heap is not initialized to zero, or if the memory area has been re-used
    
    git-svn-id: trunk@40856 -

M	rtl/inc/heaptrc.pp

******************************************************************************
commit 4d1ff152c4019ba3dccc64a1480d4d98b7be6e56
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jan 13 13:27:45 2019 +0000

    morphos: include the new lineinfo in the build
    
    git-svn-id: trunk@40855 -

M	rtl/morphos/Makefile
M	rtl/morphos/Makefile.fpc
M	rtl/morphos/buildrtl.pp

******************************************************************************
commit a527a40d12188f698526bd4827654b95e7da5d48
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jan 13 13:16:01 2019 +0000

    morphos: add a custom lineinfo unit, prepared to parse stabs relocations in ELF relocatable objects, also featuring stronger address validation, and showing offsets in the executable instead of absolute addresses
    
    git-svn-id: trunk@40854 -

M	.gitattributes
A	rtl/morphos/lineinfo.pp

******************************************************************************
commit 644c47e1213118690d78d593a1c217335215fb1b
Author: florian <florian@freepascal.org>
Date:   Sun Jan 13 10:32:00 2019 +0000

    * when deciding about the case code generation in case of size optimization, the number of labels is relevant, not the covered range, resolves #34818
    
    git-svn-id: trunk@40851 -

M	.gitattributes
M	compiler/ncgset.pas
A	tests/webtbs/tw34818.pp

******************************************************************************
commit b223d1c3048a22c1d2bdb3e8d933414e2843a737
Author: florian <florian@freepascal.org>
Date:   Sat Jan 12 14:44:54 2019 +0000

    * modified patch by Gareth Moreton to make ie unique, resolves #34849
    
    git-svn-id: trunk@40849 -

M	compiler/x86/cpubase.pas

******************************************************************************
commit 1b16ff3629c51a305b9808e751456f7eff1a5df8
Author: pierre <pierre@freepascal.org>
Date:   Thu Jan 10 14:40:05 2019 +0000

     Change default debugging format for x86_64-haiku to dwarf-2, as stabs is normally disabled on 64-bit systems
    
    git-svn-id: trunk@40835 -

M	compiler/systems/i_haiku.pas
******************************************************************************
commit 193df0204ae176fff24978cb00539cf7481a1245
Author: pierre <pierre@freepascal.org>
Date:   Wed Jan 9 22:43:56 2019 +0000

     Add x86_64-haiku target to some Makefile's
    
    git-svn-id: trunk@40820 -

M	packages/gnutls/Makefile
M	rtl/embedded/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile

******************************************************************************
commit 3a52fdf997f14b935f95b057925f1234a51dc629
Author: pierre <pierre@freepascal.org>
Date:   Mon Jan 7 21:41:18 2019 +0000

     Add FPC_SYSTEM_EXIT_NO_RETURN macro for embedded target
    
    git-svn-id: trunk@40801 -

M	rtl/embedded/system.pp
M	rtl/inc/system.inc

******************************************************************************
commit 51e68eb302c8f7fbaf95a04162bf79e3c6de3161
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Jan 6 20:35:56 2019 +0000

      * fixed several places where the interface crc could change:
       o unsetting po_inline while parsing the implementation for various reasons
         (interprocedural goto/label, accessing a local in a parent frame,
          having nested procedures)
       o instead handle this via the pio_inline_not_possible flag
       o noreturn can no longer be specified only in the implementation
    
    git-svn-id: trunk@40789 -

M	compiler/nflw.pas
M	compiler/nld.pas
M	compiler/pexpr.pas
M	compiler/pparautl.pas
M	compiler/pstatmnt.pas
M	compiler/psub.pas
M	compiler/rautils.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 078d8e9d2abc188f4844b28b9f168fa6ec1bd6cc
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jan 6 14:08:35 2019 +0000

    tarray15: the conditions added in r40779 should be or, instead of and (thanks Pierre)
    
    git-svn-id: trunk@40784 -

M	tests/test/tarray15.pp

******************************************************************************
commit cae98304f830a4f9e9f7cc5f33de1d3edb250af7
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Jan 6 10:50:02 2019 +0000

    tarray15: no rodata support on a bunch of m68k platforms
    
    git-svn-id: trunk@40779 -

M	tests/test/tarray15.pp

******************************************************************************
commit 5182dc37af6f5df1e6fb2e0f08e6bd0c702fd033
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Jan 4 03:18:42 2019 +0000

    haiku-x86_64: regenerated all Makefiles, take 2
    
    git-svn-id: trunk@40758 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit 59aef99f5222f572b06408bb7a95c39e0b00a495
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Jan 4 03:17:19 2019 +0000

    haiku-x86_64: regenerated all Makefiles
    
    git-svn-id: trunk@40757 -

M	tests/Makefile

******************************************************************************
commit 1d7486748a27010e304589d415c961435d3e0812
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Jan 4 01:35:36 2019 +0000

    tabs to spaces cleanup. no functional change
    
    git-svn-id: trunk@40752 -

M	compiler/aasmtai.pas

******************************************************************************
commit 3a8f25348b57a50f4e26ddca28c721046d8612a1
Author: florian <florian@freepascal.org>
Date:   Thu Jan 3 20:55:25 2019 +0000

    * set default abi to eabi5 on arm
    
    git-svn-id: trunk@40751 -

M	packages/fcl-res/src/elfconsts.pp
M	packages/fcl-res/src/elfsubwriter.inc

******************************************************************************
commit 10ab893de389cd0dc689ee4b038fd07487f5b0c5
Author: florian <florian@freepascal.org>
Date:   Thu Jan 3 17:38:27 2019 +0000

    * improved explanation for warning 9034
    
    git-svn-id: trunk@40749 -

M	compiler/msg/errore.msg

******************************************************************************
commit 2ba239ea6d1474f2a6699f725480bbebfecfa005
Author: florian <florian@freepascal.org>
Date:   Wed Jan 2 16:14:18 2019 +0000

    * more robust fix of #27543
    
    git-svn-id: trunk@40746 -

M	compiler/pstatmnt.pas

******************************************************************************
commit e7c4fccf41056a5695f6aaf39c4b12df95af44a2
Author: florian <florian@freepascal.org>
Date:   Tue Jan 1 23:16:07 2019 +0000

    * patch by Simon Ameis: adds mcu STM32F091* to compiler unit t_embed.pas; thus internal error 200902011 is not raised anymore, resolves #34570
    
    git-svn-id: trunk@40742 -

M	compiler/systems/t_embed.pas

******************************************************************************
commit a72a12eef6133dacfa6d0a93ca8de63a71e92da7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 1 16:55:41 2019 +0000

      * don't emit 0-sized parameters for LLVM: clang doesn't either, and some
        LLVM backends (like the AArch64 one) trigger internal errors when
        encountering them
    
    git-svn-id: trunk@40736 -

M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/parabase.pas

******************************************************************************
commit 4d03f3a65e9da5a7d9bd71c0b9d0a1090cd4bea0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Jan 1 16:22:31 2019 +0000

      * fixed LLVM memory leaks
    
    git-svn-id: trunk@40732 -

M	compiler/aasmcnst.pas
M	compiler/hlcgobj.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/ncgmat.pas
M	compiler/symcreat.pas

******************************************************************************
commit 22365a1f5700b924faf970f2c9a36e99c0f3d709
Author: florian <florian@freepascal.org>
Date:   Tue Jan 1 16:16:54 2019 +0000

    + test for #27543 which is fixed meanwhile
    
    git-svn-id: trunk@40731 -

M	.gitattributes
A	tests/webtbf/tw27543.pp

******************************************************************************
commit a2cee252e85a2e04b1e13a04d48060a3d8135889
Author: florian <florian@freepascal.org>
Date:   Tue Jan 1 01:11:13 2019 +0000

    * when optimizing range checks in case nodes, unsigned comparisions must be used, resolves #34782
    
    git-svn-id: trunk@40721 -

M	compiler/ncgset.pas
M	compiler/x86/nx86set.pas

******************************************************************************
commit 1641585655db9a22030745cf709105cdc3ac3dce
Author: florian <florian@freepascal.org>
Date:   Sun Dec 30 22:21:03 2018 +0000

    * updated bcase.pp benchmark by Gareth Moreton, now used also as test
    
    git-svn-id: trunk@40710 -

M	.gitattributes
M	tests/bench/bcase.pp
A	tests/test/tcase49.pp

******************************************************************************
commit bd4b7a6bc420196d0e846b5f058033101219c2cd
Author: florian <florian@freepascal.org>
Date:   Sat Dec 29 21:53:52 2018 +0000

    * more case fixes
    
    git-svn-id: trunk@40706 -

M	compiler/ncgset.pas
M	compiler/x86/nx86set.pas

******************************************************************************
commit f6e32ae90e7aa852390174ebb5b8aca0392bcf25
Author: florian <florian@freepascal.org>
Date:   Fri Dec 28 20:56:43 2018 +0000

    * (modified) path by Gareth Moreton to fix case handling
    
    git-svn-id: trunk@40686 -

M	compiler/ncgset.pas
M	compiler/x86/nx86set.pas

******************************************************************************
commit df598f186829a7074edfe4c4024c89e07abb2668
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 28 19:01:11 2018 +0000

      * update alignment values for Darwin
    
    git-svn-id: trunk@40684 -

M	compiler/systems/i_bsd.pas

******************************************************************************
commit dee105654693cf7a8da064d3a2530d9436b07fdf
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 28 13:22:50 2018 +0000

      * fixed wrong change of jumpalignmax from 10 to 16 in previous commit
       o renamed jumpalignmax and coalescealignmax to jumpalignskipmax/
         coalescealignskipmax to better reflex the meaning of these setting
         (and the difference in meaning to e.g. constalignmax)
    
    git-svn-id: trunk@40682 -

M	compiler/globals.pas
M	compiler/ncgflw.pas
M	compiler/scanner.pas
M	compiler/systems.pas
M	compiler/systems/i_aix.pas
M	compiler/systems/i_amiga.pas
M	compiler/systems/i_android.pas
M	compiler/systems/i_aros.pas
M	compiler/systems/i_atari.pas
M	compiler/systems/i_beos.pas
M	compiler/systems/i_bsd.pas
M	compiler/systems/i_embed.pas
M	compiler/systems/i_emx.pas
M	compiler/systems/i_gba.pas
M	compiler/systems/i_go32v2.pas
M	compiler/systems/i_haiku.pas
M	compiler/systems/i_jvm.pas
M	compiler/systems/i_linux.pas
M	compiler/systems/i_macos.pas
M	compiler/systems/i_morph.pas
M	compiler/systems/i_msdos.pas
M	compiler/systems/i_nativent.pas
M	compiler/systems/i_nds.pas
M	compiler/systems/i_nwl.pas
M	compiler/systems/i_nwm.pas
M	compiler/systems/i_os2.pas
M	compiler/systems/i_palmos.pas
M	compiler/systems/i_sunos.pas
M	compiler/systems/i_symbian.pas
M	compiler/systems/i_watcom.pas
M	compiler/systems/i_wdosx.pas
M	compiler/systems/i_wii.pas
M	compiler/systems/i_win.pas
M	compiler/systems/i_win16.pas

******************************************************************************
commit 9a797b9f494d723f8b8b2286fc5db0338f63d98e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 28 12:06:46 2018 +0000

      * changed maxjumpalign:10 to 16
      * changed (max)jumalign for Darwin/x86_64 from 0 to 16
    
    git-svn-id: trunk@40681 -

M	compiler/systems/i_bsd.pas
M	compiler/systems/i_linux.pas
M	compiler/systems/i_win.pas

******************************************************************************
commit 9c03c298567dabc027818e995fef06682e91a226
Author: florian <florian@freepascal.org>
Date:   Thu Dec 27 23:14:38 2018 +0000

    * not all targets support the tls-model switch, use it only if section thread vars are used
    
    git-svn-id: trunk@40680 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit ce81e509075e2a186a2d9d854d1bddb891cea6f9
Author: florian <florian@freepascal.org>
Date:   Thu Dec 27 22:07:30 2018 +0000

    * better code alignment for x86_64-win64 and x86_64-linux
    
    git-svn-id: trunk@40679 -

M	compiler/systems/i_linux.pas
M	compiler/systems/i_win.pas

******************************************************************************
commit a7c347fe567eead26455fa6be3c579a227673362
Author: florian <florian@freepascal.org>
Date:   Thu Dec 27 20:54:14 2018 +0000

    * pass used tls model to the assembler
    
    git-svn-id: trunk@40677 -

M	compiler/arm/agarmgas.pas

******************************************************************************
commit 7f5c2fa3aae4273980635a703db4fc4c8fa828c4
Author: florian <florian@freepascal.org>
Date:   Thu Dec 27 18:31:55 2018 +0000

    * (modified) patch by Gareth Moreton: Speed improvement in case blocks, resolves #0034762
    This patch improves the compiler where "case" statements are concerned, using jump tables more often and creating more efficient machine code in some situations:
      * If a case block only contains one branch (not including the else block), the initial range check is removed, since this becomes wasted effort.
      * If the else block is empty, the else label is set to the end label - though this doesn't decrease the code size, it takes a bit of strain off the peephole optimizer.
      * On -O2 and above, some node analysis is now done on the branch labels. Most of the time this just redirects it to the end
        label for empty blocks, but if the block contains a goto statement, it will redirect it to its destination instead,
        thus increasing performance by not having multiple jumps (this won't get picked up by the peephole optimiser if the label addresses are in a jump table).
      * Some checks now use what I call the 'true count' rather than the 'label count'. The true count includes each
        individual value in a range - for example, 0..2 counts as 3. This increases the chance that a jump table will be
        utilised in situations where it is more efficient than a linear list.
      * For jump tables, if the case block almost covers the entire range (32 entries or fewer from full coverage),
        the initial range check is removed and the gaps included in the jump table (pointing to the else label).
    
    git-svn-id: trunk@40676 -

M	.gitattributes
M	compiler/ncgset.pas
M	compiler/nset.pas
M	compiler/x86/nx86set.pas
M	compiler/x86_64/nx64set.pas
A	tests/bench/bcase.pp

******************************************************************************
commit acfa2088efb90c4eb3b58e18f9261ab113287938
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 25 17:52:56 2018 +0000

      + test for previous commit
    
    git-svn-id: trunk@40646 -

M	.gitattributes
A	tests/test/tb0266.pp

******************************************************************************
commit b840db72284ec707b22636aff5d36d84ad95a228
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 25 15:36:28 2018 +0000

      * addition to r40631: also force inline self parameters that are already in
        a temp into a new temp for LLVM, so their type gets updated
    
    git-svn-id: trunk@40642 -

M	compiler/ncal.pas

******************************************************************************
commit f7549785407c1ac00df6addbf3c7346ef877debf
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 25 15:36:24 2018 +0000

      * handle constructor function results that have been migrated to the
        parentfpstruct the same as regular function results (see r32687)
    
    git-svn-id: trunk@40641 -

M	compiler/hlcgobj.pas
M	compiler/jvm/symcpu.pas
M	compiler/nflw.pas
M	compiler/ngenutil.pas
M	compiler/symdef.pas

******************************************************************************
commit 70cadc76948864526b147e46052605cc7a69377b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:21:40 2018 +0000

      * fixed string constant length when going from utf-8 to single-byte code page
        (mantis #33666, patch by engkin)
    
    git-svn-id: trunk@40637 -

M	.gitattributes
M	compiler/ncon.pas
A	tests/webtbs/tw33666.pp

******************************************************************************
commit c9a7afe053a4feca5188dfaa57d2e42075eb48b9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:10:09 2018 +0000

      * in constructors, free the temp holding self only after loading the function
        result, as self is the function result there (follow up to 40501)
    
    git-svn-id: trunk@40635 -

M	compiler/ncgutil.pas

******************************************************************************
commit f3d831b480dabc787b9126e3929c7fcb387a309b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:09:58 2018 +0000

      * fixed result cgsize of LLVM's second_nothing type conversion node (new
        size instead of original size, which can be different in case of going
        from void to something else)
    
    git-svn-id: trunk@40632 -

M	compiler/llvm/nllvmcnv.pas

******************************************************************************
commit eb769e3859d33f1c93f4870d97be243718de50f5
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:09:55 2018 +0000

      * force pointer-based self parameters of inlined routines in temps for LLVM
        to ensure that their type gets updated
    
    git-svn-id: trunk@40631 -

M	compiler/llvm/nllvmcal.pas
M	compiler/ncal.pas

******************************************************************************
commit dd290884306f9746c1a60a6b85f137d58bcfc759
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:09:48 2018 +0000

      * simplify all type conversions for formal constants even for LLVM and JVM
        (since these happen at compile time and don't result in generated code,
         they never need extra type conversions in the code)
    
    git-svn-id: trunk@40629 -

M	compiler/llvm/nllvmcnv.pas
M	compiler/ncnv.pas

******************************************************************************
commit b1b559f2838fdbedfd399789c2a34405d0e74f91
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Dec 24 22:09:45 2018 +0000

      * fixed used resulttype of char-to-shortstring typeconversion in case the
        shortstring type is smaler than 255 chars
    
    git-svn-id: trunk@40628 -

M	compiler/ncgcnv.pas

******************************************************************************
commit f87304f5caf5f9e3afb96d339d12f90fe5dd9772
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 21 20:57:22 2018 +0000

      * fixed LLVM code generator not taking into account constalignmin/max
        settings for typed constants
    
    git-svn-id: trunk@40605 -

M	compiler/aasmcnst.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 4f72edcdd59d7976e26aace0e6c0a393b6c4186c
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 21 20:57:19 2018 +0000

      + LLVM support for the FMA intrinsics
    
    git-svn-id: trunk@40604 -

M	compiler/llvm/nllvminl.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 1cc995b471f0e708abb9113064877d9a01a1d477
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 21 20:57:16 2018 +0000

      * use ccallnode.createintern() instead of
        ccallcnode.createinternfromunit('SYSTEM')
    
    git-svn-id: trunk@40603 -

M	compiler/llvm/nllvminl.pas

******************************************************************************
commit c55ffa8cc7574d94b38c7b5f7e7d41cb467e4578
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Fri Dec 21 20:57:12 2018 +0000

      * fixed <> comparisons with NaNs (use LLVM "unordered" comparison: succeed
        if either operand is a NaN)
    
    git-svn-id: trunk@40602 -

M	compiler/llvm/nllvmadd.pas

******************************************************************************
commit 430ec7bbe4b33b69ca4cf6a200a8a7a031449adb
Author: pierre <pierre@freepascal.org>
Date:   Thu Dec 20 22:39:40 2018 +0000

     Try to ix compilation failures in units/fpcunit directory
    
    git-svn-id: trunk@40601 -

M	tests/test/units/fpcunit/tcbucketlist.pp
M	tests/test/units/fpcunit/tccompstreaming.pp
M	tests/test/units/fpcunit/tctparser.pp
M	tests/test/units/fpcunit/testcomps.pp

******************************************************************************
commit e9e5b05caa1e653a0086bd5191b11351059e994c
Author: pierre <pierre@freepascal.org>
Date:   Thu Dec 20 21:30:44 2018 +0000

     Remove Unicode $180E (Mongolian Vowel Separator), as it is not anymore a whitespace character
    
    git-svn-id: trunk@40600 -

M	tests/test/units/character/tiswhitespace.pp

******************************************************************************
commit 3b4011760a1dde45618b9b48529c5827d4eb8849
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Dec 20 21:22:44 2018 +0000

      * cleaned up blockaddress instruction (add type rather than hardcoding it
        in the assembler writer)
      * fixed taking the address of a label in a typed const for llvm (fixes
        tbs/tb0468a)
    
    git-svn-id: trunk@40599 -

M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/agllvm.pas
M	compiler/llvm/nllvmld.pas
M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit c6bb85eae998ed42c242a3d5d7e24c2bf3231460
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Dec 20 21:22:40 2018 +0000

      * support for compiling the objects unit methods that expect local procedure/
        function pointers using {$modeswitch nestedprocvars} functionality, activate
        this for LLVM and also activate that modeswitch for a test that uses this
       o also convert the IDE units to use this functionality
       o requires extra typecasts because implicit type conversions from
         procvar(p: psometype) to procvar(p: pointer) are not supported; on the
         plus side, even those type conversions are checked for validity
       o note: requires {$modeswitch nestedprocvars} in all programs/units
         that rely on this functionality
    
    git-svn-id: trunk@40598 -

M	compiler/browcol.pas
M	packages/fv/src/app.pas
M	packages/fv/src/platform.inc
M	packages/fv/src/tabs.pas
M	packages/fv/src/views.pas
M	packages/ide/fpcodcmp.pas
M	packages/ide/fpcodtmp.pas
M	packages/ide/fpcompil.pas
M	packages/ide/fpdebug.pas
M	packages/ide/fphelp.pas
M	packages/ide/fpide.pas
M	packages/ide/fpini.pas
M	packages/ide/fpmfile.inc
M	packages/ide/fpmsrch.inc
M	packages/ide/fpmwnd.inc
M	packages/ide/fpswitch.pas
M	packages/ide/fpsymbol.pas
M	packages/ide/fptools.pas
M	packages/ide/fpviews.pas
M	packages/ide/globdir.inc
M	packages/ide/wcedit.pas
M	packages/ide/weditor.pas
M	packages/ide/whelp.pas
M	packages/ide/whtmlhlp.pas
M	packages/ide/whtmlscn.pas
M	packages/ide/wini.pas
M	packages/ide/wnghelp.pas
M	packages/ide/wresourc.pas
M	packages/ide/wutils.pas
M	packages/ide/wwinhelp.pas
M	packages/rtl-extra/src/inc/objects.pp
M	tests/tbs/tb0268.pp

******************************************************************************
commit 7cc7268635512a76eb3f3473e6ddfc454ecc2294
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:59:58 2018 +0000

      * fixed dynamic array constants for non-Darwin LLVM platforms
    
    git-svn-id: trunk@40578 -

M	compiler/llvm/nllvmtcon.pas

******************************************************************************
commit 2330164ee2e700dd8e651d7018d2836bd722afed
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:41 2018 +0000

      + internal sqrt support for LLVM (faster on all platforms, necessary on
        platforms that don't have RTL support for it, as the the generic
        fpc_sqrt_real just calls runerror)
    
    git-svn-id: trunk@40575 -

M	compiler/llvm/nllvminl.pas
M	rtl/inc/llvmintr.inc

******************************************************************************
commit 8845f4d1ce390679902873a611f9cf0e04e5b185
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:38 2018 +0000

      * fixed type consistency in handler for array parameters on platforms where
        these have to be passed on the caller side (i.e., AArch64)
    
    git-svn-id: trunk@40574 -

M	compiler/ncal.pas

******************************************************************************
commit ac8411f3cf29f0361ee963ef0d08d84ff85a723d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:35 2018 +0000

      * pass dynamic array parameters of cdecl routines by value on AArch64
        (like on onther platforms)
       o it was passed by reference as a side effect of the fact arrays in C are
         pointers, but a dynamic array already is a pointer
    
    git-svn-id: trunk@40573 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit e69b4d2d9a9e1aba83c40a2b92ecda28c4625b44
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:31 2018 +0000

      * replaced some stray cpointerdef.create() calls with cpointerdef.getreusable()
    
    git-svn-id: trunk@40572 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 95171a1e2281d494c706108394bc0e695dfc1461
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:28 2018 +0000

      * initialise cgpara with valid data for the C-style "array of const" para
        (necessary for the LLVM backend)
    
    git-svn-id: trunk@40571 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 820d2f7135d7160dc85370c27758e2f1f6f3eee6
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:24 2018 +0000

      * support OS_32/OS_64 in AArch64 cgsize2subreg() for MM registers (can happen
        for records with floating point fields with the LLVM code generator)
    
    git-svn-id: trunk@40570 -

M	compiler/aarch64/cpubase.pas

******************************************************************************
commit 93e39fb0cd4f769d46de1db0c6ae9b7898b7bcd3
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:21 2018 +0000

      * only coerce the type of the leftover bytes of a record if the location
        size doesn't match the number of remaining bytes
       o prevents a second "single" field of a record getting interpreted as a
         "cardinal"
    
    git-svn-id: trunk@40569 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit ff002e266434a261eb65df57b1b9e2241cd1ee0f
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:18 2018 +0000

      * set paralocations correctly for LLVM/AArch (must be register-type instead
        of parameter-type based)
    
    git-svn-id: trunk@40568 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 6b58185bda1b6d467f423d50a326857c5712f2a0
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:15 2018 +0000

      * fixed shifval for big endian (bits instead of bytes)
    
    git-svn-id: trunk@40567 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 6e453a1477d6525becb22e90764547e63601385d
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:12 2018 +0000

      * fixed paraloc def when changing the size to OS_32
    
    git-svn-id: trunk@40566 -

M	compiler/aarch64/cpupara.pas

******************************************************************************
commit 97bc58d2488f10ba7ae2590a029d41d60bbc7245
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Dec 16 20:44:09 2018 +0000

      * fixed bug that caused the "sret" argument attribute to never be used (and
        a guaranteed internalerror on AArch64/llvm)
    
    git-svn-id: trunk@40565 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit 0846456ce47fe90a0140100e58ccfe0081059774
Author: pierre <pierre@freepascal.org>
Date:   Sat Dec 15 21:06:01 2018 +0000

     * Skip all surrogate values in for loops from low(word) to high(word)
    
    git-svn-id: trunk@40560 -

M	tests/test/units/character/tgetnumericvalue.pp
M	tests/test/units/character/tgetnumericvalue2.pp
M	tests/test/units/character/tgetnumericvalue3.pp
M	tests/test/units/character/tgetunicodecategoriesurro.pp
M	tests/test/units/character/tiscontrol.pp
M	tests/test/units/character/tiscontrol2.pp
M	tests/test/units/character/tiscontrol3.pp
M	tests/test/units/character/tisdigit.pp
M	tests/test/units/character/tisdigit2.pp
M	tests/test/units/character/tisdigit3.pp
M	tests/test/units/character/tishighsurrogate.pp
M	tests/test/units/character/tisletter.pp
M	tests/test/units/character/tisletterordigit.pp
M	tests/test/units/character/tislowsurrogate.pp
M	tests/test/units/character/tisnumber.pp
M	tests/test/units/character/tisnumber2.pp
M	tests/test/units/character/tispunctuation.pp
M	tests/test/units/character/tisseparator.pp
M	tests/test/units/character/tissurrogate.pp
M	tests/test/units/character/tissurrogatepair.pp
M	tests/test/units/character/tissurrogatepair2.pp
M	tests/test/units/character/tissymbol.pp
M	tests/test/units/character/tisupper.pp
M	tests/test/units/character/tiswhitespace.pp
M	tests/test/units/character/tlowercase.pp
M	tests/test/units/character/tlowercase2.pp
M	tests/test/units/character/ttolower.pp
M	tests/test/units/character/ttolower2.pp
M	tests/test/units/character/ttolower3.pp
M	tests/test/units/character/ttoupper.pp
M	tests/test/units/character/ttoupper2.pp
M	tests/test/units/character/ttoupper3.pp

******************************************************************************
commit 0fafe640c5aad6f12ef98aaa12b56933833593ea
Author: pierre <pierre@freepascal.org>
Date:   Fri Dec 14 09:51:45 2018 +0000

     Change tstringlistexchange test code to give different error values and check that sort is done properly instead of requiring a given number of exchanges
    
    git-svn-id: trunk@40547 -

M	tests/test/units/classes/tstringlistexchange.pp

******************************************************************************
commit bf7af550c82cd19d404e0b46a494cdac12064190
Author: pierre <pierre@freepascal.org>
Date:   Fri Dec 14 09:32:01 2018 +0000

     Add mode objfpc to units/character/tutf32convert test
    
    git-svn-id: trunk@40546 -

M	tests/test/units/character/tutf32convert.pp

******************************************************************************
commit 99528f97740d688aaf92963d6de291ad4f9635d4
Author: nickysn <nickysn@gmail.com>
Date:   Thu Dec 13 16:00:23 2018 +0000

    + added all the missing test/units/* subdirectories: classes character dateutil fpcunit softfpu variants
    
    git-svn-id: trunk@40538 -

M	tests/Makefile
M	tests/Makefile.fpc

******************************************************************************
commit 32a51d7b6247b9d0a65a031f49beb5f42c69cadd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 8 15:31:54 2018 +0000

      * add nocapture and dereferenceable/dereferenceable_or_null decorators to
        parameters for llvm where appropriate
    
    git-svn-id: trunk@40503 -

M	compiler/llvm/llvmdef.pas

******************************************************************************
commit 51502874aff7417cdd9050b3d0e24af48aebe176
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 8 15:31:51 2018 +0000

      * emit temp lifetime information for llvm
       o also allow freeing temps in the middle of a routine for llvm (we won't
         reuse them, but it results in better lifetime information)
    
    git-svn-id: trunk@40502 -

M	compiler/llvm/tgllvm.pas
M	compiler/tgobj.pas

******************************************************************************
commit 3b7efb5123d3f0de813c8963ddbd0c8e027af90e
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 8 15:31:48 2018 +0000

      * only free the temp holding the function result after we've loaded it into
        the function return register (so we won't load from an already freed
        temp once we emit lifetime info for temps on LLVM)
    
    git-svn-id: trunk@40501 -

M	compiler/hlcgobj.pas
M	compiler/ncgutil.pas

******************************************************************************
commit 14f3676b2acdc1192c1183ef0765e36c01936107
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Dec 8 15:31:45 2018 +0000

      + llvm_lifetime_start/llvm_lifetime_end intrinsic declarations
    
    git-svn-id: trunk@40500 -

M	rtl/inc/llvmintr.inc

******************************************************************************
commit 09d6b1129d3ec5541fd69c36d2380561a28192bd
Author: Károly Balogh <karoly@freepascal.org>
Date:   Fri Dec 7 00:03:14 2018 +0000

    tosunits: added a few more VDI functions
    
    git-svn-id: trunk@40485 -

M	packages/tosunits/src/vdi.pas

******************************************************************************
commit 32121de8aea0dfd64109f73696ed7530285fdbe1
Author: florian <florian@freepascal.org>
Date:   Tue Dec 4 21:25:48 2018 +0000

    * do not call InitTLS when a compiler is used which does not include the abi tag section
    
    git-svn-id: trunk@40468 -

M	rtl/linux/i386/si_prc.inc

******************************************************************************
commit 8846041b2358ad39ae0872417ba5b6ca3b24e8a7
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 4 19:53:23 2018 +0000

      * use volatile() to prevent wrong optimizations by llvm
    
    git-svn-id: trunk@40466 -

M	tests/test/tmt1.pp

******************************************************************************
commit 122d0d36d61c25a5a879591b2923e1f904896de1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 4 19:53:20 2018 +0000

      + volatile() expression that marks an expression as volatile
      * disable matching volatile references in the assembler optimisers, so they
        can't be removed (more conservative than needed, but better than removing
        too many)
       o the CSE optimiser will ignore them by default, because they're an unknown
         inline node for it
      * also removed no longer used fpc_in_move_x and fpc_in_fillchar_x inline node
        identifiers from rtl/inc/innr.inc, and placed fpc_in_unaligned_x at the
        right place
    
    git-svn-id: trunk@40465 -

M	compiler/aoptobj.pas
M	compiler/arm/aoptcpu.pas
M	compiler/avr/aoptcpu.pas
M	compiler/compinnr.pas
M	compiler/m68k/aoptcpu.pas
M	compiler/ncginl.pas
M	compiler/ninl.pas
M	compiler/nutils.pas
M	compiler/pexpr.pas
M	compiler/psystem.pas
M	compiler/x86/aoptx86.pas
M	rtl/inc/innr.inc

******************************************************************************
commit b7da7cd654a752872057bd48ac17628665750aa1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 4 19:53:16 2018 +0000

      * ensure the generic version of tcgshlshrnode gets used for llvm
    
    git-svn-id: trunk@40464 -

M	compiler/llvm/nllvmmat.pas

******************************************************************************
commit 2109612fa3bbc7feffcae2c52a7661e65eed250a
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Dec 4 19:53:13 2018 +0000

      - disable cs_opt_use_load_modify_store because for llvm because it is
        apparently buggy as far as type information is concerned, and it also
        results in tons of spilling
    
    git-svn-id: trunk@40463 -

M	compiler/globtype.pas

******************************************************************************
commit eeadf618b8320fc653e66ff4b24b58017c10c607
Author: florian <florian@freepascal.org>
Date:   Sun Dec 2 22:56:12 2018 +0000

    + abi tag for i386
    * arm abi tag moved into pascal file
    
    git-svn-id: trunk@40454 -

M	.gitattributes
M	compiler/raatt.pas
A	rtl/linux/arm/abitag.inc
M	rtl/linux/arm/cprt0.as
M	rtl/linux/arm/gprt0.as
M	rtl/linux/arm/prt0.as
M	rtl/linux/arm/ucprt0.as
A	rtl/linux/i386/abitag.inc
M	rtl/linux/system.pp

******************************************************************************
commit 6629e72d795b94e237dea897f8526617d6c5160d
Author: Károly Balogh <karoly@freepascal.org>
Date:   Sun Dec 2 18:54:04 2018 +0000

    m68k: reinstate the inc/dec tempregister type hack again in an isolated way (it was removed in r40385, as it was breaking llvm target)
    
    git-svn-id: trunk@40453 -

M	compiler/m68k/n68kinl.pas
M	compiler/ncginl.pas

******************************************************************************
commit 31ae109a317d480dec469a000603d82f58d813b7
Author: florian <florian@freepascal.org>
Date:   Sun Dec 2 08:49:03 2018 +0000

    * properly initialize phdr and phnum
    
    git-svn-id: trunk@40448 -

M	rtl/linux/system.pp

******************************************************************************
commit 67fe756642367b1a224c6dbaa05026fe61096bc1
Author: pierre <pierre@freepascal.org>
Date:   Sat Dec 1 16:18:58 2018 +0000

     Regenerate msgid and msgtxt include files after commit 40422
    
    git-svn-id: trunk@40425 -

M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit b60cbf33296d21e8d207e6949dbb39717d0b2f25
Author: marco <marco@freepascal.org>
Date:   Fri Nov 30 11:21:50 2018 +0000

     * systematically capitalize first word of errormsg/sentence, patch by J. Gareth Moreton, mantis 34618
    
    git-svn-id: trunk@40422 -

M	compiler/msg/errore.msg

******************************************************************************
commit 758a8dd34a5dd016c6cc4447d609ddb1d6541556
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Nov 29 23:21:15 2018 +0000

      * fixed dwarf debug info after r40398 (mantis #34622)
    
    git-svn-id: trunk@40421 -

M	compiler/dbgdwarf.pas

******************************************************************************
commit 50ab607676f8a7eb9abd6e499dde5362d32bbdaf
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Nov 29 20:57:08 2018 +0000

      + customint torddef type to create arbitraty bit-width integers
       o use this to handle non-power-of-two-sized parameters for llvm
       o no general support in the parser/code generator, so don't expose
    
    git-svn-id: trunk@40398 -

M	compiler/defcmp.pas
M	compiler/defutil.pas
M	compiler/htypechk.pas
M	compiler/llvm/hlcgllvm.pas
M	compiler/llvm/llvmdef.pas
M	compiler/ncgrtti.pas
M	compiler/psystem.pas
M	compiler/symconst.pas
M	compiler/symdef.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit 026d06cffbaf1658379a61f657415acd3f43e2c8
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 28 19:23:31 2018 +0000

      - reverted r39188, as this hack removes the type correctness of the
        instructions, which breaks the llvm code generator. Put such hacks
        in CPU-specific overrides
    
    git-svn-id: trunk@40385 -

M	compiler/ncginl.pas

******************************************************************************
commit 97b40dc16daccea9a2ae62cff12366c3aa197c39
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 28 19:23:25 2018 +0000

      * fixed dynamic array constants for llvm
    
    git-svn-id: trunk@40383 -

M	compiler/aasmcnst.pas
M	compiler/llvm/nllvmtcon.pas
M	compiler/ngtcon.pas

******************************************************************************
commit 413a3599c1c35857c5be27e9c61721aa072524c9
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Wed Nov 28 19:23:22 2018 +0000

      * thlcgobj.g_unreachable() dummy implementation + llvm override
    
    git-svn-id: trunk@40382 -

M	compiler/hlcgobj.pas
M	compiler/llvm/aasmllvm.pas
M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit 20fea3607cce1b6c0284c7b4c3c75594589cea99
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Mon Nov 26 22:30:05 2018 +0000

      * pass volatility information to llvm.memcpy
    
    git-svn-id: trunk@40376 -

M	compiler/llvm/hlcgllvm.pas

******************************************************************************
commit c43cae9231a40132bb9c3f446463152edcc472cc
Author: florian <florian@freepascal.org>
Date:   Wed Nov 21 21:22:54 2018 +0000

    * disable MovOpMov2MovOp optimization on x86-64 for now as it seems to break
    
    git-svn-id: trunk@40361 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit 477d7be6515dc3e5e3ab5e01f63828d62caecfab
Author: florian <florian@freepascal.org>
Date:   Wed Nov 21 19:19:24 2018 +0000

    * building on i386-linux fixed
    
    git-svn-id: trunk@40360 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit ac37a54d794ec134ac49fe81710ba0b45b774831
Author: florian <florian@freepascal.org>
Date:   Tue Nov 20 22:20:43 2018 +0000

    + MovOpMov2MovOp optimization
    
    git-svn-id: trunk@40359 -

M	compiler/x86/aoptx86.pas

******************************************************************************
commit b96a8aee616b2437cb5c5b8c8e2d5851a11f56f1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Tue Nov 20 19:25:06 2018 +0000

      * don't generate tempsfinalize nodes in except filter procdefs, as that would
        finalize the parent's temps twice (fix for r40345, mantis #34574)
    
    git-svn-id: trunk@40357 -

M	compiler/psub.pas

******************************************************************************
commit ccb8e8656020dd8b550dffddf6d2807bc7b8a2d4
Author: florian <florian@freepascal.org>
Date:   Sun Nov 18 14:16:20 2018 +0000

    * fixes arm
    
    git-svn-id: trunk@40350 -

M	compiler/rgobj.pas

******************************************************************************
commit ea69a5b372db2e43190cc502392b965f76290de1
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sun Nov 18 11:07:28 2018 +0000

      * finalizetemps nodes should never be considered equal and have side effects
    
    git-svn-id: trunk@40348 -

M	compiler/nbas.pas
M	compiler/nutils.pas

******************************************************************************
commit 9d56387e7fadbea2e45f49738abc2e376379004f
Author: florian <florian@freepascal.org>
Date:   Sun Nov 18 10:11:13 2018 +0000

    + new spilling heuristics which takes care of the usage weigth of a register,
      not yet activated, can be selected by passing SPILLING_NEW when compiling the compiler
    
    git-svn-id: trunk@40346 -

M	compiler/rgobj.pas

******************************************************************************
commit 3b9f5a5e96f6871b119fa5dd6b68d64ac6bed3cd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Nov 17 22:38:36 2018 +0000

      * moved finalization of code generator temps to a node, so it can be getcopy'd
        (needed for LLVM, where we need two copies of the finally code: one in case
         an exception occurs, and one in case none is raised)
       o also first finalize parameters and only then code generator temps, since
         in theory the former could create more of the latter
    
    git-svn-id: trunk@40345 -

M	compiler/hlcgobj.pas
M	compiler/i386/n386flw.pas
M	compiler/nbas.pas
M	compiler/ncgbas.pas
M	compiler/node.pas
M	compiler/nutils.pas
M	compiler/pass_2.pas
M	compiler/psub.pas
M	compiler/x86_64/nx64flw.pas

******************************************************************************
commit d1361ca6edf25dd49e7184b4312b3ed050a575fd
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Sat Nov 17 22:38:31 2018 +0000

      * fixed adjustments of lower/upper bounds in range test optimization in case
        of strictly smaller/greater comparisons (mantis #34385)
    
    git-svn-id: trunk@40344 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/webtbs/tw34385.pp

******************************************************************************
commit cefb38b6054db7f9978ed12b95c4c6a13cfebe16
Author: florian <florian@freepascal.org>
Date:   Sat Nov 17 15:08:24 2018 +0000

    * better alignment of while loop heads
    
    git-svn-id: trunk@40340 -

M	compiler/ncgflw.pas

******************************************************************************
commit ae8304f65776c3bbccbe89f6eb2981462ca96e52
Author: florian <florian@freepascal.org>
Date:   Sat Nov 17 15:08:23 2018 +0000

    * set nf_write flag properly for vec. nodes of types with implicit dereferencing
    
    git-svn-id: trunk@40339 -

M	compiler/nld.pas
M	compiler/nmem.pas

******************************************************************************
commit 08d6ca72604e14563234849c61ecb13f071fb5f6
Author: florian <florian@freepascal.org>
Date:   Sat Nov 17 15:08:22 2018 +0000

    * better alignment on 386-linux
    
    git-svn-id: trunk@40338 -

M	compiler/systems/i_linux.pas

******************************************************************************
commit 6dbde11f5a46550784eb4d288b765c4339cf3c4c
Author: florian <florian@freepascal.org>
Date:   Sat Nov 17 15:08:22 2018 +0000

    * three operand shl for shifting by 2, 4 or 8 can be simulated by lea
    
    git-svn-id: trunk@40337 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 23570bed33014b272064e963180c76184ed51d1c
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 16 13:26:56 2018 +0000

     Use same parameter type for update_reference_offset override
    
    git-svn-id: trunk@40325 -

M	compiler/llvm/nllvmmem.pas

******************************************************************************
commit 11851d274c8c040067b6e61577f2b1d7cd7052b6
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 16 10:24:27 2018 +0000

     Fix riscv32 compilation error introduced in last commit
    
    git-svn-id: trunk@40323 -

M	compiler/riscv/nrvadd.pas

******************************************************************************
commit 095bd6da7d845178545634c74cb3ee4b7b31bc17
Author: florian <florian@freepascal.org>
Date:   Thu Nov 15 20:07:56 2018 +0000

    * do not re-used gottpoff symbols as they are PC-relative
    
    git-svn-id: trunk@40321 -

M	compiler/arm/aasmcpu.pas

******************************************************************************
commit 7c92412c74ca66345a3f5284e07596c3a138f078
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 15 16:57:57 2018 +0000

     Avoid overflow error in riscv code generator
    
    git-svn-id: trunk@40318 -

M	compiler/riscv/nrvadd.pas

******************************************************************************
commit 6a6ea6729f4d4fd60791e504fd15e72b1342dfb5
Author: florian <florian@freepascal.org>
Date:   Wed Nov 14 18:05:35 2018 +0000

    * i8086 compiler fixed, resolves #34552
    
    git-svn-id: trunk@40316 -

M	compiler/x86/cgx86.pas

******************************************************************************
commit 04debba9dea61e81e1b75f3d2254439cd374bebf
Author: pierre <pierre@freepascal.org>
Date:   Tue Nov 13 11:11:49 2018 +0000

     Fix arm-android compilation by prepending syscall_nr_ prefix also to __ARM_NR_XXX arm specific linux syscalls
    
    git-svn-id: trunk@40300 -

M	rtl/linux/arm/sysnr.inc
M	rtl/linux/system.pp

******************************************************************************
commit c45806c84f088e194a9900fa2f1fd8dacfcf02ee
Author: florian <florian@freepascal.org>
Date:   Sun Nov 11 17:32:21 2018 +0000

    * made test more verbose
    
    git-svn-id: trunk@40283 -

M	tests/webtbs/tw13628b.pp

******************************************************************************
commit e8ebc00b3b863f7072014f469f0f1096225f34ad
Author: florian <florian@freepascal.org>
Date:   Sun Nov 11 17:32:21 2018 +0000

    * redundant code removed, work is meanwhile done by aasmcpu.optimize_ref
    
    git-svn-id: trunk@40282 -

M	compiler/i386/aoptcpu.pas

******************************************************************************
commit 72416edcc465a6f9a9fea43c4219566750fb8db8
Author: florian <florian@freepascal.org>
Date:   Sun Nov 11 17:32:20 2018 +0000

    + support for tlsm_general on i386-linux
    
    git-svn-id: trunk@40281 -

M	compiler/i386/aoptcpu.pas
M	compiler/i386/cpupi.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/agx86att.pas
M	compiler/x86/nx86ld.pas
M	rtl/inc/system.inc
M	rtl/inc/threadh.inc
M	rtl/linux/i386/si_prc.inc
M	rtl/linux/system.pp
M	rtl/unix/cthreads.pp

******************************************************************************
commit a40335de34e27666392983943ce18b4c672c4003
Author: florian <florian@freepascal.org>
Date:   Thu Nov 8 19:57:30 2018 +0000

    * non-linux arm targets fixed
    
    git-svn-id: trunk@40276 -

M	compiler/psub.pas

******************************************************************************
commit e157939b4102eb0b52d0b93e05ba2f1f2021edfd
Author: florian <florian@freepascal.org>
Date:   Thu Nov 8 18:45:16 2018 +0000

    * compilation on x86-64 and i8086 fixed
    
    git-svn-id: trunk@40275 -

M	compiler/x86/agx86att.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/nx86ld.pas

******************************************************************************
commit 4d2d26c3183165ae27d2ced87d124f9d7bcc5f2c
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:04 2018 +0000

    * define renamed into tls_threadvars
    
    git-svn-id: trunk@40274 -

M	compiler/systems/i_bsd.pas
M	compiler/systems/i_linux.pas

******************************************************************************
commit 95acf20544191f4c0d1432b4e4a1fe7db323c05e
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:03 2018 +0000

    * address output updated
    
    git-svn-id: trunk@40273 -

M	tests/webtbs/tw3467.pp

******************************************************************************
commit 063415fa72d9b7e83e5f7fe814845eff10f94374
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:02 2018 +0000

    + i386-linux support for tls-based threadvars
    
    git-svn-id: trunk@40272 -

M	compiler/cgbase.pas
M	compiler/x86/agx86att.pas
M	compiler/x86/cgx86.pas
M	compiler/x86/nx86ld.pas
M	rtl/linux/i386/si_prc.inc
M	rtl/linux/system.pp

******************************************************************************
commit 0d50a63c7de23aea457bbbf9a979dd64870e5a4e
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:01 2018 +0000

    + tsettings.tlsmodel
    
    git-svn-id: trunk@40271 -

M	compiler/globals.pas
M	compiler/globtype.pas
M	compiler/options.pas
M	compiler/scanner.pas

******************************************************************************
commit 9c041afc7c11e9d47a1f866e09881237f0817a71
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:01 2018 +0000

    * disable generic threadvar handling if section thread vars are available
    
    git-svn-id: trunk@40270 -

M	rtl/inc/threadvr.inc
M	rtl/unix/cthreads.pp

******************************************************************************
commit c37c485eb78f7e827cf5b66578935fe32080de5e
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:03:00 2018 +0000

    + check if initialization/finalization code uses implicitly thread vars
    
    git-svn-id: trunk@40269 -

M	compiler/psub.pas

******************************************************************************
commit e949276d9d91fa49e88f014bbb97b8cbf0ea39cd
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:02:59 2018 +0000

    * basic implementation for pure pascal programs to allocate tls space
    
    git-svn-id: trunk@40268 -

M	rtl/linux/arm/prt0.as
M	rtl/linux/arm/syscall.inc
M	rtl/linux/system.pp

******************************************************************************
commit 9f16c34329410b03b01ae0f66c67e2f90c07b864
Author: florian <florian@freepascal.org>
Date:   Wed Nov 7 22:02:58 2018 +0000

    + initial work for tls-based threadvar support on arm-linux
    
    git-svn-id: trunk@40267 -

M	.gitattributes
M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/arm/aoptcpu.pas
M	compiler/arm/cgcpu.pas
M	compiler/arm/cpunode.pas
M	compiler/arm/cpupi.pas
A	compiler/arm/narmld.pas
M	compiler/cgbase.pas
M	compiler/cgobj.pas
M	compiler/globtype.pas
M	compiler/ncgld.pas
M	compiler/nld.pas
M	compiler/procinfo.pas
M	compiler/psub.pas
M	compiler/systems/i_linux.pas
M	compiler/utils/ppuutils/ppudump.pp
M	rtl/arm/arm.inc

******************************************************************************
commit 5c5dc2ed500be380ad85a1eac08c08536f9d1b4a
Author: yury <jura@cp-lab.com>
Date:   Wed Nov 7 12:57:23 2018 +0000

    * Changed verbosity of ""???" not yet supported inside inline procedure/function" to note to be consistent with note "Call to subroutine "?" marked as inline is not inlined".
    
    git-svn-id: trunk@40255 -

M	compiler/msg/errorct.msg
M	compiler/msg/errord.msg
M	compiler/msg/errorda.msg
M	compiler/msg/errordu.msg
M	compiler/msg/errore.msg
M	compiler/msg/errores.msg
M	compiler/msg/errorf.msg
M	compiler/msg/errorfi.msg
M	compiler/msg/errorhe.msg
M	compiler/msg/errorheu.msg
M	compiler/msg/errorid.msg
M	compiler/msg/erroriu.msg
M	compiler/msg/errorn.msg
M	compiler/msg/errorpl.msg
M	compiler/msg/errorpli.msg
M	compiler/msg/errorpt.msg
M	compiler/msg/errorptu.msg
M	compiler/msg/errorr.msg
M	compiler/msg/errorru.msg
M	compiler/msg/errorues.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc
M	compiler/psub.pas

******************************************************************************
commit dd6039716512f6679aacf46e24a5313673a3eaef
Author: yury <jura@cp-lab.com>
Date:   Wed Nov 7 12:20:30 2018 +0000

    + Added the pio_inline_not_possible flag to timplprocoption. It is set if a function can't be inline (contains an assembler block, etc). When calling such functions, no note "Call to subroutine "?" marked as inline is not inlined" is emitted.
    
    git-svn-id: trunk@40254 -

M	compiler/ncal.pas
M	compiler/psub.pas
M	compiler/symconst.pas
M	compiler/utils/ppuutils/ppudump.pp

******************************************************************************
commit b11588693015a51d2cb70f4be4cca08cd3e4ffc5
Author: yury <jura@cp-lab.com>
Date:   Tue Nov 6 10:21:06 2018 +0000

    * po_inline can't be removed from procoptions when the interface part is already parsed. It changes the interface's CRC and causes other units to recompile.
    
    git-svn-id: trunk@40238 -

M	compiler/psub.pas

******************************************************************************
commit 5f1933eecf874f23c756a3544621c0d26ad7737e
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:46:09 2018 +0000

    * Addition to r40225: Forgot to remove inline in the implementation.
    
    git-svn-id: trunk@40227 -

M	compiler/machoutils.pas

******************************************************************************
commit f5ce7c572b7488e7b53763d88cef4a8e9451b891
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:37:01 2018 +0000

    * Removed inline for Unix2AmigaPath since it is not necessary and can't be inlined anyway due to ansistring conversion.
    
    git-svn-id: trunk@40226 -

M	compiler/cfileutl.pas

******************************************************************************
commit a7642b70c14ce826822d39f691b70adfce0a03ac
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:35:23 2018 +0000

    * Removed inline for functions which access private variables and can't be inlined from outside.
    
    git-svn-id: trunk@40225 -

M	compiler/machoutils.pas

******************************************************************************
commit c2c942374d35ac90b5af802a805082f596a19275
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:33:39 2018 +0000

    * Removed inline for methods which are too big.
    
    git-svn-id: trunk@40224 -

M	compiler/symdef.pas

******************************************************************************
commit 95d18cd0525963be91fd1e6fc43864c7cde6cab9
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:18:27 2018 +0000

    * If a function can't be inline (contains an assembler block, etc) remove the po_inline flag from its procoptions.
    
    git-svn-id: trunk@40223 -

M	compiler/psub.pas

******************************************************************************
commit 8fba43609d2e6a3a8fc65690f06ffda024d36752
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 14:00:51 2018 +0000

    + Added overloaded version of stringdup() for ansistring to allow stringdup to be inlined.
    
    git-svn-id: trunk@40221 -

M	compiler/cutils.pas

******************************************************************************
commit c9a7503bbb0728fcde9decb9201bd6a519ce2587
Author: yury <jura@cp-lab.com>
Date:   Mon Nov 5 13:59:59 2018 +0000

    * Rearranged the code to place implementation of inline methods before their usage within this unit.
    
    git-svn-id: trunk@40220 -

M	compiler/cclasses.pas

******************************************************************************
commit 0a3c94bc72b244d10cc16c59d2656d31dd58e34e
Author: yury <jura@cp-lab.com>
Date:   Sun Nov 4 19:50:09 2018 +0000

    * Moved inline methods to the beginning in order to allow them to be actually inlined in this unit.
    
    git-svn-id: trunk@40219 -

M	compiler/ncgrtti.pas

******************************************************************************
commit 0e546d47ca72794e9d3edfd3f15435fc09d9cfa4
Author: pierre <pierre@freepascal.org>
Date:   Fri Nov 2 23:18:54 2018 +0000

     Fix 3 operand version of MatchOpType
    
    git-svn-id: trunk@40196 -

M	compiler/aoptutils.pas

******************************************************************************
commit 9b0ff05ee812e389651a5f0be280ca7837af3dc7
Author: florian <florian@freepascal.org>
Date:   Fri Nov 2 21:32:29 2018 +0000

    - get rid of MaxOps, it is redundant with max_operands
    * MatchOpType with three operands is only available of max_operands>2
    
    git-svn-id: trunk@40190 -

M	compiler/aarch64/aoptcpub.pas
M	compiler/aoptobj.pas
M	compiler/aoptutils.pas
M	compiler/arm/aoptcpub.pas
M	compiler/avr/aoptcpub.pas
M	compiler/i386/aoptcpub.pas
M	compiler/i8086/aoptcpub.pas
M	compiler/jvm/aoptcpub.pas
M	compiler/m68k/aoptcpub.pas
M	compiler/mips/aoptcpub.pas
M	compiler/powerpc/aoptcpub.pas
M	compiler/powerpc64/aoptcpub.pas
M	compiler/riscv32/aoptcpub.pas
M	compiler/riscv64/aoptcpub.pas
M	compiler/sparcgen/aoptcpub.pas
M	compiler/x86_64/aoptcpub.pas

******************************************************************************
commit a19528efa1145e2403104931dcd153515c215810
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 19:22:46 2018 +0000

    * Fixed warnings.
    
    git-svn-id: trunk@40188 -

M	rtl/inc/generic.inc
M	rtl/inc/ustrings.inc

******************************************************************************
commit 78a26e53f800e319dda7ccf6d95f76b7586544a0
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 19:04:52 2018 +0000

    * Fixed warnings.
    
    git-svn-id: trunk@40187 -

M	rtl/android/sysandroid.inc
M	rtl/linux/system.pp

******************************************************************************
commit a077e0dd90cba0fa1e388ea2101abf66f6d394b3
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 19:04:26 2018 +0000

    * Fixed comparison.
    
    git-svn-id: trunk@40186 -

M	rtl/inc/system.inc

******************************************************************************
commit 30d64cec68371f819a3460aba3d9776770d08977
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 18:51:19 2018 +0000

    * Removed unused local vars.
    
    git-svn-id: trunk@40185 -

M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas

******************************************************************************
commit a0262525085fe0ea885f8571d336a366c4c750cc
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 18:47:34 2018 +0000

    * Commented out unused "size" local var.
    
    git-svn-id: trunk@40184 -

M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 4357caaad882705021c49bab78882f65fe52a612
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 18:44:29 2018 +0000

    * Removed unused local vars.
    
    git-svn-id: trunk@40183 -

M	compiler/aarch64/aasmcpu.pas
M	compiler/aarch64/aoptcpu.pas
M	compiler/aarch64/cgcpu.pas
M	compiler/aarch64/ncpucnv.pas
M	compiler/aarch64/ncpuinl.pas
M	compiler/aarch64/racpugas.pas
M	compiler/aasmcnst.pas
M	compiler/i386/aoptcpu.pas
M	compiler/nadd.pas
M	compiler/ncgrtti.pas
M	compiler/ninl.pas
M	compiler/ogbase.pas
M	compiler/options.pas
M	compiler/pdecsub.pas
M	compiler/psub.pas
M	compiler/rgobj.pas
M	compiler/symdef.pas
M	compiler/x86/aasmcpu.pas
M	compiler/x86/agx86int.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86/nx86inl.pas
M	compiler/x86/nx86mat.pas
M	compiler/x86/nx86set.pas
M	compiler/x86_64/cpupara.pas

******************************************************************************
commit 2dc64e5fae911dbf7cd67233c39eb6b919aeedad
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 18:21:26 2018 +0000

    * Reverted r40181 because the "not inlined" notes are issued not due to access to private fields, but due to string conversion. It need to be fixed by overloaded versions of some methods.
    
    git-svn-id: trunk@40182 -

M	compiler/cclasses.pas

******************************************************************************
commit fa2d82f8795c06a3964e462d5ba55ad16df5e06e
Author: yury <jura@cp-lab.com>
Date:   Fri Nov 2 16:55:33 2018 +0000

    * Removed 'inline' from public methods of TFPObjectList and TFPHashObjectList since they use private fields and can not be inlined when called from other units.
    
    git-svn-id: trunk@40181 -

M	compiler/cclasses.pas

******************************************************************************
commit 2a9ce2ed6cc1cbdb8623cccfbf19e4981fa793d5
Author: pierre <pierre@freepascal.org>
Date:   Thu Nov 1 23:04:18 2018 +0000

     Disable three operand overload of MatchOpType for avr and jvm targets, which only have 2 operands max
    
    git-svn-id: trunk@40170 -

M	compiler/aoptutils.pas

******************************************************************************
commit 59d5d6ec9536d2e2181d1407448835c5b64614fe
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:20 2018 +0000

    + factored out TX86AsmOptimizer.PrePeepholeOptIMUL, used now by x86-64 and i386
    * generalized and simplified the code
    
    git-svn-id: trunk@40162 -

M	compiler/aoptutils.pas
M	compiler/i386/aoptcpu.pas
M	compiler/x86/aoptx86.pas
M	compiler/x86_64/aoptcpu.pas

******************************************************************************
commit 47c9bca7f23ab952ff0fe35ddf5aed3935de2613
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:19 2018 +0000

    * number of cycles slightly increased for better measurements
    
    git-svn-id: trunk@40161 -

M	tests/bench/drystone.pas

******************************************************************************
commit 2a016889de1ba62b9791ff68ac039843a4ab899b
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:18 2018 +0000

    * skip align directives after unconditional jumps
    
    git-svn-id: trunk@40160 -

M	compiler/aoptobj.pas
M	compiler/i386/aoptcpu.pas

******************************************************************************
commit a092da723abb7caca19994e66e60288060bf0c79
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:17 2018 +0000

    + new fields for more precise control of alignment
    + support of new alignment control values for GNU AS writer
    + support of new alignment control values for binary writer
    * better alignment settings on i386-win32
    * improved inserted align directives for if nodes
    
    git-svn-id: trunk@40159 -

M	compiler/aasmtai.pas
M	compiler/aggas.pas
M	compiler/assemble.pas
M	compiler/globals.pas
M	compiler/ncgflw.pas
M	compiler/options.pas
M	compiler/scanner.pas
M	compiler/systems.pas
M	compiler/systems/i_aix.pas
M	compiler/systems/i_amiga.pas
M	compiler/systems/i_android.pas
M	compiler/systems/i_aros.pas
M	compiler/systems/i_atari.pas
M	compiler/systems/i_beos.pas
M	compiler/systems/i_bsd.pas
M	compiler/systems/i_embed.pas
M	compiler/systems/i_emx.pas
M	compiler/systems/i_gba.pas
M	compiler/systems/i_go32v2.pas
M	compiler/systems/i_haiku.pas
M	compiler/systems/i_jvm.pas
M	compiler/systems/i_linux.pas
M	compiler/systems/i_macos.pas
M	compiler/systems/i_morph.pas
M	compiler/systems/i_msdos.pas
M	compiler/systems/i_nativent.pas
M	compiler/systems/i_nds.pas
M	compiler/systems/i_nwl.pas
M	compiler/systems/i_nwm.pas
M	compiler/systems/i_os2.pas
M	compiler/systems/i_palmos.pas
M	compiler/systems/i_sunos.pas
M	compiler/systems/i_symbian.pas
M	compiler/systems/i_watcom.pas
M	compiler/systems/i_wdosx.pas
M	compiler/systems/i_wii.pas
M	compiler/systems/i_win.pas
M	compiler/systems/i_win16.pas

******************************************************************************
commit 64e8557180e68379b17d2d1a32b584c57893ffbf
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:15 2018 +0000

    + introduce tai_align_abstract.create_max which limits the maximal number of bytes being inserted for alignment
    
    git-svn-id: trunk@40158 -

M	compiler/aasmtai.pas

******************************************************************************
commit cdce68451adb2285d3333a059f6003e1b32d55d7
Author: florian <florian@freepascal.org>
Date:   Thu Nov 1 20:49:15 2018 +0000

    - x86 align does not use a register anymore, code removed
    
    git-svn-id: trunk@40157 -

M	compiler/x86/aasmcpu.pas

******************************************************************************
commit 011968e74b105e7fba13f10d1bf0c35931feff0b
Author: Jonas Maebe <jonas@freepascal.org>
Date:   Thu Nov 1 20:39:41 2018 +0000

      * replaced "is" test with faster field value test
    
    git-svn-id: trunk@40156 -

M	compiler/ncal.pas

******************************************************************************
commit cd209cea53e17ec7056a7b414a976ce61b236636
Author: florian <florian@freepascal.org>
Date:   Mon Oct 29 19:16:14 2018 +0000

    * fix test for windows
    
    git-svn-id: trunk@40091 -

M	tests/webtbs/tw34442.pp

******************************************************************************
commit 18a45d94a36cd61afd82e4313142190af31a74cb
Author: florian <florian@freepascal.org>
Date:   Sun Oct 28 16:21:06 2018 +0000

    * version update
    
    git-svn-id: trunk@40068 -

M	compiler/ppcppc.lpi

******************************************************************************
commit bf4eda478d267055cabd7621ffb48ad59be4553b
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 27 18:13:33 2018 +0000

    * SetExecutionWeight(): Set execution weight also for nodes with special handling. Minor code cleanup/improvements.
    * Restore previous execution weight before exiting secondpass().
    * It all improves register allocation for variables inside loops in some cases.
    
    git-svn-id: trunk@40059 -

M	compiler/optutils.pas
M	compiler/pass_2.pas

******************************************************************************
commit 2b459b30d20db31236b4fe1695865faa9f2976fe
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 27 11:32:22 2018 +0000

    * Optimized generic implementations of tcg.a_op_const_ref() and tcg.a_op_reg_ref() for PIC and CPUs which need 2 or more instructions to load a symbol's value by reference.
      First the symbol's address is taken and then it is used to load the value and also store the result. It eliminates extra calculation of the symbol's address needed to store the result.
      x86 and other CPUs which can handle refs ops directly or more efficiently already have overloaded versions of these methods and are not affected by this change.
    
    git-svn-id: trunk@40050 -

M	compiler/cgobj.pas

******************************************************************************
commit 112fb4613b0e0f014f12bc29da7ed2dcbe99a1d1
Author: florian <florian@freepascal.org>
Date:   Wed Oct 24 17:38:51 2018 +0000

    * take care of the fact that x and w registers overlap when carrying out the Str/LdrAdd/Sub2Str/Ldr Postindex optimization
    
    git-svn-id: trunk@40023 -

M	compiler/aarch64/aoptcpu.pas

******************************************************************************
commit 0a5e6d29cb32b42dd488fd5b0c9f377e138f5d63
Author: florian <florian@freepascal.org>
Date:   Tue Oct 23 20:41:27 2018 +0000

    + implement assembler optimization Str/LdrAdd/Sub2Str/Ldr Postindex done
    
    git-svn-id: trunk@40017 -

M	compiler/aarch64/aoptcpu.pas
M	compiler/aarch64/cpubase.pas

******************************************************************************
commit 379c2fe821cbbba289662d2db0acdafde41d29b8
Author: florian <florian@freepascal.org>
Date:   Mon Oct 22 21:27:36 2018 +0000

    * cleanup debug code
    
    git-svn-id: trunk@40016 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit f27fee55662aef795e91eb821cf76e7ee6c4c6cc
Author: florian <florian@freepascal.org>
Date:   Mon Oct 22 21:23:48 2018 +0000

    + make use of the BFI instruction in tcgaarch64.a_load_ref_reg_unaligned
    
    git-svn-id: trunk@40015 -

M	compiler/aarch64/cgcpu.pas

******************************************************************************
commit 33463c86983c8db5cb3a903921f8acbd600099a2
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 20:50:21 2018 +0000

    * moved align helper so it actually gets inlined
    
    git-svn-id: trunk@40011 -

M	rtl/inc/generic.inc

******************************************************************************
commit 88589fb99d4b12450a982445d52c9590a5893a31
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 14:52:21 2018 +0000

    * make install shall not make assumptions about FPC, if one was provided
    
    git-svn-id: trunk@40007 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 02e03cbd860dbbc9b32385d2a1132d3f6ee6c4d7
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 13:35:44 2018 +0000

    * use the built compiler to install files, so the version is set correctly
    
    git-svn-id: trunk@40006 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 6521918269eb70102aba2c4c5dcf03645b53a766
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 13:16:57 2018 +0000

    * fullinstall builds (and installs) utils now only once
    
    git-svn-id: trunk@40005 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit af7dfbc970145b96fb3b1da40d80eee77dc6211f
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 12:14:26 2018 +0000

    * typo
    
    git-svn-id: trunk@40004 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 9febce6ffbe18b5cc3a630bcdb5da3d690fb3dad
Author: florian <florian@freepascal.org>
Date:   Sun Oct 21 11:40:57 2018 +0000

    * remove .NOTPARALLEL: from compiler Makefile, accelerates make fullcycle with -j a lot
    * few cleanups
    
    git-svn-id: trunk@40003 -

M	compiler/Makefile
M	compiler/Makefile.fpc

******************************************************************************
commit 116f36fe56bb53c4ead4752335f07411e678aeb8
Author: florian <florian@freepascal.org>
Date:   Sat Oct 20 10:17:34 2018 +0000

    * avoid range check errors
    
    git-svn-id: trunk@39990 -

M	compiler/nadd.pas
M	compiler/powerpc/rappcgas.pas

******************************************************************************
commit a9972b430977a23c3e1ea893e19a1b7bed3cf697
Author: yury <jura@cp-lab.com>
Date:   Thu Oct 18 16:42:05 2018 +0000

    * Disabled some tests for android.
    
    git-svn-id: trunk@39981 -

M	tests/test/tover4.pp
M	tests/webtbs/tw10641.pp
M	tests/webtbs/tw14862g.pp
M	tests/webtbs/tw29893.pp

******************************************************************************
commit bcf03a52d897c926adda3521c489eb5328d72f10
Author: yury <jura@cp-lab.com>
Date:   Thu Oct 18 13:05:45 2018 +0000

    * Disabled some tests for android since they turn PIC off.
    
    git-svn-id: trunk@39972 -

M	tests/test/tasm10.pp
M	tests/test/tasm10a.pp
M	tests/test/tasm21b.pp
M	tests/test/tasm26.pp

******************************************************************************
commit aa6f6423b23d1e72640b09fceac64e544a8c2030
Author: yury <jura@cp-lab.com>
Date:   Thu Oct 18 12:31:23 2018 +0000

    * tests: On x86_64-android long double is 128-bit. There is no support for 128-bit floats in FPC yet. So disable long double tests for x86_64-android for now.
    
    git-svn-id: trunk@39970 -

M	tests/test/cg/tcalext.pp
M	tests/test/cg/tcalext6.pp
M	tests/test/cg/tprintf.pp
M	tests/test/cg/tprintf2.pp
M	tests/test/cg/tprintf3.pp

******************************************************************************
commit c0c602f76dee156f753f3b4c6f5393efde3d7898
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Wed Oct 17 20:53:51 2018 +0000

    * fix tests as depending on the platform the first parameter in the RTTI data might *not* be $self
    
    git-svn-id: trunk@39965 -

M	tests/test/trtti15.pp
M	tests/webtbs/tw2886.pp

******************************************************************************
commit 7eb9b23fa5224f9ae4f9db985f8f163a7753bd63
Author: yury <jura@cp-lab.com>
Date:   Wed Oct 17 18:56:29 2018 +0000

    * Reverted r39961.
    
    git-svn-id: trunk@39962 -

M	compiler/options.pas

******************************************************************************
commit 692c287c3e3d006e54eb72fab484b00a2ad3a6f2
Author: yury <jura@cp-lab.com>
Date:   Wed Oct 17 18:46:04 2018 +0000

    * Undef FPC_HAS_TYPE_EXTENDED for x86_64-android.
    
    git-svn-id: trunk@39961 -

M	compiler/options.pas

******************************************************************************
commit a29290202f7fc8f440d965f74ba2c0740130324f
Author: yury <jura@cp-lab.com>
Date:   Wed Oct 17 17:12:20 2018 +0000

    * Regenerated makefiles to support x86_64-android.
    
    git-svn-id: trunk@39958 -

M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit e60a5ebfe76d8935112337011c7919c134388f49
Author: yury <jura@cp-lab.com>
Date:   Wed Oct 17 13:18:45 2018 +0000

    * Fixed overflow error for the qword version of align() when i=0.
    
    git-svn-id: trunk@39954 -

M	compiler/cutils.pas

******************************************************************************
commit c306f57ecbcd6098f8442cdb38c3a1e8ea2e13eb
Author: yury <jura@cp-lab.com>
Date:   Wed Oct 17 08:52:57 2018 +0000

    * Reverted  r39947. According to Sven, the $self parameters is not required to be first parameter in RTTI. Appropriate tests will be fixed.
    
    git-svn-id: trunk@39952 -

M	compiler/ncgrtti.pas

******************************************************************************
commit 84b5129f1dc443351e7b914686bf70e9b81b99f6
Author: yury <jura@cp-lab.com>
Date:   Tue Oct 16 17:24:07 2018 +0000

    * Fixed writing of method's RTTI for aarch64 by explicitly writing the $self parameter first.
    
    git-svn-id: trunk@39947 -

M	compiler/ncgrtti.pas

******************************************************************************
commit 4c0a213f0d07ebf3ed1d8309fb4848bc445bd28d
Author: pierre <pierre@freepascal.org>
Date:   Tue Oct 16 10:41:27 2018 +0000

     Add -Tlinux and -Tembedded help lines for riscv32 and riscv64 compilers
    
    git-svn-id: trunk@39945 -

M	compiler/msg/errore.msg
M	compiler/msgidx.inc
M	compiler/msgtxt.inc

******************************************************************************
commit aa89182bf5f55404265650497f976f741d7506df
Author: pierre <pierre@freepascal.org>
Date:   Sat Oct 13 11:34:53 2018 +0000

     Fix compilation with -dEXTDEBUG
    
    git-svn-id: trunk@39923 -

M	compiler/riscv/cgrv.pas
M	compiler/riscv64/hlcgcpu.pas

******************************************************************************
commit 68bcffc3e0c358a7dc84ff3a9dfe3f12ddd9f132
Author: pierre <pierre@freepascal.org>
Date:   Sat Oct 13 09:47:29 2018 +0000

     Fix riscv64 compiler compilation with -dEXTDEBUG
    
    git-svn-id: trunk@39922 -

M	compiler/riscv64/hlcgcpu.pas

******************************************************************************
commit 9ef7a17390094756adfcd480bea058de3fb2b2a2
Author: yury <jura@cp-lab.com>
Date:   Fri Oct 12 15:08:30 2018 +0000

    * Delete temp files after test.
    
    git-svn-id: trunk@39918 -

M	tests/test/tisoext1.pp
M	tests/test/tisoext4.pp

******************************************************************************
commit 4860f3934a5b7ee9242a4b90717807f55730f8fa
Author: yury <jura@cp-lab.com>
Date:   Fri Oct 12 14:38:14 2018 +0000

    * Fixed overflow error when calling align() with corner case values such as align($7FFFFFFC, 4) for the longint variant.
    
    git-svn-id: trunk@39915 -

M	compiler/cutils.pas

******************************************************************************
commit 2f6b15b1e2d9f02b1222345e9f6bd41df35771d2
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Mon Oct 8 05:43:44 2018 +0000

    * fix tests now that the RTTI of method pointer variables also contains the hidden parameters
    
    git-svn-id: trunk@39901 -

M	tests/webtbs/tw12038.pp
M	tests/webtbs/tw2886.pp

******************************************************************************
commit 40598944f80a7e50128c10e037c9d21407a42131
Author: florian <florian@freepascal.org>
Date:   Sun Oct 7 10:10:20 2018 +0000

    + support fpc include output in avx test generation code
    
    git-svn-id: trunk@39876 -

M	tests/utils/avx/avxopcodes.pas
M	tests/utils/avx/avxtestgenerator.lpi
M	tests/utils/avx/avxtestgenerator.pp
M	tests/utils/avx/options.pas
M	tests/utils/avx/readme.txt

******************************************************************************
commit 8943c0584edc3089df819481e646371ebeae03f7
Author: florian <florian@freepascal.org>
Date:   Sun Oct 7 10:10:19 2018 +0000

    + patch by J. Gareth Moreton to support BMI2 instructions
    + extended avx test generator with the newly added BMI2 instructions
    
    git-svn-id: trunk@39875 -

M	compiler/i386/i386att.inc
M	compiler/i386/i386atts.inc
M	compiler/i386/i386int.inc
M	compiler/i386/i386nop.inc
M	compiler/i386/i386op.inc
M	compiler/i386/i386prop.inc
M	compiler/i386/i386tab.inc
M	compiler/i8086/i8086att.inc
M	compiler/i8086/i8086atts.inc
M	compiler/i8086/i8086int.inc
M	compiler/i8086/i8086nop.inc
M	compiler/i8086/i8086op.inc
M	compiler/i8086/i8086prop.inc
M	compiler/i8086/i8086tab.inc
M	compiler/x86/x86ins.dat
M	compiler/x86_64/x8664ats.inc
M	compiler/x86_64/x8664att.inc
M	compiler/x86_64/x8664int.inc
M	compiler/x86_64/x8664nop.inc
M	compiler/x86_64/x8664op.inc
M	compiler/x86_64/x8664pro.inc
M	compiler/x86_64/x8664tab.inc
M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 172384feddf1efb5a2ec4525972f8765dd7ed0c6
Author: florian <florian@freepascal.org>
Date:   Sun Oct 7 10:10:17 2018 +0000

    * fix to write correct output file name
    
    git-svn-id: trunk@39874 -

M	tests/utils/avx/avxopcodes.pas

******************************************************************************
commit 5604e98b1cb8f6d6b4c33daa096315c0f510818b
Author: florian <florian@freepascal.org>
Date:   Sun Oct 7 10:10:16 2018 +0000

    + lazarus project files for the avx assembler test generators
    
    git-svn-id: trunk@39873 -

M	.gitattributes
A	tests/utils/avx/avxtestfilecmp.lpi
A	tests/utils/avx/avxtestgenerator.lpi

******************************************************************************
commit ff3d7862d6ae93341c08514f02da0a0019bb8e09
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 6 15:10:24 2018 +0000

    * Erase the temp file.
    
    git-svn-id: trunk@39868 -

M	tests/webtbs/tw32938.pp

******************************************************************************
commit ddb4e37104a4923d4fb2841e89190769dba2f86c
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 6 13:58:05 2018 +0000

    * Define slowcpu for android.
    
    git-svn-id: trunk@39867 -

M	tests/webtbs/tw8177.pp

******************************************************************************
commit 46b89f0ef97ada43531294be3214102723bfd325
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 6 10:03:36 2018 +0000

    * Modified test to not create sub-dirs outside the test's directory.
    
    git-svn-id: trunk@39864 -

M	tests/test/units/system/tdir.pp

******************************************************************************
commit 8c59eb1ce5f3632fc6f63c974755c5f6abc51a8f
Author: yury <jura@cp-lab.com>
Date:   Sat Oct 6 09:36:03 2018 +0000

    * Regenerated makefiles to support aarch64-android.
    
    git-svn-id: trunk@39863 -

M	.gitattributes
M	Makefile
M	compiler/Makefile
M	compiler/utils/Makefile
M	installer/Makefile
M	packages/Makefile
M	packages/a52/Makefile
M	packages/ami-extra/Makefile
M	packages/amunits/Makefile
M	packages/arosunits/Makefile
M	packages/aspell/Makefile
M	packages/bfd/Makefile
M	packages/bzip2/Makefile
M	packages/cairo/Makefile
M	packages/cdrom/Makefile
M	packages/cdrom/examples/Makefile
M	packages/chm/Makefile
M	packages/cocoaint/Makefile
M	packages/dblib/Makefile
M	packages/dbus/Makefile
M	packages/dbus/examples/Makefile
M	packages/dts/Makefile
M	packages/fastcgi/Makefile
M	packages/fcl-async/Makefile
M	packages/fcl-base/Makefile
M	packages/fcl-base/examples/Makefile
M	packages/fcl-db/Makefile
M	packages/fcl-db/src/base/Makefile
M	packages/fcl-db/src/codegen/Makefile
M	packages/fcl-db/src/datadict/Makefile
M	packages/fcl-db/src/dbase/Makefile
M	packages/fcl-db/src/export/Makefile
M	packages/fcl-db/src/json/Makefile
M	packages/fcl-db/src/memds/Makefile
M	packages/fcl-db/src/paradox/Makefile
M	packages/fcl-db/src/sdf/Makefile
M	packages/fcl-db/src/sql/Makefile
M	packages/fcl-db/src/sqldb/Makefile
M	packages/fcl-db/src/sqldb/interbase/Makefile
M	packages/fcl-db/src/sqldb/mssql/Makefile
M	packages/fcl-db/src/sqldb/mysql/Makefile
M	packages/fcl-db/src/sqldb/odbc/Makefile
M	packages/fcl-db/src/sqldb/oracle/Makefile
M	packages/fcl-db/src/sqldb/postgres/Makefile
M	packages/fcl-db/src/sqldb/sqlite/Makefile
M	packages/fcl-db/src/sqlite/Makefile
M	packages/fcl-db/tests/Makefile
M	packages/fcl-extra/Makefile
M	packages/fcl-extra/examples/Makefile
M	packages/fcl-fpcunit/Makefile
M	packages/fcl-fpcunit/src/exampletests/Makefile
M	packages/fcl-fpcunit/src/tests/Makefile
M	packages/fcl-image/Makefile
M	packages/fcl-image/examples/Makefile
M	packages/fcl-js/Makefile
M	packages/fcl-json/Makefile
M	packages/fcl-net/Makefile
M	packages/fcl-net/examples/Makefile
M	packages/fcl-passrc/Makefile
M	packages/fcl-pdf/Makefile
M	packages/fcl-process/Makefile
M	packages/fcl-registry/Makefile
M	packages/fcl-registry/tests/Makefile
M	packages/fcl-report/Makefile
M	packages/fcl-res/Makefile
M	packages/fcl-sdo/Makefile
M	packages/fcl-sound/Makefile
M	packages/fcl-stl/Makefile
M	packages/fcl-web/Makefile
M	packages/fcl-web/src/base/Makefile
M	packages/fcl-web/src/jsonrpc/Makefile
M	packages/fcl-web/src/webdata/Makefile
M	packages/fcl-xml/Makefile
M	packages/fftw/Makefile
M	packages/fpgtk/Makefile
M	packages/fpgtk/examples/Makefile
M	packages/fpindexer/Makefile
M	packages/fpmkunit/Makefile
M	packages/fppkg/Makefile
M	packages/fuse/Makefile
M	packages/fv/Makefile
M	packages/fv/examples/Makefile
M	packages/gdbint/Makefile
M	packages/gdbm/Makefile
M	packages/gdbm/examples/Makefile
M	packages/ggi/Makefile
M	packages/ggi/examples/Makefile
M	packages/gmp/Makefile
M	packages/gmp/examples/Makefile
M	packages/gnome1/Makefile
M	packages/googleapi/Makefile
M	packages/graph/Makefile
M	packages/gtk1/Makefile
M	packages/gtk1/examples/Makefile
M	packages/gtk1/examples/tutorial/Makefile
M	packages/gtk1/src/gtkgl/Makefile
M	packages/gtk2/Makefile
M	packages/gtk2/examples/Makefile
M	packages/gtk2/examples/filechooser/Makefile
M	packages/gtk2/examples/gettingstarted/Makefile
M	packages/gtk2/examples/gtk_demo/Makefile
M	packages/gtk2/examples/gtkglext/Makefile
M	packages/gtk2/examples/helloworld/Makefile
M	packages/gtk2/examples/helloworld2/Makefile
M	packages/gtk2/examples/plugins/Makefile
M	packages/gtk2/examples/scribble_simple/Makefile
M	packages/hash/Makefile
M	packages/hash/examples/Makefile
M	packages/hermes/Makefile
M	packages/httpd13/Makefile
M	packages/httpd20/Makefile
M	packages/httpd20/examples/Makefile
M	packages/httpd22/Makefile
M	packages/httpd22/examples/Makefile
M	packages/httpd24/Makefile
M	packages/httpd24/examples/Makefile
M	packages/ibase/Makefile
M	packages/ibase/examples/Makefile
M	packages/iconvenc/Makefile
M	packages/iconvenc/examples/Makefile
M	packages/ide/Makefile
M	packages/ide/compiler/Makefile
M	packages/ide/fakegdb/Makefile
M	packages/imagemagick/Makefile
M	packages/imlib/Makefile
M	packages/iosxlocale/Makefile
M	packages/jni/Makefile
M	packages/ldap/Makefile
M	packages/libc/Makefile
M	packages/libcups/Makefile
M	packages/libcurl/Makefile
M	packages/libcurl/examples/Makefile
M	packages/libenet/Makefile
M	packages/libffi/Makefile
M	packages/libfontconfig/Makefile
M	packages/libgbafpc/Makefile
M	packages/libgbafpc/examples/Makefile
M	packages/libgbafpc/examples/audio/Makefile
M	packages/libgbafpc/examples/audio/PlayBoyScout/Makefile
M	packages/libgbafpc/examples/graphics/Makefile
M	packages/libgbafpc/examples/graphics/PCXView/Makefile
M	packages/libgbafpc/examples/graphics/SimpleBGScroll/Makefile
M	packages/libgbafpc/examples/graphics/ansi_console/Makefile
M	packages/libgbafpc/examples/template/Makefile
M	packages/libgc/Makefile
M	packages/libgd/Makefile
M	packages/libgd/examples/Makefile
M	packages/libmicrohttpd/Makefile
M	packages/libndsfpc/Makefile
M	packages/libndsfpc/examples/Makefile
M	packages/libndsfpc/examples/audio/Makefile
M	packages/libndsfpc/examples/audio/maxmod/Makefile
M	packages/libndsfpc/examples/audio/maxmod/audio_modes/Makefile
M	packages/libndsfpc/examples/audio/maxmod/basic_sound/Makefile
M	packages/libndsfpc/examples/audio/maxmod/reverb/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example/Makefile
M	packages/libndsfpc/examples/audio/maxmod/song_events_example2/Makefile
M	packages/libndsfpc/examples/audio/maxmod/streaming/Makefile
M	packages/libndsfpc/examples/audio/micrecord/Makefile
M	packages/libndsfpc/examples/card/Makefile
M	packages/libndsfpc/examples/card/eeprom/Makefile
M	packages/libndsfpc/examples/debugging/Makefile
M	packages/libndsfpc/examples/debugging/exceptionTest/Makefile
M	packages/libndsfpc/examples/ds_motion/Makefile
M	packages/libndsfpc/examples/dswifi/Makefile
M	packages/libndsfpc/examples/dswifi/ap_search/Makefile
M	packages/libndsfpc/examples/dswifi/autoconnect/Makefile
M	packages/libndsfpc/examples/dswifi/httpget/Makefile
M	packages/libndsfpc/examples/filesystem/Makefile
M	packages/libndsfpc/examples/filesystem/embedded_gbfs/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_dir/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/access_file/Makefile
M	packages/libndsfpc/examples/filesystem/libfat/libfatdir/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/Makefile
M	packages/libndsfpc/examples/filesystem/nitrofs/nitrodir/Makefile
M	packages/libndsfpc/examples/gl2d/2Dplus3D/Makefile
M	packages/libndsfpc/examples/gl2d/Makefile
M	packages/libndsfpc/examples/gl2d/dual_screen/Makefile
M	packages/libndsfpc/examples/gl2d/fonts/Makefile
M	packages/libndsfpc/examples/gl2d/primitives/Makefile
M	packages/libndsfpc/examples/gl2d/scrolling/Makefile
M	packages/libndsfpc/examples/gl2d/sprites/Makefile
M	packages/libndsfpc/examples/graphics/3D/3D_Both_Screens/Makefile
M	packages/libndsfpc/examples/graphics/3D/BoxTest/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List/Makefile
M	packages/libndsfpc/examples/graphics/3D/Display_List_2/Makefile
M	packages/libndsfpc/examples/graphics/3D/Env_Mapping/Makefile
M	packages/libndsfpc/examples/graphics/3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Mixed_Text_3D/Makefile
M	packages/libndsfpc/examples/graphics/3D/Ortho/Makefile
M	packages/libndsfpc/examples/graphics/3D/Paletted_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Picking/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Simple_Tri/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Cube/Makefile
M	packages/libndsfpc/examples/graphics/3D/Textured_Quad/Makefile
M	packages/libndsfpc/examples/graphics/3D/Toon_Shading/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson01/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson02/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson03/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson04/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson05/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson06/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson07/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson08/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson09/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson10b/Makefile
M	packages/libndsfpc/examples/graphics/3D/nehe/lesson11/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/16bit_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/256_color_bmp/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Double_Buffer/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/all_in_one/Makefile
M	packages/libndsfpc/examples/graphics/Backgrounds/rotation/Makefile
M	packages/libndsfpc/examples/graphics/Effects/Makefile
M	packages/libndsfpc/examples/graphics/Effects/windows/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/Makefile
M	packages/libndsfpc/examples/graphics/Ext_Palettes/backgrounds/Makefile
M	packages/libndsfpc/examples/graphics/Makefile
M	packages/libndsfpc/examples/graphics/Printing/Makefile
M	packages/libndsfpc/examples/graphics/Printing/ansi_console/Makefile
M	packages/libndsfpc/examples/graphics/Printing/console_windows/Makefile
M	packages/libndsfpc/examples/graphics/Printing/custom_font/Makefile
M	packages/libndsfpc/examples/graphics/Printing/print_both_screens/Makefile
M	packages/libndsfpc/examples/graphics/Printing/rotscale_text/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/allocation_test/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/animate_simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/bitmap_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/fire_and_sprites/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/simple/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_extended_palettes/Makefile
M	packages/libndsfpc/examples/graphics/Sprites/sprite_rotate/Makefile
M	packages/libndsfpc/examples/hello_world/Makefile
M	packages/libndsfpc/examples/input/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_area/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_look/Makefile
M	packages/libndsfpc/examples/input/Touch_Pad/touch_test/Makefile
M	packages/libndsfpc/examples/input/keyboard/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_async/Makefile
M	packages/libndsfpc/examples/input/keyboard/keyboard_stdin/Makefile
M	packages/libndsfpc/examples/time/Makefile
M	packages/libndsfpc/examples/time/RealTimeClock/Makefile
M	packages/libndsfpc/examples/time/stopwatch/Makefile
M	packages/libndsfpc/examples/time/timercallback/Makefile
M	packages/libogcfpc/Makefile
M	packages/libogcfpc/examples/Makefile
M	packages/libogcfpc/examples/audio/Makefile
M	packages/libogcfpc/examples/audio/modplay/Makefile
M	packages/libogcfpc/examples/audio/mp3player/Makefile
M	packages/libogcfpc/examples/devices/Makefile
M	packages/libogcfpc/examples/devices/network/Makefile
M	packages/libogcfpc/examples/devices/network/sockettest/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/Makefile
M	packages/libogcfpc/examples/devices/usbgecko/gdbstub/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/Makefile
M	packages/libogcfpc/examples/devices/usbkeyboard/basic_stdin/Makefile
M	packages/libogcfpc/examples/filesystem/Makefile
M	packages/libogcfpc/examples/filesystem/directory/Makefile
M	packages/libogcfpc/examples/graphics/Makefile
M	packages/libogcfpc/examples/graphics/gx/Makefile
M	packages/libogcfpc/examples/graphics/gx/gxSprites/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson1/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson2/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson3/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson4/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson5/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson6/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson7/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson8/Makefile
M	packages/libogcfpc/examples/graphics/gx/neheGX/lesson9/Makefile
M	packages/libogcfpc/examples/graphics/gx/triangle/Makefile
M	packages/libogcfpc/examples/template/Makefile
M	packages/libpng/Makefile
M	packages/librsvg/Makefile
M	packages/libsee/Makefile
M	packages/libsee/examples/Makefile
M	packages/libtar/Makefile
M	packages/libusb/Makefile
M	packages/libvlc/Makefile
M	packages/libxml/Makefile
M	packages/libxml/examples/Makefile
M	packages/lua/Makefile
M	packages/mad/Makefile
M	packages/matroska/Makefile
M	packages/modplug/Makefile
M	packages/morphunits/Makefile
M	packages/mysql/Makefile
M	packages/mysql/examples/Makefile
M	packages/ncurses/Makefile
M	packages/ncurses/examples/Makefile
M	packages/newt/Makefile
M	packages/newt/examples/Makefile
M	packages/numlib/Makefile
M	packages/numlib/examples/Makefile
M	packages/nvapi/Makefile
M	packages/objcrtl/Makefile
M	packages/odata/Makefile
M	packages/odbc/Makefile
M	packages/odbc/examples/Makefile
M	packages/oggvorbis/Makefile
M	packages/openal/Makefile
M	packages/openal/examples/Makefile
M	packages/opencl/Makefile
M	packages/opengl/Makefile
M	packages/opengl/examples/Makefile
M	packages/opengles/Makefile
M	packages/opengles/examples/Makefile
M	packages/openssl/Makefile
M	packages/oracle/Makefile
M	packages/oracle/examples/Makefile
M	packages/os2units/Makefile
M	packages/os2units/examples/Makefile
M	packages/os4units/Makefile
M	packages/palmunits/Makefile
M	packages/pasjpeg/Makefile
M	packages/pastojs/Makefile
M	packages/paszlib/Makefile
M	packages/paszlib/examples/Makefile
M	packages/pcap/Makefile
M	packages/postgres/Makefile
M	packages/postgres/examples/Makefile
M	packages/proj4/Makefile
M	packages/ptc/Makefile
M	packages/ptc/examples/Makefile
M	packages/pthreads/Makefile
M	packages/pxlib/Makefile
M	packages/pxlib/examples/Makefile
M	packages/regexpr/Makefile
M	packages/regexpr/examples/Makefile
M	packages/rexx/Makefile
M	packages/rexx/examples/Makefile
M	packages/rtl-console/Makefile
M	packages/rtl-extra/Makefile
M	packages/rtl-generics/Makefile
M	packages/rtl-objpas/Makefile
M	packages/rtl-unicode/Makefile
M	packages/sdl/Makefile
M	packages/sndfile/Makefile
M	packages/sqlite/Makefile
M	packages/svgalib/Makefile
M	packages/svgalib/examples/Makefile
M	packages/symbolic/Makefile
M	packages/symbolic/examples/Makefile
M	packages/syslog/Makefile
M	packages/syslog/examples/Makefile
M	packages/tcl/Makefile
M	packages/tosunits/Makefile
M	packages/univint/Makefile
M	packages/univint/examples/Makefile
M	packages/unixutil/Makefile
M	packages/unzip/Makefile
M	packages/users/Makefile
M	packages/users/examples/Makefile
M	packages/utmp/Makefile
M	packages/utmp/examples/Makefile
M	packages/uuid/Makefile
M	packages/uuid/examples/Makefile
M	packages/webidl/Makefile
M	packages/winceunits/Makefile
M	packages/winunits-base/Makefile
M	packages/winunits-jedi/Makefile
M	packages/x11/Makefile
M	packages/xforms/Makefile
M	packages/xforms/examples/Makefile
M	packages/zlib/Makefile
M	packages/zorba/Makefile
M	rtl/Makefile
M	rtl/aix/Makefile
M	rtl/amiga/Makefile
M	rtl/android/Makefile
M	rtl/android/jvm/Makefile
M	rtl/aros/Makefile
M	rtl/atari/Makefile
M	rtl/beos/Makefile
M	rtl/darwin/Makefile
M	rtl/dragonfly/Makefile
M	rtl/embedded/Makefile
M	rtl/emx/Makefile
M	rtl/freebsd/Makefile
M	rtl/gba/Makefile
M	rtl/go32v2/Makefile
M	rtl/haiku/Makefile
M	rtl/java/Makefile
M	rtl/linux/Makefile
M	rtl/macos/Makefile
M	rtl/morphos/Makefile
M	rtl/msdos/Makefile
M	rtl/nativent/Makefile
M	rtl/nds/Makefile
M	rtl/netbsd/Makefile
M	rtl/netware/Makefile
M	rtl/netwlibc/Makefile
M	rtl/openbsd/Makefile
M	rtl/os2/Makefile
M	rtl/palmos/Makefile
M	rtl/qnx/Makefile
M	rtl/solaris/Makefile
M	rtl/symbian/Makefile
M	rtl/watcom/Makefile
M	rtl/wii/Makefile
M	rtl/win16/Makefile
M	rtl/win32/Makefile
M	rtl/win64/Makefile
M	rtl/wince/Makefile
M	tests/Makefile
M	tests/tstunits/Makefile
M	tests/utils/Makefile
M	tests/utils/testsuite/Makefile
M	utils/Makefile
M	utils/debugsvr/Makefile
M	utils/debugsvr/console/Makefile
M	utils/debugsvr/gtk/Makefile
M	utils/dxegen/Makefile
M	utils/fpcm/Makefile
M	utils/fpcmkcfg/Makefile
M	utils/fpcres/Makefile
M	utils/fpcreslipo/Makefile
M	utils/fpdoc/Makefile
M	utils/fpdoc/fpde/Makefile
M	utils/fpmc/Makefile
M	utils/fppkg/Makefile
M	utils/fprcp/Makefile
M	utils/h2pas/Makefile
M	utils/importtl/Makefile
M	utils/instantfpc/Makefile
M	utils/json2pas/Makefile
M	utils/mksymbian/Makefile
M	utils/pas2fpm/Makefile
M	utils/pas2jni/Makefile
M	utils/pas2js/Makefile
M	utils/pas2ut/Makefile
M	utils/rmwait/Makefile
M	utils/tply/Makefile
M	utils/unicode/Makefile

******************************************************************************
commit c7a0022146dcba901802ed22e1b1e76652e20883
Author: florian <florian@freepascal.org>
Date:   Fri Oct 5 20:56:56 2018 +0000

    * fix building with LLVM=1, thanks to Karl-Michael Schindler for the hint
    
    git-svn-id: trunk@39861 -

M	compiler/llvm/llvmbase.pas

******************************************************************************
commit e147f6fb48348a0be410cdfc7e94efc6ca3c46a2
Author: Tomas Hajny <hajny@freepascal.org>
Date:   Sun Sep 30 20:49:24 2018 +0000

      * additional tests added similarly to tfexpand.pp to test modified behaviour discussed in bug #34166
    
    git-svn-id: trunk@39848 -

M	tests/test/units/sysutils/tfexpand2.pp

******************************************************************************
commit 352fb866ef19c845756840859c91088f9ed32740
Author: florian <florian@freepascal.org>
Date:   Thu Sep 27 20:24:52 2018 +0000

    * is_range_test returns false if "lower" bound is greater than "upper" bound
    
    git-svn-id: trunk@39837 -

M	.gitattributes
M	compiler/nadd.pas
A	tests/tbs/tb0652.pp

******************************************************************************
commit d5f0d8e30624ea69c18c50a4e200e39552bd1092
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Thu Sep 27 19:44:35 2018 +0000

    * addendum for Mantis #34333: also complain about number of arguments with the maximum number of arguments for Copy ( = 3 ) is exceeded
    
    git-svn-id: trunk@39836 -

M	compiler/ninl.pas

******************************************************************************
commit b4a7d6a82eea9ad71bec75571d7c051cdd68b141
Author: Károly Balogh <karoly@freepascal.org>
Date:   Thu Sep 27 07:04:04 2018 +0000

    cleanup: remove ARMHF-related comments from RISC-V only codepath. no functional change.
    
    git-svn-id: trunk@39827 -

M	compiler/options.pas

******************************************************************************
commit 5cb8bc546e093d2f14206c1aacf9a1112d2255c6
Author: pierre <pierre@freepascal.org>
Date:   Thu Sep 27 06:42:35 2018 +0000

     Fix PACKAGE_VERSION, restore 3.3.1 value
    
    git-svn-id: trunk@39821 -

M	Makefile

******************************************************************************
commit 578e60e6ef29dc5a082fe253ef871908154449a0
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 26 21:56:36 2018 +0000

     Fix default CPUs for riscv32
    
    git-svn-id: trunk@39819 -

M	compiler/options.pas

******************************************************************************
commit 10f72ba2c897fd03477267faeb2d1985780d6e40
Author: pierre <pierre@freepascal.org>
Date:   Wed Sep 26 21:56:03 2018 +0000

     Add missing TFenceFlags and TRoundingMode for riscv32
    
    git-svn-id: trunk@39818 -

M	compiler/riscv32/cpubase.pas

******************************************************************************
commit 51644f497b5a301f39600bb4b799fb3bc606ec73
Author: florian <florian@freepascal.org>
Date:   Wed Sep 26 20:22:13 2018 +0000

    * fixes broken compilation after merging
    
    git-svn-id: trunk@39815 -

M	rtl/linux/system.pp

******************************************************************************
commit a34d4e715ce6bfda8a0c07be4fbfb53f1690808a
Merge: 7082b6e34a 88f83280dc
Author: florian <florian@freepascal.org>
Date:   Wed Sep 26 19:49:08 2018 +0000

    Merged riscv_new branch
    
    git-svn-id: trunk@39813 -

MM	.gitattributes
MM	Makefile.fpc
MM	compiler/Makefile.fpc
MM	compiler/msg/errore.msg
MM	compiler/msgidx.inc
MM	compiler/msgtxt.inc
MM	compiler/nadd.pas
MM	compiler/ncal.pas
MM	compiler/ninl.pas
MM	compiler/psub.pas
MM	compiler/utils/ppuutils/ppudump.pp
MM	compiler/version.pas
MM	packages/fpmkunit/src/fpmkunit.pp
MM	packages/ide/fpmake.pp
MM	rtl/inc/system.inc
MM	rtl/inc/systemh.inc
MM	rtl/linux/osdefs.inc
MM	rtl/linux/system.pp
MM	utils/fpcm/fpcmmain.pp

******************************************************************************
commit 7855b3cf1b46021b2463fcf6987f9229c91d77e3
Author: florian <florian@freepascal.org>
Date:   Sun Sep 16 19:15:30 2018 +0000

    * relax formula for max. nodes to inline
    
    git-svn-id: trunk@39763 -

M	compiler/ncal.pas

******************************************************************************
commit 49e7e5f5129a71a6ef81d712e0a04c650ce6533c
Author: florian <florian@freepascal.org>
Date:   Sun Sep 16 15:27:03 2018 +0000

    * support aitconst_*bit_unaligned in the intel assembler writer, resolves #34222
    
    git-svn-id: trunk@39761 -

M	compiler/x86/agx86int.pas

******************************************************************************
commit a21397e356b523a0c3e5faf45014f104fd64b96e
Author: florian <florian@freepascal.org>
Date:   Sun Sep 16 13:09:36 2018 +0000

    + based on a patch by Laksen, optimize (v>=x) and (v<=y) into (v-x)<(y-x)
    
    git-svn-id: trunk@39759 -

M	compiler/nadd.pas

******************************************************************************
commit 64ad48e89ef7d164e9517d02ec9eb5a124bfd826
Author: florian <florian@freepascal.org>
Date:   Thu Sep 13 20:20:40 2018 +0000

    * forgotten part of r39750
    
    git-svn-id: trunk@39752 -

M	compiler/x86_64/cgcpu.pas
M	compiler/x86_64/cpupi.pas

******************************************************************************
commit 800ce234991a53d652a31090a6bad7b2f40a7856
Author: florian <florian@freepascal.org>
Date:   Wed Sep 12 20:33:18 2018 +0000

    * fixed some issues to get correct values of section_count, works better than before but it is still not perfect for unknown reasons
    
    git-svn-id: trunk@39750 -

M	compiler/aasmdata.pas
M	compiler/cclasses.pas
M	compiler/cresstr.pas
M	compiler/nbas.pas
M	compiler/ncgbas.pas

******************************************************************************
commit c337575f69550827da75588311ecf2714859be15
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Sun Sep 2 16:20:32 2018 +0000

    * fix test 26481: it tests for something different than the incorrect type parameters and in fact the need to fix this highlights the need for the previous changes
    
    git-svn-id: trunk@39704 -

M	tests/webtbs/tw26481.pp

******************************************************************************
commit 70ae0a2dc99eb1fa4a11452e8aa1b5e133389e21
Author: svenbarth <pascaldragon@googlemail.com>
Date:   Fri Aug 31 19:16:48 2018 +0000

    + add a comment to the destructor of tsymtable so that others (and maybe me a well) will hopefully see that the destructor of that class is not completely trivial!
    
    git-svn-id: trunk@39694 -

M	compiler/symbase.pas
